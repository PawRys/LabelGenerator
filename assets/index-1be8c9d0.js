var Gi=Object.defineProperty;var Wi=(b,O,ce)=>O in b?Gi(b,O,{enumerable:!0,configurable:!0,writable:!0,value:ce}):b[O]=ce;var Rt=(b,O,ce)=>(Wi(b,typeof O!="symbol"?O+"":O,ce),ce),qn=(b,O,ce)=>{if(!O.has(b))throw TypeError("Cannot "+ce)};var ye=(b,O,ce)=>(qn(b,O,"read from private field"),ce?ce.call(b):O.get(b)),Be=(b,O,ce)=>{if(O.has(b))throw TypeError("Cannot add the same private member more than once");O instanceof WeakSet?O.add(b):O.set(b,ce)},rt=(b,O,ce,te)=>(qn(b,O,"write to private field"),te?te.call(b,ce):O.set(b,ce),ce),kn=(b,O,ce,te)=>({set _(le){rt(b,O,le,ce)},get _(){return ye(b,O,te)}}),ze=(b,O,ce)=>(qn(b,O,"access private method"),ce);(function(){const O=document.createElement("link").relList;if(O&&O.supports&&O.supports("modulepreload"))return;for(const le of document.querySelectorAll('link[rel="modulepreload"]'))te(le);new MutationObserver(le=>{for(const me of le)if(me.type==="childList")for(const fe of me.addedNodes)fe.tagName==="LINK"&&fe.rel==="modulepreload"&&te(fe)}).observe(document,{childList:!0,subtree:!0});function ce(le){const me={};return le.integrity&&(me.integrity=le.integrity),le.referrerPolicy&&(me.referrerPolicy=le.referrerPolicy),le.crossOrigin==="use-credentials"?me.credentials="include":le.crossOrigin==="anonymous"?me.credentials="omit":me.credentials="same-origin",me}function te(le){if(le.ep)return;le.ep=!0;const me=ce(le);fetch(le.href,me)}})();const base="";function makeMap(b,O){const ce=Object.create(null),te=b.split(",");for(let le=0;le<te.length;le++)ce[te[le]]=!0;return O?le=>!!ce[le.toLowerCase()]:le=>!!ce[le]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=b=>onRE.test(b),isModelListener=b=>b.startsWith("onUpdate:"),extend=Object.assign,remove=(b,O)=>{const ce=b.indexOf(O);ce>-1&&b.splice(ce,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(b,O)=>hasOwnProperty$1.call(b,O),isArray=Array.isArray,isMap=b=>toTypeString(b)==="[object Map]",isSet=b=>toTypeString(b)==="[object Set]",isFunction=b=>typeof b=="function",isString=b=>typeof b=="string",isSymbol=b=>typeof b=="symbol",isObject=b=>b!==null&&typeof b=="object",isPromise=b=>isObject(b)&&isFunction(b.then)&&isFunction(b.catch),objectToString=Object.prototype.toString,toTypeString=b=>objectToString.call(b),toRawType=b=>toTypeString(b).slice(8,-1),isPlainObject$1=b=>toTypeString(b)==="[object Object]",isIntegerKey=b=>isString(b)&&b!=="NaN"&&b[0]!=="-"&&""+parseInt(b,10)===b,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=b=>{const O=Object.create(null);return ce=>O[ce]||(O[ce]=b(ce))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(b=>b.replace(camelizeRE,(O,ce)=>ce?ce.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(b=>b.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(b=>b.charAt(0).toUpperCase()+b.slice(1)),toHandlerKey=cacheStringFunction(b=>b?`on${capitalize(b)}`:""),hasChanged=(b,O)=>!Object.is(b,O),invokeArrayFns=(b,O)=>{for(let ce=0;ce<b.length;ce++)b[ce](O)},def=(b,O,ce)=>{Object.defineProperty(b,O,{configurable:!0,enumerable:!1,value:ce})},looseToNumber=b=>{const O=parseFloat(b);return isNaN(O)?b:O};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(b){if(isArray(b)){const O={};for(let ce=0;ce<b.length;ce++){const te=b[ce],le=isString(te)?parseStringStyle(te):normalizeStyle(te);if(le)for(const me in le)O[me]=le[me]}return O}else{if(isString(b))return b;if(isObject(b))return b}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(b){const O={};return b.replace(styleCommentRE,"").split(listDelimiterRE).forEach(ce=>{if(ce){const te=ce.split(propertyDelimiterRE);te.length>1&&(O[te[0].trim()]=te[1].trim())}}),O}function normalizeClass(b){let O="";if(isString(b))O=b;else if(isArray(b))for(let ce=0;ce<b.length;ce++){const te=normalizeClass(b[ce]);te&&(O+=te+" ")}else if(isObject(b))for(const ce in b)b[ce]&&(O+=ce+" ");return O.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(b){return!!b||b===""}const toDisplayString=b=>isString(b)?b:b==null?"":isArray(b)||isObject(b)&&(b.toString===objectToString||!isFunction(b.toString))?JSON.stringify(b,replacer,2):String(b),replacer=(b,O)=>O&&O.__v_isRef?replacer(b,O.value):isMap(O)?{[`Map(${O.size})`]:[...O.entries()].reduce((ce,[te,le])=>(ce[`${te} =>`]=le,ce),{})}:isSet(O)?{[`Set(${O.size})`]:[...O.values()]}:isObject(O)&&!isArray(O)&&!isPlainObject$1(O)?String(O):O;let activeEffectScope;class EffectScope{constructor(O=!1){this.detached=O,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!O&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(O){if(this._active){const ce=activeEffectScope;try{return activeEffectScope=this,O()}finally{activeEffectScope=ce}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(O){if(this._active){let ce,te;for(ce=0,te=this.effects.length;ce<te;ce++)this.effects[ce].stop();for(ce=0,te=this.cleanups.length;ce<te;ce++)this.cleanups[ce]();if(this.scopes)for(ce=0,te=this.scopes.length;ce<te;ce++)this.scopes[ce].stop(!0);if(!this.detached&&this.parent&&!O){const le=this.parent.scopes.pop();le&&le!==this&&(this.parent.scopes[this.index]=le,le.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(b){return new EffectScope(b)}function recordEffectScope(b,O=activeEffectScope){O&&O.active&&O.effects.push(b)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(b){activeEffectScope&&activeEffectScope.cleanups.push(b)}const createDep=b=>{const O=new Set(b);return O.w=0,O.n=0,O},wasTracked=b=>(b.w&trackOpBit)>0,newTracked=b=>(b.n&trackOpBit)>0,initDepMarkers=({deps:b})=>{if(b.length)for(let O=0;O<b.length;O++)b[O].w|=trackOpBit},finalizeDepMarkers=b=>{const{deps:O}=b;if(O.length){let ce=0;for(let te=0;te<O.length;te++){const le=O[te];wasTracked(le)&&!newTracked(le)?le.delete(b):O[ce++]=le,le.w&=~trackOpBit,le.n&=~trackOpBit}O.length=ce}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(O,ce=null,te){this.fn=O,this.scheduler=ce,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,te)}run(){if(!this.active)return this.fn();let O=activeEffect,ce=shouldTrack;for(;O;){if(O===this)return;O=O.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=ce,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(b){const{deps:O}=b;if(O.length){for(let ce=0;ce<O.length;ce++)O[ce].delete(b);O.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const b=trackStack.pop();shouldTrack=b===void 0?!0:b}function track(b,O,ce){if(shouldTrack&&activeEffect){let te=targetMap.get(b);te||targetMap.set(b,te=new Map);let le=te.get(ce);le||te.set(ce,le=createDep()),trackEffects(le)}}function trackEffects(b,O){let ce=!1;effectTrackDepth<=maxMarkerBits?newTracked(b)||(b.n|=trackOpBit,ce=!wasTracked(b)):ce=!b.has(activeEffect),ce&&(b.add(activeEffect),activeEffect.deps.push(b))}function trigger(b,O,ce,te,le,me){const fe=targetMap.get(b);if(!fe)return;let S=[];if(O==="clear")S=[...fe.values()];else if(ce==="length"&&isArray(b)){const ee=Number(te);fe.forEach((n,l)=>{(l==="length"||l>=ee)&&S.push(n)})}else switch(ce!==void 0&&S.push(fe.get(ce)),O){case"add":isArray(b)?isIntegerKey(ce)&&S.push(fe.get("length")):(S.push(fe.get(ITERATE_KEY)),isMap(b)&&S.push(fe.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(b)||(S.push(fe.get(ITERATE_KEY)),isMap(b)&&S.push(fe.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(b)&&S.push(fe.get(ITERATE_KEY));break}if(S.length===1)S[0]&&triggerEffects(S[0]);else{const ee=[];for(const n of S)n&&ee.push(...n);triggerEffects(createDep(ee))}}function triggerEffects(b,O){const ce=isArray(b)?b:[...b];for(const te of ce)te.computed&&triggerEffect(te);for(const te of ce)te.computed||triggerEffect(te)}function triggerEffect(b,O){(b!==activeEffect||b.allowRecurse)&&(b.scheduler?b.scheduler():b.run())}function getDepFromReactive(b,O){var ce;return(ce=targetMap.get(b))==null?void 0:ce.get(O)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(b=>b!=="arguments"&&b!=="caller").map(b=>Symbol[b]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const b={};return["includes","indexOf","lastIndexOf"].forEach(O=>{b[O]=function(...ce){const te=toRaw(this);for(let me=0,fe=this.length;me<fe;me++)track(te,"get",me+"");const le=te[O](...ce);return le===-1||le===!1?te[O](...ce.map(toRaw)):le}}),["push","pop","shift","unshift","splice"].forEach(O=>{b[O]=function(...ce){pauseTracking();const te=toRaw(this)[O].apply(this,ce);return resetTracking(),te}}),b}function hasOwnProperty(b){const O=toRaw(this);return track(O,"has",b),O.hasOwnProperty(b)}function createGetter(b=!1,O=!1){return function(te,le,me){if(le==="__v_isReactive")return!b;if(le==="__v_isReadonly")return b;if(le==="__v_isShallow")return O;if(le==="__v_raw"&&me===(b?O?shallowReadonlyMap:readonlyMap:O?shallowReactiveMap:reactiveMap).get(te))return te;const fe=isArray(te);if(!b){if(fe&&hasOwn(arrayInstrumentations,le))return Reflect.get(arrayInstrumentations,le,me);if(le==="hasOwnProperty")return hasOwnProperty}const S=Reflect.get(te,le,me);return(isSymbol(le)?builtInSymbols.has(le):isNonTrackableKeys(le))||(b||track(te,"get",le),O)?S:isRef(S)?fe&&isIntegerKey(le)?S:S.value:isObject(S)?b?readonly(S):reactive(S):S}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(b=!1){return function(ce,te,le,me){let fe=ce[te];if(isReadonly(fe)&&isRef(fe)&&!isRef(le))return!1;if(!b&&(!isShallow(le)&&!isReadonly(le)&&(fe=toRaw(fe),le=toRaw(le)),!isArray(ce)&&isRef(fe)&&!isRef(le)))return fe.value=le,!0;const S=isArray(ce)&&isIntegerKey(te)?Number(te)<ce.length:hasOwn(ce,te),ee=Reflect.set(ce,te,le,me);return ce===toRaw(me)&&(S?hasChanged(le,fe)&&trigger(ce,"set",te,le):trigger(ce,"add",te,le)),ee}}function deleteProperty(b,O){const ce=hasOwn(b,O);b[O];const te=Reflect.deleteProperty(b,O);return te&&ce&&trigger(b,"delete",O,void 0),te}function has$1(b,O){const ce=Reflect.has(b,O);return(!isSymbol(O)||!builtInSymbols.has(O))&&track(b,"has",O),ce}function ownKeys(b){return track(b,"iterate",isArray(b)?"length":ITERATE_KEY),Reflect.ownKeys(b)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys},readonlyHandlers={get:readonlyGet,set(b,O){return!0},deleteProperty(b,O){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=b=>b,getProto=b=>Reflect.getPrototypeOf(b);function get(b,O,ce=!1,te=!1){b=b.__v_raw;const le=toRaw(b),me=toRaw(O);ce||(O!==me&&track(le,"get",O),track(le,"get",me));const{has:fe}=getProto(le),S=te?toShallow:ce?toReadonly:toReactive;if(fe.call(le,O))return S(b.get(O));if(fe.call(le,me))return S(b.get(me));b!==le&&b.get(O)}function has(b,O=!1){const ce=this.__v_raw,te=toRaw(ce),le=toRaw(b);return O||(b!==le&&track(te,"has",b),track(te,"has",le)),b===le?ce.has(b):ce.has(b)||ce.has(le)}function size(b,O=!1){return b=b.__v_raw,!O&&track(toRaw(b),"iterate",ITERATE_KEY),Reflect.get(b,"size",b)}function add(b){b=toRaw(b);const O=toRaw(this);return getProto(O).has.call(O,b)||(O.add(b),trigger(O,"add",b,b)),this}function set(b,O){O=toRaw(O);const ce=toRaw(this),{has:te,get:le}=getProto(ce);let me=te.call(ce,b);me||(b=toRaw(b),me=te.call(ce,b));const fe=le.call(ce,b);return ce.set(b,O),me?hasChanged(O,fe)&&trigger(ce,"set",b,O):trigger(ce,"add",b,O),this}function deleteEntry(b){const O=toRaw(this),{has:ce,get:te}=getProto(O);let le=ce.call(O,b);le||(b=toRaw(b),le=ce.call(O,b)),te&&te.call(O,b);const me=O.delete(b);return le&&trigger(O,"delete",b,void 0),me}function clear(){const b=toRaw(this),O=b.size!==0,ce=b.clear();return O&&trigger(b,"clear",void 0,void 0),ce}function createForEach(b,O){return function(te,le){const me=this,fe=me.__v_raw,S=toRaw(fe),ee=O?toShallow:b?toReadonly:toReactive;return!b&&track(S,"iterate",ITERATE_KEY),fe.forEach((n,l)=>te.call(le,ee(n),ee(l),me))}}function createIterableMethod(b,O,ce){return function(...te){const le=this.__v_raw,me=toRaw(le),fe=isMap(me),S=b==="entries"||b===Symbol.iterator&&fe,ee=b==="keys"&&fe,n=le[b](...te),l=ce?toShallow:O?toReadonly:toReactive;return!O&&track(me,"iterate",ee?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:K,done:e}=n.next();return e?{value:K,done:e}:{value:S?[l(K[0]),l(K[1])]:l(K),done:e}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(b){return function(...O){return b==="delete"?!1:this}}function createInstrumentations(){const b={get(me){return get(this,me)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},O={get(me){return get(this,me,!1,!0)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},ce={get(me){return get(this,me,!0)},get size(){return size(this,!0)},has(me){return has.call(this,me,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},te={get(me){return get(this,me,!0,!0)},get size(){return size(this,!0)},has(me){return has.call(this,me,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(me=>{b[me]=createIterableMethod(me,!1,!1),ce[me]=createIterableMethod(me,!0,!1),O[me]=createIterableMethod(me,!1,!0),te[me]=createIterableMethod(me,!0,!0)}),[b,ce,O,te]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(b,O){const ce=O?b?shallowReadonlyInstrumentations:shallowInstrumentations:b?readonlyInstrumentations:mutableInstrumentations;return(te,le,me)=>le==="__v_isReactive"?!b:le==="__v_isReadonly"?b:le==="__v_raw"?te:Reflect.get(hasOwn(ce,le)&&le in te?ce:te,le,me)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(b){switch(b){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(b){return b.__v_skip||!Object.isExtensible(b)?0:targetTypeMap(toRawType(b))}function reactive(b){return isReadonly(b)?b:createReactiveObject(b,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(b){return createReactiveObject(b,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(b){return createReactiveObject(b,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(b,O,ce,te,le){if(!isObject(b)||b.__v_raw&&!(O&&b.__v_isReactive))return b;const me=le.get(b);if(me)return me;const fe=getTargetType(b);if(fe===0)return b;const S=new Proxy(b,fe===2?te:ce);return le.set(b,S),S}function isReactive(b){return isReadonly(b)?isReactive(b.__v_raw):!!(b&&b.__v_isReactive)}function isReadonly(b){return!!(b&&b.__v_isReadonly)}function isShallow(b){return!!(b&&b.__v_isShallow)}function isProxy(b){return isReactive(b)||isReadonly(b)}function toRaw(b){const O=b&&b.__v_raw;return O?toRaw(O):b}function markRaw(b){return def(b,"__v_skip",!0),b}const toReactive=b=>isObject(b)?reactive(b):b,toReadonly=b=>isObject(b)?readonly(b):b;function trackRefValue(b){shouldTrack&&activeEffect&&(b=toRaw(b),trackEffects(b.dep||(b.dep=createDep())))}function triggerRefValue(b,O){b=toRaw(b);const ce=b.dep;ce&&triggerEffects(ce)}function isRef(b){return!!(b&&b.__v_isRef===!0)}function ref(b){return createRef(b,!1)}function createRef(b,O){return isRef(b)?b:new RefImpl(b,O)}class RefImpl{constructor(O,ce){this.__v_isShallow=ce,this.dep=void 0,this.__v_isRef=!0,this._rawValue=ce?O:toRaw(O),this._value=ce?O:toReactive(O)}get value(){return trackRefValue(this),this._value}set value(O){const ce=this.__v_isShallow||isShallow(O)||isReadonly(O);O=ce?O:toRaw(O),hasChanged(O,this._rawValue)&&(this._rawValue=O,this._value=ce?O:toReactive(O),triggerRefValue(this))}}function unref(b){return isRef(b)?b.value:b}const shallowUnwrapHandlers={get:(b,O,ce)=>unref(Reflect.get(b,O,ce)),set:(b,O,ce,te)=>{const le=b[O];return isRef(le)&&!isRef(ce)?(le.value=ce,!0):Reflect.set(b,O,ce,te)}};function proxyRefs(b){return isReactive(b)?b:new Proxy(b,shallowUnwrapHandlers)}function toRefs(b){const O=isArray(b)?new Array(b.length):{};for(const ce in b)O[ce]=propertyToRef(b,ce);return O}class ObjectRefImpl{constructor(O,ce,te){this._object=O,this._key=ce,this._defaultValue=te,this.__v_isRef=!0}get value(){const O=this._object[this._key];return O===void 0?this._defaultValue:O}set value(O){this._object[this._key]=O}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}function propertyToRef(b,O,ce){const te=b[O];return isRef(te)?te:new ObjectRefImpl(b,O,ce)}class ComputedRefImpl{constructor(O,ce,te,le){this._setter=ce,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(O,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!le,this.__v_isReadonly=te}get value(){const O=toRaw(this);return trackRefValue(O),(O._dirty||!O._cacheable)&&(O._dirty=!1,O._value=O.effect.run()),O._value}set value(O){this._setter(O)}}function computed$1(b,O,ce=!1){let te,le;const me=isFunction(b);return me?(te=b,le=NOOP):(te=b.get,le=b.set),new ComputedRefImpl(te,le,me||!le,ce)}function warn(b,...O){}function callWithErrorHandling(b,O,ce,te){let le;try{le=te?b(...te):b()}catch(me){handleError(me,O,ce)}return le}function callWithAsyncErrorHandling(b,O,ce,te){if(isFunction(b)){const me=callWithErrorHandling(b,O,ce,te);return me&&isPromise(me)&&me.catch(fe=>{handleError(fe,O,ce)}),me}const le=[];for(let me=0;me<b.length;me++)le.push(callWithAsyncErrorHandling(b[me],O,ce,te));return le}function handleError(b,O,ce,te=!0){const le=O?O.vnode:null;if(O){let me=O.parent;const fe=O.proxy,S=ce;for(;me;){const n=me.ec;if(n){for(let l=0;l<n.length;l++)if(n[l](b,fe,S)===!1)return}me=me.parent}const ee=O.appContext.config.errorHandler;if(ee){callWithErrorHandling(ee,null,10,[b,fe,S]);return}}logError(b,ce,le,te)}function logError(b,O,ce,te=!0){console.error(b)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(b){const O=currentFlushPromise||resolvedPromise;return b?O.then(this?b.bind(this):b):O}function findInsertionIndex(b){let O=flushIndex+1,ce=queue.length;for(;O<ce;){const te=O+ce>>>1;getId(queue[te])<b?O=te+1:ce=te}return O}function queueJob(b){(!queue.length||!queue.includes(b,isFlushing&&b.allowRecurse?flushIndex+1:flushIndex))&&(b.id==null?queue.push(b):queue.splice(findInsertionIndex(b.id),0,b),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(b){const O=queue.indexOf(b);O>flushIndex&&queue.splice(O,1)}function queuePostFlushCb(b){isArray(b)?pendingPostFlushCbs.push(...b):(!activePostFlushCbs||!activePostFlushCbs.includes(b,b.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(b),queueFlush()}function flushPreFlushCbs(b,O=isFlushing?flushIndex+1:0){for(;O<queue.length;O++){const ce=queue[O];ce&&ce.pre&&(queue.splice(O,1),O--,ce())}}function flushPostFlushCbs(b){if(pendingPostFlushCbs.length){const O=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...O);return}for(activePostFlushCbs=O,activePostFlushCbs.sort((ce,te)=>getId(ce)-getId(te)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=b=>b.id==null?1/0:b.id,comparator=(b,O)=>{const ce=getId(b)-getId(O);if(ce===0){if(b.pre&&!O.pre)return-1;if(O.pre&&!b.pre)return 1}return ce};function flushJobs(b){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const O=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const ce=queue[flushIndex];ce&&ce.active!==!1&&callWithErrorHandling(ce,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(b,O,...ce){if(b.isUnmounted)return;const te=b.vnode.props||EMPTY_OBJ;let le=ce;const me=O.startsWith("update:"),fe=me&&O.slice(7);if(fe&&fe in te){const l=`${fe==="modelValue"?"model":fe}Modifiers`,{number:K,trim:e}=te[l]||EMPTY_OBJ;e&&(le=ce.map(t=>isString(t)?t.trim():t)),K&&(le=ce.map(looseToNumber))}let S,ee=te[S=toHandlerKey(O)]||te[S=toHandlerKey(camelize(O))];!ee&&me&&(ee=te[S=toHandlerKey(hyphenate(O))]),ee&&callWithAsyncErrorHandling(ee,b,6,le);const n=te[S+"Once"];if(n){if(!b.emitted)b.emitted={};else if(b.emitted[S])return;b.emitted[S]=!0,callWithAsyncErrorHandling(n,b,6,le)}}function normalizeEmitsOptions(b,O,ce=!1){const te=O.emitsCache,le=te.get(b);if(le!==void 0)return le;const me=b.emits;let fe={},S=!1;if(!isFunction(b)){const ee=n=>{const l=normalizeEmitsOptions(n,O,!0);l&&(S=!0,extend(fe,l))};!ce&&O.mixins.length&&O.mixins.forEach(ee),b.extends&&ee(b.extends),b.mixins&&b.mixins.forEach(ee)}return!me&&!S?(isObject(b)&&te.set(b,null),null):(isArray(me)?me.forEach(ee=>fe[ee]=null):extend(fe,me),isObject(b)&&te.set(b,fe),fe)}function isEmitListener(b,O){return!b||!isOn(O)?!1:(O=O.slice(2).replace(/Once$/,""),hasOwn(b,O[0].toLowerCase()+O.slice(1))||hasOwn(b,hyphenate(O))||hasOwn(b,O))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(b){const O=currentRenderingInstance;return currentRenderingInstance=b,currentScopeId=b&&b.type.__scopeId||null,O}function pushScopeId(b){currentScopeId=b}function popScopeId(){currentScopeId=null}function withCtx(b,O=currentRenderingInstance,ce){if(!O||b._n)return b;const te=(...le)=>{te._d&&setBlockTracking(-1);const me=setCurrentRenderingInstance(O);let fe;try{fe=b(...le)}finally{setCurrentRenderingInstance(me),te._d&&setBlockTracking(1)}return fe};return te._n=!0,te._c=!0,te._d=!0,te}function markAttrsAccessed(){}function renderComponentRoot(b){const{type:O,vnode:ce,proxy:te,withProxy:le,props:me,propsOptions:[fe],slots:S,attrs:ee,emit:n,render:l,renderCache:K,data:e,setupState:t,ctx:H,inheritAttrs:z}=b;let G,I;const C=setCurrentRenderingInstance(b);try{if(ce.shapeFlag&4){const i=le||te;G=normalizeVNode(l.call(i,i,K,me,t,e,H)),I=ee}else{const i=O;G=normalizeVNode(i.length>1?i(me,{attrs:ee,slots:S,emit:n}):i(me,null)),I=O.props?ee:getFunctionalFallthrough(ee)}}catch(i){blockStack.length=0,handleError(i,b,1),G=createVNode(Comment)}let w=G;if(I&&z!==!1){const i=Object.keys(I),{shapeFlag:F}=w;i.length&&F&7&&(fe&&i.some(isModelListener)&&(I=filterModelListeners(I,fe)),w=cloneVNode(w,I))}return ce.dirs&&(w=cloneVNode(w),w.dirs=w.dirs?w.dirs.concat(ce.dirs):ce.dirs),ce.transition&&(w.transition=ce.transition),G=w,setCurrentRenderingInstance(C),G}const getFunctionalFallthrough=b=>{let O;for(const ce in b)(ce==="class"||ce==="style"||isOn(ce))&&((O||(O={}))[ce]=b[ce]);return O},filterModelListeners=(b,O)=>{const ce={};for(const te in b)(!isModelListener(te)||!(te.slice(9)in O))&&(ce[te]=b[te]);return ce};function shouldUpdateComponent(b,O,ce){const{props:te,children:le,component:me}=b,{props:fe,children:S,patchFlag:ee}=O,n=me.emitsOptions;if(O.dirs||O.transition)return!0;if(ce&&ee>=0){if(ee&1024)return!0;if(ee&16)return te?hasPropsChanged(te,fe,n):!!fe;if(ee&8){const l=O.dynamicProps;for(let K=0;K<l.length;K++){const e=l[K];if(fe[e]!==te[e]&&!isEmitListener(n,e))return!0}}}else return(le||S)&&(!S||!S.$stable)?!0:te===fe?!1:te?fe?hasPropsChanged(te,fe,n):!0:!!fe;return!1}function hasPropsChanged(b,O,ce){const te=Object.keys(O);if(te.length!==Object.keys(b).length)return!0;for(let le=0;le<te.length;le++){const me=te[le];if(O[me]!==b[me]&&!isEmitListener(ce,me))return!0}return!1}function updateHOCHostEl({vnode:b,parent:O},ce){for(;O&&O.subTree===b;)(b=O.vnode).el=ce,O=O.parent}const isSuspense=b=>b.__isSuspense;function queueEffectWithSuspense(b,O){O&&O.pendingBranch?isArray(b)?O.effects.push(...b):O.effects.push(b):queuePostFlushCb(b)}const INITIAL_WATCHER_VALUE={};function watch(b,O,ce){return doWatch(b,O,ce)}function doWatch(b,O,{immediate:ce,deep:te,flush:le,onTrack:me,onTrigger:fe}=EMPTY_OBJ){var S;const ee=getCurrentScope()===((S=currentInstance)==null?void 0:S.scope)?currentInstance:null;let n,l=!1,K=!1;if(isRef(b)?(n=()=>b.value,l=isShallow(b)):isReactive(b)?(n=()=>b,te=!0):isArray(b)?(K=!0,l=b.some(i=>isReactive(i)||isShallow(i)),n=()=>b.map(i=>{if(isRef(i))return i.value;if(isReactive(i))return traverse(i);if(isFunction(i))return callWithErrorHandling(i,ee,2)})):isFunction(b)?O?n=()=>callWithErrorHandling(b,ee,2):n=()=>{if(!(ee&&ee.isUnmounted))return e&&e(),callWithAsyncErrorHandling(b,ee,3,[t])}:n=NOOP,O&&te){const i=n;n=()=>traverse(i())}let e,t=i=>{e=C.onStop=()=>{callWithErrorHandling(i,ee,4)}},H;if(isInSSRComponentSetup)if(t=NOOP,O?ce&&callWithAsyncErrorHandling(O,ee,3,[n(),K?[]:void 0,t]):n(),le==="sync"){const i=useSSRContext();H=i.__watcherHandles||(i.__watcherHandles=[])}else return NOOP;let z=K?new Array(b.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const G=()=>{if(C.active)if(O){const i=C.run();(te||l||(K?i.some((F,B)=>hasChanged(F,z[B])):hasChanged(i,z)))&&(e&&e(),callWithAsyncErrorHandling(O,ee,3,[i,z===INITIAL_WATCHER_VALUE?void 0:K&&z[0]===INITIAL_WATCHER_VALUE?[]:z,t]),z=i)}else C.run()};G.allowRecurse=!!O;let I;le==="sync"?I=G:le==="post"?I=()=>queuePostRenderEffect(G,ee&&ee.suspense):(G.pre=!0,ee&&(G.id=ee.uid),I=()=>queueJob(G));const C=new ReactiveEffect(n,I);O?ce?G():z=C.run():le==="post"?queuePostRenderEffect(C.run.bind(C),ee&&ee.suspense):C.run();const w=()=>{C.stop(),ee&&ee.scope&&remove(ee.scope.effects,C)};return H&&H.push(w),w}function instanceWatch(b,O,ce){const te=this.proxy,le=isString(b)?b.includes(".")?createPathGetter(te,b):()=>te[b]:b.bind(te,te);let me;isFunction(O)?me=O:(me=O.handler,ce=O);const fe=currentInstance;setCurrentInstance(this);const S=doWatch(le,me.bind(te),ce);return fe?setCurrentInstance(fe):unsetCurrentInstance(),S}function createPathGetter(b,O){const ce=O.split(".");return()=>{let te=b;for(let le=0;le<ce.length&&te;le++)te=te[ce[le]];return te}}function traverse(b,O){if(!isObject(b)||b.__v_skip||(O=O||new Set,O.has(b)))return b;if(O.add(b),isRef(b))traverse(b.value,O);else if(isArray(b))for(let ce=0;ce<b.length;ce++)traverse(b[ce],O);else if(isSet(b)||isMap(b))b.forEach(ce=>{traverse(ce,O)});else if(isPlainObject$1(b))for(const ce in b)traverse(b[ce],O);return b}function invokeDirectiveHook(b,O,ce,te){const le=b.dirs,me=O&&O.dirs;for(let fe=0;fe<le.length;fe++){const S=le[fe];me&&(S.oldValue=me[fe].value);let ee=S.dir[te];ee&&(pauseTracking(),callWithAsyncErrorHandling(ee,ce,8,[b.el,S,b,O]),resetTracking())}}function defineComponent(b,O){return isFunction(b)?(()=>extend({name:b.name},O,{setup:b}))():b}const isAsyncWrapper=b=>!!b.type.__asyncLoader,isKeepAlive=b=>b.type.__isKeepAlive;function onActivated(b,O){registerKeepAliveHook(b,"a",O)}function onDeactivated(b,O){registerKeepAliveHook(b,"da",O)}function registerKeepAliveHook(b,O,ce=currentInstance){const te=b.__wdc||(b.__wdc=()=>{let le=ce;for(;le;){if(le.isDeactivated)return;le=le.parent}return b()});if(injectHook(O,te,ce),ce){let le=ce.parent;for(;le&&le.parent;)isKeepAlive(le.parent.vnode)&&injectToKeepAliveRoot(te,O,ce,le),le=le.parent}}function injectToKeepAliveRoot(b,O,ce,te){const le=injectHook(O,b,te,!0);onUnmounted(()=>{remove(te[O],le)},ce)}function injectHook(b,O,ce=currentInstance,te=!1){if(ce){const le=ce[b]||(ce[b]=[]),me=O.__weh||(O.__weh=(...fe)=>{if(ce.isUnmounted)return;pauseTracking(),setCurrentInstance(ce);const S=callWithAsyncErrorHandling(O,ce,b,fe);return unsetCurrentInstance(),resetTracking(),S});return te?le.unshift(me):le.push(me),me}}const createHook=b=>(O,ce=currentInstance)=>(!isInSSRComponentSetup||b==="sp")&&injectHook(b,(...te)=>O(...te),ce),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(b,O=currentInstance){injectHook("ec",b,O)}const COMPONENTS="components",NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(b){return isString(b)?resolveAsset(COMPONENTS,b,!1)||b:b||NULL_DYNAMIC_COMPONENT}function resolveAsset(b,O,ce=!0,te=!1){const le=currentRenderingInstance||currentInstance;if(le){const me=le.type;if(b===COMPONENTS){const S=getComponentName(me,!1);if(S&&(S===O||S===camelize(O)||S===capitalize(camelize(O))))return me}const fe=resolve(le[b]||me[b],O)||resolve(le.appContext[b],O);return!fe&&te?me:fe}}function resolve(b,O){return b&&(b[O]||b[camelize(O)]||b[capitalize(camelize(O))])}function renderList(b,O,ce,te){let le;const me=ce&&ce[te];if(isArray(b)||isString(b)){le=new Array(b.length);for(let fe=0,S=b.length;fe<S;fe++)le[fe]=O(b[fe],fe,void 0,me&&me[fe])}else if(typeof b=="number"){le=new Array(b);for(let fe=0;fe<b;fe++)le[fe]=O(fe+1,fe,void 0,me&&me[fe])}else if(isObject(b))if(b[Symbol.iterator])le=Array.from(b,(fe,S)=>O(fe,S,void 0,me&&me[S]));else{const fe=Object.keys(b);le=new Array(fe.length);for(let S=0,ee=fe.length;S<ee;S++){const n=fe[S];le[S]=O(b[n],n,S,me&&me[S])}}else le=[];return ce&&(ce[te]=le),le}const getPublicInstance=b=>b?isStatefulComponent(b)?getExposeProxy(b)||b.proxy:getPublicInstance(b.parent):null,publicPropertiesMap=extend(Object.create(null),{$:b=>b,$el:b=>b.vnode.el,$data:b=>b.data,$props:b=>b.props,$attrs:b=>b.attrs,$slots:b=>b.slots,$refs:b=>b.refs,$parent:b=>getPublicInstance(b.parent),$root:b=>getPublicInstance(b.root),$emit:b=>b.emit,$options:b=>resolveMergedOptions(b),$forceUpdate:b=>b.f||(b.f=()=>queueJob(b.update)),$nextTick:b=>b.n||(b.n=nextTick.bind(b.proxy)),$watch:b=>instanceWatch.bind(b)}),hasSetupBinding=(b,O)=>b!==EMPTY_OBJ&&!b.__isScriptSetup&&hasOwn(b,O),PublicInstanceProxyHandlers={get({_:b},O){const{ctx:ce,setupState:te,data:le,props:me,accessCache:fe,type:S,appContext:ee}=b;let n;if(O[0]!=="$"){const t=fe[O];if(t!==void 0)switch(t){case 1:return te[O];case 2:return le[O];case 4:return ce[O];case 3:return me[O]}else{if(hasSetupBinding(te,O))return fe[O]=1,te[O];if(le!==EMPTY_OBJ&&hasOwn(le,O))return fe[O]=2,le[O];if((n=b.propsOptions[0])&&hasOwn(n,O))return fe[O]=3,me[O];if(ce!==EMPTY_OBJ&&hasOwn(ce,O))return fe[O]=4,ce[O];shouldCacheAccess&&(fe[O]=0)}}const l=publicPropertiesMap[O];let K,e;if(l)return O==="$attrs"&&track(b,"get",O),l(b);if((K=S.__cssModules)&&(K=K[O]))return K;if(ce!==EMPTY_OBJ&&hasOwn(ce,O))return fe[O]=4,ce[O];if(e=ee.config.globalProperties,hasOwn(e,O))return e[O]},set({_:b},O,ce){const{data:te,setupState:le,ctx:me}=b;return hasSetupBinding(le,O)?(le[O]=ce,!0):te!==EMPTY_OBJ&&hasOwn(te,O)?(te[O]=ce,!0):hasOwn(b.props,O)||O[0]==="$"&&O.slice(1)in b?!1:(me[O]=ce,!0)},has({_:{data:b,setupState:O,accessCache:ce,ctx:te,appContext:le,propsOptions:me}},fe){let S;return!!ce[fe]||b!==EMPTY_OBJ&&hasOwn(b,fe)||hasSetupBinding(O,fe)||(S=me[0])&&hasOwn(S,fe)||hasOwn(te,fe)||hasOwn(publicPropertiesMap,fe)||hasOwn(le.config.globalProperties,fe)},defineProperty(b,O,ce){return ce.get!=null?b._.accessCache[O]=0:hasOwn(ce,"value")&&this.set(b,O,ce.value,null),Reflect.defineProperty(b,O,ce)}};function normalizePropsOrEmits(b){return isArray(b)?b.reduce((O,ce)=>(O[ce]=null,O),{}):b}let shouldCacheAccess=!0;function applyOptions(b){const O=resolveMergedOptions(b),ce=b.proxy,te=b.ctx;shouldCacheAccess=!1,O.beforeCreate&&callHook(O.beforeCreate,b,"bc");const{data:le,computed:me,methods:fe,watch:S,provide:ee,inject:n,created:l,beforeMount:K,mounted:e,beforeUpdate:t,updated:H,activated:z,deactivated:G,beforeDestroy:I,beforeUnmount:C,destroyed:w,unmounted:i,render:F,renderTracked:B,renderTriggered:u,errorCaptured:s,serverPrefetch:o,expose:y,inheritAttrs:r,components:f,directives:m,filters:P}=O;if(n&&resolveInjections(n,te,null),fe)for(const L in fe){const h=fe[L];isFunction(h)&&(te[L]=h.bind(ce))}if(le){const L=le.call(ce,ce);isObject(L)&&(b.data=reactive(L))}if(shouldCacheAccess=!0,me)for(const L in me){const h=me[L],g=isFunction(h)?h.bind(ce,ce):isFunction(h.get)?h.get.bind(ce,ce):NOOP,k=!isFunction(h)&&isFunction(h.set)?h.set.bind(ce):NOOP,D=computed({get:g,set:k});Object.defineProperty(te,L,{enumerable:!0,configurable:!0,get:()=>D.value,set:T=>D.value=T})}if(S)for(const L in S)createWatcher(S[L],te,ce,L);if(ee){const L=isFunction(ee)?ee.call(ce):ee;Reflect.ownKeys(L).forEach(h=>{provide(h,L[h])})}l&&callHook(l,b,"c");function A(L,h){isArray(h)?h.forEach(g=>L(g.bind(ce))):h&&L(h.bind(ce))}if(A(onBeforeMount,K),A(onMounted,e),A(onBeforeUpdate,t),A(onUpdated,H),A(onActivated,z),A(onDeactivated,G),A(onErrorCaptured,s),A(onRenderTracked,B),A(onRenderTriggered,u),A(onBeforeUnmount,C),A(onUnmounted,i),A(onServerPrefetch,o),isArray(y))if(y.length){const L=b.exposed||(b.exposed={});y.forEach(h=>{Object.defineProperty(L,h,{get:()=>ce[h],set:g=>ce[h]=g})})}else b.exposed||(b.exposed={});F&&b.render===NOOP&&(b.render=F),r!=null&&(b.inheritAttrs=r),f&&(b.components=f),m&&(b.directives=m)}function resolveInjections(b,O,ce=NOOP){isArray(b)&&(b=normalizeInject(b));for(const te in b){const le=b[te];let me;isObject(le)?"default"in le?me=inject(le.from||te,le.default,!0):me=inject(le.from||te):me=inject(le),isRef(me)?Object.defineProperty(O,te,{enumerable:!0,configurable:!0,get:()=>me.value,set:fe=>me.value=fe}):O[te]=me}}function callHook(b,O,ce){callWithAsyncErrorHandling(isArray(b)?b.map(te=>te.bind(O.proxy)):b.bind(O.proxy),O,ce)}function createWatcher(b,O,ce,te){const le=te.includes(".")?createPathGetter(ce,te):()=>ce[te];if(isString(b)){const me=O[b];isFunction(me)&&watch(le,me)}else if(isFunction(b))watch(le,b.bind(ce));else if(isObject(b))if(isArray(b))b.forEach(me=>createWatcher(me,O,ce,te));else{const me=isFunction(b.handler)?b.handler.bind(ce):O[b.handler];isFunction(me)&&watch(le,me,b)}}function resolveMergedOptions(b){const O=b.type,{mixins:ce,extends:te}=O,{mixins:le,optionsCache:me,config:{optionMergeStrategies:fe}}=b.appContext,S=me.get(O);let ee;return S?ee=S:!le.length&&!ce&&!te?ee=O:(ee={},le.length&&le.forEach(n=>mergeOptions(ee,n,fe,!0)),mergeOptions(ee,O,fe)),isObject(O)&&me.set(O,ee),ee}function mergeOptions(b,O,ce,te=!1){const{mixins:le,extends:me}=O;me&&mergeOptions(b,me,ce,!0),le&&le.forEach(fe=>mergeOptions(b,fe,ce,!0));for(const fe in O)if(!(te&&fe==="expose")){const S=internalOptionMergeStrats[fe]||ce&&ce[fe];b[fe]=S?S(b[fe],O[fe]):O[fe]}return b}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(b,O){return O?b?function(){return extend(isFunction(b)?b.call(this,this):b,isFunction(O)?O.call(this,this):O)}:O:b}function mergeInject(b,O){return mergeObjectOptions(normalizeInject(b),normalizeInject(O))}function normalizeInject(b){if(isArray(b)){const O={};for(let ce=0;ce<b.length;ce++)O[b[ce]]=b[ce];return O}return b}function mergeAsArray(b,O){return b?[...new Set([].concat(b,O))]:O}function mergeObjectOptions(b,O){return b?extend(Object.create(null),b,O):O}function mergeEmitsOrPropsOptions(b,O){return b?isArray(b)&&isArray(O)?[...new Set([...b,...O])]:extend(Object.create(null),normalizePropsOrEmits(b),normalizePropsOrEmits(O??{})):O}function mergeWatchOptions(b,O){if(!b)return O;if(!O)return b;const ce=extend(Object.create(null),b);for(const te in O)ce[te]=mergeAsArray(b[te],O[te]);return ce}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(b,O){return function(te,le=null){isFunction(te)||(te=extend({},te)),le!=null&&!isObject(le)&&(le=null);const me=createAppContext(),fe=new Set;let S=!1;const ee=me.app={_uid:uid$1++,_component:te,_props:le,_container:null,_context:me,_instance:null,version,get config(){return me.config},set config(n){},use(n,...l){return fe.has(n)||(n&&isFunction(n.install)?(fe.add(n),n.install(ee,...l)):isFunction(n)&&(fe.add(n),n(ee,...l))),ee},mixin(n){return me.mixins.includes(n)||me.mixins.push(n),ee},component(n,l){return l?(me.components[n]=l,ee):me.components[n]},directive(n,l){return l?(me.directives[n]=l,ee):me.directives[n]},mount(n,l,K){if(!S){const e=createVNode(te,le);return e.appContext=me,l&&O?O(e,n):b(e,n,K),S=!0,ee._container=n,n.__vue_app__=ee,getExposeProxy(e.component)||e.component.proxy}},unmount(){S&&(b(null,ee._container),delete ee._container.__vue_app__)},provide(n,l){return me.provides[n]=l,ee},runWithContext(n){currentApp=ee;try{return n()}finally{currentApp=null}}};return ee}}let currentApp=null;function provide(b,O){if(currentInstance){let ce=currentInstance.provides;const te=currentInstance.parent&&currentInstance.parent.provides;te===ce&&(ce=currentInstance.provides=Object.create(te)),ce[b]=O}}function inject(b,O,ce=!1){const te=currentInstance||currentRenderingInstance;if(te||currentApp){const le=te?te.parent==null?te.vnode.appContext&&te.vnode.appContext.provides:te.parent.provides:currentApp._context.provides;if(le&&b in le)return le[b];if(arguments.length>1)return ce&&isFunction(O)?O.call(te&&te.proxy):O}}function hasInjectionContext(){return!!(currentInstance||currentRenderingInstance||currentApp)}function initProps(b,O,ce,te=!1){const le={},me={};def(me,InternalObjectKey,1),b.propsDefaults=Object.create(null),setFullProps(b,O,le,me);for(const fe in b.propsOptions[0])fe in le||(le[fe]=void 0);ce?b.props=te?le:shallowReactive(le):b.type.props?b.props=le:b.props=me,b.attrs=me}function updateProps(b,O,ce,te){const{props:le,attrs:me,vnode:{patchFlag:fe}}=b,S=toRaw(le),[ee]=b.propsOptions;let n=!1;if((te||fe>0)&&!(fe&16)){if(fe&8){const l=b.vnode.dynamicProps;for(let K=0;K<l.length;K++){let e=l[K];if(isEmitListener(b.emitsOptions,e))continue;const t=O[e];if(ee)if(hasOwn(me,e))t!==me[e]&&(me[e]=t,n=!0);else{const H=camelize(e);le[H]=resolvePropValue(ee,S,H,t,b,!1)}else t!==me[e]&&(me[e]=t,n=!0)}}}else{setFullProps(b,O,le,me)&&(n=!0);let l;for(const K in S)(!O||!hasOwn(O,K)&&((l=hyphenate(K))===K||!hasOwn(O,l)))&&(ee?ce&&(ce[K]!==void 0||ce[l]!==void 0)&&(le[K]=resolvePropValue(ee,S,K,void 0,b,!0)):delete le[K]);if(me!==S)for(const K in me)(!O||!hasOwn(O,K))&&(delete me[K],n=!0)}n&&trigger(b,"set","$attrs")}function setFullProps(b,O,ce,te){const[le,me]=b.propsOptions;let fe=!1,S;if(O)for(let ee in O){if(isReservedProp(ee))continue;const n=O[ee];let l;le&&hasOwn(le,l=camelize(ee))?!me||!me.includes(l)?ce[l]=n:(S||(S={}))[l]=n:isEmitListener(b.emitsOptions,ee)||(!(ee in te)||n!==te[ee])&&(te[ee]=n,fe=!0)}if(me){const ee=toRaw(ce),n=S||EMPTY_OBJ;for(let l=0;l<me.length;l++){const K=me[l];ce[K]=resolvePropValue(le,ee,K,n[K],b,!hasOwn(n,K))}}return fe}function resolvePropValue(b,O,ce,te,le,me){const fe=b[ce];if(fe!=null){const S=hasOwn(fe,"default");if(S&&te===void 0){const ee=fe.default;if(fe.type!==Function&&!fe.skipFactory&&isFunction(ee)){const{propsDefaults:n}=le;ce in n?te=n[ce]:(setCurrentInstance(le),te=n[ce]=ee.call(null,O),unsetCurrentInstance())}else te=ee}fe[0]&&(me&&!S?te=!1:fe[1]&&(te===""||te===hyphenate(ce))&&(te=!0))}return te}function normalizePropsOptions(b,O,ce=!1){const te=O.propsCache,le=te.get(b);if(le)return le;const me=b.props,fe={},S=[];let ee=!1;if(!isFunction(b)){const l=K=>{ee=!0;const[e,t]=normalizePropsOptions(K,O,!0);extend(fe,e),t&&S.push(...t)};!ce&&O.mixins.length&&O.mixins.forEach(l),b.extends&&l(b.extends),b.mixins&&b.mixins.forEach(l)}if(!me&&!ee)return isObject(b)&&te.set(b,EMPTY_ARR),EMPTY_ARR;if(isArray(me))for(let l=0;l<me.length;l++){const K=camelize(me[l]);validatePropName(K)&&(fe[K]=EMPTY_OBJ)}else if(me)for(const l in me){const K=camelize(l);if(validatePropName(K)){const e=me[l],t=fe[K]=isArray(e)||isFunction(e)?{type:e}:extend({},e);if(t){const H=getTypeIndex(Boolean,t.type),z=getTypeIndex(String,t.type);t[0]=H>-1,t[1]=z<0||H<z,(H>-1||hasOwn(t,"default"))&&S.push(K)}}}const n=[fe,S];return isObject(b)&&te.set(b,n),n}function validatePropName(b){return b[0]!=="$"}function getType(b){const O=b&&b.toString().match(/^\s*(function|class) (\w+)/);return O?O[2]:b===null?"null":""}function isSameType(b,O){return getType(b)===getType(O)}function getTypeIndex(b,O){return isArray(O)?O.findIndex(ce=>isSameType(ce,b)):isFunction(O)&&isSameType(O,b)?0:-1}const isInternalKey=b=>b[0]==="_"||b==="$stable",normalizeSlotValue=b=>isArray(b)?b.map(normalizeVNode):[normalizeVNode(b)],normalizeSlot=(b,O,ce)=>{if(O._n)return O;const te=withCtx((...le)=>normalizeSlotValue(O(...le)),ce);return te._c=!1,te},normalizeObjectSlots=(b,O,ce)=>{const te=b._ctx;for(const le in b){if(isInternalKey(le))continue;const me=b[le];if(isFunction(me))O[le]=normalizeSlot(le,me,te);else if(me!=null){const fe=normalizeSlotValue(me);O[le]=()=>fe}}},normalizeVNodeSlots=(b,O)=>{const ce=normalizeSlotValue(O);b.slots.default=()=>ce},initSlots=(b,O)=>{if(b.vnode.shapeFlag&32){const ce=O._;ce?(b.slots=toRaw(O),def(O,"_",ce)):normalizeObjectSlots(O,b.slots={})}else b.slots={},O&&normalizeVNodeSlots(b,O);def(b.slots,InternalObjectKey,1)},updateSlots=(b,O,ce)=>{const{vnode:te,slots:le}=b;let me=!0,fe=EMPTY_OBJ;if(te.shapeFlag&32){const S=O._;S?ce&&S===1?me=!1:(extend(le,O),!ce&&S===1&&delete le._):(me=!O.$stable,normalizeObjectSlots(O,le)),fe=O}else O&&(normalizeVNodeSlots(b,O),fe={default:1});if(me)for(const S in le)!isInternalKey(S)&&!(S in fe)&&delete le[S]};function setRef(b,O,ce,te,le=!1){if(isArray(b)){b.forEach((e,t)=>setRef(e,O&&(isArray(O)?O[t]:O),ce,te,le));return}if(isAsyncWrapper(te)&&!le)return;const me=te.shapeFlag&4?getExposeProxy(te.component)||te.component.proxy:te.el,fe=le?null:me,{i:S,r:ee}=b,n=O&&O.r,l=S.refs===EMPTY_OBJ?S.refs={}:S.refs,K=S.setupState;if(n!=null&&n!==ee&&(isString(n)?(l[n]=null,hasOwn(K,n)&&(K[n]=null)):isRef(n)&&(n.value=null)),isFunction(ee))callWithErrorHandling(ee,S,12,[fe,l]);else{const e=isString(ee),t=isRef(ee);if(e||t){const H=()=>{if(b.f){const z=e?hasOwn(K,ee)?K[ee]:l[ee]:ee.value;le?isArray(z)&&remove(z,me):isArray(z)?z.includes(me)||z.push(me):e?(l[ee]=[me],hasOwn(K,ee)&&(K[ee]=l[ee])):(ee.value=[me],b.k&&(l[b.k]=ee.value))}else e?(l[ee]=fe,hasOwn(K,ee)&&(K[ee]=fe)):t&&(ee.value=fe,b.k&&(l[b.k]=fe))};fe?(H.id=-1,queuePostRenderEffect(H,ce)):H()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(b){return baseCreateRenderer(b)}function baseCreateRenderer(b,O){const ce=getGlobalThis();ce.__VUE__=!0;const{insert:te,remove:le,patchProp:me,createElement:fe,createText:S,createComment:ee,setText:n,setElementText:l,parentNode:K,nextSibling:e,setScopeId:t=NOOP,insertStaticContent:H}=b,z=(j,X,R,Z=null,N=null,M=null,c=!1,_=null,W=!!X.dynamicChildren)=>{if(j===X)return;j&&!isSameVNodeType(j,X)&&(Z=E(j),T(j,N,M,!0),j=null),X.patchFlag===-2&&(W=!1,X.dynamicChildren=null);const{type:Y,ref:J,shapeFlag:ae}=X;switch(Y){case Text:G(j,X,R,Z);break;case Comment:I(j,X,R,Z);break;case Static:j==null&&C(X,R,Z,c);break;case Fragment:f(j,X,R,Z,N,M,c,_,W);break;default:ae&1?F(j,X,R,Z,N,M,c,_,W):ae&6?m(j,X,R,Z,N,M,c,_,W):(ae&64||ae&128)&&Y.process(j,X,R,Z,N,M,c,_,W,$)}J!=null&&N&&setRef(J,j&&j.ref,M,X||j,!X)},G=(j,X,R,Z)=>{if(j==null)te(X.el=S(X.children),R,Z);else{const N=X.el=j.el;X.children!==j.children&&n(N,X.children)}},I=(j,X,R,Z)=>{j==null?te(X.el=ee(X.children||""),R,Z):X.el=j.el},C=(j,X,R,Z)=>{[j.el,j.anchor]=H(j.children,X,R,Z,j.el,j.anchor)},w=({el:j,anchor:X},R,Z)=>{let N;for(;j&&j!==X;)N=e(j),te(j,R,Z),j=N;te(X,R,Z)},i=({el:j,anchor:X})=>{let R;for(;j&&j!==X;)R=e(j),le(j),j=R;le(X)},F=(j,X,R,Z,N,M,c,_,W)=>{c=c||X.type==="svg",j==null?B(X,R,Z,N,M,c,_,W):o(j,X,N,M,c,_,W)},B=(j,X,R,Z,N,M,c,_)=>{let W,Y;const{type:J,props:ae,shapeFlag:oe,transition:he,dirs:ne}=j;if(W=j.el=fe(j.type,M,ae&&ae.is,ae),oe&8?l(W,j.children):oe&16&&s(j.children,W,null,Z,N,M&&J!=="foreignObject",c,_),ne&&invokeDirectiveHook(j,null,Z,"created"),u(W,j,j.scopeId,c,Z),ae){for(const de in ae)de!=="value"&&!isReservedProp(de)&&me(W,de,null,ae[de],M,j.children,Z,N,x);"value"in ae&&me(W,"value",null,ae.value),(Y=ae.onVnodeBeforeMount)&&invokeVNodeHook(Y,Z,j)}ne&&invokeDirectiveHook(j,null,Z,"beforeMount");const re=(!N||N&&!N.pendingBranch)&&he&&!he.persisted;re&&he.beforeEnter(W),te(W,X,R),((Y=ae&&ae.onVnodeMounted)||re||ne)&&queuePostRenderEffect(()=>{Y&&invokeVNodeHook(Y,Z,j),re&&he.enter(W),ne&&invokeDirectiveHook(j,null,Z,"mounted")},N)},u=(j,X,R,Z,N)=>{if(R&&t(j,R),Z)for(let M=0;M<Z.length;M++)t(j,Z[M]);if(N){let M=N.subTree;if(X===M){const c=N.vnode;u(j,c,c.scopeId,c.slotScopeIds,N.parent)}}},s=(j,X,R,Z,N,M,c,_,W=0)=>{for(let Y=W;Y<j.length;Y++){const J=j[Y]=_?cloneIfMounted(j[Y]):normalizeVNode(j[Y]);z(null,J,X,R,Z,N,M,c,_)}},o=(j,X,R,Z,N,M,c)=>{const _=X.el=j.el;let{patchFlag:W,dynamicChildren:Y,dirs:J}=X;W|=j.patchFlag&16;const ae=j.props||EMPTY_OBJ,oe=X.props||EMPTY_OBJ;let he;R&&toggleRecurse(R,!1),(he=oe.onVnodeBeforeUpdate)&&invokeVNodeHook(he,R,X,j),J&&invokeDirectiveHook(X,j,R,"beforeUpdate"),R&&toggleRecurse(R,!0);const ne=N&&X.type!=="foreignObject";if(Y?y(j.dynamicChildren,Y,_,R,Z,ne,M):c||h(j,X,_,null,R,Z,ne,M,!1),W>0){if(W&16)r(_,X,ae,oe,R,Z,N);else if(W&2&&ae.class!==oe.class&&me(_,"class",null,oe.class,N),W&4&&me(_,"style",ae.style,oe.style,N),W&8){const re=X.dynamicProps;for(let de=0;de<re.length;de++){const ue=re[de],ge=ae[ue],pe=oe[ue];(pe!==ge||ue==="value")&&me(_,ue,ge,pe,N,j.children,R,Z,x)}}W&1&&j.children!==X.children&&l(_,X.children)}else!c&&Y==null&&r(_,X,ae,oe,R,Z,N);((he=oe.onVnodeUpdated)||J)&&queuePostRenderEffect(()=>{he&&invokeVNodeHook(he,R,X,j),J&&invokeDirectiveHook(X,j,R,"updated")},Z)},y=(j,X,R,Z,N,M,c)=>{for(let _=0;_<X.length;_++){const W=j[_],Y=X[_],J=W.el&&(W.type===Fragment||!isSameVNodeType(W,Y)||W.shapeFlag&70)?K(W.el):R;z(W,Y,J,null,Z,N,M,c,!0)}},r=(j,X,R,Z,N,M,c)=>{if(R!==Z){if(R!==EMPTY_OBJ)for(const _ in R)!isReservedProp(_)&&!(_ in Z)&&me(j,_,R[_],null,c,X.children,N,M,x);for(const _ in Z){if(isReservedProp(_))continue;const W=Z[_],Y=R[_];W!==Y&&_!=="value"&&me(j,_,Y,W,c,X.children,N,M,x)}"value"in Z&&me(j,"value",R.value,Z.value)}},f=(j,X,R,Z,N,M,c,_,W)=>{const Y=X.el=j?j.el:S(""),J=X.anchor=j?j.anchor:S("");let{patchFlag:ae,dynamicChildren:oe,slotScopeIds:he}=X;he&&(_=_?_.concat(he):he),j==null?(te(Y,R,Z),te(J,R,Z),s(X.children,R,J,N,M,c,_,W)):ae>0&&ae&64&&oe&&j.dynamicChildren?(y(j.dynamicChildren,oe,R,N,M,c,_),(X.key!=null||N&&X===N.subTree)&&traverseStaticChildren(j,X,!0)):h(j,X,R,J,N,M,c,_,W)},m=(j,X,R,Z,N,M,c,_,W)=>{X.slotScopeIds=_,j==null?X.shapeFlag&512?N.ctx.activate(X,R,Z,c,W):P(X,R,Z,N,M,c,W):d(j,X,W)},P=(j,X,R,Z,N,M,c)=>{const _=j.component=createComponentInstance(j,Z,N);if(isKeepAlive(j)&&(_.ctx.renderer=$),setupComponent(_),_.asyncDep){if(N&&N.registerDep(_,A),!j.el){const W=_.subTree=createVNode(Comment);I(null,W,X,R)}return}A(_,j,X,R,N,M,c)},d=(j,X,R)=>{const Z=X.component=j.component;if(shouldUpdateComponent(j,X,R))if(Z.asyncDep&&!Z.asyncResolved){L(Z,X,R);return}else Z.next=X,invalidateJob(Z.update),Z.update();else X.el=j.el,Z.vnode=X},A=(j,X,R,Z,N,M,c)=>{const _=()=>{if(j.isMounted){let{next:J,bu:ae,u:oe,parent:he,vnode:ne}=j,re=J,de;toggleRecurse(j,!1),J?(J.el=ne.el,L(j,J,c)):J=ne,ae&&invokeArrayFns(ae),(de=J.props&&J.props.onVnodeBeforeUpdate)&&invokeVNodeHook(de,he,J,ne),toggleRecurse(j,!0);const ue=renderComponentRoot(j),ge=j.subTree;j.subTree=ue,z(ge,ue,K(ge.el),E(ge),j,N,M),J.el=ue.el,re===null&&updateHOCHostEl(j,ue.el),oe&&queuePostRenderEffect(oe,N),(de=J.props&&J.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(de,he,J,ne),N)}else{let J;const{el:ae,props:oe}=X,{bm:he,m:ne,parent:re}=j,de=isAsyncWrapper(X);if(toggleRecurse(j,!1),he&&invokeArrayFns(he),!de&&(J=oe&&oe.onVnodeBeforeMount)&&invokeVNodeHook(J,re,X),toggleRecurse(j,!0),ae&&ie){const ue=()=>{j.subTree=renderComponentRoot(j),ie(ae,j.subTree,j,N,null)};de?X.type.__asyncLoader().then(()=>!j.isUnmounted&&ue()):ue()}else{const ue=j.subTree=renderComponentRoot(j);z(null,ue,R,Z,j,N,M),X.el=ue.el}if(ne&&queuePostRenderEffect(ne,N),!de&&(J=oe&&oe.onVnodeMounted)){const ue=X;queuePostRenderEffect(()=>invokeVNodeHook(J,re,ue),N)}(X.shapeFlag&256||re&&isAsyncWrapper(re.vnode)&&re.vnode.shapeFlag&256)&&j.a&&queuePostRenderEffect(j.a,N),j.isMounted=!0,X=R=Z=null}},W=j.effect=new ReactiveEffect(_,()=>queueJob(Y),j.scope),Y=j.update=()=>W.run();Y.id=j.uid,toggleRecurse(j,!0),Y()},L=(j,X,R)=>{X.component=j;const Z=j.vnode.props;j.vnode=X,j.next=null,updateProps(j,X.props,Z,R),updateSlots(j,X.children,R),pauseTracking(),flushPreFlushCbs(),resetTracking()},h=(j,X,R,Z,N,M,c,_,W=!1)=>{const Y=j&&j.children,J=j?j.shapeFlag:0,ae=X.children,{patchFlag:oe,shapeFlag:he}=X;if(oe>0){if(oe&128){k(Y,ae,R,Z,N,M,c,_,W);return}else if(oe&256){g(Y,ae,R,Z,N,M,c,_,W);return}}he&8?(J&16&&x(Y,N,M),ae!==Y&&l(R,ae)):J&16?he&16?k(Y,ae,R,Z,N,M,c,_,W):x(Y,N,M,!0):(J&8&&l(R,""),he&16&&s(ae,R,Z,N,M,c,_,W))},g=(j,X,R,Z,N,M,c,_,W)=>{j=j||EMPTY_ARR,X=X||EMPTY_ARR;const Y=j.length,J=X.length,ae=Math.min(Y,J);let oe;for(oe=0;oe<ae;oe++){const he=X[oe]=W?cloneIfMounted(X[oe]):normalizeVNode(X[oe]);z(j[oe],he,R,null,N,M,c,_,W)}Y>J?x(j,N,M,!0,!1,ae):s(X,R,Z,N,M,c,_,W,ae)},k=(j,X,R,Z,N,M,c,_,W)=>{let Y=0;const J=X.length;let ae=j.length-1,oe=J-1;for(;Y<=ae&&Y<=oe;){const he=j[Y],ne=X[Y]=W?cloneIfMounted(X[Y]):normalizeVNode(X[Y]);if(isSameVNodeType(he,ne))z(he,ne,R,null,N,M,c,_,W);else break;Y++}for(;Y<=ae&&Y<=oe;){const he=j[ae],ne=X[oe]=W?cloneIfMounted(X[oe]):normalizeVNode(X[oe]);if(isSameVNodeType(he,ne))z(he,ne,R,null,N,M,c,_,W);else break;ae--,oe--}if(Y>ae){if(Y<=oe){const he=oe+1,ne=he<J?X[he].el:Z;for(;Y<=oe;)z(null,X[Y]=W?cloneIfMounted(X[Y]):normalizeVNode(X[Y]),R,ne,N,M,c,_,W),Y++}}else if(Y>oe)for(;Y<=ae;)T(j[Y],N,M,!0),Y++;else{const he=Y,ne=Y,re=new Map;for(Y=ne;Y<=oe;Y++){const Ae=X[Y]=W?cloneIfMounted(X[Y]):normalizeVNode(X[Y]);Ae.key!=null&&re.set(Ae.key,Y)}let de,ue=0;const ge=oe-ne+1;let pe=!1,xe=0;const Ie=new Array(ge);for(Y=0;Y<ge;Y++)Ie[Y]=0;for(Y=he;Y<=ae;Y++){const Ae=j[Y];if(ue>=ge){T(Ae,N,M,!0);continue}let we;if(Ae.key!=null)we=re.get(Ae.key);else for(de=ne;de<=oe;de++)if(Ie[de-ne]===0&&isSameVNodeType(Ae,X[de])){we=de;break}we===void 0?T(Ae,N,M,!0):(Ie[we-ne]=Y+1,we>=xe?xe=we:pe=!0,z(Ae,X[we],R,null,N,M,c,_,W),ue++)}const Fe=pe?getSequence(Ie):EMPTY_ARR;for(de=Fe.length-1,Y=ge-1;Y>=0;Y--){const Ae=ne+Y,we=X[Ae],be=Ae+1<J?X[Ae+1].el:Z;Ie[Y]===0?z(null,we,R,be,N,M,c,_,W):pe&&(de<0||Y!==Fe[de]?D(we,R,be,2):de--)}}},D=(j,X,R,Z,N=null)=>{const{el:M,type:c,transition:_,children:W,shapeFlag:Y}=j;if(Y&6){D(j.component.subTree,X,R,Z);return}if(Y&128){j.suspense.move(X,R,Z);return}if(Y&64){c.move(j,X,R,$);return}if(c===Fragment){te(M,X,R);for(let ae=0;ae<W.length;ae++)D(W[ae],X,R,Z);te(j.anchor,X,R);return}if(c===Static){w(j,X,R);return}if(Z!==2&&Y&1&&_)if(Z===0)_.beforeEnter(M),te(M,X,R),queuePostRenderEffect(()=>_.enter(M),N);else{const{leave:ae,delayLeave:oe,afterLeave:he}=_,ne=()=>te(M,X,R),re=()=>{ae(M,()=>{ne(),he&&he()})};oe?oe(M,ne,re):re()}else te(M,X,R)},T=(j,X,R,Z=!1,N=!1)=>{const{type:M,props:c,ref:_,children:W,dynamicChildren:Y,shapeFlag:J,patchFlag:ae,dirs:oe}=j;if(_!=null&&setRef(_,null,R,j,!0),J&256){X.ctx.deactivate(j);return}const he=J&1&&oe,ne=!isAsyncWrapper(j);let re;if(ne&&(re=c&&c.onVnodeBeforeUnmount)&&invokeVNodeHook(re,X,j),J&6)v(j.component,R,Z);else{if(J&128){j.suspense.unmount(R,Z);return}he&&invokeDirectiveHook(j,null,X,"beforeUnmount"),J&64?j.type.remove(j,X,R,N,$,Z):Y&&(M!==Fragment||ae>0&&ae&64)?x(Y,X,R,!1,!0):(M===Fragment&&ae&384||!N&&J&16)&&x(W,X,R),Z&&V(j)}(ne&&(re=c&&c.onVnodeUnmounted)||he)&&queuePostRenderEffect(()=>{re&&invokeVNodeHook(re,X,j),he&&invokeDirectiveHook(j,null,X,"unmounted")},R)},V=j=>{const{type:X,el:R,anchor:Z,transition:N}=j;if(X===Fragment){q(R,Z);return}if(X===Static){i(j);return}const M=()=>{le(R),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(j.shapeFlag&1&&N&&!N.persisted){const{leave:c,delayLeave:_}=N,W=()=>c(R,M);_?_(j.el,M,W):W()}else M()},q=(j,X)=>{let R;for(;j!==X;)R=e(j),le(j),j=R;le(X)},v=(j,X,R)=>{const{bum:Z,scope:N,update:M,subTree:c,um:_}=j;Z&&invokeArrayFns(Z),N.stop(),M&&(M.active=!1,T(c,j,X,R)),_&&queuePostRenderEffect(_,X),queuePostRenderEffect(()=>{j.isUnmounted=!0},X),X&&X.pendingBranch&&!X.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===X.pendingId&&(X.deps--,X.deps===0&&X.resolve())},x=(j,X,R,Z=!1,N=!1,M=0)=>{for(let c=M;c<j.length;c++)T(j[c],X,R,Z,N)},E=j=>j.shapeFlag&6?E(j.component.subTree):j.shapeFlag&128?j.suspense.next():e(j.anchor||j.el),U=(j,X,R)=>{j==null?X._vnode&&T(X._vnode,null,null,!0):z(X._vnode||null,j,X,null,null,null,R),flushPreFlushCbs(),flushPostFlushCbs(),X._vnode=j},$={p:z,um:T,m:D,r:V,mt:P,mc:s,pc:h,pbc:y,n:E,o:b};let Q,ie;return O&&([Q,ie]=O($)),{render:U,hydrate:Q,createApp:createAppAPI(U,Q)}}function toggleRecurse({effect:b,update:O},ce){b.allowRecurse=O.allowRecurse=ce}function traverseStaticChildren(b,O,ce=!1){const te=b.children,le=O.children;if(isArray(te)&&isArray(le))for(let me=0;me<te.length;me++){const fe=te[me];let S=le[me];S.shapeFlag&1&&!S.dynamicChildren&&((S.patchFlag<=0||S.patchFlag===32)&&(S=le[me]=cloneIfMounted(le[me]),S.el=fe.el),ce||traverseStaticChildren(fe,S)),S.type===Text&&(S.el=fe.el)}}function getSequence(b){const O=b.slice(),ce=[0];let te,le,me,fe,S;const ee=b.length;for(te=0;te<ee;te++){const n=b[te];if(n!==0){if(le=ce[ce.length-1],b[le]<n){O[te]=le,ce.push(te);continue}for(me=0,fe=ce.length-1;me<fe;)S=me+fe>>1,b[ce[S]]<n?me=S+1:fe=S;n<b[ce[me]]&&(me>0&&(O[te]=ce[me-1]),ce[me]=te)}}for(me=ce.length,fe=ce[me-1];me-- >0;)ce[me]=fe,fe=O[fe];return ce}const isTeleport=b=>b.__isTeleport,Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(b=!1){blockStack.push(currentBlock=b?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(b){isBlockTreeEnabled+=b}function setupBlock(b){return b.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(b),b}function createElementBlock(b,O,ce,te,le,me){return setupBlock(createBaseVNode(b,O,ce,te,le,me,!0))}function createBlock(b,O,ce,te,le){return setupBlock(createVNode(b,O,ce,te,le,!0))}function isVNode(b){return b?b.__v_isVNode===!0:!1}function isSameVNodeType(b,O){return b.type===O.type&&b.key===O.key}const InternalObjectKey="__vInternal",normalizeKey=({key:b})=>b??null,normalizeRef=({ref:b,ref_key:O,ref_for:ce})=>(typeof b=="number"&&(b=""+b),b!=null?isString(b)||isRef(b)||isFunction(b)?{i:currentRenderingInstance,r:b,k:O,f:!!ce}:b:null);function createBaseVNode(b,O=null,ce=null,te=0,le=null,me=b===Fragment?0:1,fe=!1,S=!1){const ee={__v_isVNode:!0,__v_skip:!0,type:b,props:O,key:O&&normalizeKey(O),ref:O&&normalizeRef(O),scopeId:currentScopeId,slotScopeIds:null,children:ce,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:me,patchFlag:te,dynamicProps:le,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return S?(normalizeChildren(ee,ce),me&128&&b.normalize(ee)):ce&&(ee.shapeFlag|=isString(ce)?8:16),isBlockTreeEnabled>0&&!fe&&currentBlock&&(ee.patchFlag>0||me&6)&&ee.patchFlag!==32&&currentBlock.push(ee),ee}const createVNode=_createVNode;function _createVNode(b,O=null,ce=null,te=0,le=null,me=!1){if((!b||b===NULL_DYNAMIC_COMPONENT)&&(b=Comment),isVNode(b)){const S=cloneVNode(b,O,!0);return ce&&normalizeChildren(S,ce),isBlockTreeEnabled>0&&!me&&currentBlock&&(S.shapeFlag&6?currentBlock[currentBlock.indexOf(b)]=S:currentBlock.push(S)),S.patchFlag|=-2,S}if(isClassComponent(b)&&(b=b.__vccOpts),O){O=guardReactiveProps(O);let{class:S,style:ee}=O;S&&!isString(S)&&(O.class=normalizeClass(S)),isObject(ee)&&(isProxy(ee)&&!isArray(ee)&&(ee=extend({},ee)),O.style=normalizeStyle(ee))}const fe=isString(b)?1:isSuspense(b)?128:isTeleport(b)?64:isObject(b)?4:isFunction(b)?2:0;return createBaseVNode(b,O,ce,te,le,fe,me,!0)}function guardReactiveProps(b){return b?isProxy(b)||InternalObjectKey in b?extend({},b):b:null}function cloneVNode(b,O,ce=!1){const{props:te,ref:le,patchFlag:me,children:fe}=b,S=O?mergeProps(te||{},O):te;return{__v_isVNode:!0,__v_skip:!0,type:b.type,props:S,key:S&&normalizeKey(S),ref:O&&O.ref?ce&&le?isArray(le)?le.concat(normalizeRef(O)):[le,normalizeRef(O)]:normalizeRef(O):le,scopeId:b.scopeId,slotScopeIds:b.slotScopeIds,children:fe,target:b.target,targetAnchor:b.targetAnchor,staticCount:b.staticCount,shapeFlag:b.shapeFlag,patchFlag:O&&b.type!==Fragment?me===-1?16:me|16:me,dynamicProps:b.dynamicProps,dynamicChildren:b.dynamicChildren,appContext:b.appContext,dirs:b.dirs,transition:b.transition,component:b.component,suspense:b.suspense,ssContent:b.ssContent&&cloneVNode(b.ssContent),ssFallback:b.ssFallback&&cloneVNode(b.ssFallback),el:b.el,anchor:b.anchor,ctx:b.ctx,ce:b.ce}}function createTextVNode(b=" ",O=0){return createVNode(Text,null,b,O)}function createStaticVNode(b,O){const ce=createVNode(Static,null,b);return ce.staticCount=O,ce}function createCommentVNode(b="",O=!1){return O?(openBlock(),createBlock(Comment,null,b)):createVNode(Comment,null,b)}function normalizeVNode(b){return b==null||typeof b=="boolean"?createVNode(Comment):isArray(b)?createVNode(Fragment,null,b.slice()):typeof b=="object"?cloneIfMounted(b):createVNode(Text,null,String(b))}function cloneIfMounted(b){return b.el===null&&b.patchFlag!==-1||b.memo?b:cloneVNode(b)}function normalizeChildren(b,O){let ce=0;const{shapeFlag:te}=b;if(O==null)O=null;else if(isArray(O))ce=16;else if(typeof O=="object")if(te&65){const le=O.default;le&&(le._c&&(le._d=!1),normalizeChildren(b,le()),le._c&&(le._d=!0));return}else{ce=32;const le=O._;!le&&!(InternalObjectKey in O)?O._ctx=currentRenderingInstance:le===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?O._=1:(O._=2,b.patchFlag|=1024))}else isFunction(O)?(O={default:O,_ctx:currentRenderingInstance},ce=32):(O=String(O),te&64?(ce=16,O=[createTextVNode(O)]):ce=8);b.children=O,b.shapeFlag|=ce}function mergeProps(...b){const O={};for(let ce=0;ce<b.length;ce++){const te=b[ce];for(const le in te)if(le==="class")O.class!==te.class&&(O.class=normalizeClass([O.class,te.class]));else if(le==="style")O.style=normalizeStyle([O.style,te.style]);else if(isOn(le)){const me=O[le],fe=te[le];fe&&me!==fe&&!(isArray(me)&&me.includes(fe))&&(O[le]=me?[].concat(me,fe):fe)}else le!==""&&(O[le]=te[le])}return O}function invokeVNodeHook(b,O,ce,te=null){callWithAsyncErrorHandling(b,O,7,[ce,te])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(b,O,ce){const te=b.type,le=(O?O.appContext:b.appContext)||emptyAppContext,me={uid:uid++,vnode:b,type:te,parent:O,appContext:le,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:O?O.provides:Object.create(le.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(te,le),emitsOptions:normalizeEmitsOptions(te,le),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:te.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:ce,suspenseId:ce?ce.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return me.ctx={_:me},me.root=O?O.root:me,me.emit=emit.bind(null,me),b.ce&&b.ce(me),me}let currentInstance=null,internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(b=>currentInstance=b),internalSetCurrentInstance=b=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(O=>O(b)):globalCurrentInstanceSetters[0](b)};const setCurrentInstance=b=>{internalSetCurrentInstance(b),b.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(b){return b.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(b,O=!1){isInSSRComponentSetup=O;const{props:ce,children:te}=b.vnode,le=isStatefulComponent(b);initProps(b,ce,le,O),initSlots(b,te);const me=le?setupStatefulComponent(b,O):void 0;return isInSSRComponentSetup=!1,me}function setupStatefulComponent(b,O){const ce=b.type;b.accessCache=Object.create(null),b.proxy=markRaw(new Proxy(b.ctx,PublicInstanceProxyHandlers));const{setup:te}=ce;if(te){const le=b.setupContext=te.length>1?createSetupContext(b):null;setCurrentInstance(b),pauseTracking();const me=callWithErrorHandling(te,b,0,[b.props,le]);if(resetTracking(),unsetCurrentInstance(),isPromise(me)){if(me.then(unsetCurrentInstance,unsetCurrentInstance),O)return me.then(fe=>{handleSetupResult(b,fe,O)}).catch(fe=>{handleError(fe,b,0)});b.asyncDep=me}else handleSetupResult(b,me,O)}else finishComponentSetup(b,O)}function handleSetupResult(b,O,ce){isFunction(O)?b.type.__ssrInlineRender?b.ssrRender=O:b.render=O:isObject(O)&&(b.setupState=proxyRefs(O)),finishComponentSetup(b,ce)}let compile;function finishComponentSetup(b,O,ce){const te=b.type;if(!b.render){if(!O&&compile&&!te.render){const le=te.template||resolveMergedOptions(b).template;if(le){const{isCustomElement:me,compilerOptions:fe}=b.appContext.config,{delimiters:S,compilerOptions:ee}=te,n=extend(extend({isCustomElement:me,delimiters:S},fe),ee);te.render=compile(le,n)}}b.render=te.render||NOOP}setCurrentInstance(b),pauseTracking(),applyOptions(b),resetTracking(),unsetCurrentInstance()}function getAttrsProxy(b){return b.attrsProxy||(b.attrsProxy=new Proxy(b.attrs,{get(O,ce){return track(b,"get","$attrs"),O[ce]}}))}function createSetupContext(b){const O=ce=>{b.exposed=ce||{}};return{get attrs(){return getAttrsProxy(b)},slots:b.slots,emit:b.emit,expose:O}}function getExposeProxy(b){if(b.exposed)return b.exposeProxy||(b.exposeProxy=new Proxy(proxyRefs(markRaw(b.exposed)),{get(O,ce){if(ce in O)return O[ce];if(ce in publicPropertiesMap)return publicPropertiesMap[ce](b)},has(O,ce){return ce in O||ce in publicPropertiesMap}}))}function getComponentName(b,O=!0){return isFunction(b)?b.displayName||b.name:b.name||O&&b.__name}function isClassComponent(b){return isFunction(b)&&"__vccOpts"in b}const computed=(b,O)=>computed$1(b,O,isInSSRComponentSetup),ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),version="3.3.4",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(b,O,ce)=>{O.insertBefore(b,ce||null)},remove:b=>{const O=b.parentNode;O&&O.removeChild(b)},createElement:(b,O,ce,te)=>{const le=O?doc.createElementNS(svgNS,b):doc.createElement(b,ce?{is:ce}:void 0);return b==="select"&&te&&te.multiple!=null&&le.setAttribute("multiple",te.multiple),le},createText:b=>doc.createTextNode(b),createComment:b=>doc.createComment(b),setText:(b,O)=>{b.nodeValue=O},setElementText:(b,O)=>{b.textContent=O},parentNode:b=>b.parentNode,nextSibling:b=>b.nextSibling,querySelector:b=>doc.querySelector(b),setScopeId(b,O){b.setAttribute(O,"")},insertStaticContent(b,O,ce,te,le,me){const fe=ce?ce.previousSibling:O.lastChild;if(le&&(le===me||le.nextSibling))for(;O.insertBefore(le.cloneNode(!0),ce),!(le===me||!(le=le.nextSibling)););else{templateContainer.innerHTML=te?`<svg>${b}</svg>`:b;const S=templateContainer.content;if(te){const ee=S.firstChild;for(;ee.firstChild;)S.appendChild(ee.firstChild);S.removeChild(ee)}O.insertBefore(S,ce)}return[fe?fe.nextSibling:O.firstChild,ce?ce.previousSibling:O.lastChild]}};function patchClass(b,O,ce){const te=b._vtc;te&&(O=(O?[O,...te]:[...te]).join(" ")),O==null?b.removeAttribute("class"):ce?b.setAttribute("class",O):b.className=O}function patchStyle(b,O,ce){const te=b.style,le=isString(ce);if(ce&&!le){if(O&&!isString(O))for(const me in O)ce[me]==null&&setStyle(te,me,"");for(const me in ce)setStyle(te,me,ce[me])}else{const me=te.display;le?O!==ce&&(te.cssText=ce):O&&b.removeAttribute("style"),"_vod"in b&&(te.display=me)}}const importantRE=/\s*!important$/;function setStyle(b,O,ce){if(isArray(ce))ce.forEach(te=>setStyle(b,O,te));else if(ce==null&&(ce=""),O.startsWith("--"))b.setProperty(O,ce);else{const te=autoPrefix(b,O);importantRE.test(ce)?b.setProperty(hyphenate(te),ce.replace(importantRE,""),"important"):b[te]=ce}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(b,O){const ce=prefixCache[O];if(ce)return ce;let te=camelize(O);if(te!=="filter"&&te in b)return prefixCache[O]=te;te=capitalize(te);for(let le=0;le<prefixes.length;le++){const me=prefixes[le]+te;if(me in b)return prefixCache[O]=me}return O}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(b,O,ce,te,le){if(te&&O.startsWith("xlink:"))ce==null?b.removeAttributeNS(xlinkNS,O.slice(6,O.length)):b.setAttributeNS(xlinkNS,O,ce);else{const me=isSpecialBooleanAttr(O);ce==null||me&&!includeBooleanAttr(ce)?b.removeAttribute(O):b.setAttribute(O,me?"":ce)}}function patchDOMProp(b,O,ce,te,le,me,fe){if(O==="innerHTML"||O==="textContent"){te&&fe(te,le,me),b[O]=ce??"";return}const S=b.tagName;if(O==="value"&&S!=="PROGRESS"&&!S.includes("-")){b._value=ce;const n=S==="OPTION"?b.getAttribute("value"):b.value,l=ce??"";n!==l&&(b.value=l),ce==null&&b.removeAttribute(O);return}let ee=!1;if(ce===""||ce==null){const n=typeof b[O];n==="boolean"?ce=includeBooleanAttr(ce):ce==null&&n==="string"?(ce="",ee=!0):n==="number"&&(ce=0,ee=!0)}try{b[O]=ce}catch{}ee&&b.removeAttribute(O)}function addEventListener$1(b,O,ce,te){b.addEventListener(O,ce,te)}function removeEventListener(b,O,ce,te){b.removeEventListener(O,ce,te)}function patchEvent(b,O,ce,te,le=null){const me=b._vei||(b._vei={}),fe=me[O];if(te&&fe)fe.value=te;else{const[S,ee]=parseName(O);if(te){const n=me[O]=createInvoker(te,le);addEventListener$1(b,S,n,ee)}else fe&&(removeEventListener(b,S,fe,ee),me[O]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(b){let O;if(optionsModifierRE.test(b)){O={};let te;for(;te=b.match(optionsModifierRE);)b=b.slice(0,b.length-te[0].length),O[te[0].toLowerCase()]=!0}return[b[2]===":"?b.slice(3):hyphenate(b.slice(2)),O]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(b,O){const ce=te=>{if(!te._vts)te._vts=Date.now();else if(te._vts<=ce.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(te,ce.value),O,5,[te])};return ce.value=b,ce.attached=getNow(),ce}function patchStopImmediatePropagation(b,O){if(isArray(O)){const ce=b.stopImmediatePropagation;return b.stopImmediatePropagation=()=>{ce.call(b),b._stopped=!0},O.map(te=>le=>!le._stopped&&te&&te(le))}else return O}const nativeOnRE=/^on[a-z]/,patchProp=(b,O,ce,te,le=!1,me,fe,S,ee)=>{O==="class"?patchClass(b,te,le):O==="style"?patchStyle(b,ce,te):isOn(O)?isModelListener(O)||patchEvent(b,O,ce,te,fe):(O[0]==="."?(O=O.slice(1),!0):O[0]==="^"?(O=O.slice(1),!1):shouldSetAsProp(b,O,te,le))?patchDOMProp(b,O,te,me,fe,S,ee):(O==="true-value"?b._trueValue=te:O==="false-value"&&(b._falseValue=te),patchAttr(b,O,te,le))};function shouldSetAsProp(b,O,ce,te){return te?!!(O==="innerHTML"||O==="textContent"||O in b&&nativeOnRE.test(O)&&isFunction(ce)):O==="spellcheck"||O==="draggable"||O==="translate"||O==="form"||O==="list"&&b.tagName==="INPUT"||O==="type"&&b.tagName==="TEXTAREA"||nativeOnRE.test(O)&&isString(ce)?!1:O in b}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:b=>b.stopPropagation(),prevent:b=>b.preventDefault(),self:b=>b.target!==b.currentTarget,ctrl:b=>!b.ctrlKey,shift:b=>!b.shiftKey,alt:b=>!b.altKey,meta:b=>!b.metaKey,left:b=>"button"in b&&b.button!==0,middle:b=>"button"in b&&b.button!==1,right:b=>"button"in b&&b.button!==2,exact:(b,O)=>systemModifiers.some(ce=>b[`${ce}Key`]&&!O.includes(ce))},withModifiers=(b,O)=>(ce,...te)=>{for(let le=0;le<O.length;le++){const me=modifierGuards[O[le]];if(me&&me(ce,O))return}return b(ce,...te)},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...b)=>{const O=ensureRenderer().createApp(...b),{mount:ce}=O;return O.mount=te=>{const le=normalizeContainer(te);if(!le)return;const me=O._component;!isFunction(me)&&!me.render&&!me.template&&(me.template=le.innerHTML),le.innerHTML="";const fe=ce(le,!1,le instanceof SVGElement);return le instanceof Element&&(le.removeAttribute("v-cloak"),le.setAttribute("data-v-app","")),fe},O};function normalizeContainer(b){return isString(b)?document.querySelector(b):b}var isVue2=!1;/*!
  * pinia v2.1.3
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let activePinia;const setActivePinia=b=>activePinia=b,piniaSymbol=Symbol();function isPlainObject(b){return b&&typeof b=="object"&&Object.prototype.toString.call(b)==="[object Object]"&&typeof b.toJSON!="function"}var MutationType;(function(b){b.direct="direct",b.patchObject="patch object",b.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const b=effectScope(!0),O=b.run(()=>ref({}));let ce=[],te=[];const le=markRaw({install(me){setActivePinia(le),le._a=me,me.provide(piniaSymbol,le),me.config.globalProperties.$pinia=le,te.forEach(fe=>ce.push(fe)),te=[]},use(me){return!this._a&&!isVue2?te.push(me):ce.push(me),this},_p:ce,_a:null,_e:b,_s:new Map,state:O});return le}const noop=()=>{};function addSubscription(b,O,ce,te=noop){b.push(O);const le=()=>{const me=b.indexOf(O);me>-1&&(b.splice(me,1),te())};return!ce&&getCurrentScope()&&onScopeDispose(le),le}function triggerSubscriptions(b,...O){b.slice().forEach(ce=>{ce(...O)})}const fallbackRunWithContext=b=>b();function mergeReactiveObjects(b,O){b instanceof Map&&O instanceof Map&&O.forEach((ce,te)=>b.set(te,ce)),b instanceof Set&&O instanceof Set&&O.forEach(b.add,b);for(const ce in O){if(!O.hasOwnProperty(ce))continue;const te=O[ce],le=b[ce];isPlainObject(le)&&isPlainObject(te)&&b.hasOwnProperty(ce)&&!isRef(te)&&!isReactive(te)?b[ce]=mergeReactiveObjects(le,te):b[ce]=te}return b}const skipHydrateSymbol=Symbol();function shouldHydrate(b){return!isPlainObject(b)||!b.hasOwnProperty(skipHydrateSymbol)}const{assign}=Object;function isComputed(b){return!!(isRef(b)&&b.effect)}function createOptionsStore(b,O,ce,te){const{state:le,actions:me,getters:fe}=O,S=ce.state.value[b];let ee;function n(){S||(ce.state.value[b]=le?le():{});const l=toRefs(ce.state.value[b]);return assign(l,me,Object.keys(fe||{}).reduce((K,e)=>(K[e]=markRaw(computed(()=>{setActivePinia(ce);const t=ce._s.get(b);return fe[e].call(t,t)})),K),{}))}return ee=createSetupStore(b,n,O,ce,te,!0),ee}function createSetupStore(b,O,ce={},te,le,me){let fe;const S=assign({actions:{}},ce),ee={deep:!0};let n,l,K=[],e=[],t;const H=te.state.value[b];!me&&!H&&(te.state.value[b]={}),ref({});let z;function G(s){let o;n=l=!1,typeof s=="function"?(s(te.state.value[b]),o={type:MutationType.patchFunction,storeId:b,events:t}):(mergeReactiveObjects(te.state.value[b],s),o={type:MutationType.patchObject,payload:s,storeId:b,events:t});const y=z=Symbol();nextTick().then(()=>{z===y&&(n=!0)}),l=!0,triggerSubscriptions(K,o,te.state.value[b])}const I=me?function(){const{state:o}=ce,y=o?o():{};this.$patch(r=>{assign(r,y)})}:noop;function C(){fe.stop(),K=[],e=[],te._s.delete(b)}function w(s,o){return function(){setActivePinia(te);const y=Array.from(arguments),r=[],f=[];function m(A){r.push(A)}function P(A){f.push(A)}triggerSubscriptions(e,{args:y,name:s,store:F,after:m,onError:P});let d;try{d=o.apply(this&&this.$id===b?this:F,y)}catch(A){throw triggerSubscriptions(f,A),A}return d instanceof Promise?d.then(A=>(triggerSubscriptions(r,A),A)).catch(A=>(triggerSubscriptions(f,A),Promise.reject(A))):(triggerSubscriptions(r,d),d)}}const i={_p:te,$id:b,$onAction:addSubscription.bind(null,e),$patch:G,$reset:I,$subscribe(s,o={}){const y=addSubscription(K,s,o.detached,()=>r()),r=fe.run(()=>watch(()=>te.state.value[b],f=>{(o.flush==="sync"?l:n)&&s({storeId:b,type:MutationType.direct,events:t},f)},assign({},ee,o)));return y},$dispose:C},F=reactive(i);te._s.set(b,F);const B=te._a&&te._a.runWithContext||fallbackRunWithContext,u=te._e.run(()=>(fe=effectScope(),B(()=>fe.run(O))));for(const s in u){const o=u[s];if(isRef(o)&&!isComputed(o)||isReactive(o))me||(H&&shouldHydrate(o)&&(isRef(o)?o.value=H[s]:mergeReactiveObjects(o,H[s])),te.state.value[b][s]=o);else if(typeof o=="function"){const y=w(s,o);u[s]=y,S.actions[s]=o}}return assign(F,u),assign(toRaw(F),u),Object.defineProperty(F,"$state",{get:()=>te.state.value[b],set:s=>{G(o=>{assign(o,s)})}}),te._p.forEach(s=>{assign(F,fe.run(()=>s({store:F,app:te._a,pinia:te,options:S})))}),H&&me&&ce.hydrate&&ce.hydrate(F.$state,H),n=!0,l=!0,F}function defineStore(b,O,ce){let te,le;const me=typeof O=="function";typeof b=="string"?(te=b,le=me?ce:O):(le=b,te=b.id);function fe(S,ee){const n=hasInjectionContext();return S=S||(n?inject(piniaSymbol,null):null),S&&setActivePinia(S),S=activePinia,S._s.has(te)||(me?createSetupStore(te,O,le,S):createOptionsStore(te,le,S)),S._s.get(te)}return fe.$id=te,fe}function getAugmentedNamespace(b){if(b.__esModule)return b;var O=b.default;if(typeof O=="function"){var ce=function te(){if(this instanceof te){var le=[null];le.push.apply(le,arguments);var me=Function.bind.apply(O,le);return new me}return O.apply(this,arguments)};ce.prototype=O.prototype}else ce={};return Object.defineProperty(ce,"__esModule",{value:!0}),Object.keys(b).forEach(function(te){var le=Object.getOwnPropertyDescriptor(b,te);Object.defineProperty(ce,te,le.get?le:{enumerable:!0,get:function(){return b[te]}})}),ce}function commonjsRequire(b){throw new Error('Could not dynamically require "'+b+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(O,ce){module.exports=ce()})(globalThis,()=>(()=>{var __webpack_modules__=[,(b,O)=>{var Fe;Object.defineProperty(O,"__esModule",{value:!0}),O.VerbosityLevel=O.Util=O.UnknownErrorException=O.UnexpectedResponseException=O.TextRenderingMode=O.RenderingIntentFlag=O.PromiseCapability=O.PermissionFlag=O.PasswordResponses=O.PasswordException=O.PageActionEventType=O.OPS=O.MissingPDFException=O.MAX_IMAGE_SIZE_TO_CACHE=O.LINE_FACTOR=O.LINE_DESCENT_FACTOR=O.InvalidPDFException=O.ImageKind=O.IDENTITY_MATRIX=O.FormatError=O.FeatureTest=O.FONT_IDENTITY_MATRIX=O.DocumentActionEventType=O.CMapCompressionType=O.BaseException=O.BASELINE_FACTOR=O.AnnotationType=O.AnnotationStateModelType=O.AnnotationReviewState=O.AnnotationReplyType=O.AnnotationMode=O.AnnotationMarkedState=O.AnnotationFlag=O.AnnotationFieldFlag=O.AnnotationEditorType=O.AnnotationEditorPrefix=O.AnnotationEditorParamsType=O.AnnotationBorderStyleType=O.AnnotationActionEventType=O.AbortException=void 0,O.assert=D,O.bytesToString=X,O.createValidAbsoluteUrl=V,O.getModificationDate=ue,O.getVerbosityLevel=L,O.info=h,O.isArrayBuffer=re,O.isArrayEqual=de,O.normalizeUnicode=Ie,O.objectFromMap=M,O.objectSize=N,O.setVerbosityLevel=A,O.shadow=q,O.string32=Z,O.stringToBytes=R,O.stringToPDFString=oe,O.stringToUTF8String=he,O.unreachable=k,O.utf8StringToString=ne,O.warn=g;const ce=[1,0,0,1,0,0];O.IDENTITY_MATRIX=ce;const te=[.001,0,0,.001,0,0];O.FONT_IDENTITY_MATRIX=te;const le=1e7;O.MAX_IMAGE_SIZE_TO_CACHE=le;const me=1.35;O.LINE_FACTOR=me;const fe=.35;O.LINE_DESCENT_FACTOR=fe;const S=fe/me;O.BASELINE_FACTOR=S;const ee={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};O.RenderingIntentFlag=ee;const n={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};O.AnnotationMode=n;const l="pdfjs_internal_editor_";O.AnnotationEditorPrefix=l;const K={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};O.AnnotationEditorType=K;const e={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};O.AnnotationEditorParamsType=e;const t={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};O.PermissionFlag=t;const H={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};O.TextRenderingMode=H;const z={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};O.ImageKind=z;const G={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};O.AnnotationType=G;const I={MARKED:"Marked",REVIEW:"Review"};O.AnnotationStateModelType=I;const C={MARKED:"Marked",UNMARKED:"Unmarked"};O.AnnotationMarkedState=C;const w={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};O.AnnotationReviewState=w;const i={GROUP:"Group",REPLY:"R"};O.AnnotationReplyType=i;const F={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};O.AnnotationFlag=F;const B={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};O.AnnotationFieldFlag=B;const u={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};O.AnnotationBorderStyleType=u;const s={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};O.AnnotationActionEventType=s;const o={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};O.DocumentActionEventType=o;const y={O:"PageOpen",C:"PageClose"};O.PageActionEventType=y;const r={ERRORS:0,WARNINGS:1,INFOS:5};O.VerbosityLevel=r;const f={NONE:0,BINARY:1};O.CMapCompressionType=f;const m={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};O.OPS=m;const P={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};O.PasswordResponses=P;let d=r.WARNINGS;function A(Ae){Number.isInteger(Ae)&&(d=Ae)}function L(){return d}function h(Ae){d>=r.INFOS&&console.log(`Info: ${Ae}`)}function g(Ae){d>=r.WARNINGS&&console.log(`Warning: ${Ae}`)}function k(Ae){throw new Error(Ae)}function D(Ae,we){Ae||k(we)}function T(Ae){switch(Ae==null?void 0:Ae.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function V(Ae,we=null,be=null){if(!Ae)return null;try{if(be&&typeof Ae=="string"){if(be.addDefaultProtocol&&Ae.startsWith("www.")){const _e=Ae.match(/\./g);(_e==null?void 0:_e.length)>=2&&(Ae=`http://${Ae}`)}if(be.tryConvertEncoding)try{Ae=he(Ae)}catch{}}const Ee=we?new URL(Ae,we):new URL(Ae);if(T(Ee))return Ee}catch{}return null}function q(Ae,we,be,Ee=!1){return Object.defineProperty(Ae,we,{value:be,enumerable:!Ee,configurable:!0,writable:!1}),be}const v=function(){function we(be,Ee){this.constructor===we&&k("Cannot initialize BaseException."),this.message=be,this.name=Ee}return we.prototype=new Error,we.constructor=we,we}();O.BaseException=v;class x extends v{constructor(we,be){super(we,"PasswordException"),this.code=be}}O.PasswordException=x;class E extends v{constructor(we,be){super(we,"UnknownErrorException"),this.details=be}}O.UnknownErrorException=E;class U extends v{constructor(we){super(we,"InvalidPDFException")}}O.InvalidPDFException=U;class $ extends v{constructor(we){super(we,"MissingPDFException")}}O.MissingPDFException=$;class Q extends v{constructor(we,be){super(we,"UnexpectedResponseException"),this.status=be}}O.UnexpectedResponseException=Q;class ie extends v{constructor(we){super(we,"FormatError")}}O.FormatError=ie;class j extends v{constructor(we){super(we,"AbortException")}}O.AbortException=j;function X(Ae){(typeof Ae!="object"||(Ae==null?void 0:Ae.length)===void 0)&&k("Invalid argument for bytesToString");const we=Ae.length,be=8192;if(we<be)return String.fromCharCode.apply(null,Ae);const Ee=[];for(let _e=0;_e<we;_e+=be){const Re=Math.min(_e+be,we),Pe=Ae.subarray(_e,Re);Ee.push(String.fromCharCode.apply(null,Pe))}return Ee.join("")}function R(Ae){typeof Ae!="string"&&k("Invalid argument for stringToBytes");const we=Ae.length,be=new Uint8Array(we);for(let Ee=0;Ee<we;++Ee)be[Ee]=Ae.charCodeAt(Ee)&255;return be}function Z(Ae){return String.fromCharCode(Ae>>24&255,Ae>>16&255,Ae>>8&255,Ae&255)}function N(Ae){return Object.keys(Ae).length}function M(Ae){const we=Object.create(null);for(const[be,Ee]of Ae)we[be]=Ee;return we}function c(){const Ae=new Uint8Array(4);return Ae[0]=1,new Uint32Array(Ae.buffer,0,1)[0]===1}function _(){try{return new Function(""),!0}catch{return!1}}class W{static get isLittleEndian(){return q(this,"isLittleEndian",c())}static get isEvalSupported(){return q(this,"isEvalSupported",_())}static get isOffscreenCanvasSupported(){return q(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?q(this,"platform",{isWin:!1,isMac:!1}):q(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}O.FeatureTest=W;const Y=[...Array(256).keys()].map(Ae=>Ae.toString(16).padStart(2,"0"));class J{static makeHexColor(we,be,Ee){return`#${Y[we]}${Y[be]}${Y[Ee]}`}static scaleMinMax(we,be){let Ee;we[0]?(we[0]<0&&(Ee=be[0],be[0]=be[1],be[1]=Ee),be[0]*=we[0],be[1]*=we[0],we[3]<0&&(Ee=be[2],be[2]=be[3],be[3]=Ee),be[2]*=we[3],be[3]*=we[3]):(Ee=be[0],be[0]=be[2],be[2]=Ee,Ee=be[1],be[1]=be[3],be[3]=Ee,we[1]<0&&(Ee=be[2],be[2]=be[3],be[3]=Ee),be[2]*=we[1],be[3]*=we[1],we[2]<0&&(Ee=be[0],be[0]=be[1],be[1]=Ee),be[0]*=we[2],be[1]*=we[2]),be[0]+=we[4],be[1]+=we[4],be[2]+=we[5],be[3]+=we[5]}static transform(we,be){return[we[0]*be[0]+we[2]*be[1],we[1]*be[0]+we[3]*be[1],we[0]*be[2]+we[2]*be[3],we[1]*be[2]+we[3]*be[3],we[0]*be[4]+we[2]*be[5]+we[4],we[1]*be[4]+we[3]*be[5]+we[5]]}static applyTransform(we,be){const Ee=we[0]*be[0]+we[1]*be[2]+be[4],_e=we[0]*be[1]+we[1]*be[3]+be[5];return[Ee,_e]}static applyInverseTransform(we,be){const Ee=be[0]*be[3]-be[1]*be[2],_e=(we[0]*be[3]-we[1]*be[2]+be[2]*be[5]-be[4]*be[3])/Ee,Re=(-we[0]*be[1]+we[1]*be[0]+be[4]*be[1]-be[5]*be[0])/Ee;return[_e,Re]}static getAxialAlignedBoundingBox(we,be){const Ee=J.applyTransform(we,be),_e=J.applyTransform(we.slice(2,4),be),Re=J.applyTransform([we[0],we[3]],be),Pe=J.applyTransform([we[2],we[1]],be);return[Math.min(Ee[0],_e[0],Re[0],Pe[0]),Math.min(Ee[1],_e[1],Re[1],Pe[1]),Math.max(Ee[0],_e[0],Re[0],Pe[0]),Math.max(Ee[1],_e[1],Re[1],Pe[1])]}static inverseTransform(we){const be=we[0]*we[3]-we[1]*we[2];return[we[3]/be,-we[1]/be,-we[2]/be,we[0]/be,(we[2]*we[5]-we[4]*we[3])/be,(we[4]*we[1]-we[5]*we[0])/be]}static singularValueDecompose2dScale(we){const be=[we[0],we[2],we[1],we[3]],Ee=we[0]*be[0]+we[1]*be[2],_e=we[0]*be[1]+we[1]*be[3],Re=we[2]*be[0]+we[3]*be[2],Pe=we[2]*be[1]+we[3]*be[3],ve=(Ee+Pe)/2,Te=Math.sqrt((Ee+Pe)**2-4*(Ee*Pe-Re*_e))/2,je=ve+Te||1,Ce=ve-Te||1;return[Math.sqrt(je),Math.sqrt(Ce)]}static normalizeRect(we){const be=we.slice(0);return we[0]>we[2]&&(be[0]=we[2],be[2]=we[0]),we[1]>we[3]&&(be[1]=we[3],be[3]=we[1]),be}static intersect(we,be){const Ee=Math.max(Math.min(we[0],we[2]),Math.min(be[0],be[2])),_e=Math.min(Math.max(we[0],we[2]),Math.max(be[0],be[2]));if(Ee>_e)return null;const Re=Math.max(Math.min(we[1],we[3]),Math.min(be[1],be[3])),Pe=Math.min(Math.max(we[1],we[3]),Math.max(be[1],be[3]));return Re>Pe?null:[Ee,Re,_e,Pe]}static bezierBoundingBox(we,be,Ee,_e,Re,Pe,ve,Te){const je=[],Ce=[[],[]];let ke,Le,Ge,Oe,tt,Ye,et,Xe;for(let gt=0;gt<2;++gt){if(gt===0?(Le=6*we-12*Ee+6*Re,ke=-3*we+9*Ee-9*Re+3*ve,Ge=3*Ee-3*we):(Le=6*be-12*_e+6*Pe,ke=-3*be+9*_e-9*Pe+3*Te,Ge=3*_e-3*be),Math.abs(ke)<1e-12){if(Math.abs(Le)<1e-12)continue;Oe=-Ge/Le,0<Oe&&Oe<1&&je.push(Oe);continue}et=Le*Le-4*Ge*ke,Xe=Math.sqrt(et),!(et<0)&&(tt=(-Le+Xe)/(2*ke),0<tt&&tt<1&&je.push(tt),Ye=(-Le-Xe)/(2*ke),0<Ye&&Ye<1&&je.push(Ye))}let Qe=je.length,it;const qe=Qe;for(;Qe--;)Oe=je[Qe],it=1-Oe,Ce[0][Qe]=it*it*it*we+3*it*it*Oe*Ee+3*it*Oe*Oe*Re+Oe*Oe*Oe*ve,Ce[1][Qe]=it*it*it*be+3*it*it*Oe*_e+3*it*Oe*Oe*Pe+Oe*Oe*Oe*Te;return Ce[0][qe]=we,Ce[1][qe]=be,Ce[0][qe+1]=ve,Ce[1][qe+1]=Te,Ce[0].length=Ce[1].length=qe+2,[Math.min(...Ce[0]),Math.min(...Ce[1]),Math.max(...Ce[0]),Math.max(...Ce[1])]}}O.Util=J;const ae=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function oe(Ae){if(Ae[0]>="ï"){let be;if(Ae[0]==="þ"&&Ae[1]==="ÿ"?be="utf-16be":Ae[0]==="ÿ"&&Ae[1]==="þ"?be="utf-16le":Ae[0]==="ï"&&Ae[1]==="»"&&Ae[2]==="¿"&&(be="utf-8"),be)try{const Ee=new TextDecoder(be,{fatal:!0}),_e=R(Ae);return Ee.decode(_e)}catch(Ee){g(`stringToPDFString: "${Ee}".`)}}const we=[];for(let be=0,Ee=Ae.length;be<Ee;be++){const _e=ae[Ae.charCodeAt(be)];we.push(_e?String.fromCharCode(_e):Ae.charAt(be))}return we.join("")}function he(Ae){return decodeURIComponent(escape(Ae))}function ne(Ae){return unescape(encodeURIComponent(Ae))}function re(Ae){return typeof Ae=="object"&&(Ae==null?void 0:Ae.byteLength)!==void 0}function de(Ae,we){if(Ae.length!==we.length)return!1;for(let be=0,Ee=Ae.length;be<Ee;be++)if(Ae[be]!==we[be])return!1;return!0}function ue(Ae=new Date){return[Ae.getUTCFullYear().toString(),(Ae.getUTCMonth()+1).toString().padStart(2,"0"),Ae.getUTCDate().toString().padStart(2,"0"),Ae.getUTCHours().toString().padStart(2,"0"),Ae.getUTCMinutes().toString().padStart(2,"0"),Ae.getUTCSeconds().toString().padStart(2,"0")].join("")}class ge{constructor(){Be(this,Fe,!1);this.promise=new Promise((we,be)=>{this.resolve=Ee=>{rt(this,Fe,!0),we(Ee)},this.reject=Ee=>{rt(this,Fe,!0),be(Ee)}})}get settled(){return ye(this,Fe)}}Fe=new WeakMap,O.PromiseCapability=ge;let pe=null,xe=null;function Ie(Ae){return pe||(pe=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,xe=new Map([["ﬅ","ſt"]])),Ae.replaceAll(pe,(we,be,Ee)=>be?be.normalize("NFKC"):xe.get(Ee))}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var b,ce,te,le,un,fe,Fn,ee,n,l,K,e,t,H,z,Vn,I,C,Kn,i,F;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultFilterFactory=_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:u,NodeCMapReaderFactory:s,NodeFilterFactory:o,NodeStandardFontDataFactory:y}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=u,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=s,exports.DefaultFilterFactory=DefaultFilterFactory=o,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=y}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:u}=__w_pdfjs_require__(21);createPDFNetworkStream=s=>new u(s)}else{const{PDFNetworkStream:u}=__w_pdfjs_require__(24),{PDFFetchStream:s}=__w_pdfjs_require__(25);createPDFNetworkStream=o=>(0,_display_utils.isValidFetchUrl)(o.url)?new s(o):new u(o)}function getDocument(u){if(typeof u=="string"||u instanceof URL?u={url:u}:(0,_util.isArrayBuffer)(u)&&(u={data:u}),typeof u!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!u.url&&!u.data&&!u.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const s=new PDFDocumentLoadingTask,{docId:o}=s,y=u.url?getUrlProp(u.url):null,r=u.data?getDataProp(u.data):null,f=u.httpHeaders||null,m=u.withCredentials===!0,P=u.password??null,d=u.range instanceof PDFDataRangeTransport?u.range:null,A=Number.isInteger(u.rangeChunkSize)&&u.rangeChunkSize>0?u.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let L=u.worker instanceof PDFWorker?u.worker:null;const h=u.verbosity,g=typeof u.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(u.docBaseUrl)?u.docBaseUrl:null,k=typeof u.cMapUrl=="string"?u.cMapUrl:null,D=u.cMapPacked!==!1,T=u.CMapReaderFactory||DefaultCMapReaderFactory,V=typeof u.standardFontDataUrl=="string"?u.standardFontDataUrl:null,q=u.StandardFontDataFactory||DefaultStandardFontDataFactory,v=u.stopAtErrors!==!0,x=Number.isInteger(u.maxImageSize)&&u.maxImageSize>-1?u.maxImageSize:-1,E=u.isEvalSupported!==!1,U=typeof u.isOffscreenCanvasSupported=="boolean"?u.isOffscreenCanvasSupported:!_is_node.isNodeJS,$=Number.isInteger(u.canvasMaxAreaInBytes)?u.canvasMaxAreaInBytes:-1,Q=typeof u.disableFontFace=="boolean"?u.disableFontFace:_is_node.isNodeJS,ie=u.fontExtraProperties===!0,j=u.enableXfa===!0,X=u.ownerDocument||globalThis.document,R=u.disableRange===!0,Z=u.disableStream===!0,N=u.disableAutoFetch===!0,M=u.pdfBug===!0,c=d?d.length:u.length??NaN,_=typeof u.useSystemFonts=="boolean"?u.useSystemFonts:!_is_node.isNodeJS&&!Q,W=typeof u.useWorkerFetch=="boolean"?u.useWorkerFetch:T===_display_utils.DOMCMapReaderFactory&&q===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(k,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(V,document.baseURI),Y=u.canvasFactory||new DefaultCanvasFactory({ownerDocument:X}),J=u.filterFactory||new DefaultFilterFactory({docId:o,ownerDocument:X}),ae=null;(0,_util.setVerbosityLevel)(h);const oe={canvasFactory:Y,filterFactory:J};if(W||(oe.cMapReaderFactory=new T({baseUrl:k,isCompressed:D}),oe.standardFontDataFactory=new q({baseUrl:V})),!L){const re={verbosity:h,port:_worker_options.GlobalWorkerOptions.workerPort};L=re.port?PDFWorker.fromPort(re):new PDFWorker(re),s._worker=L}const he={docId:o,apiVersion:"3.7.107",data:r,password:P,disableAutoFetch:N,rangeChunkSize:A,length:c,docBaseUrl:g,enableXfa:j,evaluatorOptions:{maxImageSize:x,disableFontFace:Q,ignoreErrors:v,isEvalSupported:E,isOffscreenCanvasSupported:U,canvasMaxAreaInBytes:$,fontExtraProperties:ie,useSystemFonts:_,cMapUrl:W?k:null,standardFontDataUrl:W?V:null}},ne={ignoreErrors:v,isEvalSupported:E,disableFontFace:Q,fontExtraProperties:ie,enableXfa:j,ownerDocument:X,disableAutoFetch:N,pdfBug:M,styleElement:ae};return L.promise.then(function(){if(s.destroyed)throw new Error("Loading aborted");const re=_fetchDocument(L,he),de=new Promise(function(ue){let ge;d?ge=new _transport_stream.PDFDataTransportStream({length:c,initialData:d.initialData,progressiveDone:d.progressiveDone,contentDispositionFilename:d.contentDispositionFilename,disableRange:R,disableStream:Z},d):r||(ge=createPDFNetworkStream({url:y,length:c,httpHeaders:f,withCredentials:m,rangeChunkSize:A,disableRange:R,disableStream:Z})),ue(ge)});return Promise.all([re,de]).then(function([ue,ge]){if(s.destroyed)throw new Error("Loading aborted");const pe=new _message_handler.MessageHandler(o,ue,L.port),xe=new WorkerTransport(pe,s,ge,ne,oe);s._transport=xe,pe.send("Ready",null)})}).catch(s._capability.reject),s}async function _fetchDocument(u,s){if(u.destroyed)throw new Error("Worker was destroyed");const o=await u.messageHandler.sendWithPromise("GetDocRequest",s,s.data?[s.data.buffer]:null);if(u.destroyed)throw new Error("Worker was destroyed");return o}function getUrlProp(u){if(u instanceof URL)return u.href;try{return new URL(u,window.location).href}catch{if(_is_node.isNodeJS&&typeof u=="string")return u}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(u){if(_is_node.isNodeJS&&typeof Buffer<"u"&&u instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(u);if(u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength)return u;if(typeof u=="string")return(0,_util.stringToBytes)(u);if(typeof u=="object"&&!isNaN(u==null?void 0:u.length)||(0,_util.isArrayBuffer)(u))return new Uint8Array(u);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const O=class{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${kn(O,b)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var s;this.destroyed=!0,await((s=this._transport)==null?void 0:s.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=O;b=new WeakMap,Be(PDFDocumentLoadingTask,b,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(s,o,y=!1,r=null){this.length=s,this.initialData=o,this.progressiveDone=y,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(s){this._rangeListeners.push(s)}addProgressListener(s){this._progressListeners.push(s)}addProgressiveReadListener(s){this._progressiveReadListeners.push(s)}addProgressiveDoneListener(s){this._progressiveDoneListeners.push(s)}onDataRange(s,o){for(const y of this._rangeListeners)y(s,o)}onDataProgress(s,o){this._readyCapability.promise.then(()=>{for(const y of this._progressListeners)y(s,o)})}onDataProgressiveRead(s){this._readyCapability.promise.then(()=>{for(const o of this._progressiveReadListeners)o(s)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const s of this._progressiveDoneListeners)s()})}transportReady(){this._readyCapability.resolve()}requestDataRange(s,o){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(s,o){this._pdfInfo=s,this._transport=o}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(s){return this._transport.getPage(s)}getPageIndex(s){return this._transport.getPageIndex(s)}getDestinations(){return this._transport.getDestinations()}getDestination(s){return this._transport.getDestination(s)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(s=!1){return this._transport.startCleanup(s||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(s,o,y,r=!1){Be(this,le);Be(this,fe);Be(this,ce,null);Be(this,te,!1);this._pageIndex=s,this._pageInfo=o,this._transport=y,this._stats=r?new _display_utils.StatTimer:null,this._pdfBug=r,this.commonObjs=y.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:s,rotation:o=this.rotate,offsetX:y=0,offsetY:r=0,dontFlip:f=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:s,rotation:o,offsetX:y,offsetY:r,dontFlip:f})}getAnnotations({intent:s="display"}={}){const o=this._transport.getRenderingIntent(s);return this._transport.getAnnotations(this._pageIndex,o.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var s;return((s=this._transport._htmlForXfa)==null?void 0:s.children[this._pageIndex])||null}render({canvasContext:s,viewport:o,intent:y="display",annotationMode:r=_util.AnnotationMode.ENABLE,transform:f=null,background:m=null,optionalContentConfigPromise:P=null,annotationCanvasMap:d=null,pageColors:A=null,printAnnotationStorage:L=null}){var q,v,x;if((q=arguments[0])!=null&&q.canvasFactory)throw new Error("render no longer accepts the `canvasFactory`-option, please pass it to the `getDocument`-function instead.");(v=this._stats)==null||v.time("Overall");const h=this._transport.getRenderingIntent(y,r,L);rt(this,te,!1),ze(this,fe,Fn).call(this),P||(P=this._transport.getOptionalContentConfig());let g=this._intentStates.get(h.cacheKey);g||(g=Object.create(null),this._intentStates.set(h.cacheKey,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const k=!!(h.renderingIntent&_util.RenderingIntentFlag.PRINT);g.displayReadyCapability||(g.displayReadyCapability=new _util.PromiseCapability,g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(x=this._stats)==null||x.time("Page Request"),this._pumpOperatorList(h));const D=E=>{var U,$;g.renderTasks.delete(T),(this._maybeCleanupAfterRender||k)&&rt(this,te,!0),ze(this,le,un).call(this,!k),E?(T.capability.reject(E),this._abortOperatorList({intentState:g,reason:E instanceof Error?E:new Error(E)})):T.capability.resolve(),(U=this._stats)==null||U.timeEnd("Rendering"),($=this._stats)==null||$.timeEnd("Overall")},T=new InternalRenderTask({callback:D,params:{canvasContext:s,viewport:o,transform:f,background:m},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!k,pdfBug:this._pdfBug,pageColors:A});(g.renderTasks||(g.renderTasks=new Set)).add(T);const V=T.task;return Promise.all([g.displayReadyCapability.promise,P]).then(([E,U])=>{var $;if(ye(this,te)){D();return}($=this._stats)==null||$.time("Rendering"),T.initializeGraphics({transparency:E,optionalContentConfig:U}),T.operatorListChanged()}).catch(D),V}getOperatorList({intent:s="display",annotationMode:o=_util.AnnotationMode.ENABLE,printAnnotationStorage:y=null}={}){var d;function r(){m.operatorList.lastChunk&&(m.opListReadCapability.resolve(m.operatorList),m.renderTasks.delete(P))}const f=this._transport.getRenderingIntent(s,o,y,!0);let m=this._intentStates.get(f.cacheKey);m||(m=Object.create(null),this._intentStates.set(f.cacheKey,m));let P;return m.opListReadCapability||(P=Object.create(null),P.operatorListChanged=r,m.opListReadCapability=new _util.PromiseCapability,(m.renderTasks||(m.renderTasks=new Set)).add(P),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(f)),m.opListReadCapability.promise}streamTextContent({includeMarkedContent:s=!1,disableNormalization:o=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:s===!0,disableNormalization:o===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(s={}){if(this._transport._htmlForXfa)return this.getXfa().then(y=>_xfa_text.XfaText.textContent(y));const o=this.streamTextContent(s);return new Promise(function(y,r){function f(){m.read().then(function({value:d,done:A}){if(A){y(P);return}Object.assign(P.styles,d.styles),P.items.push(...d.items),f()},r)}const m=o.getReader(),P={items:[],styles:Object.create(null)};f()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const s=[];for(const o of this._intentStates.values())if(this._abortOperatorList({intentState:o,reason:new Error("Page was destroyed."),force:!0}),!o.opListReadCapability)for(const y of o.renderTasks)s.push(y.completed),y.cancel();return this.objs.clear(),rt(this,te,!1),ze(this,fe,Fn).call(this),Promise.all(s)}cleanup(s=!1){rt(this,te,!0);const o=ze(this,le,un).call(this,!1);return s&&o&&this._stats&&(this._stats=new _display_utils.StatTimer),o}_startRenderPage(s,o){var r,f;const y=this._intentStates.get(o);y&&((r=this._stats)==null||r.timeEnd("Page Request"),(f=y.displayReadyCapability)==null||f.resolve(s))}_renderPageChunk(s,o){for(let y=0,r=s.length;y<r;y++)o.operatorList.fnArray.push(s.fnArray[y]),o.operatorList.argsArray.push(s.argsArray[y]);o.operatorList.lastChunk=s.lastChunk,o.operatorList.separateAnnots=s.separateAnnots;for(const y of o.renderTasks)y.operatorListChanged();s.lastChunk&&ze(this,le,un).call(this,!0)}_pumpOperatorList({renderingIntent:s,cacheKey:o,annotationStorageMap:y}){const f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:s,cacheKey:o,annotationStorage:y}).getReader(),m=this._intentStates.get(o);m.streamReader=f;const P=()=>{f.read().then(({value:d,done:A})=>{if(A){m.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,m),P())},d=>{if(m.streamReader=null,!this._transport.destroyed){if(m.operatorList){m.operatorList.lastChunk=!0;for(const A of m.renderTasks)A.operatorListChanged();ze(this,le,un).call(this,!0)}if(m.displayReadyCapability)m.displayReadyCapability.reject(d);else if(m.opListReadCapability)m.opListReadCapability.reject(d);else throw d}})};P()}_abortOperatorList({intentState:s,reason:o,force:y=!1}){if(s.streamReader){if(s.streamReaderCancelTimeout&&(clearTimeout(s.streamReaderCancelTimeout),s.streamReaderCancelTimeout=null),!y){if(s.renderTasks.size>0)return;if(o instanceof _display_utils.RenderingCancelledException){let r=RENDERING_CANCELLED_TIMEOUT;o.extraDelay>0&&o.extraDelay<1e3&&(r+=o.extraDelay),s.streamReaderCancelTimeout=setTimeout(()=>{s.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:s,reason:o,force:!0})},r);return}}if(s.streamReader.cancel(new _util.AbortException(o.message)).catch(()=>{}),s.streamReader=null,!this._transport.destroyed){for(const[r,f]of this._intentStates)if(f===s){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}ce=new WeakMap,te=new WeakMap,le=new WeakSet,un=function(s=!1){if(ze(this,fe,Fn).call(this),!ye(this,te))return!1;if(s)return rt(this,ce,setTimeout(()=>{rt(this,ce,null),ze(this,le,un).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:o,operatorList:y}of this._intentStates.values())if(o.size>0||!y.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),rt(this,te,!1),!0},fe=new WeakSet,Fn=function(){ye(this,ce)&&(clearTimeout(ye(this,ce)),rt(this,ce,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Be(this,ee,new Set);Be(this,n,Promise.resolve())}postMessage(s,o){const y={data:structuredClone(s,o?{transfer:o}:null)};ye(this,n).then(()=>{for(const r of ye(this,ee))r.call(this,y)})}addEventListener(s,o){ye(this,ee).add(o)}removeEventListener(s,o){ye(this,ee).delete(o)}terminate(){ye(this,ee).clear()}}ee=new WeakMap,n=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const u=(l=document==null?void 0:document.currentScript)==null?void 0:l.src;u&&(PDFWorkerUtil.fallbackWorkerSrc=u.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(u,s){let o;try{if(o=new URL(u),!o.origin||o.origin==="null")return!1}catch{return!1}const y=new URL(s,o);return o.origin===y.origin},PDFWorkerUtil.createCDNWrapper=function(u){const s=`importScripts("${u}");`;return URL.createObjectURL(new Blob([s]))}}const _PDFWorker=class{constructor({name:u=null,port:s=null,verbosity:o=(0,_util.getVerbosityLevel)()}={}){if(s&&ye(_PDFWorker,K).has(s))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=u,this.destroyed=!1,this.verbosity=o,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,s){ye(_PDFWorker,K).set(s,this),this._initializeFromPort(s);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(u){this._port=u,this._messageHandler=new _message_handler.MessageHandler("main","worker",u),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:u}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,u)||(u=PDFWorkerUtil.createCDNWrapper(new URL(u,window.location).href));const s=new Worker(u),o=new _message_handler.MessageHandler("main","worker",s),y=()=>{s.removeEventListener("error",r),o.destroy(),s.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=()=>{this._webWorker||y()};s.addEventListener("error",r),o.on("test",m=>{if(s.removeEventListener("error",r),this.destroyed){y();return}m?(this._messageHandler=o,this._port=s,this._webWorker=s,this._readyCapability.resolve(),o.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),o.destroy(),s.terminate())}),o.on("ready",m=>{if(s.removeEventListener("error",r),this.destroyed){y();return}try{f()}catch{this._setupFakeWorker()}});const f=()=>{const m=new Uint8Array;o.send("test",m,[m.buffer])};f();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(u=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const s=new LoopbackPort;this._port=s;const o=`fake${PDFWorkerUtil.fakeWorkerId++}`,y=new _message_handler.MessageHandler(o+"_worker",o,s);u.setup(y,s);const r=new _message_handler.MessageHandler(o,o+"_worker",s);this._messageHandler=r,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})}).catch(u=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${u.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),ye(_PDFWorker,K).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(u){if(!(u!=null&&u.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return ye(this,K).has(u.port)?ye(this,K).get(u.port):new _PDFWorker(u)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var u;try{return((u=globalThis.pdfjsWorker)==null?void 0:u.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;K=new WeakMap,Be(PDFWorker,K,new WeakMap),exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(s,o,y,r,f){Be(this,z);Be(this,e,new Map);Be(this,t,new Map);Be(this,H,new Map);this.messageHandler=s,this.loadingTask=o,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this._params=r,this.canvasFactory=f.canvasFactory,this.filterFactory=f.filterFactory,this.cMapReaderFactory=f.cMapReaderFactory,this.standardFontDataFactory=f.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=y,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(s,o=_util.AnnotationMode.ENABLE,y=null,r=!1){let f=_util.RenderingIntentFlag.DISPLAY,m=null;switch(s){case"any":f=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":f=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${s}`)}switch(o){case _util.AnnotationMode.DISABLE:f+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:f+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:f+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,m=(f&_util.RenderingIntentFlag.PRINT&&y instanceof _annotation_storage.PrintAnnotationStorage?y:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${o}`)}return r&&(f+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:f,cacheKey:`${f}_${_annotation_storage.AnnotationStorage.getHash(m)}`,annotationStorageMap:m}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const s=[];for(const y of ye(this,t).values())s.push(y._destroy());ye(this,t).clear(),ye(this,H).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const o=this.messageHandler.sendWithPromise("Terminate",null);return s.push(o),Promise.all(s).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),ye(this,e).clear(),this.filterFactory.destroy(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:s,loadingTask:o}=this;s.on("GetReader",(y,r)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=f=>{this._lastProgress={loaded:f.loaded,total:f.total}},r.onPull=()=>{this._fullReader.read().then(function({value:f,done:m}){if(m){r.close();return}(0,_util.assert)(f instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(f),1,[f])}).catch(f=>{r.error(f)})},r.onCancel=f=>{this._fullReader.cancel(f),r.ready.catch(m=>{if(!this.destroyed)throw m})}}),s.on("ReaderHeadersReady",y=>{const r=new _util.PromiseCapability,f=this._fullReader;return f.headersReady.then(()=>{var m;(!f.isStreamingSupported||!f.isRangeSupported)&&(this._lastProgress&&((m=o.onProgress)==null||m.call(o,this._lastProgress)),f.onProgress=P=>{var d;(d=o.onProgress)==null||d.call(o,{loaded:P.loaded,total:P.total})}),r.resolve({isStreamingSupported:f.isStreamingSupported,isRangeSupported:f.isRangeSupported,contentLength:f.contentLength})},r.reject),r.promise}),s.on("GetRangeReader",(y,r)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const f=this._networkStream.getRangeReader(y.begin,y.end);if(!f){r.close();return}r.onPull=()=>{f.read().then(function({value:m,done:P}){if(P){r.close();return}(0,_util.assert)(m instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(m),1,[m])}).catch(m=>{r.error(m)})},r.onCancel=m=>{f.cancel(m),r.ready.catch(P=>{if(!this.destroyed)throw P})}}),s.on("GetDoc",({pdfInfo:y})=>{this._numPages=y.numPages,this._htmlForXfa=y.htmlForXfa,delete y.htmlForXfa,o._capability.resolve(new PDFDocumentProxy(y,this))}),s.on("DocException",function(y){let r;switch(y.name){case"PasswordException":r=new _util.PasswordException(y.message,y.code);break;case"InvalidPDFException":r=new _util.InvalidPDFException(y.message);break;case"MissingPDFException":r=new _util.MissingPDFException(y.message);break;case"UnexpectedResponseException":r=new _util.UnexpectedResponseException(y.message,y.status);break;case"UnknownErrorException":r=new _util.UnknownErrorException(y.message,y.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}o._capability.reject(r)}),s.on("PasswordRequest",y=>{if(this._passwordCapability=new _util.PromiseCapability,o.onPassword){const r=f=>{f instanceof Error?this._passwordCapability.reject(f):this._passwordCapability.resolve({password:f})};try{o.onPassword(r,y.code)}catch(f){this._passwordCapability.reject(f)}}else this._passwordCapability.reject(new _util.PasswordException(y.message,y.code));return this._passwordCapability.promise}),s.on("DataLoaded",y=>{var r;(r=o.onProgress)==null||r.call(o,{loaded:y.length,total:y.length}),this.downloadInfoCapability.resolve(y)}),s.on("StartRenderPage",y=>{if(this.destroyed)return;ye(this,t).get(y.pageIndex)._startRenderPage(y.transparency,y.cacheKey)}),s.on("commonobj",([y,r,f])=>{var m;if(!this.destroyed&&!this.commonObjs.has(y))switch(r){case"Font":const P=this._params;if("error"in f){const L=f.error;(0,_util.warn)(`Error during font loading: ${L}`),this.commonObjs.resolve(y,L);break}const d=P.pdfBug&&((m=globalThis.FontInspector)!=null&&m.enabled)?(L,h)=>globalThis.FontInspector.fontAdded(L,h):null,A=new _font_loader.FontFaceObject(f,{isEvalSupported:P.isEvalSupported,disableFontFace:P.disableFontFace,ignoreErrors:P.ignoreErrors,inspectFont:d});this.fontLoader.bind(A).catch(L=>s.sendWithPromise("FontFallback",{id:y})).finally(()=>{!P.fontExtraProperties&&A.data&&(A.data=null),this.commonObjs.resolve(y,A)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(y,f);break;default:throw new Error(`Got unknown common object type ${r}`)}}),s.on("obj",([y,r,f,m])=>{var d;if(this.destroyed)return;const P=ye(this,t).get(r);if(!P.objs.has(y))switch(f){case"Image":if(P.objs.resolve(y,m),m){let A;if(m.bitmap){const{width:L,height:h}=m;A=L*h*4}else A=((d=m.data)==null?void 0:d.length)||0;A>_util.MAX_IMAGE_SIZE_TO_CACHE&&(P._maybeCleanupAfterRender=!0)}break;case"Pattern":P.objs.resolve(y,m);break;default:throw new Error(`Got unknown object type ${f}`)}}),s.on("DocProgress",y=>{var r;this.destroyed||(r=o.onProgress)==null||r.call(o,{loaded:y.loaded,total:y.total})}),s.on("FetchBuiltInCMap",y=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(y):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),s.on("FetchStandardFontData",y=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(y):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((s=this._fullReader)==null?void 0:s.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(s){if(!Number.isInteger(s)||s<=0||s>this._numPages)return Promise.reject(new Error("Invalid page request."));const o=s-1,y=ye(this,H).get(o);if(y)return y;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:o}).then(f=>{if(this.destroyed)throw new Error("Transport destroyed");const m=new PDFPageProxy(o,f,this,this._params.pdfBug);return ye(this,t).set(o,m),m});return ye(this,H).set(o,r),r}getPageIndex(s){return typeof s!="object"||s===null||!Number.isInteger(s.num)||s.num<0||!Number.isInteger(s.gen)||s.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:s.num,gen:s.gen})}getAnnotations(s,o){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:s,intent:o})}getFieldObjects(){return ze(this,z,Vn).call(this,"GetFieldObjects")}hasJSActions(){return ze(this,z,Vn).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(s){return typeof s!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:s})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(s){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:s})}getStructTree(s){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:s})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(s=>new _optional_content_config.OptionalContentConfig(s))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const s="GetMetadata",o=ye(this,e).get(s);if(o)return o;const y=this.messageHandler.sendWithPromise(s,null).then(r=>{var f,m;return{info:r[0],metadata:r[1]?new _metadata.Metadata(r[1]):null,contentDispositionFilename:((f=this._fullReader)==null?void 0:f.filename)??null,contentLength:((m=this._fullReader)==null?void 0:m.contentLength)??null}});return ye(this,e).set(s,y),y}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(s=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const o of ye(this,t).values())if(!o.cleanup())throw new Error(`startCleanup: Page ${o.pageNumber} is currently rendering.`);this.commonObjs.clear(),s||this.fontLoader.clear(),ye(this,e).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:s,enableXfa:o}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:s,enableXfa:o})}}e=new WeakMap,t=new WeakMap,H=new WeakMap,z=new WeakSet,Vn=function(s,o=null){const y=ye(this,e).get(s);if(y)return y;const r=this.messageHandler.sendWithPromise(s,o);return ye(this,e).set(s,r),r};class PDFObjects{constructor(){Be(this,C);Be(this,I,Object.create(null))}get(s,o=null){if(o){const r=ze(this,C,Kn).call(this,s);return r.capability.promise.then(()=>o(r.data)),null}const y=ye(this,I)[s];if(!(y!=null&&y.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${s}.`);return y.data}has(s){const o=ye(this,I)[s];return(o==null?void 0:o.capability.settled)||!1}resolve(s,o=null){const y=ze(this,C,Kn).call(this,s);y.data=o,y.capability.resolve()}clear(){var s;for(const o in ye(this,I)){const{data:y}=ye(this,I)[o];(s=y==null?void 0:y.bitmap)==null||s.close()}rt(this,I,Object.create(null))}}I=new WeakMap,C=new WeakSet,Kn=function(s){const o=ye(this,I)[s];return o||(ye(this,I)[s]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(s){Be(this,i,null);rt(this,i,s),this.onContinue=null}get promise(){return ye(this,i).capability.promise}cancel(s=0){ye(this,i).cancel(null,s)}get separateAnnots(){const{separateAnnots:s}=ye(this,i).operatorList;if(!s)return!1;const{annotationCanvasMap:o}=ye(this,i);return s.form||s.canvas&&(o==null?void 0:o.size)>0}}i=new WeakMap,exports.RenderTask=RenderTask;const B=class{constructor({callback:s,params:o,objs:y,commonObjs:r,annotationCanvasMap:f,operatorList:m,pageIndex:P,canvasFactory:d,filterFactory:A,useRequestAnimationFrame:L=!1,pdfBug:h=!1,pageColors:g=null}){this.callback=s,this.params=o,this.objs=y,this.commonObjs=r,this.annotationCanvasMap=f,this.operatorListIdx=null,this.operatorList=m,this._pageIndex=P,this.canvasFactory=d,this.filterFactory=A,this._pdfBug=h,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=L===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=o.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:s=!1,optionalContentConfig:o}){var P,d;if(this.cancelled)return;if(this._canvas){if(ye(B,F).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ye(B,F).add(this._canvas)}this._pdfBug&&((P=globalThis.StepperManager)!=null&&P.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:y,viewport:r,transform:f,background:m}=this.params;this.gfx=new _canvas.CanvasGraphics(y,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:o},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:f,viewport:r,transparency:s,background:m}),this.operatorListIdx=0,this.graphicsReady=!0,(d=this.graphicsReadyCallback)==null||d.call(this)}cancel(s=null,o=0){var y;this.running=!1,this.cancelled=!0,(y=this.gfx)==null||y.endDrawing(),this._canvas&&ye(B,F).delete(this._canvas),this.callback(s||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",o))}operatorListChanged(){var s;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(s=this.stepper)==null||s.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(this.pageColors),this._canvas&&ye(B,F).delete(this._canvas),this.callback())))}};let InternalRenderTask=B;F=new WeakMap,Be(InternalRenderTask,F,new WeakSet);const version="3.7.107";exports.version=version;const build="036f855dc";exports.build=build},(b,O,ce)=>{var ee,n,l,gi,e;Object.defineProperty(O,"__esModule",{value:!0}),O.PrintAnnotationStorage=O.AnnotationStorage=void 0;var te=ce(1),le=ce(4),me=ce(8);class fe{constructor(){Be(this,l);Be(this,ee,!1);Be(this,n,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(H,z){const G=ye(this,n).get(H);return G===void 0?z:Object.assign(z,G)}getRawValue(H){return ye(this,n).get(H)}remove(H){if(ye(this,n).delete(H),ye(this,n).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const z of ye(this,n).values())if(z instanceof le.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(H,z){const G=ye(this,n).get(H);let I=!1;if(G!==void 0)for(const[C,w]of Object.entries(z))G[C]!==w&&(I=!0,G[C]=w);else I=!0,ye(this,n).set(H,z);I&&ze(this,l,gi).call(this),z instanceof le.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(z.constructor._type)}has(H){return ye(this,n).has(H)}getAll(){return ye(this,n).size>0?(0,te.objectFromMap)(ye(this,n)):null}setAll(H){for(const[z,G]of Object.entries(H))this.setValue(z,G)}get size(){return ye(this,n).size}resetModified(){ye(this,ee)&&(rt(this,ee,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new S(this)}get serializable(){if(ye(this,n).size===0)return null;const H=new Map;for(const[z,G]of ye(this,n)){const I=G instanceof le.AnnotationEditor?G.serialize():G;I&&H.set(z,I)}return H}static getHash(H){if(!H)return"";const z=new me.MurmurHash3_64;for(const[G,I]of H)z.update(`${G}:${JSON.stringify(I)}`);return z.hexdigest()}}ee=new WeakMap,n=new WeakMap,l=new WeakSet,gi=function(){ye(this,ee)||(rt(this,ee,!0),typeof this.onSetModified=="function"&&this.onSetModified())},O.AnnotationStorage=fe;class S extends fe{constructor(z){super();Be(this,e,null);rt(this,e,structuredClone(z.serializable))}get print(){(0,te.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return ye(this,e)}}e=new WeakMap,O.PrintAnnotationStorage=S},(b,O,ce)=>{var fe,S,ee,n,l,K;Object.defineProperty(O,"__esModule",{value:!0}),O.AnnotationEditor=void 0;var te=ce(5),le=ce(1);const e=class{constructor(H){Be(this,fe,this.focusin.bind(this));Be(this,S,this.focusout.bind(this));Be(this,ee,!1);Be(this,n,!1);Be(this,l,!1);Rt(this,"_uiManager",null);Be(this,K,e._zIndex++);this.constructor===e&&(0,le.unreachable)("Cannot initialize AnnotationEditor."),this.parent=H.parent,this.id=H.id,this.width=this.height=null,this.pageIndex=H.parent.pageIndex,this.name=H.name,this.div=null,this._uiManager=H.uiManager;const{rotation:z,rawDims:{pageWidth:G,pageHeight:I,pageX:C,pageY:w}}=this.parent.viewport;this.rotation=z,this.pageRotation=(360+z-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[G,I],this.pageTranslation=[C,w];const[i,F]=this.parentDimensions;this.x=H.x/i,this.y=H.y/F,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,le.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(H){this._uiManager.addCommands(H)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=ye(this,K)}setParent(H){H!==null&&(this.pageIndex=H.pageIndex,this.pageDimensions=H.pageDimensions),this.parent=H}focusin(H){ye(this,ee)?rt(this,ee,!1):this.parent.setSelected(this)}focusout(H){var G;if(!this.isAttachedToDOM)return;const z=H.relatedTarget;z!=null&&z.closest(`#${this.id}`)||(H.preventDefault(),(G=this.parent)!=null&&G.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(H){const z=this.parent.div.getBoundingClientRect();this.startX=H.clientX-z.x,this.startY=H.clientY-z.y,H.dataTransfer.setData("text/plain",this.id),H.dataTransfer.effectAllowed="move"}setAt(H,z,G,I){const[C,w]=this.parentDimensions;[G,I]=this.screenToPageTranslation(G,I),this.x=(H+G)/C,this.y=(z+I)/w,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(H,z){const[G,I]=this.parentDimensions;[H,z]=this.screenToPageTranslation(H,z),this.x+=H/G,this.y+=z/I,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(H,z){switch(this.parentRotation){case 90:return[z,-H];case 180:return[-H,-z];case 270:return[-z,H];default:return[H,z]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{realScale:H}=this._uiManager.viewParameters,[z,G]=this.pageDimensions;return[z*H,G*H]}setDims(H,z){const[G,I]=this.parentDimensions;this.div.style.width=`${100*H/G}%`,this.div.style.height=`${100*z/I}%`}fixDims(){const{style:H}=this.div,{height:z,width:G}=H,I=G.endsWith("%"),C=z.endsWith("%");if(I&&C)return;const[w,i]=this.parentDimensions;I||(H.width=`${100*parseFloat(G)/w}%`),C||(H.height=`${100*parseFloat(z)/i}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",ye(this,fe)),this.div.addEventListener("focusout",ye(this,S));const[H,z]=this.getInitialTranslation();return this.translate(H,z),(0,te.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(H){const{isMac:z}=le.FeatureTest.platform;if(H.button!==0||H.ctrlKey&&z){H.preventDefault();return}H.ctrlKey&&!z||H.shiftKey||H.metaKey&&z?this.parent.toggleSelected(this):this.parent.setSelected(this),rt(this,ee,!0)}getRect(H,z){const G=this.parentScale,[I,C]=this.pageDimensions,[w,i]=this.pageTranslation,F=H/G,B=z/G,u=this.x*I,s=this.y*C,o=this.width*I,y=this.height*C;switch(this.rotation){case 0:return[u+F+w,C-s-B-y+i,u+F+o+w,C-s-B+i];case 90:return[u+B+w,C-s+F+i,u+B+y+w,C-s+F+o+i];case 180:return[u-F-o+w,C-s+B+i,u-F+w,C-s+B+y+i];case 270:return[u-B-y+w,C-s-F-o+i,u-B+w,C-s-F+i];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(H,z){const[G,I,C,w]=H,i=C-G,F=w-I;switch(this.rotation){case 0:return[G,z-w,i,F];case 90:return[G,z-I,F,i];case 180:return[C,z-I,i,F];case 270:return[C,z-w,F,i];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){rt(this,l,!0)}disableEditMode(){rt(this,l,!1)}isInEditMode(){return ye(this,l)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var H;(H=this.div)==null||H.addEventListener("focusin",ye(this,fe))}serialize(){(0,le.unreachable)("An editor must be serializable")}static deserialize(H,z,G){const I=new this.prototype.constructor({parent:z,id:z.getNextId(),uiManager:G});I.rotation=H.rotation;const[C,w]=I.pageDimensions,[i,F,B,u]=I.getRectInCurrentCoords(H.rect,w);return I.x=i/C,I.y=F/w,I.width=B/C,I.height=u/w,I}remove(){this.div.removeEventListener("focusin",ye(this,fe)),this.div.removeEventListener("focusout",ye(this,S)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var H;(H=this.div)==null||H.classList.add("selectedEditor")}unselect(){var H;(H=this.div)==null||H.classList.remove("selectedEditor")}updateParams(H,z){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return ye(this,n)}set isEditing(H){rt(this,n,H),H?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let me=e;fe=new WeakMap,S=new WeakMap,ee=new WeakMap,n=new WeakMap,l=new WeakMap,K=new WeakMap,Rt(me,"_colorManager",new te.ColorManager),Rt(me,"_zIndex",1),O.AnnotationEditor=me},(b,O,ce)=>{var e,t,H,z,G,I,pi,i,F,B,u,s,o,y,r,f,m,P,d,A,L,h,g,k,D,T,V,q,v,x,E,mi,$,Yn,ie,xi,X,bi,Z,Zt,M,yn,_,yi,Y,wi,ae,Jn,he,wn,re,Zn;Object.defineProperty(O,"__esModule",{value:!0}),O.KeyboardManager=O.CommandManager=O.ColorManager=O.AnnotationEditorUIManager=void 0,O.bindEvents=me,O.opacityToHex=fe;var te=ce(1),le=ce(6);function me(ge,pe,xe){for(const Ie of xe)pe.addEventListener(Ie,ge[Ie].bind(ge))}function fe(ge){return Math.round(Math.min(255,Math.max(1,255*ge))).toString(16).padStart(2,"0")}class S{constructor(){Be(this,e,0)}getId(){return`${te.AnnotationEditorPrefix}${kn(this,e)._++}`}}e=new WeakMap;class ee{constructor(pe=128){Be(this,t,[]);Be(this,H,!1);Be(this,z,void 0);Be(this,G,-1);rt(this,z,pe)}add({cmd:pe,undo:xe,mustExec:Ie,type:Fe=NaN,overwriteIfSameType:Ae=!1,keepUndo:we=!1}){if(Ie&&pe(),ye(this,H))return;const be={cmd:pe,undo:xe,type:Fe};if(ye(this,G)===-1){ye(this,t).length>0&&(ye(this,t).length=0),rt(this,G,0),ye(this,t).push(be);return}if(Ae&&ye(this,t)[ye(this,G)].type===Fe){we&&(be.undo=ye(this,t)[ye(this,G)].undo),ye(this,t)[ye(this,G)]=be;return}const Ee=ye(this,G)+1;Ee===ye(this,z)?ye(this,t).splice(0,1):(rt(this,G,Ee),Ee<ye(this,t).length&&ye(this,t).splice(Ee)),ye(this,t).push(be)}undo(){ye(this,G)!==-1&&(rt(this,H,!0),ye(this,t)[ye(this,G)].undo(),rt(this,H,!1),rt(this,G,ye(this,G)-1))}redo(){ye(this,G)<ye(this,t).length-1&&(rt(this,G,ye(this,G)+1),rt(this,H,!0),ye(this,t)[ye(this,G)].cmd(),rt(this,H,!1))}hasSomethingToUndo(){return ye(this,G)!==-1}hasSomethingToRedo(){return ye(this,G)<ye(this,t).length-1}destroy(){rt(this,t,null)}}t=new WeakMap,H=new WeakMap,z=new WeakMap,G=new WeakMap,O.CommandManager=ee;class n{constructor(pe){Be(this,I);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:xe}=te.FeatureTest.platform;for(const[Ie,Fe]of pe)for(const Ae of Ie){const we=Ae.startsWith("mac+");xe&&we?(this.callbacks.set(Ae.slice(4),Fe),this.allKeys.add(Ae.split("+").at(-1))):!xe&&!we&&(this.callbacks.set(Ae,Fe),this.allKeys.add(Ae.split("+").at(-1)))}}exec(pe,xe){if(!this.allKeys.has(xe.key))return;const Ie=this.callbacks.get(ze(this,I,pi).call(this,xe));Ie&&(Ie.bind(pe)(),xe.stopPropagation(),xe.preventDefault())}}I=new WeakSet,pi=function(pe){pe.altKey&&this.buffer.push("alt"),pe.ctrlKey&&this.buffer.push("ctrl"),pe.metaKey&&this.buffer.push("meta"),pe.shiftKey&&this.buffer.push("shift"),this.buffer.push(pe.key);const xe=this.buffer.join("+");return this.buffer.length=0,xe},O.KeyboardManager=n;const w=class{get _colors(){const pe=new Map([["CanvasText",null],["Canvas",null]]);return(0,le.getColorValues)(pe),(0,te.shadow)(this,"_colors",pe)}convert(pe){const xe=(0,le.getRGB)(pe);if(!window.matchMedia("(forced-colors: active)").matches)return xe;for(const[Ie,Fe]of this._colors)if(Fe.every((Ae,we)=>Ae===xe[we]))return w._colorsMapping.get(Ie);return xe}getHexCode(pe){const xe=this._colors.get(pe);return xe?te.Util.makeHexColor(...xe):pe}};let l=w;Rt(l,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),O.ColorManager=l;const ue=class{constructor(pe,xe,Ie){Be(this,E);Be(this,$);Be(this,ie);Be(this,X);Be(this,Z);Be(this,M);Be(this,_);Be(this,Y);Be(this,ae);Be(this,he);Be(this,re);Be(this,i,null);Be(this,F,new Map);Be(this,B,new Map);Be(this,u,null);Be(this,s,new ee);Be(this,o,0);Be(this,y,null);Be(this,r,new Set);Be(this,f,null);Be(this,m,new S);Be(this,P,!1);Be(this,d,te.AnnotationEditorType.NONE);Be(this,A,new Set);Be(this,L,this.copy.bind(this));Be(this,h,this.cut.bind(this));Be(this,g,this.paste.bind(this));Be(this,k,this.keydown.bind(this));Be(this,D,this.onEditingAction.bind(this));Be(this,T,this.onPageChanging.bind(this));Be(this,V,this.onScaleChanging.bind(this));Be(this,q,this.onRotationChanging.bind(this));Be(this,v,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Be(this,x,null);rt(this,x,pe),rt(this,f,xe),ye(this,f)._on("editingaction",ye(this,D)),ye(this,f)._on("pagechanging",ye(this,T)),ye(this,f)._on("scalechanging",ye(this,V)),ye(this,f)._on("rotationchanging",ye(this,q)),rt(this,u,Ie),this.viewParameters={realScale:le.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){ze(this,$,Yn).call(this),ye(this,f)._off("editingaction",ye(this,D)),ye(this,f)._off("pagechanging",ye(this,T)),ye(this,f)._off("scalechanging",ye(this,V)),ye(this,f)._off("rotationchanging",ye(this,q));for(const pe of ye(this,B).values())pe.destroy();ye(this,B).clear(),ye(this,F).clear(),ye(this,r).clear(),rt(this,i,null),ye(this,A).clear(),ye(this,s).destroy()}onPageChanging({pageNumber:pe}){rt(this,o,pe-1)}focusMainContainer(){ye(this,x).focus()}addShouldRescale(pe){ye(this,r).add(pe)}removeShouldRescale(pe){ye(this,r).delete(pe)}onScaleChanging({scale:pe}){this.commitOrRemove(),this.viewParameters.realScale=pe*le.PixelsPerInch.PDF_TO_CSS_UNITS;for(const xe of ye(this,r))xe.onScaleChanging()}onRotationChanging({pagesRotation:pe}){this.commitOrRemove(),this.viewParameters.rotation=pe}addToAnnotationStorage(pe){!pe.isEmpty()&&ye(this,u)&&!ye(this,u).has(pe.id)&&ye(this,u).setValue(pe.id,pe)}copy(pe){if(pe.preventDefault(),ye(this,i)&&ye(this,i).commitOrRemove(),!this.hasSelection)return;const xe=[];for(const Ie of ye(this,A))Ie.isEmpty()||xe.push(Ie.serialize());xe.length!==0&&pe.clipboardData.setData("application/pdfjs",JSON.stringify(xe))}cut(pe){this.copy(pe),this.delete()}paste(pe){pe.preventDefault();let xe=pe.clipboardData.getData("application/pdfjs");if(!xe)return;try{xe=JSON.parse(xe)}catch(Fe){(0,te.warn)(`paste: "${Fe.message}".`);return}if(!Array.isArray(xe))return;this.unselectAll();const Ie=ye(this,B).get(ye(this,o));try{const Fe=[];for(const be of xe){const Ee=Ie.deserialize(be);if(!Ee)return;Fe.push(Ee)}const Ae=()=>{for(const be of Fe)ze(this,ae,Jn).call(this,be);ze(this,re,Zn).call(this,Fe)},we=()=>{for(const be of Fe)be.remove()};this.addCommands({cmd:Ae,undo:we,mustExec:!0})}catch(Fe){(0,te.warn)(`paste: "${Fe.message}".`)}}keydown(pe){var xe;(xe=this.getActive())!=null&&xe.shouldGetKeyboardEvents()||ue._keyboardManager.exec(this,pe)}onEditingAction(pe){["undo","redo","delete","selectAll"].includes(pe.name)&&this[pe.name]()}setEditingState(pe){pe?(ze(this,E,mi).call(this),ze(this,ie,xi).call(this),ze(this,Z,Zt).call(this,{isEditing:ye(this,d)!==te.AnnotationEditorType.NONE,isEmpty:ze(this,he,wn).call(this),hasSomethingToUndo:ye(this,s).hasSomethingToUndo(),hasSomethingToRedo:ye(this,s).hasSomethingToRedo(),hasSelectedEditor:!1})):(ze(this,$,Yn).call(this),ze(this,X,bi).call(this),ze(this,Z,Zt).call(this,{isEditing:!1}))}registerEditorTypes(pe){if(!ye(this,y)){rt(this,y,pe);for(const xe of ye(this,y))ze(this,M,yn).call(this,xe.defaultPropertiesToUpdate)}}getId(){return ye(this,m).getId()}get currentLayer(){return ye(this,B).get(ye(this,o))}get currentPageIndex(){return ye(this,o)}addLayer(pe){ye(this,B).set(pe.pageIndex,pe),ye(this,P)?pe.enable():pe.disable()}removeLayer(pe){ye(this,B).delete(pe.pageIndex)}updateMode(pe){if(rt(this,d,pe),pe===te.AnnotationEditorType.NONE)this.setEditingState(!1),ze(this,Y,wi).call(this);else{this.setEditingState(!0),ze(this,_,yi).call(this);for(const xe of ye(this,B).values())xe.updateMode(pe)}}updateToolbar(pe){pe!==ye(this,d)&&ye(this,f).dispatch("switchannotationeditormode",{source:this,mode:pe})}updateParams(pe,xe){if(ye(this,y)){for(const Ie of ye(this,A))Ie.updateParams(pe,xe);for(const Ie of ye(this,y))Ie.updateDefaultParams(pe,xe)}}getEditors(pe){const xe=[];for(const Ie of ye(this,F).values())Ie.pageIndex===pe&&xe.push(Ie);return xe}getEditor(pe){return ye(this,F).get(pe)}addEditor(pe){ye(this,F).set(pe.id,pe)}removeEditor(pe){var xe;ye(this,F).delete(pe.id),this.unselect(pe),(xe=ye(this,u))==null||xe.remove(pe.id)}setActiveEditor(pe){ye(this,i)!==pe&&(rt(this,i,pe),pe&&ze(this,M,yn).call(this,pe.propertiesToUpdate))}toggleSelected(pe){if(ye(this,A).has(pe)){ye(this,A).delete(pe),pe.unselect(),ze(this,Z,Zt).call(this,{hasSelectedEditor:this.hasSelection});return}ye(this,A).add(pe),pe.select(),ze(this,M,yn).call(this,pe.propertiesToUpdate),ze(this,Z,Zt).call(this,{hasSelectedEditor:!0})}setSelected(pe){for(const xe of ye(this,A))xe!==pe&&xe.unselect();ye(this,A).clear(),ye(this,A).add(pe),pe.select(),ze(this,M,yn).call(this,pe.propertiesToUpdate),ze(this,Z,Zt).call(this,{hasSelectedEditor:!0})}isSelected(pe){return ye(this,A).has(pe)}unselect(pe){pe.unselect(),ye(this,A).delete(pe),ze(this,Z,Zt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return ye(this,A).size!==0}undo(){ye(this,s).undo(),ze(this,Z,Zt).call(this,{hasSomethingToUndo:ye(this,s).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ze(this,he,wn).call(this)})}redo(){ye(this,s).redo(),ze(this,Z,Zt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:ye(this,s).hasSomethingToRedo(),isEmpty:ze(this,he,wn).call(this)})}addCommands(pe){ye(this,s).add(pe),ze(this,Z,Zt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ze(this,he,wn).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const pe=[...ye(this,A)],xe=()=>{for(const Fe of pe)Fe.remove()},Ie=()=>{for(const Fe of pe)ze(this,ae,Jn).call(this,Fe)};this.addCommands({cmd:xe,undo:Ie,mustExec:!0})}commitOrRemove(){var pe;(pe=ye(this,i))==null||pe.commitOrRemove()}selectAll(){for(const pe of ye(this,A))pe.commit();ze(this,re,Zn).call(this,ye(this,F).values())}unselectAll(){if(ye(this,i)){ye(this,i).commitOrRemove();return}if(ye(this,A).size!==0){for(const pe of ye(this,A))pe.unselect();ye(this,A).clear(),ze(this,Z,Zt).call(this,{hasSelectedEditor:!1})}}isActive(pe){return ye(this,i)===pe}getActive(){return ye(this,i)}getMode(){return ye(this,d)}};let K=ue;i=new WeakMap,F=new WeakMap,B=new WeakMap,u=new WeakMap,s=new WeakMap,o=new WeakMap,y=new WeakMap,r=new WeakMap,f=new WeakMap,m=new WeakMap,P=new WeakMap,d=new WeakMap,A=new WeakMap,L=new WeakMap,h=new WeakMap,g=new WeakMap,k=new WeakMap,D=new WeakMap,T=new WeakMap,V=new WeakMap,q=new WeakMap,v=new WeakMap,x=new WeakMap,E=new WeakSet,mi=function(){ye(this,x).addEventListener("keydown",ye(this,k))},$=new WeakSet,Yn=function(){ye(this,x).removeEventListener("keydown",ye(this,k))},ie=new WeakSet,xi=function(){document.addEventListener("copy",ye(this,L)),document.addEventListener("cut",ye(this,h)),document.addEventListener("paste",ye(this,g))},X=new WeakSet,bi=function(){document.removeEventListener("copy",ye(this,L)),document.removeEventListener("cut",ye(this,h)),document.removeEventListener("paste",ye(this,g))},Z=new WeakSet,Zt=function(pe){Object.entries(pe).some(([Ie,Fe])=>ye(this,v)[Ie]!==Fe)&&ye(this,f).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(ye(this,v),pe)})},M=new WeakSet,yn=function(pe){ye(this,f).dispatch("annotationeditorparamschanged",{source:this,details:pe})},_=new WeakSet,yi=function(){if(!ye(this,P)){rt(this,P,!0);for(const pe of ye(this,B).values())pe.enable()}},Y=new WeakSet,wi=function(){if(this.unselectAll(),ye(this,P)){rt(this,P,!1);for(const pe of ye(this,B).values())pe.disable()}},ae=new WeakSet,Jn=function(pe){const xe=ye(this,B).get(pe.pageIndex);xe?xe.addOrRebuild(pe):this.addEditor(pe)},he=new WeakSet,wn=function(){if(ye(this,F).size===0)return!0;if(ye(this,F).size===1)for(const pe of ye(this,F).values())return pe.isEmpty();return!1},re=new WeakSet,Zn=function(pe){ye(this,A).clear();for(const xe of pe)xe.isEmpty()||(ye(this,A).add(xe),xe.select());ze(this,Z,Zt).call(this,{hasSelectedEditor:!0})},Rt(K,"_keyboardManager",new n([[["ctrl+a","mac+meta+a"],ue.prototype.selectAll],[["ctrl+z","mac+meta+z"],ue.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],ue.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],ue.prototype.delete],[["Escape","mac+Escape"],ue.prototype.unselectAll]])),O.AnnotationEditorUIManager=K},(b,O,ce)=>{var L,h,g,k,D,T,V,q,v,dn,E,an,$,tn;Object.defineProperty(O,"__esModule",{value:!0}),O.StatTimer=O.RenderingCancelledException=O.PixelsPerInch=O.PageViewport=O.PDFDateString=O.DOMStandardFontDataFactory=O.DOMSVGFactory=O.DOMFilterFactory=O.DOMCanvasFactory=O.DOMCMapReaderFactory=O.AnnotationPrefix=void 0,O.deprecated=u,O.getColorValues=f,O.getCurrentTransform=m,O.getCurrentTransformInverse=P,O.getFilenameFromUrl=C,O.getPdfFilenameFromUrl=w,O.getRGB=r,O.getXfaPageViewport=y,O.isDataScheme=G,O.isPdfFile=I,O.isValidFetchUrl=F,O.loadScript=B,O.setLayerDimensions=d;var te=ce(7),le=ce(1);const me="http://www.w3.org/2000/svg",fe="pdfjs_internal_id_";O.AnnotationPrefix=fe;const A=class{};let S=A;Rt(S,"CSS",96),Rt(S,"PDF",72),Rt(S,"PDF_TO_CSS_UNITS",A.CSS/A.PDF),O.PixelsPerInch=S;class ee extends te.BaseFilterFactory{constructor({docId:X,ownerDocument:R=globalThis.document}={}){super();Be(this,v);Be(this,E);Be(this,$);Be(this,L,void 0);Be(this,h,void 0);Be(this,g,void 0);Be(this,k,void 0);Be(this,D,void 0);Be(this,T,void 0);Be(this,V,void 0);Be(this,q,0);rt(this,g,X),rt(this,k,R)}addFilter(X){if(!X)return"none";let R=ye(this,v,dn).get(X);if(R)return R;let Z,N,M,c;if(X.length===1){const ae=X[0],oe=new Array(256);for(let he=0;he<256;he++)oe[he]=ae[he]/255;c=Z=N=M=oe.join(",")}else{const[ae,oe,he]=X,ne=new Array(256),re=new Array(256),de=new Array(256);for(let ue=0;ue<256;ue++)ne[ue]=ae[ue]/255,re[ue]=oe[ue]/255,de[ue]=he[ue]/255;Z=ne.join(","),N=re.join(","),M=de.join(","),c=`${Z}${N}${M}`}if(R=ye(this,v,dn).get(c),R)return ye(this,v,dn).set(X,R),R;const _=`g_${ye(this,g)}_transfer_map_${kn(this,q)._++}`,W=`url(#${_})`;ye(this,v,dn).set(X,W),ye(this,v,dn).set(c,W);const Y=ye(this,k).createElementNS(me,"filter",me);Y.setAttribute("id",_),Y.setAttribute("color-interpolation-filters","sRGB");const J=ye(this,k).createElementNS(me,"feComponentTransfer");return Y.append(J),ze(this,$,tn).call(this,J,"feFuncR",Z),ze(this,$,tn).call(this,J,"feFuncG",N),ze(this,$,tn).call(this,J,"feFuncB",M),ye(this,E,an).append(Y),W}addHCMFilter(X,R){var he;const Z=`${X}-${R}`;if(ye(this,T)===Z)return ye(this,V);if(rt(this,T,Z),rt(this,V,"none"),(he=ye(this,D))==null||he.remove(),!X||!R)return ye(this,V);ye(this,E,an).style.color=X,X=getComputedStyle(ye(this,E,an)).getPropertyValue("color");const N=r(X);X=le.Util.makeHexColor(...N),ye(this,E,an).style.color=R,R=getComputedStyle(ye(this,E,an)).getPropertyValue("color");const M=r(R);if(R=le.Util.makeHexColor(...M),ye(this,E,an).style.color="",X==="#000000"&&R==="#ffffff"||X===R)return ye(this,V);const c=new Array(256);for(let ne=0;ne<=255;ne++){const re=ne/255;c[ne]=re<=.03928?re/12.92:((re+.055)/1.055)**2.4}const _=c.join(","),W=`g_${ye(this,g)}_hcm_filter`,Y=rt(this,D,ye(this,k).createElementNS(me,"filter",me));Y.setAttribute("id",W),Y.setAttribute("color-interpolation-filters","sRGB");let J=ye(this,k).createElementNS(me,"feComponentTransfer");Y.append(J),ze(this,$,tn).call(this,J,"feFuncR",_),ze(this,$,tn).call(this,J,"feFuncG",_),ze(this,$,tn).call(this,J,"feFuncB",_);const ae=ye(this,k).createElementNS(me,"feColorMatrix");ae.setAttribute("type","matrix"),ae.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Y.append(ae),J=ye(this,k).createElementNS(me,"feComponentTransfer"),Y.append(J);const oe=(ne,re)=>{const de=N[ne]/255,ue=M[ne]/255,ge=new Array(re+1);for(let pe=0;pe<=re;pe++)ge[pe]=de+pe/re*(ue-de);return ge.join(",")};return ze(this,$,tn).call(this,J,"feFuncR",oe(0,5)),ze(this,$,tn).call(this,J,"feFuncG",oe(1,5)),ze(this,$,tn).call(this,J,"feFuncB",oe(2,5)),ye(this,E,an).append(Y),rt(this,V,`url(#${W})`),ye(this,V)}destroy(X=!1){X&&ye(this,V)||(ye(this,h)&&(ye(this,h).parentNode.parentNode.remove(),rt(this,h,null)),ye(this,L)&&(ye(this,L).clear(),rt(this,L,null)),rt(this,q,0))}}L=new WeakMap,h=new WeakMap,g=new WeakMap,k=new WeakMap,D=new WeakMap,T=new WeakMap,V=new WeakMap,q=new WeakMap,v=new WeakSet,dn=function(){return ye(this,L)||rt(this,L,new Map)},E=new WeakSet,an=function(){if(!ye(this,h)){const X=ye(this,k).createElement("div"),{style:R}=X;R.visibility="hidden",R.contain="strict",R.width=R.height=0,R.position="absolute",R.top=R.left=0,R.zIndex=-1;const Z=ye(this,k).createElementNS(me,"svg");Z.setAttribute("width",0),Z.setAttribute("height",0),rt(this,h,ye(this,k).createElementNS(me,"defs")),X.append(Z),Z.append(ye(this,h)),ye(this,k).body.append(X)}return ye(this,h)},$=new WeakSet,tn=function(X,R,Z){const N=ye(this,k).createElementNS(me,R);N.setAttribute("type","discrete"),N.setAttribute("tableValues",Z),X.append(N)},O.DOMFilterFactory=ee;class n extends te.BaseCanvasFactory{constructor({ownerDocument:j=globalThis.document}={}){super(),this._document=j}_createCanvas(j,X){const R=this._document.createElement("canvas");return R.width=j,R.height=X,R}}O.DOMCanvasFactory=n;async function l(ie,j=!1){if(F(ie,document.baseURI)){const X=await fetch(ie);if(!X.ok)throw new Error(X.statusText);return j?new Uint8Array(await X.arrayBuffer()):(0,le.stringToBytes)(await X.text())}return new Promise((X,R)=>{const Z=new XMLHttpRequest;Z.open("GET",ie,!0),j&&(Z.responseType="arraybuffer"),Z.onreadystatechange=()=>{if(Z.readyState===XMLHttpRequest.DONE){if(Z.status===200||Z.status===0){let N;if(j&&Z.response?N=new Uint8Array(Z.response):!j&&Z.responseText&&(N=(0,le.stringToBytes)(Z.responseText)),N){X(N);return}}R(new Error(Z.statusText))}},Z.send(null)})}class K extends te.BaseCMapReaderFactory{_fetchData(j,X){return l(j,this.isCompressed).then(R=>({cMapData:R,compressionType:X}))}}O.DOMCMapReaderFactory=K;class e extends te.BaseStandardFontDataFactory{_fetchData(j){return l(j,!0)}}O.DOMStandardFontDataFactory=e;class t extends te.BaseSVGFactory{_createSVG(j){return document.createElementNS(me,j)}}O.DOMSVGFactory=t;class H{constructor({viewBox:j,scale:X,rotation:R,offsetX:Z=0,offsetY:N=0,dontFlip:M=!1}){this.viewBox=j,this.scale=X,this.rotation=R,this.offsetX=Z,this.offsetY=N;const c=(j[2]+j[0])/2,_=(j[3]+j[1])/2;let W,Y,J,ae;switch(R%=360,R<0&&(R+=360),R){case 180:W=-1,Y=0,J=0,ae=1;break;case 90:W=0,Y=1,J=1,ae=0;break;case 270:W=0,Y=-1,J=-1,ae=0;break;case 0:W=1,Y=0,J=0,ae=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}M&&(J=-J,ae=-ae);let oe,he,ne,re;W===0?(oe=Math.abs(_-j[1])*X+Z,he=Math.abs(c-j[0])*X+N,ne=(j[3]-j[1])*X,re=(j[2]-j[0])*X):(oe=Math.abs(c-j[0])*X+Z,he=Math.abs(_-j[1])*X+N,ne=(j[2]-j[0])*X,re=(j[3]-j[1])*X),this.transform=[W*X,Y*X,J*X,ae*X,oe-W*X*c-J*X*_,he-Y*X*c-ae*X*_],this.width=ne,this.height=re}get rawDims(){const{viewBox:j}=this;return(0,le.shadow)(this,"rawDims",{pageWidth:j[2]-j[0],pageHeight:j[3]-j[1],pageX:j[0],pageY:j[1]})}clone({scale:j=this.scale,rotation:X=this.rotation,offsetX:R=this.offsetX,offsetY:Z=this.offsetY,dontFlip:N=!1}={}){return new H({viewBox:this.viewBox.slice(),scale:j,rotation:X,offsetX:R,offsetY:Z,dontFlip:N})}convertToViewportPoint(j,X){return le.Util.applyTransform([j,X],this.transform)}convertToViewportRectangle(j){const X=le.Util.applyTransform([j[0],j[1]],this.transform),R=le.Util.applyTransform([j[2],j[3]],this.transform);return[X[0],X[1],R[0],R[1]]}convertToPdfPoint(j,X){return le.Util.applyInverseTransform([j,X],this.transform)}}O.PageViewport=H;class z extends le.BaseException{constructor(j,X,R=0){super(j,"RenderingCancelledException"),this.type=X,this.extraDelay=R}}O.RenderingCancelledException=z;function G(ie){const j=ie.length;let X=0;for(;X<j&&ie[X].trim()==="";)X++;return ie.substring(X,X+5).toLowerCase()==="data:"}function I(ie){return typeof ie=="string"&&/\.pdf$/i.test(ie)}function C(ie,j=!1){return j||([ie]=ie.split(/[#?]/,1)),ie.substring(ie.lastIndexOf("/")+1)}function w(ie,j="document.pdf"){if(typeof ie!="string")return j;if(G(ie))return(0,le.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),j;const X=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,R=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Z=X.exec(ie);let N=R.exec(Z[1])||R.exec(Z[2])||R.exec(Z[3]);if(N&&(N=N[0],N.includes("%")))try{N=R.exec(decodeURIComponent(N))[0]}catch{}return N||j}class i{constructor(){Rt(this,"started",Object.create(null));Rt(this,"times",[])}time(j){j in this.started&&(0,le.warn)(`Timer is already running for ${j}`),this.started[j]=Date.now()}timeEnd(j){j in this.started||(0,le.warn)(`Timer has not been started for ${j}`),this.times.push({name:j,start:this.started[j],end:Date.now()}),delete this.started[j]}toString(){const j=[];let X=0;for(const{name:R}of this.times)X=Math.max(R.length,X);for(const{name:R,start:Z,end:N}of this.times)j.push(`${R.padEnd(X)} ${N-Z}ms
`);return j.join("")}}O.StatTimer=i;function F(ie,j){try{const{protocol:X}=j?new URL(ie,j):new URL(ie);return X==="http:"||X==="https:"}catch{return!1}}function B(ie,j=!1){return new Promise((X,R)=>{const Z=document.createElement("script");Z.src=ie,Z.onload=function(N){j&&Z.remove(),X(N)},Z.onerror=function(){R(new Error(`Cannot load script at: ${Z.src}`))},(document.head||document.documentElement).append(Z)})}function u(ie){console.log("Deprecated API usage: "+ie)}let s;class o{static toDateObject(j){if(!j||typeof j!="string")return null;s||(s=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const X=s.exec(j);if(!X)return null;const R=parseInt(X[1],10);let Z=parseInt(X[2],10);Z=Z>=1&&Z<=12?Z-1:0;let N=parseInt(X[3],10);N=N>=1&&N<=31?N:1;let M=parseInt(X[4],10);M=M>=0&&M<=23?M:0;let c=parseInt(X[5],10);c=c>=0&&c<=59?c:0;let _=parseInt(X[6],10);_=_>=0&&_<=59?_:0;const W=X[7]||"Z";let Y=parseInt(X[8],10);Y=Y>=0&&Y<=23?Y:0;let J=parseInt(X[9],10)||0;return J=J>=0&&J<=59?J:0,W==="-"?(M+=Y,c+=J):W==="+"&&(M-=Y,c-=J),new Date(Date.UTC(R,Z,N,M,c,_))}}O.PDFDateString=o;function y(ie,{scale:j=1,rotation:X=0}){const{width:R,height:Z}=ie.attributes.style,N=[0,0,parseInt(R),parseInt(Z)];return new H({viewBox:N,scale:j,rotation:X})}function r(ie){if(ie.startsWith("#")){const j=parseInt(ie.slice(1),16);return[(j&16711680)>>16,(j&65280)>>8,j&255]}return ie.startsWith("rgb(")?ie.slice(4,-1).split(",").map(j=>parseInt(j)):ie.startsWith("rgba(")?ie.slice(5,-1).split(",").map(j=>parseInt(j)).slice(0,3):((0,le.warn)(`Not a valid color format: "${ie}"`),[0,0,0])}function f(ie){const j=document.createElement("span");j.style.visibility="hidden",document.body.append(j);for(const X of ie.keys()){j.style.color=X;const R=window.getComputedStyle(j).color;ie.set(X,r(R))}j.remove()}function m(ie){const{a:j,b:X,c:R,d:Z,e:N,f:M}=ie.getTransform();return[j,X,R,Z,N,M]}function P(ie){const{a:j,b:X,c:R,d:Z,e:N,f:M}=ie.getTransform().invertSelf();return[j,X,R,Z,N,M]}function d(ie,j,X=!1,R=!0){if(j instanceof H){const{pageWidth:Z,pageHeight:N}=j.rawDims,{style:M}=ie,c=`calc(var(--scale-factor) * ${Z}px)`,_=`calc(var(--scale-factor) * ${N}px)`;!X||j.rotation%180===0?(M.width=c,M.height=_):(M.width=_,M.height=c)}R&&ie.setAttribute("data-main-rotation",j.rotation)}},(b,O,ce)=>{Object.defineProperty(O,"__esModule",{value:!0}),O.BaseStandardFontDataFactory=O.BaseSVGFactory=O.BaseFilterFactory=O.BaseCanvasFactory=O.BaseCMapReaderFactory=void 0;var te=ce(1);class le{constructor(){this.constructor===le&&(0,te.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(l){return"none"}addHCMFilter(l,K){return"none"}destroy(l=!1){}}O.BaseFilterFactory=le;class me{constructor(){this.constructor===me&&(0,te.unreachable)("Cannot initialize BaseCanvasFactory.")}create(l,K){if(l<=0||K<=0)throw new Error("Invalid canvas size");const e=this._createCanvas(l,K);return{canvas:e,context:e.getContext("2d")}}reset(l,K,e){if(!l.canvas)throw new Error("Canvas is not specified");if(K<=0||e<=0)throw new Error("Invalid canvas size");l.canvas.width=K,l.canvas.height=e}destroy(l){if(!l.canvas)throw new Error("Canvas is not specified");l.canvas.width=0,l.canvas.height=0,l.canvas=null,l.context=null}_createCanvas(l,K){(0,te.unreachable)("Abstract method `_createCanvas` called.")}}O.BaseCanvasFactory=me;class fe{constructor({baseUrl:l=null,isCompressed:K=!0}){this.constructor===fe&&(0,te.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=l,this.isCompressed=K}async fetch({name:l}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!l)throw new Error("CMap name must be specified.");const K=this.baseUrl+l+(this.isCompressed?".bcmap":""),e=this.isCompressed?te.CMapCompressionType.BINARY:te.CMapCompressionType.NONE;return this._fetchData(K,e).catch(t=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${K}`)})}_fetchData(l,K){(0,te.unreachable)("Abstract method `_fetchData` called.")}}O.BaseCMapReaderFactory=fe;class S{constructor({baseUrl:l=null}){this.constructor===S&&(0,te.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=l}async fetch({filename:l}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!l)throw new Error("Font filename must be specified.");const K=`${this.baseUrl}${l}`;return this._fetchData(K).catch(e=>{throw new Error(`Unable to load font data at: ${K}`)})}_fetchData(l){(0,te.unreachable)("Abstract method `_fetchData` called.")}}O.BaseStandardFontDataFactory=S;class ee{constructor(){this.constructor===ee&&(0,te.unreachable)("Cannot initialize BaseSVGFactory.")}create(l,K,e=!1){if(l<=0||K<=0)throw new Error("Invalid SVG dimensions");const t=this._createSVG("svg:svg");return t.setAttribute("version","1.1"),e||(t.setAttribute("width",`${l}px`),t.setAttribute("height",`${K}px`)),t.setAttribute("preserveAspectRatio","none"),t.setAttribute("viewBox",`0 0 ${l} ${K}`),t}createElement(l){if(typeof l!="string")throw new Error("Invalid SVG element type");return this._createSVG(l)}_createSVG(l){(0,te.unreachable)("Abstract method `_createSVG` called.")}}O.BaseSVGFactory=ee},(b,O,ce)=>{Object.defineProperty(O,"__esModule",{value:!0}),O.MurmurHash3_64=void 0;var te=ce(1);const le=3285377520,me=4294901760,fe=65535;class S{constructor(n){this.h1=n?n&4294967295:le,this.h2=n?n&4294967295:le}update(n){let l,K;if(typeof n=="string"){l=new Uint8Array(n.length*2),K=0;for(let u=0,s=n.length;u<s;u++){const o=n.charCodeAt(u);o<=255?l[K++]=o:(l[K++]=o>>>8,l[K++]=o&255)}}else if((0,te.isArrayBuffer)(n))l=n.slice(),K=l.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const e=K>>2,t=K-e*4,H=new Uint32Array(l.buffer,0,e);let z=0,G=0,I=this.h1,C=this.h2;const w=3432918353,i=461845907,F=w&fe,B=i&fe;for(let u=0;u<e;u++)u&1?(z=H[u],z=z*w&me|z*F&fe,z=z<<15|z>>>17,z=z*i&me|z*B&fe,I^=z,I=I<<13|I>>>19,I=I*5+3864292196):(G=H[u],G=G*w&me|G*F&fe,G=G<<15|G>>>17,G=G*i&me|G*B&fe,C^=G,C=C<<13|C>>>19,C=C*5+3864292196);switch(z=0,t){case 3:z^=l[e*4+2]<<16;case 2:z^=l[e*4+1]<<8;case 1:z^=l[e*4],z=z*w&me|z*F&fe,z=z<<15|z>>>17,z=z*i&me|z*B&fe,e&1?I^=z:C^=z}this.h1=I,this.h2=C}hexdigest(){let n=this.h1,l=this.h2;return n^=l>>>1,n=n*3981806797&me|n*36045&fe,l=l*4283543511&me|((l<<16|n>>>16)*2950163797&me)>>>16,n^=l>>>1,n=n*444984403&me|n*60499&fe,l=l*3301882366&me|((l<<16|n>>>16)*3120437893&me)>>>16,n^=l>>>1,(n>>>0).toString(16).padStart(8,"0")+(l>>>0).toString(16).padStart(8,"0")}}O.MurmurHash3_64=S},(b,O,ce)=>{var S;Object.defineProperty(O,"__esModule",{value:!0}),O.FontLoader=O.FontFaceObject=void 0;var te=ce(1),le=ce(10);class me{constructor({ownerDocument:n=globalThis.document,styleElement:l=null}){Be(this,S,new Set);this._document=n,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(n){this.nativeFontFaces.add(n),this._document.fonts.add(n)}removeNativeFontFace(n){this.nativeFontFaces.delete(n),this._document.fonts.delete(n)}insertRule(n){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const l=this.styleElement.sheet;l.insertRule(n,l.cssRules.length)}clear(){for(const n of this.nativeFontFaces)this._document.fonts.delete(n);this.nativeFontFaces.clear(),ye(this,S).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(n){if(!(!n||ye(this,S).has(n.loadedName))){if((0,te.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:l,src:K,style:e}=n,t=new FontFace(l,K,e);this.addNativeFontFace(t);try{await t.load(),ye(this,S).add(l)}catch{(0,te.warn)(`Cannot load system font: ${n.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(t)}return}(0,te.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(n){if(n.attached||n.missingFile&&!n.systemFontInfo)return;if(n.attached=!0,n.systemFontInfo){await this.loadSystemFont(n.systemFontInfo);return}if(this.isFontLoadingAPISupported){const K=n.createNativeFontFace();if(K){this.addNativeFontFace(K);try{await K.loaded}catch(e){throw(0,te.warn)(`Failed to load font '${K.family}': '${e}'.`),n.disableFontFace=!0,e}}return}const l=n.createFontFaceRule();if(l){if(this.insertRule(l),this.isSyncFontLoadingSupported)return;await new Promise(K=>{const e=this._queueLoadingCallback(K);this._prepareFontLoadEvent(n,e)})}}get isFontLoadingAPISupported(){var l;const n=!!((l=this._document)!=null&&l.fonts);return(0,te.shadow)(this,"isFontLoadingAPISupported",n)}get isSyncFontLoadingSupported(){let n=!1;return(le.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(n=!0),(0,te.shadow)(this,"isSyncFontLoadingSupported",n)}_queueLoadingCallback(n){function l(){for((0,te.assert)(!e.done,"completeRequest() cannot be called twice."),e.done=!0;K.length>0&&K[0].done;){const t=K.shift();setTimeout(t.callback,0)}}const{loadingRequests:K}=this,e={done:!1,complete:l,callback:n};return K.push(e),e}get _loadTestFont(){const n=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,te.shadow)(this,"_loadTestFont",n)}_prepareFontLoadEvent(n,l){function K(f,m){return f.charCodeAt(m)<<24|f.charCodeAt(m+1)<<16|f.charCodeAt(m+2)<<8|f.charCodeAt(m+3)&255}function e(f,m,P,d){const A=f.substring(0,m),L=f.substring(m+P);return A+d+L}let t,H;const z=this._document.createElement("canvas");z.width=1,z.height=1;const G=z.getContext("2d");let I=0;function C(f,m){if(++I>30){(0,te.warn)("Load test font never loaded."),m();return}if(G.font="30px "+f,G.fillText(".",0,20),G.getImageData(0,0,1,1).data[3]>0){m();return}setTimeout(C.bind(null,f,m))}const w=`lt${Date.now()}${this.loadTestFontId++}`;let i=this._loadTestFont;i=e(i,976,w.length,w);const B=16,u=1482184792;let s=K(i,B);for(t=0,H=w.length-3;t<H;t+=4)s=s-u+K(w,t)|0;t<w.length&&(s=s-u+K(w+"XXX",t)|0),i=e(i,B,4,(0,te.string32)(s));const o=`url(data:font/opentype;base64,${btoa(i)});`,y=`@font-face {font-family:"${w}";src:${o}}`;this.insertRule(y);const r=this._document.createElement("div");r.style.visibility="hidden",r.style.width=r.style.height="10px",r.style.position="absolute",r.style.top=r.style.left="0px";for(const f of[n.loadedName,w]){const m=this._document.createElement("span");m.textContent="Hi",m.style.fontFamily=f,r.append(m)}this._document.body.append(r),C(w,()=>{r.remove(),l.complete()})}}S=new WeakMap,O.FontLoader=me;class fe{constructor(n,{isEvalSupported:l=!0,disableFontFace:K=!1,ignoreErrors:e=!1,inspectFont:t=null}){this.compiledGlyphs=Object.create(null);for(const H in n)this[H]=n[H];this.isEvalSupported=l!==!1,this.disableFontFace=K===!0,this.ignoreErrors=e===!0,this._inspectFont=t}createNativeFontFace(){var l;if(!this.data||this.disableFontFace)return null;let n;if(!this.cssFontInfo)n=new FontFace(this.loadedName,this.data,{});else{const K={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(K.style=`oblique ${this.cssFontInfo.italicAngle}deg`),n=new FontFace(this.cssFontInfo.fontFamily,this.data,K)}return(l=this._inspectFont)==null||l.call(this,this),n}createFontFaceRule(){var e;if(!this.data||this.disableFontFace)return null;const n=(0,te.bytesToString)(this.data),l=`url(data:${this.mimetype};base64,${btoa(n)});`;let K;if(!this.cssFontInfo)K=`@font-face {font-family:"${this.loadedName}";src:${l}}`;else{let t=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(t+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),K=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${t}src:${l}}`}return(e=this._inspectFont)==null||e.call(this,this,l),K}getPathGenerator(n,l){if(this.compiledGlyphs[l]!==void 0)return this.compiledGlyphs[l];let K;try{K=n.get(this.loadedName+"_path_"+l)}catch(e){if(!this.ignoreErrors)throw e;return(0,te.warn)(`getPathGenerator - ignoring character: "${e}".`),this.compiledGlyphs[l]=function(t,H){}}if(this.isEvalSupported&&te.FeatureTest.isEvalSupported){const e=[];for(const t of K){const H=t.args!==void 0?t.args.join(","):"";e.push("c.",t.cmd,"(",H,`);
`)}return this.compiledGlyphs[l]=new Function("c","size",e.join(""))}return this.compiledGlyphs[l]=function(e,t){for(const H of K)H.cmd==="scale"&&(H.args=[t,-t]),e[H.cmd].apply(e,H.args)}}}O.FontFaceObject=fe},(b,O)=>{Object.defineProperty(O,"__esModule",{value:!0}),O.isNodeJS=void 0;const ce=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");O.isNodeJS=ce},(b,O,ce)=>{var g,Qn,D,ei;Object.defineProperty(O,"__esModule",{value:!0}),O.CanvasGraphics=void 0;var te=ce(1),le=ce(6),me=ce(12),fe=ce(13),S=ce(10);const ee=16,n=100,l=4096,K=15,e=10,t=1e3,H=16;function z(q,v){if(q._removeMirroring)throw new Error("Context is already forwarding operations.");q.__originalSave=q.save,q.__originalRestore=q.restore,q.__originalRotate=q.rotate,q.__originalScale=q.scale,q.__originalTranslate=q.translate,q.__originalTransform=q.transform,q.__originalSetTransform=q.setTransform,q.__originalResetTransform=q.resetTransform,q.__originalClip=q.clip,q.__originalMoveTo=q.moveTo,q.__originalLineTo=q.lineTo,q.__originalBezierCurveTo=q.bezierCurveTo,q.__originalRect=q.rect,q.__originalClosePath=q.closePath,q.__originalBeginPath=q.beginPath,q._removeMirroring=()=>{q.save=q.__originalSave,q.restore=q.__originalRestore,q.rotate=q.__originalRotate,q.scale=q.__originalScale,q.translate=q.__originalTranslate,q.transform=q.__originalTransform,q.setTransform=q.__originalSetTransform,q.resetTransform=q.__originalResetTransform,q.clip=q.__originalClip,q.moveTo=q.__originalMoveTo,q.lineTo=q.__originalLineTo,q.bezierCurveTo=q.__originalBezierCurveTo,q.rect=q.__originalRect,q.closePath=q.__originalClosePath,q.beginPath=q.__originalBeginPath,delete q._removeMirroring},q.save=function(){v.save(),this.__originalSave()},q.restore=function(){v.restore(),this.__originalRestore()},q.translate=function(E,U){v.translate(E,U),this.__originalTranslate(E,U)},q.scale=function(E,U){v.scale(E,U),this.__originalScale(E,U)},q.transform=function(E,U,$,Q,ie,j){v.transform(E,U,$,Q,ie,j),this.__originalTransform(E,U,$,Q,ie,j)},q.setTransform=function(E,U,$,Q,ie,j){v.setTransform(E,U,$,Q,ie,j),this.__originalSetTransform(E,U,$,Q,ie,j)},q.resetTransform=function(){v.resetTransform(),this.__originalResetTransform()},q.rotate=function(E){v.rotate(E),this.__originalRotate(E)},q.clip=function(E){v.clip(E),this.__originalClip(E)},q.moveTo=function(x,E){v.moveTo(x,E),this.__originalMoveTo(x,E)},q.lineTo=function(x,E){v.lineTo(x,E),this.__originalLineTo(x,E)},q.bezierCurveTo=function(x,E,U,$,Q,ie){v.bezierCurveTo(x,E,U,$,Q,ie),this.__originalBezierCurveTo(x,E,U,$,Q,ie)},q.rect=function(x,E,U,$){v.rect(x,E,U,$),this.__originalRect(x,E,U,$)},q.closePath=function(){v.closePath(),this.__originalClosePath()},q.beginPath=function(){v.beginPath(),this.__originalBeginPath()}}class G{constructor(v){this.canvasFactory=v,this.cache=Object.create(null)}getCanvas(v,x,E){let U;return this.cache[v]!==void 0?(U=this.cache[v],this.canvasFactory.reset(U,x,E)):(U=this.canvasFactory.create(x,E),this.cache[v]=U),U}delete(v){delete this.cache[v]}clear(){for(const v in this.cache){const x=this.cache[v];this.canvasFactory.destroy(x),delete this.cache[v]}}}function I(q,v,x,E,U,$,Q,ie,j,X){const[R,Z,N,M,c,_]=(0,le.getCurrentTransform)(q);if(Z===0&&N===0){const J=Q*R+c,ae=Math.round(J),oe=ie*M+_,he=Math.round(oe),ne=(Q+j)*R+c,re=Math.abs(Math.round(ne)-ae)||1,de=(ie+X)*M+_,ue=Math.abs(Math.round(de)-he)||1;return q.setTransform(Math.sign(R),0,0,Math.sign(M),ae,he),q.drawImage(v,x,E,U,$,0,0,re,ue),q.setTransform(R,Z,N,M,c,_),[re,ue]}if(R===0&&M===0){const J=ie*N+c,ae=Math.round(J),oe=Q*Z+_,he=Math.round(oe),ne=(ie+X)*N+c,re=Math.abs(Math.round(ne)-ae)||1,de=(Q+j)*Z+_,ue=Math.abs(Math.round(de)-he)||1;return q.setTransform(0,Math.sign(Z),Math.sign(N),0,ae,he),q.drawImage(v,x,E,U,$,0,0,ue,re),q.setTransform(R,Z,N,M,c,_),[ue,re]}q.drawImage(v,x,E,U,$,Q,ie,j,X);const W=Math.hypot(R,Z),Y=Math.hypot(N,M);return[W*j,Y*X]}function C(q){const{width:v,height:x}=q;if(v>t||x>t)return null;const E=1e3,U=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),$=v+1;let Q=new Uint8Array($*(x+1)),ie,j,X;const R=v+7&-8;let Z=new Uint8Array(R*x),N=0;for(const Y of q.data){let J=128;for(;J>0;)Z[N++]=Y&J?0:255,J>>=1}let M=0;for(N=0,Z[N]!==0&&(Q[0]=1,++M),j=1;j<v;j++)Z[N]!==Z[N+1]&&(Q[j]=Z[N]?2:1,++M),N++;for(Z[N]!==0&&(Q[j]=2,++M),ie=1;ie<x;ie++){N=ie*R,X=ie*$,Z[N-R]!==Z[N]&&(Q[X]=Z[N]?1:8,++M);let Y=(Z[N]?4:0)+(Z[N-R]?8:0);for(j=1;j<v;j++)Y=(Y>>2)+(Z[N+1]?4:0)+(Z[N-R+1]?8:0),U[Y]&&(Q[X+j]=U[Y],++M),N++;if(Z[N-R]!==Z[N]&&(Q[X+j]=Z[N]?2:4,++M),M>E)return null}for(N=R*(x-1),X=ie*$,Z[N]!==0&&(Q[X]=8,++M),j=1;j<v;j++)Z[N]!==Z[N+1]&&(Q[X+j]=Z[N]?4:8,++M),N++;if(Z[N]!==0&&(Q[X+j]=4,++M),M>E)return null;const c=new Int32Array([0,$,-1,0,-$,0,0,0,1]),_=new Path2D;for(ie=0;M&&ie<=x;ie++){let Y=ie*$;const J=Y+v;for(;Y<J&&!Q[Y];)Y++;if(Y===J)continue;_.moveTo(Y%$,ie);const ae=Y;let oe=Q[Y];do{const he=c[oe];do Y+=he;while(!Q[Y]);const ne=Q[Y];ne!==5&&ne!==10?(oe=ne,Q[Y]=0):(oe=ne&51*oe>>4,Q[Y]&=oe>>2|oe<<2),_.lineTo(Y%$,Y/$|0),Q[Y]||--M}while(ae!==Y);--ie}return Z=null,Q=null,function(Y){Y.save(),Y.scale(1/v,-1/x),Y.translate(0,-x),Y.fill(_),Y.beginPath(),Y.restore()}}class w{constructor(v,x){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=te.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=te.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=te.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,v,x])}clone(){const v=Object.create(this);return v.clipBox=this.clipBox.slice(),v}setCurrentPoint(v,x){this.x=v,this.y=x}updatePathMinMax(v,x,E){[x,E]=te.Util.applyTransform([x,E],v),this.minX=Math.min(this.minX,x),this.minY=Math.min(this.minY,E),this.maxX=Math.max(this.maxX,x),this.maxY=Math.max(this.maxY,E)}updateRectMinMax(v,x){const E=te.Util.applyTransform(x,v),U=te.Util.applyTransform(x.slice(2),v);this.minX=Math.min(this.minX,E[0],U[0]),this.minY=Math.min(this.minY,E[1],U[1]),this.maxX=Math.max(this.maxX,E[0],U[0]),this.maxY=Math.max(this.maxY,E[1],U[1])}updateScalingPathMinMax(v,x){te.Util.scaleMinMax(v,x),this.minX=Math.min(this.minX,x[0]),this.maxX=Math.max(this.maxX,x[1]),this.minY=Math.min(this.minY,x[2]),this.maxY=Math.max(this.maxY,x[3])}updateCurvePathMinMax(v,x,E,U,$,Q,ie,j,X,R){const Z=te.Util.bezierBoundingBox(x,E,U,$,Q,ie,j,X);if(R){R[0]=Math.min(R[0],Z[0],Z[2]),R[1]=Math.max(R[1],Z[0],Z[2]),R[2]=Math.min(R[2],Z[1],Z[3]),R[3]=Math.max(R[3],Z[1],Z[3]);return}this.updateRectMinMax(v,Z)}getPathBoundingBox(v=me.PathType.FILL,x=null){const E=[this.minX,this.minY,this.maxX,this.maxY];if(v===me.PathType.STROKE){x||(0,te.unreachable)("Stroke bounding box must include transform.");const U=te.Util.singularValueDecompose2dScale(x),$=U[0]*this.lineWidth/2,Q=U[1]*this.lineWidth/2;E[0]-=$,E[1]-=Q,E[2]+=$,E[3]+=Q}return E}updateClipFromPath(){const v=te.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(v||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(v){this.clipBox=v,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(v=me.PathType.FILL,x=null){return te.Util.intersect(this.clipBox,this.getPathBoundingBox(v,x))}}function i(q,v){if(typeof ImageData<"u"&&v instanceof ImageData){q.putImageData(v,0,0);return}const x=v.height,E=v.width,U=x%H,$=(x-U)/H,Q=U===0?$:$+1,ie=q.createImageData(E,H);let j=0,X;const R=v.data,Z=ie.data;let N,M,c,_;if(v.kind===te.ImageKind.GRAYSCALE_1BPP){const W=R.byteLength,Y=new Uint32Array(Z.buffer,0,Z.byteLength>>2),J=Y.length,ae=E+7>>3,oe=4294967295,he=te.FeatureTest.isLittleEndian?4278190080:255;for(N=0;N<Q;N++){for(c=N<$?H:U,X=0,M=0;M<c;M++){const ne=W-j;let re=0;const de=ne>ae?E:ne*8-7,ue=de&-8;let ge=0,pe=0;for(;re<ue;re+=8)pe=R[j++],Y[X++]=pe&128?oe:he,Y[X++]=pe&64?oe:he,Y[X++]=pe&32?oe:he,Y[X++]=pe&16?oe:he,Y[X++]=pe&8?oe:he,Y[X++]=pe&4?oe:he,Y[X++]=pe&2?oe:he,Y[X++]=pe&1?oe:he;for(;re<de;re++)ge===0&&(pe=R[j++],ge=128),Y[X++]=pe&ge?oe:he,ge>>=1}for(;X<J;)Y[X++]=0;q.putImageData(ie,0,N*H)}}else if(v.kind===te.ImageKind.RGBA_32BPP){for(M=0,_=E*H*4,N=0;N<$;N++)Z.set(R.subarray(j,j+_)),j+=_,q.putImageData(ie,0,M),M+=H;N<Q&&(_=E*U*4,Z.set(R.subarray(j,j+_)),q.putImageData(ie,0,M))}else if(v.kind===te.ImageKind.RGB_24BPP)for(c=H,_=E*c,N=0;N<Q;N++){for(N>=$&&(c=U,_=E*c),X=0,M=_;M--;)Z[X++]=R[j++],Z[X++]=R[j++],Z[X++]=R[j++],Z[X++]=255;q.putImageData(ie,0,N*H)}else throw new Error(`bad image kind: ${v.kind}`)}function F(q,v){if(v.bitmap){q.drawImage(v.bitmap,0,0);return}const x=v.height,E=v.width,U=x%H,$=(x-U)/H,Q=U===0?$:$+1,ie=q.createImageData(E,H);let j=0;const X=v.data,R=ie.data;for(let Z=0;Z<Q;Z++){const N=Z<$?H:U;({srcPos:j}=(0,fe.convertBlackAndWhiteToRGBA)({src:X,srcPos:j,dest:R,width:E,height:N,nonBlackColor:0})),q.putImageData(ie,0,Z*H)}}function B(q,v){const x=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const E of x)q[E]!==void 0&&(v[E]=q[E]);q.setLineDash!==void 0&&(v.setLineDash(q.getLineDash()),v.lineDashOffset=q.lineDashOffset)}function u(q){q.strokeStyle=q.fillStyle="#000000",q.fillRule="nonzero",q.globalAlpha=1,q.lineWidth=1,q.lineCap="butt",q.lineJoin="miter",q.miterLimit=10,q.globalCompositeOperation="source-over",q.font="10px sans-serif",q.setLineDash!==void 0&&(q.setLineDash([]),q.lineDashOffset=0),S.isNodeJS||(q.filter="none")}function s(q,v,x,E){const U=q.length;for(let $=3;$<U;$+=4){const Q=q[$];if(Q===0)q[$-3]=v,q[$-2]=x,q[$-1]=E;else if(Q<255){const ie=255-Q;q[$-3]=q[$-3]*Q+v*ie>>8,q[$-2]=q[$-2]*Q+x*ie>>8,q[$-1]=q[$-1]*Q+E*ie>>8}}}function o(q,v,x){const E=q.length,U=1/255;for(let $=3;$<E;$+=4){const Q=x?x[q[$]]:q[$];v[$]=v[$]*Q*U|0}}function y(q,v,x){const E=q.length;for(let U=3;U<E;U+=4){const $=q[U-3]*77+q[U-2]*152+q[U-1]*28;v[U]=x?v[U]*x[$>>8]>>8:v[U]*$>>16}}function r(q,v,x,E,U,$,Q,ie,j,X,R){const Z=!!$,N=Z?$[0]:0,M=Z?$[1]:0,c=Z?$[2]:0;let _;U==="Luminosity"?_=y:_=o;const Y=Math.min(E,Math.ceil(1048576/x));for(let J=0;J<E;J+=Y){const ae=Math.min(Y,E-J),oe=q.getImageData(ie-X,J+(j-R),x,ae),he=v.getImageData(ie,J+j,x,ae);Z&&s(oe.data,N,M,c),_(oe.data,he.data,Q),v.putImageData(he,ie,J+j)}}function f(q,v,x,E){const U=E[0],$=E[1],Q=E[2]-U,ie=E[3]-$;Q===0||ie===0||(r(v.context,x,Q,ie,v.subtype,v.backdrop,v.transferMap,U,$,v.offsetX,v.offsetY),q.save(),q.globalAlpha=1,q.globalCompositeOperation="source-over",q.setTransform(1,0,0,1,0,0),q.drawImage(x.canvas,0,0),q.restore())}function m(q,v){const x=te.Util.singularValueDecompose2dScale(q);x[0]=Math.fround(x[0]),x[1]=Math.fround(x[1]);const E=Math.fround((globalThis.devicePixelRatio||1)*le.PixelsPerInch.PDF_TO_CSS_UNITS);return v!==void 0?v:x[0]<=E||x[1]<=E}const P=["butt","round","square"],d=["miter","round","bevel"],A={},L={},V=class{constructor(v,x,E,U,$,{optionalContentConfig:Q,markedContentStack:ie=null},j,X){Be(this,g);Be(this,D);this.ctx=v,this.current=new w(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=x,this.objs=E,this.canvasFactory=U,this.filterFactory=$,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=ie||[],this.optionalContentConfig=Q,this.cachedCanvases=new G(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=j,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=X,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(v,x=null){return typeof v=="string"?v.startsWith("g_")?this.commonObjs.get(v):this.objs.get(v):x}beginDrawing({transform:v,viewport:x,transparency:E=!1,background:U=null}){const $=this.ctx.canvas.width,Q=this.ctx.canvas.height,ie=this.ctx.fillStyle;if(this.ctx.fillStyle=U||"#ffffff",this.ctx.fillRect(0,0,$,Q),this.ctx.fillStyle=ie,E){const j=this.cachedCanvases.getCanvas("transparent",$,Q);this.compositeCtx=this.ctx,this.transparentCanvas=j.canvas,this.ctx=j.context,this.ctx.save(),this.ctx.transform(...(0,le.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),u(this.ctx),v&&(this.ctx.transform(...v),this.outputScaleX=v[0],this.outputScaleY=v[0]),this.ctx.transform(...x.transform),this.viewportScale=x.scale,this.baseTransform=(0,le.getCurrentTransform)(this.ctx)}executeOperatorList(v,x,E,U){const $=v.argsArray,Q=v.fnArray;let ie=x||0;const j=$.length;if(j===ie)return ie;const X=j-ie>e&&typeof E=="function",R=X?Date.now()+K:0;let Z=0;const N=this.commonObjs,M=this.objs;let c;for(;;){if(U!==void 0&&ie===U.nextBreakPoint)return U.breakIt(ie,E),ie;if(c=Q[ie],c!==te.OPS.dependency)this[c].apply(this,$[ie]);else for(const _ of $[ie]){const W=_.startsWith("g_")?N:M;if(!W.has(_))return W.get(_,E),ie}if(ie++,ie===j)return ie;if(X&&++Z>e){if(Date.now()>R)return E(),ie;Z=0}}}endDrawing(){ze(this,g,Qn).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const v of this._cachedBitmapsMap.values()){for(const x of v.values())typeof HTMLCanvasElement<"u"&&x instanceof HTMLCanvasElement&&(x.width=x.height=0);v.clear()}this._cachedBitmapsMap.clear(),ze(this,D,ei).call(this)}_scaleImage(v,x){const E=v.width,U=v.height;let $=Math.max(Math.hypot(x[0],x[1]),1),Q=Math.max(Math.hypot(x[2],x[3]),1),ie=E,j=U,X="prescale1",R,Z;for(;$>2&&ie>1||Q>2&&j>1;){let N=ie,M=j;$>2&&ie>1&&(N=ie>=16384?Math.floor(ie/2)-1||1:Math.ceil(ie/2),$/=ie/N),Q>2&&j>1&&(M=j>=16384?Math.floor(j/2)-1||1:Math.ceil(j)/2,Q/=j/M),R=this.cachedCanvases.getCanvas(X,N,M),Z=R.context,Z.clearRect(0,0,N,M),Z.drawImage(v,0,0,ie,j,0,0,N,M),v=R.canvas,ie=N,j=M,X=X==="prescale1"?"prescale2":"prescale1"}return{img:v,paintWidth:ie,paintHeight:j}}_createMaskCanvas(v){const x=this.ctx,{width:E,height:U}=v,$=this.current.fillColor,Q=this.current.patternFill,ie=(0,le.getCurrentTransform)(x);let j,X,R,Z;if((v.bitmap||v.data)&&v.count>1){const re=v.bitmap||v.data.buffer;X=JSON.stringify(Q?ie:[ie.slice(0,4),$]),j=this._cachedBitmapsMap.get(re),j||(j=new Map,this._cachedBitmapsMap.set(re,j));const de=j.get(X);if(de&&!Q){const ue=Math.round(Math.min(ie[0],ie[2])+ie[4]),ge=Math.round(Math.min(ie[1],ie[3])+ie[5]);return{canvas:de,offsetX:ue,offsetY:ge}}R=de}R||(Z=this.cachedCanvases.getCanvas("maskCanvas",E,U),F(Z.context,v));let N=te.Util.transform(ie,[1/E,0,0,-1/U,0,0]);N=te.Util.transform(N,[1,0,0,1,0,-U]);const M=te.Util.applyTransform([0,0],N),c=te.Util.applyTransform([E,U],N),_=te.Util.normalizeRect([M[0],M[1],c[0],c[1]]),W=Math.round(_[2]-_[0])||1,Y=Math.round(_[3]-_[1])||1,J=this.cachedCanvases.getCanvas("fillCanvas",W,Y),ae=J.context,oe=Math.min(M[0],c[0]),he=Math.min(M[1],c[1]);ae.translate(-oe,-he),ae.transform(...N),R||(R=this._scaleImage(Z.canvas,(0,le.getCurrentTransformInverse)(ae)),R=R.img,j&&Q&&j.set(X,R)),ae.imageSmoothingEnabled=m((0,le.getCurrentTransform)(ae),v.interpolate),I(ae,R,0,0,R.width,R.height,0,0,E,U),ae.globalCompositeOperation="source-in";const ne=te.Util.transform((0,le.getCurrentTransformInverse)(ae),[1,0,0,1,-oe,-he]);return ae.fillStyle=Q?$.getPattern(x,this,ne,me.PathType.FILL):$,ae.fillRect(0,0,E,U),j&&!Q&&(this.cachedCanvases.delete("fillCanvas"),j.set(X,J.canvas)),{canvas:J.canvas,offsetX:Math.round(oe),offsetY:Math.round(he)}}setLineWidth(v){v!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=v,this.ctx.lineWidth=v}setLineCap(v){this.ctx.lineCap=P[v]}setLineJoin(v){this.ctx.lineJoin=d[v]}setMiterLimit(v){this.ctx.miterLimit=v}setDash(v,x){const E=this.ctx;E.setLineDash!==void 0&&(E.setLineDash(v),E.lineDashOffset=x)}setRenderingIntent(v){}setFlatness(v){}setGState(v){for(const[x,E]of v)switch(x){case"LW":this.setLineWidth(E);break;case"LC":this.setLineCap(E);break;case"LJ":this.setLineJoin(E);break;case"ML":this.setMiterLimit(E);break;case"D":this.setDash(E[0],E[1]);break;case"RI":this.setRenderingIntent(E);break;case"FL":this.setFlatness(E);break;case"Font":this.setFont(E[0],E[1]);break;case"CA":this.current.strokeAlpha=E;break;case"ca":this.current.fillAlpha=E,this.ctx.globalAlpha=E;break;case"BM":this.ctx.globalCompositeOperation=E;break;case"SMask":this.current.activeSMask=E?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(E);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const v=this.inSMaskMode;this.current.activeSMask&&!v?this.beginSMaskMode():!this.current.activeSMask&&v&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const v=this.ctx.canvas.width,x=this.ctx.canvas.height,E="smaskGroupAt"+this.groupLevel,U=this.cachedCanvases.getCanvas(E,v,x);this.suspendedCtx=this.ctx,this.ctx=U.context;const $=this.ctx;$.setTransform(...(0,le.getCurrentTransform)(this.suspendedCtx)),B(this.suspendedCtx,$),z($,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),B(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(v){if(!this.current.activeSMask)return;v?(v[0]=Math.floor(v[0]),v[1]=Math.floor(v[1]),v[2]=Math.ceil(v[2]),v[3]=Math.ceil(v[3])):v=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const x=this.current.activeSMask,E=this.suspendedCtx;f(E,x,this.ctx,v),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(B(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const v=this.current;this.stateStack.push(v),this.current=v.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),B(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(v,x,E,U,$,Q){this.ctx.transform(v,x,E,U,$,Q),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(v,x,E){const U=this.ctx,$=this.current;let Q=$.x,ie=$.y,j,X;const R=(0,le.getCurrentTransform)(U),Z=R[0]===0&&R[3]===0||R[1]===0&&R[2]===0,N=Z?E.slice(0):null;for(let M=0,c=0,_=v.length;M<_;M++)switch(v[M]|0){case te.OPS.rectangle:Q=x[c++],ie=x[c++];const W=x[c++],Y=x[c++],J=Q+W,ae=ie+Y;U.moveTo(Q,ie),W===0||Y===0?U.lineTo(J,ae):(U.lineTo(J,ie),U.lineTo(J,ae),U.lineTo(Q,ae)),Z||$.updateRectMinMax(R,[Q,ie,J,ae]),U.closePath();break;case te.OPS.moveTo:Q=x[c++],ie=x[c++],U.moveTo(Q,ie),Z||$.updatePathMinMax(R,Q,ie);break;case te.OPS.lineTo:Q=x[c++],ie=x[c++],U.lineTo(Q,ie),Z||$.updatePathMinMax(R,Q,ie);break;case te.OPS.curveTo:j=Q,X=ie,Q=x[c+4],ie=x[c+5],U.bezierCurveTo(x[c],x[c+1],x[c+2],x[c+3],Q,ie),$.updateCurvePathMinMax(R,j,X,x[c],x[c+1],x[c+2],x[c+3],Q,ie,N),c+=6;break;case te.OPS.curveTo2:j=Q,X=ie,U.bezierCurveTo(Q,ie,x[c],x[c+1],x[c+2],x[c+3]),$.updateCurvePathMinMax(R,j,X,Q,ie,x[c],x[c+1],x[c+2],x[c+3],N),Q=x[c+2],ie=x[c+3],c+=4;break;case te.OPS.curveTo3:j=Q,X=ie,Q=x[c+2],ie=x[c+3],U.bezierCurveTo(x[c],x[c+1],Q,ie,Q,ie),$.updateCurvePathMinMax(R,j,X,x[c],x[c+1],Q,ie,Q,ie,N),c+=4;break;case te.OPS.closePath:U.closePath();break}Z&&$.updateScalingPathMinMax(R,N),$.setCurrentPoint(Q,ie)}closePath(){this.ctx.closePath()}stroke(v=!0){const x=this.ctx,E=this.current.strokeColor;x.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof E=="object"&&(E!=null&&E.getPattern)?(x.save(),x.strokeStyle=E.getPattern(x,this,(0,le.getCurrentTransformInverse)(x),me.PathType.STROKE),this.rescaleAndStroke(!1),x.restore()):this.rescaleAndStroke(!0)),v&&this.consumePath(this.current.getClippedPathBoundingBox()),x.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(v=!0){const x=this.ctx,E=this.current.fillColor,U=this.current.patternFill;let $=!1;U&&(x.save(),x.fillStyle=E.getPattern(x,this,(0,le.getCurrentTransformInverse)(x),me.PathType.FILL),$=!0);const Q=this.current.getClippedPathBoundingBox();this.contentVisible&&Q!==null&&(this.pendingEOFill?(x.fill("evenodd"),this.pendingEOFill=!1):x.fill()),$&&x.restore(),v&&this.consumePath(Q)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=A}eoClip(){this.pendingClip=L}beginText(){this.current.textMatrix=te.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const v=this.pendingTextPaths,x=this.ctx;if(v===void 0){x.beginPath();return}x.save(),x.beginPath();for(const E of v)x.setTransform(...E.transform),x.translate(E.x,E.y),E.addToPath(x,E.fontSize);x.restore(),x.clip(),x.beginPath(),delete this.pendingTextPaths}setCharSpacing(v){this.current.charSpacing=v}setWordSpacing(v){this.current.wordSpacing=v}setHScale(v){this.current.textHScale=v/100}setLeading(v){this.current.leading=-v}setFont(v,x){var R;const E=this.commonObjs.get(v),U=this.current;if(!E)throw new Error(`Can't find font for ${v}`);if(U.fontMatrix=E.fontMatrix||te.FONT_IDENTITY_MATRIX,(U.fontMatrix[0]===0||U.fontMatrix[3]===0)&&(0,te.warn)("Invalid font matrix for font "+v),x<0?(x=-x,U.fontDirection=-1):U.fontDirection=1,this.current.font=E,this.current.fontSize=x,E.isType3Font)return;const $=E.loadedName||"sans-serif",Q=((R=E.systemFontInfo)==null?void 0:R.css)||`"${$}", ${E.fallbackName}`;let ie="normal";E.black?ie="900":E.bold&&(ie="bold");const j=E.italic?"italic":"normal";let X=x;x<ee?X=ee:x>n&&(X=n),this.current.fontSizeScale=x/X,this.ctx.font=`${j} ${ie} ${X}px ${Q}`}setTextRenderingMode(v){this.current.textRenderingMode=v}setTextRise(v){this.current.textRise=v}moveText(v,x){this.current.x=this.current.lineX+=v,this.current.y=this.current.lineY+=x}setLeadingMoveText(v,x){this.setLeading(-x),this.moveText(v,x)}setTextMatrix(v,x,E,U,$,Q){this.current.textMatrix=[v,x,E,U,$,Q],this.current.textMatrixScale=Math.hypot(v,x),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(v,x,E,U){const $=this.ctx,Q=this.current,ie=Q.font,j=Q.textRenderingMode,X=Q.fontSize/Q.fontSizeScale,R=j&te.TextRenderingMode.FILL_STROKE_MASK,Z=!!(j&te.TextRenderingMode.ADD_TO_PATH_FLAG),N=Q.patternFill&&!ie.missingFile;let M;(ie.disableFontFace||Z||N)&&(M=ie.getPathGenerator(this.commonObjs,v)),ie.disableFontFace||N?($.save(),$.translate(x,E),$.beginPath(),M($,X),U&&$.setTransform(...U),(R===te.TextRenderingMode.FILL||R===te.TextRenderingMode.FILL_STROKE)&&$.fill(),(R===te.TextRenderingMode.STROKE||R===te.TextRenderingMode.FILL_STROKE)&&$.stroke(),$.restore()):((R===te.TextRenderingMode.FILL||R===te.TextRenderingMode.FILL_STROKE)&&$.fillText(v,x,E),(R===te.TextRenderingMode.STROKE||R===te.TextRenderingMode.FILL_STROKE)&&$.strokeText(v,x,E)),Z&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,le.getCurrentTransform)($),x,y:E,fontSize:X,addToPath:M})}get isFontSubpixelAAEnabled(){const{context:v}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);v.scale(1.5,1),v.fillText("I",0,10);const x=v.getImageData(0,0,10,10).data;let E=!1;for(let U=3;U<x.length;U+=4)if(x[U]>0&&x[U]<255){E=!0;break}return(0,te.shadow)(this,"isFontSubpixelAAEnabled",E)}showText(v){const x=this.current,E=x.font;if(E.isType3Font)return this.showType3Text(v);const U=x.fontSize;if(U===0)return;const $=this.ctx,Q=x.fontSizeScale,ie=x.charSpacing,j=x.wordSpacing,X=x.fontDirection,R=x.textHScale*X,Z=v.length,N=E.vertical,M=N?1:-1,c=E.defaultVMetrics,_=U*x.fontMatrix[0],W=x.textRenderingMode===te.TextRenderingMode.FILL&&!E.disableFontFace&&!x.patternFill;$.save(),$.transform(...x.textMatrix),$.translate(x.x,x.y+x.textRise),X>0?$.scale(R,-1):$.scale(R,1);let Y;if(x.patternFill){$.save();const ne=x.fillColor.getPattern($,this,(0,le.getCurrentTransformInverse)($),me.PathType.FILL);Y=(0,le.getCurrentTransform)($),$.restore(),$.fillStyle=ne}let J=x.lineWidth;const ae=x.textMatrixScale;if(ae===0||J===0){const ne=x.textRenderingMode&te.TextRenderingMode.FILL_STROKE_MASK;(ne===te.TextRenderingMode.STROKE||ne===te.TextRenderingMode.FILL_STROKE)&&(J=this.getSinglePixelWidth())}else J/=ae;if(Q!==1&&($.scale(Q,Q),J/=Q),$.lineWidth=J,E.isInvalidPDFjsFont){const ne=[];let re=0;for(const de of v)ne.push(de.unicode),re+=de.width;$.fillText(ne.join(""),0,0),x.x+=re*_*R,$.restore(),this.compose();return}let oe=0,he;for(he=0;he<Z;++he){const ne=v[he];if(typeof ne=="number"){oe+=M*ne*U/1e3;continue}let re=!1;const de=(ne.isSpace?j:0)+ie,ue=ne.fontChar,ge=ne.accent;let pe,xe,Ie=ne.width;if(N){const Ae=ne.vmetric||c,we=-(ne.vmetric?Ae[1]:Ie*.5)*_,be=Ae[2]*_;Ie=Ae?-Ae[0]:Ie,pe=we/Q,xe=(oe+be)/Q}else pe=oe/Q,xe=0;if(E.remeasure&&Ie>0){const Ae=$.measureText(ue).width*1e3/U*Q;if(Ie<Ae&&this.isFontSubpixelAAEnabled){const we=Ie/Ae;re=!0,$.save(),$.scale(we,1),pe/=we}else Ie!==Ae&&(pe+=(Ie-Ae)/2e3*U/Q)}if(this.contentVisible&&(ne.isInFont||E.missingFile)){if(W&&!ge)$.fillText(ue,pe,xe);else if(this.paintChar(ue,pe,xe,Y),ge){const Ae=pe+U*ge.offset.x/Q,we=xe-U*ge.offset.y/Q;this.paintChar(ge.fontChar,Ae,we,Y)}}let Fe;N?Fe=Ie*_-de*X:Fe=Ie*_+de*X,oe+=Fe,re&&$.restore()}N?x.y-=oe:x.x+=oe*R,$.restore(),this.compose()}showType3Text(v){const x=this.ctx,E=this.current,U=E.font,$=E.fontSize,Q=E.fontDirection,ie=U.vertical?1:-1,j=E.charSpacing,X=E.wordSpacing,R=E.textHScale*Q,Z=E.fontMatrix||te.FONT_IDENTITY_MATRIX,N=v.length,M=E.textRenderingMode===te.TextRenderingMode.INVISIBLE;let c,_,W,Y;if(!(M||$===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,x.save(),x.transform(...E.textMatrix),x.translate(E.x,E.y),x.scale(R,Q),c=0;c<N;++c){if(_=v[c],typeof _=="number"){Y=ie*_*$/1e3,this.ctx.translate(Y,0),E.x+=Y*R;continue}const J=(_.isSpace?X:0)+j,ae=U.charProcOperatorList[_.operatorListId];if(!ae){(0,te.warn)(`Type3 character "${_.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=_,this.save(),x.scale($,$),x.transform(...Z),this.executeOperatorList(ae),this.restore()),W=te.Util.applyTransform([_.width,0],Z)[0]*$+J,x.translate(W,0),E.x+=W*R}x.restore(),this.processingType3=null}}setCharWidth(v,x){}setCharWidthAndBounds(v,x,E,U,$,Q){this.ctx.rect(E,U,$-E,Q-U),this.ctx.clip(),this.endPath()}getColorN_Pattern(v){let x;if(v[0]==="TilingPattern"){const E=v[1],U=this.baseTransform||(0,le.getCurrentTransform)(this.ctx),$={createCanvasGraphics:Q=>new V(Q,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};x=new me.TilingPattern(v,E,this.ctx,$,U)}else x=this._getPattern(v[1],v[2]);return x}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(v,x,E){const U=te.Util.makeHexColor(v,x,E);this.ctx.strokeStyle=U,this.current.strokeColor=U}setFillRGBColor(v,x,E){const U=te.Util.makeHexColor(v,x,E);this.ctx.fillStyle=U,this.current.fillColor=U,this.current.patternFill=!1}_getPattern(v,x=null){let E;return this.cachedPatterns.has(v)?E=this.cachedPatterns.get(v):(E=(0,me.getShadingPattern)(this.getObject(v)),this.cachedPatterns.set(v,E)),x&&(E.matrix=x),E}shadingFill(v){if(!this.contentVisible)return;const x=this.ctx;this.save();const E=this._getPattern(v);x.fillStyle=E.getPattern(x,this,(0,le.getCurrentTransformInverse)(x),me.PathType.SHADING);const U=(0,le.getCurrentTransformInverse)(x);if(U){const $=x.canvas,Q=$.width,ie=$.height,j=te.Util.applyTransform([0,0],U),X=te.Util.applyTransform([0,ie],U),R=te.Util.applyTransform([Q,0],U),Z=te.Util.applyTransform([Q,ie],U),N=Math.min(j[0],X[0],R[0],Z[0]),M=Math.min(j[1],X[1],R[1],Z[1]),c=Math.max(j[0],X[0],R[0],Z[0]),_=Math.max(j[1],X[1],R[1],Z[1]);this.ctx.fillRect(N,M,c-N,_-M)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,te.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,te.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(v,x){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(v)&&v.length===6&&this.transform(...v),this.baseTransform=(0,le.getCurrentTransform)(this.ctx),x)){const E=x[2]-x[0],U=x[3]-x[1];this.ctx.rect(x[0],x[1],E,U),this.current.updateRectMinMax((0,le.getCurrentTransform)(this.ctx),x),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(v){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const x=this.ctx;v.isolated||(0,te.info)("TODO: Support non-isolated groups."),v.knockout&&(0,te.warn)("Knockout groups not supported.");const E=(0,le.getCurrentTransform)(x);if(v.matrix&&x.transform(...v.matrix),!v.bbox)throw new Error("Bounding box is required.");let U=te.Util.getAxialAlignedBoundingBox(v.bbox,(0,le.getCurrentTransform)(x));const $=[0,0,x.canvas.width,x.canvas.height];U=te.Util.intersect(U,$)||[0,0,0,0];const Q=Math.floor(U[0]),ie=Math.floor(U[1]);let j=Math.max(Math.ceil(U[2])-Q,1),X=Math.max(Math.ceil(U[3])-ie,1),R=1,Z=1;j>l&&(R=j/l,j=l),X>l&&(Z=X/l,X=l),this.current.startNewPathAndClipBox([0,0,j,X]);let N="groupAt"+this.groupLevel;v.smask&&(N+="_smask_"+this.smaskCounter++%2);const M=this.cachedCanvases.getCanvas(N,j,X),c=M.context;c.scale(1/R,1/Z),c.translate(-Q,-ie),c.transform(...E),v.smask?this.smaskStack.push({canvas:M.canvas,context:c,offsetX:Q,offsetY:ie,scaleX:R,scaleY:Z,subtype:v.smask.subtype,backdrop:v.smask.backdrop,transferMap:v.smask.transferMap||null,startTransformInverse:null}):(x.setTransform(1,0,0,1,0,0),x.translate(Q,ie),x.scale(R,Z),x.save()),B(x,c),this.ctx=c,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(x),this.groupLevel++}endGroup(v){if(!this.contentVisible)return;this.groupLevel--;const x=this.ctx,E=this.groupStack.pop();if(this.ctx=E,this.ctx.imageSmoothingEnabled=!1,v.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const U=(0,le.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...U);const $=te.Util.getAxialAlignedBoundingBox([0,0,x.canvas.width,x.canvas.height],U);this.ctx.drawImage(x.canvas,0,0),this.ctx.restore(),this.compose($)}}beginAnnotation(v,x,E,U,$){if(ze(this,g,Qn).call(this),u(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(x)&&x.length===4){const Q=x[2]-x[0],ie=x[3]-x[1];if($&&this.annotationCanvasMap){E=E.slice(),E[4]-=x[0],E[5]-=x[1],x=x.slice(),x[0]=x[1]=0,x[2]=Q,x[3]=ie;const[j,X]=te.Util.singularValueDecompose2dScale((0,le.getCurrentTransform)(this.ctx)),{viewportScale:R}=this,Z=Math.ceil(Q*this.outputScaleX*R),N=Math.ceil(ie*this.outputScaleY*R);this.annotationCanvas=this.canvasFactory.create(Z,N);const{canvas:M,context:c}=this.annotationCanvas;this.annotationCanvasMap.set(v,M),this.annotationCanvas.savedCtx=this.ctx,this.ctx=c,this.ctx.save(),this.ctx.setTransform(j,0,0,-X,0,ie*X),u(this.ctx)}else u(this.ctx),this.ctx.rect(x[0],x[1],Q,ie),this.ctx.clip(),this.endPath()}this.current=new w(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...E),this.transform(...U)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ze(this,D,ei).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(v){if(!this.contentVisible)return;const x=v.count;v=this.getObject(v.data,v),v.count=x;const E=this.ctx,U=this.processingType3;if(U&&(U.compiled===void 0&&(U.compiled=C(v)),U.compiled)){U.compiled(E);return}const $=this._createMaskCanvas(v),Q=$.canvas;E.save(),E.setTransform(1,0,0,1,0,0),E.drawImage(Q,$.offsetX,$.offsetY),E.restore(),this.compose()}paintImageMaskXObjectRepeat(v,x,E=0,U=0,$,Q){if(!this.contentVisible)return;v=this.getObject(v.data,v);const ie=this.ctx;ie.save();const j=(0,le.getCurrentTransform)(ie);ie.transform(x,E,U,$,0,0);const X=this._createMaskCanvas(v);ie.setTransform(1,0,0,1,X.offsetX-j[4],X.offsetY-j[5]);for(let R=0,Z=Q.length;R<Z;R+=2){const N=te.Util.transform(j,[x,E,U,$,Q[R],Q[R+1]]),[M,c]=te.Util.applyTransform([0,0],N);ie.drawImage(X.canvas,M,c)}ie.restore(),this.compose()}paintImageMaskXObjectGroup(v){if(!this.contentVisible)return;const x=this.ctx,E=this.current.fillColor,U=this.current.patternFill;for(const $ of v){const{data:Q,width:ie,height:j,transform:X}=$,R=this.cachedCanvases.getCanvas("maskCanvas",ie,j),Z=R.context;Z.save();const N=this.getObject(Q,$);F(Z,N),Z.globalCompositeOperation="source-in",Z.fillStyle=U?E.getPattern(Z,this,(0,le.getCurrentTransformInverse)(x),me.PathType.FILL):E,Z.fillRect(0,0,ie,j),Z.restore(),x.save(),x.transform(...X),x.scale(1,-1),I(x,R.canvas,0,0,ie,j,0,-1,1,1),x.restore()}this.compose()}paintImageXObject(v){if(!this.contentVisible)return;const x=this.getObject(v);if(!x){(0,te.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(x)}paintImageXObjectRepeat(v,x,E,U){if(!this.contentVisible)return;const $=this.getObject(v);if(!$){(0,te.warn)("Dependent image isn't ready yet");return}const Q=$.width,ie=$.height,j=[];for(let X=0,R=U.length;X<R;X+=2)j.push({transform:[x,0,0,E,U[X],U[X+1]],x:0,y:0,w:Q,h:ie});this.paintInlineImageXObjectGroup($,j)}applyTransferMapsToCanvas(v){return this.current.transferMaps!=="none"&&(v.filter=this.current.transferMaps,v.drawImage(v.canvas,0,0),v.filter="none"),v.canvas}applyTransferMapsToBitmap(v){if(this.current.transferMaps==="none")return v.bitmap;const{bitmap:x,width:E,height:U}=v,$=this.cachedCanvases.getCanvas("inlineImage",E,U),Q=$.context;return Q.filter=this.current.transferMaps,Q.drawImage(x,0,0),Q.filter="none",$.canvas}paintInlineImageXObject(v){if(!this.contentVisible)return;const x=v.width,E=v.height,U=this.ctx;this.save(),S.isNodeJS||(U.filter="none"),U.scale(1/x,-1/E);let $;if(v.bitmap)$=this.applyTransferMapsToBitmap(v);else if(typeof HTMLElement=="function"&&v instanceof HTMLElement||!v.data)$=v;else{const j=this.cachedCanvases.getCanvas("inlineImage",x,E).context;i(j,v),$=this.applyTransferMapsToCanvas(j)}const Q=this._scaleImage($,(0,le.getCurrentTransformInverse)(U));U.imageSmoothingEnabled=m((0,le.getCurrentTransform)(U),v.interpolate),I(U,Q.img,0,0,Q.paintWidth,Q.paintHeight,0,-E,x,E),this.compose(),this.restore()}paintInlineImageXObjectGroup(v,x){if(!this.contentVisible)return;const E=this.ctx;let U;if(v.bitmap)U=v.bitmap;else{const $=v.width,Q=v.height,j=this.cachedCanvases.getCanvas("inlineImage",$,Q).context;i(j,v),U=this.applyTransferMapsToCanvas(j)}for(const $ of x)E.save(),E.transform(...$.transform),E.scale(1,-1),I(E,U,$.x,$.y,$.w,$.h,0,-1,1,1),E.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(v){}markPointProps(v,x){}beginMarkedContent(v){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(v,x){v==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(x)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(v){const x=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(v);const E=this.ctx;this.pendingClip&&(x||(this.pendingClip===L?E.clip("evenodd"):E.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),E.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const v=(0,le.getCurrentTransform)(this.ctx);if(v[1]===0&&v[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(v[0]),Math.abs(v[3]));else{const x=Math.abs(v[0]*v[3]-v[2]*v[1]),E=Math.hypot(v[0],v[2]),U=Math.hypot(v[1],v[3]);this._cachedGetSinglePixelWidth=Math.max(E,U)/x}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:v}=this.current,{a:x,b:E,c:U,d:$}=this.ctx.getTransform();let Q,ie;if(E===0&&U===0){const j=Math.abs(x),X=Math.abs($);if(j===X)if(v===0)Q=ie=1/j;else{const R=j*v;Q=ie=R<1?1/R:1}else if(v===0)Q=1/j,ie=1/X;else{const R=j*v,Z=X*v;Q=R<1?1/R:1,ie=Z<1?1/Z:1}}else{const j=Math.abs(x*$-E*U),X=Math.hypot(x,E),R=Math.hypot(U,$);if(v===0)Q=R/j,ie=X/j;else{const Z=v*j;Q=R>Z?R/Z:1,ie=X>Z?X/Z:1}}this._cachedScaleForStroking[0]=Q,this._cachedScaleForStroking[1]=ie}return this._cachedScaleForStroking}rescaleAndStroke(v){const{ctx:x}=this,{lineWidth:E}=this.current,[U,$]=this.getScaleForStroking();if(x.lineWidth=E||1,U===1&&$===1){x.stroke();return}const Q=x.getLineDash();if(v&&x.save(),x.scale(U,$),Q.length>0){const ie=Math.max(U,$);x.setLineDash(Q.map(j=>j/ie)),x.lineDashOffset/=ie}x.stroke(),v&&x.restore()}isContentVisible(){for(let v=this.markedContentStack.length-1;v>=0;v--)if(!this.markedContentStack[v].visible)return!1;return!0}};let h=V;g=new WeakSet,Qn=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},D=new WeakSet,ei=function(){if(this.pageColors){const v=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(v!=="none"){const x=this.ctx.filter;this.ctx.filter=v,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=x}}},O.CanvasGraphics=h;for(const q in te.OPS)h.prototype[q]!==void 0&&(h.prototype[te.OPS[q]]=h.prototype[q])},(b,O,ce)=>{Object.defineProperty(O,"__esModule",{value:!0}),O.TilingPattern=O.PathType=void 0,O.getShadingPattern=t;var te=ce(1),le=ce(6);const me={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};O.PathType=me;function fe(I,C){if(!C)return;const w=C[2]-C[0],i=C[3]-C[1],F=new Path2D;F.rect(C[0],C[1],w,i),I.clip(F)}class S{constructor(){this.constructor===S&&(0,te.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,te.unreachable)("Abstract method `getPattern` called.")}}class ee extends S{constructor(C){super(),this._type=C[1],this._bbox=C[2],this._colorStops=C[3],this._p0=C[4],this._p1=C[5],this._r0=C[6],this._r1=C[7],this.matrix=null}_createGradient(C){let w;this._type==="axial"?w=C.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(w=C.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)w.addColorStop(i[0],i[1]);return w}getPattern(C,w,i,F){let B;if(F===me.STROKE||F===me.FILL){const u=w.current.getClippedPathBoundingBox(F,(0,le.getCurrentTransform)(C))||[0,0,0,0],s=Math.ceil(u[2]-u[0])||1,o=Math.ceil(u[3]-u[1])||1,y=w.cachedCanvases.getCanvas("pattern",s,o,!0),r=y.context;r.clearRect(0,0,r.canvas.width,r.canvas.height),r.beginPath(),r.rect(0,0,r.canvas.width,r.canvas.height),r.translate(-u[0],-u[1]),i=te.Util.transform(i,[1,0,0,1,u[0],u[1]]),r.transform(...w.baseTransform),this.matrix&&r.transform(...this.matrix),fe(r,this._bbox),r.fillStyle=this._createGradient(r),r.fill(),B=C.createPattern(y.canvas,"no-repeat");const f=new DOMMatrix(i);B.setTransform(f)}else fe(C,this._bbox),B=this._createGradient(C);return B}}function n(I,C,w,i,F,B,u,s){const o=C.coords,y=C.colors,r=I.data,f=I.width*4;let m;o[w+1]>o[i+1]&&(m=w,w=i,i=m,m=B,B=u,u=m),o[i+1]>o[F+1]&&(m=i,i=F,F=m,m=u,u=s,s=m),o[w+1]>o[i+1]&&(m=w,w=i,i=m,m=B,B=u,u=m);const P=(o[w]+C.offsetX)*C.scaleX,d=(o[w+1]+C.offsetY)*C.scaleY,A=(o[i]+C.offsetX)*C.scaleX,L=(o[i+1]+C.offsetY)*C.scaleY,h=(o[F]+C.offsetX)*C.scaleX,g=(o[F+1]+C.offsetY)*C.scaleY;if(d>=g)return;const k=y[B],D=y[B+1],T=y[B+2],V=y[u],q=y[u+1],v=y[u+2],x=y[s],E=y[s+1],U=y[s+2],$=Math.round(d),Q=Math.round(g);let ie,j,X,R,Z,N,M,c;for(let _=$;_<=Q;_++){if(_<L){let oe;_<d?oe=0:oe=(d-_)/(d-L),ie=P-(P-A)*oe,j=k-(k-V)*oe,X=D-(D-q)*oe,R=T-(T-v)*oe}else{let oe;_>g?oe=1:L===g?oe=0:oe=(L-_)/(L-g),ie=A-(A-h)*oe,j=V-(V-x)*oe,X=q-(q-E)*oe,R=v-(v-U)*oe}let W;_<d?W=0:_>g?W=1:W=(d-_)/(d-g),Z=P-(P-h)*W,N=k-(k-x)*W,M=D-(D-E)*W,c=T-(T-U)*W;const Y=Math.round(Math.min(ie,Z)),J=Math.round(Math.max(ie,Z));let ae=f*_+Y*4;for(let oe=Y;oe<=J;oe++)W=(ie-oe)/(ie-Z),W<0?W=0:W>1&&(W=1),r[ae++]=j-(j-N)*W|0,r[ae++]=X-(X-M)*W|0,r[ae++]=R-(R-c)*W|0,r[ae++]=255}}function l(I,C,w){const i=C.coords,F=C.colors;let B,u;switch(C.type){case"lattice":const s=C.verticesPerRow,o=Math.floor(i.length/s)-1,y=s-1;for(B=0;B<o;B++){let r=B*s;for(let f=0;f<y;f++,r++)n(I,w,i[r],i[r+1],i[r+s],F[r],F[r+1],F[r+s]),n(I,w,i[r+s+1],i[r+1],i[r+s],F[r+s+1],F[r+1],F[r+s])}break;case"triangles":for(B=0,u=i.length;B<u;B+=3)n(I,w,i[B],i[B+1],i[B+2],F[B],F[B+1],F[B+2]);break;default:throw new Error("illegal figure")}}class K extends S{constructor(C){super(),this._coords=C[2],this._colors=C[3],this._figures=C[4],this._bounds=C[5],this._bbox=C[7],this._background=C[8],this.matrix=null}_createMeshCanvas(C,w,i){const s=Math.floor(this._bounds[0]),o=Math.floor(this._bounds[1]),y=Math.ceil(this._bounds[2])-s,r=Math.ceil(this._bounds[3])-o,f=Math.min(Math.ceil(Math.abs(y*C[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(r*C[1]*1.1)),3e3),P=y/f,d=r/m,A={coords:this._coords,colors:this._colors,offsetX:-s,offsetY:-o,scaleX:1/P,scaleY:1/d},L=f+2*2,h=m+2*2,g=i.getCanvas("mesh",L,h,!1),k=g.context,D=k.createImageData(f,m);if(w){const V=D.data;for(let q=0,v=V.length;q<v;q+=4)V[q]=w[0],V[q+1]=w[1],V[q+2]=w[2],V[q+3]=255}for(const V of this._figures)l(D,V,A);return k.putImageData(D,2,2),{canvas:g.canvas,offsetX:s-2*P,offsetY:o-2*d,scaleX:P,scaleY:d}}getPattern(C,w,i,F){fe(C,this._bbox);let B;if(F===me.SHADING)B=te.Util.singularValueDecompose2dScale((0,le.getCurrentTransform)(C));else if(B=te.Util.singularValueDecompose2dScale(w.baseTransform),this.matrix){const s=te.Util.singularValueDecompose2dScale(this.matrix);B=[B[0]*s[0],B[1]*s[1]]}const u=this._createMeshCanvas(B,F===me.SHADING?null:this._background,w.cachedCanvases);return F!==me.SHADING&&(C.setTransform(...w.baseTransform),this.matrix&&C.transform(...this.matrix)),C.translate(u.offsetX,u.offsetY),C.scale(u.scaleX,u.scaleY),C.createPattern(u.canvas,"no-repeat")}}class e extends S{getPattern(){return"hotpink"}}function t(I){switch(I[0]){case"RadialAxial":return new ee(I);case"Mesh":return new K(I);case"Dummy":return new e}throw new Error(`Unknown IR type: ${I[0]}`)}const H={COLORED:1,UNCOLORED:2},G=class{constructor(C,w,i,F,B){this.operatorList=C[2],this.matrix=C[3]||[1,0,0,1,0,0],this.bbox=C[4],this.xstep=C[5],this.ystep=C[6],this.paintType=C[7],this.tilingType=C[8],this.color=w,this.ctx=i,this.canvasGraphicsFactory=F,this.baseTransform=B}createPatternCanvas(C){const w=this.operatorList,i=this.bbox,F=this.xstep,B=this.ystep,u=this.paintType,s=this.tilingType,o=this.color,y=this.canvasGraphicsFactory;(0,te.info)("TilingType: "+s);const r=i[0],f=i[1],m=i[2],P=i[3],d=te.Util.singularValueDecompose2dScale(this.matrix),A=te.Util.singularValueDecompose2dScale(this.baseTransform),L=[d[0]*A[0],d[1]*A[1]],h=this.getSizeAndScale(F,this.ctx.canvas.width,L[0]),g=this.getSizeAndScale(B,this.ctx.canvas.height,L[1]),k=C.cachedCanvases.getCanvas("pattern",h.size,g.size,!0),D=k.context,T=y.createCanvasGraphics(D);T.groupLevel=C.groupLevel,this.setFillAndStrokeStyleToContext(T,u,o);let V=r,q=f,v=m,x=P;return r<0&&(V=0,v+=Math.abs(r)),f<0&&(q=0,x+=Math.abs(f)),D.translate(-(h.scale*V),-(g.scale*q)),T.transform(h.scale,0,0,g.scale,0,0),D.save(),this.clipBbox(T,V,q,v,x),T.baseTransform=(0,le.getCurrentTransform)(T.ctx),T.executeOperatorList(w),T.endDrawing(),{canvas:k.canvas,scaleX:h.scale,scaleY:g.scale,offsetX:V,offsetY:q}}getSizeAndScale(C,w,i){C=Math.abs(C);const F=Math.max(G.MAX_PATTERN_SIZE,w);let B=Math.ceil(C*i);return B>=F?B=F:i=B/C,{scale:i,size:B}}clipBbox(C,w,i,F,B){const u=F-w,s=B-i;C.ctx.rect(w,i,u,s),C.current.updateRectMinMax((0,le.getCurrentTransform)(C.ctx),[w,i,F,B]),C.clip(),C.endPath()}setFillAndStrokeStyleToContext(C,w,i){const F=C.ctx,B=C.current;switch(w){case H.COLORED:const u=this.ctx;F.fillStyle=u.fillStyle,F.strokeStyle=u.strokeStyle,B.fillColor=u.fillStyle,B.strokeColor=u.strokeStyle;break;case H.UNCOLORED:const s=te.Util.makeHexColor(i[0],i[1],i[2]);F.fillStyle=s,F.strokeStyle=s,B.fillColor=s,B.strokeColor=s;break;default:throw new te.FormatError(`Unsupported paint type: ${w}`)}}getPattern(C,w,i,F){let B=i;F!==me.SHADING&&(B=te.Util.transform(B,w.baseTransform),this.matrix&&(B=te.Util.transform(B,this.matrix)));const u=this.createPatternCanvas(w);let s=new DOMMatrix(B);s=s.translate(u.offsetX,u.offsetY),s=s.scale(1/u.scaleX,1/u.scaleY);const o=C.createPattern(u.canvas,"repeat");return o.setTransform(s),o}};let z=G;Rt(z,"MAX_PATTERN_SIZE",3e3),O.TilingPattern=z},(b,O,ce)=>{Object.defineProperty(O,"__esModule",{value:!0}),O.convertBlackAndWhiteToRGBA=me,O.convertToRGBA=le,O.grayToRGBA=S;var te=ce(1);function le(ee){switch(ee.kind){case te.ImageKind.GRAYSCALE_1BPP:return me(ee);case te.ImageKind.RGB_24BPP:return fe(ee)}return null}function me({src:ee,srcPos:n=0,dest:l,width:K,height:e,nonBlackColor:t=4294967295,inverseDecode:H=!1}){const z=te.FeatureTest.isLittleEndian?4278190080:255,[G,I]=H?[t,z]:[z,t],C=K>>3,w=K&7,i=ee.length;l=new Uint32Array(l.buffer);let F=0;for(let B=0;B<e;B++){for(const s=n+C;n<s;n++){const o=n<i?ee[n]:255;l[F++]=o&128?I:G,l[F++]=o&64?I:G,l[F++]=o&32?I:G,l[F++]=o&16?I:G,l[F++]=o&8?I:G,l[F++]=o&4?I:G,l[F++]=o&2?I:G,l[F++]=o&1?I:G}if(w===0)continue;const u=n<i?ee[n++]:255;for(let s=0;s<w;s++)l[F++]=u&1<<7-s?I:G}return{srcPos:n,destPos:F}}function fe({src:ee,srcPos:n=0,dest:l,destPos:K=0,width:e,height:t}){let H=0;const z=ee.length>>2,G=new Uint32Array(ee.buffer,n,z);if(te.FeatureTest.isLittleEndian){for(;H<z-2;H+=3,K+=4){const I=G[H],C=G[H+1],w=G[H+2];l[K]=I|4278190080,l[K+1]=I>>>24|C<<8|4278190080,l[K+2]=C>>>16|w<<16|4278190080,l[K+3]=w>>>8|4278190080}for(let I=H*4,C=ee.length;I<C;I+=3)l[K++]=ee[I]|ee[I+1]<<8|ee[I+2]<<16|4278190080}else{for(;H<z-2;H+=3,K+=4){const I=G[H],C=G[H+1],w=G[H+2];l[K]=I|255,l[K+1]=I<<24|C>>>8|255,l[K+2]=C<<16|w>>>16|255,l[K+3]=w<<8|255}for(let I=H*4,C=ee.length;I<C;I+=3)l[K++]=ee[I]<<24|ee[I+1]<<16|ee[I+2]<<8|255}return{srcPos:n,destPos:K}}function S(ee,n){if(te.FeatureTest.isLittleEndian)for(let l=0,K=ee.length;l<K;l++)n[l]=ee[l]*65793|4278190080;else for(let l=0,K=ee.length;l<K;l++)n[l]=ee[l]*16843008|255}},(b,O)=>{Object.defineProperty(O,"__esModule",{value:!0}),O.GlobalWorkerOptions=void 0;const ce=Object.create(null);O.GlobalWorkerOptions=ce,ce.workerPort=null,ce.workerSrc=""},(b,O,ce)=>{var ee,Si,l,Ai,e,Tn;Object.defineProperty(O,"__esModule",{value:!0}),O.MessageHandler=void 0;var te=ce(1);const le={UNKNOWN:0,DATA:1,ERROR:2},me={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function fe(H){switch(H instanceof Error||typeof H=="object"&&H!==null||(0,te.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),H.name){case"AbortException":return new te.AbortException(H.message);case"MissingPDFException":return new te.MissingPDFException(H.message);case"PasswordException":return new te.PasswordException(H.message,H.code);case"UnexpectedResponseException":return new te.UnexpectedResponseException(H.message,H.status);case"UnknownErrorException":return new te.UnknownErrorException(H.message,H.details);default:return new te.UnknownErrorException(H.message,H.toString())}}class S{constructor(z,G,I){Be(this,ee);Be(this,l);Be(this,e);this.sourceName=z,this.targetName=G,this.comObj=I,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=C=>{const w=C.data;if(w.targetName!==this.sourceName)return;if(w.stream){ze(this,l,Ai).call(this,w);return}if(w.callback){const F=w.callbackId,B=this.callbackCapabilities[F];if(!B)throw new Error(`Cannot resolve callback ${F}`);if(delete this.callbackCapabilities[F],w.callback===le.DATA)B.resolve(w.data);else if(w.callback===le.ERROR)B.reject(fe(w.reason));else throw new Error("Unexpected callback case");return}const i=this.actionHandler[w.action];if(!i)throw new Error(`Unknown action from worker: ${w.action}`);if(w.callbackId){const F=this.sourceName,B=w.sourceName;new Promise(function(u){u(i(w.data))}).then(function(u){I.postMessage({sourceName:F,targetName:B,callback:le.DATA,callbackId:w.callbackId,data:u})},function(u){I.postMessage({sourceName:F,targetName:B,callback:le.ERROR,callbackId:w.callbackId,reason:fe(u)})});return}if(w.streamId){ze(this,ee,Si).call(this,w);return}i(w.data)},I.addEventListener("message",this._onComObjOnMessage)}on(z,G){const I=this.actionHandler;if(I[z])throw new Error(`There is already an actionName called "${z}"`);I[z]=G}send(z,G,I){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:z,data:G},I)}sendWithPromise(z,G,I){const C=this.callbackId++,w=new te.PromiseCapability;this.callbackCapabilities[C]=w;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:z,callbackId:C,data:G},I)}catch(i){w.reject(i)}return w.promise}sendWithStream(z,G,I,C){const w=this.streamId++,i=this.sourceName,F=this.targetName,B=this.comObj;return new ReadableStream({start:u=>{const s=new te.PromiseCapability;return this.streamControllers[w]={controller:u,startCall:s,pullCall:null,cancelCall:null,isClosed:!1},B.postMessage({sourceName:i,targetName:F,action:z,streamId:w,data:G,desiredSize:u.desiredSize},C),s.promise},pull:u=>{const s=new te.PromiseCapability;return this.streamControllers[w].pullCall=s,B.postMessage({sourceName:i,targetName:F,stream:me.PULL,streamId:w,desiredSize:u.desiredSize}),s.promise},cancel:u=>{(0,te.assert)(u instanceof Error,"cancel must have a valid reason");const s=new te.PromiseCapability;return this.streamControllers[w].cancelCall=s,this.streamControllers[w].isClosed=!0,B.postMessage({sourceName:i,targetName:F,stream:me.CANCEL,streamId:w,reason:fe(u)}),s.promise}},I)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}ee=new WeakSet,Si=function(z){const G=z.streamId,I=this.sourceName,C=z.sourceName,w=this.comObj,i=this,F=this.actionHandler[z.action],B={enqueue(u,s=1,o){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=s,y>0&&this.desiredSize<=0&&(this.sinkCapability=new te.PromiseCapability,this.ready=this.sinkCapability.promise),w.postMessage({sourceName:I,targetName:C,stream:me.ENQUEUE,streamId:G,chunk:u},o)},close(){this.isCancelled||(this.isCancelled=!0,w.postMessage({sourceName:I,targetName:C,stream:me.CLOSE,streamId:G}),delete i.streamSinks[G])},error(u){(0,te.assert)(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,w.postMessage({sourceName:I,targetName:C,stream:me.ERROR,streamId:G,reason:fe(u)}))},sinkCapability:new te.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:z.desiredSize,ready:null};B.sinkCapability.resolve(),B.ready=B.sinkCapability.promise,this.streamSinks[G]=B,new Promise(function(u){u(F(z.data,B))}).then(function(){w.postMessage({sourceName:I,targetName:C,stream:me.START_COMPLETE,streamId:G,success:!0})},function(u){w.postMessage({sourceName:I,targetName:C,stream:me.START_COMPLETE,streamId:G,reason:fe(u)})})},l=new WeakSet,Ai=function(z){const G=z.streamId,I=this.sourceName,C=z.sourceName,w=this.comObj,i=this.streamControllers[G],F=this.streamSinks[G];switch(z.stream){case me.START_COMPLETE:z.success?i.startCall.resolve():i.startCall.reject(fe(z.reason));break;case me.PULL_COMPLETE:z.success?i.pullCall.resolve():i.pullCall.reject(fe(z.reason));break;case me.PULL:if(!F){w.postMessage({sourceName:I,targetName:C,stream:me.PULL_COMPLETE,streamId:G,success:!0});break}F.desiredSize<=0&&z.desiredSize>0&&F.sinkCapability.resolve(),F.desiredSize=z.desiredSize,new Promise(function(B){var u;B((u=F.onPull)==null?void 0:u.call(F))}).then(function(){w.postMessage({sourceName:I,targetName:C,stream:me.PULL_COMPLETE,streamId:G,success:!0})},function(B){w.postMessage({sourceName:I,targetName:C,stream:me.PULL_COMPLETE,streamId:G,reason:fe(B)})});break;case me.ENQUEUE:if((0,te.assert)(i,"enqueue should have stream controller"),i.isClosed)break;i.controller.enqueue(z.chunk);break;case me.CLOSE:if((0,te.assert)(i,"close should have stream controller"),i.isClosed)break;i.isClosed=!0,i.controller.close(),ze(this,e,Tn).call(this,i,G);break;case me.ERROR:(0,te.assert)(i,"error should have stream controller"),i.controller.error(fe(z.reason)),ze(this,e,Tn).call(this,i,G);break;case me.CANCEL_COMPLETE:z.success?i.cancelCall.resolve():i.cancelCall.reject(fe(z.reason)),ze(this,e,Tn).call(this,i,G);break;case me.CANCEL:if(!F)break;new Promise(function(B){var u;B((u=F.onCancel)==null?void 0:u.call(F,fe(z.reason)))}).then(function(){w.postMessage({sourceName:I,targetName:C,stream:me.CANCEL_COMPLETE,streamId:G,success:!0})},function(B){w.postMessage({sourceName:I,targetName:C,stream:me.CANCEL_COMPLETE,streamId:G,reason:fe(B)})}),F.sinkCapability.reject(fe(z.reason)),F.isCancelled=!0,delete this.streamSinks[G];break;default:throw new Error("Unexpected stream case")}},e=new WeakSet,Tn=async function(z,G){var I,C,w;await Promise.allSettled([(I=z.startCall)==null?void 0:I.promise,(C=z.pullCall)==null?void 0:C.promise,(w=z.cancelCall)==null?void 0:w.promise]),delete this.streamControllers[G]},O.MessageHandler=S},(b,O,ce)=>{var me,fe;Object.defineProperty(O,"__esModule",{value:!0}),O.Metadata=void 0;var te=ce(1);class le{constructor({parsedData:ee,rawData:n}){Be(this,me,void 0);Be(this,fe,void 0);rt(this,me,ee),rt(this,fe,n)}getRaw(){return ye(this,fe)}get(ee){return ye(this,me).get(ee)??null}getAll(){return(0,te.objectFromMap)(ye(this,me))}has(ee){return ye(this,me).has(ee)}}me=new WeakMap,fe=new WeakMap,O.Metadata=le},(b,O,ce)=>{var ee,n,l,K,e,t,ti;Object.defineProperty(O,"__esModule",{value:!0}),O.OptionalContentConfig=void 0;var te=ce(1),le=ce(8);const me=Symbol("INTERNAL");class fe{constructor(G,I){Be(this,ee,!0);this.name=G,this.intent=I}get visible(){return ye(this,ee)}_setVisible(G,I){G!==me&&(0,te.unreachable)("Internal method `_setVisible` called."),rt(this,ee,I)}}ee=new WeakMap;class S{constructor(G){Be(this,t);Be(this,n,null);Be(this,l,new Map);Be(this,K,null);Be(this,e,null);if(this.name=null,this.creator=null,G!==null){this.name=G.name,this.creator=G.creator,rt(this,e,G.order);for(const I of G.groups)ye(this,l).set(I.id,new fe(I.name,I.intent));if(G.baseState==="OFF")for(const I of ye(this,l).values())I._setVisible(me,!1);for(const I of G.on)ye(this,l).get(I)._setVisible(me,!0);for(const I of G.off)ye(this,l).get(I)._setVisible(me,!1);rt(this,K,this.getHash())}}isVisible(G){if(ye(this,l).size===0)return!0;if(!G)return(0,te.warn)("Optional content group not defined."),!0;if(G.type==="OCG")return ye(this,l).has(G.id)?ye(this,l).get(G.id).visible:((0,te.warn)(`Optional content group not found: ${G.id}`),!0);if(G.type==="OCMD"){if(G.expression)return ze(this,t,ti).call(this,G.expression);if(!G.policy||G.policy==="AnyOn"){for(const I of G.ids){if(!ye(this,l).has(I))return(0,te.warn)(`Optional content group not found: ${I}`),!0;if(ye(this,l).get(I).visible)return!0}return!1}else if(G.policy==="AllOn"){for(const I of G.ids){if(!ye(this,l).has(I))return(0,te.warn)(`Optional content group not found: ${I}`),!0;if(!ye(this,l).get(I).visible)return!1}return!0}else if(G.policy==="AnyOff"){for(const I of G.ids){if(!ye(this,l).has(I))return(0,te.warn)(`Optional content group not found: ${I}`),!0;if(!ye(this,l).get(I).visible)return!0}return!1}else if(G.policy==="AllOff"){for(const I of G.ids){if(!ye(this,l).has(I))return(0,te.warn)(`Optional content group not found: ${I}`),!0;if(ye(this,l).get(I).visible)return!1}return!0}return(0,te.warn)(`Unknown optional content policy ${G.policy}.`),!0}return(0,te.warn)(`Unknown group type ${G.type}.`),!0}setVisibility(G,I=!0){if(!ye(this,l).has(G)){(0,te.warn)(`Optional content group not found: ${G}`);return}ye(this,l).get(G)._setVisible(me,!!I),rt(this,n,null)}get hasInitialVisibility(){return this.getHash()===ye(this,K)}getOrder(){return ye(this,l).size?ye(this,e)?ye(this,e).slice():[...ye(this,l).keys()]:null}getGroups(){return ye(this,l).size>0?(0,te.objectFromMap)(ye(this,l)):null}getGroup(G){return ye(this,l).get(G)||null}getHash(){if(ye(this,n)!==null)return ye(this,n);const G=new le.MurmurHash3_64;for(const[I,C]of ye(this,l))G.update(`${I}:${C.visible}`);return rt(this,n,G.hexdigest())}}n=new WeakMap,l=new WeakMap,K=new WeakMap,e=new WeakMap,t=new WeakSet,ti=function(G){const I=G.length;if(I<2)return!0;const C=G[0];for(let w=1;w<I;w++){const i=G[w];let F;if(Array.isArray(i))F=ze(this,t,ti).call(this,i);else if(ye(this,l).has(i))F=ye(this,l).get(i).visible;else return(0,te.warn)(`Optional content group not found: ${i}`),!0;switch(C){case"And":if(!F)return!1;break;case"Or":if(F)return!0;break;case"Not":return!F;default:return!0}}return C==="And"},O.OptionalContentConfig=S},(b,O,ce)=>{Object.defineProperty(O,"__esModule",{value:!0}),O.PDFDataTransportStream=void 0;var te=ce(1),le=ce(6);class me{constructor({length:n,initialData:l,progressiveDone:K=!1,contentDispositionFilename:e=null,disableRange:t=!1,disableStream:H=!1},z){if((0,te.assert)(z,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=K,this._contentDispositionFilename=e,(l==null?void 0:l.length)>0){const G=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(G)}this._pdfDataRangeTransport=z,this._isStreamingSupported=!H,this._isRangeSupported=!t,this._contentLength=n,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((G,I)=>{this._onReceiveData({begin:G,chunk:I})}),this._pdfDataRangeTransport.addProgressListener((G,I)=>{this._onProgress({loaded:G,total:I})}),this._pdfDataRangeTransport.addProgressiveReadListener(G=>{this._onReceiveData({chunk:G})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:n,chunk:l}){const K=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;if(n===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(K):this._queuedChunks.push(K);else{const e=this._rangeReaders.some(function(t){return t._begin!==n?!1:(t._enqueue(K),!0)});(0,te.assert)(e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var n;return((n=this._fullRequestReader)==null?void 0:n._loaded)??0}_onProgress(n){var l,K,e,t;n.total===void 0?(K=(l=this._rangeReaders[0])==null?void 0:l.onProgress)==null||K.call(l,{loaded:n.loaded}):(t=(e=this._fullRequestReader)==null?void 0:e.onProgress)==null||t.call(e,{loaded:n.loaded,total:n.total})}_onProgressiveDone(){var n;(n=this._fullRequestReader)==null||n.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(n){const l=this._rangeReaders.indexOf(n);l>=0&&this._rangeReaders.splice(l,1)}getFullReader(){(0,te.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const n=this._queuedChunks;return this._queuedChunks=null,new fe(this,n,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(n,l){if(l<=this._progressiveDataLength)return null;const K=new S(this,n,l);return this._pdfDataRangeTransport.requestDataRange(n,l),this._rangeReaders.push(K),K}cancelAllRequests(n){var l;(l=this._fullRequestReader)==null||l.cancel(n);for(const K of this._rangeReaders.slice(0))K.cancel(n);this._pdfDataRangeTransport.abort()}}O.PDFDataTransportStream=me;class fe{constructor(n,l,K=!1,e=null){this._stream=n,this._done=K||!1,this._filename=(0,le.isPdfFile)(e)?e:null,this._queuedChunks=l||[],this._loaded=0;for(const t of this._queuedChunks)this._loaded+=t.byteLength;this._requests=[],this._headersReady=Promise.resolve(),n._fullRequestReader=this,this.onProgress=null}_enqueue(n){this._done||(this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunks.push(n),this._loaded+=n.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const n=new te.PromiseCapability;return this._requests.push(n),n.promise}cancel(n){this._done=!0;for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class S{constructor(n,l,K){this._stream=n,this._begin=l,this._end=K,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(n){if(!this._done){if(this._requests.length===0)this._queuedChunk=n;else{this._requests.shift().resolve({value:n,done:!1});for(const K of this._requests)K.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const l=this._queuedChunk;return this._queuedChunk=null,{value:l,done:!1}}if(this._done)return{value:void 0,done:!0};const n=new te.PromiseCapability;return this._requests.push(n),n.promise}cancel(n){this._done=!0;for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(b,O)=>{Object.defineProperty(O,"__esModule",{value:!0}),O.XfaText=void 0;class ce{static textContent(le){const me=[],fe={items:me,styles:Object.create(null)};function S(ee){var K;if(!ee)return;let n=null;const l=ee.name;if(l==="#text")n=ee.value;else if(ce.shouldBuildText(l))(K=ee==null?void 0:ee.attributes)!=null&&K.textContent?n=ee.attributes.textContent:ee.value&&(n=ee.value);else return;if(n!==null&&me.push({str:n}),!!ee.children)for(const e of ee.children)S(e)}return S(le),fe}static shouldBuildText(le){return!(le==="textarea"||le==="input"||le==="option"||le==="select")}}O.XfaText=ce},(b,O,ce)=>{Object.defineProperty(O,"__esModule",{value:!0}),O.NodeStandardFontDataFactory=O.NodeFilterFactory=O.NodeCanvasFactory=O.NodeCMapReaderFactory=void 0;var te=ce(7);const le=function(n){return new Promise((l,K)=>{require$$5.readFile(n,(t,H)=>{if(t||!H){K(new Error(t));return}l(new Uint8Array(H))})})};class me extends te.BaseFilterFactory{}O.NodeFilterFactory=me;class fe extends te.BaseCanvasFactory{_createCanvas(l,K){return require$$5.createCanvas(l,K)}}O.NodeCanvasFactory=fe;class S extends te.BaseCMapReaderFactory{_fetchData(l,K){return le(l).then(e=>({cMapData:e,compressionType:K}))}}O.NodeCMapReaderFactory=S;class ee extends te.BaseStandardFontDataFactory{_fetchData(l){return le(l)}}O.NodeStandardFontDataFactory=ee},(b,O,ce)=>{Object.defineProperty(O,"__esModule",{value:!0}),O.PDFNodeStream=void 0;var te=ce(1),le=ce(22);const me=require$$5,fe=require$$5,S=require$$5,ee=require$$5,n=/^file:\/\/\/[a-zA-Z]:\//;function l(w){const i=ee.parse(w);return i.protocol==="file:"||i.host?i:/^[a-z]:[/\\]/i.test(w)?ee.parse(`file:///${w}`):(i.host||(i.protocol="file:"),i)}class K{constructor(i){this.source=i,this.url=l(i.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&i.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var i;return((i=this._fullRequestReader)==null?void 0:i._loaded)??0}getFullReader(){return(0,te.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new I(this):new z(this),this._fullRequestReader}getRangeReader(i,F){if(F<=this._progressiveDataLength)return null;const B=this.isFsUrl?new C(this,i,F):new G(this,i,F);return this._rangeRequestReaders.push(B),B}cancelAllRequests(i){var F;(F=this._fullRequestReader)==null||F.cancel(i);for(const B of this._rangeRequestReaders.slice(0))B.cancel(i)}}O.PDFNodeStream=K;class e{constructor(i){this._url=i.url,this._done=!1,this._storedError=null,this.onProgress=null;const F=i.source;this._contentLength=F.length,this._loaded=0,this._filename=null,this._disableRange=F.disableRange||!1,this._rangeChunkSize=F.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!F.disableStream,this._isRangeSupported=!F.disableRange,this._readableStream=null,this._readCapability=new te.PromiseCapability,this._headersCapability=new te.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var B;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const i=this._readableStream.read();return i===null?(this._readCapability=new te.PromiseCapability,this.read()):(this._loaded+=i.length,(B=this.onProgress)==null||B.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(i).buffer,done:!1})}cancel(i){if(!this._readableStream){this._error(i);return}this._readableStream.destroy(i)}_error(i){this._storedError=i,this._readCapability.resolve()}_setReadableStream(i){this._readableStream=i,i.on("readable",()=>{this._readCapability.resolve()}),i.on("end",()=>{i.destroy(),this._done=!0,this._readCapability.resolve()}),i.on("error",F=>{this._error(F)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new te.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class t{constructor(i){this._url=i.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new te.PromiseCapability;const F=i.source;this._isStreamingSupported=!F.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var B;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const i=this._readableStream.read();return i===null?(this._readCapability=new te.PromiseCapability,this.read()):(this._loaded+=i.length,(B=this.onProgress)==null||B.call(this,{loaded:this._loaded}),{value:new Uint8Array(i).buffer,done:!1})}cancel(i){if(!this._readableStream){this._error(i);return}this._readableStream.destroy(i)}_error(i){this._storedError=i,this._readCapability.resolve()}_setReadableStream(i){this._readableStream=i,i.on("readable",()=>{this._readCapability.resolve()}),i.on("end",()=>{i.destroy(),this._done=!0,this._readCapability.resolve()}),i.on("error",F=>{this._error(F)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function H(w,i){return{protocol:w.protocol,auth:w.auth,host:w.hostname,port:w.port,path:w.path,method:"GET",headers:i}}class z extends e{constructor(i){super(i);const F=B=>{if(B.statusCode===404){const y=new te.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=y,this._headersCapability.reject(y);return}this._headersCapability.resolve(),this._setReadableStream(B);const u=y=>this._readableStream.headers[y.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=(0,le.validateRangeRequestCapabilities)({getResponseHeader:u,isHttp:i.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=(0,le.extractFilenameFromHeader)(u)};this._request=null,this._url.protocol==="http:"?this._request=fe.request(H(this._url,i.httpHeaders),F):this._request=S.request(H(this._url,i.httpHeaders),F),this._request.on("error",B=>{this._storedError=B,this._headersCapability.reject(B)}),this._request.end()}}class G extends t{constructor(i,F,B){super(i),this._httpHeaders={};for(const s in i.httpHeaders){const o=i.httpHeaders[s];o!==void 0&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${F}-${B-1}`;const u=s=>{if(s.statusCode===404){const o=new te.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};this._request=null,this._url.protocol==="http:"?this._request=fe.request(H(this._url,this._httpHeaders),u):this._request=S.request(H(this._url,this._httpHeaders),u),this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class I extends e{constructor(i){super(i);let F=decodeURIComponent(this._url.path);n.test(this._url.href)&&(F=F.replace(/^\//,"")),me.lstat(F,(B,u)=>{if(B){B.code==="ENOENT"&&(B=new te.MissingPDFException(`Missing PDF "${F}".`)),this._storedError=B,this._headersCapability.reject(B);return}this._contentLength=u.size,this._setReadableStream(me.createReadStream(F)),this._headersCapability.resolve()})}}class C extends t{constructor(i,F,B){super(i);let u=decodeURIComponent(this._url.path);n.test(this._url.href)&&(u=u.replace(/^\//,"")),this._setReadableStream(me.createReadStream(u,{start:F,end:B-1}))}}},(b,O,ce)=>{Object.defineProperty(O,"__esModule",{value:!0}),O.createResponseStatusError=ee,O.extractFilenameFromHeader=S,O.validateRangeRequestCapabilities=fe,O.validateResponseStatus=n;var te=ce(1),le=ce(23),me=ce(6);function fe({getResponseHeader:l,isHttp:K,rangeChunkSize:e,disableRange:t}){const H={allowRangeRequests:!1,suggestedLength:void 0},z=parseInt(l("Content-Length"),10);return!Number.isInteger(z)||(H.suggestedLength=z,z<=2*e)||t||!K||l("Accept-Ranges")!=="bytes"||(l("Content-Encoding")||"identity")!=="identity"||(H.allowRangeRequests=!0),H}function S(l){const K=l("Content-Disposition");if(K){let e=(0,le.getFilenameFromContentDispositionHeader)(K);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if((0,me.isPdfFile)(e))return e}return null}function ee(l,K){return l===404||l===0&&K.startsWith("file:")?new te.MissingPDFException('Missing PDF "'+K+'".'):new te.UnexpectedResponseException(`Unexpected server response (${l}) while retrieving PDF "${K}".`,l)}function n(l){return l===200||l===206}},(b,O,ce)=>{Object.defineProperty(O,"__esModule",{value:!0}),O.getFilenameFromContentDispositionHeader=le;var te=ce(1);function le(me){let fe=!0,S=ee("filename\\*","i").exec(me);if(S){S=S[1];let z=e(S);return z=unescape(z),z=t(z),z=H(z),l(z)}if(S=K(me),S){const z=H(S);return l(z)}if(S=ee("filename","i").exec(me),S){S=S[1];let z=e(S);return z=H(z),l(z)}function ee(z,G){return new RegExp("(?:^|;)\\s*"+z+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',G)}function n(z,G){if(z){if(!/^[\x00-\xFF]+$/.test(G))return G;try{const I=new TextDecoder(z,{fatal:!0}),C=(0,te.stringToBytes)(G);G=I.decode(C),fe=!1}catch{}}return G}function l(z){return fe&&/[\x80-\xff]/.test(z)&&(z=n("utf-8",z),fe&&(z=n("iso-8859-1",z))),z}function K(z){const G=[];let I;const C=ee("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(I=C.exec(z))!==null;){let[,i,F,B]=I;if(i=parseInt(i,10),i in G){if(i===0)break;continue}G[i]=[F,B]}const w=[];for(let i=0;i<G.length&&i in G;++i){let[F,B]=G[i];B=e(B),F&&(B=unescape(B),i===0&&(B=t(B))),w.push(B)}return w.join("")}function e(z){if(z.startsWith('"')){const G=z.slice(1).split('\\"');for(let I=0;I<G.length;++I){const C=G[I].indexOf('"');C!==-1&&(G[I]=G[I].slice(0,C),G.length=I+1),G[I]=G[I].replaceAll(/\\(.)/g,"$1")}z=G.join('"')}return z}function t(z){const G=z.indexOf("'");if(G===-1)return z;const I=z.slice(0,G),w=z.slice(G+1).replace(/^[^']*'/,"");return n(I,w)}function H(z){return!z.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(z)?z:z.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(G,I,C,w){if(C==="q"||C==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(i,F){return String.fromCharCode(parseInt(F,16))}),n(I,w);try{w=atob(w)}catch{}return n(I,w)})}return""}},(b,O,ce)=>{Object.defineProperty(O,"__esModule",{value:!0}),O.PDFNetworkStream=void 0;var te=ce(1),le=ce(22);const me=200,fe=206;function S(e){const t=e.response;return typeof t!="string"?t:(0,te.stringToBytes)(t).buffer}class ee{constructor(t,H={}){this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&H.httpHeaders||Object.create(null),this.withCredentials=H.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,H,z){const G={begin:t,end:H};for(const I in z)G[I]=z[I];return this.request(G)}requestFull(t){return this.request(t)}request(t){const H=new XMLHttpRequest,z=this.currXhrId++,G=this.pendingRequests[z]={xhr:H};H.open("GET",this.url),H.withCredentials=this.withCredentials;for(const I in this.httpHeaders){const C=this.httpHeaders[I];C!==void 0&&H.setRequestHeader(I,C)}return this.isHttp&&"begin"in t&&"end"in t?(H.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),G.expectedStatus=fe):G.expectedStatus=me,H.responseType="arraybuffer",t.onError&&(H.onerror=function(I){t.onError(H.status)}),H.onreadystatechange=this.onStateChange.bind(this,z),H.onprogress=this.onProgress.bind(this,z),G.onHeadersReceived=t.onHeadersReceived,G.onDone=t.onDone,G.onError=t.onError,G.onProgress=t.onProgress,H.send(null),z}onProgress(t,H){var G;const z=this.pendingRequests[t];z&&((G=z.onProgress)==null||G.call(z,H))}onStateChange(t,H){var i,F,B;const z=this.pendingRequests[t];if(!z)return;const G=z.xhr;if(G.readyState>=2&&z.onHeadersReceived&&(z.onHeadersReceived(),delete z.onHeadersReceived),G.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],G.status===0&&this.isHttp){(i=z.onError)==null||i.call(z,G.status);return}const I=G.status||me;if(!(I===me&&z.expectedStatus===fe)&&I!==z.expectedStatus){(F=z.onError)==null||F.call(z,G.status);return}const w=S(G);if(I===fe){const u=G.getResponseHeader("Content-Range"),s=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);z.onDone({begin:parseInt(s[1],10),chunk:w})}else w?z.onDone({begin:0,chunk:w}):(B=z.onError)==null||B.call(z,G.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const H=this.pendingRequests[t].xhr;delete this.pendingRequests[t],H.abort()}}class n{constructor(t){this._source=t,this._manager=new ee(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const H=this._rangeRequestReaders.indexOf(t);H>=0&&this._rangeRequestReaders.splice(H,1)}getFullReader(){return(0,te.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new l(this._manager,this._source),this._fullRequestReader}getRangeReader(t,H){const z=new K(this._manager,t,H);return z.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(z),z}cancelAllRequests(t){var H;(H=this._fullRequestReader)==null||H.cancel(t);for(const z of this._rangeRequestReaders.slice(0))z.cancel(t)}}O.PDFNetworkStream=n;class l{constructor(t,H){this._manager=t;const z={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=H.url,this._fullRequestId=t.requestFull(z),this._headersReceivedCapability=new te.PromiseCapability,this._disableRange=H.disableRange||!1,this._contentLength=H.length,this._rangeChunkSize=H.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,H=this._manager.getRequestXhr(t),z=C=>H.getResponseHeader(C),{allowRangeRequests:G,suggestedLength:I}=(0,le.validateRangeRequestCapabilities)({getResponseHeader:z,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});G&&(this._isRangeSupported=!0),this._contentLength=I||this._contentLength,this._filename=(0,le.extractFilenameFromHeader)(z),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const H of this._requests)H.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=(0,le.createResponseStatusError)(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const H of this._requests)H.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var H;(H=this.onProgress)==null||H.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=new te.PromiseCapability;return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const H of this._requests)H.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class K{constructor(t,H,z){this._manager=t;const G={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(H,z,G),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const H=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:H,done:!1}):this._queuedChunk=H,this._done=!0;for(const z of this._requests)z.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=(0,le.createResponseStatusError)(t,this._url);for(const H of this._requests)H.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var H;this.isStreamingSupported||(H=this.onProgress)==null||H.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const H=this._queuedChunk;return this._queuedChunk=null,{value:H,done:!1}}if(this._done)return{value:void 0,done:!0};const t=new te.PromiseCapability;return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const H of this._requests)H.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(b,O,ce)=>{Object.defineProperty(O,"__esModule",{value:!0}),O.PDFFetchStream=void 0;var te=ce(1),le=ce(22);function me(K,e,t){return{method:"GET",headers:K,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function fe(K){const e=new Headers;for(const t in K){const H=K[t];H!==void 0&&e.append(t,H)}return e}function S(K){return K instanceof Uint8Array?K.buffer:K instanceof ArrayBuffer?K:((0,te.warn)(`getArrayBuffer - unexpected data format: ${K}`),new Uint8Array(K).buffer)}class ee{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return(0,te.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new n(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const H=new l(this,e,t);return this._rangeRequestReaders.push(H),H}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const H of this._rangeRequestReaders.slice(0))H.cancel(e)}}O.PDFFetchStream=ee;class n{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=new te.PromiseCapability,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=fe(this._stream.httpHeaders);const H=t.url;fetch(H,me(this._headers,this._withCredentials,this._abortController)).then(z=>{if(!(0,le.validateResponseStatus)(z.status))throw(0,le.createResponseStatusError)(z.status,H);this._reader=z.body.getReader(),this._headersCapability.resolve();const G=w=>z.headers.get(w),{allowRangeRequests:I,suggestedLength:C}=(0,le.validateRangeRequestCapabilities)({getResponseHeader:G,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=I,this._contentLength=C||this._contentLength,this._filename=(0,le.extractFilenameFromHeader)(G),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new te.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var H;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(H=this.onProgress)==null||H.call(this,{loaded:this._loaded,total:this._contentLength}),{value:S(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class l{constructor(e,t,H){this._stream=e,this._reader=null,this._loaded=0;const z=e.source;this._withCredentials=z.withCredentials||!1,this._readCapability=new te.PromiseCapability,this._isStreamingSupported=!z.disableStream,this._abortController=new AbortController,this._headers=fe(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${H-1}`);const G=z.url;fetch(G,me(this._headers,this._withCredentials,this._abortController)).then(I=>{if(!(0,le.validateResponseStatus)(I.status))throw(0,le.createResponseStatusError)(I.status,G);this._readCapability.resolve(),this._reader=I.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var H;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(H=this.onProgress)==null||H.call(this,{loaded:this._loaded}),{value:S(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}},(b,O,ce)=>{Object.defineProperty(O,"__esModule",{value:!0}),O.TextLayerRenderTask=void 0,O.renderTextLayer=z,O.updateTextLayer=G;var te=ce(1),le=ce(6);const me=1e5,fe=30,S=.8,ee=new Map;function n(I,C){let w;if(C&&te.FeatureTest.isOffscreenCanvasSupported)w=new OffscreenCanvas(I,I).getContext("2d",{alpha:!1});else{const i=document.createElement("canvas");i.width=i.height=I,w=i.getContext("2d",{alpha:!1})}return w}function l(I,C){const w=ee.get(I);if(w)return w;const i=n(fe,C);i.font=`${fe}px ${I}`;const F=i.measureText("");let B=F.fontBoundingBoxAscent,u=Math.abs(F.fontBoundingBoxDescent);if(B){const o=B/(B+u);return ee.set(I,o),i.canvas.width=i.canvas.height=0,o}i.strokeStyle="red",i.clearRect(0,0,fe,fe),i.strokeText("g",0,0);let s=i.getImageData(0,0,fe,fe).data;u=0;for(let o=s.length-1-3;o>=0;o-=4)if(s[o]>0){u=Math.ceil(o/4/fe);break}i.clearRect(0,0,fe,fe),i.strokeText("A",0,fe),s=i.getImageData(0,0,fe,fe).data,B=0;for(let o=0,y=s.length;o<y;o+=4)if(s[o]>0){B=fe-Math.floor(o/4/fe);break}if(i.canvas.width=i.canvas.height=0,B){const o=B/(B+u);return ee.set(I,o),o}return ee.set(I,S),S}function K(I,C,w){const i=document.createElement("span"),F={angle:0,canvasWidth:0,hasText:C.str!=="",hasEOL:C.hasEOL,fontSize:0};I._textDivs.push(i);const B=te.Util.transform(I._transform,C.transform);let u=Math.atan2(B[1],B[0]);const s=w[C.fontName];s.vertical&&(u+=Math.PI/2);const o=Math.hypot(B[2],B[3]),y=o*l(s.fontFamily,I._isOffscreenCanvasSupported);let r,f;u===0?(r=B[4],f=B[5]-y):(r=B[4]+y*Math.sin(u),f=B[5]-y*Math.cos(u));const m="calc(var(--scale-factor)*",P=i.style;I._container===I._rootContainer?(P.left=`${(100*r/I._pageWidth).toFixed(2)}%`,P.top=`${(100*f/I._pageHeight).toFixed(2)}%`):(P.left=`${m}${r.toFixed(2)}px)`,P.top=`${m}${f.toFixed(2)}px)`),P.fontSize=`${m}${o.toFixed(2)}px)`,P.fontFamily=s.fontFamily,F.fontSize=o,i.setAttribute("role","presentation"),i.textContent=C.str,i.dir=C.dir,I._fontInspectorEnabled&&(i.dataset.fontName=C.fontName),u!==0&&(F.angle=u*(180/Math.PI));let d=!1;if(C.str.length>1)d=!0;else if(C.str!==" "&&C.transform[0]!==C.transform[3]){const A=Math.abs(C.transform[0]),L=Math.abs(C.transform[3]);A!==L&&Math.max(A,L)/Math.min(A,L)>1.5&&(d=!0)}d&&(F.canvasWidth=s.vertical?C.height:C.width),I._textDivProperties.set(i,F),I._isReadableStream&&I._layoutText(i)}function e(I){const{div:C,scale:w,properties:i,ctx:F,prevFontSize:B,prevFontFamily:u}=I,{style:s}=C;let o="";if(i.canvasWidth!==0&&i.hasText){const{fontFamily:y}=s,{canvasWidth:r,fontSize:f}=i;(B!==f||u!==y)&&(F.font=`${f*w}px ${y}`,I.prevFontSize=f,I.prevFontFamily=y);const{width:m}=F.measureText(C.textContent);m>0&&(o=`scaleX(${r*w/m})`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(s.transform=o)}function t(I){if(I._canceled)return;const C=I._textDivs,w=I._capability;if(C.length>me){w.resolve();return}if(!I._isReadableStream)for(const F of C)I._layoutText(F);w.resolve()}class H{constructor({textContentSource:C,container:w,viewport:i,textDivs:F,textDivProperties:B,textContentItemsStr:u,isOffscreenCanvasSupported:s}){var m;this._textContentSource=C,this._isReadableStream=C instanceof ReadableStream,this._container=this._rootContainer=w,this._textDivs=F||[],this._textContentItemsStr=u||[],this._isOffscreenCanvasSupported=s,this._fontInspectorEnabled=!!((m=globalThis.FontInspector)!=null&&m.enabled),this._reader=null,this._textDivProperties=B||new WeakMap,this._canceled=!1,this._capability=new te.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:i.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:n(0,s)};const{pageWidth:o,pageHeight:y,pageX:r,pageY:f}=i.rawDims;this._transform=[1,0,0,-1,-r,f+y],this._pageWidth=o,this._pageHeight=y,(0,le.setLayerDimensions)(w,i),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new te.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new te.AbortException("TextLayer task cancelled."))}_processItems(C,w){for(const i of C){if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const F=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),i.id!==null&&this._container.setAttribute("id",`${i.id}`),F.append(this._container)}else i.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(i.str),K(this,i,w)}}_layoutText(C){const w=this._layoutTextParams.properties=this._textDivProperties.get(C);if(this._layoutTextParams.div=C,e(this._layoutTextParams),w.hasText&&this._container.append(C),w.hasEOL){const i=document.createElement("br");i.setAttribute("role","presentation"),this._container.append(i)}}_render(){const C=new te.PromiseCapability;let w=Object.create(null);if(this._isReadableStream){const i=()=>{this._reader.read().then(({value:F,done:B})=>{if(B){C.resolve();return}Object.assign(w,F.styles),this._processItems(F.items,w),i()},C.reject)};this._reader=this._textContentSource.getReader(),i()}else if(this._textContentSource){const{items:i,styles:F}=this._textContentSource;this._processItems(i,F),C.resolve()}else throw new Error('No "textContentSource" parameter specified.');C.promise.then(()=>{w=null,t(this)},this._capability.reject)}}O.TextLayerRenderTask=H;function z(I){!I.textContentSource&&(I.textContent||I.textContentStream)&&((0,le.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),I.textContentSource=I.textContent||I.textContentStream);const{container:C,viewport:w}=I,i=getComputedStyle(C),F=i.getPropertyValue("visibility"),B=parseFloat(i.getPropertyValue("--scale-factor"));F==="visible"&&(!B||Math.abs(B-w.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const u=new H(I);return u._render(),u}function G({container:I,viewport:C,textDivs:w,textDivProperties:i,isOffscreenCanvasSupported:F,mustRotate:B=!0,mustRescale:u=!0}){if(B&&(0,le.setLayerDimensions)(I,{rotation:C.rotation}),u){const s=n(0,F),y={prevFontSize:null,prevFontFamily:null,div:null,scale:C.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:s};for(const r of w)y.properties=i.get(r),y.div=r,e(y)}}},(b,O,ce)=>{var n,l,K,e,t,H,z,G,I,ni,w,vi,F,ii,u,si;Object.defineProperty(O,"__esModule",{value:!0}),O.AnnotationEditorLayer=void 0;var te=ce(1),le=ce(5),me=ce(28),fe=ce(29),S=ce(6);const o=class{constructor(r){Be(this,I);Be(this,w);Be(this,F);Be(this,u);Be(this,n,void 0);Be(this,l,!1);Be(this,K,this.pointerup.bind(this));Be(this,e,this.pointerdown.bind(this));Be(this,t,new Map);Be(this,H,!1);Be(this,z,!1);Be(this,G,void 0);o._initialized||(o._initialized=!0,me.FreeTextEditor.initialize(r.l10n),fe.InkEditor.initialize(r.l10n)),r.uiManager.registerEditorTypes([me.FreeTextEditor,fe.InkEditor]),rt(this,G,r.uiManager),this.pageIndex=r.pageIndex,this.div=r.div,rt(this,n,r.accessibilityManager),ye(this,G).addLayer(this)}get isEmpty(){return ye(this,t).size===0}updateToolbar(r){ye(this,G).updateToolbar(r)}updateMode(r=ye(this,G).getMode()){ze(this,u,si).call(this),r===te.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),ye(this,G).unselectAll(),r!==te.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",r===te.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",r===te.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(r){if(!r&&ye(this,G).getMode()!==te.AnnotationEditorType.INK)return;if(!r){for(const m of ye(this,t).values())if(m.isEmpty()){m.setInBackground();return}}ze(this,F,ii).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(r){ye(this,G).setEditingState(r)}addCommands(r){ye(this,G).addCommands(r)}enable(){this.div.style.pointerEvents="auto";for(const r of ye(this,t).values())r.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const r of ye(this,t).values())r.disableEditing();ze(this,u,si).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(r){ye(this,G).getActive()!==r&&ye(this,G).setActiveEditor(r)}enableClick(){this.div.addEventListener("pointerdown",ye(this,e)),this.div.addEventListener("pointerup",ye(this,K))}disableClick(){this.div.removeEventListener("pointerdown",ye(this,e)),this.div.removeEventListener("pointerup",ye(this,K))}attach(r){ye(this,t).set(r.id,r)}detach(r){var f;ye(this,t).delete(r.id),(f=ye(this,n))==null||f.removePointerInTextLayer(r.contentDiv)}remove(r){ye(this,G).removeEditor(r),this.detach(r),r.div.style.display="none",setTimeout(()=>{r.div.style.display="",r.div.remove(),r.isAttachedToDOM=!1,document.activeElement===document.body&&ye(this,G).focusMainContainer()},0),ye(this,z)||this.addInkEditorIfNeeded(!1)}add(r){if(ze(this,I,ni).call(this,r),ye(this,G).addEditor(r),this.attach(r),!r.isAttachedToDOM){const f=r.render();this.div.append(f),r.isAttachedToDOM=!0}this.moveEditorInDOM(r),r.onceAdded(),ye(this,G).addToAnnotationStorage(r)}moveEditorInDOM(r){var f;(f=ye(this,n))==null||f.moveElementInDOM(this.div,r.div,r.contentDiv,!0)}addOrRebuild(r){r.needsToBeRebuilt()?r.rebuild():this.add(r)}addANewEditor(r){const f=()=>{this.addOrRebuild(r)},m=()=>{r.remove()};this.addCommands({cmd:f,undo:m,mustExec:!0})}addUndoableEditor(r){const f=()=>{this.addOrRebuild(r)},m=()=>{r.remove()};this.addCommands({cmd:f,undo:m,mustExec:!1})}getNextId(){return ye(this,G).getId()}deserialize(r){switch(r.annotationType){case te.AnnotationEditorType.FREETEXT:return me.FreeTextEditor.deserialize(r,this,ye(this,G));case te.AnnotationEditorType.INK:return fe.InkEditor.deserialize(r,this,ye(this,G))}return null}setSelected(r){ye(this,G).setSelected(r)}toggleSelected(r){ye(this,G).toggleSelected(r)}isSelected(r){return ye(this,G).isSelected(r)}unselect(r){ye(this,G).unselect(r)}pointerup(r){const{isMac:f}=te.FeatureTest.platform;if(!(r.button!==0||r.ctrlKey&&f)&&r.target===this.div&&ye(this,H)){if(rt(this,H,!1),!ye(this,l)){rt(this,l,!0);return}ze(this,F,ii).call(this,r)}}pointerdown(r){const{isMac:f}=te.FeatureTest.platform;if(r.button!==0||r.ctrlKey&&f||r.target!==this.div)return;rt(this,H,!0);const m=ye(this,G).getActive();rt(this,l,!m||m.isEmpty())}drop(r){const f=r.dataTransfer.getData("text/plain"),m=ye(this,G).getEditor(f);if(!m)return;r.preventDefault(),r.dataTransfer.dropEffect="move",ze(this,I,ni).call(this,m);const P=this.div.getBoundingClientRect(),d=r.clientX-P.x,A=r.clientY-P.y;m.translate(d-m.startX,A-m.startY),this.moveEditorInDOM(m),m.div.focus()}dragover(r){r.preventDefault()}destroy(){var r,f;((r=ye(this,G).getActive())==null?void 0:r.parent)===this&&ye(this,G).setActiveEditor(null);for(const m of ye(this,t).values())(f=ye(this,n))==null||f.removePointerInTextLayer(m.contentDiv),m.setParent(null),m.isAttachedToDOM=!1,m.div.remove();this.div=null,ye(this,t).clear(),ye(this,G).removeLayer(this)}render({viewport:r}){this.viewport=r,(0,S.setLayerDimensions)(this.div,r),(0,le.bindEvents)(this,this.div,["dragover","drop"]);for(const f of ye(this,G).getEditors(this.pageIndex))this.add(f);this.updateMode()}update({viewport:r}){ye(this,G).commitOrRemove(),this.viewport=r,(0,S.setLayerDimensions)(this.div,{rotation:r.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:r,pageHeight:f}=this.viewport.rawDims;return[r,f]}};let ee=o;n=new WeakMap,l=new WeakMap,K=new WeakMap,e=new WeakMap,t=new WeakMap,H=new WeakMap,z=new WeakMap,G=new WeakMap,I=new WeakSet,ni=function(r){var f;r.parent!==this&&(this.attach(r),(f=r.parent)==null||f.detach(r),r.setParent(this),r.div&&r.isAttachedToDOM&&(r.div.remove(),this.div.append(r.div)))},w=new WeakSet,vi=function(r){switch(ye(this,G).getMode()){case te.AnnotationEditorType.FREETEXT:return new me.FreeTextEditor(r);case te.AnnotationEditorType.INK:return new fe.InkEditor(r)}return null},F=new WeakSet,ii=function(r){const f=this.getNextId(),m=ze(this,w,vi).call(this,{parent:this,id:f,x:r.offsetX,y:r.offsetY,uiManager:ye(this,G)});return m&&this.add(m),m},u=new WeakSet,si=function(){rt(this,z,!0);for(const r of ye(this,t).values())r.isEmpty()&&r.remove();rt(this,z,!1)},Rt(ee,"_initialized",!1),O.AnnotationEditorLayer=ee},(b,O,ce)=>{var S,ee,n,l,K,e,t,H,z,G,Ci,C,ki,i,Fi,B,ai;Object.defineProperty(O,"__esModule",{value:!0}),O.FreeTextEditor=void 0;var te=ce(1),le=ce(5),me=ce(4);const s=class extends me.AnnotationEditor{constructor(r){super({...r,name:"freeTextEditor"});Be(this,G);Be(this,C);Be(this,i);Be(this,B);Be(this,S,this.editorDivBlur.bind(this));Be(this,ee,this.editorDivFocus.bind(this));Be(this,n,this.editorDivInput.bind(this));Be(this,l,this.editorDivKeydown.bind(this));Be(this,K,void 0);Be(this,e,"");Be(this,t,`${this.id}-editor`);Be(this,H,!1);Be(this,z,void 0);rt(this,K,r.color||s._defaultColor||me.AnnotationEditor._defaultLineColor),rt(this,z,r.fontSize||s._defaultFontSize)}static initialize(r){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(m=>[m,r.get(m)]));const f=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(f.getPropertyValue("--freetext-padding"))}static updateDefaultParams(r,f){switch(r){case te.AnnotationEditorParamsType.FREETEXT_SIZE:s._defaultFontSize=f;break;case te.AnnotationEditorParamsType.FREETEXT_COLOR:s._defaultColor=f;break}}updateParams(r,f){switch(r){case te.AnnotationEditorParamsType.FREETEXT_SIZE:ze(this,G,Ci).call(this,f);break;case te.AnnotationEditorParamsType.FREETEXT_COLOR:ze(this,C,ki).call(this,f);break}}static get defaultPropertiesToUpdate(){return[[te.AnnotationEditorParamsType.FREETEXT_SIZE,s._defaultFontSize],[te.AnnotationEditorParamsType.FREETEXT_COLOR,s._defaultColor||me.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[te.AnnotationEditorParamsType.FREETEXT_SIZE,ye(this,z)],[te.AnnotationEditorParamsType.FREETEXT_COLOR,ye(this,K)]]}getInitialTranslation(){const r=this.parentScale;return[-s._internalPadding*r,-(s._internalPadding+ye(this,z))*r]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(te.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",ye(this,l)),this.editorDiv.addEventListener("focus",ye(this,ee)),this.editorDiv.addEventListener("blur",ye(this,S)),this.editorDiv.addEventListener("input",ye(this,n)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",ye(this,t)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",ye(this,l)),this.editorDiv.removeEventListener("focus",ye(this,ee)),this.editorDiv.removeEventListener("blur",ye(this,S)),this.editorDiv.removeEventListener("input",ye(this,n)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(r){super.focusin(r),r.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),ye(this,H)||(rt(this,H,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),rt(this,e,ze(this,i,Fi).call(this).trimEnd()),ze(this,B,ai).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(r){this.enableEditMode(),this.editorDiv.focus()}keydown(r){r.target===this.div&&r.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(r){s._keyboardManager.exec(this,r)}editorDivFocus(r){this.isEditing=!0}editorDivBlur(r){this.isEditing=!1}editorDivInput(r){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let r,f;this.width&&(r=this.x,f=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",ye(this,t)),this.enableEditing(),s._l10nPromise.get("editor_free_text2_aria_label").then(P=>{var d;return(d=this.editorDiv)==null?void 0:d.setAttribute("aria-label",P)}),s._l10nPromise.get("free_text2_default_content").then(P=>{var d;return(d=this.editorDiv)==null?void 0:d.setAttribute("default-content",P)}),this.editorDiv.contentEditable=!0;const{style:m}=this.editorDiv;if(m.fontSize=`calc(${ye(this,z)}px * var(--scale-factor))`,m.color=ye(this,K),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,le.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[P,d]=this.parentDimensions;this.setAt(r*P,f*d,this.width*P,this.height*d);for(const A of ye(this,e).split(`
`)){const L=document.createElement("div");L.append(A?document.createTextNode(A):document.createElement("br")),this.editorDiv.append(L)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(r,f,m){const P=super.deserialize(r,f,m);return rt(P,z,r.fontSize),rt(P,K,te.Util.makeHexColor(...r.color)),rt(P,e,r.value),P}serialize(){if(this.isEmpty())return null;const r=s._internalPadding*this.parentScale,f=this.getRect(r,r),m=me.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:ye(this,K));return{annotationType:te.AnnotationEditorType.FREETEXT,color:m,fontSize:ye(this,z),value:ye(this,e),pageIndex:this.pageIndex,rect:f,rotation:this.rotation}}};let fe=s;S=new WeakMap,ee=new WeakMap,n=new WeakMap,l=new WeakMap,K=new WeakMap,e=new WeakMap,t=new WeakMap,H=new WeakMap,z=new WeakMap,G=new WeakSet,Ci=function(r){const f=P=>{this.editorDiv.style.fontSize=`calc(${P}px * var(--scale-factor))`,this.translate(0,-(P-ye(this,z))*this.parentScale),rt(this,z,P),ze(this,B,ai).call(this)},m=ye(this,z);this.addCommands({cmd:()=>{f(r)},undo:()=>{f(m)},mustExec:!0,type:te.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},C=new WeakSet,ki=function(r){const f=ye(this,K);this.addCommands({cmd:()=>{rt(this,K,this.editorDiv.style.color=r)},undo:()=>{rt(this,K,this.editorDiv.style.color=f)},mustExec:!0,type:te.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},i=new WeakSet,Fi=function(){const r=this.editorDiv.getElementsByTagName("div");if(r.length===0)return this.editorDiv.innerText;const f=[];for(const m of r)f.push(m.innerText.replace(/\r\n?|\n/,""));return f.join(`
`)},B=new WeakSet,ai=function(){const[r,f]=this.parentDimensions;let m;if(this.isAttachedToDOM)m=this.div.getBoundingClientRect();else{const{currentLayer:P,div:d}=this,A=d.style.display;d.style.display="hidden",P.div.append(this.div),m=d.getBoundingClientRect(),d.remove(),d.style.display=A}this.width=m.width/r,this.height=m.height/f},Rt(fe,"_freeTextDefaultContent",""),Rt(fe,"_l10nPromise"),Rt(fe,"_internalPadding",0),Rt(fe,"_defaultColor",null),Rt(fe,"_defaultFontSize",10),Rt(fe,"_keyboardManager",new le.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],s.prototype.commitOrRemove]])),Rt(fe,"_type","freetext"),O.FreeTextEditor=fe},(b,O,ce)=>{var ee,n,l,K,e,t,H,z,G,I,C,w,i,F,B,u,s,Ti,y,Ei,f,Oi,P,Ii,A,ri,h,Pi,k,oi,T,_i,q,Mi,x,Ri,U,Di,Q,Ni,j,nn,R,ci,N,En,c,On,W,fn,J,li,oe,In,ne,Li,de,Bi,ge,ji,xe,$i,Fe,hi,we,Pn,Ee,gn,Re,ui;Object.defineProperty(O,"__esModule",{value:!0}),O.InkEditor=void 0;var te=ce(1),le=ce(4),me=ce(5);const fe=16,ve=class extends le.AnnotationEditor{constructor(Ce){super({...Ce,name:"inkEditor"});Be(this,s);Be(this,y);Be(this,f);Be(this,P);Be(this,A);Be(this,h);Be(this,k);Be(this,T);Be(this,q);Be(this,x);Be(this,U);Be(this,Q);Be(this,j);Be(this,R);Be(this,N);Be(this,c);Be(this,W);Be(this,J);Be(this,oe);Be(this,de);Be(this,ge);Be(this,xe);Be(this,Fe);Be(this,we);Be(this,Ee);Be(this,Re);Be(this,ee,0);Be(this,n,0);Be(this,l,0);Be(this,K,this.canvasContextMenu.bind(this));Be(this,e,this.canvasPointermove.bind(this));Be(this,t,this.canvasPointerleave.bind(this));Be(this,H,this.canvasPointerup.bind(this));Be(this,z,this.canvasPointerdown.bind(this));Be(this,G,new Path2D);Be(this,I,!1);Be(this,C,!1);Be(this,w,!1);Be(this,i,null);Be(this,F,0);Be(this,B,0);Be(this,u,null);this.color=Ce.color||null,this.thickness=Ce.thickness||null,this.opacity=Ce.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(Ce){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(ke=>[ke,Ce.get(ke)]))}static updateDefaultParams(Ce,ke){switch(Ce){case te.AnnotationEditorParamsType.INK_THICKNESS:ve._defaultThickness=ke;break;case te.AnnotationEditorParamsType.INK_COLOR:ve._defaultColor=ke;break;case te.AnnotationEditorParamsType.INK_OPACITY:ve._defaultOpacity=ke/100;break}}updateParams(Ce,ke){switch(Ce){case te.AnnotationEditorParamsType.INK_THICKNESS:ze(this,s,Ti).call(this,ke);break;case te.AnnotationEditorParamsType.INK_COLOR:ze(this,y,Ei).call(this,ke);break;case te.AnnotationEditorParamsType.INK_OPACITY:ze(this,f,Oi).call(this,ke);break}}static get defaultPropertiesToUpdate(){return[[te.AnnotationEditorParamsType.INK_THICKNESS,ve._defaultThickness],[te.AnnotationEditorParamsType.INK_COLOR,ve._defaultColor||le.AnnotationEditor._defaultLineColor],[te.AnnotationEditorParamsType.INK_OPACITY,Math.round(ve._defaultOpacity*100)]]}get propertiesToUpdate(){return[[te.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||ve._defaultThickness],[te.AnnotationEditorParamsType.INK_COLOR,this.color||ve._defaultColor||le.AnnotationEditor._defaultLineColor],[te.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??ve._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(ze(this,N,En).call(this),ze(this,c,On).call(this)),this.isAttachedToDOM||(this.parent.add(this),ze(this,W,fn).call(this)),ze(this,Ee,gn).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,ye(this,i).disconnect(),rt(this,i,null),super.remove())}setParent(Ce){!this.parent&&Ce?this._uiManager.removeShouldRescale(this):this.parent&&Ce===null&&this._uiManager.addShouldRescale(this),super.setParent(Ce)}onScaleChanging(){const[Ce,ke]=this.parentDimensions,Le=this.width*Ce,Ge=this.height*ke;this.setDimensions(Le,Ge)}enableEditMode(){ye(this,I)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",ye(this,z)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",ye(this,z)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){ye(this,I)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),rt(this,I,!0),this.div.classList.add("disabled"),ze(this,Ee,gn).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(Ce){super.focusin(Ce),this.enableEditMode()}canvasPointerdown(Ce){Ce.button!==0||!this.isInEditMode()||ye(this,I)||(this.setInForeground(),Ce.preventDefault(),Ce.type!=="mouse"&&this.div.focus(),ze(this,h,Pi).call(this,Ce.offsetX,Ce.offsetY))}canvasContextMenu(Ce){Ce.preventDefault()}canvasPointermove(Ce){Ce.preventDefault(),ze(this,k,oi).call(this,Ce.offsetX,Ce.offsetY)}canvasPointerup(Ce){Ce.preventDefault(),ze(this,R,ci).call(this,Ce)}canvasPointerleave(Ce){ze(this,R,ci).call(this,Ce)}render(){if(this.div)return this.div;let Ce,ke;this.width&&(Ce=this.x,ke=this.y),super.render(),ve._l10nPromise.get("editor_ink2_aria_label").then(Ye=>{var et;return(et=this.div)==null?void 0:et.setAttribute("aria-label",Ye)});const[Le,Ge,Oe,tt]=ze(this,P,Ii).call(this);if(this.setAt(Le,Ge,0,0),this.setDims(Oe,tt),ze(this,N,En).call(this),this.width){const[Ye,et]=this.parentDimensions;this.setAt(Ce*Ye,ke*et,this.width*Ye,this.height*et),rt(this,w,!0),ze(this,W,fn).call(this),this.setDims(this.width*Ye,this.height*et),ze(this,j,nn).call(this),ze(this,Re,ui).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ze(this,c,On).call(this),this.div}setDimensions(Ce,ke){const Le=Math.round(Ce),Ge=Math.round(ke);if(ye(this,F)===Le&&ye(this,B)===Ge)return;rt(this,F,Le),rt(this,B,Ge),this.canvas.style.visibility="hidden",ye(this,ee)&&Math.abs(ye(this,ee)-Ce/ke)>.01&&(ke=Math.ceil(Ce/ye(this,ee)),this.setDims(Ce,ke));const[Oe,tt]=this.parentDimensions;this.width=Ce/Oe,this.height=ke/tt,ye(this,I)&&ze(this,J,li).call(this,Ce,ke),ze(this,W,fn).call(this),ze(this,j,nn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Ce,ke,Le){var qe,gt;const Ge=super.deserialize(Ce,ke,Le);Ge.thickness=Ce.thickness,Ge.color=te.Util.makeHexColor(...Ce.color),Ge.opacity=Ce.opacity;const[Oe,tt]=Ge.pageDimensions,Ye=Ge.width*Oe,et=Ge.height*tt,Xe=Ge.parentScale,Qe=Ce.thickness/2;rt(Ge,ee,Ye/et),rt(Ge,I,!0),rt(Ge,F,Math.round(Ye)),rt(Ge,B,Math.round(et));for(const{bezier:mt}of Ce.paths){const Ct=[];Ge.paths.push(Ct);let Pt=Xe*(mt[0]-Qe),st=Xe*(et-mt[1]-Qe);for(let ot=2,_t=mt.length;ot<_t;ot+=6){const Mt=Xe*(mt[ot]-Qe),Et=Xe*(et-mt[ot+1]-Qe),St=Xe*(mt[ot+2]-Qe),Lt=Xe*(et-mt[ot+3]-Qe),We=Xe*(mt[ot+4]-Qe),Ue=Xe*(et-mt[ot+5]-Qe);Ct.push([[Pt,st],[Mt,Et],[St,Lt],[We,Ue]]),Pt=We,st=Ue}const dt=ze(this,ne,Li).call(this,Ct);Ge.bezierPath2D.push(dt)}const it=ze(qe=Ge,Fe,hi).call(qe);return rt(Ge,l,Math.max(fe,it[2]-it[0])),rt(Ge,n,Math.max(fe,it[3]-it[1])),ze(gt=Ge,J,li).call(gt,Ye,et),Ge}serialize(){if(this.isEmpty())return null;const Ce=this.getRect(0,0),ke=this.rotation%180===0?Ce[3]-Ce[1]:Ce[2]-Ce[0],Le=le.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:te.AnnotationEditorType.INK,color:Le,thickness:this.thickness,opacity:this.opacity,paths:ze(this,de,Bi).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,ke),pageIndex:this.pageIndex,rect:Ce,rotation:this.rotation}}};let S=ve;ee=new WeakMap,n=new WeakMap,l=new WeakMap,K=new WeakMap,e=new WeakMap,t=new WeakMap,H=new WeakMap,z=new WeakMap,G=new WeakMap,I=new WeakMap,C=new WeakMap,w=new WeakMap,i=new WeakMap,F=new WeakMap,B=new WeakMap,u=new WeakMap,s=new WeakSet,Ti=function(Ce){const ke=this.thickness;this.addCommands({cmd:()=>{this.thickness=Ce,ze(this,Ee,gn).call(this)},undo:()=>{this.thickness=ke,ze(this,Ee,gn).call(this)},mustExec:!0,type:te.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},y=new WeakSet,Ei=function(Ce){const ke=this.color;this.addCommands({cmd:()=>{this.color=Ce,ze(this,j,nn).call(this)},undo:()=>{this.color=ke,ze(this,j,nn).call(this)},mustExec:!0,type:te.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},f=new WeakSet,Oi=function(Ce){Ce/=100;const ke=this.opacity;this.addCommands({cmd:()=>{this.opacity=Ce,ze(this,j,nn).call(this)},undo:()=>{this.opacity=ke,ze(this,j,nn).call(this)},mustExec:!0,type:te.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},P=new WeakSet,Ii=function(){const{parentRotation:Ce,parentDimensions:[ke,Le]}=this;switch(Ce){case 90:return[0,Le,Le,ke];case 180:return[ke,Le,ke,Le];case 270:return[ke,0,Le,ke];default:return[0,0,ke,Le]}},A=new WeakSet,ri=function(){const{ctx:Ce,color:ke,opacity:Le,thickness:Ge,parentScale:Oe,scaleFactor:tt}=this;Ce.lineWidth=Ge*Oe/tt,Ce.lineCap="round",Ce.lineJoin="round",Ce.miterLimit=10,Ce.strokeStyle=`${ke}${(0,me.opacityToHex)(Le)}`},h=new WeakSet,Pi=function(Ce,ke){this.canvas.addEventListener("contextmenu",ye(this,K)),this.canvas.addEventListener("pointerleave",ye(this,t)),this.canvas.addEventListener("pointermove",ye(this,e)),this.canvas.addEventListener("pointerup",ye(this,H)),this.canvas.removeEventListener("pointerdown",ye(this,z)),this.isEditing=!0,ye(this,w)||(rt(this,w,!0),ze(this,W,fn).call(this),this.thickness||(this.thickness=ve._defaultThickness),this.color||(this.color=ve._defaultColor||le.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=ve._defaultOpacity)),this.currentPath.push([Ce,ke]),rt(this,C,!1),ze(this,A,ri).call(this),rt(this,u,()=>{ze(this,x,Ri).call(this),ye(this,u)&&window.requestAnimationFrame(ye(this,u))}),window.requestAnimationFrame(ye(this,u))},k=new WeakSet,oi=function(Ce,ke){const[Le,Ge]=this.currentPath.at(-1);if(this.currentPath.length>1&&Ce===Le&&ke===Ge)return;const Oe=this.currentPath;let tt=ye(this,G);if(Oe.push([Ce,ke]),rt(this,C,!0),Oe.length<=2){tt.moveTo(...Oe[0]),tt.lineTo(Ce,ke);return}Oe.length===3&&(rt(this,G,tt=new Path2D),tt.moveTo(...Oe[0])),ze(this,U,Di).call(this,tt,...Oe.at(-3),...Oe.at(-2),Ce,ke)},T=new WeakSet,_i=function(){if(this.currentPath.length===0)return;const Ce=this.currentPath.at(-1);ye(this,G).lineTo(...Ce)},q=new WeakSet,Mi=function(Ce,ke){rt(this,u,null),Ce=Math.min(Math.max(Ce,0),this.canvas.width),ke=Math.min(Math.max(ke,0),this.canvas.height),ze(this,k,oi).call(this,Ce,ke),ze(this,T,_i).call(this);let Le;if(this.currentPath.length!==1)Le=ze(this,Q,Ni).call(this);else{const et=[Ce,ke];Le=[[et,et.slice(),et.slice(),et]]}const Ge=ye(this,G),Oe=this.currentPath;this.currentPath=[],rt(this,G,new Path2D);const tt=()=>{this.allRawPaths.push(Oe),this.paths.push(Le),this.bezierPath2D.push(Ge),this.rebuild()},Ye=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ze(this,N,En).call(this),ze(this,c,On).call(this)),ze(this,Ee,gn).call(this))};this.addCommands({cmd:tt,undo:Ye,mustExec:!0})},x=new WeakSet,Ri=function(){if(!ye(this,C))return;rt(this,C,!1);const Ce=Math.ceil(this.thickness*this.parentScale),ke=this.currentPath.slice(-3),Le=ke.map(tt=>tt[0]),Ge=ke.map(tt=>tt[1]);Math.min(...Le)-Ce,Math.max(...Le)+Ce,Math.min(...Ge)-Ce,Math.max(...Ge)+Ce;const{ctx:Oe}=this;Oe.save(),Oe.clearRect(0,0,this.canvas.width,this.canvas.height);for(const tt of this.bezierPath2D)Oe.stroke(tt);Oe.stroke(ye(this,G)),Oe.restore()},U=new WeakSet,Di=function(Ce,ke,Le,Ge,Oe,tt,Ye){const et=(ke+Ge)/2,Xe=(Le+Oe)/2,Qe=(Ge+tt)/2,it=(Oe+Ye)/2;Ce.bezierCurveTo(et+2*(Ge-et)/3,Xe+2*(Oe-Xe)/3,Qe+2*(Ge-Qe)/3,it+2*(Oe-it)/3,Qe,it)},Q=new WeakSet,Ni=function(){const Ce=this.currentPath;if(Ce.length<=2)return[[Ce[0],Ce[0],Ce.at(-1),Ce.at(-1)]];const ke=[];let Le,[Ge,Oe]=Ce[0];for(Le=1;Le<Ce.length-2;Le++){const[qe,gt]=Ce[Le],[mt,Ct]=Ce[Le+1],Pt=(qe+mt)/2,st=(gt+Ct)/2,dt=[Ge+2*(qe-Ge)/3,Oe+2*(gt-Oe)/3],ot=[Pt+2*(qe-Pt)/3,st+2*(gt-st)/3];ke.push([[Ge,Oe],dt,ot,[Pt,st]]),[Ge,Oe]=[Pt,st]}const[tt,Ye]=Ce[Le],[et,Xe]=Ce[Le+1],Qe=[Ge+2*(tt-Ge)/3,Oe+2*(Ye-Oe)/3],it=[et+2*(tt-et)/3,Xe+2*(Ye-Xe)/3];return ke.push([[Ge,Oe],Qe,it,[et,Xe]]),ke},j=new WeakSet,nn=function(){if(this.isEmpty()){ze(this,oe,In).call(this);return}ze(this,A,ri).call(this);const{canvas:Ce,ctx:ke}=this;ke.setTransform(1,0,0,1,0,0),ke.clearRect(0,0,Ce.width,Ce.height),ze(this,oe,In).call(this);for(const Le of this.bezierPath2D)ke.stroke(Le)},R=new WeakSet,ci=function(Ce){this.canvas.removeEventListener("pointerleave",ye(this,t)),this.canvas.removeEventListener("pointermove",ye(this,e)),this.canvas.removeEventListener("pointerup",ye(this,H)),this.canvas.addEventListener("pointerdown",ye(this,z)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",ye(this,K))},10),ze(this,q,Mi).call(this,Ce.offsetX,Ce.offsetY),this.addToAnnotationStorage(),this.setInBackground()},N=new WeakSet,En=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",ve._l10nPromise.get("editor_ink_canvas_aria_label").then(Ce=>{var ke;return(ke=this.canvas)==null?void 0:ke.setAttribute("aria-label",Ce)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},c=new WeakSet,On=function(){rt(this,i,new ResizeObserver(Ce=>{const ke=Ce[0].contentRect;ke.width&&ke.height&&this.setDimensions(ke.width,ke.height)})),ye(this,i).observe(this.div)},W=new WeakSet,fn=function(){if(!ye(this,w))return;const[Ce,ke]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Ce),this.canvas.height=Math.ceil(this.height*ke),ze(this,oe,In).call(this)},J=new WeakSet,li=function(Ce,ke){const Le=ze(this,we,Pn).call(this),Ge=(Ce-Le)/ye(this,l),Oe=(ke-Le)/ye(this,n);this.scaleFactor=Math.min(Ge,Oe)},oe=new WeakSet,In=function(){const Ce=ze(this,we,Pn).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ce,this.translationY*this.scaleFactor+Ce)},ne=new WeakSet,Li=function(Ce){const ke=new Path2D;for(let Le=0,Ge=Ce.length;Le<Ge;Le++){const[Oe,tt,Ye,et]=Ce[Le];Le===0&&ke.moveTo(...Oe),ke.bezierCurveTo(tt[0],tt[1],Ye[0],Ye[1],et[0],et[1])}return ke},de=new WeakSet,Bi=function(Ce,ke,Le,Ge){const tt=[],Ye=this.thickness/2;let et,Xe;for(const Qe of this.paths){et=[],Xe=[];for(let it=0,qe=Qe.length;it<qe;it++){const[gt,mt,Ct,Pt]=Qe[it],st=Ce*(gt[0]+ke)+Ye,dt=Ge-Ce*(gt[1]+Le)-Ye,ot=Ce*(mt[0]+ke)+Ye,_t=Ge-Ce*(mt[1]+Le)-Ye,Mt=Ce*(Ct[0]+ke)+Ye,Et=Ge-Ce*(Ct[1]+Le)-Ye,St=Ce*(Pt[0]+ke)+Ye,Lt=Ge-Ce*(Pt[1]+Le)-Ye;it===0&&(et.push(st,dt),Xe.push(st,dt)),et.push(ot,_t,Mt,Et,St,Lt),ze(this,ge,ji).call(this,st,dt,ot,_t,Mt,Et,St,Lt,4,Xe)}tt.push({bezier:et,points:Xe})}return tt},ge=new WeakSet,ji=function(Ce,ke,Le,Ge,Oe,tt,Ye,et,Xe,Qe){if(ze(this,xe,$i).call(this,Ce,ke,Le,Ge,Oe,tt,Ye,et)){Qe.push(Ye,et);return}for(let it=1;it<Xe-1;it++){const qe=it/Xe,gt=1-qe;let mt=qe*Ce+gt*Le,Ct=qe*ke+gt*Ge,Pt=qe*Le+gt*Oe,st=qe*Ge+gt*tt;const dt=qe*Oe+gt*Ye,ot=qe*tt+gt*et;mt=qe*mt+gt*Pt,Ct=qe*Ct+gt*st,Pt=qe*Pt+gt*dt,st=qe*st+gt*ot,mt=qe*mt+gt*Pt,Ct=qe*Ct+gt*st,Qe.push(mt,Ct)}Qe.push(Ye,et)},xe=new WeakSet,$i=function(Ce,ke,Le,Ge,Oe,tt,Ye,et){const Qe=(3*Le-2*Ce-Ye)**2,it=(3*Ge-2*ke-et)**2,qe=(3*Oe-Ce-2*Ye)**2,gt=(3*tt-ke-2*et)**2;return Math.max(Qe,qe)+Math.max(it,gt)<=10},Fe=new WeakSet,hi=function(){let Ce=1/0,ke=-1/0,Le=1/0,Ge=-1/0;for(const Oe of this.paths)for(const[tt,Ye,et,Xe]of Oe){const Qe=te.Util.bezierBoundingBox(...tt,...Ye,...et,...Xe);Ce=Math.min(Ce,Qe[0]),Le=Math.min(Le,Qe[1]),ke=Math.max(ke,Qe[2]),Ge=Math.max(Ge,Qe[3])}return[Ce,Le,ke,Ge]},we=new WeakSet,Pn=function(){return ye(this,I)?Math.ceil(this.thickness*this.parentScale):0},Ee=new WeakSet,gn=function(Ce=!1){if(this.isEmpty())return;if(!ye(this,I)){ze(this,j,nn).call(this);return}const ke=ze(this,Fe,hi).call(this),Le=ze(this,we,Pn).call(this);rt(this,l,Math.max(fe,ke[2]-ke[0])),rt(this,n,Math.max(fe,ke[3]-ke[1]));const Ge=Math.ceil(Le+ye(this,l)*this.scaleFactor),Oe=Math.ceil(Le+ye(this,n)*this.scaleFactor),[tt,Ye]=this.parentDimensions;this.width=Ge/tt,this.height=Oe/Ye,rt(this,ee,Ge/Oe),ze(this,Re,ui).call(this);const et=this.translationX,Xe=this.translationY;this.translationX=-ke[0],this.translationY=-ke[1],ze(this,W,fn).call(this),ze(this,j,nn).call(this),rt(this,F,Ge),rt(this,B,Oe),this.setDims(Ge,Oe);const Qe=Ce?Le/this.scaleFactor/2:0;this.translate(et-this.translationX-Qe,Xe-this.translationY-Qe)},Re=new WeakSet,ui=function(){const{style:Ce}=this.div;ye(this,ee)>=1?(Ce.minHeight=`${fe}px`,Ce.minWidth=`${Math.round(ye(this,ee)*fe)}px`):(Ce.minWidth=`${fe}px`,Ce.minHeight=`${Math.round(fe/ye(this,ee))}px`)},Be(S,ne),Rt(S,"_defaultColor",null),Rt(S,"_defaultOpacity",1),Rt(S,"_defaultThickness",1),Rt(S,"_l10nPromise"),Rt(S,"_type","ink"),O.InkEditor=S},(b,O,ce)=>{var V,on,v,Ui,U,di,Q,fi;Object.defineProperty(O,"__esModule",{value:!0}),O.AnnotationLayer=void 0;var te=ce(1),le=ce(6),me=ce(3),fe=ce(31),S=ce(32);const ee=1e3,n=9,l=new WeakSet;function K(X){return{width:X[2]-X[0],height:X[3]-X[1]}}class e{static create(R){switch(R.data.annotationType){case te.AnnotationType.LINK:return new H(R);case te.AnnotationType.TEXT:return new z(R);case te.AnnotationType.WIDGET:switch(R.data.fieldType){case"Tx":return new I(R);case"Btn":return R.data.radioButton?new w(R):R.data.checkBox?new C(R):new i(R);case"Ch":return new F(R)}return new G(R);case te.AnnotationType.POPUP:return new B(R);case te.AnnotationType.FREETEXT:return new s(R);case te.AnnotationType.LINE:return new o(R);case te.AnnotationType.SQUARE:return new y(R);case te.AnnotationType.CIRCLE:return new r(R);case te.AnnotationType.POLYLINE:return new f(R);case te.AnnotationType.CARET:return new P(R);case te.AnnotationType.INK:return new d(R);case te.AnnotationType.POLYGON:return new m(R);case te.AnnotationType.HIGHLIGHT:return new A(R);case te.AnnotationType.UNDERLINE:return new L(R);case te.AnnotationType.SQUIGGLY:return new h(R);case te.AnnotationType.STRIKEOUT:return new g(R);case te.AnnotationType.STAMP:return new k(R);case te.AnnotationType.FILEATTACHMENT:return new D(R);default:return new t(R)}}}class t{constructor(R,{isRenderable:Z=!1,ignoreBorder:N=!1,createQuadrilaterals:M=!1}={}){this.isRenderable=Z,this.data=R.data,this.layer=R.layer,this.page=R.page,this.viewport=R.viewport,this.linkService=R.linkService,this.downloadManager=R.downloadManager,this.imageResourcesPath=R.imageResourcesPath,this.renderForms=R.renderForms,this.svgFactory=R.svgFactory,this.annotationStorage=R.annotationStorage,this.enableScripting=R.enableScripting,this.hasJSActions=R.hasJSActions,this._fieldObjects=R.fieldObjects,Z&&(this.container=this._createContainer(N)),M&&(this.quadrilaterals=this._createQuadrilaterals(N))}_createContainer(R=!1){const{data:Z,page:N,viewport:M}=this,c=document.createElement("section");c.setAttribute("data-annotation-id",Z.id),Z.noRotate&&c.classList.add("norotate");const{pageWidth:_,pageHeight:W,pageX:Y,pageY:J}=M.rawDims,{width:ae,height:oe}=K(Z.rect),he=te.Util.normalizeRect([Z.rect[0],N.view[3]-Z.rect[1]+N.view[1],Z.rect[2],N.view[3]-Z.rect[3]+N.view[1]]);if(!R&&Z.borderStyle.width>0){c.style.borderWidth=`${Z.borderStyle.width}px`;const re=Z.borderStyle.horizontalCornerRadius,de=Z.borderStyle.verticalCornerRadius;if(re>0||de>0){const ge=`calc(${re}px * var(--scale-factor)) / calc(${de}px * var(--scale-factor))`;c.style.borderRadius=ge}else if(this instanceof w){const ge=`calc(${ae}px * var(--scale-factor)) / calc(${oe}px * var(--scale-factor))`;c.style.borderRadius=ge}switch(Z.borderStyle.style){case te.AnnotationBorderStyleType.SOLID:c.style.borderStyle="solid";break;case te.AnnotationBorderStyleType.DASHED:c.style.borderStyle="dashed";break;case te.AnnotationBorderStyleType.BEVELED:(0,te.warn)("Unimplemented border style: beveled");break;case te.AnnotationBorderStyleType.INSET:(0,te.warn)("Unimplemented border style: inset");break;case te.AnnotationBorderStyleType.UNDERLINE:c.style.borderBottomStyle="solid";break}const ue=Z.borderColor||null;ue?c.style.borderColor=te.Util.makeHexColor(ue[0]|0,ue[1]|0,ue[2]|0):c.style.borderWidth=0}c.style.left=`${100*(he[0]-Y)/_}%`,c.style.top=`${100*(he[1]-J)/W}%`;const{rotation:ne}=Z;return Z.hasOwnCanvas||ne===0?(c.style.width=`${100*ae/_}%`,c.style.height=`${100*oe/W}%`):this.setRotation(ne,c),c}setRotation(R,Z=this.container){const{pageWidth:N,pageHeight:M}=this.viewport.rawDims,{width:c,height:_}=K(this.data.rect);let W,Y;R%180===0?(W=100*c/N,Y=100*_/M):(W=100*_/N,Y=100*c/M),Z.style.width=`${W}%`,Z.style.height=`${Y}%`,Z.setAttribute("data-main-rotation",(360-R)%360)}get _commonActions(){const R=(Z,N,M)=>{const c=M.detail[Z];M.target.style[N]=fe.ColorConverters[`${c[0]}_HTML`](c.slice(1))};return(0,te.shadow)(this,"_commonActions",{display:Z=>{const N=Z.detail.display%2===1;this.container.style.visibility=N?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:N,print:Z.detail.display===0||Z.detail.display===3})},print:Z=>{this.annotationStorage.setValue(this.data.id,{print:Z.detail.print})},hidden:Z=>{this.container.style.visibility=Z.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Z.detail.hidden})},focus:Z=>{setTimeout(()=>Z.target.focus({preventScroll:!1}),0)},userName:Z=>{Z.target.title=Z.detail.userName},readonly:Z=>{Z.detail.readonly?Z.target.setAttribute("readonly",""):Z.target.removeAttribute("readonly")},required:Z=>{this._setRequired(Z.target,Z.detail.required)},bgColor:Z=>{R("bgColor","backgroundColor",Z)},fillColor:Z=>{R("fillColor","backgroundColor",Z)},fgColor:Z=>{R("fgColor","color",Z)},textColor:Z=>{R("textColor","color",Z)},borderColor:Z=>{R("borderColor","borderColor",Z)},strokeColor:Z=>{R("strokeColor","borderColor",Z)},rotation:Z=>{const N=Z.detail.rotation;this.setRotation(N),this.annotationStorage.setValue(this.data.id,{rotation:N})}})}_dispatchEventFromSandbox(R,Z){const N=this._commonActions;for(const M of Object.keys(Z.detail)){const c=R[M]||N[M];c==null||c(Z)}}_setDefaultPropertiesFromJS(R){if(!this.enableScripting)return;const Z=this.annotationStorage.getRawValue(this.data.id);if(!Z)return;const N=this._commonActions;for(const[M,c]of Object.entries(Z)){const _=N[M];if(_){const W={detail:{[M]:c},target:R};_(W),delete Z[M]}}}_createQuadrilaterals(R=!1){if(!this.data.quadPoints)return null;const Z=[],N=this.data.rect;for(const M of this.data.quadPoints)this.data.rect=[M[2].x,M[2].y,M[1].x,M[1].y],Z.push(this._createContainer(R));return this.data.rect=N,Z}_createPopup(R,Z){let N=this.container;this.quadrilaterals&&(R||(R=this.quadrilaterals),N=this.quadrilaterals[0]),R||(R=document.createElement("div"),R.classList.add("popupTriggerArea"),N.append(R));const c=new u({container:N,trigger:R,color:Z.color,titleObj:Z.titleObj,modificationDate:Z.modificationDate,contentsObj:Z.contentsObj,richText:Z.richText,hideWrapper:!0}).render();c.style.left="100%",N.append(c)}_renderQuadrilaterals(R){for(const Z of this.quadrilaterals)Z.classList.add(R);return this.quadrilaterals}render(){(0,te.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(R,Z=null){const N=[];if(this._fieldObjects){const M=this._fieldObjects[R];if(M)for(const{page:c,id:_,exportValues:W}of M){if(c===-1||_===Z)continue;const Y=typeof W=="string"?W:null,J=document.querySelector(`[data-element-id="${_}"]`);if(J&&!l.has(J)){(0,te.warn)(`_getElementsByName - element not allowed: ${_}`);continue}N.push({id:_,exportValue:Y,domElement:J})}return N}for(const M of document.getElementsByName(R)){const{exportValue:c}=M,_=M.getAttribute("data-element-id");_!==Z&&l.has(M)&&N.push({id:_,exportValue:c,domElement:M})}return N}}class H extends t{constructor(Z,N=null){super(Z,{isRenderable:!0,ignoreBorder:!!(N!=null&&N.ignoreBorder),createQuadrilaterals:!0});Be(this,V);Be(this,v);this.isTooltipOnly=Z.data.isTooltipOnly}render(){const{data:Z,linkService:N}=this,M=document.createElement("a");M.setAttribute("data-element-id",Z.id);let c=!1;return Z.url?(N.addLinkAttributes(M,Z.url,Z.newWindow),c=!0):Z.action?(this._bindNamedAction(M,Z.action),c=!0):Z.attachment?(this._bindAttachment(M,Z.attachment),c=!0):Z.setOCGState?(ze(this,v,Ui).call(this,M,Z.setOCGState),c=!0):Z.dest?(this._bindLink(M,Z.dest),c=!0):(Z.actions&&(Z.actions.Action||Z.actions["Mouse Up"]||Z.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(M,Z),c=!0),Z.resetForm?(this._bindResetFormAction(M,Z.resetForm),c=!0):this.isTooltipOnly&&!c&&(this._bindLink(M,""),c=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((_,W)=>{const Y=W===0?M:M.cloneNode();return _.append(Y),_}):(this.container.classList.add("linkAnnotation"),c&&this.container.append(M),this.container)}_bindLink(Z,N){Z.href=this.linkService.getDestinationHash(N),Z.onclick=()=>(N&&this.linkService.goToDestination(N),!1),(N||N==="")&&ze(this,V,on).call(this)}_bindNamedAction(Z,N){Z.href=this.linkService.getAnchorUrl(""),Z.onclick=()=>(this.linkService.executeNamedAction(N),!1),ze(this,V,on).call(this)}_bindAttachment(Z,N){Z.href=this.linkService.getAnchorUrl(""),Z.onclick=()=>{var M;return(M=this.downloadManager)==null||M.openOrDownloadData(this.container,N.content,N.filename),!1},ze(this,V,on).call(this)}_bindJSAction(Z,N){Z.href=this.linkService.getAnchorUrl("");const M=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const c of Object.keys(N.actions)){const _=M.get(c);_&&(Z[_]=()=>{var W;return(W=this.linkService.eventBus)==null||W.dispatch("dispatcheventinsandbox",{source:this,detail:{id:N.id,name:c}}),!1})}Z.onclick||(Z.onclick=()=>!1),ze(this,V,on).call(this)}_bindResetFormAction(Z,N){const M=Z.onclick;if(M||(Z.href=this.linkService.getAnchorUrl("")),ze(this,V,on).call(this),!this._fieldObjects){(0,te.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),M||(Z.onclick=()=>!1);return}Z.onclick=()=>{var oe;M==null||M();const{fields:c,refs:_,include:W}=N,Y=[];if(c.length!==0||_.length!==0){const he=new Set(_);for(const ne of c){const re=this._fieldObjects[ne]||[];for(const{id:de}of re)he.add(de)}for(const ne of Object.values(this._fieldObjects))for(const re of ne)he.has(re.id)===W&&Y.push(re)}else for(const he of Object.values(this._fieldObjects))Y.push(...he);const J=this.annotationStorage,ae=[];for(const he of Y){const{id:ne}=he;switch(ae.push(ne),he.type){case"text":{const de=he.defaultValue||"";J.setValue(ne,{value:de});break}case"checkbox":case"radiobutton":{const de=he.defaultValue===he.exportValues;J.setValue(ne,{value:de});break}case"combobox":case"listbox":{const de=he.defaultValue||"";J.setValue(ne,{value:de});break}default:continue}const re=document.querySelector(`[data-element-id="${ne}"]`);if(re){if(!l.has(re)){(0,te.warn)(`_bindResetFormAction - element not allowed: ${ne}`);continue}}else continue;re.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((oe=this.linkService.eventBus)==null||oe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ae,name:"ResetForm"}})),!1}}}V=new WeakSet,on=function(){this.container.setAttribute("data-internal-link","")},v=new WeakSet,Ui=function(Z,N){Z.href=this.linkService.getAnchorUrl(""),Z.onclick=()=>(this.linkService.executeSetOCGState(N),!1),ze(this,V,on).call(this)};class z extends t{constructor(R){var N,M,c;const Z=!!(R.data.hasPopup||(N=R.data.titleObj)!=null&&N.str||(M=R.data.contentsObj)!=null&&M.str||(c=R.data.richText)!=null&&c.str);super(R,{isRenderable:Z})}render(){this.container.classList.add("textAnnotation");const R=document.createElement("img");return R.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",R.alt="[{{type}} Annotation]",R.dataset.l10nId="text_annotation_type",R.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(R,this.data),this.container.append(R),this.container}}class G extends t{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(R){var Z;this.data.hasOwnCanvas&&(((Z=R.previousSibling)==null?void 0:Z.nodeName)==="CANVAS"&&(R.previousSibling.hidden=!0),R.hidden=!1)}_getKeyModifier(R){const{isWin:Z,isMac:N}=te.FeatureTest.platform;return Z&&R.ctrlKey||N&&R.metaKey}_setEventListener(R,Z,N,M){Z.includes("mouse")?R.addEventListener(Z,c=>{var _;(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:N,value:M(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):R.addEventListener(Z,c=>{var _;(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:N,value:M(c)}})})}_setEventListeners(R,Z,N){var M;for(const[c,_]of Z)(_==="Action"||(M=this.data.actions)!=null&&M[_])&&this._setEventListener(R,c,_,N)}_setBackgroundColor(R){const Z=this.data.backgroundColor||null;R.style.backgroundColor=Z===null?"transparent":te.Util.makeHexColor(Z[0],Z[1],Z[2])}_setTextStyle(R){const Z=["left","center","right"],{fontColor:N}=this.data.defaultAppearanceData,M=this.data.defaultAppearanceData.fontSize||n,c=R.style;let _;const W=2,Y=J=>Math.round(10*J)/10;if(this.data.multiLine){const J=Math.abs(this.data.rect[3]-this.data.rect[1]-W),ae=Math.round(J/(te.LINE_FACTOR*M))||1,oe=J/ae;_=Math.min(M,Y(oe/te.LINE_FACTOR))}else{const J=Math.abs(this.data.rect[3]-this.data.rect[1]-W);_=Math.min(M,Y(J/te.LINE_FACTOR))}c.fontSize=`calc(${_}px * var(--scale-factor))`,c.color=te.Util.makeHexColor(N[0],N[1],N[2]),this.data.textAlignment!==null&&(c.textAlign=Z[this.data.textAlignment])}_setRequired(R,Z){Z?R.setAttribute("required",!0):R.removeAttribute("required"),R.setAttribute("aria-required",Z)}}class I extends G{constructor(R){const Z=R.renderForms||!R.data.hasAppearance&&!!R.data.fieldValue;super(R,{isRenderable:Z})}setPropertyOnSiblings(R,Z,N,M){const c=this.annotationStorage;for(const _ of this._getElementsByName(R.name,R.id))_.domElement&&(_.domElement[Z]=N),c.setValue(_.id,{[M]:N})}render(){var M,c;const R=this.annotationStorage,Z=this.data.id;this.container.classList.add("textWidgetAnnotation");let N=null;if(this.renderForms){const _=R.getValue(Z,{value:this.data.fieldValue});let W=_.value||"";const Y=R.getValue(Z,{charLimit:this.data.maxLen}).charLimit;Y&&W.length>Y&&(W=W.slice(0,Y));let J=_.formattedValue||((M=this.data.textContent)==null?void 0:M.join(`
`))||null;J&&this.data.comb&&(J=J.replaceAll(/\s+/g,""));const ae={userValue:W,formattedValue:J,lastCommittedValue:null,commitKey:1};this.data.multiLine?(N=document.createElement("textarea"),N.textContent=J??W,this.data.doNotScroll&&(N.style.overflowY="hidden")):(N=document.createElement("input"),N.type="text",N.setAttribute("value",J??W),this.data.doNotScroll&&(N.style.overflowX="hidden")),this.data.hasOwnCanvas&&(N.hidden=!0),l.add(N),N.setAttribute("data-element-id",Z),N.disabled=this.data.readOnly,N.name=this.data.fieldName,N.tabIndex=ee,this._setRequired(N,this.data.required),Y&&(N.maxLength=Y),N.addEventListener("input",he=>{R.setValue(Z,{value:he.target.value}),this.setPropertyOnSiblings(N,"value",he.target.value,"value"),ae.formattedValue=null}),N.addEventListener("resetform",he=>{const ne=this.data.defaultFieldValue??"";N.value=ae.userValue=ne,ae.formattedValue=null});let oe=he=>{const{formattedValue:ne}=ae;ne!=null&&(he.target.value=ne),he.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){N.addEventListener("focus",ne=>{const{target:re}=ne;ae.userValue&&(re.value=ae.userValue),ae.lastCommittedValue=re.value,ae.commitKey=1}),N.addEventListener("updatefromsandbox",ne=>{this.showElementAndHideCanvas(ne.target);const re={value(de){ae.userValue=de.detail.value??"",R.setValue(Z,{value:ae.userValue.toString()}),de.target.value=ae.userValue},formattedValue(de){const{formattedValue:ue}=de.detail;ae.formattedValue=ue,ue!=null&&de.target!==document.activeElement&&(de.target.value=ue),R.setValue(Z,{formattedValue:ue})},selRange(de){de.target.setSelectionRange(...de.detail.selRange)},charLimit:de=>{var xe;const{charLimit:ue}=de.detail,{target:ge}=de;if(ue===0){ge.removeAttribute("maxLength");return}ge.setAttribute("maxLength",ue);let pe=ae.userValue;!pe||pe.length<=ue||(pe=pe.slice(0,ue),ge.value=ae.userValue=pe,R.setValue(Z,{value:pe}),(xe=this.linkService.eventBus)==null||xe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Z,name:"Keystroke",value:pe,willCommit:!0,commitKey:1,selStart:ge.selectionStart,selEnd:ge.selectionEnd}}))}};this._dispatchEventFromSandbox(re,ne)}),N.addEventListener("keydown",ne=>{var ue;ae.commitKey=1;let re=-1;if(ne.key==="Escape"?re=0:ne.key==="Enter"&&!this.data.multiLine?re=2:ne.key==="Tab"&&(ae.commitKey=3),re===-1)return;const{value:de}=ne.target;ae.lastCommittedValue!==de&&(ae.lastCommittedValue=de,ae.userValue=de,(ue=this.linkService.eventBus)==null||ue.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Z,name:"Keystroke",value:de,willCommit:!0,commitKey:re,selStart:ne.target.selectionStart,selEnd:ne.target.selectionEnd}}))});const he=oe;oe=null,N.addEventListener("blur",ne=>{var de;if(!ne.relatedTarget)return;const{value:re}=ne.target;ae.userValue=re,ae.lastCommittedValue!==re&&((de=this.linkService.eventBus)==null||de.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Z,name:"Keystroke",value:re,willCommit:!0,commitKey:ae.commitKey,selStart:ne.target.selectionStart,selEnd:ne.target.selectionEnd}})),he(ne)}),(c=this.data.actions)!=null&&c.Keystroke&&N.addEventListener("beforeinput",ne=>{var Fe;ae.lastCommittedValue=null;const{data:re,target:de}=ne,{value:ue,selectionStart:ge,selectionEnd:pe}=de;let xe=ge,Ie=pe;switch(ne.inputType){case"deleteWordBackward":{const Ae=ue.substring(0,ge).match(/\w*[^\w]*$/);Ae&&(xe-=Ae[0].length);break}case"deleteWordForward":{const Ae=ue.substring(ge).match(/^[^\w]*\w*/);Ae&&(Ie+=Ae[0].length);break}case"deleteContentBackward":ge===pe&&(xe-=1);break;case"deleteContentForward":ge===pe&&(Ie+=1);break}ne.preventDefault(),(Fe=this.linkService.eventBus)==null||Fe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Z,name:"Keystroke",value:ue,change:re||"",willCommit:!1,selStart:xe,selEnd:Ie}})}),this._setEventListeners(N,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ne=>ne.target.value)}if(oe&&N.addEventListener("blur",oe),this.data.comb){const ne=(this.data.rect[2]-this.data.rect[0])/Y;N.classList.add("comb"),N.style.letterSpacing=`calc(${ne}px * var(--scale-factor) - 1ch)`}}else N=document.createElement("div"),N.textContent=this.data.fieldValue,N.style.verticalAlign="middle",N.style.display="table-cell";return this._setTextStyle(N),this._setBackgroundColor(N),this._setDefaultPropertiesFromJS(N),this.container.append(N),this.container}}class C extends G{constructor(R){super(R,{isRenderable:R.renderForms})}render(){const R=this.annotationStorage,Z=this.data,N=Z.id;let M=R.getValue(N,{value:Z.exportValue===Z.fieldValue}).value;typeof M=="string"&&(M=M!=="Off",R.setValue(N,{value:M})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const c=document.createElement("input");return l.add(c),c.setAttribute("data-element-id",N),c.disabled=Z.readOnly,this._setRequired(c,this.data.required),c.type="checkbox",c.name=Z.fieldName,M&&c.setAttribute("checked",!0),c.setAttribute("exportValue",Z.exportValue),c.tabIndex=ee,c.addEventListener("change",_=>{const{name:W,checked:Y}=_.target;for(const J of this._getElementsByName(W,N)){const ae=Y&&J.exportValue===Z.exportValue;J.domElement&&(J.domElement.checked=ae),R.setValue(J.id,{value:ae})}R.setValue(N,{value:Y})}),c.addEventListener("resetform",_=>{const W=Z.defaultFieldValue||"Off";_.target.checked=W===Z.exportValue}),this.enableScripting&&this.hasJSActions&&(c.addEventListener("updatefromsandbox",_=>{const W={value(Y){Y.target.checked=Y.detail.value!=="Off",R.setValue(N,{value:Y.target.checked})}};this._dispatchEventFromSandbox(W,_)}),this._setEventListeners(c,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_=>_.target.checked)),this._setBackgroundColor(c),this._setDefaultPropertiesFromJS(c),this.container.append(c),this.container}}class w extends G{constructor(R){super(R,{isRenderable:R.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const R=this.annotationStorage,Z=this.data,N=Z.id;let M=R.getValue(N,{value:Z.fieldValue===Z.buttonValue}).value;typeof M=="string"&&(M=M!==Z.buttonValue,R.setValue(N,{value:M}));const c=document.createElement("input");if(l.add(c),c.setAttribute("data-element-id",N),c.disabled=Z.readOnly,this._setRequired(c,this.data.required),c.type="radio",c.name=Z.fieldName,M&&c.setAttribute("checked",!0),c.tabIndex=ee,c.addEventListener("change",_=>{const{name:W,checked:Y}=_.target;for(const J of this._getElementsByName(W,N))R.setValue(J.id,{value:!1});R.setValue(N,{value:Y})}),c.addEventListener("resetform",_=>{const W=Z.defaultFieldValue;_.target.checked=W!=null&&W===Z.buttonValue}),this.enableScripting&&this.hasJSActions){const _=Z.buttonValue;c.addEventListener("updatefromsandbox",W=>{const Y={value:J=>{const ae=_===J.detail.value;for(const oe of this._getElementsByName(J.target.name)){const he=ae&&oe.id===N;oe.domElement&&(oe.domElement.checked=he),R.setValue(oe.id,{value:he})}}};this._dispatchEventFromSandbox(Y,W)}),this._setEventListeners(c,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],W=>W.target.checked)}return this._setBackgroundColor(c),this._setDefaultPropertiesFromJS(c),this.container.append(c),this.container}}class i extends H{constructor(R){super(R,{ignoreBorder:R.data.hasAppearance})}render(){const R=super.render();R.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(R.title=this.data.alternativeText);const Z=R.lastChild;return this.enableScripting&&this.hasJSActions&&Z&&(this._setDefaultPropertiesFromJS(Z),Z.addEventListener("updatefromsandbox",N=>{this._dispatchEventFromSandbox({},N)})),R}}class F extends G{constructor(R){super(R,{isRenderable:R.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const R=this.annotationStorage,Z=this.data.id,N=R.getValue(Z,{value:this.data.fieldValue}),M=document.createElement("select");l.add(M),M.setAttribute("data-element-id",Z),M.disabled=this.data.readOnly,this._setRequired(M,this.data.required),M.name=this.data.fieldName,M.tabIndex=ee;let c=this.data.combo&&this.data.options.length>0;this.data.combo||(M.size=this.data.options.length,this.data.multiSelect&&(M.multiple=!0)),M.addEventListener("resetform",ae=>{const oe=this.data.defaultFieldValue;for(const he of M.options)he.selected=he.value===oe});for(const ae of this.data.options){const oe=document.createElement("option");oe.textContent=ae.displayValue,oe.value=ae.exportValue,N.value.includes(ae.exportValue)&&(oe.setAttribute("selected",!0),c=!1),M.append(oe)}let _=null;if(c){const ae=document.createElement("option");ae.value=" ",ae.setAttribute("hidden",!0),ae.setAttribute("selected",!0),M.prepend(ae),_=()=>{ae.remove(),M.removeEventListener("input",_),_=null},M.addEventListener("input",_)}const W=ae=>{const oe=ae?"value":"textContent",{options:he,multiple:ne}=M;return ne?Array.prototype.filter.call(he,re=>re.selected).map(re=>re[oe]):he.selectedIndex===-1?null:he[he.selectedIndex][oe]};let Y=W(!1);const J=ae=>{const oe=ae.target.options;return Array.prototype.map.call(oe,he=>({displayValue:he.textContent,exportValue:he.value}))};return this.enableScripting&&this.hasJSActions?(M.addEventListener("updatefromsandbox",ae=>{const oe={value(he){_==null||_();const ne=he.detail.value,re=new Set(Array.isArray(ne)?ne:[ne]);for(const de of M.options)de.selected=re.has(de.value);R.setValue(Z,{value:W(!0)}),Y=W(!1)},multipleSelection(he){M.multiple=!0},remove(he){const ne=M.options,re=he.detail.remove;ne[re].selected=!1,M.remove(re),ne.length>0&&Array.prototype.findIndex.call(ne,ue=>ue.selected)===-1&&(ne[0].selected=!0),R.setValue(Z,{value:W(!0),items:J(he)}),Y=W(!1)},clear(he){for(;M.length!==0;)M.remove(0);R.setValue(Z,{value:null,items:[]}),Y=W(!1)},insert(he){const{index:ne,displayValue:re,exportValue:de}=he.detail.insert,ue=M.children[ne],ge=document.createElement("option");ge.textContent=re,ge.value=de,ue?ue.before(ge):M.append(ge),R.setValue(Z,{value:W(!0),items:J(he)}),Y=W(!1)},items(he){const{items:ne}=he.detail;for(;M.length!==0;)M.remove(0);for(const re of ne){const{displayValue:de,exportValue:ue}=re,ge=document.createElement("option");ge.textContent=de,ge.value=ue,M.append(ge)}M.options.length>0&&(M.options[0].selected=!0),R.setValue(Z,{value:W(!0),items:J(he)}),Y=W(!1)},indices(he){const ne=new Set(he.detail.indices);for(const re of he.target.options)re.selected=ne.has(re.index);R.setValue(Z,{value:W(!0)}),Y=W(!1)},editable(he){he.target.disabled=!he.detail.editable}};this._dispatchEventFromSandbox(oe,ae)}),M.addEventListener("input",ae=>{var he;const oe=W(!0);R.setValue(Z,{value:oe}),ae.preventDefault(),(he=this.linkService.eventBus)==null||he.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Z,name:"Keystroke",value:Y,changeEx:oe,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(M,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],ae=>ae.target.value)):M.addEventListener("input",function(ae){R.setValue(Z,{value:W(!0)})}),this.data.combo&&this._setTextStyle(M),this._setBackgroundColor(M),this._setDefaultPropertiesFromJS(M),this.container.append(M),this.container}}const E=class extends t{constructor(R){var M,c,_;const{data:Z}=R,N=!E.IGNORE_TYPES.has(Z.parentType)&&!!((M=Z.titleObj)!=null&&M.str||(c=Z.contentsObj)!=null&&c.str||(_=Z.richText)!=null&&_.str);super(R,{isRenderable:N})}render(){this.container.classList.add("popupAnnotation");const R=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(R.length===0)return this.container;const Z=new u({container:this.container,trigger:Array.from(R),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),N=this.page,M=te.Util.normalizeRect([this.data.parentRect[0],N.view[3]-this.data.parentRect[1]+N.view[1],this.data.parentRect[2],N.view[3]-this.data.parentRect[3]+N.view[1]]),c=M[0]+this.data.parentRect[2]-this.data.parentRect[0],_=M[1],{pageWidth:W,pageHeight:Y,pageX:J,pageY:ae}=this.viewport.rawDims;return this.container.style.left=`${100*(c-J)/W}%`,this.container.style.top=`${100*(_-ae)/Y}%`,this.container.append(Z.render()),this.container}};let B=E;Rt(B,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));class u{constructor(R){this.container=R.container,this.trigger=R.trigger,this.color=R.color,this.titleObj=R.titleObj,this.modificationDate=R.modificationDate,this.contentsObj=R.contentsObj,this.richText=R.richText,this.hideWrapper=R.hideWrapper||!1,this.pinned=!1}render(){var W,Y;const Z=document.createElement("div");Z.classList.add("popupWrapper"),this.hideElement=this.hideWrapper?Z:this.container,this.hideElement.hidden=!0;const N=document.createElement("div");N.classList.add("popup");const M=this.color;if(M){const J=.7*(255-M[0])+M[0],ae=.7*(255-M[1])+M[1],oe=.7*(255-M[2])+M[2];N.style.backgroundColor=te.Util.makeHexColor(J|0,ae|0,oe|0)}const c=document.createElement("h1");c.dir=this.titleObj.dir,c.textContent=this.titleObj.str,N.append(c);const _=le.PDFDateString.toDateObject(this.modificationDate);if(_){const J=document.createElement("span");J.classList.add("popupDate"),J.textContent="{{date}}, {{time}}",J.dataset.l10nId="annotation_date_string",J.dataset.l10nArgs=JSON.stringify({date:_.toLocaleDateString(),time:_.toLocaleTimeString()}),N.append(J)}if((W=this.richText)!=null&&W.str&&(!((Y=this.contentsObj)!=null&&Y.str)||this.contentsObj.str===this.richText.str))S.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:N}),N.lastChild.classList.add("richText","popupContent");else{const J=this._formatContents(this.contentsObj);N.append(J)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const J of this.trigger)J.addEventListener("click",this._toggle.bind(this)),J.addEventListener("mouseover",this._show.bind(this,!1)),J.addEventListener("mouseout",this._hide.bind(this,!1));return N.addEventListener("click",this._hide.bind(this,!0)),Z.append(N),Z}_formatContents({str:R,dir:Z}){const N=document.createElement("p");N.classList.add("popupContent"),N.dir=Z;const M=R.split(/(?:\r\n?|\n)/);for(let c=0,_=M.length;c<_;++c){const W=M[c];N.append(document.createTextNode(W)),c<_-1&&N.append(document.createElement("br"))}return N}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(R=!1){R&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(R=!0){R&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class s extends t{constructor(R){var N,M,c;const Z=!!(R.data.hasPopup||(N=R.data.titleObj)!=null&&N.str||(M=R.data.contentsObj)!=null&&M.str||(c=R.data.richText)!=null&&c.str);super(R,{isRenderable:Z,ignoreBorder:!0}),this.textContent=R.data.textContent}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const R=document.createElement("div");R.classList.add("annotationTextContent"),R.setAttribute("role","comment");for(const Z of this.textContent){const N=document.createElement("span");N.textContent=Z,R.append(N)}this.container.append(R)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class o extends t{constructor(R){var N,M,c;const Z=!!(R.data.hasPopup||(N=R.data.titleObj)!=null&&N.str||(M=R.data.contentsObj)!=null&&M.str||(c=R.data.richText)!=null&&c.str);super(R,{isRenderable:Z,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const R=this.data,{width:Z,height:N}=K(R.rect),M=this.svgFactory.create(Z,N,!0),c=this.svgFactory.createElement("svg:line");return c.setAttribute("x1",R.rect[2]-R.lineCoordinates[0]),c.setAttribute("y1",R.rect[3]-R.lineCoordinates[1]),c.setAttribute("x2",R.rect[2]-R.lineCoordinates[2]),c.setAttribute("y2",R.rect[3]-R.lineCoordinates[3]),c.setAttribute("stroke-width",R.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),M.append(c),this.container.append(M),this._createPopup(c,R),this.container}}class y extends t{constructor(R){var N,M,c;const Z=!!(R.data.hasPopup||(N=R.data.titleObj)!=null&&N.str||(M=R.data.contentsObj)!=null&&M.str||(c=R.data.richText)!=null&&c.str);super(R,{isRenderable:Z,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const R=this.data,{width:Z,height:N}=K(R.rect),M=this.svgFactory.create(Z,N,!0),c=R.borderStyle.width,_=this.svgFactory.createElement("svg:rect");return _.setAttribute("x",c/2),_.setAttribute("y",c/2),_.setAttribute("width",Z-c),_.setAttribute("height",N-c),_.setAttribute("stroke-width",c||1),_.setAttribute("stroke","transparent"),_.setAttribute("fill","transparent"),M.append(_),this.container.append(M),this._createPopup(_,R),this.container}}class r extends t{constructor(R){var N,M,c;const Z=!!(R.data.hasPopup||(N=R.data.titleObj)!=null&&N.str||(M=R.data.contentsObj)!=null&&M.str||(c=R.data.richText)!=null&&c.str);super(R,{isRenderable:Z,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const R=this.data,{width:Z,height:N}=K(R.rect),M=this.svgFactory.create(Z,N,!0),c=R.borderStyle.width,_=this.svgFactory.createElement("svg:ellipse");return _.setAttribute("cx",Z/2),_.setAttribute("cy",N/2),_.setAttribute("rx",Z/2-c/2),_.setAttribute("ry",N/2-c/2),_.setAttribute("stroke-width",c||1),_.setAttribute("stroke","transparent"),_.setAttribute("fill","transparent"),M.append(_),this.container.append(M),this._createPopup(_,R),this.container}}class f extends t{constructor(R){var N,M,c;const Z=!!(R.data.hasPopup||(N=R.data.titleObj)!=null&&N.str||(M=R.data.contentsObj)!=null&&M.str||(c=R.data.richText)!=null&&c.str);super(R,{isRenderable:Z,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const R=this.data,{width:Z,height:N}=K(R.rect),M=this.svgFactory.create(Z,N,!0);let c=[];for(const W of R.vertices){const Y=W.x-R.rect[0],J=R.rect[3]-W.y;c.push(Y+","+J)}c=c.join(" ");const _=this.svgFactory.createElement(this.svgElementName);return _.setAttribute("points",c),_.setAttribute("stroke-width",R.borderStyle.width||1),_.setAttribute("stroke","transparent"),_.setAttribute("fill","transparent"),M.append(_),this.container.append(M),this._createPopup(_,R),this.container}}class m extends f{constructor(R){super(R),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class P extends t{constructor(R){var N,M,c;const Z=!!(R.data.hasPopup||(N=R.data.titleObj)!=null&&N.str||(M=R.data.contentsObj)!=null&&M.str||(c=R.data.richText)!=null&&c.str);super(R,{isRenderable:Z,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class d extends t{constructor(R){var N,M,c;const Z=!!(R.data.hasPopup||(N=R.data.titleObj)!=null&&N.str||(M=R.data.contentsObj)!=null&&M.str||(c=R.data.richText)!=null&&c.str);super(R,{isRenderable:Z,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const R=this.data,{width:Z,height:N}=K(R.rect),M=this.svgFactory.create(Z,N,!0);for(const c of R.inkLists){let _=[];for(const Y of c){const J=Y.x-R.rect[0],ae=R.rect[3]-Y.y;_.push(`${J},${ae}`)}_=_.join(" ");const W=this.svgFactory.createElement(this.svgElementName);W.setAttribute("points",_),W.setAttribute("stroke-width",R.borderStyle.width||1),W.setAttribute("stroke","transparent"),W.setAttribute("fill","transparent"),this._createPopup(W,R),M.append(W)}return this.container.append(M),this.container}}class A extends t{constructor(R){var N,M,c;const Z=!!(R.data.hasPopup||(N=R.data.titleObj)!=null&&N.str||(M=R.data.contentsObj)!=null&&M.str||(c=R.data.richText)!=null&&c.str);super(R,{isRenderable:Z,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.classList.add("highlightAnnotation"),this.container)}}class L extends t{constructor(R){var N,M,c;const Z=!!(R.data.hasPopup||(N=R.data.titleObj)!=null&&N.str||(M=R.data.contentsObj)!=null&&M.str||(c=R.data.richText)!=null&&c.str);super(R,{isRenderable:Z,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.classList.add("underlineAnnotation"),this.container)}}class h extends t{constructor(R){var N,M,c;const Z=!!(R.data.hasPopup||(N=R.data.titleObj)!=null&&N.str||(M=R.data.contentsObj)!=null&&M.str||(c=R.data.richText)!=null&&c.str);super(R,{isRenderable:Z,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.classList.add("squigglyAnnotation"),this.container)}}class g extends t{constructor(R){var N,M,c;const Z=!!(R.data.hasPopup||(N=R.data.titleObj)!=null&&N.str||(M=R.data.contentsObj)!=null&&M.str||(c=R.data.richText)!=null&&c.str);super(R,{isRenderable:Z,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.classList.add("strikeoutAnnotation"),this.container)}}class k extends t{constructor(R){var N,M,c;const Z=!!(R.data.hasPopup||(N=R.data.titleObj)!=null&&N.str||(M=R.data.contentsObj)!=null&&M.str||(c=R.data.richText)!=null&&c.str);super(R,{isRenderable:Z,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class D extends t{constructor(R){var M;super(R,{isRenderable:!0});const{filename:Z,content:N}=this.data.file;this.filename=(0,le.getFilenameFromUrl)(Z,!0),this.content=N,(M=this.linkService.eventBus)==null||M.dispatch("fileattachmentannotation",{source:this,filename:Z,content:N})}render(){var Z,N;this.container.classList.add("fileAttachmentAnnotation");let R;return this.data.hasAppearance?R=document.createElement("div"):(R=document.createElement("img"),R.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),R.classList.add("popupTriggerArea"),R.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((Z=this.data.titleObj)!=null&&Z.str||(N=this.data.contentsObj)!=null&&N.str||this.data.richText)&&this._createPopup(R,this.data),this.container.append(R),this.container}_download(){var R;(R=this.downloadManager)==null||R.openOrDownloadData(this.container,this.content,this.filename)}}const j=class{static render(R){var Y,J;const{annotations:Z,div:N,viewport:M,accessibilityManager:c}=R;(0,le.setLayerDimensions)(N,M);const _={data:null,layer:N,page:R.page,viewport:M,linkService:R.linkService,downloadManager:R.downloadManager,imageResourcesPath:R.imageResourcesPath||"",renderForms:R.renderForms!==!1,svgFactory:new le.DOMSVGFactory,annotationStorage:R.annotationStorage||new me.AnnotationStorage,enableScripting:R.enableScripting===!0,hasJSActions:R.hasJSActions,fieldObjects:R.fieldObjects};let W=0;for(const ae of Z){if(ae.noHTML)continue;if(ae.annotationType!==te.AnnotationType.POPUP){const{width:ne,height:re}=K(ae.rect);if(ne<=0||re<=0)continue}_.data=ae;const oe=e.create(_);if(!oe.isRenderable)continue;const he=oe.render();if(ae.hidden&&(he.style.visibility="hidden"),Array.isArray(he))for(const ne of he)ne.style.zIndex=W++,ze(Y=j,U,di).call(Y,ne,ae.id,N,c);else he.style.zIndex=W++,oe instanceof B?N.prepend(he):ze(J=j,U,di).call(J,he,ae.id,N,c)}ze(this,Q,fi).call(this,N,R.annotationCanvasMap)}static update(R){const{annotationCanvasMap:Z,div:N,viewport:M}=R;(0,le.setLayerDimensions)(N,{rotation:M.rotation}),ze(this,Q,fi).call(this,N,Z),N.hidden=!1}};let T=j;U=new WeakSet,di=function(R,Z,N,M){const c=R.firstChild||R;c.id=`${le.AnnotationPrefix}${Z}`,N.append(R),M==null||M.moveElementInDOM(N,R,c,!1)},Q=new WeakSet,fi=function(R,Z){if(Z){for(const[N,M]of Z){const c=R.querySelector(`[data-annotation-id="${N}"]`);if(!c)continue;const{firstChild:_}=c;_?_.nodeName==="CANVAS"?_.replaceWith(M):_.before(M):c.append(M)}Z.clear()}},Be(T,U),Be(T,Q),O.AnnotationLayer=T},(b,O)=>{Object.defineProperty(O,"__esModule",{value:!0}),O.ColorConverters=void 0;function ce(le){return Math.floor(Math.max(0,Math.min(1,le))*255).toString(16).padStart(2,"0")}class te{static CMYK_G([me,fe,S,ee]){return["G",1-Math.min(1,.3*me+.59*S+.11*fe+ee)]}static G_CMYK([me]){return["CMYK",0,0,0,1-me]}static G_RGB([me]){return["RGB",me,me,me]}static G_HTML([me]){const fe=ce(me);return`#${fe}${fe}${fe}`}static RGB_G([me,fe,S]){return["G",.3*me+.59*fe+.11*S]}static RGB_HTML([me,fe,S]){const ee=ce(me),n=ce(fe),l=ce(S);return`#${ee}${n}${l}`}static T_HTML(){return"#00000000"}static CMYK_RGB([me,fe,S,ee]){return["RGB",1-Math.min(1,me+ee),1-Math.min(1,S+ee),1-Math.min(1,fe+ee)]}static CMYK_HTML(me){const fe=this.CMYK_RGB(me).slice(1);return this.RGB_HTML(fe)}static RGB_CMYK([me,fe,S]){const ee=1-me,n=1-fe,l=1-S,K=Math.min(ee,n,l);return["CMYK",ee,n,l,K]}}O.ColorConverters=te},(b,O,ce)=>{Object.defineProperty(O,"__esModule",{value:!0}),O.XfaLayer=void 0;var te=ce(19);class le{static setupStorage(fe,S,ee,n,l){const K=n.getValue(S,{value:null});switch(ee.name){case"textarea":if(K.value!==null&&(fe.textContent=K.value),l==="print")break;fe.addEventListener("input",e=>{n.setValue(S,{value:e.target.value})});break;case"input":if(ee.attributes.type==="radio"||ee.attributes.type==="checkbox"){if(K.value===ee.attributes.xfaOn?fe.setAttribute("checked",!0):K.value===ee.attributes.xfaOff&&fe.removeAttribute("checked"),l==="print")break;fe.addEventListener("change",e=>{n.setValue(S,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(K.value!==null&&fe.setAttribute("value",K.value),l==="print")break;fe.addEventListener("input",e=>{n.setValue(S,{value:e.target.value})})}break;case"select":if(K.value!==null)for(const e of ee.children)e.attributes.value===K.value&&(e.attributes.selected=!0);fe.addEventListener("input",e=>{const t=e.target.options,H=t.selectedIndex===-1?"":t[t.selectedIndex].value;n.setValue(S,{value:H})});break}}static setAttributes({html:fe,element:S,storage:ee=null,intent:n,linkService:l}){const{attributes:K}=S,e=fe instanceof HTMLAnchorElement;K.type==="radio"&&(K.name=`${K.name}-${n}`);for(const[t,H]of Object.entries(K))if(H!=null)switch(t){case"class":H.length&&fe.setAttribute(t,H.join(" "));break;case"dataId":break;case"id":fe.setAttribute("data-element-id",H);break;case"style":Object.assign(fe.style,H);break;case"textContent":fe.textContent=H;break;default:(!e||t!=="href"&&t!=="newWindow")&&fe.setAttribute(t,H)}e&&l.addLinkAttributes(fe,K.href,K.newWindow),ee&&K.dataId&&this.setupStorage(fe,K.dataId,S,ee)}static render(fe){var z;const S=fe.annotationStorage,ee=fe.linkService,n=fe.xfaHtml,l=fe.intent||"display",K=document.createElement(n.name);n.attributes&&this.setAttributes({html:K,element:n,intent:l,linkService:ee});const e=[[n,-1,K]],t=fe.div;if(t.append(K),fe.viewport){const G=`matrix(${fe.viewport.transform.join(",")})`;t.style.transform=G}l!=="richText"&&t.setAttribute("class","xfaLayer xfaFont");const H=[];for(;e.length>0;){const[G,I,C]=e.at(-1);if(I+1===G.children.length){e.pop();continue}const w=G.children[++e.at(-1)[1]];if(w===null)continue;const{name:i}=w;if(i==="#text"){const B=document.createTextNode(w.value);H.push(B),C.append(B);continue}let F;if((z=w==null?void 0:w.attributes)!=null&&z.xmlns?F=document.createElementNS(w.attributes.xmlns,i):F=document.createElement(i),C.append(F),w.attributes&&this.setAttributes({html:F,element:w,storage:S,intent:l,linkService:ee}),w.children&&w.children.length>0)e.push([w,-1,F]);else if(w.value){const B=document.createTextNode(w.value);te.XfaText.shouldBuildText(i)&&H.push(B),F.append(B)}}for(const G of t.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))G.setAttribute("readOnly",!0);return{textDivs:H}}static update(fe){const S=`matrix(${fe.viewport.transform.join(",")})`;fe.div.style.transform=S,fe.div.hidden=!1}}O.XfaLayer=le},(b,O,ce)=>{Object.defineProperty(O,"__esModule",{value:!0}),O.SVGGraphics=void 0;var te=ce(6),le=ce(1),me=ce(10);let fe=class{constructor(){(0,le.unreachable)("Not implemented: SVGGraphics")}};O.SVGGraphics=fe;{let C=function(s){let o=[];const y=[];for(const r of s){if(r.fn==="save"){o.push({fnId:92,fn:"group",items:[]}),y.push(o),o=o.at(-1).items;continue}r.fn==="restore"?o=y.pop():o.push(r)}return o},w=function(s){if(Number.isInteger(s))return s.toString();const o=s.toFixed(10);let y=o.length-1;if(o[y]!=="0")return o;do y--;while(o[y]==="0");return o.substring(0,o[y]==="."?y:y+1)},i=function(s){if(s[4]===0&&s[5]===0){if(s[1]===0&&s[2]===0)return s[0]===1&&s[3]===1?"":`scale(${w(s[0])} ${w(s[3])})`;if(s[0]===s[3]&&s[1]===-s[2]){const o=Math.acos(s[0])*180/Math.PI;return`rotate(${w(o)})`}}else if(s[0]===1&&s[1]===0&&s[2]===0&&s[3]===1)return`translate(${w(s[4])} ${w(s[5])})`;return`matrix(${w(s[0])} ${w(s[1])} ${w(s[2])} ${w(s[3])} ${w(s[4])} ${w(s[5])})`};var S=C,ee=w,n=i;const l={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},K="http://www.w3.org/XML/1998/namespace",e="http://www.w3.org/1999/xlink",t=["butt","round","square"],H=["miter","round","bevel"],z=function(s,o="",y=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!y)return URL.createObjectURL(new Blob([s],{type:o}));const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let f=`data:${o};base64,`;for(let m=0,P=s.length;m<P;m+=3){const d=s[m]&255,A=s[m+1]&255,L=s[m+2]&255,h=d>>2,g=(d&3)<<4|A>>4,k=m+1<P?(A&15)<<2|L>>6:64,D=m+2<P?L&63:64;f+=r[h]+r[g]+r[k]+r[D]}return f},G=function(){const s=new Uint8Array([137,80,78,71,13,10,26,10]),o=12,y=new Int32Array(256);for(let L=0;L<256;L++){let h=L;for(let g=0;g<8;g++)h&1?h=3988292384^h>>1&2147483647:h=h>>1&2147483647;y[L]=h}function r(L,h,g){let k=-1;for(let D=h;D<g;D++){const T=(k^L[D])&255,V=y[T];k=k>>>8^V}return k^-1}function f(L,h,g,k){let D=k;const T=h.length;g[D]=T>>24&255,g[D+1]=T>>16&255,g[D+2]=T>>8&255,g[D+3]=T&255,D+=4,g[D]=L.charCodeAt(0)&255,g[D+1]=L.charCodeAt(1)&255,g[D+2]=L.charCodeAt(2)&255,g[D+3]=L.charCodeAt(3)&255,D+=4,g.set(h,D),D+=h.length;const V=r(g,k+4,D);g[D]=V>>24&255,g[D+1]=V>>16&255,g[D+2]=V>>8&255,g[D+3]=V&255}function m(L,h,g){let k=1,D=0;for(let T=h;T<g;++T)k=(k+(L[T]&255))%65521,D=(D+k)%65521;return D<<16|k}function P(L){if(!me.isNodeJS)return d(L);try{let h;parseInt(process.versions.node)>=8?h=L:h=Buffer.from(L);const g=require$$5.deflateSync(h,{level:9});return g instanceof Uint8Array?g:new Uint8Array(g)}catch(h){(0,le.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+h)}return d(L)}function d(L){let h=L.length;const g=65535,k=Math.ceil(h/g),D=new Uint8Array(2+h+k*5+4);let T=0;D[T++]=120,D[T++]=156;let V=0;for(;h>g;)D[T++]=0,D[T++]=255,D[T++]=255,D[T++]=0,D[T++]=0,D.set(L.subarray(V,V+g),T),T+=g,V+=g,h-=g;D[T++]=1,D[T++]=h&255,D[T++]=h>>8&255,D[T++]=~h&65535&255,D[T++]=(~h&65535)>>8&255,D.set(L.subarray(V),T),T+=L.length-V;const q=m(L,0,L.length);return D[T++]=q>>24&255,D[T++]=q>>16&255,D[T++]=q>>8&255,D[T++]=q&255,D}function A(L,h,g,k){const D=L.width,T=L.height;let V,q,v;const x=L.data;switch(h){case le.ImageKind.GRAYSCALE_1BPP:q=0,V=1,v=D+7>>3;break;case le.ImageKind.RGB_24BPP:q=2,V=8,v=D*3;break;case le.ImageKind.RGBA_32BPP:q=6,V=8,v=D*4;break;default:throw new Error("invalid format")}const E=new Uint8Array((1+v)*T);let U=0,$=0;for(let Z=0;Z<T;++Z)E[U++]=0,E.set(x.subarray($,$+v),U),$+=v,U+=v;if(h===le.ImageKind.GRAYSCALE_1BPP&&k){U=0;for(let Z=0;Z<T;Z++){U++;for(let N=0;N<v;N++)E[U++]^=255}}const Q=new Uint8Array([D>>24&255,D>>16&255,D>>8&255,D&255,T>>24&255,T>>16&255,T>>8&255,T&255,V,q,0,0,0]),ie=P(E),j=s.length+o*3+Q.length+ie.length,X=new Uint8Array(j);let R=0;return X.set(s,R),R+=s.length,f("IHDR",Q,X,R),R+=o+Q.length,f("IDATA",ie,X,R),R+=o+ie.length,f("IEND",new Uint8Array(0),X,R),z(X,"image/png",g)}return function(h,g,k){const D=h.kind===void 0?le.ImageKind.GRAYSCALE_1BPP:h.kind;return A(h,D,g,k)}}();class I{constructor(){this.fontSizeScale=1,this.fontWeight=l.fontWeight,this.fontSize=0,this.textMatrix=le.IDENTITY_MATRIX,this.fontMatrix=le.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=le.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=l.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(o,y){this.x=o,this.y=y}}let F=0,B=0,u=0;O.SVGGraphics=fe=class{constructor(s,o,y=!1){(0,te.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new te.DOMSVGFactory,this.current=new I,this.transformMatrix=le.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=s,this.objs=o,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!y,this._operatorIdMapping=[];for(const r in le.OPS)this._operatorIdMapping[le.OPS[r]]=r}getObject(s,o=null){return typeof s=="string"?s.startsWith("g_")?this.commonObjs.get(s):this.objs.get(s):o}save(){this.transformStack.push(this.transformMatrix);const s=this.current;this.extraStack.push(s),this.current=s.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(s){this.save(),this.executeOpTree(s),this.restore()}loadDependencies(s){const o=s.fnArray,y=s.argsArray;for(let r=0,f=o.length;r<f;r++)if(o[r]===le.OPS.dependency)for(const m of y[r]){const P=m.startsWith("g_")?this.commonObjs:this.objs,d=new Promise(A=>{P.get(m,A)});this.current.dependencies.push(d)}return Promise.all(this.current.dependencies)}transform(s,o,y,r,f,m){const P=[s,o,y,r,f,m];this.transformMatrix=le.Util.transform(this.transformMatrix,P),this.tgrp=null}getSVG(s,o){this.viewport=o;const y=this._initialize(o);return this.loadDependencies(s).then(()=>(this.transformMatrix=le.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(s)),y))}convertOpList(s){const o=this._operatorIdMapping,y=s.argsArray,r=s.fnArray,f=[];for(let m=0,P=r.length;m<P;m++){const d=r[m];f.push({fnId:d,fn:o[d],args:y[m]})}return C(f)}executeOpTree(s){for(const o of s){const y=o.fn,r=o.fnId,f=o.args;switch(r|0){case le.OPS.beginText:this.beginText();break;case le.OPS.dependency:break;case le.OPS.setLeading:this.setLeading(f);break;case le.OPS.setLeadingMoveText:this.setLeadingMoveText(f[0],f[1]);break;case le.OPS.setFont:this.setFont(f);break;case le.OPS.showText:this.showText(f[0]);break;case le.OPS.showSpacedText:this.showText(f[0]);break;case le.OPS.endText:this.endText();break;case le.OPS.moveText:this.moveText(f[0],f[1]);break;case le.OPS.setCharSpacing:this.setCharSpacing(f[0]);break;case le.OPS.setWordSpacing:this.setWordSpacing(f[0]);break;case le.OPS.setHScale:this.setHScale(f[0]);break;case le.OPS.setTextMatrix:this.setTextMatrix(f[0],f[1],f[2],f[3],f[4],f[5]);break;case le.OPS.setTextRise:this.setTextRise(f[0]);break;case le.OPS.setTextRenderingMode:this.setTextRenderingMode(f[0]);break;case le.OPS.setLineWidth:this.setLineWidth(f[0]);break;case le.OPS.setLineJoin:this.setLineJoin(f[0]);break;case le.OPS.setLineCap:this.setLineCap(f[0]);break;case le.OPS.setMiterLimit:this.setMiterLimit(f[0]);break;case le.OPS.setFillRGBColor:this.setFillRGBColor(f[0],f[1],f[2]);break;case le.OPS.setStrokeRGBColor:this.setStrokeRGBColor(f[0],f[1],f[2]);break;case le.OPS.setStrokeColorN:this.setStrokeColorN(f);break;case le.OPS.setFillColorN:this.setFillColorN(f);break;case le.OPS.shadingFill:this.shadingFill(f[0]);break;case le.OPS.setDash:this.setDash(f[0],f[1]);break;case le.OPS.setRenderingIntent:this.setRenderingIntent(f[0]);break;case le.OPS.setFlatness:this.setFlatness(f[0]);break;case le.OPS.setGState:this.setGState(f[0]);break;case le.OPS.fill:this.fill();break;case le.OPS.eoFill:this.eoFill();break;case le.OPS.stroke:this.stroke();break;case le.OPS.fillStroke:this.fillStroke();break;case le.OPS.eoFillStroke:this.eoFillStroke();break;case le.OPS.clip:this.clip("nonzero");break;case le.OPS.eoClip:this.clip("evenodd");break;case le.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case le.OPS.paintImageXObject:this.paintImageXObject(f[0]);break;case le.OPS.paintInlineImageXObject:this.paintInlineImageXObject(f[0]);break;case le.OPS.paintImageMaskXObject:this.paintImageMaskXObject(f[0]);break;case le.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(f[0],f[1]);break;case le.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case le.OPS.closePath:this.closePath();break;case le.OPS.closeStroke:this.closeStroke();break;case le.OPS.closeFillStroke:this.closeFillStroke();break;case le.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case le.OPS.nextLine:this.nextLine();break;case le.OPS.transform:this.transform(f[0],f[1],f[2],f[3],f[4],f[5]);break;case le.OPS.constructPath:this.constructPath(f[0],f[1]);break;case le.OPS.endPath:this.endPath();break;case 92:this.group(o.items);break;default:(0,le.warn)(`Unimplemented operator ${y}`);break}}}setWordSpacing(s){this.current.wordSpacing=s}setCharSpacing(s){this.current.charSpacing=s}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(s,o,y,r,f,m){const P=this.current;P.textMatrix=P.lineMatrix=[s,o,y,r,f,m],P.textMatrixScale=Math.hypot(s,o),P.x=P.lineX=0,P.y=P.lineY=0,P.xcoords=[],P.ycoords=[],P.tspan=this.svgFactory.createElement("svg:tspan"),P.tspan.setAttributeNS(null,"font-family",P.fontFamily),P.tspan.setAttributeNS(null,"font-size",`${w(P.fontSize)}px`),P.tspan.setAttributeNS(null,"y",w(-P.y)),P.txtElement=this.svgFactory.createElement("svg:text"),P.txtElement.append(P.tspan)}beginText(){const s=this.current;s.x=s.lineX=0,s.y=s.lineY=0,s.textMatrix=le.IDENTITY_MATRIX,s.lineMatrix=le.IDENTITY_MATRIX,s.textMatrixScale=1,s.tspan=this.svgFactory.createElement("svg:tspan"),s.txtElement=this.svgFactory.createElement("svg:text"),s.txtgrp=this.svgFactory.createElement("svg:g"),s.xcoords=[],s.ycoords=[]}moveText(s,o){const y=this.current;y.x=y.lineX+=s,y.y=y.lineY+=o,y.xcoords=[],y.ycoords=[],y.tspan=this.svgFactory.createElement("svg:tspan"),y.tspan.setAttributeNS(null,"font-family",y.fontFamily),y.tspan.setAttributeNS(null,"font-size",`${w(y.fontSize)}px`),y.tspan.setAttributeNS(null,"y",w(-y.y))}showText(s){const o=this.current,y=o.font,r=o.fontSize;if(r===0)return;const f=o.fontSizeScale,m=o.charSpacing,P=o.wordSpacing,d=o.fontDirection,A=o.textHScale*d,L=y.vertical,h=L?1:-1,g=y.defaultVMetrics,k=r*o.fontMatrix[0];let D=0;for(const q of s){if(q===null){D+=d*P;continue}else if(typeof q=="number"){D+=h*q*r/1e3;continue}const v=(q.isSpace?P:0)+m,x=q.fontChar;let E,U,$=q.width;if(L){let ie;const j=q.vmetric||g;ie=q.vmetric?j[1]:$*.5,ie=-ie*k;const X=j[2]*k;$=j?-j[0]:$,E=ie/f,U=(D+X)/f}else E=D/f,U=0;(q.isInFont||y.missingFile)&&(o.xcoords.push(o.x+E),L&&o.ycoords.push(-o.y+U),o.tspan.textContent+=x);let Q;L?Q=$*k-v*d:Q=$*k+v*d,D+=Q}o.tspan.setAttributeNS(null,"x",o.xcoords.map(w).join(" ")),L?o.tspan.setAttributeNS(null,"y",o.ycoords.map(w).join(" ")):o.tspan.setAttributeNS(null,"y",w(-o.y)),L?o.y-=D:o.x+=D*A,o.tspan.setAttributeNS(null,"font-family",o.fontFamily),o.tspan.setAttributeNS(null,"font-size",`${w(o.fontSize)}px`),o.fontStyle!==l.fontStyle&&o.tspan.setAttributeNS(null,"font-style",o.fontStyle),o.fontWeight!==l.fontWeight&&o.tspan.setAttributeNS(null,"font-weight",o.fontWeight);const T=o.textRenderingMode&le.TextRenderingMode.FILL_STROKE_MASK;if(T===le.TextRenderingMode.FILL||T===le.TextRenderingMode.FILL_STROKE?(o.fillColor!==l.fillColor&&o.tspan.setAttributeNS(null,"fill",o.fillColor),o.fillAlpha<1&&o.tspan.setAttributeNS(null,"fill-opacity",o.fillAlpha)):o.textRenderingMode===le.TextRenderingMode.ADD_TO_PATH?o.tspan.setAttributeNS(null,"fill","transparent"):o.tspan.setAttributeNS(null,"fill","none"),T===le.TextRenderingMode.STROKE||T===le.TextRenderingMode.FILL_STROKE){const q=1/(o.textMatrixScale||1);this._setStrokeAttributes(o.tspan,q)}let V=o.textMatrix;o.textRise!==0&&(V=V.slice(),V[5]+=o.textRise),o.txtElement.setAttributeNS(null,"transform",`${i(V)} scale(${w(A)}, -1)`),o.txtElement.setAttributeNS(K,"xml:space","preserve"),o.txtElement.append(o.tspan),o.txtgrp.append(o.txtElement),this._ensureTransformGroup().append(o.txtElement)}setLeadingMoveText(s,o){this.setLeading(-o),this.moveText(s,o)}addFontStyle(s){if(!s.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const o=z(s.data,s.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${s.loadedName}"; src: url(${o}); }
`}setFont(s){const o=this.current,y=this.commonObjs.get(s[0]);let r=s[1];o.font=y,this.embedFonts&&!y.missingFile&&!this.embeddedFonts[y.loadedName]&&(this.addFontStyle(y),this.embeddedFonts[y.loadedName]=y),o.fontMatrix=y.fontMatrix||le.FONT_IDENTITY_MATRIX;let f="normal";y.black?f="900":y.bold&&(f="bold");const m=y.italic?"italic":"normal";r<0?(r=-r,o.fontDirection=-1):o.fontDirection=1,o.fontSize=r,o.fontFamily=y.loadedName,o.fontWeight=f,o.fontStyle=m,o.tspan=this.svgFactory.createElement("svg:tspan"),o.tspan.setAttributeNS(null,"y",w(-o.y)),o.xcoords=[],o.ycoords=[]}endText(){var o;const s=this.current;s.textRenderingMode&le.TextRenderingMode.ADD_TO_PATH_FLAG&&((o=s.txtElement)!=null&&o.hasChildNodes())&&(s.element=s.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(s){s>0&&(this.current.lineWidth=s)}setLineCap(s){this.current.lineCap=t[s]}setLineJoin(s){this.current.lineJoin=H[s]}setMiterLimit(s){this.current.miterLimit=s}setStrokeAlpha(s){this.current.strokeAlpha=s}setStrokeRGBColor(s,o,y){this.current.strokeColor=le.Util.makeHexColor(s,o,y)}setFillAlpha(s){this.current.fillAlpha=s}setFillRGBColor(s,o,y){this.current.fillColor=le.Util.makeHexColor(s,o,y),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(s){this.current.strokeColor=this._makeColorN_Pattern(s)}setFillColorN(s){this.current.fillColor=this._makeColorN_Pattern(s)}shadingFill(s){const o=this.viewport.width,y=this.viewport.height,r=le.Util.inverseTransform(this.transformMatrix),f=le.Util.applyTransform([0,0],r),m=le.Util.applyTransform([0,y],r),P=le.Util.applyTransform([o,0],r),d=le.Util.applyTransform([o,y],r),A=Math.min(f[0],m[0],P[0],d[0]),L=Math.min(f[1],m[1],P[1],d[1]),h=Math.max(f[0],m[0],P[0],d[0]),g=Math.max(f[1],m[1],P[1],d[1]),k=this.svgFactory.createElement("svg:rect");k.setAttributeNS(null,"x",A),k.setAttributeNS(null,"y",L),k.setAttributeNS(null,"width",h-A),k.setAttributeNS(null,"height",g-L),k.setAttributeNS(null,"fill",this._makeShadingPattern(s)),this.current.fillAlpha<1&&k.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(k)}_makeColorN_Pattern(s){return s[0]==="TilingPattern"?this._makeTilingPattern(s):this._makeShadingPattern(s)}_makeTilingPattern(s){const o=s[1],y=s[2],r=s[3]||le.IDENTITY_MATRIX,[f,m,P,d]=s[4],A=s[5],L=s[6],h=s[7],g=`shading${u++}`,[k,D,T,V]=le.Util.normalizeRect([...le.Util.applyTransform([f,m],r),...le.Util.applyTransform([P,d],r)]),[q,v]=le.Util.singularValueDecompose2dScale(r),x=A*q,E=L*v,U=this.svgFactory.createElement("svg:pattern");U.setAttributeNS(null,"id",g),U.setAttributeNS(null,"patternUnits","userSpaceOnUse"),U.setAttributeNS(null,"width",x),U.setAttributeNS(null,"height",E),U.setAttributeNS(null,"x",`${k}`),U.setAttributeNS(null,"y",`${D}`);const $=this.svg,Q=this.transformMatrix,ie=this.current.fillColor,j=this.current.strokeColor,X=this.svgFactory.create(T-k,V-D);if(this.svg=X,this.transformMatrix=r,h===2){const R=le.Util.makeHexColor(...o);this.current.fillColor=R,this.current.strokeColor=R}return this.executeOpTree(this.convertOpList(y)),this.svg=$,this.transformMatrix=Q,this.current.fillColor=ie,this.current.strokeColor=j,U.append(X.childNodes[0]),this.defs.append(U),`url(#${g})`}_makeShadingPattern(s){switch(typeof s=="string"&&(s=this.objs.get(s)),s[0]){case"RadialAxial":const o=`shading${u++}`,y=s[3];let r;switch(s[1]){case"axial":const f=s[4],m=s[5];r=this.svgFactory.createElement("svg:linearGradient"),r.setAttributeNS(null,"id",o),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"x1",f[0]),r.setAttributeNS(null,"y1",f[1]),r.setAttributeNS(null,"x2",m[0]),r.setAttributeNS(null,"y2",m[1]);break;case"radial":const P=s[4],d=s[5],A=s[6],L=s[7];r=this.svgFactory.createElement("svg:radialGradient"),r.setAttributeNS(null,"id",o),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"cx",d[0]),r.setAttributeNS(null,"cy",d[1]),r.setAttributeNS(null,"r",L),r.setAttributeNS(null,"fx",P[0]),r.setAttributeNS(null,"fy",P[1]),r.setAttributeNS(null,"fr",A);break;default:throw new Error(`Unknown RadialAxial type: ${s[1]}`)}for(const f of y){const m=this.svgFactory.createElement("svg:stop");m.setAttributeNS(null,"offset",f[0]),m.setAttributeNS(null,"stop-color",f[1]),r.append(m)}return this.defs.append(r),`url(#${o})`;case"Mesh":return(0,le.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${s[0]}`)}}setDash(s,o){this.current.dashArray=s,this.current.dashPhase=o}constructPath(s,o){const y=this.current;let r=y.x,f=y.y,m=[],P=0;for(const d of s)switch(d|0){case le.OPS.rectangle:r=o[P++],f=o[P++];const A=o[P++],L=o[P++],h=r+A,g=f+L;m.push("M",w(r),w(f),"L",w(h),w(f),"L",w(h),w(g),"L",w(r),w(g),"Z");break;case le.OPS.moveTo:r=o[P++],f=o[P++],m.push("M",w(r),w(f));break;case le.OPS.lineTo:r=o[P++],f=o[P++],m.push("L",w(r),w(f));break;case le.OPS.curveTo:r=o[P+4],f=o[P+5],m.push("C",w(o[P]),w(o[P+1]),w(o[P+2]),w(o[P+3]),w(r),w(f)),P+=6;break;case le.OPS.curveTo2:m.push("C",w(r),w(f),w(o[P]),w(o[P+1]),w(o[P+2]),w(o[P+3])),r=o[P+2],f=o[P+3],P+=4;break;case le.OPS.curveTo3:r=o[P+2],f=o[P+3],m.push("C",w(o[P]),w(o[P+1]),w(r),w(f),w(r),w(f)),P+=4;break;case le.OPS.closePath:m.push("Z");break}m=m.join(" "),y.path&&s.length>0&&s[0]!==le.OPS.rectangle&&s[0]!==le.OPS.moveTo?m=y.path.getAttributeNS(null,"d")+m:(y.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(y.path)),y.path.setAttributeNS(null,"d",m),y.path.setAttributeNS(null,"fill","none"),y.element=y.path,y.setCurrentPoint(r,f)}endPath(){const s=this.current;if(s.path=null,!this.pendingClip)return;if(!s.element){this.pendingClip=null;return}const o=`clippath${F++}`,y=this.svgFactory.createElement("svg:clipPath");y.setAttributeNS(null,"id",o),y.setAttributeNS(null,"transform",i(this.transformMatrix));const r=s.element.cloneNode(!0);if(this.pendingClip==="evenodd"?r.setAttributeNS(null,"clip-rule","evenodd"):r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,y.append(r),this.defs.append(y),s.activeClipUrl){s.clipGroup=null;for(const f of this.extraStack)f.clipGroup=null;y.setAttributeNS(null,"clip-path",s.activeClipUrl)}s.activeClipUrl=`url(#${o})`,this.tgrp=null}clip(s){this.pendingClip=s}closePath(){const s=this.current;if(s.path){const o=`${s.path.getAttributeNS(null,"d")}Z`;s.path.setAttributeNS(null,"d",o)}}setLeading(s){this.current.leading=-s}setTextRise(s){this.current.textRise=s}setTextRenderingMode(s){this.current.textRenderingMode=s}setHScale(s){this.current.textHScale=s/100}setRenderingIntent(s){}setFlatness(s){}setGState(s){for(const[o,y]of s)switch(o){case"LW":this.setLineWidth(y);break;case"LC":this.setLineCap(y);break;case"LJ":this.setLineJoin(y);break;case"ML":this.setMiterLimit(y);break;case"D":this.setDash(y[0],y[1]);break;case"RI":this.setRenderingIntent(y);break;case"FL":this.setFlatness(y);break;case"Font":this.setFont(y);break;case"CA":this.setStrokeAlpha(y);break;case"ca":this.setFillAlpha(y);break;default:(0,le.warn)(`Unimplemented graphic state operator ${o}`);break}}fill(){const s=this.current;s.element&&(s.element.setAttributeNS(null,"fill",s.fillColor),s.element.setAttributeNS(null,"fill-opacity",s.fillAlpha),this.endPath())}stroke(){const s=this.current;s.element&&(this._setStrokeAttributes(s.element),s.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(s,o=1){const y=this.current;let r=y.dashArray;o!==1&&r.length>0&&(r=r.map(function(f){return o*f})),s.setAttributeNS(null,"stroke",y.strokeColor),s.setAttributeNS(null,"stroke-opacity",y.strokeAlpha),s.setAttributeNS(null,"stroke-miterlimit",w(y.miterLimit)),s.setAttributeNS(null,"stroke-linecap",y.lineCap),s.setAttributeNS(null,"stroke-linejoin",y.lineJoin),s.setAttributeNS(null,"stroke-width",w(o*y.lineWidth)+"px"),s.setAttributeNS(null,"stroke-dasharray",r.map(w).join(" ")),s.setAttributeNS(null,"stroke-dashoffset",w(o*y.dashPhase)+"px")}eoFill(){var s;(s=this.current.element)==null||s.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var s;(s=this.current.element)==null||s.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width","1px"),s.setAttributeNS(null,"height","1px"),s.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(s)}paintImageXObject(s){const o=this.getObject(s);if(!o){(0,le.warn)(`Dependent image with object ID ${s} is not ready yet`);return}this.paintInlineImageXObject(o)}paintInlineImageXObject(s,o){const y=s.width,r=s.height,f=G(s,this.forceDataSchema,!!o),m=this.svgFactory.createElement("svg:rect");m.setAttributeNS(null,"x","0"),m.setAttributeNS(null,"y","0"),m.setAttributeNS(null,"width",w(y)),m.setAttributeNS(null,"height",w(r)),this.current.element=m,this.clip("nonzero");const P=this.svgFactory.createElement("svg:image");P.setAttributeNS(e,"xlink:href",f),P.setAttributeNS(null,"x","0"),P.setAttributeNS(null,"y",w(-r)),P.setAttributeNS(null,"width",w(y)+"px"),P.setAttributeNS(null,"height",w(r)+"px"),P.setAttributeNS(null,"transform",`scale(${w(1/y)} ${w(-1/r)})`),o?o.append(P):this._ensureTransformGroup().append(P)}paintImageMaskXObject(s){const o=this.getObject(s.data,s);if(o.bitmap){(0,le.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const y=this.current,r=o.width,f=o.height,m=y.fillColor;y.maskId=`mask${B++}`;const P=this.svgFactory.createElement("svg:mask");P.setAttributeNS(null,"id",y.maskId);const d=this.svgFactory.createElement("svg:rect");d.setAttributeNS(null,"x","0"),d.setAttributeNS(null,"y","0"),d.setAttributeNS(null,"width",w(r)),d.setAttributeNS(null,"height",w(f)),d.setAttributeNS(null,"fill",m),d.setAttributeNS(null,"mask",`url(#${y.maskId})`),this.defs.append(P),this._ensureTransformGroup().append(d),this.paintInlineImageXObject(o,P)}paintFormXObjectBegin(s,o){if(Array.isArray(s)&&s.length===6&&this.transform(s[0],s[1],s[2],s[3],s[4],s[5]),o){const y=o[2]-o[0],r=o[3]-o[1],f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x",o[0]),f.setAttributeNS(null,"y",o[1]),f.setAttributeNS(null,"width",w(y)),f.setAttributeNS(null,"height",w(r)),this.current.element=f,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(s){const o=this.svgFactory.create(s.width,s.height),y=this.svgFactory.createElement("svg:defs");o.append(y),this.defs=y;const r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",i(s.transform)),o.append(r),this.svg=r,o}_ensureClipGroup(){if(!this.current.clipGroup){const s=this.svgFactory.createElement("svg:g");s.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(s),this.current.clipGroup=s}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",i(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(b){var O=__webpack_module_cache__[b];if(O!==void 0)return O.exports;var ce=__webpack_module_cache__[b]={exports:{}};return __webpack_modules__[b](ce,ce.exports,__w_pdfjs_require__),ce.exports}var __webpack_exports__={};return(()=>{var b=__webpack_exports__;Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"AbortException",{enumerable:!0,get:function(){return O.AbortException}}),Object.defineProperty(b,"AnnotationEditorLayer",{enumerable:!0,get:function(){return me.AnnotationEditorLayer}}),Object.defineProperty(b,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return O.AnnotationEditorParamsType}}),Object.defineProperty(b,"AnnotationEditorType",{enumerable:!0,get:function(){return O.AnnotationEditorType}}),Object.defineProperty(b,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return fe.AnnotationEditorUIManager}}),Object.defineProperty(b,"AnnotationLayer",{enumerable:!0,get:function(){return S.AnnotationLayer}}),Object.defineProperty(b,"AnnotationMode",{enumerable:!0,get:function(){return O.AnnotationMode}}),Object.defineProperty(b,"CMapCompressionType",{enumerable:!0,get:function(){return O.CMapCompressionType}}),Object.defineProperty(b,"FeatureTest",{enumerable:!0,get:function(){return O.FeatureTest}}),Object.defineProperty(b,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ee.GlobalWorkerOptions}}),Object.defineProperty(b,"InvalidPDFException",{enumerable:!0,get:function(){return O.InvalidPDFException}}),Object.defineProperty(b,"MissingPDFException",{enumerable:!0,get:function(){return O.MissingPDFException}}),Object.defineProperty(b,"OPS",{enumerable:!0,get:function(){return O.OPS}}),Object.defineProperty(b,"PDFDataRangeTransport",{enumerable:!0,get:function(){return ce.PDFDataRangeTransport}}),Object.defineProperty(b,"PDFDateString",{enumerable:!0,get:function(){return te.PDFDateString}}),Object.defineProperty(b,"PDFWorker",{enumerable:!0,get:function(){return ce.PDFWorker}}),Object.defineProperty(b,"PasswordResponses",{enumerable:!0,get:function(){return O.PasswordResponses}}),Object.defineProperty(b,"PermissionFlag",{enumerable:!0,get:function(){return O.PermissionFlag}}),Object.defineProperty(b,"PixelsPerInch",{enumerable:!0,get:function(){return te.PixelsPerInch}}),Object.defineProperty(b,"PromiseCapability",{enumerable:!0,get:function(){return O.PromiseCapability}}),Object.defineProperty(b,"RenderingCancelledException",{enumerable:!0,get:function(){return te.RenderingCancelledException}}),Object.defineProperty(b,"SVGGraphics",{enumerable:!0,get:function(){return n.SVGGraphics}}),Object.defineProperty(b,"UnexpectedResponseException",{enumerable:!0,get:function(){return O.UnexpectedResponseException}}),Object.defineProperty(b,"Util",{enumerable:!0,get:function(){return O.Util}}),Object.defineProperty(b,"VerbosityLevel",{enumerable:!0,get:function(){return O.VerbosityLevel}}),Object.defineProperty(b,"XfaLayer",{enumerable:!0,get:function(){return l.XfaLayer}}),Object.defineProperty(b,"build",{enumerable:!0,get:function(){return ce.build}}),Object.defineProperty(b,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return O.createValidAbsoluteUrl}}),Object.defineProperty(b,"getDocument",{enumerable:!0,get:function(){return ce.getDocument}}),Object.defineProperty(b,"getFilenameFromUrl",{enumerable:!0,get:function(){return te.getFilenameFromUrl}}),Object.defineProperty(b,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return te.getPdfFilenameFromUrl}}),Object.defineProperty(b,"getXfaPageViewport",{enumerable:!0,get:function(){return te.getXfaPageViewport}}),Object.defineProperty(b,"isDataScheme",{enumerable:!0,get:function(){return te.isDataScheme}}),Object.defineProperty(b,"isPdfFile",{enumerable:!0,get:function(){return te.isPdfFile}}),Object.defineProperty(b,"loadScript",{enumerable:!0,get:function(){return te.loadScript}}),Object.defineProperty(b,"normalizeUnicode",{enumerable:!0,get:function(){return O.normalizeUnicode}}),Object.defineProperty(b,"renderTextLayer",{enumerable:!0,get:function(){return le.renderTextLayer}}),Object.defineProperty(b,"setLayerDimensions",{enumerable:!0,get:function(){return te.setLayerDimensions}}),Object.defineProperty(b,"shadow",{enumerable:!0,get:function(){return O.shadow}}),Object.defineProperty(b,"updateTextLayer",{enumerable:!0,get:function(){return le.updateTextLayer}}),Object.defineProperty(b,"version",{enumerable:!0,get:function(){return ce.version}});var O=__w_pdfjs_require__(1),ce=__w_pdfjs_require__(2),te=__w_pdfjs_require__(6),le=__w_pdfjs_require__(26),me=__w_pdfjs_require__(27),fe=__w_pdfjs_require__(5),S=__w_pdfjs_require__(30),ee=__w_pdfjs_require__(14),n=__w_pdfjs_require__(33),l=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports,pdf_worker={exports:{}};(function(b,O){(function(te,le){b.exports=le()})(globalThis,()=>(()=>{var ce=[,(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.WorkerTask=S.WorkerMessageHandler=void 0;var n=ee(2),l=ee(3),K=ee(4),e=ee(6),t=ee(72),H=ee(66),z=ee(103),G=ee(104),I=ee(105);class C{constructor(B){this.name=B,this.terminated=!1,this._capability=new n.PromiseCapability}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}S.WorkerTask=C;class w{static setup(B,u){let s=!1;B.on("test",function(o){s||(s=!0,B.send("test",o instanceof Uint8Array))}),B.on("configure",function(o){(0,n.setVerbosityLevel)(o.verbosity)}),B.on("GetDocRequest",function(o){return w.createDocumentHandler(o,u)})}static createDocumentHandler(B,u){let s,o=!1,y=null;const r=new Set,f=(0,n.getVerbosityLevel)(),{docId:m,apiVersion:P}=B,d="3.7.107";if(P!==d)throw new Error(`The API version "${P}" does not match the Worker version "${d}".`);const A=[];for(const v in[])A.push(v);if(A.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+A.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");const L=m+"_worker";let h=new G.MessageHandler(L,m,u);function g(){if(o)throw new Error("Worker was terminated")}function k(v){r.add(v)}function D(v){v.finish(),r.delete(v)}async function T(v){await s.ensureDoc("checkHeader"),await s.ensureDoc("parseStartXRef"),await s.ensureDoc("parse",[v]),await s.ensureDoc("checkFirstPage",[v]),await s.ensureDoc("checkLastPage",[v]);const x=await s.ensureDoc("isPureXfa");if(x){const Q=new C("loadXfaFonts");k(Q),await Promise.all([s.loadXfaFonts(h,Q).catch(ie=>{}).then(()=>D(Q)),s.loadXfaImages()])}const[E,U]=await Promise.all([s.ensureDoc("numPages"),s.ensureDoc("fingerprints")]),$=x?await s.ensureDoc("htmlForXfa"):null;return{numPages:E,fingerprints:U,htmlForXfa:$}}function V({data:v,password:x,disableAutoFetch:E,rangeChunkSize:U,length:$,docBaseUrl:Q,enableXfa:ie,evaluatorOptions:j}){const X={source:null,disableAutoFetch:E,docBaseUrl:Q,docId:m,enableXfa:ie,evaluatorOptions:j,handler:h,length:$,password:x,rangeChunkSize:U},R=new n.PromiseCapability;let Z;if(v){try{X.source=v,Z=new e.LocalPdfManager(X),R.resolve(Z)}catch(Y){R.reject(Y)}return R.promise}let N,M=[];try{N=new I.PDFWorkerStream(h)}catch(Y){return R.reject(Y),R.promise}const c=N.getFullReader();c.headersReady.then(function(){if(c.isRangeSupported){X.source=N,X.length=c.contentLength,X.disableAutoFetch||(X.disableAutoFetch=c.isStreamingSupported),Z=new e.NetworkPdfManager(X);for(const Y of M)Z.sendProgressiveData(Y);M=[],R.resolve(Z),y=null}}).catch(function(Y){R.reject(Y),y=null});let _=0;const W=function(){const Y=(0,l.arrayBuffersToBytes)(M);$&&Y.length!==$&&(0,n.warn)("reported HTTP length is different from actual");try{X.source=Y,Z=new e.LocalPdfManager(X),R.resolve(Z)}catch(J){R.reject(J)}M=[]};return new Promise(function(Y,J){const ae=function({value:oe,done:he}){try{if(g(),he){Z||W(),y=null;return}_+=oe.byteLength,c.isStreamingSupported||h.send("DocProgress",{loaded:_,total:Math.max(_,c.contentLength||0)}),Z?Z.sendProgressiveData(oe):M.push(oe),c.read().then(ae,J)}catch(ne){J(ne)}};c.read().then(ae,J)}).catch(function(Y){R.reject(Y),y=null}),y=function(Y){N.cancelAllRequests(Y)},R.promise}function q(v){function x($){g(),h.send("GetDoc",{pdfInfo:$})}function E($){if(g(),$ instanceof n.PasswordException){const Q=new C(`PasswordException: response ${$.code}`);k(Q),h.sendWithPromise("PasswordRequest",$).then(function({password:ie}){D(Q),s.updatePassword(ie),U()}).catch(function(){D(Q),h.send("DocException",$)})}else $ instanceof n.InvalidPDFException||$ instanceof n.MissingPDFException||$ instanceof n.UnexpectedResponseException||$ instanceof n.UnknownErrorException?h.send("DocException",$):h.send("DocException",new n.UnknownErrorException($.message,$.toString()))}function U(){g(),T(!1).then(x,function($){if(g(),!($ instanceof l.XRefParseException)){E($);return}s.requestLoadedStream().then(function(){g(),T(!0).then(x,E)})})}g(),V(v).then(function($){if(o)throw $.terminate(new n.AbortException("Worker was terminated.")),new Error("Worker was terminated");s=$,s.requestLoadedStream(!0).then(Q=>{h.send("DataLoaded",{length:Q.bytes.byteLength})})}).then(U,E)}return h.on("GetPage",function(v){return s.getPage(v.pageIndex).then(function(x){return Promise.all([s.ensure(x,"rotate"),s.ensure(x,"ref"),s.ensure(x,"userUnit"),s.ensure(x,"view")]).then(function([E,U,$,Q]){return{rotate:E,ref:U,userUnit:$,view:Q}})})}),h.on("GetPageIndex",function(v){const x=K.Ref.get(v.num,v.gen);return s.ensureCatalog("getPageIndex",[x])}),h.on("GetDestinations",function(v){return s.ensureCatalog("destinations")}),h.on("GetDestination",function(v){return s.ensureCatalog("getDestination",[v.id])}),h.on("GetPageLabels",function(v){return s.ensureCatalog("pageLabels")}),h.on("GetPageLayout",function(v){return s.ensureCatalog("pageLayout")}),h.on("GetPageMode",function(v){return s.ensureCatalog("pageMode")}),h.on("GetViewerPreferences",function(v){return s.ensureCatalog("viewerPreferences")}),h.on("GetOpenAction",function(v){return s.ensureCatalog("openAction")}),h.on("GetAttachments",function(v){return s.ensureCatalog("attachments")}),h.on("GetJavaScript",function(v){return s.ensureCatalog("javaScript")}),h.on("GetDocJSActions",function(v){return s.ensureCatalog("jsActions")}),h.on("GetPageJSActions",function({pageIndex:v}){return s.getPage(v).then(function(x){return s.ensure(x,"jsActions")})}),h.on("GetOutline",function(v){return s.ensureCatalog("documentOutline")}),h.on("GetOptionalContentConfig",function(v){return s.ensureCatalog("optionalContentConfig")}),h.on("GetPermissions",function(v){return s.ensureCatalog("permissions")}),h.on("GetMetadata",function(v){return Promise.all([s.ensureDoc("documentInfo"),s.ensureCatalog("metadata")])}),h.on("GetMarkInfo",function(v){return s.ensureCatalog("markInfo")}),h.on("GetData",function(v){return s.requestLoadedStream().then(function(x){return x.bytes})}),h.on("GetAnnotations",function({pageIndex:v,intent:x}){return s.getPage(v).then(function(E){const U=new C(`GetAnnotations: page ${v}`);return k(U),E.getAnnotationsData(h,U,x).then($=>(D(U),$),$=>{throw D(U),$})})}),h.on("GetFieldObjects",function(v){return s.ensureDoc("fieldObjects")}),h.on("HasJSActions",function(v){return s.ensureDoc("hasJSActions")}),h.on("GetCalculationOrderIds",function(v){return s.ensureDoc("calculationOrderIds")}),h.on("SaveDocument",function({isPureXfa:v,numPages:x,annotationStorage:E,filename:U}){const $=[s.requestLoadedStream(),s.ensureCatalog("acroForm"),s.ensureCatalog("acroFormRef"),s.ensureDoc("xref"),s.ensureDoc("startXRef")],Q=v?null:(0,l.getNewAnnotationsMap)(E);if(Q)for(const[ie,j]of Q)$.push(s.getPage(ie).then(X=>{const R=new C(`Save (editor): page ${ie}`);return X.saveNewAnnotations(h,R,j).finally(function(){D(R)})}));if(v)$.push(s.serializeXfaData(E));else for(let ie=0;ie<x;ie++)$.push(s.getPage(ie).then(function(j){const X=new C(`Save: page ${ie}`);return j.save(h,X,E).finally(function(){D(X)})}));return Promise.all($).then(function([ie,j,X,R,Z,...N]){let M=[],c=null;if(v){if(c=N[0],!c)return ie.bytes}else if(M=N.flat(2),M.length===0)return ie.bytes;const _=X&&j instanceof K.Dict&&M.some(oe=>oe.needAppearances),W=j instanceof K.Dict&&j.get("XFA")||null;let Y=null,J=!1;if(Array.isArray(W)){for(let oe=0,he=W.length;oe<he;oe+=2)W[oe]==="datasets"&&(Y=W[oe+1],J=!0);Y===null&&(Y=R.getNewTemporaryRef())}else W&&(0,n.warn)("Unsupported XFA type.");let ae=Object.create(null);if(R.trailer){const oe=Object.create(null),he=R.trailer.get("Info")||null;he instanceof K.Dict&&he.forEach((ne,re)=>{typeof re=="string"&&(oe[ne]=(0,n.stringToPDFString)(re))}),ae={rootRef:R.trailer.getRaw("Root")||null,encryptRef:R.trailer.getRaw("Encrypt")||null,newRef:R.getNewTemporaryRef(),infoRef:R.trailer.getRaw("Info")||null,info:oe,fileIds:R.trailer.get("ID")||null,startXRef:R.lastXRefStreamPos??Z,filename:U}}try{return(0,H.incrementalUpdate)({originalData:ie.bytes,xrefInfo:ae,newRefs:M,xref:R,hasXfa:!!W,xfaDatasetsRef:Y,hasXfaDatasetsEntry:J,needAppearances:_,acroFormRef:X,acroForm:j,xfaData:c})}finally{R.resetNewTemporaryRef()}})}),h.on("GetOperatorList",function(v,x){const E=v.pageIndex;s.getPage(E).then(function(U){const $=new C(`GetOperatorList: page ${E}`);k($);const Q=f>=n.VerbosityLevel.INFOS?Date.now():0;U.getOperatorList({handler:h,sink:x,task:$,intent:v.intent,cacheKey:v.cacheKey,annotationStorage:v.annotationStorage}).then(function(ie){D($),Q&&(0,n.info)(`page=${E+1} - getOperatorList: time=${Date.now()-Q}ms, len=${ie.length}`),x.close()},function(ie){D($),!$.terminated&&x.error(ie)})})}),h.on("GetTextContent",function(v,x){const{pageIndex:E,includeMarkedContent:U,disableNormalization:$}=v;s.getPage(E).then(function(Q){const ie=new C("GetTextContent: page "+E);k(ie);const j=f>=n.VerbosityLevel.INFOS?Date.now():0;Q.extractTextContent({handler:h,task:ie,sink:x,includeMarkedContent:U,disableNormalization:$}).then(function(){D(ie),j&&(0,n.info)(`page=${E+1} - getTextContent: time=${Date.now()-j}ms`),x.close()},function(X){D(ie),!ie.terminated&&x.error(X)})})}),h.on("GetStructTree",function(v){return s.getPage(v.pageIndex).then(function(x){return s.ensure(x,"getStructTree")})}),h.on("FontFallback",function(v){return s.fontFallback(v.id,h)}),h.on("Cleanup",function(v){return s.cleanup(!0)}),h.on("Terminate",function(v){o=!0;const x=[];if(s){s.terminate(new n.AbortException("Worker was terminated."));const E=s.cleanup();x.push(E),s=null}else(0,t.clearGlobalCaches)();y&&y(new n.AbortException("Worker was terminated."));for(const E of r)x.push(E.finished),E.terminate();return Promise.all(x).then(function(){h.destroy(),h=null})}),h.on("Ready",function(v){q(B),B=null}),L}static initializeFromPort(B){const u=new G.MessageHandler("worker","main",B);w.setup(u,B),u.send("ready",null)}}S.WorkerMessageHandler=w;function i(F){return typeof F.postMessage=="function"&&"onmessage"in F}typeof window>"u"&&!z.isNodeJS&&typeof self<"u"&&i(self)&&w.initializeFromPort(self)},(fe,S)=>{var Re;Object.defineProperty(S,"__esModule",{value:!0}),S.VerbosityLevel=S.Util=S.UnknownErrorException=S.UnexpectedResponseException=S.TextRenderingMode=S.RenderingIntentFlag=S.PromiseCapability=S.PermissionFlag=S.PasswordResponses=S.PasswordException=S.PageActionEventType=S.OPS=S.MissingPDFException=S.MAX_IMAGE_SIZE_TO_CACHE=S.LINE_FACTOR=S.LINE_DESCENT_FACTOR=S.InvalidPDFException=S.ImageKind=S.IDENTITY_MATRIX=S.FormatError=S.FeatureTest=S.FONT_IDENTITY_MATRIX=S.DocumentActionEventType=S.CMapCompressionType=S.BaseException=S.BASELINE_FACTOR=S.AnnotationType=S.AnnotationStateModelType=S.AnnotationReviewState=S.AnnotationReplyType=S.AnnotationMode=S.AnnotationMarkedState=S.AnnotationFlag=S.AnnotationFieldFlag=S.AnnotationEditorType=S.AnnotationEditorPrefix=S.AnnotationEditorParamsType=S.AnnotationBorderStyleType=S.AnnotationActionEventType=S.AbortException=void 0,S.assert=E,S.bytesToString=_,S.createValidAbsoluteUrl=$,S.getModificationDate=Ae,S.getVerbosityLevel=V,S.info=q,S.isArrayBuffer=Ie,S.isArrayEqual=Fe,S.normalizeUnicode=_e,S.objectFromMap=ae,S.objectSize=J,S.setVerbosityLevel=T,S.shadow=Q,S.string32=Y,S.stringToBytes=W,S.stringToPDFString=ge,S.stringToUTF8String=pe,S.unreachable=x,S.utf8StringToString=xe,S.warn=v;const ee=[1,0,0,1,0,0];S.IDENTITY_MATRIX=ee;const n=[.001,0,0,.001,0,0];S.FONT_IDENTITY_MATRIX=n;const l=1e7;S.MAX_IMAGE_SIZE_TO_CACHE=l;const K=1.35;S.LINE_FACTOR=K;const e=.35;S.LINE_DESCENT_FACTOR=e;const t=e/K;S.BASELINE_FACTOR=t;const H={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};S.RenderingIntentFlag=H;const z={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};S.AnnotationMode=z;const G="pdfjs_internal_editor_";S.AnnotationEditorPrefix=G;const I={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};S.AnnotationEditorType=I;const C={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};S.AnnotationEditorParamsType=C;const w={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};S.PermissionFlag=w;const i={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};S.TextRenderingMode=i;const F={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};S.ImageKind=F;const B={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};S.AnnotationType=B;const u={MARKED:"Marked",REVIEW:"Review"};S.AnnotationStateModelType=u;const s={MARKED:"Marked",UNMARKED:"Unmarked"};S.AnnotationMarkedState=s;const o={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};S.AnnotationReviewState=o;const y={GROUP:"Group",REPLY:"R"};S.AnnotationReplyType=y;const r={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};S.AnnotationFlag=r;const f={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};S.AnnotationFieldFlag=f;const m={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};S.AnnotationBorderStyleType=m;const P={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};S.AnnotationActionEventType=P;const d={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};S.DocumentActionEventType=d;const A={O:"PageOpen",C:"PageClose"};S.PageActionEventType=A;const L={ERRORS:0,WARNINGS:1,INFOS:5};S.VerbosityLevel=L;const h={NONE:0,BINARY:1};S.CMapCompressionType=h;const g={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};S.OPS=g;const k={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};S.PasswordResponses=k;let D=L.WARNINGS;function T(Pe){Number.isInteger(Pe)&&(D=Pe)}function V(){return D}function q(Pe){D>=L.INFOS&&console.log(`Info: ${Pe}`)}function v(Pe){D>=L.WARNINGS&&console.log(`Warning: ${Pe}`)}function x(Pe){throw new Error(Pe)}function E(Pe,ve){Pe||x(ve)}function U(Pe){switch(Pe==null?void 0:Pe.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function $(Pe,ve=null,Te=null){if(!Pe)return null;try{if(Te&&typeof Pe=="string"){if(Te.addDefaultProtocol&&Pe.startsWith("www.")){const Ce=Pe.match(/\./g);(Ce==null?void 0:Ce.length)>=2&&(Pe=`http://${Pe}`)}if(Te.tryConvertEncoding)try{Pe=pe(Pe)}catch{}}const je=ve?new URL(Pe,ve):new URL(Pe);if(U(je))return je}catch{}return null}function Q(Pe,ve,Te,je=!1){return Object.defineProperty(Pe,ve,{value:Te,enumerable:!je,configurable:!0,writable:!1}),Te}const ie=function(){function ve(Te,je){this.constructor===ve&&x("Cannot initialize BaseException."),this.message=Te,this.name=je}return ve.prototype=new Error,ve.constructor=ve,ve}();S.BaseException=ie;class j extends ie{constructor(ve,Te){super(ve,"PasswordException"),this.code=Te}}S.PasswordException=j;class X extends ie{constructor(ve,Te){super(ve,"UnknownErrorException"),this.details=Te}}S.UnknownErrorException=X;class R extends ie{constructor(ve){super(ve,"InvalidPDFException")}}S.InvalidPDFException=R;class Z extends ie{constructor(ve){super(ve,"MissingPDFException")}}S.MissingPDFException=Z;class N extends ie{constructor(ve,Te){super(ve,"UnexpectedResponseException"),this.status=Te}}S.UnexpectedResponseException=N;class M extends ie{constructor(ve){super(ve,"FormatError")}}S.FormatError=M;class c extends ie{constructor(ve){super(ve,"AbortException")}}S.AbortException=c;function _(Pe){(typeof Pe!="object"||(Pe==null?void 0:Pe.length)===void 0)&&x("Invalid argument for bytesToString");const ve=Pe.length,Te=8192;if(ve<Te)return String.fromCharCode.apply(null,Pe);const je=[];for(let Ce=0;Ce<ve;Ce+=Te){const ke=Math.min(Ce+Te,ve),Le=Pe.subarray(Ce,ke);je.push(String.fromCharCode.apply(null,Le))}return je.join("")}function W(Pe){typeof Pe!="string"&&x("Invalid argument for stringToBytes");const ve=Pe.length,Te=new Uint8Array(ve);for(let je=0;je<ve;++je)Te[je]=Pe.charCodeAt(je)&255;return Te}function Y(Pe){return String.fromCharCode(Pe>>24&255,Pe>>16&255,Pe>>8&255,Pe&255)}function J(Pe){return Object.keys(Pe).length}function ae(Pe){const ve=Object.create(null);for(const[Te,je]of Pe)ve[Te]=je;return ve}function oe(){const Pe=new Uint8Array(4);return Pe[0]=1,new Uint32Array(Pe.buffer,0,1)[0]===1}function he(){try{return new Function(""),!0}catch{return!1}}class ne{static get isLittleEndian(){return Q(this,"isLittleEndian",oe())}static get isEvalSupported(){return Q(this,"isEvalSupported",he())}static get isOffscreenCanvasSupported(){return Q(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Q(this,"platform",{isWin:!1,isMac:!1}):Q(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}S.FeatureTest=ne;const re=[...Array(256).keys()].map(Pe=>Pe.toString(16).padStart(2,"0"));class de{static makeHexColor(ve,Te,je){return`#${re[ve]}${re[Te]}${re[je]}`}static scaleMinMax(ve,Te){let je;ve[0]?(ve[0]<0&&(je=Te[0],Te[0]=Te[1],Te[1]=je),Te[0]*=ve[0],Te[1]*=ve[0],ve[3]<0&&(je=Te[2],Te[2]=Te[3],Te[3]=je),Te[2]*=ve[3],Te[3]*=ve[3]):(je=Te[0],Te[0]=Te[2],Te[2]=je,je=Te[1],Te[1]=Te[3],Te[3]=je,ve[1]<0&&(je=Te[2],Te[2]=Te[3],Te[3]=je),Te[2]*=ve[1],Te[3]*=ve[1],ve[2]<0&&(je=Te[0],Te[0]=Te[1],Te[1]=je),Te[0]*=ve[2],Te[1]*=ve[2]),Te[0]+=ve[4],Te[1]+=ve[4],Te[2]+=ve[5],Te[3]+=ve[5]}static transform(ve,Te){return[ve[0]*Te[0]+ve[2]*Te[1],ve[1]*Te[0]+ve[3]*Te[1],ve[0]*Te[2]+ve[2]*Te[3],ve[1]*Te[2]+ve[3]*Te[3],ve[0]*Te[4]+ve[2]*Te[5]+ve[4],ve[1]*Te[4]+ve[3]*Te[5]+ve[5]]}static applyTransform(ve,Te){const je=ve[0]*Te[0]+ve[1]*Te[2]+Te[4],Ce=ve[0]*Te[1]+ve[1]*Te[3]+Te[5];return[je,Ce]}static applyInverseTransform(ve,Te){const je=Te[0]*Te[3]-Te[1]*Te[2],Ce=(ve[0]*Te[3]-ve[1]*Te[2]+Te[2]*Te[5]-Te[4]*Te[3])/je,ke=(-ve[0]*Te[1]+ve[1]*Te[0]+Te[4]*Te[1]-Te[5]*Te[0])/je;return[Ce,ke]}static getAxialAlignedBoundingBox(ve,Te){const je=de.applyTransform(ve,Te),Ce=de.applyTransform(ve.slice(2,4),Te),ke=de.applyTransform([ve[0],ve[3]],Te),Le=de.applyTransform([ve[2],ve[1]],Te);return[Math.min(je[0],Ce[0],ke[0],Le[0]),Math.min(je[1],Ce[1],ke[1],Le[1]),Math.max(je[0],Ce[0],ke[0],Le[0]),Math.max(je[1],Ce[1],ke[1],Le[1])]}static inverseTransform(ve){const Te=ve[0]*ve[3]-ve[1]*ve[2];return[ve[3]/Te,-ve[1]/Te,-ve[2]/Te,ve[0]/Te,(ve[2]*ve[5]-ve[4]*ve[3])/Te,(ve[4]*ve[1]-ve[5]*ve[0])/Te]}static singularValueDecompose2dScale(ve){const Te=[ve[0],ve[2],ve[1],ve[3]],je=ve[0]*Te[0]+ve[1]*Te[2],Ce=ve[0]*Te[1]+ve[1]*Te[3],ke=ve[2]*Te[0]+ve[3]*Te[2],Le=ve[2]*Te[1]+ve[3]*Te[3],Ge=(je+Le)/2,Oe=Math.sqrt((je+Le)**2-4*(je*Le-ke*Ce))/2,tt=Ge+Oe||1,Ye=Ge-Oe||1;return[Math.sqrt(tt),Math.sqrt(Ye)]}static normalizeRect(ve){const Te=ve.slice(0);return ve[0]>ve[2]&&(Te[0]=ve[2],Te[2]=ve[0]),ve[1]>ve[3]&&(Te[1]=ve[3],Te[3]=ve[1]),Te}static intersect(ve,Te){const je=Math.max(Math.min(ve[0],ve[2]),Math.min(Te[0],Te[2])),Ce=Math.min(Math.max(ve[0],ve[2]),Math.max(Te[0],Te[2]));if(je>Ce)return null;const ke=Math.max(Math.min(ve[1],ve[3]),Math.min(Te[1],Te[3])),Le=Math.min(Math.max(ve[1],ve[3]),Math.max(Te[1],Te[3]));return ke>Le?null:[je,ke,Ce,Le]}static bezierBoundingBox(ve,Te,je,Ce,ke,Le,Ge,Oe){const tt=[],Ye=[[],[]];let et,Xe,Qe,it,qe,gt,mt,Ct;for(let ot=0;ot<2;++ot){if(ot===0?(Xe=6*ve-12*je+6*ke,et=-3*ve+9*je-9*ke+3*Ge,Qe=3*je-3*ve):(Xe=6*Te-12*Ce+6*Le,et=-3*Te+9*Ce-9*Le+3*Oe,Qe=3*Ce-3*Te),Math.abs(et)<1e-12){if(Math.abs(Xe)<1e-12)continue;it=-Qe/Xe,0<it&&it<1&&tt.push(it);continue}mt=Xe*Xe-4*Qe*et,Ct=Math.sqrt(mt),!(mt<0)&&(qe=(-Xe+Ct)/(2*et),0<qe&&qe<1&&tt.push(qe),gt=(-Xe-Ct)/(2*et),0<gt&&gt<1&&tt.push(gt))}let Pt=tt.length,st;const dt=Pt;for(;Pt--;)it=tt[Pt],st=1-it,Ye[0][Pt]=st*st*st*ve+3*st*st*it*je+3*st*it*it*ke+it*it*it*Ge,Ye[1][Pt]=st*st*st*Te+3*st*st*it*Ce+3*st*it*it*Le+it*it*it*Oe;return Ye[0][dt]=ve,Ye[1][dt]=Te,Ye[0][dt+1]=Ge,Ye[1][dt+1]=Oe,Ye[0].length=Ye[1].length=dt+2,[Math.min(...Ye[0]),Math.min(...Ye[1]),Math.max(...Ye[0]),Math.max(...Ye[1])]}}S.Util=de;const ue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ge(Pe){if(Pe[0]>="ï"){let Te;if(Pe[0]==="þ"&&Pe[1]==="ÿ"?Te="utf-16be":Pe[0]==="ÿ"&&Pe[1]==="þ"?Te="utf-16le":Pe[0]==="ï"&&Pe[1]==="»"&&Pe[2]==="¿"&&(Te="utf-8"),Te)try{const je=new TextDecoder(Te,{fatal:!0}),Ce=W(Pe);return je.decode(Ce)}catch(je){v(`stringToPDFString: "${je}".`)}}const ve=[];for(let Te=0,je=Pe.length;Te<je;Te++){const Ce=ue[Pe.charCodeAt(Te)];ve.push(Ce?String.fromCharCode(Ce):Pe.charAt(Te))}return ve.join("")}function pe(Pe){return decodeURIComponent(escape(Pe))}function xe(Pe){return unescape(encodeURIComponent(Pe))}function Ie(Pe){return typeof Pe=="object"&&(Pe==null?void 0:Pe.byteLength)!==void 0}function Fe(Pe,ve){if(Pe.length!==ve.length)return!1;for(let Te=0,je=Pe.length;Te<je;Te++)if(Pe[Te]!==ve[Te])return!1;return!0}function Ae(Pe=new Date){return[Pe.getUTCFullYear().toString(),(Pe.getUTCMonth()+1).toString().padStart(2,"0"),Pe.getUTCDate().toString().padStart(2,"0"),Pe.getUTCHours().toString().padStart(2,"0"),Pe.getUTCMinutes().toString().padStart(2,"0"),Pe.getUTCSeconds().toString().padStart(2,"0")].join("")}class we{constructor(){Be(this,Re,!1);this.promise=new Promise((ve,Te)=>{this.resolve=je=>{rt(this,Re,!0),ve(je)},this.reject=je=>{rt(this,Re,!0),Te(je)}})}get settled(){return ye(this,Re)}}Re=new WeakMap,S.PromiseCapability=we;let be=null,Ee=null;function _e(Pe){return be||(be=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ee=new Map([["ﬅ","ſt"]])),Pe.replaceAll(be,(ve,Te,je)=>Te?Te.normalize("NFKC"):Ee.get(je))}},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.XRefParseException=S.XRefEntryException=S.ParserEOFException=S.PDF_VERSION_REGEXP=S.MissingDataException=void 0,S.arrayBuffersToBytes=C,S.collectActions=d,S.encodeToXmlString=L,S.escapePDFName=f,S.escapeString=m,S.getInheritableProperty=w,S.getLookupTableFactory=t,S.getNewAnnotationsMap=T,S.getRotationMatrix=x,S.isAscii=V,S.isWhiteSpace=y,S.log2=B,S.numberToString=D,S.parseXFAPath=r,S.readInt8=u,S.readUint16=s,S.readUint32=o,S.recoverJsURL=k,S.stringToUTF16HexString=q,S.stringToUTF16String=v,S.toRomanNumerals=F,S.validateCSSFont=g,S.validateFontName=h;var n=ee(2),l=ee(4),K=ee(5);const e=/^[1-9]\.\d$/;S.PDF_VERSION_REGEXP=e;function t(E){let U;return function(){return E&&(U=Object.create(null),E(U),E=null),U}}class H extends n.BaseException{constructor(U,$){super(`Missing data [${U}, ${$})`,"MissingDataException"),this.begin=U,this.end=$}}S.MissingDataException=H;class z extends n.BaseException{constructor(U){super(U,"ParserEOFException")}}S.ParserEOFException=z;class G extends n.BaseException{constructor(U){super(U,"XRefEntryException")}}S.XRefEntryException=G;class I extends n.BaseException{constructor(U){super(U,"XRefParseException")}}S.XRefParseException=I;function C(E){const U=E.length;if(U===0)return new Uint8Array(0);if(U===1)return new Uint8Array(E[0]);let $=0;for(let j=0;j<U;j++)$+=E[j].byteLength;const Q=new Uint8Array($);let ie=0;for(let j=0;j<U;j++){const X=new Uint8Array(E[j]);Q.set(X,ie),ie+=X.byteLength}return Q}function w({dict:E,key:U,getArray:$=!1,stopWhenFound:Q=!0}){let ie;const j=new l.RefSet;for(;E instanceof l.Dict&&!(E.objId&&j.has(E.objId));){E.objId&&j.put(E.objId);const X=$?E.getArray(U):E.get(U);if(X!==void 0){if(Q)return X;(ie||(ie=[])).push(X)}E=E.get("Parent")}return ie}const i=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function F(E,U=!1){(0,n.assert)(Number.isInteger(E)&&E>0,"The number should be a positive integer.");const $=[];let Q;for(;E>=1e3;)E-=1e3,$.push("M");Q=E/100|0,E%=100,$.push(i[Q]),Q=E/10|0,E%=10,$.push(i[10+Q]),$.push(i[20+E]);const ie=$.join("");return U?ie.toLowerCase():ie}function B(E){return E<=0?0:Math.ceil(Math.log2(E))}function u(E,U){return E[U]<<24>>24}function s(E,U){return E[U]<<8|E[U+1]}function o(E,U){return(E[U]<<24|E[U+1]<<16|E[U+2]<<8|E[U+3])>>>0}function y(E){return E===32||E===9||E===13||E===10}function r(E){const U=/(.+)\[(\d+)\]$/;return E.split(".").map($=>{const Q=$.match(U);return Q?{name:Q[1],pos:parseInt(Q[2],10)}:{name:$,pos:0}})}function f(E){const U=[];let $=0;for(let Q=0,ie=E.length;Q<ie;Q++){const j=E.charCodeAt(Q);(j<33||j>126||j===35||j===40||j===41||j===60||j===62||j===91||j===93||j===123||j===125||j===47||j===37)&&($<Q&&U.push(E.substring($,Q)),U.push(`#${j.toString(16)}`),$=Q+1)}return U.length===0?E:($<E.length&&U.push(E.substring($,E.length)),U.join(""))}function m(E){return E.replaceAll(/([()\\\n\r])/g,U=>U===`
`?"\\n":U==="\r"?"\\r":`\\${U}`)}function P(E,U,$,Q){if(!E)return;let ie=null;if(E instanceof l.Ref){if(Q.has(E))return;ie=E,Q.put(ie),E=U.fetch(E)}if(Array.isArray(E))for(const j of E)P(j,U,$,Q);else if(E instanceof l.Dict){if((0,l.isName)(E.get("S"),"JavaScript")){const j=E.get("JS");let X;j instanceof K.BaseStream?X=j.getString():typeof j=="string"&&(X=j),X&&(X=(0,n.stringToPDFString)(X).replaceAll("\0","")),X&&$.push(X)}P(E.getRaw("Next"),U,$,Q)}ie&&Q.remove(ie)}function d(E,U,$){const Q=Object.create(null),ie=w({dict:U,key:"AA",stopWhenFound:!1});if(ie)for(let j=ie.length-1;j>=0;j--){const X=ie[j];if(X instanceof l.Dict)for(const R of X.getKeys()){const Z=$[R];if(!Z)continue;const N=X.getRaw(R),M=new l.RefSet,c=[];P(N,E,c,M),c.length>0&&(Q[Z]=c)}}if(U.has("A")){const j=U.get("A"),X=new l.RefSet,R=[];P(j,E,R,X),R.length>0&&(Q.Action=R)}return(0,n.objectSize)(Q)>0?Q:null}const A={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function L(E){const U=[];let $=0;for(let Q=0,ie=E.length;Q<ie;Q++){const j=E.codePointAt(Q);if(32<=j&&j<=126){const X=A[j];X&&($<Q&&U.push(E.substring($,Q)),U.push(X),$=Q+1)}else $<Q&&U.push(E.substring($,Q)),U.push(`&#x${j.toString(16).toUpperCase()};`),j>55295&&(j<57344||j>65533)&&Q++,$=Q+1}return U.length===0?E:($<E.length&&U.push(E.substring($,E.length)),U.join(""))}function h(E,U=!1){const $=/^("|').*("|')$/.exec(E);if($&&$[1]===$[2]){if(new RegExp(`[^\\\\]${$[1]}`).test(E.slice(1,-1)))return U&&(0,n.warn)(`FontFamily contains unescaped ${$[1]}: ${E}.`),!1}else for(const Q of E.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(Q)||!/^[\w-\\]+$/.test(Q))return U&&(0,n.warn)(`FontFamily contains invalid <custom-ident>: ${E}.`),!1;return!0}function g(E){const U="14",$="400",Q=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:ie,fontWeight:j,italicAngle:X}=E;if(!h(ie,!0))return!1;const R=j?j.toString():"";E.fontWeight=Q.has(R)?R:$;const Z=parseFloat(X);return E.italicAngle=isNaN(Z)||Z<-90||Z>90?U:X.toString(),!0}function k(E){const U=["app.launchURL","window.open","xfa.host.gotoURL"],Q=new RegExp("^\\s*("+U.join("|").replaceAll(".","\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(E);if(Q!=null&&Q[2]){const ie=Q[2];let j=!1;return Q[3]==="true"&&Q[1]==="app.launchURL"&&(j=!0),{url:ie,newWindow:j}}return null}function D(E){if(Number.isInteger(E))return E.toString();const U=Math.round(E*100);return U%100===0?(U/100).toString():U%10===0?E.toFixed(1):E.toFixed(2)}function T(E){if(!E)return null;const U=new Map;for(const[$,Q]of E){if(!$.startsWith(n.AnnotationEditorPrefix))continue;let ie=U.get(Q.pageIndex);ie||(ie=[],U.set(Q.pageIndex,ie)),ie.push(Q)}return U.size>0?U:null}function V(E){return/^[\x00-\x7F]*$/.test(E)}function q(E){const U=[];for(let $=0,Q=E.length;$<Q;$++){const ie=E.charCodeAt($);U.push((ie>>8&255).toString(16).padStart(2,"0"),(ie&255).toString(16).padStart(2,"0"))}return U.join("")}function v(E,U=!1){const $=[];U&&$.push("þÿ");for(let Q=0,ie=E.length;Q<ie;Q++){const j=E.charCodeAt(Q);$.push(String.fromCharCode(j>>8&255),String.fromCharCode(j&255))}return $.join("")}function x(E,U,$){switch(E){case 90:return[0,1,-1,0,U,0];case 180:return[-1,0,0,-1,U,$];case 270:return[0,-1,1,0,0,$];default:throw new Error("Invalid rotation")}}},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.RefSetCache=S.RefSet=S.Ref=S.Name=S.EOF=S.Dict=S.Cmd=S.CIRCULAR_REF=void 0,S.clearPrimitiveCaches=z,S.isCmd=s,S.isDict=o,S.isName=u,S.isRefsEqual=y;var n=ee(2);const l=Symbol("CIRCULAR_REF");S.CIRCULAR_REF=l;const K=Symbol("EOF");S.EOF=K;let e=Object.create(null),t=Object.create(null),H=Object.create(null);function z(){e=Object.create(null),t=Object.create(null),H=Object.create(null)}class G{constructor(f){this.name=f}static get(f){return t[f]||(t[f]=new G(f))}}S.Name=G;class I{constructor(f){this.cmd=f}static get(f){return e[f]||(e[f]=new I(f))}}S.Cmd=I;const C=function(){return C};class w{constructor(f=null){this._map=Object.create(null),this.xref=f,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=C}assignXref(f){this.xref=f}get size(){return Object.keys(this._map).length}get(f,m,P){let d=this._map[f];return d===void 0&&m!==void 0&&(d=this._map[m],d===void 0&&P!==void 0&&(d=this._map[P])),d instanceof i&&this.xref?this.xref.fetch(d,this.suppressEncryption):d}async getAsync(f,m,P){let d=this._map[f];return d===void 0&&m!==void 0&&(d=this._map[m],d===void 0&&P!==void 0&&(d=this._map[P])),d instanceof i&&this.xref?this.xref.fetchAsync(d,this.suppressEncryption):d}getArray(f,m,P){let d=this._map[f];if(d===void 0&&m!==void 0&&(d=this._map[m],d===void 0&&P!==void 0&&(d=this._map[P])),d instanceof i&&this.xref&&(d=this.xref.fetch(d,this.suppressEncryption)),Array.isArray(d)){d=d.slice();for(let A=0,L=d.length;A<L;A++)d[A]instanceof i&&this.xref&&(d[A]=this.xref.fetch(d[A],this.suppressEncryption))}return d}getRaw(f){return this._map[f]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(f,m){this._map[f]=m}has(f){return this._map[f]!==void 0}forEach(f){for(const m in this._map)f(m,this.get(m))}static get empty(){const f=new w(null);return f.set=(m,P)=>{(0,n.unreachable)("Should not call `set` on the empty dictionary.")},(0,n.shadow)(this,"empty",f)}static merge({xref:f,dictArray:m,mergeSubDicts:P=!1}){const d=new w(f),A=new Map;for(const L of m)if(L instanceof w)for(const[h,g]of Object.entries(L._map)){let k=A.get(h);if(k===void 0)k=[],A.set(h,k);else if(!P||!(g instanceof w))continue;k.push(g)}for(const[L,h]of A){if(h.length===1||!(h[0]instanceof w)){d._map[L]=h[0];continue}const g=new w(f);for(const k of h)for(const[D,T]of Object.entries(k._map))g._map[D]===void 0&&(g._map[D]=T);g.size>0&&(d._map[L]=g)}return A.clear(),d.size>0?d:w.empty}}S.Dict=w;class i{constructor(f,m){this.num=f,this.gen=m}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static get(f,m){const P=m===0?`${f}R`:`${f}R${m}`;return H[P]||(H[P]=new i(f,m))}}S.Ref=i;class F{constructor(f=null){this._set=new Set(f==null?void 0:f._set)}has(f){return this._set.has(f.toString())}put(f){this._set.add(f.toString())}remove(f){this._set.delete(f.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}S.RefSet=F;class B{constructor(){this._map=new Map}get size(){return this._map.size}get(f){return this._map.get(f.toString())}has(f){return this._map.has(f.toString())}put(f,m){this._map.set(f.toString(),m)}putAlias(f,m){this._map.set(f.toString(),this.get(m))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}S.RefSetCache=B;function u(r,f){return r instanceof G&&(f===void 0||r.name===f)}function s(r,f){return r instanceof I&&(f===void 0||r.cmd===f)}function o(r,f){return r instanceof w&&(f===void 0||u(r.get("Type"),f))}function y(r,f){return r.num===f.num&&r.gen===f.gen}},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.BaseStream=void 0;var n=ee(2);class l{constructor(){this.constructor===l&&(0,n.unreachable)("Cannot initialize BaseStream.")}get length(){(0,n.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,n.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,n.shadow)(this,"isDataLoaded",!0)}getByte(){(0,n.unreachable)("Abstract method `getByte` called")}getBytes(e){(0,n.unreachable)("Abstract method `getBytes` called")}peekByte(){const e=this.getByte();return e!==-1&&this.pos--,e}peekBytes(e){const t=this.getBytes(e);return this.pos-=t.length,t}getUint16(){const e=this.getByte(),t=this.getByte();return e===-1||t===-1?-1:(e<<8)+t}getInt32(){const e=this.getByte(),t=this.getByte(),H=this.getByte(),z=this.getByte();return(e<<24)+(t<<16)+(H<<8)+z}getByteRange(e,t){(0,n.unreachable)("Abstract method `getByteRange` called")}getString(e){return(0,n.bytesToString)(this.getBytes(e))}skip(e){this.pos+=e||1}reset(){(0,n.unreachable)("Abstract method `reset` called")}moveStart(){(0,n.unreachable)("Abstract method `moveStart` called")}makeSubStream(e,t,H=null){(0,n.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}S.BaseStream=l},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.NetworkPdfManager=S.LocalPdfManager=void 0;var n=ee(2),l=ee(7),K=ee(3),e=ee(9),t=ee(8);function H(C){if(C){const w=(0,n.createValidAbsoluteUrl)(C);if(w)return w.href;(0,n.warn)(`Invalid absolute docBaseUrl: "${C}".`)}return null}class z{constructor(w){var i;this.constructor===z&&(0,n.unreachable)("Cannot initialize BasePdfManager."),this._docBaseUrl=H(w.docBaseUrl),this._docId=w.docId,this._password=w.password,this.enableXfa=w.enableXfa,(i=w.evaluatorOptions).isOffscreenCanvasSupported&&(i.isOffscreenCanvasSupported=n.FeatureTest.isOffscreenCanvasSupported),this.evaluatorOptions=w.evaluatorOptions}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){const w=this.pdfDocument.catalog;return(0,n.shadow)(this,"docBaseUrl",w.baseUrl||this._docBaseUrl)}ensureDoc(w,i){return this.ensure(this.pdfDocument,w,i)}ensureXRef(w,i){return this.ensure(this.pdfDocument.xref,w,i)}ensureCatalog(w,i){return this.ensure(this.pdfDocument.catalog,w,i)}getPage(w){return this.pdfDocument.getPage(w)}fontFallback(w,i){return this.pdfDocument.fontFallback(w,i)}loadXfaFonts(w,i){return this.pdfDocument.loadXfaFonts(w,i)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(w){return this.pdfDocument.serializeXfaData(w)}cleanup(w=!1){return this.pdfDocument.cleanup(w)}async ensure(w,i,F){(0,n.unreachable)("Abstract method `ensure` called")}requestRange(w,i){(0,n.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(w=!1){(0,n.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(w){(0,n.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(w){this._password=w}terminate(w){(0,n.unreachable)("Abstract method `terminate` called")}}class G extends z{constructor(w){super(w);const i=new t.Stream(w.source);this.pdfDocument=new e.PDFDocument(this,i),this._loadedStreamPromise=Promise.resolve(i)}async ensure(w,i,F){const B=w[i];return typeof B=="function"?B.apply(w,F):B}requestRange(w,i){return Promise.resolve()}requestLoadedStream(w=!1){return this._loadedStreamPromise}terminate(w){}}S.LocalPdfManager=G;class I extends z{constructor(w){super(w),this.streamManager=new l.ChunkedStreamManager(w.source,{msgHandler:w.handler,length:w.length,disableAutoFetch:w.disableAutoFetch,rangeChunkSize:w.rangeChunkSize}),this.pdfDocument=new e.PDFDocument(this,this.streamManager.getStream())}async ensure(w,i,F){try{const B=w[i];return typeof B=="function"?B.apply(w,F):B}catch(B){if(!(B instanceof K.MissingDataException))throw B;return await this.requestRange(B.begin,B.end),this.ensure(w,i,F)}}requestRange(w,i){return this.streamManager.requestRange(w,i)}requestLoadedStream(w=!1){return this.streamManager.requestAllChunks(w)}sendProgressiveData(w){this.streamManager.onReceiveData({chunk:w})}terminate(w){this.streamManager.abort(w)}}S.NetworkPdfManager=I},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.ChunkedStreamManager=S.ChunkedStream=void 0;var n=ee(3),l=ee(2),K=ee(8);class e extends K.Stream{constructor(z,G,I){super(new Uint8Array(z),0,z,null),this.chunkSize=G,this._loadedChunks=new Set,this.numChunks=Math.ceil(z/G),this.manager=I,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const z=[];for(let G=0,I=this.numChunks;G<I;++G)this._loadedChunks.has(G)||z.push(G);return z}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(z,G){const I=this.chunkSize;if(z%I!==0)throw new Error(`Bad begin offset: ${z}`);const C=z+G.byteLength;if(C%I!==0&&C!==this.bytes.length)throw new Error(`Bad end offset: ${C}`);this.bytes.set(new Uint8Array(G),z);const w=Math.floor(z/I),i=Math.floor((C-1)/I)+1;for(let F=w;F<i;++F)this._loadedChunks.add(F)}onReceiveProgressiveData(z){let G=this.progressiveDataLength;const I=Math.floor(G/this.chunkSize);this.bytes.set(new Uint8Array(z),G),G+=z.byteLength,this.progressiveDataLength=G;const C=G>=this.end?this.numChunks:Math.floor(G/this.chunkSize);for(let w=I;w<C;++w)this._loadedChunks.add(w)}ensureByte(z){if(z<this.progressiveDataLength)return;const G=Math.floor(z/this.chunkSize);if(!(G>this.numChunks)&&G!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(G))throw new n.MissingDataException(z,z+1);this.lastSuccessfulEnsureByteChunk=G}}ensureRange(z,G){if(z>=G||G<=this.progressiveDataLength)return;const I=Math.floor(z/this.chunkSize);if(I>this.numChunks)return;const C=Math.min(Math.floor((G-1)/this.chunkSize)+1,this.numChunks);for(let w=I;w<C;++w)if(!this._loadedChunks.has(w))throw new n.MissingDataException(z,G)}nextEmptyChunk(z){const G=this.numChunks;for(let I=0;I<G;++I){const C=(z+I)%G;if(!this._loadedChunks.has(C))return C}return null}hasChunk(z){return this._loadedChunks.has(z)}getByte(){const z=this.pos;return z>=this.end?-1:(z>=this.progressiveDataLength&&this.ensureByte(z),this.bytes[this.pos++])}getBytes(z){const G=this.bytes,I=this.pos,C=this.end;if(!z)return C>this.progressiveDataLength&&this.ensureRange(I,C),G.subarray(I,C);let w=I+z;return w>C&&(w=C),w>this.progressiveDataLength&&this.ensureRange(I,w),this.pos=w,G.subarray(I,w)}getByteRange(z,G){return z<0&&(z=0),G>this.end&&(G=this.end),G>this.progressiveDataLength&&this.ensureRange(z,G),this.bytes.subarray(z,G)}makeSubStream(z,G,I=null){G?z+G>this.progressiveDataLength&&this.ensureRange(z,z+G):z>=this.progressiveDataLength&&this.ensureByte(z);function C(){}C.prototype=Object.create(this),C.prototype.getMissingChunks=function(){const i=this.chunkSize,F=Math.floor(this.start/i),B=Math.floor((this.end-1)/i)+1,u=[];for(let s=F;s<B;++s)this._loadedChunks.has(s)||u.push(s);return u},Object.defineProperty(C.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const w=new C;return w.pos=w.start=z,w.end=z+G||this.end,w.dict=I,w}getBaseStreams(){return[this]}}S.ChunkedStream=e;class t{constructor(z,G){this.length=G.length,this.chunkSize=G.rangeChunkSize,this.stream=new e(this.length,this.chunkSize,this),this.pdfNetworkStream=z,this.disableAutoFetch=G.disableAutoFetch,this.msgHandler=G.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=new l.PromiseCapability}sendRequest(z,G){const I=this.pdfNetworkStream.getRangeReader(z,G);I.isStreamingSupported||(I.onProgress=this.onProgress.bind(this));let C=[],w=0;return new Promise((i,F)=>{const B=({value:u,done:s})=>{try{if(s){const o=(0,n.arrayBuffersToBytes)(C);C=null,i(o);return}w+=u.byteLength,I.isStreamingSupported&&this.onProgress({loaded:w}),C.push(u),I.read().then(B,F)}catch(o){F(o)}};I.read().then(B,F)}).then(i=>{this.aborted||this.onReceiveData({chunk:i,begin:z})})}requestAllChunks(z=!1){if(!z){const G=this.stream.getMissingChunks();this._requestChunks(G)}return this._loadedStreamCapability.promise}_requestChunks(z){const G=this.currRequestId++,I=new Set;this._chunksNeededByRequest.set(G,I);for(const i of z)this.stream.hasChunk(i)||I.add(i);if(I.size===0)return Promise.resolve();const C=new l.PromiseCapability;this._promisesByRequest.set(G,C);const w=[];for(const i of I){let F=this._requestsByChunk.get(i);F||(F=[],this._requestsByChunk.set(i,F),w.push(i)),F.push(G)}if(w.length>0){const i=this.groupChunks(w);for(const F of i){const B=F.beginChunk*this.chunkSize,u=Math.min(F.endChunk*this.chunkSize,this.length);this.sendRequest(B,u).catch(C.reject)}}return C.promise.catch(i=>{if(!this.aborted)throw i})}getStream(){return this.stream}requestRange(z,G){G=Math.min(G,this.length);const I=this.getBeginChunk(z),C=this.getEndChunk(G),w=[];for(let i=I;i<C;++i)w.push(i);return this._requestChunks(w)}requestRanges(z=[]){const G=[];for(const I of z){const C=this.getBeginChunk(I.begin),w=this.getEndChunk(I.end);for(let i=C;i<w;++i)G.includes(i)||G.push(i)}return G.sort(function(I,C){return I-C}),this._requestChunks(G)}groupChunks(z){const G=[];let I=-1,C=-1;for(let w=0,i=z.length;w<i;++w){const F=z[w];I<0&&(I=F),C>=0&&C+1!==F&&(G.push({beginChunk:I,endChunk:C+1}),I=F),w+1===z.length&&G.push({beginChunk:I,endChunk:F+1}),C=F}return G}onProgress(z){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+z.loaded,total:this.length})}onReceiveData(z){const G=z.chunk,I=z.begin===void 0,C=I?this.progressiveDataLength:z.begin,w=C+G.byteLength,i=Math.floor(C/this.chunkSize),F=w<this.length?Math.floor(w/this.chunkSize):Math.ceil(w/this.chunkSize);I?(this.stream.onReceiveProgressiveData(G),this.progressiveDataLength=w):this.stream.onReceiveData(C,G),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const B=[];for(let u=i;u<F;++u){const s=this._requestsByChunk.get(u);if(s){this._requestsByChunk.delete(u);for(const o of s){const y=this._chunksNeededByRequest.get(o);y.has(u)&&y.delete(u),!(y.size>0)&&B.push(o)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let u;if(this.stream.numChunksLoaded===1){const s=this.stream.numChunks-1;this.stream.hasChunk(s)||(u=s)}else u=this.stream.nextEmptyChunk(F);Number.isInteger(u)&&this._requestChunks([u])}for(const u of B){const s=this._promisesByRequest.get(u);this._promisesByRequest.delete(u),s.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(z){this._loadedStreamCapability.reject(z)}getBeginChunk(z){return Math.floor(z/this.chunkSize)}getEndChunk(z){return Math.floor((z-1)/this.chunkSize)+1}abort(z){this.aborted=!0,this.pdfNetworkStream&&this.pdfNetworkStream.cancelAllRequests(z);for(const G of this._promisesByRequest.values())G.reject(z)}}S.ChunkedStreamManager=t},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.StringStream=S.Stream=S.NullStream=void 0;var n=ee(5),l=ee(2);class K extends n.BaseStream{constructor(z,G,I,C){super(),this.bytes=z instanceof Uint8Array?z:new Uint8Array(z),this.start=G||0,this.pos=this.start,this.end=G+I||this.bytes.length,this.dict=C}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(z){const G=this.bytes,I=this.pos,C=this.end;if(!z)return G.subarray(I,C);let w=I+z;return w>C&&(w=C),this.pos=w,G.subarray(I,w)}getByteRange(z,G){return z<0&&(z=0),G>this.end&&(G=this.end),this.bytes.subarray(z,G)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(z,G,I=null){return new K(this.bytes.buffer,z,G,I)}}S.Stream=K;class e extends K{constructor(z){super((0,l.stringToBytes)(z))}}S.StringStream=e;class t extends K{constructor(){super(new Uint8Array(0))}}S.NullStream=t},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.Page=S.PDFDocument=void 0;var n=ee(10),l=ee(2),K=ee(3),e=ee(4),t=ee(51),H=ee(5),z=ee(68),G=ee(70),I=ee(72),C=ee(101),w=ee(16),i=ee(8),F=ee(76),B=ee(64),u=ee(13),s=ee(18),o=ee(75),y=ee(66),r=ee(77),f=ee(102);const m=1,P=[0,0,612,792];class d{constructor({pdfManager:q,xref:v,pageIndex:x,pageDict:E,ref:U,globalIdFactory:$,fontCache:Q,builtInCMapCache:ie,standardFontDataCache:j,globalImageCache:X,systemFontCache:R,nonBlendModesSet:Z,xfaFactory:N}){this.pdfManager=q,this.pageIndex=x,this.pageDict=E,this.xref=v,this.ref=U,this.fontCache=Q,this.builtInCMapCache=ie,this.standardFontDataCache=j,this.globalImageCache=X,this.systemFontCache=R,this.nonBlendModesSet=Z,this.evaluatorOptions=q.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=N;const M={obj:0};this._localIdFactory=class extends ${static createObjId(){return`p${x}_${++M.obj}`}static getPageObjId(){return`p${U.toString()}`}}}_getInheritableProperty(q,v=!1){const x=(0,K.getInheritableProperty)({dict:this.pageDict,key:q,getArray:v,stopWhenFound:!1});return Array.isArray(x)?x.length===1||!(x[0]instanceof e.Dict)?x[0]:e.Dict.merge({xref:this.xref,dictArray:x}):x}get content(){return this.pageDict.getArray("Contents")}get resources(){const q=this._getInheritableProperty("Resources");return(0,l.shadow)(this,"resources",q instanceof e.Dict?q:e.Dict.empty)}_getBoundingBox(q){if(this.xfaData)return this.xfaData.bbox;let v=this._getInheritableProperty(q,!0);if(Array.isArray(v)&&v.length===4){if(v=l.Util.normalizeRect(v),v[2]-v[0]>0&&v[3]-v[1]>0)return v;(0,l.warn)(`Empty, or invalid, /${q} entry.`)}return null}get mediaBox(){return(0,l.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||P)}get cropBox(){return(0,l.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let q=this.pageDict.get("UserUnit");return(typeof q!="number"||q<=0)&&(q=m),(0,l.shadow)(this,"userUnit",q)}get view(){const{cropBox:q,mediaBox:v}=this;if(q!==v&&!(0,l.isArrayEqual)(q,v)){const x=l.Util.intersect(q,v);if(x&&x[2]-x[0]>0&&x[3]-x[1]>0)return(0,l.shadow)(this,"view",x);(0,l.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,l.shadow)(this,"view",v)}get rotate(){let q=this._getInheritableProperty("Rotate")||0;return q%90!==0?q=0:q>=360?q%=360:q<0&&(q=(q%360+360)%360),(0,l.shadow)(this,"rotate",q)}_onSubStreamError(q,v){if(this.evaluatorOptions.ignoreErrors){(0,l.warn)(`getContentStream - ignoring sub-stream (${v}): "${q}".`);return}throw q}getContentStream(){return this.pdfManager.ensure(this,"content").then(q=>q instanceof H.BaseStream?q:Array.isArray(q)?new s.StreamsSequenceStream(q,this._onSubStreamError.bind(this)):new i.NullStream)}get xfaData(){return(0,l.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}async saveNewAnnotations(q,v,x){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const E=new u.PartialEvaluator({xref:this.xref,handler:q,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),U=this.pageDict,$=this.annotations.slice(),Q=await n.AnnotationFactory.saveNewAnnotations(E,v,x);for(const{ref:Z}of Q.annotations)$.push(Z);const ie=U.get("Annots");U.set("Annots",$);const j=[];let X=null;this.xref.encrypt&&(X=this.xref.encrypt.createCipherTransform(this.ref.num,this.ref.gen)),await(0,y.writeObject)(this.ref,U,j,X),ie&&U.set("Annots",ie);const R=Q.dependencies;return R.push({ref:this.ref,data:j.join("")},...Q.annotations),R}save(q,v,x){const E=new u.PartialEvaluator({xref:this.xref,handler:q,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(U){const $=[];for(const Q of U)Q.mustBePrinted(x)&&$.push(Q.save(E,v,x).catch(function(ie){return(0,l.warn)(`save - ignoring annotation data during "${v.name}" task: "${ie}".`),null}));return Promise.all($).then(function(Q){return Q.filter(ie=>!!ie)})})}loadResources(q){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new F.ObjectLoader(this.resources,q,this.xref).load())}getOperatorList({handler:q,sink:v,task:x,intent:E,cacheKey:U,annotationStorage:$=null}){const Q=this.getContentStream(),ie=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),j=new u.PartialEvaluator({xref:this.xref,handler:q,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),X=this.xfaFactory?null:(0,K.getNewAnnotationsMap)($);let R=Promise.resolve(null);if(X){const M=X.get(this.pageIndex);M&&(R=n.AnnotationFactory.printNewAnnotations(j,x,M))}const N=Promise.all([Q,ie]).then(([M])=>{const c=new B.OperatorList(E,v);return q.send("StartRenderPage",{transparency:j.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:U}),j.getOperatorList({stream:M,task:x,resources:this.resources,operatorList:c}).then(function(){return c})});return Promise.all([N,this._parsedAnnotations,R]).then(function([M,c,_]){if(_&&(c=c.concat(_)),c.length===0||E&l.RenderingIntentFlag.ANNOTATIONS_DISABLE)return M.flush(!0),{length:M.totalLength};const W=!!(E&l.RenderingIntentFlag.ANNOTATIONS_FORMS),Y=!!(E&l.RenderingIntentFlag.ANY),J=!!(E&l.RenderingIntentFlag.DISPLAY),ae=!!(E&l.RenderingIntentFlag.PRINT),oe=[];for(const he of c)(Y||J&&he.mustBeViewed($)||ae&&he.mustBePrinted($))&&oe.push(he.getOperatorList(j,x,E,W,$).catch(function(ne){return(0,l.warn)(`getOperatorList - ignoring annotation data during "${x.name}" task: "${ne}".`),{opList:null,separateForm:!1,separateCanvas:!1}}));return Promise.all(oe).then(function(he){let ne=!1,re=!1;for(const{opList:de,separateForm:ue,separateCanvas:ge}of he)M.addOpList(de),ne||(ne=ue),re||(re=ge);return M.flush(!0,{form:ne,canvas:re}),{length:M.totalLength}})})}extractTextContent({handler:q,task:v,includeMarkedContent:x,disableNormalization:E,sink:U}){const $=this.getContentStream(),Q=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([$,Q]).then(([j])=>new u.PartialEvaluator({xref:this.xref,handler:q,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}).getTextContent({stream:j,task:v,resources:this.resources,includeMarkedContent:x,disableNormalization:E,sink:U,viewBox:this.view}))}async getStructTree(){const q=await this.pdfManager.ensureCatalog("structTreeRoot");return q?(await this.pdfManager.ensure(this,"_parseStructTree",[q])).serializable:null}_parseStructTree(q){const v=new o.StructTreePage(q,this.pageDict);return v.parse(),v}async getAnnotationsData(q,v,x){const E=await this._parsedAnnotations;if(E.length===0)return[];const U=[],$=[];let Q;const ie=!!(x&l.RenderingIntentFlag.ANY),j=!!(x&l.RenderingIntentFlag.DISPLAY),X=!!(x&l.RenderingIntentFlag.PRINT);for(const R of E){const Z=ie||j&&R.viewable;(Z||X&&R.printable)&&U.push(R.data),R.hasTextContent&&Z&&(Q||(Q=new u.PartialEvaluator({xref:this.xref,handler:q,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions})),$.push(R.extractTextContent(Q,v,[-1/0,-1/0,1/0,1/0]).catch(function(N){(0,l.warn)(`getAnnotationsData - ignoring textContent during "${v.name}" task: "${N}".`)})))}return await Promise.all($),U}get annotations(){const q=this._getInheritableProperty("Annots");return(0,l.shadow)(this,"annotations",Array.isArray(q)?q:[])}get _parsedAnnotations(){const q=this.pdfManager.ensure(this,"annotations").then(()=>{const v=[];for(const x of this.annotations)v.push(n.AnnotationFactory.create(this.xref,x,this.pdfManager,this._localIdFactory,!1).catch(function(E){return(0,l.warn)(`_parsedAnnotations: "${E}".`),null}));return Promise.all(v).then(function(x){if(x.length===0)return x;const E=[];let U;for(const $ of x)if($){if($ instanceof n.PopupAnnotation){(U||(U=[])).push($);continue}E.push($)}return U&&E.push(...U),E})});return(0,l.shadow)(this,"_parsedAnnotations",q)}get jsActions(){const q=(0,K.collectActions)(this.xref,this.pageDict,l.PageActionEventType);return(0,l.shadow)(this,"jsActions",q)}}S.Page=d;const A=new Uint8Array([37,80,68,70,45]),L=new Uint8Array([115,116,97,114,116,120,114,101,102]),h=new Uint8Array([101,110,100,111,98,106]),g=1024,k="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0";function D(V,q,v=1024,x=!1){const E=q.length,U=V.peekBytes(v),$=U.length-E;if($<=0)return!1;if(x){const Q=E-1;let ie=U.length-1;for(;ie>=Q;){let j=0;for(;j<E&&U[ie-j]===q[Q-j];)j++;if(j>=E)return V.pos+=ie-Q,!0;ie--}}else{let Q=0;for(;Q<=$;){let ie=0;for(;ie<E&&U[Q+ie]===q[ie];)ie++;if(ie>=E)return V.pos+=Q,!0;Q++}}return!1}class T{constructor(q,v){if(v.length<=0)throw new l.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=q,this.stream=v,this.xref=new f.XRef(v,q),this._pagePromises=new Map,this._version=null;const x={font:0};this._globalIdFactory=class{static getDocId(){return`g_${q.docId}`}static createFontId(){return`f${++x.font}`}static createObjId(){(0,l.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,l.unreachable)("Abstract method `getPageObjId` called.")}}}parse(q){this.xref.parse(q),this.catalog=new G.Catalog(this.pdfManager,this.xref)}get linearization(){let q=null;try{q=w.Linearization.create(this.stream)}catch(v){if(v instanceof K.MissingDataException)throw v;(0,l.info)(v)}return(0,l.shadow)(this,"linearization",q)}get startXRef(){const q=this.stream;let v=0;if(this.linearization)q.reset(),D(q,h)&&(v=q.pos+6-q.start);else{const E=L.length;let U=!1,$=q.end;for(;!U&&$>0;)$-=1024-E,$<0&&($=0),q.pos=$,U=D(q,L,1024,!0);if(U){q.skip(9);let Q;do Q=q.getByte();while((0,K.isWhiteSpace)(Q));let ie="";for(;Q>=32&&Q<=57;)ie+=String.fromCharCode(Q),Q=q.getByte();v=parseInt(ie,10),isNaN(v)&&(v=0)}}return(0,l.shadow)(this,"startXRef",v)}checkHeader(){const q=this.stream;if(q.reset(),!D(q,A))return;q.moveStart(),q.skip(A.length);let v="",x;for(;(x=q.getByte())>32&&v.length<7;)v+=String.fromCharCode(x);K.PDF_VERSION_REGEXP.test(v)?this._version=v:(0,l.warn)(`Invalid PDF header version: ${v}`)}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let q=0;return this.catalog.hasActualNumPages?q=this.catalog.numPages:this.xfaFactory?q=this.xfaFactory.getNumPages():this.linearization?q=this.linearization.numPages:q=this.catalog.numPages,(0,l.shadow)(this,"numPages",q)}_hasOnlyDocumentSignatures(q,v=0){return Array.isArray(q)?q.every(E=>{if(E=this.xref.fetchIfRef(E),!(E instanceof e.Dict))return!1;if(E.has("Kids"))return++v>10?((0,l.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(E.get("Kids"),v);const U=(0,e.isName)(E.get("FT"),"Sig"),$=E.get("Rect"),Q=Array.isArray($)&&$.every(ie=>ie===0);return U&&Q}):!1}get _xfaStreams(){const q=this.catalog.acroForm;if(!q)return null;const v=q.get("XFA"),x={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(v instanceof H.BaseStream&&!v.isEmpty)return x["xdp:xdp"]=v,x;if(!Array.isArray(v)||v.length===0)return null;for(let E=0,U=v.length;E<U;E+=2){let $;if(E===0?$="xdp:xdp":E===U-2?$="/xdp:xdp":$=v[E],!x.hasOwnProperty($))continue;const Q=this.xref.fetchIfRef(v[E+1]);!(Q instanceof H.BaseStream)||Q.isEmpty||(x[$]=Q)}return x}get xfaDatasets(){const q=this._xfaStreams;if(!q)return(0,l.shadow)(this,"xfaDatasets",null);for(const v of["datasets","xdp:xdp"]){const x=q[v];if(x)try{const E=(0,l.stringToUTF8String)(x.getString()),U={[v]:E};return(0,l.shadow)(this,"xfaDatasets",new C.DatasetReader(U))}catch{(0,l.warn)("XFA - Invalid utf-8 string.");break}}return(0,l.shadow)(this,"xfaDatasets",null)}get xfaData(){const q=this._xfaStreams;if(!q)return null;const v=Object.create(null);for(const[x,E]of Object.entries(q))if(E)try{v[x]=(0,l.stringToUTF8String)(E.getString())}catch{return(0,l.warn)("XFA - Invalid utf-8 string."),null}return v}get xfaFactory(){let q;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(q=this.xfaData),(0,l.shadow)(this,"xfaFactory",q?new r.XFAFactory(q):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const q=await this.pdfManager.ensureCatalog("xfaImages");if(!q)return;const v=q.getKeys();await new F.ObjectLoader(q,v,this.xref).load();const E=new Map;for(const U of v){const $=q.get(U);$ instanceof H.BaseStream&&E.set(U,$.getBytes())}this.xfaFactory.setImages(E)}async loadXfaFonts(q,v){const x=await this.pdfManager.ensureCatalog("acroForm");if(!x)return;const E=await x.getAsync("DR");if(!(E instanceof e.Dict))return;await new F.ObjectLoader(E,["Font"],this.xref).load();const $=E.get("Font");if(!($ instanceof e.Dict))return;const Q=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);Q.useSystemFonts=!1;const ie=new u.PartialEvaluator({xref:this.xref,handler:q,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:Q}),j=new B.OperatorList,X=[],R={get font(){return X.at(-1)},set font(_){X.push(_)},clone(){return this}},Z=new Map;$.forEach((_,W)=>{Z.set(_,W)});const N=[];for(const[_,W]of Z){const Y=W.get("FontDescriptor");if(!(Y instanceof e.Dict))continue;let J=Y.get("FontFamily");J=J.replaceAll(/[ ]+(\d)/g,"$1");const ae=Y.get("FontWeight"),oe=-Y.get("ItalicAngle"),he={fontFamily:J,fontWeight:ae,italicAngle:oe};(0,K.validateCSSFont)(he)&&N.push(ie.handleSetFont(E,[e.Name.get(_),1],null,j,v,R,null,he).catch(function(ne){return(0,l.warn)(`loadXfaFonts: "${ne}".`),null}))}await Promise.all(N);const M=this.xfaFactory.setFonts(X);if(!M)return;Q.ignoreErrors=!0,N.length=0,X.length=0;const c=new Set;for(const _ of M)(0,t.getXfaFontName)(`${_}-Regular`)||c.add(_);c.size&&M.push("PdfJS-Fallback");for(const _ of M)if(!c.has(_))for(const W of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const Y=`${_}-${W.name}`,J=(0,t.getXfaFontDict)(Y);N.push(ie.handleSetFont(E,[e.Name.get(Y),1],null,j,v,R,J,{fontFamily:_,fontWeight:W.fontWeight,italicAngle:W.italicAngle}).catch(function(ae){return(0,l.warn)(`loadXfaFonts: "${ae}".`),null}))}await Promise.all(N),this.xfaFactory.appendFonts(X,c)}async serializeXfaData(q){return this.xfaFactory?this.xfaFactory.serializeData(q):null}get version(){return this.catalog.version||this._version}get formInfo(){const q={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},v=this.catalog.acroForm;if(!v)return(0,l.shadow)(this,"formInfo",q);try{const x=v.get("Fields"),E=Array.isArray(x)&&x.length>0;q.hasFields=E;const U=v.get("XFA");q.hasXfa=Array.isArray(U)&&U.length>0||U instanceof H.BaseStream&&!U.isEmpty;const Q=!!(v.get("SigFlags")&1),ie=Q&&this._hasOnlyDocumentSignatures(x);q.hasAcroForm=E&&!ie,q.hasSignatures=Q}catch(x){if(x instanceof K.MissingDataException)throw x;(0,l.warn)(`Cannot fetch form information: "${x}".`)}return(0,l.shadow)(this,"formInfo",q)}get documentInfo(){const q={PDFFormatVersion:this.version,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let v;try{v=this.xref.trailer.get("Info")}catch(x){if(x instanceof K.MissingDataException)throw x;(0,l.info)("The document information dictionary is invalid.")}if(!(v instanceof e.Dict))return(0,l.shadow)(this,"documentInfo",q);for(const x of v.getKeys()){const E=v.get(x);switch(x){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof E=="string"){q[x]=(0,l.stringToPDFString)(E);continue}break;case"Trapped":if(E instanceof e.Name){q[x]=E;continue}break;default:let U;switch(typeof E){case"string":U=(0,l.stringToPDFString)(E);break;case"number":case"boolean":U=E;break;default:E instanceof e.Name&&(U=E);break}if(U===void 0){(0,l.warn)(`Bad value, for custom key "${x}", in Info: ${E}.`);continue}q.Custom||(q.Custom=Object.create(null)),q.Custom[x]=U;continue}(0,l.warn)(`Bad value, for key "${x}", in Info: ${E}.`)}return(0,l.shadow)(this,"documentInfo",q)}get fingerprints(){function q($){return typeof $=="string"&&$.length>0&&$!==k}function v($){const Q=[];for(const ie of $){const j=ie.toString(16);Q.push(j.padStart(2,"0"))}return Q.join("")}const x=this.xref.trailer.get("ID");let E,U;return Array.isArray(x)&&q(x[0])?(E=(0,l.stringToBytes)(x[0]),x[1]!==x[0]&&q(x[1])&&(U=(0,l.stringToBytes)(x[1]))):E=(0,z.calculateMD5)(this.stream.getByteRange(0,g),0,g),(0,l.shadow)(this,"fingerprints",[v(E),U?v(U):null])}async _getLinearizationPage(q){const{catalog:v,linearization:x,xref:E}=this,U=e.Ref.get(x.objectNumberFirst,0);try{const $=await E.fetchAsync(U);if($ instanceof e.Dict){let Q=$.getRaw("Type");if(Q instanceof e.Ref&&(Q=await E.fetchAsync(Q)),(0,e.isName)(Q,"Page")||!$.has("Type")&&!$.has("Kids"))return v.pageKidsCountCache.has(U)||v.pageKidsCountCache.put(U,1),v.pageIndexCache.has(U)||v.pageIndexCache.put(U,0),[$,U]}throw new l.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch($){return(0,l.warn)(`_getLinearizationPage: "${$.message}".`),v.getPageDict(q)}}getPage(q){const v=this._pagePromises.get(q);if(v)return v;const{catalog:x,linearization:E,xfaFactory:U}=this;let $;return U?$=Promise.resolve([e.Dict.empty,null]):(E==null?void 0:E.pageFirst)===q?$=this._getLinearizationPage(q):$=x.getPageDict(q),$=$.then(([Q,ie])=>new d({pdfManager:this.pdfManager,xref:this.xref,pageIndex:q,pageDict:Q,ref:ie,globalIdFactory:this._globalIdFactory,fontCache:x.fontCache,builtInCMapCache:x.builtInCMapCache,standardFontDataCache:x.standardFontDataCache,globalImageCache:x.globalImageCache,systemFontCache:x.systemFontCache,nonBlendModesSet:x.nonBlendModesSet,xfaFactory:U})),this._pagePromises.set(q,$),$}async checkFirstPage(q=!1){if(!q)try{await this.getPage(0)}catch(v){if(v instanceof K.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new K.XRefParseException}}async checkLastPage(q=!1){const{catalog:v,pdfManager:x}=this;v.setActualNumPages();let E;try{if(await Promise.all([x.ensureDoc("xfaFactory"),x.ensureDoc("linearization"),x.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?E=this.linearization.numPages:E=v.numPages,Number.isInteger(E)){if(E<=1)return}else throw new l.FormatError("Page count is not an integer.");await this.getPage(E-1)}catch(U){if(this._pagePromises.delete(E-1),await this.cleanup(),U instanceof K.XRefEntryException&&!q)throw new K.XRefParseException;(0,l.warn)(`checkLastPage - invalid /Pages tree /Count: ${E}.`);let $;try{$=await v.getAllPageDicts(q)}catch(Q){if(Q instanceof K.XRefEntryException&&!q)throw new K.XRefParseException;v.setActualNumPages(1);return}for(const[Q,[ie,j]]of $){let X;ie instanceof Error?(X=Promise.reject(ie),X.catch(()=>{})):X=Promise.resolve(new d({pdfManager:x,xref:this.xref,pageIndex:Q,pageDict:ie,ref:j,globalIdFactory:this._globalIdFactory,fontCache:v.fontCache,builtInCMapCache:v.builtInCMapCache,standardFontDataCache:v.standardFontDataCache,globalImageCache:v.globalImageCache,systemFontCache:v.systemFontCache,nonBlendModesSet:v.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(Q,X)}v.setActualNumPages($.size)}}fontFallback(q,v){return this.catalog.fontFallback(q,v)}async cleanup(q=!1){return this.catalog?this.catalog.cleanup(q):(0,I.clearGlobalCaches)()}_collectFieldObjects(q,v,x){const E=this.xref.fetchIfRef(v);if(E.has("T")){const U=(0,l.stringToPDFString)(E.get("T"));q===""?q=U:q=`${q}.${U}`}if(x.has(q)||x.set(q,[]),x.get(q).push(n.AnnotationFactory.create(this.xref,v,this.pdfManager,this._localIdFactory,!0).then(U=>U==null?void 0:U.getFieldObject()).catch(function(U){return(0,l.warn)(`_collectFieldObjects: "${U}".`),null})),E.has("Kids")){const U=E.get("Kids");for(const $ of U)this._collectFieldObjects(q,$,x)}}get fieldObjects(){if(!this.formInfo.hasFields)return(0,l.shadow)(this,"fieldObjects",Promise.resolve(null));const q=Object.create(null),v=new Map;for(const E of this.catalog.acroForm.get("Fields"))this._collectFieldObjects("",E,v);const x=[];for(const[E,U]of v)x.push(Promise.all(U).then($=>{$=$.filter(Q=>!!Q),$.length>0&&(q[E]=$)}));return(0,l.shadow)(this,"fieldObjects",Promise.all(x).then(()=>q))}get hasJSActions(){const q=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,l.shadow)(this,"hasJSActions",q)}async _parseHasJSActions(){const[q,v]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return q?!0:v?Object.values(v).some(x=>x.some(E=>E.actions!==null)):!1}get calculationOrderIds(){const q=this.catalog.acroForm;if(!(q!=null&&q.has("CO")))return(0,l.shadow)(this,"calculationOrderIds",null);const v=q.get("CO");if(!Array.isArray(v)||v.length===0)return(0,l.shadow)(this,"calculationOrderIds",null);const x=[];for(const E of v)E instanceof e.Ref&&x.push(E.toString());return x.length===0?(0,l.shadow)(this,"calculationOrderIds",null):(0,l.shadow)(this,"calculationOrderIds",x)}}S.PDFDocument=T},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.PopupAnnotation=S.MarkupAnnotation=S.AnnotationFactory=S.AnnotationBorderStyle=S.Annotation=void 0,S.getQuadPoints=y;var n=ee(2),l=ee(3),K=ee(11),e=ee(4),t=ee(66),H=ee(5),z=ee(60),G=ee(70),I=ee(12),C=ee(73),w=ee(76),i=ee(64),F=ee(8),B=ee(77);class u{static create(c,_,W,Y,J){return Promise.all([W.ensureCatalog("acroForm"),W.ensureCatalog("baseUrl"),W.ensureCatalog("attachments"),W.ensureDoc("xfaDatasets"),J?this._getPageIndex(c,_,W):-1]).then(([ae,oe,he,ne,re])=>W.ensure(this,"_create",[c,_,W,Y,ae,he,ne,J,re]))}static _create(c,_,W,Y,J,ae=null,oe,he,ne=-1){const re=c.fetchIfRef(_);if(!(re instanceof e.Dict))return;const de=_ instanceof e.Ref?_.toString():`annot_${Y.createObjId()}`;let ue=re.get("Subtype");ue=ue instanceof e.Name?ue.name:null;const ge=J instanceof e.Dict?J:e.Dict.empty,pe={xref:c,ref:_,dict:re,subtype:ue,id:de,pdfManager:W,acroForm:ge,attachments:ae,xfaDatasets:oe,collectFields:he,needAppearances:!he&&ge.get("NeedAppearances")===!0,pageIndex:ne,isOffscreenCanvasSupported:W.evaluatorOptions.isOffscreenCanvasSupported};switch(ue){case"Link":return new D(pe);case"Text":return new k(pe);case"Widget":let xe=(0,l.getInheritableProperty)({dict:re,key:"FT"});switch(xe=xe instanceof e.Name?xe.name:null,xe){case"Tx":return new A(pe);case"Btn":return new L(pe);case"Ch":return new h(pe);case"Sig":return new g(pe)}return(0,n.warn)(`Unimplemented widget field type "${xe}", falling back to base field type.`),new d(pe);case"Popup":return new T(pe);case"FreeText":return new V(pe);case"Line":return new q(pe);case"Square":return new v(pe);case"Circle":return new x(pe);case"PolyLine":return new E(pe);case"Polygon":return new U(pe);case"Caret":return new $(pe);case"Ink":return new Q(pe);case"Highlight":return new ie(pe);case"Underline":return new j(pe);case"Squiggly":return new X(pe);case"StrikeOut":return new R(pe);case"Stamp":return new Z(pe);case"FileAttachment":return new N(pe);default:return he||(ue?(0,n.warn)(`Unimplemented annotation type "${ue}", falling back to base annotation.`):(0,n.warn)("Annotation is missing the required /Subtype.")),new f(pe)}}static async _getPageIndex(c,_,W){try{const Y=await c.fetchIfRefAsync(_);if(!(Y instanceof e.Dict))return-1;const J=Y.getRaw("P");return J instanceof e.Ref?await W.ensureCatalog("getPageIndex",[J]):-1}catch(Y){return(0,n.warn)(`_getPageIndex: "${Y}".`),-1}}static async saveNewAnnotations(c,_,W){const Y=c.xref;let J;const ae=[],oe=[];for(const he of W)switch(he.annotationType){case n.AnnotationEditorType.FREETEXT:if(!J){const ne=new e.Dict(Y);ne.set("BaseFont",e.Name.get("Helvetica")),ne.set("Type",e.Name.get("Font")),ne.set("Subtype",e.Name.get("Type1")),ne.set("Encoding",e.Name.get("WinAnsiEncoding"));const re=[];J=Y.getNewTemporaryRef(),await(0,t.writeObject)(J,ne,re,null),ae.push({ref:J,data:re.join("")})}oe.push(V.createNewAnnotation(Y,he,ae,{evaluator:c,task:_,baseFontRef:J}));break;case n.AnnotationEditorType.INK:oe.push(Q.createNewAnnotation(Y,he,ae))}return{annotations:await Promise.all(oe),dependencies:ae}}static async printNewAnnotations(c,_,W){if(!W)return null;const Y=c.xref,{isOffscreenCanvasSupported:J}=c.options,ae=[];for(const oe of W)switch(oe.annotationType){case n.AnnotationEditorType.FREETEXT:ae.push(V.createNewPrintAnnotation(Y,oe,{evaluator:c,task:_,isOffscreenCanvasSupported:J}));break;case n.AnnotationEditorType.INK:ae.push(Q.createNewPrintAnnotation(Y,oe,{isOffscreenCanvasSupported:J}));break}return Promise.all(ae)}}S.AnnotationFactory=u;function s(M,c=new Uint8ClampedArray(3)){if(!Array.isArray(M))return c;const _=c||new Uint8ClampedArray(3);switch(M.length){case 0:return null;case 1:return I.ColorSpace.singletons.gray.getRgbItem(M,0,_,0),_;case 3:return I.ColorSpace.singletons.rgb.getRgbItem(M,0,_,0),_;case 4:return I.ColorSpace.singletons.cmyk.getRgbItem(M,0,_,0),_;default:return c}}function o(M){return Array.from(M,c=>c/255)}function y(M,c){const _=M.getArray("QuadPoints");if(!Array.isArray(_)||_.length===0||_.length%8>0)return null;const W=[];for(let Y=0,J=_.length/8;Y<J;Y++){let ae=1/0,oe=-1/0,he=1/0,ne=-1/0;for(let re=Y*8,de=Y*8+8;re<de;re+=2){const ue=_[re],ge=_[re+1];ae=Math.min(ue,ae),oe=Math.max(ue,oe),he=Math.min(ge,he),ne=Math.max(ge,ne)}if(c!==null&&(ae<c[0]||oe>c[2]||he<c[1]||ne>c[3]))return null;W.push([{x:ae,y:ne},{x:oe,y:ne},{x:ae,y:he},{x:oe,y:he}])}return W}function r(M,c,_){const[W,Y,J,ae]=n.Util.getAxialAlignedBoundingBox(c,_);if(W===J||Y===ae)return[1,0,0,1,M[0],M[1]];const oe=(M[2]-M[0])/(J-W),he=(M[3]-M[1])/(ae-Y);return[oe,0,0,he,M[0]-W*oe,M[1]-Y*he]}class f{constructor(c){const{dict:_,xref:W}=c;this.setTitle(_.get("T")),this.setContents(_.get("Contents")),this.setModificationDate(_.get("M")),this.setFlags(_.get("F")),this.setRectangle(_.getArray("Rect")),this.setColor(_.getArray("C")),this.setBorderStyle(_),this.setAppearance(_),this.setOptionalContent(_);const Y=_.get("MK");this.setBorderAndBackgroundColors(Y),this.setRotation(Y),this._streams=[],this.appearance&&this._streams.push(this.appearance);const J=!!(this.flags&n.AnnotationFlag.LOCKED),ae=!!(this.flags&n.AnnotationFlag.LOCKEDCONTENTS);if(this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:c.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:c.subtype,hasOwnCanvas:!1,noRotate:!!(this.flags&n.AnnotationFlag.NOROTATE),noHTML:J&&ae},c.collectFields){const oe=_.get("Kids");if(Array.isArray(oe)){const he=[];for(const ne of oe)ne instanceof e.Ref&&he.push(ne.toString());he.length!==0&&(this.data.kidIds=he)}this.data.actions=(0,l.collectActions)(W,_,n.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(_),this.data.pageIndex=c.pageIndex}this._isOffscreenCanvasSupported=c.isOffscreenCanvasSupported,this._fallbackFontDict=null,this._needAppearances=!1}_hasFlag(c,_){return!!(c&_)}_isViewable(c){return!this._hasFlag(c,n.AnnotationFlag.INVISIBLE)&&!this._hasFlag(c,n.AnnotationFlag.NOVIEW)}_isPrintable(c){return this._hasFlag(c,n.AnnotationFlag.PRINT)&&!this._hasFlag(c,n.AnnotationFlag.INVISIBLE)}mustBeViewed(c){var W;const _=(W=c==null?void 0:c.get(this.data.id))==null?void 0:W.hidden;return _!==void 0?!_:this.viewable&&!this._hasFlag(this.flags,n.AnnotationFlag.HIDDEN)}mustBePrinted(c){var W;const _=(W=c==null?void 0:c.get(this.data.id))==null?void 0:W.print;return _!==void 0?_:this.printable}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper(c){const _=typeof c=="string"?(0,n.stringToPDFString)(c):"",W=_&&(0,z.bidi)(_).dir==="rtl"?"rtl":"ltr";return{str:_,dir:W}}setDefaultAppearance(c){const _=(0,l.getInheritableProperty)({dict:c.dict,key:"DA"})||c.acroForm.get("DA");this._defaultAppearance=typeof _=="string"?_:"",this.data.defaultAppearanceData=(0,K.parseDefaultAppearance)(this._defaultAppearance)}setTitle(c){this._title=this._parseStringHelper(c)}setContents(c){this._contents=this._parseStringHelper(c)}setModificationDate(c){this.modificationDate=typeof c=="string"?c:null}setFlags(c){this.flags=Number.isInteger(c)&&c>0?c:0}hasFlag(c){return this._hasFlag(this.flags,c)}setRectangle(c){Array.isArray(c)&&c.length===4?this.rectangle=n.Util.normalizeRect(c):this.rectangle=[0,0,0,0]}setColor(c){this.color=s(c)}setLineEndings(c){if(this.lineEndings=["None","None"],Array.isArray(c)&&c.length===2)for(let _=0;_<2;_++){const W=c[_];if(W instanceof e.Name)switch(W.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[_]=W.name;continue}(0,n.warn)(`Ignoring invalid lineEnding: ${W}`)}}setRotation(c){if(this.rotation=0,c instanceof e.Dict){let _=c.get("R")||0;Number.isInteger(_)&&_!==0&&(_%=360,_<0&&(_+=360),_%90===0&&(this.rotation=_))}}setBorderAndBackgroundColors(c){c instanceof e.Dict?(this.borderColor=s(c.getArray("BC"),null),this.backgroundColor=s(c.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(c){if(this.borderStyle=new m,c instanceof e.Dict)if(c.has("BS")){const _=c.get("BS"),W=_.get("Type");(!W||(0,e.isName)(W,"Border"))&&(this.borderStyle.setWidth(_.get("W"),this.rectangle),this.borderStyle.setStyle(_.get("S")),this.borderStyle.setDashArray(_.getArray("D")))}else if(c.has("Border")){const _=c.getArray("Border");Array.isArray(_)&&_.length>=3&&(this.borderStyle.setHorizontalCornerRadius(_[0]),this.borderStyle.setVerticalCornerRadius(_[1]),this.borderStyle.setWidth(_[2],this.rectangle),_.length===4&&this.borderStyle.setDashArray(_[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(c){this.appearance=null;const _=c.get("AP");if(!(_ instanceof e.Dict))return;const W=_.get("N");if(W instanceof H.BaseStream){this.appearance=W;return}if(!(W instanceof e.Dict))return;const Y=c.get("AS");if(!(Y instanceof e.Name)||!W.has(Y.name))return;const J=W.get(Y.name);J instanceof H.BaseStream&&(this.appearance=J)}setOptionalContent(c){this.oc=null;const _=c.get("OC");_ instanceof e.Name?(0,n.warn)("setOptionalContent: Support for /Name-entry is not implemented."):_ instanceof e.Dict&&(this.oc=_)}loadResources(c,_){return _.dict.getAsync("Resources").then(W=>W?new w.ObjectLoader(W,c,W.xref).load().then(function(){return W}):void 0)}async getOperatorList(c,_,W,Y,J){const ae=this.data;let oe=this.appearance;const he=!!(this.data.hasOwnCanvas&&W&n.RenderingIntentFlag.DISPLAY);if(!oe){if(!he)return{opList:new i.OperatorList,separateForm:!1,separateCanvas:!1};oe=new F.StringStream(""),oe.dict=new e.Dict}const ne=oe.dict,re=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],oe),de=ne.getArray("BBox")||[0,0,1,1],ue=ne.getArray("Matrix")||[1,0,0,1,0,0],ge=r(ae.rect,de,ue),pe=new i.OperatorList;let xe;return this.oc&&(xe=await c.parseMarkedContentProps(this.oc,null)),xe!==void 0&&pe.addOp(n.OPS.beginMarkedContentProps,["OC",xe]),pe.addOp(n.OPS.beginAnnotation,[ae.id,ae.rect,ge,ue,he]),await c.getOperatorList({stream:oe,task:_,resources:re,operatorList:pe,fallbackFontDict:this._fallbackFontDict}),pe.addOp(n.OPS.endAnnotation,[]),xe!==void 0&&pe.addOp(n.OPS.endMarkedContent,[]),this.reset(),{opList:pe,separateForm:!1,separateCanvas:he}}async save(c,_,W){return null}get hasTextContent(){return!1}async extractTextContent(c,_,W){if(!this.appearance)return;const Y=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),J=[],ae=[],oe={desiredSize:Math.Infinity,ready:!0,enqueue(he,ne){for(const re of he.items)ae.push(re.str),re.hasEOL&&(J.push(ae.join("")),ae.length=0)}};await c.getTextContent({stream:this.appearance,task:_,resources:Y,includeMarkedContent:!0,sink:oe,viewBox:W}),this.reset(),ae.length&&J.push(ae.join("")),J.length>0&&(this.data.textContent=J)}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const c of this._streams)c.reset()}_constructFieldName(c){if(!c.has("T")&&!c.has("Parent"))return(0,n.warn)("Unknown field name, falling back to empty field name."),"";if(!c.has("Parent"))return(0,n.stringToPDFString)(c.get("T"));const _=[];c.has("T")&&_.unshift((0,n.stringToPDFString)(c.get("T")));let W=c;const Y=new e.RefSet;for(c.objId&&Y.put(c.objId);W.has("Parent")&&(W=W.get("Parent"),!(!(W instanceof e.Dict)||W.objId&&Y.has(W.objId)));)if(W.objId&&Y.put(W.objId),W.has("T")){const J=(0,n.stringToPDFString)(W.get("T"));J.startsWith("#")||_.unshift(J)}return _.join(".")}}S.Annotation=f;class m{constructor(){this.width=1,this.style=n.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(c,_=[0,0,0,0]){if(c instanceof e.Name){this.width=0;return}if(typeof c=="number"){if(c>0){const W=(_[2]-_[0])/2,Y=(_[3]-_[1])/2;W>0&&Y>0&&(c>W||c>Y)&&((0,n.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${c}`),c=1)}this.width=c}}setStyle(c){if(c instanceof e.Name)switch(c.name){case"S":this.style=n.AnnotationBorderStyleType.SOLID;break;case"D":this.style=n.AnnotationBorderStyleType.DASHED;break;case"B":this.style=n.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=n.AnnotationBorderStyleType.INSET;break;case"U":this.style=n.AnnotationBorderStyleType.UNDERLINE;break}}setDashArray(c,_=!1){if(Array.isArray(c)&&c.length>0){let W=!0,Y=!0;for(const J of c)if(+J>=0)J>0&&(Y=!1);else{W=!1;break}W&&!Y?(this.dashArray=c,_&&this.setStyle(e.Name.get("D"))):this.width=0}else c&&(this.width=0)}setHorizontalCornerRadius(c){Number.isInteger(c)&&(this.horizontalCornerRadius=c)}setVerticalCornerRadius(c){Number.isInteger(c)&&(this.verticalCornerRadius=c)}}S.AnnotationBorderStyle=m;class P extends f{constructor(c){super(c);const{dict:_}=c;if(_.has("IRT")){const W=_.getRaw("IRT");this.data.inReplyTo=W instanceof e.Ref?W.toString():null;const Y=_.get("RT");this.data.replyType=Y instanceof e.Name?Y.name:n.AnnotationReplyType.REPLY}if(this.data.replyType===n.AnnotationReplyType.GROUP){const W=_.get("IRT");this.setTitle(W.get("T")),this.data.titleObj=this._title,this.setContents(W.get("Contents")),this.data.contentsObj=this._contents,W.has("CreationDate")?(this.setCreationDate(W.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,W.has("M")?(this.setModificationDate(W.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,this.data.hasPopup=W.has("Popup"),W.has("C")?(this.setColor(W.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(_.get("CreationDate")),this.data.creationDate=this.creationDate,this.data.hasPopup=_.has("Popup"),_.has("C")||(this.data.color=null);_.has("RC")&&(this.data.richText=B.XFAFactory.getRichTextAsHtml(_.get("RC")))}setCreationDate(c){this.creationDate=typeof c=="string"?c:null}_setDefaultAppearance({xref:c,extra:_,strokeColor:W,fillColor:Y,blendMode:J,strokeAlpha:ae,fillAlpha:oe,pointsCallback:he}){let ne=Number.MAX_VALUE,re=Number.MAX_VALUE,de=Number.MIN_VALUE,ue=Number.MIN_VALUE;const ge=["q"];_&&ge.push(_),W&&ge.push(`${W[0]} ${W[1]} ${W[2]} RG`),Y&&ge.push(`${Y[0]} ${Y[1]} ${Y[2]} rg`);let pe=this.data.quadPoints;pe||(pe=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const Re of pe){const[Pe,ve,Te,je]=he(ge,Re);ne=Math.min(ne,Pe),de=Math.max(de,ve),re=Math.min(re,Te),ue=Math.max(ue,je)}ge.push("Q");const xe=new e.Dict(c),Ie=new e.Dict(c);Ie.set("Subtype",e.Name.get("Form"));const Fe=new F.StringStream(ge.join(" "));Fe.dict=Ie,xe.set("Fm0",Fe);const Ae=new e.Dict(c);J&&Ae.set("BM",e.Name.get(J)),typeof ae=="number"&&Ae.set("CA",ae),typeof oe=="number"&&Ae.set("ca",oe);const we=new e.Dict(c);we.set("GS0",Ae);const be=new e.Dict(c);be.set("ExtGState",we),be.set("XObject",xe);const Ee=new e.Dict(c);Ee.set("Resources",be);const _e=this.data.rect=[ne,re,de,ue];Ee.set("BBox",_e),this.appearance=new F.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=Ee,this._streams.push(this.appearance,Fe)}static async createNewAnnotation(c,_,W,Y){const J=c.getNewTemporaryRef(),ae=await this.createNewAppearanceStream(_,c,Y),oe=[];let he;if(ae){const re=c.getNewTemporaryRef();he=this.createNewDict(_,c,{apRef:re});const de=c.encrypt?c.encrypt.createCipherTransform(re.num,re.gen):null;await(0,t.writeObject)(re,ae,oe,de),W.push({ref:re,data:oe.join("")})}else he=this.createNewDict(_,c,{});oe.length=0;const ne=c.encrypt?c.encrypt.createCipherTransform(J.num,J.gen):null;return await(0,t.writeObject)(J,he,oe,ne),{ref:J,data:oe.join("")}}static async createNewPrintAnnotation(c,_,W){const Y=await this.createNewAppearanceStream(_,c,W),J=this.createNewDict(_,c,{ap:Y});return new this.prototype.constructor({dict:J,xref:c,isOffscreenCanvasSupported:W.isOffscreenCanvasSupported})}}S.MarkupAnnotation=P;class d extends f{constructor(c){var de;super(c);const{dict:_,xref:W}=c,Y=this.data;this.ref=c.ref,this._needAppearances=c.needAppearances,Y.annotationType=n.AnnotationType.WIDGET,Y.fieldName===void 0&&(Y.fieldName=this._constructFieldName(_)),Y.actions===void 0&&(Y.actions=(0,l.collectActions)(W,_,n.AnnotationActionEventType));let J=(0,l.getInheritableProperty)({dict:_,key:"V",getArray:!0});Y.fieldValue=this._decodeFormValue(J);const ae=(0,l.getInheritableProperty)({dict:_,key:"DV",getArray:!0});if(Y.defaultFieldValue=this._decodeFormValue(ae),J===void 0&&c.xfaDatasets){const ue=this._title.str;ue&&(this._hasValueFromXFA=!0,Y.fieldValue=J=c.xfaDatasets.getValue(ue))}J===void 0&&Y.defaultFieldValue!==null&&(Y.fieldValue=Y.defaultFieldValue),Y.alternativeText=(0,n.stringToPDFString)(_.get("TU")||""),this.setDefaultAppearance(c),Y.hasAppearance||(Y.hasAppearance=this._needAppearances&&Y.fieldValue!==void 0&&Y.fieldValue!==null);const oe=(0,l.getInheritableProperty)({dict:_,key:"FT"});Y.fieldType=oe instanceof e.Name?oe.name:null;const he=(0,l.getInheritableProperty)({dict:_,key:"DR"}),ne=c.acroForm.get("DR"),re=(de=this.appearance)==null?void 0:de.dict.get("Resources");this._fieldResources={localResources:he,acroFormResources:ne,appearanceResources:re,mergedResources:e.Dict.merge({xref:W,dictArray:[he,re,ne],mergeSubDicts:!0})},Y.fieldFlags=(0,l.getInheritableProperty)({dict:_,key:"Ff"}),(!Number.isInteger(Y.fieldFlags)||Y.fieldFlags<0)&&(Y.fieldFlags=0),Y.readOnly=this.hasFieldFlag(n.AnnotationFieldFlag.READONLY),Y.required=this.hasFieldFlag(n.AnnotationFieldFlag.REQUIRED),Y.hidden=this._hasFlag(Y.annotationFlags,n.AnnotationFlag.HIDDEN)}_decodeFormValue(c){return Array.isArray(c)?c.filter(_=>typeof _=="string").map(_=>(0,n.stringToPDFString)(_)):c instanceof e.Name?(0,n.stringToPDFString)(c.name):typeof c=="string"?(0,n.stringToPDFString)(c):null}hasFieldFlag(c){return!!(this.data.fieldFlags&c)}getRotationMatrix(c){var J;let _=(J=c==null?void 0:c.get(this.data.id))==null?void 0:J.rotation;if(_===void 0&&(_=this.rotation),_===0)return n.IDENTITY_MATRIX;const W=this.data.rect[2]-this.data.rect[0],Y=this.data.rect[3]-this.data.rect[1];return(0,l.getRotationMatrix)(_,W,Y)}getBorderAndBackgroundAppearances(c){var oe;let _=(oe=c==null?void 0:c.get(this.data.id))==null?void 0:oe.rotation;if(_===void 0&&(_=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const W=this.data.rect[2]-this.data.rect[0],Y=this.data.rect[3]-this.data.rect[1],J=_===0||_===180?`0 0 ${W} ${Y} re`:`0 0 ${Y} ${W} re`;let ae="";if(this.backgroundColor&&(ae=`${(0,K.getPdfColor)(this.backgroundColor,!0)} ${J} f `),this.borderColor){const he=this.borderStyle.width||1;ae+=`${he} w ${(0,K.getPdfColor)(this.borderColor,!1)} ${J} S `}return ae}async getOperatorList(c,_,W,Y,J){if(Y&&!(this instanceof g)&&!this.data.noHTML&&!this.data.hasOwnCanvas)return{opList:new i.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(c,_,W,Y,J);const ae=await this._getAppearance(c,_,W,J);if(this.appearance&&ae===null)return super.getOperatorList(c,_,W,Y,J);const oe=new i.OperatorList;if(!this._defaultAppearance||ae===null)return{opList:oe,separateForm:!1,separateCanvas:!1};const he=[1,0,0,1,0,0],ne=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],re=r(this.data.rect,ne,he);let de;this.oc&&(de=await c.parseMarkedContentProps(this.oc,null)),de!==void 0&&oe.addOp(n.OPS.beginMarkedContentProps,["OC",de]),oe.addOp(n.OPS.beginAnnotation,[this.data.id,this.data.rect,re,this.getRotationMatrix(J),!1]);const ue=new F.StringStream(ae);return await c.getOperatorList({stream:ue,task:_,resources:this._fieldResources.mergedResources,operatorList:oe}),oe.addOp(n.OPS.endAnnotation,[]),de!==void 0&&oe.addOp(n.OPS.endMarkedContent,[]),{opList:oe,separateForm:!1,separateCanvas:!1}}_getMKDict(c){const _=new e.Dict(null);return c&&_.set("R",c),this.borderColor&&_.set("BC",o(this.borderColor)),this.backgroundColor&&_.set("BG",o(this.backgroundColor)),_.size>0?_:null}amendSavedDict(c,_){}async save(c,_,W){const Y=W==null?void 0:W.get(this.data.id);let J=Y==null?void 0:Y.value,ae=Y==null?void 0:Y.rotation;if(J===this.data.fieldValue||J===void 0){if(!this._hasValueFromXFA&&ae===void 0)return null;J||(J=this.data.fieldValue)}if(ae===void 0&&!this._hasValueFromXFA&&Array.isArray(J)&&Array.isArray(this.data.fieldValue)&&J.length===this.data.fieldValue.length&&J.every((we,be)=>we===this.data.fieldValue[be]))return null;ae===void 0&&(ae=this.rotation);let oe=null;if(!this._needAppearances&&(oe=await this._getAppearance(c,_,n.RenderingIntentFlag.SAVE,W),oe===null))return null;let he=!1;oe!=null&&oe.needAppearances&&(he=!0,oe=null);const{xref:ne}=c,re=ne.fetchIfRef(this.ref);if(!(re instanceof e.Dict))return null;const de=new e.Dict(ne);for(const we of re.getKeys())we!=="AP"&&de.set(we,re.getRaw(we));const ue={path:this.data.fieldName,value:J},ge=we=>(0,l.isAscii)(we)?we:(0,l.stringToUTF16String)(we,!0);de.set("V",Array.isArray(J)?J.map(ge):ge(J)),this.amendSavedDict(W,de);const pe=this._getMKDict(ae);pe&&de.set("MK",pe);const xe=ne.encrypt,Ie=xe?xe.createCipherTransform(this.ref.num,this.ref.gen):null,Fe=[],Ae=[{ref:this.ref,data:"",xfa:ue,needAppearances:he}];if(oe!==null){const we=ne.getNewTemporaryRef(),be=new e.Dict(ne);de.set("AP",be),be.set("N",we);let Ee=null;xe&&(Ee=xe.createCipherTransform(we.num,we.gen));const _e=this._getSaveFieldResources(ne),Re=new F.StringStream(oe),Pe=Re.dict=new e.Dict(ne);Pe.set("Subtype",e.Name.get("Form")),Pe.set("Resources",_e),Pe.set("BBox",[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]]);const ve=this.getRotationMatrix(W);ve!==n.IDENTITY_MATRIX&&Pe.set("Matrix",ve),await(0,t.writeObject)(we,Re,Fe,Ee),Ae.push({ref:we,data:Fe.join(""),xfa:null,needAppearances:!1}),Fe.length=0}return de.set("M",`D:${(0,n.getModificationDate)()}`),await(0,t.writeObject)(this.ref,de,Fe,Ie),Ae[0].data=Fe.join(""),Ae}async _getAppearance(c,_,W,Y){if(this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD))return null;const ae=Y==null?void 0:Y.get(this.data.id);let oe,he;if(ae&&(oe=ae.formattedValue||ae.value,he=ae.rotation),he===void 0&&oe===void 0&&!this._needAppearances&&(!this._hasValueFromXFA||this.appearance))return null;const ne=this.getBorderAndBackgroundAppearances(Y);if(oe===void 0&&(oe=this.data.fieldValue,!oe))return`/Tx BMC q ${ne}Q EMC`;if(Array.isArray(oe)&&oe.length===1&&(oe=oe[0]),(0,n.assert)(typeof oe=="string","Expected `value` to be a string."),oe=oe.trim(),this.data.combo){const Ce=this.data.options.find(({exportValue:ke})=>oe===ke);oe=(Ce==null?void 0:Ce.displayValue)||oe}if(oe==="")return`/Tx BMC q ${ne}Q EMC`;he===void 0&&(he=this.rotation);let re=-1,de;this.data.multiLine?(de=oe.split(/\r\n?|\n/).map(Ce=>Ce.normalize("NFC")),re=de.length):de=[oe.replace(/\r\n?|\n/,"").normalize("NFC")];const ue=1,ge=2;let pe=this.data.rect[3]-this.data.rect[1],xe=this.data.rect[2]-this.data.rect[0];(he===90||he===270)&&([xe,pe]=[pe,xe]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,K.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));let Ie=await d._getFontData(c,_,this.data.defaultAppearanceData,this._fieldResources.mergedResources),Fe,Ae,we;const be=[];let Ee=!1;for(const Ce of de){const ke=Ie.encodeString(Ce);ke.length>1&&(Ee=!0),be.push(ke.join(""))}if(Ee&&W&n.RenderingIntentFlag.SAVE)return{needAppearances:!0};if(Ee&&this._isOffscreenCanvasSupported){const Ce=this.data.comb?"monospace":"sans-serif",ke=new K.FakeUnicodeFont(c.xref,Ce),Le=ke.createFontResources(de.join("")),Ge=Le.getRaw("Font");if(this._fieldResources.mergedResources.has("Font")){const Ye=this._fieldResources.mergedResources.get("Font");for(const et of Ge.getKeys())Ye.set(et,Ge.getRaw(et))}else this._fieldResources.mergedResources.set("Font",Ge);const Oe=ke.fontName.name;Ie=await d._getFontData(c,_,{fontName:Oe,fontSize:0},Le);for(let Ye=0,et=be.length;Ye<et;Ye++)be[Ye]=(0,l.stringToUTF16String)(de[Ye]);const tt=Object.assign(Object.create(null),this.data.defaultAppearanceData);this.data.defaultAppearanceData.fontSize=0,this.data.defaultAppearanceData.fontName=Oe,[Fe,Ae,we]=this._computeFontSize(pe-2*ue,xe-2*ge,oe,Ie,re),this.data.defaultAppearanceData=tt}else this._isOffscreenCanvasSupported||(0,n.warn)("_getAppearance: OffscreenCanvas is not supported, annotation may not render correctly."),[Fe,Ae,we]=this._computeFontSize(pe-2*ue,xe-2*ge,oe,Ie,re);let _e=Ie.descent;isNaN(_e)?_e=n.BASELINE_FACTOR*we:_e=Math.max(n.BASELINE_FACTOR*we,Math.abs(_e)*Ae);const Re=Math.min(Math.floor((pe-Ae)/2),ue),Pe=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(Fe,be,Ie,Ae,xe,pe,Pe,ge,Re,_e,we,Y);if(this.data.comb)return this._getCombAppearance(Fe,Ie,be[0],Ae,xe,pe,ge,Re,_e,we,Y);const ve=Re+_e;if(Pe===0||Pe>2)return`/Tx BMC q ${ne}BT `+Fe+` 1 0 0 1 ${(0,l.numberToString)(ge)} ${(0,l.numberToString)(ve)} Tm (${(0,l.escapeString)(be[0])}) Tj ET Q EMC`;const Te={shift:0},je=this._renderText(be[0],Ie,Ae,xe,Pe,Te,ge,ve);return`/Tx BMC q ${ne}BT `+Fe+` 1 0 0 1 0 0 Tm ${je} ET Q EMC`}static async _getFontData(c,_,W,Y){const J=new i.OperatorList,ae={font:null,clone(){return this}},{fontName:oe,fontSize:he}=W;return await c.handleSetFont(Y,[oe&&e.Name.get(oe),he],null,J,_,ae,null),ae.font}_getTextWidth(c,_){return _.charsToGlyphs(c).reduce((W,Y)=>W+Y.width,0)/1e3}_computeFontSize(c,_,W,Y,J){let{fontSize:ae}=this.data.defaultAppearanceData,oe=(ae||12)*n.LINE_FACTOR,he=Math.round(c/oe);if(!ae){const ne=ue=>Math.floor(ue*100)/100;if(J===-1){const ue=this._getTextWidth(W,Y);ae=ne(Math.min(c/n.LINE_FACTOR,ue>_?_/ue:1/0)),he=1}else{const ue=W.split(/\r\n?|\n/),ge=[];for(const xe of ue){const Ie=Y.encodeString(xe).join(""),Fe=Y.charsToGlyphs(Ie),Ae=Y.getCharPositions(Ie);ge.push({line:Ie,glyphs:Fe,positions:Ae})}const pe=xe=>{let Ie=0;for(const Fe of ge){const Ae=this._splitLine(null,Y,xe,_,Fe);if(Ie+=Ae.length*xe,Ie>c)return!0}return!1};for(he=Math.max(he,J);;){if(oe=c/he,ae=ne(oe/n.LINE_FACTOR),pe(ae)){he++;continue}break}}const{fontName:re,fontColor:de}=this.data.defaultAppearanceData;this._defaultAppearance=(0,K.createDefaultAppearance)({fontSize:ae,fontName:re,fontColor:de})}return[this._defaultAppearance,ae,c/he]}_renderText(c,_,W,Y,J,ae,oe,he){let ne;if(J===1){const de=this._getTextWidth(c,_)*W;ne=(Y-de)/2}else if(J===2){const de=this._getTextWidth(c,_)*W;ne=Y-de-oe}else ne=oe;const re=(0,l.numberToString)(ne-ae.shift);return ae.shift=ne,he=(0,l.numberToString)(he),`${re} ${he} Td (${(0,l.escapeString)(c)}) Tj`}_getSaveFieldResources(c){var ae;const{localResources:_,appearanceResources:W,acroFormResources:Y}=this._fieldResources,J=(ae=this.data.defaultAppearanceData)==null?void 0:ae.fontName;if(!J)return _||e.Dict.empty;for(const oe of[_,W])if(oe instanceof e.Dict){const he=oe.get("Font");if(he instanceof e.Dict&&he.has(J))return oe}if(Y instanceof e.Dict){const oe=Y.get("Font");if(oe instanceof e.Dict&&oe.has(J)){const he=new e.Dict(c);he.set(J,oe.getRaw(J));const ne=new e.Dict(c);return ne.set("Font",he),e.Dict.merge({xref:c,dictArray:[ne,_],mergeSubDicts:!0})}}return _||e.Dict.empty}getFieldObject(){return null}}class A extends d{constructor(c){super(c),this.data.hasOwnCanvas=this.data.readOnly&&!this.data.noHTML,this._hasText=!0;const _=c.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let W=(0,l.getInheritableProperty)({dict:_,key:"Q"});(!Number.isInteger(W)||W<0||W>2)&&(W=null),this.data.textAlignment=W;let Y=(0,l.getInheritableProperty)({dict:_,key:"MaxLen"});(!Number.isInteger(Y)||Y<0)&&(Y=0),this.data.maxLen=Y,this.data.multiLine=this.hasFieldFlag(n.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(n.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(n.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(n.AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(n.AnnotationFieldFlag.DONOTSCROLL)}get hasTextContent(){return!!this.appearance}_getCombAppearance(c,_,W,Y,J,ae,oe,he,ne,re,de){const ue=J/this.data.maxLen,ge=this.getBorderAndBackgroundAppearances(de),pe=[],xe=_.getCharPositions(W);for(const[Fe,Ae]of xe)pe.push(`(${(0,l.escapeString)(W.substring(Fe,Ae))}) Tj`);const Ie=pe.join(` ${(0,l.numberToString)(ue)} 0 Td `);return`/Tx BMC q ${ge}BT `+c+` 1 0 0 1 ${(0,l.numberToString)(oe)} ${(0,l.numberToString)(he+ne)} Tm ${Ie} ET Q EMC`}_getMultilineAppearance(c,_,W,Y,J,ae,oe,he,ne,re,de,ue){const ge=[],pe=J-2*he,xe={shift:0};for(let Ae=0,we=_.length;Ae<we;Ae++){const be=_[Ae],Ee=this._splitLine(be,W,Y,pe);for(let _e=0,Re=Ee.length;_e<Re;_e++){const Pe=Ee[_e],ve=Ae===0&&_e===0?-ne-(de-re):-de;ge.push(this._renderText(Pe,W,Y,J,oe,xe,he,ve))}}const Ie=this.getBorderAndBackgroundAppearances(ue),Fe=ge.join(`
`);return`/Tx BMC q ${Ie}BT `+c+` 1 0 0 1 0 ${(0,l.numberToString)(ae)} Tm ${Fe} ET Q EMC`}_splitLine(c,_,W,Y,J={}){c=J.line||c;const ae=J.glyphs||_.charsToGlyphs(c);if(ae.length<=1)return[c];const oe=J.positions||_.getCharPositions(c),he=W/1e3,ne=[];let re=-1,de=-1,ue=-1,ge=0,pe=0;for(let xe=0,Ie=ae.length;xe<Ie;xe++){const[Fe,Ae]=oe[xe],we=ae[xe],be=we.width*he;we.unicode===" "?pe+be>Y?(ne.push(c.substring(ge,Fe)),ge=Fe,pe=be,re=-1,ue=-1):(pe+=be,re=Fe,de=Ae,ue=xe):pe+be>Y?re!==-1?(ne.push(c.substring(ge,de)),ge=de,xe=ue+1,re=-1,pe=0):(ne.push(c.substring(ge,Fe)),ge=Fe,pe=be):pe+=be}return ge<c.length&&ne.push(c.substring(ge,c.length)),ne}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class L extends d{constructor(c){super(c),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(n.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(n.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(c):this.data.radioButton?this._processRadioButton(c):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(c)):(0,n.warn)("Invalid field flags for button widget annotation")}async getOperatorList(c,_,W,Y,J){if(this.data.pushButton)return super.getOperatorList(c,_,W,!1,J);let ae=null,oe=null;if(J){const ne=J.get(this.data.id);ae=ne?ne.value:null,oe=ne?ne.rotation:null}if(ae===null&&this.appearance)return super.getOperatorList(c,_,W,Y,J);ae==null&&(this.data.checkBox?ae=this.data.fieldValue===this.data.exportValue:ae=this.data.fieldValue===this.data.buttonValue);const he=ae?this.checkedAppearance:this.uncheckedAppearance;if(he){const ne=this.appearance,re=he.dict.getArray("Matrix")||n.IDENTITY_MATRIX;oe&&he.dict.set("Matrix",this.getRotationMatrix(J)),this.appearance=he;const de=super.getOperatorList(c,_,W,Y,J);return this.appearance=ne,he.dict.set("Matrix",re),de}return{opList:new i.OperatorList,separateForm:!1,separateCanvas:!1}}async save(c,_,W){return this.data.checkBox?this._saveCheckbox(c,_,W):this.data.radioButton?this._saveRadioButton(c,_,W):null}async _saveCheckbox(c,_,W){if(!W)return null;const Y=W.get(this.data.id);let J=Y==null?void 0:Y.rotation,ae=Y==null?void 0:Y.value;if(J===void 0&&(ae===void 0||this.data.fieldValue===this.data.exportValue===ae))return null;const oe=c.xref.fetchIfRef(this.ref);if(!(oe instanceof e.Dict))return null;J===void 0&&(J=this.rotation),ae===void 0&&(ae=this.data.fieldValue===this.data.exportValue);const he={path:this.data.fieldName,value:ae?this.data.exportValue:""},ne=e.Name.get(ae?this.data.exportValue:"Off");oe.set("V",ne),oe.set("AS",ne),oe.set("M",`D:${(0,n.getModificationDate)()}`);const re=this._getMKDict(J);re&&oe.set("MK",re);const de=c.xref.encrypt;let ue=null;de&&(ue=de.createCipherTransform(this.ref.num,this.ref.gen));const ge=[`${this.ref.num} ${this.ref.gen} obj
`];return await(0,t.writeDict)(oe,ge,ue),ge.push(`
endobj
`),[{ref:this.ref,data:ge.join(""),xfa:he}]}async _saveRadioButton(c,_,W){if(!W)return null;const Y=W.get(this.data.id);let J=Y==null?void 0:Y.rotation,ae=Y==null?void 0:Y.value;if(J===void 0&&(ae===void 0||this.data.fieldValue===this.data.buttonValue===ae))return null;const oe=c.xref.fetchIfRef(this.ref);if(!(oe instanceof e.Dict))return null;ae===void 0&&(ae=this.data.fieldValue===this.data.buttonValue),J===void 0&&(J=this.rotation);const he={path:this.data.fieldName,value:ae?this.data.buttonValue:""},ne=e.Name.get(ae?this.data.buttonValue:"Off");let re=null;const de=c.xref.encrypt;if(ae)if(this.parent instanceof e.Ref){const Ie=c.xref.fetch(this.parent);let Fe=null;de&&(Fe=de.createCipherTransform(this.parent.num,this.parent.gen)),Ie.set("V",ne),re=[`${this.parent.num} ${this.parent.gen} obj
`],await(0,t.writeDict)(Ie,re,Fe),re.push(`
endobj
`)}else this.parent instanceof e.Dict&&this.parent.set("V",ne);oe.set("AS",ne),oe.set("M",`D:${(0,n.getModificationDate)()}`);const ue=this._getMKDict(J);ue&&oe.set("MK",ue);let ge=null;de&&(ge=de.createCipherTransform(this.ref.num,this.ref.gen));const pe=[`${this.ref.num} ${this.ref.gen} obj
`];await(0,t.writeDict)(oe,pe,ge),pe.push(`
endobj
`);const xe=[{ref:this.ref,data:pe.join(""),xfa:he}];return re!==null&&xe.push({ref:this.parent,data:re.join(""),xfa:null}),xe}_getDefaultCheckedAppearance(c,_){const W=this.data.rect[2]-this.data.rect[0],Y=this.data.rect[3]-this.data.rect[1],J=[0,0,W,Y],ae=.8,oe=Math.min(W,Y)*ae;let he,ne;_==="check"?(he={width:.755*oe,height:.705*oe},ne="3"):_==="disc"?(he={width:.791*oe,height:.705*oe},ne="l"):(0,n.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${_}`);const re=(0,l.numberToString)((W-he.width)/2),de=(0,l.numberToString)((Y-he.height)/2),ue=`q BT /PdfJsZaDb ${oe} Tf 0 g ${re} ${de} Td (${ne}) Tj ET Q`,ge=new e.Dict(c.xref);ge.set("FormType",1),ge.set("Subtype",e.Name.get("Form")),ge.set("Type",e.Name.get("XObject")),ge.set("BBox",J),ge.set("Matrix",[1,0,0,1,0,0]),ge.set("Length",ue.length);const pe=new e.Dict(c.xref),xe=new e.Dict(c.xref);xe.set("PdfJsZaDb",this.fallbackFontDict),pe.set("Font",xe),ge.set("Resources",pe),this.checkedAppearance=new F.StringStream(ue),this.checkedAppearance.dict=ge,this._streams.push(this.checkedAppearance)}_processCheckBox(c){const _=c.dict.get("AP");if(!(_ instanceof e.Dict))return;const W=_.get("N");if(!(W instanceof e.Dict))return;const Y=this._decodeFormValue(c.dict.get("AS"));typeof Y=="string"&&(this.data.fieldValue=Y);const J=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",ae=W.getKeys();if(ae.length===0)ae.push("Off",J);else if(ae.length===1)ae[0]==="Off"?ae.push(J):ae.unshift("Off");else if(ae.includes(J))ae.length=0,ae.push("Off",J);else{const ne=ae.find(re=>re!=="Off");ae.length=0,ae.push("Off",ne)}ae.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=ae[1];const oe=W.get(this.data.exportValue);this.checkedAppearance=oe instanceof H.BaseStream?oe:null;const he=W.get("Off");this.uncheckedAppearance=he instanceof H.BaseStream?he:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(c,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}_processRadioButton(c){this.data.fieldValue=this.data.buttonValue=null;const _=c.dict.get("Parent");if(_ instanceof e.Dict){this.parent=c.dict.getRaw("Parent");const oe=_.get("V");oe instanceof e.Name&&(this.data.fieldValue=this._decodeFormValue(oe))}const W=c.dict.get("AP");if(!(W instanceof e.Dict))return;const Y=W.get("N");if(!(Y instanceof e.Dict))return;for(const oe of Y.getKeys())if(oe!=="Off"){this.data.buttonValue=this._decodeFormValue(oe);break}const J=Y.get(this.data.buttonValue);this.checkedAppearance=J instanceof H.BaseStream?J:null;const ae=Y.get("Off");this.uncheckedAppearance=ae instanceof H.BaseStream?ae:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(c,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}_processPushButton(c){if(!c.dict.has("A")&&!c.dict.has("AA")&&!this.data.alternativeText){(0,n.warn)("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!c.dict.has("A")&&!c.dict.has("AA"),G.Catalog.parseDestDictionary({destDict:c.dict,resultObj:this.data,docBaseUrl:c.pdfManager.docBaseUrl,docAttachments:c.attachments})}getFieldObject(){let c="button",_;return this.data.checkBox?(c="checkbox",_=this.data.exportValue):this.data.radioButton&&(c="radiobutton",_=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:_,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:c}}get fallbackFontDict(){const c=new e.Dict;return c.set("BaseFont",e.Name.get("ZapfDingbats")),c.set("Type",e.Name.get("FallbackType")),c.set("Subtype",e.Name.get("FallbackType")),c.set("Encoding",e.Name.get("ZapfDingbatsEncoding")),(0,n.shadow)(this,"fallbackFontDict",c)}}class h extends d{constructor(c){super(c);const{dict:_,xref:W}=c;this.indices=_.getArray("I"),this.hasIndices=Array.isArray(this.indices)&&this.indices.length>0,this.data.options=[];const Y=(0,l.getInheritableProperty)({dict:_,key:"Opt"});if(Array.isArray(Y))for(let J=0,ae=Y.length;J<ae;J++){const oe=W.fetchIfRef(Y[J]),he=Array.isArray(oe);this.data.options[J]={exportValue:this._decodeFormValue(he?W.fetchIfRef(oe[0]):oe),displayValue:this._decodeFormValue(he?W.fetchIfRef(oe[1]):oe)}}if(!this.hasIndices)typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]);else{this.data.fieldValue=[];const J=this.data.options.length;for(const ae of this.indices)Number.isInteger(ae)&&ae>=0&&ae<J&&this.data.fieldValue.push(this.data.options[ae].exportValue)}this.data.combo=this.hasFieldFlag(n.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(n.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const c=this.data.combo?"combobox":"listbox",_=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:_,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:c}}amendSavedDict(c,_){var ae;if(!this.hasIndices)return;let W=(ae=c==null?void 0:c.get(this.data.id))==null?void 0:ae.value;Array.isArray(W)||(W=[W]);const Y=[],{options:J}=this.data;for(let oe=0,he=0,ne=J.length;oe<ne;oe++)J[oe].exportValue===W[he]&&(Y.push(oe),he+=1);_.set("I",Y)}async _getAppearance(c,_,W,Y){if(this.data.combo)return super._getAppearance(c,_,W,Y);let J,ae;const oe=Y==null?void 0:Y.get(this.data.id);if(oe&&(ae=oe.rotation,J=oe.value),ae===void 0&&J===void 0&&!this._needAppearances)return null;J===void 0?J=this.data.fieldValue:Array.isArray(J)||(J=[J]);const he=1,ne=2;let re=this.data.rect[3]-this.data.rect[1],de=this.data.rect[2]-this.data.rect[0];(ae===90||ae===270)&&([de,re]=[re,de]);const ue=this.data.options.length,ge=[];for(let Pe=0;Pe<ue;Pe++){const{exportValue:ve}=this.data.options[Pe];J.includes(ve)&&ge.push(Pe)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,K.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const pe=await d._getFontData(c,_,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let xe,{fontSize:Ie}=this.data.defaultAppearanceData;if(Ie)xe=this._defaultAppearance;else{const Pe=(re-he)/ue;let ve=-1,Te;for(const{displayValue:je}of this.data.options){const Ce=this._getTextWidth(je,pe);Ce>ve&&(ve=Ce,Te=je)}[xe,Ie]=this._computeFontSize(Pe,de-2*ne,Te,pe,-1)}const Fe=Ie*n.LINE_FACTOR,Ae=(Fe-Ie)/2,we=Math.floor(re/Fe);let be;if(ge.length===1){const Pe=ge[0],ve=Pe%we;be=Pe-ve}else be=ge.length?ge[0]:0;const Ee=Math.min(be+we+1,ue),_e=["/Tx BMC q",`1 1 ${de} ${re} re W n`];if(ge.length){_e.push("0.600006 0.756866 0.854904 rg");for(const Pe of ge)be<=Pe&&Pe<Ee&&_e.push(`1 ${re-(Pe-be+1)*Fe} ${de} ${Fe} re f`)}_e.push("BT",xe,`1 0 0 1 0 ${re} Tm`);const Re={shift:0};for(let Pe=be;Pe<Ee;Pe++){const{displayValue:ve}=this.data.options[Pe],Te=Pe===be?Ae:0;_e.push(this._renderText(ve,pe,Ie,de,0,Re,ne,-Fe+Te))}return _e.push("ET Q EMC"),_e.join(`
`)}}class g extends d{constructor(c){super(c),this.data.fieldValue=null,this.data.hasOwnCanvas=this.data.noRotate}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class k extends P{constructor(c){super(c),this.data.noRotate=!0,this.data.hasOwnCanvas=this.data.noRotate;const{dict:W}=c;this.data.annotationType=n.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=W.has("Name")?W.get("Name").name:"Note"),W.has("State")?(this.data.state=W.get("State")||null,this.data.stateModel=W.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class D extends f{constructor(c){var W;super(c),this.data.annotationType=n.AnnotationType.LINK;const _=y(c.dict,this.rectangle);_&&(this.data.quadPoints=_),(W=this.data).borderColor||(W.borderColor=this.data.color),G.Catalog.parseDestDictionary({destDict:c.dict,resultObj:this.data,docBaseUrl:c.pdfManager.docBaseUrl,docAttachments:c.attachments})}}class T extends f{constructor(c){super(c);const{dict:_}=c;this.data.annotationType=n.AnnotationType.POPUP;let W=_.get("Parent");if(!W){(0,n.warn)("Popup annotation has a missing or invalid parent annotation.");return}const Y=W.get("Subtype");this.data.parentType=Y instanceof e.Name?Y.name:null;const J=_.getRaw("Parent");this.data.parentId=J instanceof e.Ref?J.toString():null;const ae=W.getArray("Rect");Array.isArray(ae)&&ae.length===4?this.data.parentRect=n.Util.normalizeRect(ae):this.data.parentRect=[0,0,0,0];const oe=W.get("RT");if((0,e.isName)(oe,n.AnnotationReplyType.GROUP)&&(W=W.get("IRT")),W.has("M")?(this.setModificationDate(W.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,W.has("C")?(this.setColor(W.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const he=W.get("F");this._isViewable(he)&&this.setFlags(he)}this.setTitle(W.get("T")),this.data.titleObj=this._title,this.setContents(W.get("Contents")),this.data.contentsObj=this._contents,W.has("RC")&&(this.data.richText=B.XFAFactory.getRichTextAsHtml(W.get("RC")))}}S.PopupAnnotation=T;class V extends P{constructor(c){super(c),this.data.hasOwnCanvas=this.data.noRotate;const{xref:_}=c;if(this.data.annotationType=n.AnnotationType.FREETEXT,this.setDefaultAppearance(c),!this.appearance&&this._isOffscreenCanvasSupported){const W=c.dict.get("CA"),Y=new K.FakeUnicodeFont(_,"sans-serif"),J=this.data.defaultAppearanceData;this.appearance=Y.createAppearance(this._contents.str,this.rectangle,this.rotation,J.fontSize||10,J.fontColor,W),this._streams.push(this.appearance,K.FakeUnicodeFont.toUnicodeStream)}else this._isOffscreenCanvasSupported||(0,n.warn)("FreeTextAnnotation: OffscreenCanvas is not supported, annotation may not render correctly.")}get hasTextContent(){return!!this.appearance}static createNewDict(c,_,{apRef:W,ap:Y}){const{color:J,fontSize:ae,rect:oe,rotation:he,user:ne,value:re}=c,de=new e.Dict(_);de.set("Type",e.Name.get("Annot")),de.set("Subtype",e.Name.get("FreeText")),de.set("CreationDate",`D:${(0,n.getModificationDate)()}`),de.set("Rect",oe);const ue=`/Helv ${ae} Tf ${(0,K.getPdfColor)(J,!0)}`;if(de.set("DA",ue),de.set("Contents",(0,l.isAscii)(re)?re:(0,l.stringToUTF16String)(re,!0)),de.set("F",4),de.set("Border",[0,0,0]),de.set("Rotate",he),ne&&de.set("T",(0,l.isAscii)(ne)?ne:(0,l.stringToUTF16String)(ne,!0)),W||Y){const ge=new e.Dict(_);de.set("AP",ge),W?ge.set("N",W):ge.set("N",Y)}return de}static async createNewAppearanceStream(c,_,W){const{baseFontRef:Y,evaluator:J,task:ae}=W,{color:oe,fontSize:he,rect:ne,rotation:re,value:de}=c,ue=new e.Dict(_),ge=new e.Dict(_);if(Y)ge.set("Helv",Y);else{const Qe=new e.Dict(_);Qe.set("BaseFont",e.Name.get("Helvetica")),Qe.set("Type",e.Name.get("Font")),Qe.set("Subtype",e.Name.get("Type1")),Qe.set("Encoding",e.Name.get("WinAnsiEncoding")),ge.set("Helv",Qe)}ue.set("Font",ge);const pe=await d._getFontData(J,ae,{fontName:"Helvetica",fontSize:he},ue),[xe,Ie,Fe,Ae]=ne;let we=Fe-xe,be=Ae-Ie;re%180!==0&&([we,be]=[be,we]);const Ee=de.split(`
`),_e=he/1e3;let Re=-1/0;const Pe=[];for(let Qe of Ee){const it=pe.encodeString(Qe);if(it.length>1)return null;Qe=it.join(""),Pe.push(Qe);let qe=0;const gt=pe.charsToGlyphs(Qe);for(const mt of gt)qe+=mt.width*_e;Re=Math.max(Re,qe)}let ve=1;Re>we&&(ve=we/Re);let Te=1;const je=n.LINE_FACTOR*he,Ce=n.LINE_DESCENT_FACTOR*he,ke=je*Ee.length;ke>be&&(Te=be/ke);const Le=Math.min(ve,Te),Ge=he*Le,Oe=["q",`0 0 ${(0,l.numberToString)(we)} ${(0,l.numberToString)(be)} re W n`,"BT",`1 0 0 1 0 ${(0,l.numberToString)(be+Ce)} Tm 0 Tc ${(0,K.getPdfColor)(oe,!0)}`,`/Helv ${(0,l.numberToString)(Ge)} Tf`],tt=(0,l.numberToString)(je);for(const Qe of Pe)Oe.push(`0 -${tt} Td (${(0,l.escapeString)(Qe)}) Tj`);Oe.push("ET","Q");const Ye=Oe.join(`
`),et=new e.Dict(_);if(et.set("FormType",1),et.set("Subtype",e.Name.get("Form")),et.set("Type",e.Name.get("XObject")),et.set("BBox",[0,0,we,be]),et.set("Resources",ue),re){const Qe=(0,l.getRotationMatrix)(re,we,be);et.set("Matrix",Qe)}const Xe=new F.StringStream(Ye);return Xe.dict=et,Xe}}class q extends P{constructor(c){super(c);const{dict:_,xref:W}=c;this.data.annotationType=n.AnnotationType.LINE,this.data.hasOwnCanvas=this.data.noRotate;const Y=_.getArray("L");if(this.data.lineCoordinates=n.Util.normalizeRect(Y),this.setLineEndings(_.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const J=this.color?o(this.color):[0,0,0],ae=_.get("CA"),oe=s(_.getArray("IC"),null),he=oe?o(oe):null,ne=he?ae:null,re=this.borderStyle.width||1,de=2*re,ue=[this.data.lineCoordinates[0]-de,this.data.lineCoordinates[1]-de,this.data.lineCoordinates[2]+de,this.data.lineCoordinates[3]+de];n.Util.intersect(this.rectangle,ue)||(this.rectangle=ue),this._setDefaultAppearance({xref:W,extra:`${re} w`,strokeColor:J,fillColor:he,strokeAlpha:ae,fillAlpha:ne,pointsCallback:(ge,pe)=>(ge.push(`${Y[0]} ${Y[1]} m`,`${Y[2]} ${Y[3]} l`,"S"),[pe[0].x-re,pe[1].x+re,pe[3].y-re,pe[1].y+re])})}}}class v extends P{constructor(c){super(c);const{dict:_,xref:W}=c;if(this.data.annotationType=n.AnnotationType.SQUARE,this.data.hasOwnCanvas=this.data.noRotate,!this.appearance){const Y=this.color?o(this.color):[0,0,0],J=_.get("CA"),ae=s(_.getArray("IC"),null),oe=ae?o(ae):null,he=oe?J:null;if(this.borderStyle.width===0&&!oe)return;this._setDefaultAppearance({xref:W,extra:`${this.borderStyle.width} w`,strokeColor:Y,fillColor:oe,strokeAlpha:J,fillAlpha:he,pointsCallback:(ne,re)=>{const de=re[2].x+this.borderStyle.width/2,ue=re[2].y+this.borderStyle.width/2,ge=re[3].x-re[2].x-this.borderStyle.width,pe=re[1].y-re[3].y-this.borderStyle.width;return ne.push(`${de} ${ue} ${ge} ${pe} re`),oe?ne.push("B"):ne.push("S"),[re[0].x,re[1].x,re[3].y,re[1].y]}})}}}class x extends P{constructor(c){super(c);const{dict:_,xref:W}=c;if(this.data.annotationType=n.AnnotationType.CIRCLE,!this.appearance){const Y=this.color?o(this.color):[0,0,0],J=_.get("CA"),ae=s(_.getArray("IC"),null),oe=ae?o(ae):null,he=oe?J:null;if(this.borderStyle.width===0&&!oe)return;const ne=4/3*Math.tan(Math.PI/(2*4));this._setDefaultAppearance({xref:W,extra:`${this.borderStyle.width} w`,strokeColor:Y,fillColor:oe,strokeAlpha:J,fillAlpha:he,pointsCallback:(re,de)=>{const ue=de[0].x+this.borderStyle.width/2,ge=de[0].y-this.borderStyle.width/2,pe=de[3].x-this.borderStyle.width/2,xe=de[3].y+this.borderStyle.width/2,Ie=ue+(pe-ue)/2,Fe=ge+(xe-ge)/2,Ae=(pe-ue)/2*ne,we=(xe-ge)/2*ne;return re.push(`${Ie} ${xe} m`,`${Ie+Ae} ${xe} ${pe} ${Fe+we} ${pe} ${Fe} c`,`${pe} ${Fe-we} ${Ie+Ae} ${ge} ${Ie} ${ge} c`,`${Ie-Ae} ${ge} ${ue} ${Fe-we} ${ue} ${Fe} c`,`${ue} ${Fe+we} ${Ie-Ae} ${xe} ${Ie} ${xe} c`,"h"),oe?re.push("B"):re.push("S"),[de[0].x,de[1].x,de[3].y,de[1].y]}})}}}class E extends P{constructor(c){super(c);const{dict:_,xref:W}=c;this.data.annotationType=n.AnnotationType.POLYLINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.vertices=[],this instanceof U||(this.setLineEndings(_.getArray("LE")),this.data.lineEndings=this.lineEndings);const Y=_.getArray("Vertices");if(Array.isArray(Y)){for(let J=0,ae=Y.length;J<ae;J+=2)this.data.vertices.push({x:Y[J],y:Y[J+1]});if(!this.appearance){const J=this.color?o(this.color):[0,0,0],ae=_.get("CA"),oe=this.borderStyle.width||1,he=2*oe,ne=[1/0,1/0,-1/0,-1/0];for(const re of this.data.vertices)ne[0]=Math.min(ne[0],re.x-he),ne[1]=Math.min(ne[1],re.y-he),ne[2]=Math.max(ne[2],re.x+he),ne[3]=Math.max(ne[3],re.y+he);n.Util.intersect(this.rectangle,ne)||(this.rectangle=ne),this._setDefaultAppearance({xref:W,extra:`${oe} w`,strokeColor:J,strokeAlpha:ae,pointsCallback:(re,de)=>{const ue=this.data.vertices;for(let ge=0,pe=ue.length;ge<pe;ge++)re.push(`${ue[ge].x} ${ue[ge].y} ${ge===0?"m":"l"}`);return re.push("S"),[de[0].x,de[1].x,de[3].y,de[1].y]}})}}}}class U extends E{constructor(c){super(c),this.data.annotationType=n.AnnotationType.POLYGON}}class $ extends P{constructor(c){super(c),this.data.annotationType=n.AnnotationType.CARET}}class Q extends P{constructor(c){super(c),this.data.hasOwnCanvas=this.data.noRotate;const{dict:_,xref:W}=c;this.data.annotationType=n.AnnotationType.INK,this.data.inkLists=[];const Y=_.getArray("InkList");if(Array.isArray(Y)){for(let J=0,ae=Y.length;J<ae;++J){this.data.inkLists.push([]);for(let oe=0,he=Y[J].length;oe<he;oe+=2)this.data.inkLists[J].push({x:W.fetchIfRef(Y[J][oe]),y:W.fetchIfRef(Y[J][oe+1])})}if(!this.appearance){const J=this.color?o(this.color):[0,0,0],ae=_.get("CA"),oe=this.borderStyle.width||1,he=2*oe,ne=[1/0,1/0,-1/0,-1/0];for(const re of this.data.inkLists)for(const de of re)ne[0]=Math.min(ne[0],de.x-he),ne[1]=Math.min(ne[1],de.y-he),ne[2]=Math.max(ne[2],de.x+he),ne[3]=Math.max(ne[3],de.y+he);n.Util.intersect(this.rectangle,ne)||(this.rectangle=ne),this._setDefaultAppearance({xref:W,extra:`${oe} w`,strokeColor:J,strokeAlpha:ae,pointsCallback:(re,de)=>{for(const ue of this.data.inkLists){for(let ge=0,pe=ue.length;ge<pe;ge++)re.push(`${ue[ge].x} ${ue[ge].y} ${ge===0?"m":"l"}`);re.push("S")}return[de[0].x,de[1].x,de[3].y,de[1].y]}})}}}static createNewDict(c,_,{apRef:W,ap:Y}){const{paths:J,rect:ae,rotation:oe}=c,he=new e.Dict(_);he.set("Type",e.Name.get("Annot")),he.set("Subtype",e.Name.get("Ink")),he.set("CreationDate",`D:${(0,n.getModificationDate)()}`),he.set("Rect",ae),he.set("InkList",J.map(re=>re.points)),he.set("F",4),he.set("Border",[0,0,0]),he.set("Rotate",oe);const ne=new e.Dict(_);return he.set("AP",ne),W?ne.set("N",W):ne.set("N",Y),he}static async createNewAppearanceStream(c,_,W){const{color:Y,rect:J,rotation:ae,paths:oe,thickness:he,opacity:ne}=c,[re,de,ue,ge]=J;let pe=ue-re,xe=ge-de;ae%180!==0&&([pe,xe]=[xe,pe]);const Ie=[`${he} w 1 J 1 j`,`${(0,K.getPdfColor)(Y,!1)}`];ne!==1&&Ie.push("/R0 gs");const Fe=[];for(const{bezier:Ee}of oe){Fe.length=0,Fe.push(`${(0,l.numberToString)(Ee[0])} ${(0,l.numberToString)(Ee[1])} m`);for(let _e=2,Re=Ee.length;_e<Re;_e+=6){const Pe=Ee.slice(_e,_e+6).map(l.numberToString).join(" ");Fe.push(`${Pe} c`)}Fe.push("S"),Ie.push(Fe.join(`
`))}const Ae=Ie.join(`
`),we=new e.Dict(_);if(we.set("FormType",1),we.set("Subtype",e.Name.get("Form")),we.set("Type",e.Name.get("XObject")),we.set("BBox",[0,0,pe,xe]),we.set("Length",Ae.length),ae){const Ee=(0,l.getRotationMatrix)(ae,pe,xe);we.set("Matrix",Ee)}if(ne!==1){const Ee=new e.Dict(_),_e=new e.Dict(_),Re=new e.Dict(_);Re.set("CA",ne),Re.set("Type",e.Name.get("ExtGState")),_e.set("R0",Re),Ee.set("ExtGState",_e),we.set("Resources",Ee)}const be=new F.StringStream(Ae);return be.dict=we,be}}class ie extends P{constructor(c){var J;super(c);const{dict:_,xref:W}=c;if(this.data.annotationType=n.AnnotationType.HIGHLIGHT,this.data.quadPoints=y(_,null)){const ae=(J=this.appearance)==null?void 0:J.dict.get("Resources");if(!this.appearance||!(ae!=null&&ae.has("ExtGState"))){this.appearance&&(0,n.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const oe=this.color?o(this.color):[1,1,0],he=_.get("CA");this._setDefaultAppearance({xref:W,fillColor:oe,blendMode:"Multiply",fillAlpha:he,pointsCallback:(ne,re)=>(ne.push(`${re[0].x} ${re[0].y} m`,`${re[1].x} ${re[1].y} l`,`${re[3].x} ${re[3].y} l`,`${re[2].x} ${re[2].y} l`,"f"),[re[0].x,re[1].x,re[3].y,re[1].y])})}}else this.data.hasPopup=!1}}class j extends P{constructor(c){super(c);const{dict:_,xref:W}=c;if(this.data.annotationType=n.AnnotationType.UNDERLINE,this.data.quadPoints=y(_,null)){if(!this.appearance){const J=this.color?o(this.color):[0,0,0],ae=_.get("CA");this._setDefaultAppearance({xref:W,extra:"[] 0 d 0.571 w",strokeColor:J,strokeAlpha:ae,pointsCallback:(oe,he)=>(oe.push(`${he[2].x} ${he[2].y+1.3} m`,`${he[3].x} ${he[3].y+1.3} l`,"S"),[he[0].x,he[1].x,he[3].y,he[1].y])})}}else this.data.hasPopup=!1}}class X extends P{constructor(c){super(c);const{dict:_,xref:W}=c;if(this.data.annotationType=n.AnnotationType.SQUIGGLY,this.data.quadPoints=y(_,null)){if(!this.appearance){const J=this.color?o(this.color):[0,0,0],ae=_.get("CA");this._setDefaultAppearance({xref:W,extra:"[] 0 d 1 w",strokeColor:J,strokeAlpha:ae,pointsCallback:(oe,he)=>{const ne=(he[0].y-he[2].y)/6;let re=ne,de=he[2].x;const ue=he[2].y,ge=he[3].x;oe.push(`${de} ${ue+re} m`);do de+=2,re=re===0?ne:0,oe.push(`${de} ${ue+re} l`);while(de<ge);return oe.push("S"),[he[2].x,ge,ue-2*ne,ue+2*ne]}})}}else this.data.hasPopup=!1}}class R extends P{constructor(c){super(c);const{dict:_,xref:W}=c;if(this.data.annotationType=n.AnnotationType.STRIKEOUT,this.data.quadPoints=y(_,null)){if(!this.appearance){const J=this.color?o(this.color):[0,0,0],ae=_.get("CA");this._setDefaultAppearance({xref:W,extra:"[] 0 d 1 w",strokeColor:J,strokeAlpha:ae,pointsCallback:(oe,he)=>(oe.push(`${(he[0].x+he[2].x)/2} ${(he[0].y+he[2].y)/2} m`,`${(he[1].x+he[3].x)/2} ${(he[1].y+he[3].y)/2} l`,"S"),[he[0].x,he[1].x,he[3].y,he[1].y])})}}else this.data.hasPopup=!1}}class Z extends P{constructor(c){super(c),this.data.annotationType=n.AnnotationType.STAMP,this.data.hasOwnCanvas=this.data.noRotate}}class N extends P{constructor(c){super(c);const{dict:_,xref:W}=c,Y=new C.FileSpec(_.get("FS"),W);this.data.annotationType=n.AnnotationType.FILEATTACHMENT,this.data.hasOwnCanvas=this.data.noRotate,this.data.file=Y.serializable;const J=_.get("Name");this.data.name=J instanceof e.Name?(0,n.stringToPDFString)(J.name):"PushPin"}}},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.FakeUnicodeFont=void 0,S.createDefaultAppearance=C,S.getPdfColor=I,S.parseDefaultAppearance=G;var n=ee(4),l=ee(3),K=ee(2),e=ee(12),t=ee(13),H=ee(8);class z extends t.EvaluatorPreprocessor{constructor(F){super(new H.StringStream(F))}parse(){const F={fn:0,args:[]},B={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;F.args.length=0,!!this.read(F);){if(this.savedStatesDepth!==0)continue;const{fn:u,args:s}=F;switch(u|0){case K.OPS.setFont:const[o,y]=s;o instanceof n.Name&&(B.fontName=o.name),typeof y=="number"&&y>0&&(B.fontSize=y);break;case K.OPS.setFillRGBColor:e.ColorSpace.singletons.rgb.getRgbItem(s,0,B.fontColor,0);break;case K.OPS.setFillGray:e.ColorSpace.singletons.gray.getRgbItem(s,0,B.fontColor,0);break;case K.OPS.setFillColorSpace:e.ColorSpace.singletons.cmyk.getRgbItem(s,0,B.fontColor,0);break}}}catch(u){(0,K.warn)(`parseDefaultAppearance - ignoring errors: "${u}".`)}return B}}function G(i){return new z(i).parse()}function I(i,F){if(i[0]===i[1]&&i[1]===i[2]){const B=i[0]/255;return`${(0,l.numberToString)(B)} ${F?"g":"G"}`}return Array.from(i,B=>(0,l.numberToString)(B/255)).join(" ")+` ${F?"rg":"RG"}`}function C({fontSize:i,fontName:F,fontColor:B}){return`/${(0,l.escapePDFName)(F)} ${i} Tf ${I(B,!0)}`}class w{constructor(F,B){this.xref=F,this.widths=null,this.firstChar=1/0,this.lastChar=-1/0,this.fontFamily=B;const u=new OffscreenCanvas(1,1);this.ctxMeasure=u.getContext("2d"),w._fontNameId||(w._fontNameId=1),this.fontName=n.Name.get(`InvalidPDFjsFont_${B}_${w._fontNameId++}`)}get toUnicodeRef(){if(!w._toUnicodeRef){const F=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo
<< /Registry (Adobe)
/Ordering (UCS) /Supplement 0 >> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000> <FFFF>
endcodespacerange
1 beginbfrange
<0000> <FFFF> <0000>
endbfrange
endcmap CMapName currentdict /CMap defineresource pop end end`,B=w.toUnicodeStream=new H.StringStream(F),u=new n.Dict(this.xref);B.dict=u,u.set("Length",F.length),w._toUnicodeRef=this.xref.getNewPersistentRef(B)}return w._toUnicodeRef}get fontDescriptorRef(){if(!w._fontDescriptorRef){const F=new n.Dict(this.xref);F.set("Type",n.Name.get("FontDescriptor")),F.set("FontName",this.fontName),F.set("FontFamily","MyriadPro Regular"),F.set("FontBBox",[0,0,0,0]),F.set("FontStretch",n.Name.get("Normal")),F.set("FontWeight",400),F.set("ItalicAngle",0),w._fontDescriptorRef=this.xref.getNewPersistentRef(F)}return w._fontDescriptorRef}get descendantFontRef(){const F=new n.Dict(this.xref);F.set("BaseFont",this.fontName),F.set("Type",n.Name.get("Font")),F.set("Subtype",n.Name.get("CIDFontType0")),F.set("CIDToGIDMap",n.Name.get("Identity")),F.set("FirstChar",this.firstChar),F.set("LastChar",this.lastChar),F.set("FontDescriptor",this.fontDescriptorRef),F.set("DW",1e3);const B=[],u=[...this.widths.entries()].sort();let s=null,o=null;for(const[r,f]of u){if(!s){s=r,o=[f];continue}r===s+o.length?o.push(f):(B.push(s,o),s=r,o=[f])}s&&B.push(s,o),F.set("W",B);const y=new n.Dict(this.xref);return y.set("Ordering","Identity"),y.set("Registry","Adobe"),y.set("Supplement",0),F.set("CIDSystemInfo",y),this.xref.getNewPersistentRef(F)}get baseFontRef(){const F=new n.Dict(this.xref);return F.set("BaseFont",this.fontName),F.set("Type",n.Name.get("Font")),F.set("Subtype",n.Name.get("Type0")),F.set("Encoding",n.Name.get("Identity-H")),F.set("DescendantFonts",[this.descendantFontRef]),F.set("ToUnicode",this.toUnicodeRef),this.xref.getNewPersistentRef(F)}get resources(){const F=new n.Dict(this.xref),B=new n.Dict(this.xref);return B.set(this.fontName.name,this.baseFontRef),F.set("Font",B),F}_createContext(){return this.widths=new Map,this.ctxMeasure.font=`1000px ${this.fontFamily}`,this.ctxMeasure}createFontResources(F){const B=this._createContext();for(const u of F.split(/\r\n?|\n/))for(const s of u.split("")){const o=s.charCodeAt(0);if(this.widths.has(o))continue;const y=B.measureText(s),r=Math.ceil(y.width);this.widths.set(o,r),this.firstChar=Math.min(o,this.firstChar),this.lastChar=Math.max(o,this.lastChar)}return this.resources}createAppearance(F,B,u,s,o,y){const r=this._createContext(),f=[];let m=-1/0;for(const X of F.split(/\r\n?|\n/)){f.push(X);const R=r.measureText(X).width;m=Math.max(m,R);for(const Z of X.split("")){const N=Z.charCodeAt(0);let M=this.widths.get(N);if(M===void 0){const c=r.measureText(Z);M=Math.ceil(c.width),this.widths.set(N,M),this.firstChar=Math.min(N,this.firstChar),this.lastChar=Math.max(N,this.lastChar)}}}m*=s/1e3;const[P,d,A,L]=B;let h=A-P,g=L-d;u%180!==0&&([h,g]=[g,h]);let k=1;m>h&&(k=h/m);let D=1;const T=K.LINE_FACTOR*s,V=K.LINE_DESCENT_FACTOR*s,q=T*f.length;q>g&&(D=g/q);const v=Math.min(k,D),x=s*v,E=["q",`0 0 ${(0,l.numberToString)(h)} ${(0,l.numberToString)(g)} re W n`,"BT",`1 0 0 1 0 ${(0,l.numberToString)(g+V)} Tm 0 Tc ${I(o,!0)}`,`/${this.fontName.name} ${(0,l.numberToString)(x)} Tf`],{resources:U}=this;if(y=typeof y=="number"&&y>=0&&y<=1?y:1,y!==1){E.push("/R0 gs");const X=new n.Dict(this.xref),R=new n.Dict(this.xref);R.set("ca",y),R.set("CA",y),R.set("Type",n.Name.get("ExtGState")),X.set("R0",R),U.set("ExtGState",X)}const $=(0,l.numberToString)(T);for(const X of f)E.push(`0 -${$} Td <${(0,l.stringToUTF16HexString)(X)}> Tj`);E.push("ET","Q");const Q=E.join(`
`),ie=new n.Dict(this.xref);if(ie.set("Subtype",n.Name.get("Form")),ie.set("Type",n.Name.get("XObject")),ie.set("BBox",[0,0,h,g]),ie.set("Length",Q.length),ie.set("Resources",U),u){const X=(0,l.getRotationMatrix)(u,h,g);ie.set("Matrix",X)}const j=new H.StringStream(Q);return j.dict=ie,j}}S.FakeUnicodeFont=w},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.ColorSpace=void 0;var n=ee(2),l=ee(4),K=ee(5),e=ee(3);function t(s,o,y,r,f,m,P){P=P!==1?0:P;const A=y/f,L=r/m;let h=0,g;const k=new Uint16Array(f),D=y*3;for(let T=0;T<f;T++)k[T]=Math.floor(T*A)*3;for(let T=0;T<m;T++){const V=Math.floor(T*L)*D;for(let q=0;q<f;q++)g=V+k[q],o[h++]=s[g++],o[h++]=s[g++],o[h++]=s[g++],h+=P}}class H{constructor(o,y){this.constructor===H&&(0,n.unreachable)("Cannot initialize ColorSpace."),this.name=o,this.numComps=y}getRgb(o,y){const r=new Uint8ClampedArray(3);return this.getRgbItem(o,y,r,0),r}getRgbItem(o,y,r,f){(0,n.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(o,y,r,f,m,P,d){(0,n.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(o,y){(0,n.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(o){return!1}isDefaultDecode(o,y){return H.isDefaultDecode(o,this.numComps)}fillRgb(o,y,r,f,m,P,d,A,L){const h=y*r;let g=null;const k=1<<d,D=r!==m||y!==f;if(this.isPassthrough(d))g=A;else if(this.numComps===1&&h>k&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const T=d<=8?new Uint8Array(k):new Uint16Array(k);for(let q=0;q<k;q++)T[q]=q;const V=new Uint8ClampedArray(k*3);if(this.getRgbBuffer(T,0,k,V,0,d,0),D){g=new Uint8Array(h*3);let q=0;for(let v=0;v<h;++v){const x=A[v]*3;g[q++]=V[x],g[q++]=V[x+1],g[q++]=V[x+2]}}else{let q=0;for(let v=0;v<h;++v){const x=A[v]*3;o[q++]=V[x],o[q++]=V[x+1],o[q++]=V[x+2],q+=L}}}else D?(g=new Uint8ClampedArray(h*3),this.getRgbBuffer(A,0,h,g,0,d,0)):this.getRgbBuffer(A,0,f*P,o,0,d,L);if(g)if(D)t(g,o,y,r,f,m,L);else{let T=0,V=0;for(let q=0,v=f*P;q<v;q++)o[T++]=g[V++],o[T++]=g[V++],o[T++]=g[V++],T+=L}}get usesZeroToOneRange(){return(0,n.shadow)(this,"usesZeroToOneRange",!0)}static _cache(o,y,r,f){if(!r)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!f)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let m,P;o instanceof l.Ref&&(P=o,o=y.fetch(o)),o instanceof l.Name&&(m=o.name),(m||P)&&r.set(m,P,f)}static getCached(o,y,r){if(!r)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(o instanceof l.Ref){const f=r.getByRef(o);if(f)return f;try{o=y.fetch(o)}catch(m){if(m instanceof e.MissingDataException)throw m}}if(o instanceof l.Name){const f=r.getByName(o.name);if(f)return f}return null}static async parseAsync({cs:o,xref:y,resources:r=null,pdfFunctionFactory:f,localColorSpaceCache:m}){const P=this._parse(o,y,r,f);return this._cache(o,y,m,P),P}static parse({cs:o,xref:y,resources:r=null,pdfFunctionFactory:f,localColorSpaceCache:m}){const P=this.getCached(o,y,m);if(P)return P;const d=this._parse(o,y,r,f);return this._cache(o,y,m,d),d}static _parse(o,y,r=null,f){if(o=y.fetchIfRef(o),o instanceof l.Name)switch(o.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new G(null);default:if(r instanceof l.Dict){const m=r.get("ColorSpace");if(m instanceof l.Dict){const P=m.get(o.name);if(P){if(P instanceof l.Name)return this._parse(P,y,r,f);o=P;break}}}throw new n.FormatError(`Unrecognized ColorSpace: ${o.name}`)}if(Array.isArray(o)){const m=y.fetchIfRef(o[0]).name;let P,d,A,L,h,g;switch(m){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return P=y.fetchIfRef(o[1]),L=P.getArray("WhitePoint"),h=P.getArray("BlackPoint"),g=P.get("Gamma"),new F(L,h,g);case"CalRGB":P=y.fetchIfRef(o[1]),L=P.getArray("WhitePoint"),h=P.getArray("BlackPoint"),g=P.getArray("Gamma");const k=P.getArray("Matrix");return new B(L,h,g,k);case"ICCBased":const T=y.fetchIfRef(o[1]).dict;d=T.get("N");const V=T.get("Alternate");if(V){const $=this._parse(V,y,r,f);if($.numComps===d)return $;(0,n.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(d===1)return this.singletons.gray;if(d===3)return this.singletons.rgb;if(d===4)return this.singletons.cmyk;break;case"Pattern":return A=o[1]||null,A&&(A=this._parse(A,y,r,f)),new G(A);case"I":case"Indexed":A=this._parse(o[1],y,r,f);const q=y.fetchIfRef(o[2])+1,v=y.fetchIfRef(o[3]);return new I(A,q,v);case"Separation":case"DeviceN":const x=y.fetchIfRef(o[1]);d=Array.isArray(x)?x.length:1,A=this._parse(o[2],y,r,f);const E=f.create(o[3]);return new z(d,A,E);case"Lab":P=y.fetchIfRef(o[1]),L=P.getArray("WhitePoint"),h=P.getArray("BlackPoint");const U=P.getArray("Range");return new u(L,h,U);default:throw new n.FormatError(`Unimplemented ColorSpace object: ${m}`)}}throw new n.FormatError(`Unrecognized ColorSpace object: ${o}`)}static isDefaultDecode(o,y){if(!Array.isArray(o))return!0;if(y*2!==o.length)return(0,n.warn)("The decode map is not the correct length"),!0;for(let r=0,f=o.length;r<f;r+=2)if(o[r]!==0||o[r+1]!==1)return!1;return!0}static get singletons(){return(0,n.shadow)(this,"singletons",{get gray(){return(0,n.shadow)(this,"gray",new C)},get rgb(){return(0,n.shadow)(this,"rgb",new w)},get cmyk(){return(0,n.shadow)(this,"cmyk",new i)}})}}S.ColorSpace=H;class z extends H{constructor(o,y,r){super("Alternate",o),this.base=y,this.tintFn=r,this.tmpBuf=new Float32Array(y.numComps)}getRgbItem(o,y,r,f){const m=this.tmpBuf;this.tintFn(o,y,m,0),this.base.getRgbItem(m,0,r,f)}getRgbBuffer(o,y,r,f,m,P,d){const A=this.tintFn,L=this.base,h=1/((1<<P)-1),g=L.numComps,k=L.usesZeroToOneRange,D=(L.isPassthrough(8)||!k)&&d===0;let T=D?m:0;const V=D?f:new Uint8ClampedArray(g*r),q=this.numComps,v=new Float32Array(q),x=new Float32Array(g);let E,U;for(E=0;E<r;E++){for(U=0;U<q;U++)v[U]=o[y++]*h;if(A(v,0,x,0),k)for(U=0;U<g;U++)V[T++]=x[U]*255;else L.getRgbItem(x,0,V,T),T+=g}D||L.getRgbBuffer(V,0,r,f,m,8,d)}getOutputLength(o,y){return this.base.getOutputLength(o*this.base.numComps/this.numComps,y)}}class G extends H{constructor(o){super("Pattern",null),this.base=o}isDefaultDecode(o,y){(0,n.unreachable)("Should not call PatternCS.isDefaultDecode")}}class I extends H{constructor(o,y,r){super("Indexed",1),this.base=o,this.highVal=y;const f=o.numComps*y;if(this.lookup=new Uint8Array(f),r instanceof K.BaseStream){const m=r.getBytes(f);this.lookup.set(m)}else if(typeof r=="string")for(let m=0;m<f;++m)this.lookup[m]=r.charCodeAt(m)&255;else throw new n.FormatError(`IndexedCS - unrecognized lookup table: ${r}`)}getRgbItem(o,y,r,f){const m=this.base.numComps,P=o[y]*m;this.base.getRgbBuffer(this.lookup,P,1,r,f,8,0)}getRgbBuffer(o,y,r,f,m,P,d){const A=this.base,L=A.numComps,h=A.getOutputLength(L,d),g=this.lookup;for(let k=0;k<r;++k){const D=o[y++]*L;A.getRgbBuffer(g,D,1,f,m,8,d),m+=h}}getOutputLength(o,y){return this.base.getOutputLength(o*this.base.numComps,y)}isDefaultDecode(o,y){return Array.isArray(o)?o.length!==2?((0,n.warn)("Decode map length is not correct"),!0):!Number.isInteger(y)||y<1?((0,n.warn)("Bits per component is not correct"),!0):o[0]===0&&o[1]===(1<<y)-1:!0}}class C extends H{constructor(){super("DeviceGray",1)}getRgbItem(o,y,r,f){const m=o[y]*255;r[f]=r[f+1]=r[f+2]=m}getRgbBuffer(o,y,r,f,m,P,d){const A=255/((1<<P)-1);let L=y,h=m;for(let g=0;g<r;++g){const k=A*o[L++];f[h++]=k,f[h++]=k,f[h++]=k,h+=d}}getOutputLength(o,y){return o*(3+y)}}class w extends H{constructor(){super("DeviceRGB",3)}getRgbItem(o,y,r,f){r[f]=o[y]*255,r[f+1]=o[y+1]*255,r[f+2]=o[y+2]*255}getRgbBuffer(o,y,r,f,m,P,d){if(P===8&&d===0){f.set(o.subarray(y,y+r*3),m);return}const A=255/((1<<P)-1);let L=y,h=m;for(let g=0;g<r;++g)f[h++]=A*o[L++],f[h++]=A*o[L++],f[h++]=A*o[L++],h+=d}getOutputLength(o,y){return o*(3+y)/3|0}isPassthrough(o){return o===8}}const i=function(){function o(r,f,m,P,d){const A=r[f]*m,L=r[f+1]*m,h=r[f+2]*m,g=r[f+3]*m;P[d]=255+A*(-4.387332384609988*A+54.48615194189176*L+18.82290502165302*h+212.25662451639585*g+-285.2331026137004)+L*(1.7149763477362134*L-5.6096736904047315*h+-17.873870861415444*g-5.497006427196366)+h*(-2.5217340131683033*h-21.248923337353073*g+17.5119270841813)+g*(-21.86122147463605*g-189.48180835922747),P[d+1]=255+A*(8.841041422036149*A+60.118027045597366*L+6.871425592049007*h+31.159100130055922*g+-79.2970844816548)+L*(-15.310361306967817*L+17.575251261109482*h+131.35250912493976*g-190.9453302588951)+h*(4.444339102852739*h+9.8632861493405*g-24.86741582555878)+g*(-20.737325471181034*g-187.80453709719578),P[d+2]=255+A*(.8842522430003296*A+8.078677503112928*L+30.89978309703729*h-.23883238689178934*g+-14.183576799673286)+L*(10.49593273432072*L+63.02378494754052*h+50.606957656360734*g-112.23884253719248)+h*(.03296041114873217*h+115.60384449646641*g+-193.58209356861505)+g*(-22.33816807309886*g-180.12613974708367)}class y extends H{constructor(){super("DeviceCMYK",4)}getRgbItem(f,m,P,d){o(f,m,1,P,d)}getRgbBuffer(f,m,P,d,A,L,h){const g=1/((1<<L)-1);for(let k=0;k<P;k++)o(f,m,g,d,A),m+=4,A+=3+h}getOutputLength(f,m){return f/4*(3+m)|0}}return y}(),F=function(){function o(r,f,m,P,d,A){const h=(f[m]*A)**r.G,g=r.YW*h,k=Math.max(295.8*g**.3333333333333333-40.8,0);P[d]=k,P[d+1]=k,P[d+2]=k}class y extends H{constructor(f,m,P){if(super("CalGray",1),!f)throw new n.FormatError("WhitePoint missing - required for color space CalGray");if(m||(m=[0,0,0]),P||(P=1),this.XW=f[0],this.YW=f[1],this.ZW=f[2],this.XB=m[0],this.YB=m[1],this.ZB=m[2],this.G=P,this.XW<0||this.ZW<0||this.YW!==1)throw new n.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,n.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&(0,n.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,n.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(f,m,P,d){o(this,f,m,P,d,1)}getRgbBuffer(f,m,P,d,A,L,h){const g=1/((1<<L)-1);for(let k=0;k<P;++k)o(this,f,m,d,A,g),m+=1,A+=3+h}getOutputLength(f,m){return f*(3+m)}}return y}(),B=function(){const o=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),y=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]),r=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]),f=new Float32Array([1,1,1]),m=new Float32Array(3),P=new Float32Array(3),d=new Float32Array(3),A=((8+16)/116)**3/8;function L(U,$,Q){Q[0]=U[0]*$[0]+U[1]*$[1]+U[2]*$[2],Q[1]=U[3]*$[0]+U[4]*$[1]+U[5]*$[2],Q[2]=U[6]*$[0]+U[7]*$[1]+U[8]*$[2]}function h(U,$,Q){Q[0]=$[0]*1/U[0],Q[1]=$[1]*1/U[1],Q[2]=$[2]*1/U[2]}function g(U,$,Q){Q[0]=$[0]*.95047/U[0],Q[1]=$[1]*1/U[1],Q[2]=$[2]*1.08883/U[2]}function k(U){return U<=.0031308?D(0,1,12.92*U):U>=.99554525?1:D(0,1,(1+.055)*U**(1/2.4)-.055)}function D(U,$,Q){return Math.max(U,Math.min($,Q))}function T(U){return U<0?-T(-U):U>8?((U+16)/116)**3:U*A}function V(U,$,Q){if(U[0]===0&&U[1]===0&&U[2]===0){Q[0]=$[0],Q[1]=$[1],Q[2]=$[2];return}const ie=T(0),j=ie,X=T(U[0]),R=ie,Z=T(U[1]),N=ie,M=T(U[2]),c=(1-j)/(1-X),_=1-c,W=(1-R)/(1-Z),Y=1-W,J=(1-N)/(1-M),ae=1-J;Q[0]=$[0]*c+_,Q[1]=$[1]*W+Y,Q[2]=$[2]*J+ae}function q(U,$,Q){if(U[0]===1&&U[2]===1){Q[0]=$[0],Q[1]=$[1],Q[2]=$[2];return}const ie=Q;L(o,$,ie);const j=m;h(U,ie,j),L(y,j,Q)}function v(U,$,Q){const ie=Q;L(o,$,ie);const j=m;g(U,ie,j),L(y,j,Q)}function x(U,$,Q,ie,j,X){const R=D(0,1,$[Q]*X),Z=D(0,1,$[Q+1]*X),N=D(0,1,$[Q+2]*X),M=R===1?1:R**U.GR,c=Z===1?1:Z**U.GG,_=N===1?1:N**U.GB,W=U.MXA*M+U.MXB*c+U.MXC*_,Y=U.MYA*M+U.MYB*c+U.MYC*_,J=U.MZA*M+U.MZB*c+U.MZC*_,ae=P;ae[0]=W,ae[1]=Y,ae[2]=J;const oe=d;q(U.whitePoint,ae,oe);const he=P;V(U.blackPoint,oe,he);const ne=d;v(f,he,ne);const re=P;L(r,ne,re),ie[j]=k(re[0])*255,ie[j+1]=k(re[1])*255,ie[j+2]=k(re[2])*255}class E extends H{constructor($,Q,ie,j){if(super("CalRGB",3),!$)throw new n.FormatError("WhitePoint missing - required for color space CalRGB");Q||(Q=new Float32Array(3)),ie||(ie=new Float32Array([1,1,1])),j||(j=new Float32Array([1,0,0,0,1,0,0,0,1]));const X=$[0],R=$[1],Z=$[2];this.whitePoint=$;const N=Q[0],M=Q[1],c=Q[2];if(this.blackPoint=Q,this.GR=ie[0],this.GG=ie[1],this.GB=ie[2],this.MXA=j[0],this.MYA=j[1],this.MZA=j[2],this.MXB=j[3],this.MYB=j[4],this.MZB=j[5],this.MXC=j[6],this.MYC=j[7],this.MZC=j[8],X<0||Z<0||R!==1)throw new n.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(N<0||M<0||c<0)&&((0,n.info)(`Invalid BlackPoint for ${this.name} [${N}, ${M}, ${c}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,n.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem($,Q,ie,j){x(this,$,Q,ie,j,1)}getRgbBuffer($,Q,ie,j,X,R,Z){const N=1/((1<<R)-1);for(let M=0;M<ie;++M)x(this,$,Q,j,X,N),Q+=3,X+=3+Z}getOutputLength($,Q){return $*(3+Q)/3|0}}return E}(),u=function(){function o(m){let P;return m>=6/29?P=m**3:P=108/841*(m-4/29),P}function y(m,P,d,A){return d+m*(A-d)/P}function r(m,P,d,A,L,h){let g=P[d],k=P[d+1],D=P[d+2];A!==!1&&(g=y(g,A,0,100),k=y(k,A,m.amin,m.amax),D=y(D,A,m.bmin,m.bmax)),k>m.amax?k=m.amax:k<m.amin&&(k=m.amin),D>m.bmax?D=m.bmax:D<m.bmin&&(D=m.bmin);const T=(g+16)/116,V=T+k/500,q=T-D/200,v=m.XW*o(V),x=m.YW*o(T),E=m.ZW*o(q);let U,$,Q;m.ZW<1?(U=v*3.1339+x*-1.617+E*-.4906,$=v*-.9785+x*1.916+E*.0333,Q=v*.072+x*-.229+E*1.4057):(U=v*3.2406+x*-1.5372+E*-.4986,$=v*-.9689+x*1.8758+E*.0415,Q=v*.0557+x*-.204+E*1.057),L[h]=Math.sqrt(U)*255,L[h+1]=Math.sqrt($)*255,L[h+2]=Math.sqrt(Q)*255}class f extends H{constructor(P,d,A){if(super("Lab",3),!P)throw new n.FormatError("WhitePoint missing - required for color space Lab");if(d||(d=[0,0,0]),A||(A=[-100,100,-100,100]),this.XW=P[0],this.YW=P[1],this.ZW=P[2],this.amin=A[0],this.amax=A[1],this.bmin=A[2],this.bmax=A[3],this.XB=d[0],this.YB=d[1],this.ZB=d[2],this.XW<0||this.ZW<0||this.YW!==1)throw new n.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,n.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,n.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(P,d,A,L){r(this,P,d,!1,A,L)}getRgbBuffer(P,d,A,L,h,g,k){const D=(1<<g)-1;for(let T=0;T<A;T++)r(this,P,d,D,L,h),d+=3,h+=3+k}getOutputLength(P,d){return P*(3+d)/3|0}isDefaultDecode(P,d){return!0}get usesZeroToOneRange(){return(0,n.shadow)(this,"usesZeroToOneRange",!1)}}return f}()},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.PartialEvaluator=S.EvaluatorPreprocessor=void 0;var n=ee(2),l=ee(14),K=ee(4),e=ee(34),t=ee(37),H=ee(41),z=ee(50),G=ee(51),I=ee(42),C=ee(57),w=ee(16),i=ee(59),F=ee(8),B=ee(5),u=ee(60),s=ee(12),o=ee(18),y=ee(38),r=ee(61),f=ee(39),m=ee(3),P=ee(45),d=ee(40),A=ee(62),L=ee(63),h=ee(64),g=ee(65);const k=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,isOffscreenCanvasSupported:!1,canvasMaxAreaInBytes:-1,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),D={TILING:1,SHADING:2},T=10,V=Promise.resolve();function q(Z,N=!1){if(Array.isArray(Z)){for(const M of Z){const c=q(M,!0);if(c)return c}return(0,n.warn)(`Unsupported blend mode Array: ${Z}`),"source-over"}if(!(Z instanceof K.Name))return N?null:"source-over";switch(Z.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return N?null:((0,n.warn)(`Unsupported blend mode: ${Z.name}`),"source-over")}function v(Z){var N;Z.fn===n.OPS.paintImageMaskXObject&&((N=Z.args[0])==null?void 0:N.count)>0&&Z.args[0].count++}const X=class{constructor(){this.reset()}check(){return++this.checked<X.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+X.TIME_SLOT_DURATION_MS,this.checked=0}};let x=X;Rt(x,"TIME_SLOT_DURATION_MS",20),Rt(x,"CHECK_TIME_EVERY",100);class E{constructor({xref:N,handler:M,pageIndex:c,idFactory:_,fontCache:W,builtInCMapCache:Y,standardFontDataCache:J,globalImageCache:ae,systemFontCache:oe,options:he=null}){this.xref=N,this.handler=M,this.pageIndex=c,this.idFactory=_,this.fontCache=W,this.builtInCMapCache=Y,this.standardFontDataCache=J,this.globalImageCache=ae,this.systemFontCache=oe,this.options=he||k,this.parsingType3Font=!1,this._regionalImageCache=new i.RegionalImageCache,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this),A.ImageResizer.setMaxArea(this.options.canvasMaxAreaInBytes)}get _pdfFunctionFactory(){const N=new C.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,n.shadow)(this,"_pdfFunctionFactory",N)}clone(N=null){const M=Object.create(this);return M.options=Object.assign(Object.create(null),this.options,N),M}hasBlendModes(N,M){if(!(N instanceof K.Dict)||N.objId&&M.has(N.objId))return!1;const c=new K.RefSet(M);N.objId&&c.put(N.objId);const _=[N],W=this.xref;for(;_.length;){const Y=_.shift(),J=Y.get("ExtGState");if(J instanceof K.Dict)for(let oe of J.getRawValues()){if(oe instanceof K.Ref){if(c.has(oe))continue;try{oe=W.fetch(oe)}catch(ne){c.put(oe),(0,n.info)(`hasBlendModes - ignoring ExtGState: "${ne}".`);continue}}if(!(oe instanceof K.Dict))continue;oe.objId&&c.put(oe.objId);const he=oe.get("BM");if(he instanceof K.Name){if(he.name!=="Normal")return!0;continue}if(he!==void 0&&Array.isArray(he)){for(const ne of he)if(ne instanceof K.Name&&ne.name!=="Normal")return!0}}const ae=Y.get("XObject");if(ae instanceof K.Dict)for(let oe of ae.getRawValues()){if(oe instanceof K.Ref){if(c.has(oe))continue;try{oe=W.fetch(oe)}catch(ne){c.put(oe),(0,n.info)(`hasBlendModes - ignoring XObject: "${ne}".`);continue}}if(!(oe instanceof B.BaseStream))continue;oe.dict.objId&&c.put(oe.dict.objId);const he=oe.dict.get("Resources");he instanceof K.Dict&&(he.objId&&c.has(he.objId)||(_.push(he),he.objId&&c.put(he.objId)))}}for(const Y of c)M.put(Y);return!1}async fetchBuiltInCMap(N){const M=this.builtInCMapCache.get(N);if(M)return M;let c;if(this.options.cMapUrl!==null){const _=`${this.options.cMapUrl}${N}.bcmap`,W=await fetch(_);if(!W.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${_}" with "${W.statusText}".`);c={cMapData:new Uint8Array(await W.arrayBuffer()),compressionType:n.CMapCompressionType.BINARY}}else c=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:N});return c.compressionType!==n.CMapCompressionType.NONE&&this.builtInCMapCache.set(N,c),c}async fetchStandardFontData(N){const M=this.standardFontDataCache.get(N);if(M)return new F.Stream(M);if(this.options.useSystemFonts&&N!=="Symbol"&&N!=="ZapfDingbats")return null;const c=(0,H.getFontNameToFileMap)(),_=c[N];let W;if(this.options.standardFontDataUrl!==null){const Y=`${this.options.standardFontDataUrl}${_}`,J=await fetch(Y);J.ok?W=await J.arrayBuffer():(0,n.warn)(`fetchStandardFontData: failed to fetch file "${Y}" with "${J.statusText}".`)}else try{W=await this.handler.sendWithPromise("FetchStandardFontData",{filename:_})}catch(Y){(0,n.warn)(`fetchStandardFontData: failed to fetch file "${_}" with "${Y}".`)}return W?(this.standardFontDataCache.set(N,W),new F.Stream(W)):null}async buildFormXObject(N,M,c,_,W,Y,J){const ae=M.dict,oe=ae.getArray("Matrix");let he=ae.getArray("BBox");Array.isArray(he)&&he.length===4?he=n.Util.normalizeRect(he):he=null;let ne,re;ae.has("OC")&&(ne=await this.parseMarkedContentProps(ae.get("OC"),N)),ne!==void 0&&_.addOp(n.OPS.beginMarkedContentProps,["OC",ne]);const de=ae.get("Group");if(de){re={matrix:oe,bbox:he,smask:c,isolated:!1,knockout:!1};const ge=de.get("S");let pe=null;if((0,K.isName)(ge,"Transparency")&&(re.isolated=de.get("I")||!1,re.knockout=de.get("K")||!1,de.has("CS"))){const xe=de.getRaw("CS"),Ie=s.ColorSpace.getCached(xe,this.xref,J);Ie?pe=Ie:pe=await this.parseColorSpace({cs:xe,resources:N,localColorSpaceCache:J})}c!=null&&c.backdrop&&(pe||(pe=s.ColorSpace.singletons.rgb),c.backdrop=pe.getRgb(c.backdrop,0)),_.addOp(n.OPS.beginGroup,[re])}const ue=de?[oe,null]:[oe,he];return _.addOp(n.OPS.paintFormXObjectBegin,ue),this.getOperatorList({stream:M,task:W,resources:ae.get("Resources")||N,operatorList:_,initialState:Y}).then(function(){_.addOp(n.OPS.paintFormXObjectEnd,[]),de&&_.addOp(n.OPS.endGroup,[re]),ne!==void 0&&_.addOp(n.OPS.endMarkedContent,[])})}_sendImgData(N,M,c=!1){const _=M?[M.bitmap||M.data.buffer]:null;return this.parsingType3Font||c?this.handler.send("commonobj",[N,"Image",M],_):this.handler.send("obj",[N,this.pageIndex,"Image",M],_)}async buildPaintImageXObject({resources:N,image:M,isInline:c=!1,operatorList:_,cacheKey:W,localImageCache:Y,localColorSpaceCache:J}){const ae=M.dict,oe=ae.objId,he=ae.get("W","Width"),ne=ae.get("H","Height");if(!(he&&typeof he=="number")||!(ne&&typeof ne=="number")){(0,n.warn)("Image dimensions are missing, or not numbers.");return}const re=this.options.maxImageSize;if(re!==-1&&he*ne>re){const be="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){(0,n.warn)(be);return}throw new Error(be)}let de;ae.has("OC")&&(de=await this.parseMarkedContentProps(ae.get("OC"),N));const ue=ae.get("IM","ImageMask")||!1;let ge,pe;if(ue){const be=ae.get("I","Interpolate"),Ee=he+7>>3,_e=M.getBytes(Ee*ne),Re=ae.getArray("D","Decode");if(this.parsingType3Font){if(ge=g.PDFImage.createRawMask({imgArray:_e,width:he,height:ne,imageIsFromDecodeStream:M instanceof o.DecodeStream,inverseDecode:(Re==null?void 0:Re[0])>0,interpolate:be}),ge.cached=!!W,pe=[ge],_.addImageOps(n.OPS.paintImageMaskXObject,pe,de),W){const ve={fn:n.OPS.paintImageMaskXObject,args:pe,optionalContent:de};Y.set(W,oe,ve),oe&&this._regionalImageCache.set(null,oe,ve)}return}if(ge=await g.PDFImage.createMask({imgArray:_e,width:he,height:ne,imageIsFromDecodeStream:M instanceof o.DecodeStream,inverseDecode:(Re==null?void 0:Re[0])>0,interpolate:be,isOffscreenCanvasSupported:this.options.isOffscreenCanvasSupported}),ge.isSingleOpaquePixel){if(_.addImageOps(n.OPS.paintSolidColorImageMask,[],de),W){const ve={fn:n.OPS.paintSolidColorImageMask,args:[],optionalContent:de};Y.set(W,oe,ve),oe&&this._regionalImageCache.set(null,oe,ve)}return}const Pe=`mask_${this.idFactory.createObjId()}`;if(_.addDependency(Pe),this._sendImgData(Pe,ge),pe=[{data:Pe,width:ge.width,height:ge.height,interpolate:ge.interpolate,count:1}],_.addImageOps(n.OPS.paintImageMaskXObject,pe,de),W){const ve={fn:n.OPS.paintImageMaskXObject,args:pe,optionalContent:de};Y.set(W,oe,ve),oe&&this._regionalImageCache.set(null,oe,ve)}return}const xe=ae.get("SM","SMask")||!1,Ie=ae.get("Mask")||!1,Fe=200;if(c&&!xe&&!Ie&&he+ne<Fe){ge=await new g.PDFImage({xref:this.xref,res:N,image:M,isInline:c,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:J}).createImageData(!0,!1),_.isOffscreenCanvasSupported=this.options.isOffscreenCanvasSupported,_.addImageOps(n.OPS.paintInlineImageXObject,[ge],de);return}let Ae=`img_${this.idFactory.createObjId()}`,we=!1;if(this.parsingType3Font?Ae=`${this.idFactory.getDocId()}_type3_${Ae}`:oe&&(we=this.globalImageCache.shouldCache(oe,this.pageIndex),we&&(Ae=`${this.idFactory.getDocId()}_${Ae}`)),_.addDependency(Ae),pe=[Ae,he,ne],g.PDFImage.buildImage({xref:this.xref,res:N,image:M,isInline:c,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:J}).then(async be=>{if(ge=await be.createImageData(!1,this.options.isOffscreenCanvasSupported),W&&oe&&we){let Ee=0;ge.bitmap?Ee=ge.width*ge.height*4:Ee=ge.data.length,this.globalImageCache.addByteSize(oe,Ee)}return this._sendImgData(Ae,ge,we)}).catch(be=>((0,n.warn)(`Unable to decode image "${Ae}": "${be}".`),this._sendImgData(Ae,null,we))),_.addImageOps(n.OPS.paintImageXObject,pe,de),W){const be={fn:n.OPS.paintImageXObject,args:pe,optionalContent:de};Y.set(W,oe,be),oe&&(this._regionalImageCache.set(null,oe,be),we&&((0,n.assert)(!c,"Cannot cache an inline image globally."),this.globalImageCache.setData(oe,{objId:Ae,fn:n.OPS.paintImageXObject,args:pe,optionalContent:de,byteSize:0})))}}handleSMask(N,M,c,_,W,Y){const J=N.get("G"),ae={subtype:N.get("S").name,backdrop:N.get("BC")},oe=N.get("TR");if((0,C.isPDFFunction)(oe)){const he=this._pdfFunctionFactory.create(oe),ne=new Uint8Array(256),re=new Float32Array(1);for(let de=0;de<256;de++)re[0]=de/255,he(re,0,re,0),ne[de]=re[0]*255|0;ae.transferMap=ne}return this.buildFormXObject(M,J,ae,c,_,W.state.clone(),Y)}handleTransferFunction(N){let M;if(Array.isArray(N))M=N;else if((0,C.isPDFFunction)(N))M=[N];else return null;const c=[];let _=0,W=0;for(const Y of M){const J=this.xref.fetchIfRef(Y);if(_++,(0,K.isName)(J,"Identity")){c.push(null);continue}else if(!(0,C.isPDFFunction)(J))return null;const ae=this._pdfFunctionFactory.create(J),oe=new Uint8Array(256),he=new Float32Array(1);for(let ne=0;ne<256;ne++)he[0]=ne/255,ae(he,0,he,0),oe[ne]=he[0]*255|0;c.push(oe),W++}return!(_===1||_===4)||W===0?null:c}handleTilingType(N,M,c,_,W,Y,J,ae){const oe=new h.OperatorList,he=K.Dict.merge({xref:this.xref,dictArray:[W.get("Resources"),c]});return this.getOperatorList({stream:_,task:J,resources:he,operatorList:oe}).then(function(){const ne=oe.getIR(),re=(0,z.getTilingPatternIR)(ne,W,M);Y.addDependencies(oe.dependencies),Y.addOp(N,re),W.objId&&ae.set(null,W.objId,{operatorListIR:ne,dict:W})}).catch(ne=>{if(!(ne instanceof n.AbortException)){if(this.options.ignoreErrors){(0,n.warn)(`handleTilingType - ignoring pattern: "${ne}".`);return}throw ne}})}handleSetFont(N,M,c,_,W,Y,J=null,ae=null){const oe=(M==null?void 0:M[0])instanceof K.Name?M[0].name:null;return this.loadFont(oe,c,N,J,ae).then(he=>he.font.isType3Font?he.loadType3Data(this,N,W).then(function(){return _.addDependencies(he.type3Dependencies),he}).catch(ne=>new U({loadedName:"g_font_error",font:new e.ErrorFont(`Type3 font load error: ${ne}`),dict:he.font,evaluatorOptions:this.options})):he).then(he=>(Y.font=he.font,he.send(this.handler),he.loadedName))}handleText(N,M){const c=M.font,_=c.charsToGlyphs(N);return c.data&&(M.textRenderingMode&n.TextRenderingMode.ADD_TO_PATH_FLAG||M.fillColorSpace.name==="Pattern"||c.disableFontFace||this.options.disableFontFace)&&E.buildFontPaths(c,_,this.handler,this.options),_}ensureStateFont(N){if(N.font)return;const M=new n.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){(0,n.warn)(`ensureStateFont: "${M}".`);return}throw M}async setGState({resources:N,gState:M,operatorList:c,cacheKey:_,task:W,stateManager:Y,localGStateCache:J,localColorSpaceCache:ae}){const oe=M.objId;let he=!0;const ne=[];let re=Promise.resolve();for(const de of M.getKeys()){const ue=M.get(de);switch(de){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":ne.push([de,ue]);break;case"Font":he=!1,re=re.then(()=>this.handleSetFont(N,null,ue[0],c,W,Y.state).then(function(pe){c.addDependency(pe),ne.push([de,[pe,ue[1]]])}));break;case"BM":ne.push([de,q(ue)]);break;case"SMask":if((0,K.isName)(ue,"None")){ne.push([de,!1]);break}ue instanceof K.Dict?(he=!1,re=re.then(()=>this.handleSMask(ue,N,c,W,Y,ae)),ne.push([de,!0])):(0,n.warn)("Unsupported SMask type");break;case"TR":const ge=this.handleTransferFunction(ue);ne.push([de,ge]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,n.info)("graphic state operator "+de);break;default:(0,n.info)("Unknown graphic state operator "+de);break}}return re.then(function(){ne.length>0&&c.addOp(n.OPS.setGState,[ne]),he&&J.set(_,oe,ne)})}loadFont(N,M,c,_=null,W=null){const Y=async()=>new U({loadedName:"g_font_error",font:new e.ErrorFont(`Font "${N}" is not available.`),dict:M,evaluatorOptions:this.options});let J;if(M)M instanceof K.Ref&&(J=M);else{const ue=c.get("Font");ue&&(J=ue.getRaw(N))}if(J){if(this.parsingType3Font&&this.type3FontRefs.has(J))return Y();if(this.fontCache.has(J))return this.fontCache.get(J);M=this.xref.fetchIfRef(J)}if(!(M instanceof K.Dict)){if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,n.warn)(`Font "${N}" is not available.`),Y();(0,n.warn)(`Font "${N}" is not available -- attempting to fallback to a default font.`),M=_||E.fallbackFontDict}if(M.cacheKey&&this.fontCache.has(M.cacheKey))return this.fontCache.get(M.cacheKey);const ae=new n.PromiseCapability;let oe;try{oe=this.preEvaluateFont(M),oe.cssFontInfo=W}catch(ue){return(0,n.warn)(`loadFont - preEvaluateFont failed: "${ue}".`),Y()}const{descriptor:he,hash:ne}=oe,re=J instanceof K.Ref;let de;if(ne&&he instanceof K.Dict){const ue=he.fontAliases||(he.fontAliases=Object.create(null));if(ue[ne]){const ge=ue[ne].aliasRef;if(re&&ge&&this.fontCache.has(ge))return this.fontCache.putAlias(J,ge),this.fontCache.get(J)}else ue[ne]={fontID:this.idFactory.createFontId()};re&&(ue[ne].aliasRef=J),de=ue[ne].fontID}else de=this.idFactory.createFontId();return(0,n.assert)(de==null?void 0:de.startsWith("f"),'The "fontID" must be (correctly) defined.'),re?this.fontCache.put(J,ae.promise):(M.cacheKey=`cacheKey_${de}`,this.fontCache.put(M.cacheKey,ae.promise)),M.loadedName=`${this.idFactory.getDocId()}_${de}`,this.translateFont(oe).then(ue=>{ae.resolve(new U({loadedName:M.loadedName,font:ue,dict:M,evaluatorOptions:this.options}))}).catch(ue=>{(0,n.warn)(`loadFont - translateFont failed: "${ue}".`),ae.resolve(new U({loadedName:M.loadedName,font:new e.ErrorFont(ue instanceof Error?ue.message:ue),dict:M,evaluatorOptions:this.options}))}),ae.promise}buildPath(N,M,c,_=!1){const W=N.length-1;if(c||(c=[]),W<0||N.fnArray[W]!==n.OPS.constructPath){_&&((0,n.warn)(`Encountered path operator "${M}" inside of a text object.`),N.addOp(n.OPS.save,null));let Y;switch(M){case n.OPS.rectangle:const J=c[0]+c[2],ae=c[1]+c[3];Y=[Math.min(c[0],J),Math.max(c[0],J),Math.min(c[1],ae),Math.max(c[1],ae)];break;case n.OPS.moveTo:case n.OPS.lineTo:Y=[c[0],c[0],c[1],c[1]];break;default:Y=[1/0,-1/0,1/0,-1/0];break}N.addOp(n.OPS.constructPath,[[M],c,Y]),_&&N.addOp(n.OPS.restore,null)}else{const Y=N.argsArray[W];Y[0].push(M),Y[1].push(...c);const J=Y[2];switch(M){case n.OPS.rectangle:const ae=c[0]+c[2],oe=c[1]+c[3];J[0]=Math.min(J[0],c[0],ae),J[1]=Math.max(J[1],c[0],ae),J[2]=Math.min(J[2],c[1],oe),J[3]=Math.max(J[3],c[1],oe);break;case n.OPS.moveTo:case n.OPS.lineTo:J[0]=Math.min(J[0],c[0]),J[1]=Math.max(J[1],c[0]),J[2]=Math.min(J[2],c[1]),J[3]=Math.max(J[3],c[1]);break}}}parseColorSpace({cs:N,resources:M,localColorSpaceCache:c}){return s.ColorSpace.parseAsync({cs:N,xref:this.xref,resources:M,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:c}).catch(_=>{if(_ instanceof n.AbortException)return null;if(this.options.ignoreErrors)return(0,n.warn)(`parseColorSpace - ignoring ColorSpace: "${_}".`),null;throw _})}parseShading({shading:N,resources:M,localColorSpaceCache:c,localShadingPatternCache:_}){let W=_.get(N);if(!W){var Y=z.Pattern.parseShading(N,this.xref,M,this._pdfFunctionFactory,c);const J=Y.getIR();W=`pattern_${this.idFactory.createObjId()}`,this.parsingType3Font&&(W=`${this.idFactory.getDocId()}_type3_${W}`),_.set(N,W),this.parsingType3Font?this.handler.send("commonobj",[W,"Pattern",J]):this.handler.send("obj",[W,this.pageIndex,"Pattern",J])}return W}handleColorN(N,M,c,_,W,Y,J,ae,oe,he){const ne=c.pop();if(ne instanceof K.Name){const re=W.getRaw(ne.name),de=re instanceof K.Ref&&oe.getByRef(re);if(de)try{const ge=_.base?_.base.getRgb(c,0):null,pe=(0,z.getTilingPatternIR)(de.operatorListIR,de.dict,ge);N.addOp(M,pe);return}catch{}const ue=this.xref.fetchIfRef(re);if(ue){const ge=ue instanceof B.BaseStream?ue.dict:ue,pe=ge.get("PatternType");if(pe===D.TILING){const xe=_.base?_.base.getRgb(c,0):null;return this.handleTilingType(M,xe,Y,ue,ge,N,J,oe)}else if(pe===D.SHADING){const xe=ge.get("Shading"),Ie=ge.getArray("Matrix"),Fe=this.parseShading({shading:xe,resources:Y,localColorSpaceCache:ae,localShadingPatternCache:he});N.addOp(M,["Shading",Fe,Ie]);return}throw new n.FormatError(`Unknown PatternType: ${pe}`)}}throw new n.FormatError(`Unknown PatternName: ${ne}`)}_parseVisibilityExpression(N,M,c){if(++M>10){(0,n.warn)("Visibility expression is too deeply nested");return}const W=N.length,Y=this.xref.fetchIfRef(N[0]);if(W<2||!(Y instanceof K.Name)){(0,n.warn)("Invalid visibility expression");return}switch(Y.name){case"And":case"Or":case"Not":c.push(Y.name);break;default:(0,n.warn)(`Invalid operator ${Y.name} in visibility expression`);return}for(let J=1;J<W;J++){const ae=N[J],oe=this.xref.fetchIfRef(ae);if(Array.isArray(oe)){const he=[];c.push(he),this._parseVisibilityExpression(oe,M,he)}else ae instanceof K.Ref&&c.push(ae.toString())}}async parseMarkedContentProps(N,M){let c;if(N instanceof K.Name)c=M.get("Properties").get(N.name);else if(N instanceof K.Dict)c=N;else throw new n.FormatError("Optional content properties malformed.");const _=c.get("Type").name;if(_==="OCG")return{type:_,id:c.objId};if(_==="OCMD"){const W=c.get("VE");if(Array.isArray(W)){const J=[];if(this._parseVisibilityExpression(W,0,J),J.length>0)return{type:"OCMD",expression:J}}const Y=c.get("OCGs");if(Array.isArray(Y)||Y instanceof K.Dict){const J=[];if(Array.isArray(Y))for(const ae of Y)J.push(ae.toString());else J.push(Y.objId);return{type:_,ids:J,policy:c.get("P")instanceof K.Name?c.get("P").name:null,expression:null}}else if(Y instanceof K.Ref)return{type:_,id:Y.toString()}}return null}getOperatorList({stream:N,task:M,resources:c,operatorList:_,initialState:W=null,fallbackFontDict:Y=null}){if(c||(c=K.Dict.empty),W||(W=new ie),!_)throw new Error('getOperatorList: missing "operatorList" parameter');const J=this,ae=this.xref;let oe=!1;const he=new i.LocalImageCache,ne=new i.LocalColorSpaceCache,re=new i.LocalGStateCache,de=new i.LocalTilingPatternCache,ue=new Map,ge=c.get("XObject")||K.Dict.empty,pe=c.get("Pattern")||K.Dict.empty,xe=new $(W),Ie=new j(N,ae,xe),Fe=new x;function Ae(we){for(let be=0,Ee=Ie.savedStatesDepth;be<Ee;be++)_.addOp(n.OPS.restore,[])}return new Promise(function we(be,Ee){const _e=function(Xe){Promise.all([Xe,_.ready]).then(function(){try{we(be,Ee)}catch(Qe){Ee(Qe)}},Ee)};M.ensureNotTerminated(),Fe.reset();const Re={};let Pe,ve,Te,je,Ce,ke;for(;!(Pe=Fe.check())&&(Re.args=null,!!Ie.read(Re));){let Xe=Re.args,Qe=Re.fn;switch(Qe|0){case n.OPS.paintXObject:if(ke=Xe[0]instanceof K.Name,Ce=Xe[0].name,ke){const qe=he.getByName(Ce);if(qe){_.addImageOps(qe.fn,qe.args,qe.optionalContent),v(qe),Xe=null;continue}}_e(new Promise(function(qe,gt){if(!ke)throw new n.FormatError("XObject must be referred to by name.");let mt=ge.getRaw(Ce);if(mt instanceof K.Ref){const Pt=he.getByRef(mt)||J._regionalImageCache.getByRef(mt);if(Pt){_.addImageOps(Pt.fn,Pt.args,Pt.optionalContent),v(Pt),qe();return}const st=J.globalImageCache.getData(mt,J.pageIndex);if(st){_.addDependency(st.objId),_.addImageOps(st.fn,st.args,st.optionalContent),qe();return}mt=ae.fetch(mt)}if(!(mt instanceof B.BaseStream))throw new n.FormatError("XObject should be a stream");const Ct=mt.dict.get("Subtype");if(!(Ct instanceof K.Name))throw new n.FormatError("XObject should have a Name subtype");if(Ct.name==="Form"){xe.save(),J.buildFormXObject(c,mt,null,_,M,xe.state.clone(),ne).then(function(){xe.restore(),qe()},gt);return}else if(Ct.name==="Image"){J.buildPaintImageXObject({resources:c,image:mt,operatorList:_,cacheKey:Ce,localImageCache:he,localColorSpaceCache:ne}).then(qe,gt);return}else if(Ct.name==="PS")(0,n.info)("Ignored XObject subtype PS");else throw new n.FormatError(`Unhandled XObject subtype ${Ct.name}`);qe()}).catch(function(qe){if(!(qe instanceof n.AbortException)){if(J.options.ignoreErrors){(0,n.warn)(`getOperatorList - ignoring XObject: "${qe}".`);return}throw qe}}));return;case n.OPS.setFont:var Le=Xe[1];_e(J.handleSetFont(c,Xe,null,_,M,xe.state,Y).then(function(qe){_.addDependency(qe),_.addOp(n.OPS.setFont,[qe,Le])}));return;case n.OPS.beginText:oe=!0;break;case n.OPS.endText:oe=!1;break;case n.OPS.endInlineImage:var Ge=Xe[0].cacheKey;if(Ge){const qe=he.getByName(Ge);if(qe){_.addImageOps(qe.fn,qe.args,qe.optionalContent),v(qe),Xe=null;continue}}_e(J.buildPaintImageXObject({resources:c,image:Xe[0],isInline:!0,operatorList:_,cacheKey:Ge,localImageCache:he,localColorSpaceCache:ne}));return;case n.OPS.showText:if(!xe.state.font){J.ensureStateFont(xe.state);continue}Xe[0]=J.handleText(Xe[0],xe.state);break;case n.OPS.showSpacedText:if(!xe.state.font){J.ensureStateFont(xe.state);continue}var Oe=[],tt=xe.state;for(const qe of Xe[0])typeof qe=="string"?Oe.push(...J.handleText(qe,tt)):typeof qe=="number"&&Oe.push(qe);Xe[0]=Oe,Qe=n.OPS.showText;break;case n.OPS.nextLineShowText:if(!xe.state.font){J.ensureStateFont(xe.state);continue}_.addOp(n.OPS.nextLine),Xe[0]=J.handleText(Xe[0],xe.state),Qe=n.OPS.showText;break;case n.OPS.nextLineSetSpacingShowText:if(!xe.state.font){J.ensureStateFont(xe.state);continue}_.addOp(n.OPS.nextLine),_.addOp(n.OPS.setWordSpacing,[Xe.shift()]),_.addOp(n.OPS.setCharSpacing,[Xe.shift()]),Xe[0]=J.handleText(Xe[0],xe.state),Qe=n.OPS.showText;break;case n.OPS.setTextRenderingMode:xe.state.textRenderingMode=Xe[0];break;case n.OPS.setFillColorSpace:{const qe=s.ColorSpace.getCached(Xe[0],ae,ne);if(qe){xe.state.fillColorSpace=qe;continue}_e(J.parseColorSpace({cs:Xe[0],resources:c,localColorSpaceCache:ne}).then(function(gt){gt&&(xe.state.fillColorSpace=gt)}));return}case n.OPS.setStrokeColorSpace:{const qe=s.ColorSpace.getCached(Xe[0],ae,ne);if(qe){xe.state.strokeColorSpace=qe;continue}_e(J.parseColorSpace({cs:Xe[0],resources:c,localColorSpaceCache:ne}).then(function(gt){gt&&(xe.state.strokeColorSpace=gt)}));return}case n.OPS.setFillColor:je=xe.state.fillColorSpace,Xe=je.getRgb(Xe,0),Qe=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeColor:je=xe.state.strokeColorSpace,Xe=je.getRgb(Xe,0),Qe=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillGray:xe.state.fillColorSpace=s.ColorSpace.singletons.gray,Xe=s.ColorSpace.singletons.gray.getRgb(Xe,0),Qe=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeGray:xe.state.strokeColorSpace=s.ColorSpace.singletons.gray,Xe=s.ColorSpace.singletons.gray.getRgb(Xe,0),Qe=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillCMYKColor:xe.state.fillColorSpace=s.ColorSpace.singletons.cmyk,Xe=s.ColorSpace.singletons.cmyk.getRgb(Xe,0),Qe=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeCMYKColor:xe.state.strokeColorSpace=s.ColorSpace.singletons.cmyk,Xe=s.ColorSpace.singletons.cmyk.getRgb(Xe,0),Qe=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillRGBColor:xe.state.fillColorSpace=s.ColorSpace.singletons.rgb,Xe=s.ColorSpace.singletons.rgb.getRgb(Xe,0);break;case n.OPS.setStrokeRGBColor:xe.state.strokeColorSpace=s.ColorSpace.singletons.rgb,Xe=s.ColorSpace.singletons.rgb.getRgb(Xe,0);break;case n.OPS.setFillColorN:if(je=xe.state.fillColorSpace,je.name==="Pattern"){_e(J.handleColorN(_,n.OPS.setFillColorN,Xe,je,pe,c,M,ne,de,ue));return}Xe=je.getRgb(Xe,0),Qe=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeColorN:if(je=xe.state.strokeColorSpace,je.name==="Pattern"){_e(J.handleColorN(_,n.OPS.setStrokeColorN,Xe,je,pe,c,M,ne,de,ue));return}Xe=je.getRgb(Xe,0),Qe=n.OPS.setStrokeRGBColor;break;case n.OPS.shadingFill:var Ye=c.get("Shading");if(!Ye)throw new n.FormatError("No shading resource found");var et=Ye.get(Xe[0].name);if(!et)throw new n.FormatError("No shading object found");Xe=[J.parseShading({shading:et,resources:c,localColorSpaceCache:ne,localShadingPatternCache:ue})],Qe=n.OPS.shadingFill;break;case n.OPS.setGState:if(ke=Xe[0]instanceof K.Name,Ce=Xe[0].name,ke){const qe=re.getByName(Ce);if(qe){qe.length>0&&_.addOp(n.OPS.setGState,[qe]),Xe=null;continue}}_e(new Promise(function(qe,gt){if(!ke)throw new n.FormatError("GState must be referred to by name.");const mt=c.get("ExtGState");if(!(mt instanceof K.Dict))throw new n.FormatError("ExtGState should be a dictionary.");const Ct=mt.get(Ce);if(!(Ct instanceof K.Dict))throw new n.FormatError("GState should be a dictionary.");J.setGState({resources:c,gState:Ct,operatorList:_,cacheKey:Ce,task:M,stateManager:xe,localGStateCache:re,localColorSpaceCache:ne}).then(qe,gt)}).catch(function(qe){if(!(qe instanceof n.AbortException)){if(J.options.ignoreErrors){(0,n.warn)(`getOperatorList - ignoring ExtGState: "${qe}".`);return}throw qe}}));return;case n.OPS.moveTo:case n.OPS.lineTo:case n.OPS.curveTo:case n.OPS.curveTo2:case n.OPS.curveTo3:case n.OPS.closePath:case n.OPS.rectangle:J.buildPath(_,Qe,Xe,oe);continue;case n.OPS.markPoint:case n.OPS.markPointProps:case n.OPS.beginCompat:case n.OPS.endCompat:continue;case n.OPS.beginMarkedContentProps:if(!(Xe[0]instanceof K.Name)){(0,n.warn)(`Expected name for beginMarkedContentProps arg0=${Xe[0]}`);continue}if(Xe[0].name==="OC"){_e(J.parseMarkedContentProps(Xe[1],c).then(qe=>{_.addOp(n.OPS.beginMarkedContentProps,["OC",qe])}).catch(qe=>{if(!(qe instanceof n.AbortException)){if(J.options.ignoreErrors){(0,n.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${qe}".`);return}throw qe}}));return}Xe=[Xe[0].name,Xe[1]instanceof K.Dict?Xe[1].get("MCID"):null];break;case n.OPS.beginMarkedContent:case n.OPS.endMarkedContent:default:if(Xe!==null){for(ve=0,Te=Xe.length;ve<Te&&!(Xe[ve]instanceof K.Dict);ve++);if(ve<Te){(0,n.warn)("getOperatorList - ignoring operator: "+Qe);continue}}}_.addOp(Qe,Xe)}if(Pe){_e(V);return}Ae(),be()}).catch(we=>{if(!(we instanceof n.AbortException)){if(this.options.ignoreErrors){(0,n.warn)(`getOperatorList - ignoring errors during "${M.name}" task: "${we}".`),Ae();return}throw we}})}getTextContent({stream:N,task:M,resources:c,stateManager:_=null,includeMarkedContent:W=!1,sink:Y,seenStyles:J=new Set,viewBox:ae,markedContentData:oe=null,disableNormalization:he=!1}){c||(c=K.Dict.empty),_||(_=new $(new Q)),W&&(oe||(oe={level:0}));const ne={items:[],styles:Object.create(null)},re={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},de=[" "," "];let ue=0;function ge(st){const dt=(ue+1)%2,ot=de[ue]!==" "&&de[dt]===" ";return de[ue]=st,ue=dt,ot}function pe(){return de[ue]!==" "&&de[(ue+1)%2]===" "}function xe(){de[0]=de[1]=" ",ue=0}const Ie=.102,Fe=.03,Ae=-.2,we=.102,be=.6,Ee=.25,_e=this,Re=this.xref,Pe=[];let ve=null;const Te=new i.LocalImageCache,je=new i.LocalGStateCache,Ce=new j(N,Re,_);let ke;function Le({width:st=0,height:dt=0,transform:ot=re.prevTransform,fontName:_t=re.fontName}){ne.items.push({str:" ",dir:"ltr",width:st,height:dt,transform:ot,fontName:_t,hasEOL:!1})}function Ge(){const st=ke.font,dt=[ke.fontSize*ke.textHScale,0,0,ke.fontSize,0,ke.textRise];if(st.isType3Font&&(ke.fontSize<=1||st.isCharBBox)&&!(0,n.isArrayEqual)(ke.fontMatrix,n.FONT_IDENTITY_MATRIX)){const ot=st.bbox[3]-st.bbox[1];ot>0&&(dt[3]*=ot*ke.fontMatrix[3])}return n.Util.transform(ke.ctm,n.Util.transform(ke.textMatrix,dt))}function Oe(){if(re.initialized)return re;const{font:st,loadedName:dt}=ke;J.has(dt)||(J.add(dt),ne.styles[dt]={fontFamily:st.fallbackName,ascent:st.ascent,descent:st.descent,vertical:st.vertical}),re.fontName=dt;const ot=re.transform=Ge();st.vertical?(re.width=re.totalWidth=Math.hypot(ot[0],ot[1]),re.height=re.totalHeight=0,re.vertical=!0):(re.width=re.totalWidth=0,re.height=re.totalHeight=Math.hypot(ot[2],ot[3]),re.vertical=!1);const _t=Math.hypot(ke.textLineMatrix[0],ke.textLineMatrix[1]),Mt=Math.hypot(ke.ctm[0],ke.ctm[1]);re.textAdvanceScale=Mt*_t;const{fontSize:Et}=ke;return re.trackingSpaceMin=Et*Ie,re.notASpace=Et*Fe,re.negativeSpaceMax=Et*Ae,re.spaceInFlowMin=Et*we,re.spaceInFlowMax=Et*be,re.hasEOL=!1,re.initialized=!0,re}function tt(){if(!re.initialized)return;const st=Math.hypot(ke.textLineMatrix[0],ke.textLineMatrix[1]),ot=Math.hypot(ke.ctm[0],ke.ctm[1])*st;ot!==re.textAdvanceScale&&(re.vertical?(re.totalHeight+=re.height*re.textAdvanceScale,re.height=0):(re.totalWidth+=re.width*re.textAdvanceScale,re.width=0),re.textAdvanceScale=ot)}function Ye(st){let dt=st.str.join("");he||(dt=(0,n.normalizeUnicode)(dt));const ot=(0,u.bidi)(dt,-1,st.vertical);return{str:ot.str,dir:ot.dir,width:Math.abs(st.totalWidth),height:Math.abs(st.totalHeight),transform:st.transform,fontName:st.fontName,hasEOL:st.hasEOL}}function et(st,dt){return _e.loadFont(st,dt,c).then(function(ot){return ot.font.isType3Font?ot.loadType3Data(_e,c,M).catch(function(){}).then(function(){return ot}):ot}).then(function(ot){ke.loadedName=ot.loadedName,ke.font=ot.font,ke.fontMatrix=ot.font.fontMatrix||n.FONT_IDENTITY_MATRIX})}function Xe(st,dt,ot){const _t=Math.hypot(ot[0],ot[1]);return[(ot[0]*st+ot[1]*dt)/_t,(ot[2]*st+ot[3]*dt)/_t]}function Qe(st){var Je;const dt=Ge();let ot=dt[4],_t=dt[5];if((Je=ke.font)!=null&&Je.vertical){if(ot<ae[0]||ot>ae[2]||_t+st<ae[1]||_t>ae[3])return!1}else if(ot+st<ae[0]||ot>ae[2]||_t<ae[1]||_t>ae[3])return!1;if(!ke.font||!re.prevTransform)return!0;let Mt=re.prevTransform[4],Et=re.prevTransform[5];if(Mt===ot&&Et===_t)return!0;let St=-1;switch(dt[0]&&dt[1]===0&&dt[2]===0?St=dt[0]>0?0:180:dt[1]&&dt[0]===0&&dt[3]===0&&(St=dt[1]>0?90:270),St){case 0:break;case 90:[ot,_t]=[_t,ot],[Mt,Et]=[Et,Mt];break;case 180:[ot,_t,Mt,Et]=[-ot,-_t,-Mt,-Et];break;case 270:[ot,_t]=[-_t,-ot],[Mt,Et]=[-Et,-Mt];break;default:[ot,_t]=Xe(ot,_t,dt),[Mt,Et]=Xe(Mt,Et,re.prevTransform)}if(ke.font.vertical){const Ve=(Et-_t)/re.textAdvanceScale,at=ot-Mt,ft=Math.sign(re.height);return Ve<ft*re.negativeSpaceMax?Math.abs(at)>.5*re.width?(qe(),!0):(xe(),mt(),!0):Math.abs(at)>re.width?(qe(),!0):(Ve<=ft*re.notASpace&&xe(),Ve<=ft*re.trackingSpaceMin?pe()?(xe(),mt(),Le({height:Math.abs(Ve)})):re.height+=Ve:gt(Ve,re.prevTransform,ft)||(re.str.length===0?(xe(),Le({height:Math.abs(Ve)})):re.height+=Ve),Math.abs(at)>re.width*Ee&&mt(),!0)}const Lt=(ot-Mt)/re.textAdvanceScale,We=_t-Et,Ue=Math.sign(re.width);return Lt<Ue*re.negativeSpaceMax?Math.abs(We)>.5*re.height?(qe(),!0):(xe(),mt(),!0):Math.abs(We)>re.height?(qe(),!0):(Lt<=Ue*re.notASpace&&xe(),Lt<=Ue*re.trackingSpaceMin?pe()?(xe(),mt(),Le({width:Math.abs(Lt)})):re.width+=Lt:gt(Lt,re.prevTransform,Ue)||(re.str.length===0?(xe(),Le({width:Math.abs(Lt)})):re.width+=Lt),Math.abs(We)>re.height*Ee&&mt(),!0)}function it({chars:st,extraSpacing:dt}){const ot=ke.font;if(!st){const Et=ke.charSpacing+dt;Et&&(ot.vertical?ke.translateTextMatrix(0,-Et):ke.translateTextMatrix(Et*ke.textHScale,0));return}const _t=ot.charsToGlyphs(st),Mt=ke.fontMatrix[0]*ke.fontSize;for(let Et=0,St=_t.length;Et<St;Et++){const Lt=_t[Et],{category:We}=Lt;if(We.isInvisibleFormatMark)continue;let Ue=ke.charSpacing+(Et+1===St?dt:0),Je=Lt.width;ot.vertical&&(Je=Lt.vmetric?Lt.vmetric[0]:-Je);let Ve=Je*Mt;if(We.isWhitespace){ot.vertical?(Ue+=-Ve+ke.wordSpacing,ke.translateTextMatrix(0,-Ue)):(Ue+=Ve+ke.wordSpacing,ke.translateTextMatrix(Ue*ke.textHScale,0)),ge(" ");continue}if(!We.isZeroWidthDiacritic&&!Qe(Ve)){ot.vertical?ke.translateTextMatrix(0,Ve):ke.translateTextMatrix(Ve*ke.textHScale,0);continue}const at=Oe();We.isZeroWidthDiacritic&&(Ve=0),ot.vertical?(ke.translateTextMatrix(0,Ve),Ve=Math.abs(Ve),at.height+=Ve):(Ve*=ke.textHScale,ke.translateTextMatrix(Ve,0),at.width+=Ve),Ve&&(at.prevTransform=Ge());const ft=Lt.unicode;ge(ft)&&at.str.push(" "),at.str.push(ft),Ue&&(ot.vertical?ke.translateTextMatrix(0,-Ue):ke.translateTextMatrix(Ue*ke.textHScale,0))}}function qe(){xe(),re.initialized?(re.hasEOL=!0,mt()):ne.items.push({str:"",dir:"ltr",width:0,height:0,transform:Ge(),fontName:ke.loadedName,hasEOL:!0})}function gt(st,dt,ot){if(ot*re.spaceInFlowMin<=st&&st<=ot*re.spaceInFlowMax)return re.initialized&&(xe(),re.str.push(" ")),!1;const _t=re.fontName;let Mt=0;return re.vertical&&(Mt=st,st=0),mt(),xe(),Le({width:Math.abs(st),height:Math.abs(Mt),transform:dt||Ge(),fontName:_t}),!0}function mt(){!re.initialized||!re.str||(re.vertical?re.totalHeight+=re.height*re.textAdvanceScale:re.totalWidth+=re.width*re.textAdvanceScale,ne.items.push(Ye(re)),re.initialized=!1,re.str.length=0)}function Ct(st=!1){const dt=ne.items.length;dt!==0&&(st&&dt<T||(Y.enqueue(ne,dt),ne.items=[],ne.styles=Object.create(null)))}const Pt=new x;return new Promise(function st(dt,ot){const _t=function(Ve){Ct(!0),Promise.all([Ve,Y.ready]).then(function(){try{st(dt,ot)}catch(at){ot(at)}},ot)};M.ensureNotTerminated(),Pt.reset();const Mt={};let Et,St=[];for(;!(Et=Pt.check())&&(St.length=0,Mt.args=St,!!Ce.read(Mt));){const Ve=ke;ke=_.state;const at=Mt.fn;switch(St=Mt.args,at|0){case n.OPS.setFont:var Lt=St[0].name,We=St[1];if(ke.font&&Lt===ke.fontName&&We===ke.fontSize)break;mt(),ke.fontName=Lt,ke.fontSize=We,_t(et(Lt,null));return;case n.OPS.setTextRise:ke.textRise=St[0];break;case n.OPS.setHScale:ke.textHScale=St[0]/100;break;case n.OPS.setLeading:ke.leading=St[0];break;case n.OPS.moveText:ke.translateTextLineMatrix(St[0],St[1]),ke.textMatrix=ke.textLineMatrix.slice();break;case n.OPS.setLeadingMoveText:ke.leading=-St[1],ke.translateTextLineMatrix(St[0],St[1]),ke.textMatrix=ke.textLineMatrix.slice();break;case n.OPS.nextLine:ke.carriageReturn();break;case n.OPS.setTextMatrix:ke.setTextMatrix(St[0],St[1],St[2],St[3],St[4],St[5]),ke.setTextLineMatrix(St[0],St[1],St[2],St[3],St[4],St[5]),tt();break;case n.OPS.setCharSpacing:ke.charSpacing=St[0];break;case n.OPS.setWordSpacing:ke.wordSpacing=St[0];break;case n.OPS.beginText:ke.textMatrix=n.IDENTITY_MATRIX.slice(),ke.textLineMatrix=n.IDENTITY_MATRIX.slice();break;case n.OPS.showSpacedText:if(!_.state.font){_e.ensureStateFont(_.state);continue}const ft=(ke.font.vertical?1:-1)*ke.fontSize/1e3,ct=St[0];for(let Se=0,De=ct.length;Se<De;Se++){const $e=ct[Se];if(typeof $e=="string")Pe.push($e);else if(typeof $e=="number"&&$e!==0){const Ze=Pe.join("");Pe.length=0,it({chars:Ze,extraSpacing:$e*ft})}}if(Pe.length>0){const Se=Pe.join("");Pe.length=0,it({chars:Se,extraSpacing:0})}break;case n.OPS.showText:if(!_.state.font){_e.ensureStateFont(_.state);continue}it({chars:St[0],extraSpacing:0});break;case n.OPS.nextLineShowText:if(!_.state.font){_e.ensureStateFont(_.state);continue}ke.carriageReturn(),it({chars:St[0],extraSpacing:0});break;case n.OPS.nextLineSetSpacingShowText:if(!_.state.font){_e.ensureStateFont(_.state);continue}ke.wordSpacing=St[0],ke.charSpacing=St[1],ke.carriageReturn(),it({chars:St[2],extraSpacing:0});break;case n.OPS.paintXObject:mt(),ve||(ve=c.get("XObject")||K.Dict.empty);var Ue=St[0]instanceof K.Name,Je=St[0].name;if(Ue&&Te.getByName(Je))break;_t(new Promise(function(Se,De){if(!Ue)throw new n.FormatError("XObject must be referred to by name.");let $e=ve.getRaw(Je);if($e instanceof K.Ref){if(Te.getByRef($e)){Se();return}if(_e.globalImageCache.getData($e,_e.pageIndex)){Se();return}$e=Re.fetch($e)}if(!($e instanceof B.BaseStream))throw new n.FormatError("XObject should be a stream");const Ze=$e.dict.get("Subtype");if(!(Ze instanceof K.Name))throw new n.FormatError("XObject should have a Name subtype");if(Ze.name!=="Form"){Te.set(Je,$e.dict.objId,!0),Se();return}const nt=_.state.clone(),pt=new $(nt),yt=$e.dict.getArray("Matrix");Array.isArray(yt)&&yt.length===6&&pt.transform(yt),Ct();const lt={enqueueInvoked:!1,enqueue(At,ht){this.enqueueInvoked=!0,Y.enqueue(At,ht)},get desiredSize(){return Y.desiredSize},get ready(){return Y.ready}};_e.getTextContent({stream:$e,task:M,resources:$e.dict.get("Resources")||c,stateManager:pt,includeMarkedContent:W,sink:lt,seenStyles:J,viewBox:ae,markedContentData:oe,disableNormalization:he}).then(function(){lt.enqueueInvoked||Te.set(Je,$e.dict.objId,!0),Se()},De)}).catch(function(Se){if(!(Se instanceof n.AbortException)){if(_e.options.ignoreErrors){(0,n.warn)(`getTextContent - ignoring XObject: "${Se}".`);return}throw Se}}));return;case n.OPS.setGState:if(Ue=St[0]instanceof K.Name,Je=St[0].name,Ue&&je.getByName(Je))break;_t(new Promise(function(Se,De){if(!Ue)throw new n.FormatError("GState must be referred to by name.");const $e=c.get("ExtGState");if(!($e instanceof K.Dict))throw new n.FormatError("ExtGState should be a dictionary.");const Ze=$e.get(Je);if(!(Ze instanceof K.Dict))throw new n.FormatError("GState should be a dictionary.");const nt=Ze.get("Font");if(!nt){je.set(Je,Ze.objId,!0),Se();return}mt(),ke.fontName=null,ke.fontSize=nt[1],et(null,nt[0]).then(Se,De)}).catch(function(Se){if(!(Se instanceof n.AbortException)){if(_e.options.ignoreErrors){(0,n.warn)(`getTextContent - ignoring ExtGState: "${Se}".`);return}throw Se}}));return;case n.OPS.beginMarkedContent:mt(),W&&(oe.level++,ne.items.push({type:"beginMarkedContent",tag:St[0]instanceof K.Name?St[0].name:null}));break;case n.OPS.beginMarkedContentProps:if(mt(),W){oe.level++;let Se=null;St[1]instanceof K.Dict&&(Se=St[1].get("MCID")),ne.items.push({type:"beginMarkedContentProps",id:Number.isInteger(Se)?`${_e.idFactory.getPageObjId()}_mc${Se}`:null,tag:St[0]instanceof K.Name?St[0].name:null})}break;case n.OPS.endMarkedContent:if(mt(),W){if(oe.level===0)break;oe.level--,ne.items.push({type:"endMarkedContent"})}break;case n.OPS.restore:Ve&&(Ve.font!==ke.font||Ve.fontSize!==ke.fontSize||Ve.fontName!==ke.fontName)&&mt();break}if(ne.items.length>=Y.desiredSize){Et=!0;break}}if(Et){_t(V);return}mt(),Ct(),dt()}).catch(st=>{if(!(st instanceof n.AbortException)){if(this.options.ignoreErrors){(0,n.warn)(`getTextContent - ignoring errors during "${M.name}" task: "${st}".`),mt(),Ct();return}throw st}})}extractDataStructures(N,M,c){const _=this.xref;let W;const Y=this.readToUnicode(c.toUnicode||N.get("ToUnicode")||M.get("ToUnicode"));if(c.composite){const ne=N.get("CIDSystemInfo");ne instanceof K.Dict&&(c.cidSystemInfo={registry:(0,n.stringToPDFString)(ne.get("Registry")),ordering:(0,n.stringToPDFString)(ne.get("Ordering")),supplement:ne.get("Supplement")});try{const re=N.get("CIDToGIDMap");re instanceof B.BaseStream&&(W=re.getBytes())}catch(re){if(!this.options.ignoreErrors)throw re;(0,n.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${re}".`)}}const J=[];let ae=null,oe;if(N.has("Encoding")){if(oe=N.get("Encoding"),oe instanceof K.Dict){if(ae=oe.get("BaseEncoding"),ae=ae instanceof K.Name?ae.name:null,oe.has("Differences")){const ne=oe.get("Differences");let re=0;for(const de of ne){const ue=_.fetchIfRef(de);if(typeof ue=="number")re=ue;else if(ue instanceof K.Name)J[re++]=ue.name;else throw new n.FormatError(`Invalid entry in 'Differences' array: ${ue}`)}}}else if(oe instanceof K.Name)ae=oe.name;else{const ne="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new n.FormatError(ne);(0,n.warn)(ne)}ae!=="MacRomanEncoding"&&ae!=="MacExpertEncoding"&&ae!=="WinAnsiEncoding"&&(ae=null)}const he=!c.file||c.isInternalFont;if(ae&&he&&(0,H.getSymbolsFonts)()[c.name]&&(ae=null),ae)c.defaultEncoding=(0,t.getEncoding)(ae);else{const ne=!!(c.flags&y.FontFlags.Symbolic),re=!!(c.flags&y.FontFlags.Nonsymbolic);oe=t.StandardEncoding,c.type==="TrueType"&&!re&&(oe=t.WinAnsiEncoding),ne&&(oe=t.MacRomanEncoding,he&&(/Symbol/i.test(c.name)?oe=t.SymbolSetEncoding:/Dingbats/i.test(c.name)?oe=t.ZapfDingbatsEncoding:/Wingdings/i.test(c.name)&&(oe=t.WinAnsiEncoding))),c.defaultEncoding=oe}return c.differences=J,c.baseEncodingName=ae,c.hasEncoding=!!ae||J.length>0,c.dict=N,Y.then(ne=>(c.toUnicode=ne,this.buildToUnicode(c))).then(ne=>(c.toUnicode=ne,W&&(c.cidToGidMap=this.readCidToGidMap(W,ne)),c))}_simpleFontToUnicode(N,M=!1){(0,n.assert)(!N.composite,"Must be a simple font.");const c=[],_=N.defaultEncoding.slice(),W=N.baseEncodingName,Y=N.differences;for(const ae in Y){const oe=Y[ae];oe!==".notdef"&&(_[ae]=oe)}const J=(0,f.getGlyphsUnicode)();for(const ae in _){let oe=_[ae];if(oe==="")continue;let he=J[oe];if(he!==void 0){c[ae]=String.fromCharCode(he);continue}let ne=0;switch(oe[0]){case"G":oe.length===3&&(ne=parseInt(oe.substring(1),16));break;case"g":oe.length===5&&(ne=parseInt(oe.substring(1),16));break;case"C":case"c":if(oe.length>=3&&oe.length<=4){const re=oe.substring(1);if(M){ne=parseInt(re,16);break}if(ne=+re,Number.isNaN(ne)&&Number.isInteger(parseInt(re,16)))return this._simpleFontToUnicode(N,!0)}break;case"u":he=(0,d.getUnicodeForGlyph)(oe,J),he!==-1&&(ne=he);break;default:switch(oe){case"f_h":case"f_t":case"T_h":c[ae]=oe.replaceAll("_","");continue}break}if(ne>0&&ne<=1114111&&Number.isInteger(ne)){if(W&&ne===+ae){const re=(0,t.getEncoding)(W);if(re&&(oe=re[ae])){c[ae]=String.fromCharCode(J[oe]);continue}}c[ae]=String.fromCodePoint(ne)}}return c}async buildToUnicode(N){var M;if(N.hasIncludedToUnicodeMap=((M=N.toUnicode)==null?void 0:M.length)>0,N.hasIncludedToUnicodeMap)return!N.composite&&N.hasEncoding&&(N.fallbackToUnicode=this._simpleFontToUnicode(N)),N.toUnicode;if(!N.composite)return new I.ToUnicodeMap(this._simpleFontToUnicode(N));if(N.composite&&(N.cMap.builtInCMap&&!(N.cMap instanceof l.IdentityCMap)||N.cidSystemInfo.registry==="Adobe"&&(N.cidSystemInfo.ordering==="GB1"||N.cidSystemInfo.ordering==="CNS1"||N.cidSystemInfo.ordering==="Japan1"||N.cidSystemInfo.ordering==="Korea1"))){const{registry:c,ordering:_}=N.cidSystemInfo,W=K.Name.get(`${c}-${_}-UCS2`),Y=await l.CMapFactory.create({encoding:W,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),J=[],ae=[];return N.cMap.forEach(function(oe,he){if(he>65535)throw new n.FormatError("Max size of CID is 65,535");const ne=Y.lookup(he);if(ne){ae.length=0;for(let re=0,de=ne.length;re<de;re+=2)ae.push((ne.charCodeAt(re)<<8)+ne.charCodeAt(re+1));J[oe]=String.fromCharCode(...ae)}}),new I.ToUnicodeMap(J)}return new I.IdentityToUnicodeMap(N.firstChar,N.lastChar)}readToUnicode(N){return N?N instanceof K.Name?l.CMapFactory.create({encoding:N,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(M){return M instanceof l.IdentityCMap?new I.IdentityToUnicodeMap(0,65535):new I.ToUnicodeMap(M.getMap())}):N instanceof B.BaseStream?l.CMapFactory.create({encoding:N,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(M){if(M instanceof l.IdentityCMap)return new I.IdentityToUnicodeMap(0,65535);const c=new Array(M.length);return M.forEach(function(_,W){if(typeof W=="number"){c[_]=String.fromCodePoint(W);return}const Y=[];for(let J=0;J<W.length;J+=2){const ae=W.charCodeAt(J)<<8|W.charCodeAt(J+1);if((ae&63488)!==55296){Y.push(ae);continue}J+=2;const oe=W.charCodeAt(J)<<8|W.charCodeAt(J+1);Y.push(((ae&1023)<<10)+(oe&1023)+65536)}c[_]=String.fromCodePoint(...Y)}),new I.ToUnicodeMap(c)},M=>{if(M instanceof n.AbortException)return null;if(this.options.ignoreErrors)return(0,n.warn)(`readToUnicode - ignoring ToUnicode data: "${M}".`),null;throw M}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(N,M){const c=[];for(let _=0,W=N.length;_<W;_++){const Y=N[_++]<<8|N[_],J=_>>1;Y===0&&!M.has(J)||(c[J]=Y)}return c}extractWidths(N,M,c){const _=this.xref;let W=[],Y=0;const J=[];let ae,oe,he,ne,re,de,ue,ge;if(c.composite){if(Y=N.has("DW")?N.get("DW"):1e3,ge=N.get("W"),ge)for(oe=0,he=ge.length;oe<he;oe++)if(de=_.fetchIfRef(ge[oe++]),ue=_.fetchIfRef(ge[oe]),Array.isArray(ue))for(ne=0,re=ue.length;ne<re;ne++)W[de++]=_.fetchIfRef(ue[ne]);else{const Ie=_.fetchIfRef(ge[++oe]);for(ne=de;ne<=ue;ne++)W[ne]=Ie}if(c.vertical){let Ie=N.getArray("DW2")||[880,-1e3];if(ae=[Ie[1],Y*.5,Ie[0]],Ie=N.get("W2"),Ie)for(oe=0,he=Ie.length;oe<he;oe++)if(de=_.fetchIfRef(Ie[oe++]),ue=_.fetchIfRef(Ie[oe]),Array.isArray(ue))for(ne=0,re=ue.length;ne<re;ne++)J[de++]=[_.fetchIfRef(ue[ne++]),_.fetchIfRef(ue[ne++]),_.fetchIfRef(ue[ne])];else{const Fe=[_.fetchIfRef(Ie[++oe]),_.fetchIfRef(Ie[++oe]),_.fetchIfRef(Ie[++oe])];for(ne=de;ne<=ue;ne++)J[ne]=Fe}}}else{const Ie=c.firstChar;if(ge=N.get("Widths"),ge){for(ne=Ie,oe=0,he=ge.length;oe<he;oe++)W[ne++]=_.fetchIfRef(ge[oe]);Y=parseFloat(M.get("MissingWidth"))||0}else{const Fe=N.get("BaseFont");if(Fe instanceof K.Name){const Ae=this.getBaseFontMetrics(Fe.name);W=this.buildCharCodeToWidth(Ae.widths,c),Y=Ae.defaultWidth}}}let pe=!0,xe=Y;for(const Ie in W){const Fe=W[Ie];if(Fe){if(!xe){xe=Fe;continue}if(xe!==Fe){pe=!1;break}}}pe?c.flags|=y.FontFlags.FixedPitch:c.flags&=~y.FontFlags.FixedPitch,c.defaultWidth=Y,c.widths=W,c.defaultVMetrics=ae,c.vmetrics=J}isSerifFont(N){const M=N.split("-")[0];return M in(0,H.getSerifFonts)()||/serif/gi.test(M)}getBaseFontMetrics(N){let M=0,c=Object.create(null),_=!1,Y=(0,H.getStdFontMap)()[N]||N;const J=(0,P.getMetrics)();Y in J||(this.isSerifFont(N)?Y="Times-Roman":Y="Helvetica");const ae=J[Y];return typeof ae=="number"?(M=ae,_=!0):c=ae(),{defaultWidth:M,monospace:_,widths:c}}buildCharCodeToWidth(N,M){const c=Object.create(null),_=M.differences,W=M.defaultEncoding;for(let Y=0;Y<256;Y++){if(Y in _&&N[_[Y]]){c[Y]=N[_[Y]];continue}if(Y in W&&N[W[Y]]){c[Y]=N[W[Y]];continue}}return c}preEvaluateFont(N){const M=N;let c=N.get("Subtype");if(!(c instanceof K.Name))throw new n.FormatError("invalid font Subtype");let _=!1,W,Y;if(c.name==="Type0"){const he=N.get("DescendantFonts");if(!he)throw new n.FormatError("Descendant fonts are not specified");if(N=Array.isArray(he)?this.xref.fetchIfRef(he[0]):he,!(N instanceof K.Dict))throw new n.FormatError("Descendant font is not a dictionary.");if(c=N.get("Subtype"),!(c instanceof K.Name))throw new n.FormatError("invalid font Subtype");_=!0}const J=N.get("FirstChar")||0,ae=N.get("LastChar")||(_?65535:255),oe=N.get("FontDescriptor");if(oe){W=new L.MurmurHash3_64;const he=M.getRaw("Encoding");if(he instanceof K.Name)W.update(he.name);else if(he instanceof K.Ref)W.update(he.toString());else if(he instanceof K.Dict){for(const re of he.getRawValues())if(re instanceof K.Name)W.update(re.name);else if(re instanceof K.Ref)W.update(re.toString());else if(Array.isArray(re)){const de=re.length,ue=new Array(de);for(let ge=0;ge<de;ge++){const pe=re[ge];pe instanceof K.Name?ue[ge]=pe.name:(typeof pe=="number"||pe instanceof K.Ref)&&(ue[ge]=pe.toString())}W.update(ue.join())}}if(W.update(`${J}-${ae}`),Y=N.get("ToUnicode")||M.get("ToUnicode"),Y instanceof B.BaseStream){const re=Y.str||Y,de=re.buffer?new Uint8Array(re.buffer.buffer,0,re.bufferLength):new Uint8Array(re.bytes.buffer,re.start,re.end-re.start);W.update(de)}else Y instanceof K.Name&&W.update(Y.name);const ne=N.get("Widths")||M.get("Widths");if(Array.isArray(ne)){const re=[];for(const de of ne)(typeof de=="number"||de instanceof K.Ref)&&re.push(de.toString());W.update(re.join())}if(_){W.update("compositeFont");const re=N.get("W")||M.get("W");if(Array.isArray(re)){const ue=[];for(const ge of re)if(typeof ge=="number"||ge instanceof K.Ref)ue.push(ge.toString());else if(Array.isArray(ge)){const pe=[];for(const xe of ge)(typeof xe=="number"||xe instanceof K.Ref)&&pe.push(xe.toString());ue.push(`[${pe.join()}]`)}W.update(ue.join())}const de=N.getRaw("CIDToGIDMap")||M.getRaw("CIDToGIDMap");de instanceof K.Name?W.update(de.name):de instanceof K.Ref?W.update(de.toString()):de instanceof B.BaseStream&&W.update(de.peekBytes())}}return{descriptor:oe,dict:N,baseDict:M,composite:_,type:c.name,firstChar:J,lastChar:ae,toUnicode:Y,hash:W?W.hexdigest():""}}async translateFont({descriptor:N,dict:M,baseDict:c,composite:_,type:W,firstChar:Y,lastChar:J,toUnicode:ae,cssFontInfo:oe}){const he=W==="Type3";let ne;if(!N)if(he)N=new K.Dict(null),N.set("FontName",K.Name.get(W)),N.set("FontBBox",M.getArray("FontBBox")||[0,0,0,0]);else{let be=M.get("BaseFont");if(!(be instanceof K.Name))throw new n.FormatError("Base font is not specified");be=be.name.replaceAll(/[,_]/g,"-");const Ee=this.getBaseFontMetrics(be),_e=be.split("-")[0],Re=(this.isSerifFont(_e)?y.FontFlags.Serif:0)|(Ee.monospace?y.FontFlags.FixedPitch:0)|((0,H.getSymbolsFonts)()[_e]?y.FontFlags.Symbolic:y.FontFlags.Nonsymbolic);ne={type:W,name:be,loadedName:c.loadedName,systemFontInfo:null,widths:Ee.widths,defaultWidth:Ee.defaultWidth,isSimulatedFlags:!0,flags:Re,firstChar:Y,lastChar:J,toUnicode:ae,xHeight:0,capHeight:0,italicAngle:0,isType3Font:he};const Pe=M.get("Widths"),ve=(0,H.getStandardFontName)(be);let Te=null;return ve&&(Te=await this.fetchStandardFontData(ve),ne.isInternalFont=!!Te),!ne.isInternalFont&&this.options.useSystemFonts&&(ne.systemFontInfo=(0,r.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,be,ve)),this.extractDataStructures(M,M,ne).then(je=>{if(Pe){const Ce=[];let ke=Y;for(const Le of Pe)Ce[ke++]=this.xref.fetchIfRef(Le);je.widths=Ce}else je.widths=this.buildCharCodeToWidth(Ee.widths,je);return new e.Font(be,Te,je)})}let re=N.get("FontName"),de=M.get("BaseFont");if(typeof re=="string"&&(re=K.Name.get(re)),typeof de=="string"&&(de=K.Name.get(de)),!he){const be=re==null?void 0:re.name,Ee=de==null?void 0:de.name;be!==Ee&&((0,n.info)(`The FontDescriptor's FontName is "${be}" but should be the same as the Font's BaseFont "${Ee}".`),be&&(Ee!=null&&Ee.startsWith(be))&&(re=de))}if(re||(re=de),!(re instanceof K.Name))throw new n.FormatError("invalid font name");let ue,ge,pe,xe,Ie;try{ue=N.get("FontFile","FontFile2","FontFile3")}catch(be){if(!this.options.ignoreErrors)throw be;(0,n.warn)(`translateFont - fetching "${re.name}" font file: "${be}".`),ue=new F.NullStream}let Fe=!1,Ae=null,we=null;if(ue){if(ue.dict){const be=ue.dict.get("Subtype");be instanceof K.Name&&(ge=be.name),pe=ue.dict.get("Length1"),xe=ue.dict.get("Length2"),Ie=ue.dict.get("Length3")}}else if(oe){const be=(0,G.getXfaFontName)(re.name);be&&(oe.fontFamily=`${oe.fontFamily}-PdfJS-XFA`,oe.metrics=be.metrics||null,Ae=be.factors||null,ue=await this.fetchStandardFontData(be.name),Fe=!!ue,c=M=(0,G.getXfaFontDict)(re.name),_=!0)}else if(!he){const be=(0,H.getStandardFontName)(re.name);be&&(ue=await this.fetchStandardFontData(be),Fe=!!ue),!Fe&&this.options.useSystemFonts&&(we=(0,r.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,re.name,be))}if(ne={type:W,name:re.name,subtype:ge,file:ue,length1:pe,length2:xe,length3:Ie,isInternalFont:Fe,loadedName:c.loadedName,composite:_,fixedPitch:!1,fontMatrix:M.getArray("FontMatrix")||n.FONT_IDENTITY_MATRIX,firstChar:Y,lastChar:J,toUnicode:ae,bbox:N.getArray("FontBBox")||M.getArray("FontBBox"),ascent:N.get("Ascent"),descent:N.get("Descent"),xHeight:N.get("XHeight")||0,capHeight:N.get("CapHeight")||0,flags:N.get("Flags"),italicAngle:N.get("ItalicAngle")||0,isType3Font:he,cssFontInfo:oe,scaleFactors:Ae,systemFontInfo:we},_){const be=c.get("Encoding");be instanceof K.Name&&(ne.cidEncoding=be.name);const Ee=await l.CMapFactory.create({encoding:be,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});ne.cMap=Ee,ne.vertical=ne.cMap.vertical}return this.extractDataStructures(M,c,ne).then(be=>(this.extractWidths(M,N,be),new e.Font(re.name,ue,be)))}static buildFontPaths(N,M,c,_){function W(Y){const J=`${N.loadedName}_path_${Y}`;try{if(N.renderer.hasBuiltPath(Y))return;c.send("commonobj",[J,"FontPath",N.renderer.getPathJs(Y)])}catch(ae){if(_.ignoreErrors){(0,n.warn)(`buildFontPaths - ignoring ${J} glyph: "${ae}".`);return}throw ae}}for(const Y of M){W(Y.fontChar);const J=Y.accent;J!=null&&J.fontChar&&W(J.fontChar)}}static get fallbackFontDict(){const N=new K.Dict;return N.set("BaseFont",K.Name.get("Helvetica")),N.set("Type",K.Name.get("FallbackType")),N.set("Subtype",K.Name.get("FallbackType")),N.set("Encoding",K.Name.get("WinAnsiEncoding")),(0,n.shadow)(this,"fallbackFontDict",N)}}S.PartialEvaluator=E;class U{constructor({loadedName:N,font:M,dict:c,evaluatorOptions:_}){this.loadedName=N,this.font=M,this.dict=c,this._evaluatorOptions=_||k,this.type3Loaded=null,this.type3Dependencies=M.isType3Font?new Set:null,this.sent=!1}send(N){this.sent||(this.sent=!0,N.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(N){this.font.data&&(this.font.disableFontFace=!0,E.buildFontPaths(this.font,this.font.glyphCacheValues,N,this._evaluatorOptions))}loadType3Data(N,M,c){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const _=N.clone({ignoreErrors:!1});_.parsingType3Font=!0;const W=new K.RefSet(N.type3FontRefs);this.dict.objId&&!W.has(this.dict.objId)&&W.put(this.dict.objId),_.type3FontRefs=W;const Y=this.font,J=this.type3Dependencies;let ae=Promise.resolve();const oe=this.dict.get("CharProcs"),he=this.dict.get("Resources")||M,ne=Object.create(null),re=n.Util.normalizeRect(Y.bbox||[0,0,0,0]),de=re[2]-re[0],ue=re[3]-re[1],ge=Math.hypot(de,ue);for(const pe of oe.getKeys())ae=ae.then(()=>{const xe=oe.get(pe),Ie=new h.OperatorList;return _.getOperatorList({stream:xe,task:c,resources:he,operatorList:Ie}).then(()=>{Ie.fnArray[0]===n.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(Ie,ge),ne[pe]=Ie.getIR();for(const Fe of Ie.dependencies)J.add(Fe)}).catch(function(Fe){(0,n.warn)(`Type3 font resource "${pe}" is not available.`);const Ae=new h.OperatorList;ne[pe]=Ae.getIR()})});return this.type3Loaded=ae.then(()=>{Y.charProcOperatorList=ne,this._bbox&&(Y.isCharBBox=!0,Y.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(N,M=NaN){const c=n.Util.normalizeRect(N.argsArray[0].slice(2)),_=c[2]-c[0],W=c[3]-c[1],Y=Math.hypot(_,W);_===0||W===0?(N.fnArray.splice(0,1),N.argsArray.splice(0,1)):(M===0||Math.round(Y/M)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],c[0]),this._bbox[1]=Math.min(this._bbox[1],c[1]),this._bbox[2]=Math.max(this._bbox[2],c[2]),this._bbox[3]=Math.max(this._bbox[3],c[3]));let J=0,ae=N.length;for(;J<ae;){switch(N.fnArray[J]){case n.OPS.setCharWidthAndBounds:break;case n.OPS.setStrokeColorSpace:case n.OPS.setFillColorSpace:case n.OPS.setStrokeColor:case n.OPS.setStrokeColorN:case n.OPS.setFillColor:case n.OPS.setFillColorN:case n.OPS.setStrokeGray:case n.OPS.setFillGray:case n.OPS.setStrokeRGBColor:case n.OPS.setFillRGBColor:case n.OPS.setStrokeCMYKColor:case n.OPS.setFillCMYKColor:case n.OPS.shadingFill:case n.OPS.setRenderingIntent:N.fnArray.splice(J,1),N.argsArray.splice(J,1),ae--;continue;case n.OPS.setGState:const[oe]=N.argsArray[J];let he=0,ne=oe.length;for(;he<ne;){const[re]=oe[he];switch(re){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":oe.splice(he,1),ne--;continue}he++}break}J++}}}class ${constructor(N=new ie){this.state=N,this.stateStack=[]}save(){const N=this.state;this.stateStack.push(this.state),this.state=N.clone()}restore(){const N=this.stateStack.pop();N&&(this.state=N)}transform(N){this.state.ctm=n.Util.transform(this.state.ctm,N)}}class Q{constructor(){this.ctm=new Float32Array(n.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.loadedName=null,this.font=null,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.textMatrix=n.IDENTITY_MATRIX.slice(),this.textLineMatrix=n.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(N,M,c,_,W,Y){const J=this.textMatrix;J[0]=N,J[1]=M,J[2]=c,J[3]=_,J[4]=W,J[5]=Y}setTextLineMatrix(N,M,c,_,W,Y){const J=this.textLineMatrix;J[0]=N,J[1]=M,J[2]=c,J[3]=_,J[4]=W,J[5]=Y}translateTextMatrix(N,M){const c=this.textMatrix;c[4]=c[0]*N+c[2]*M+c[4],c[5]=c[1]*N+c[3]*M+c[5]}translateTextLineMatrix(N,M){const c=this.textLineMatrix;c[4]=c[0]*N+c[2]*M+c[4],c[5]=c[1]*N+c[3]*M+c[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const N=Object.create(this);return N.textMatrix=this.textMatrix.slice(),N.textLineMatrix=this.textLineMatrix.slice(),N.fontMatrix=this.fontMatrix.slice(),N}}class ie{constructor(){this.ctm=new Float32Array(n.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=n.TextRenderingMode.FILL,this.fillColorSpace=s.ColorSpace.singletons.gray,this.strokeColorSpace=s.ColorSpace.singletons.gray}clone(){return Object.create(this)}}const R=class{static get opMap(){const N=(0,m.getLookupTableFactory)(function(M){M.w={id:n.OPS.setLineWidth,numArgs:1,variableArgs:!1},M.J={id:n.OPS.setLineCap,numArgs:1,variableArgs:!1},M.j={id:n.OPS.setLineJoin,numArgs:1,variableArgs:!1},M.M={id:n.OPS.setMiterLimit,numArgs:1,variableArgs:!1},M.d={id:n.OPS.setDash,numArgs:2,variableArgs:!1},M.ri={id:n.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},M.i={id:n.OPS.setFlatness,numArgs:1,variableArgs:!1},M.gs={id:n.OPS.setGState,numArgs:1,variableArgs:!1},M.q={id:n.OPS.save,numArgs:0,variableArgs:!1},M.Q={id:n.OPS.restore,numArgs:0,variableArgs:!1},M.cm={id:n.OPS.transform,numArgs:6,variableArgs:!1},M.m={id:n.OPS.moveTo,numArgs:2,variableArgs:!1},M.l={id:n.OPS.lineTo,numArgs:2,variableArgs:!1},M.c={id:n.OPS.curveTo,numArgs:6,variableArgs:!1},M.v={id:n.OPS.curveTo2,numArgs:4,variableArgs:!1},M.y={id:n.OPS.curveTo3,numArgs:4,variableArgs:!1},M.h={id:n.OPS.closePath,numArgs:0,variableArgs:!1},M.re={id:n.OPS.rectangle,numArgs:4,variableArgs:!1},M.S={id:n.OPS.stroke,numArgs:0,variableArgs:!1},M.s={id:n.OPS.closeStroke,numArgs:0,variableArgs:!1},M.f={id:n.OPS.fill,numArgs:0,variableArgs:!1},M.F={id:n.OPS.fill,numArgs:0,variableArgs:!1},M["f*"]={id:n.OPS.eoFill,numArgs:0,variableArgs:!1},M.B={id:n.OPS.fillStroke,numArgs:0,variableArgs:!1},M["B*"]={id:n.OPS.eoFillStroke,numArgs:0,variableArgs:!1},M.b={id:n.OPS.closeFillStroke,numArgs:0,variableArgs:!1},M["b*"]={id:n.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},M.n={id:n.OPS.endPath,numArgs:0,variableArgs:!1},M.W={id:n.OPS.clip,numArgs:0,variableArgs:!1},M["W*"]={id:n.OPS.eoClip,numArgs:0,variableArgs:!1},M.BT={id:n.OPS.beginText,numArgs:0,variableArgs:!1},M.ET={id:n.OPS.endText,numArgs:0,variableArgs:!1},M.Tc={id:n.OPS.setCharSpacing,numArgs:1,variableArgs:!1},M.Tw={id:n.OPS.setWordSpacing,numArgs:1,variableArgs:!1},M.Tz={id:n.OPS.setHScale,numArgs:1,variableArgs:!1},M.TL={id:n.OPS.setLeading,numArgs:1,variableArgs:!1},M.Tf={id:n.OPS.setFont,numArgs:2,variableArgs:!1},M.Tr={id:n.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},M.Ts={id:n.OPS.setTextRise,numArgs:1,variableArgs:!1},M.Td={id:n.OPS.moveText,numArgs:2,variableArgs:!1},M.TD={id:n.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},M.Tm={id:n.OPS.setTextMatrix,numArgs:6,variableArgs:!1},M["T*"]={id:n.OPS.nextLine,numArgs:0,variableArgs:!1},M.Tj={id:n.OPS.showText,numArgs:1,variableArgs:!1},M.TJ={id:n.OPS.showSpacedText,numArgs:1,variableArgs:!1},M["'"]={id:n.OPS.nextLineShowText,numArgs:1,variableArgs:!1},M['"']={id:n.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},M.d0={id:n.OPS.setCharWidth,numArgs:2,variableArgs:!1},M.d1={id:n.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},M.CS={id:n.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},M.cs={id:n.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},M.SC={id:n.OPS.setStrokeColor,numArgs:4,variableArgs:!0},M.SCN={id:n.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},M.sc={id:n.OPS.setFillColor,numArgs:4,variableArgs:!0},M.scn={id:n.OPS.setFillColorN,numArgs:33,variableArgs:!0},M.G={id:n.OPS.setStrokeGray,numArgs:1,variableArgs:!1},M.g={id:n.OPS.setFillGray,numArgs:1,variableArgs:!1},M.RG={id:n.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},M.rg={id:n.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},M.K={id:n.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},M.k={id:n.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},M.sh={id:n.OPS.shadingFill,numArgs:1,variableArgs:!1},M.BI={id:n.OPS.beginInlineImage,numArgs:0,variableArgs:!1},M.ID={id:n.OPS.beginImageData,numArgs:0,variableArgs:!1},M.EI={id:n.OPS.endInlineImage,numArgs:1,variableArgs:!1},M.Do={id:n.OPS.paintXObject,numArgs:1,variableArgs:!1},M.MP={id:n.OPS.markPoint,numArgs:1,variableArgs:!1},M.DP={id:n.OPS.markPointProps,numArgs:2,variableArgs:!1},M.BMC={id:n.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},M.BDC={id:n.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},M.EMC={id:n.OPS.endMarkedContent,numArgs:0,variableArgs:!1},M.BX={id:n.OPS.beginCompat,numArgs:0,variableArgs:!1},M.EX={id:n.OPS.endCompat,numArgs:0,variableArgs:!1},M.BM=null,M.BD=null,M.true=null,M.fa=null,M.fal=null,M.fals=null,M.false=null,M.nu=null,M.nul=null,M.null=null});return(0,n.shadow)(this,"opMap",N())}constructor(N,M,c=new $){this.parser=new w.Parser({lexer:new w.Lexer(N,R.opMap),xref:M}),this.stateManager=c,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(N){let M=N.args;for(;;){const c=this.parser.getObj();if(c instanceof K.Cmd){const _=c.cmd,W=R.opMap[_];if(!W){(0,n.warn)(`Unknown command "${_}".`);continue}const Y=W.id,J=W.numArgs;let ae=M!==null?M.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=Y>=n.OPS.moveTo&&Y<=n.OPS.endPath,W.variableArgs)ae>J&&(0,n.info)(`Command ${_}: expected [0, ${J}] args, but received ${ae} args.`);else{if(ae!==J){const oe=this.nonProcessedArgs;for(;ae>J;)oe.push(M.shift()),ae--;for(;ae<J&&oe.length!==0;)M===null&&(M=[]),M.unshift(oe.pop()),ae++}if(ae<J){const oe=`command ${_}: expected ${J} args, but received ${ae} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>R.MAX_INVALID_PATH_OPS)throw new n.FormatError(`Invalid ${oe}`);(0,n.warn)(`Skipping ${oe}`),M!==null&&(M.length=0);continue}}return this.preprocessCommand(Y,M),N.fn=Y,N.args=M,!0}if(c===K.EOF)return!1;if(c!==null&&(M===null&&(M=[]),M.push(c),M.length>33))throw new n.FormatError("Too many arguments")}}preprocessCommand(N,M){switch(N|0){case n.OPS.save:this.stateManager.save();break;case n.OPS.restore:this.stateManager.restore();break;case n.OPS.transform:this.stateManager.transform(M);break}}};let j=R;Rt(j,"MAX_INVALID_PATH_OPS",10),S.EvaluatorPreprocessor=j},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.IdentityCMap=S.CMapFactory=S.CMap=void 0;var n=ee(2),l=ee(4),K=ee(5),e=ee(15),t=ee(16),H=ee(3),z=ee(8);const G=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],I=2**24-1;class C{constructor(g=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=g}addCodespaceRange(g,k,D){this.codespaceRanges[g-1].push(k,D),this.numCodespaceRanges++}mapCidRange(g,k,D){if(k-g>I)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;g<=k;)this._map[g++]=D++}mapBfRange(g,k,D){if(k-g>I)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const T=D.length-1;for(;g<=k;){this._map[g++]=D;const V=D.charCodeAt(T)+1;if(V>255){D=D.substring(0,T-1)+String.fromCharCode(D.charCodeAt(T-1)+1)+"\0";continue}D=D.substring(0,T)+String.fromCharCode(V)}}mapBfRangeToArray(g,k,D){if(k-g>I)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const T=D.length;let V=0;for(;g<=k&&V<T;)this._map[g]=D[V++],++g}mapOne(g,k){this._map[g]=k}lookup(g){return this._map[g]}contains(g){return this._map[g]!==void 0}forEach(g){const k=this._map,D=k.length;if(D<=65536)for(let T=0;T<D;T++)k[T]!==void 0&&g(T,k[T]);else for(const T in k)g(T,k[T])}charCodeOf(g){const k=this._map;if(k.length<=65536)return k.indexOf(g);for(const D in k)if(k[D]===g)return D|0;return-1}getMap(){return this._map}readCharCode(g,k,D){let T=0;const V=this.codespaceRanges;for(let q=0,v=V.length;q<v;q++){T=(T<<8|g.charCodeAt(k+q))>>>0;const x=V[q];for(let E=0,U=x.length;E<U;){const $=x[E++],Q=x[E++];if(T>=$&&T<=Q){D.charcode=T,D.length=q+1;return}}}D.charcode=0,D.length=1}getCharCodeLength(g){const k=this.codespaceRanges;for(let D=0,T=k.length;D<T;D++){const V=k[D];for(let q=0,v=V.length;q<v;){const x=V[q++],E=V[q++];if(g>=x&&g<=E)return D+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let g=0;g<65536;g++)if(this._map[g]!==g)return!1;return!0}}S.CMap=C;class w extends C{constructor(g,k){super(),this.vertical=g,this.addCodespaceRange(k,0,65535)}mapCidRange(g,k,D){(0,n.unreachable)("should not call mapCidRange")}mapBfRange(g,k,D){(0,n.unreachable)("should not call mapBfRange")}mapBfRangeToArray(g,k,D){(0,n.unreachable)("should not call mapBfRangeToArray")}mapOne(g,k){(0,n.unreachable)("should not call mapCidOne")}lookup(g){return Number.isInteger(g)&&g<=65535?g:void 0}contains(g){return Number.isInteger(g)&&g<=65535}forEach(g){for(let k=0;k<=65535;k++)g(k,k)}charCodeOf(g){return Number.isInteger(g)&&g<=65535?g:-1}getMap(){const g=new Array(65536);for(let k=0;k<=65535;k++)g[k]=k;return g}get length(){return 65536}get isIdentityCMap(){(0,n.unreachable)("should not access .isIdentityCMap")}}S.IdentityCMap=w;function i(h){let g=0;for(let k=0;k<h.length;k++)g=g<<8|h.charCodeAt(k);return g>>>0}function F(h){if(typeof h!="string")throw new n.FormatError("Malformed CMap: expected string.")}function B(h){if(!Number.isInteger(h))throw new n.FormatError("Malformed CMap: expected int.")}function u(h,g){for(;;){let k=g.getObj();if(k===l.EOF)break;if((0,l.isCmd)(k,"endbfchar"))return;F(k);const D=i(k);k=g.getObj(),F(k);const T=k;h.mapOne(D,T)}}function s(h,g){for(;;){let k=g.getObj();if(k===l.EOF)break;if((0,l.isCmd)(k,"endbfrange"))return;F(k);const D=i(k);k=g.getObj(),F(k);const T=i(k);if(k=g.getObj(),Number.isInteger(k)||typeof k=="string"){const V=Number.isInteger(k)?String.fromCharCode(k):k;h.mapBfRange(D,T,V)}else if((0,l.isCmd)(k,"[")){k=g.getObj();const V=[];for(;!(0,l.isCmd)(k,"]")&&k!==l.EOF;)V.push(k),k=g.getObj();h.mapBfRangeToArray(D,T,V)}else break}throw new n.FormatError("Invalid bf range.")}function o(h,g){for(;;){let k=g.getObj();if(k===l.EOF)break;if((0,l.isCmd)(k,"endcidchar"))return;F(k);const D=i(k);k=g.getObj(),B(k);const T=k;h.mapOne(D,T)}}function y(h,g){for(;;){let k=g.getObj();if(k===l.EOF)break;if((0,l.isCmd)(k,"endcidrange"))return;F(k);const D=i(k);k=g.getObj(),F(k);const T=i(k);k=g.getObj(),B(k);const V=k;h.mapCidRange(D,T,V)}}function r(h,g){for(;;){let k=g.getObj();if(k===l.EOF)break;if((0,l.isCmd)(k,"endcodespacerange"))return;if(typeof k!="string")break;const D=i(k);if(k=g.getObj(),typeof k!="string")break;const T=i(k);h.addCodespaceRange(k.length,D,T)}throw new n.FormatError("Invalid codespace range.")}function f(h,g){const k=g.getObj();Number.isInteger(k)&&(h.vertical=!!k)}function m(h,g){const k=g.getObj();k instanceof l.Name&&(h.name=k.name)}async function P(h,g,k,D){let T,V;e:for(;;)try{const q=g.getObj();if(q===l.EOF)break;if(q instanceof l.Name)q.name==="WMode"?f(h,g):q.name==="CMapName"&&m(h,g),T=q;else if(q instanceof l.Cmd)switch(q.cmd){case"endcmap":break e;case"usecmap":T instanceof l.Name&&(V=T.name);break;case"begincodespacerange":r(h,g);break;case"beginbfchar":u(h,g);break;case"begincidchar":o(h,g);break;case"beginbfrange":s(h,g);break;case"begincidrange":y(h,g);break}}catch(q){if(q instanceof H.MissingDataException)throw q;(0,n.warn)("Invalid cMap data: "+q);continue}return!D&&V&&(D=V),D?d(h,k,D):h}async function d(h,g,k){if(h.useCMap=await A(k,g),h.numCodespaceRanges===0){const D=h.useCMap.codespaceRanges;for(let T=0;T<D.length;T++)h.codespaceRanges[T]=D[T].slice();h.numCodespaceRanges=h.useCMap.numCodespaceRanges}return h.useCMap.forEach(function(D,T){h.contains(D)||h.mapOne(D,h.useCMap.lookup(D))}),h}async function A(h,g){if(h==="Identity-H")return new w(!1,2);if(h==="Identity-V")return new w(!0,2);if(!G.includes(h))throw new Error("Unknown CMap name: "+h);if(!g)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:k,compressionType:D}=await g(h),T=new C(!0);if(D===n.CMapCompressionType.BINARY)return new e.BinaryCMapReader().process(k,T,V=>d(T,g,V));if(D===n.CMapCompressionType.NONE){const V=new t.Lexer(new z.Stream(k));return P(T,V,g,null)}throw new Error(`Invalid CMap "compressionType" value: ${D}`)}class L{static async create({encoding:g,fetchBuiltInCMap:k,useCMap:D}){if(g instanceof l.Name)return A(g.name,k);if(g instanceof K.BaseStream){const T=await P(new C,new t.Lexer(g),k,D);return T.isIdentityCMap?A(T.name,k):T}throw new Error("Encoding required.")}}S.CMapFactory=L},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.BinaryCMapReader=void 0;var n=ee(2);function l(C,w){let i=0;for(let F=0;F<=w;F++)i=i<<8|C[F];return i>>>0}function K(C,w){return w===1?String.fromCharCode(C[0],C[1]):w===3?String.fromCharCode(C[0],C[1],C[2],C[3]):String.fromCharCode(...C.subarray(0,w+1))}function e(C,w,i){let F=0;for(let B=i;B>=0;B--)F+=C[B]+w[B],C[B]=F&255,F>>=8}function t(C,w){let i=1;for(let F=w;F>=0&&i>0;F--)i+=C[F],C[F]=i&255,i>>=8}const H=16,z=19;class G{constructor(w){this.buffer=w,this.pos=0,this.end=w.length,this.tmpBuf=new Uint8Array(z)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let w=0,i;do{const F=this.readByte();if(F<0)throw new n.FormatError("unexpected EOF in bcmap");i=!(F&128),w=w<<7|F&127}while(!i);return w}readSigned(){const w=this.readNumber();return w&1?~(w>>>1):w>>>1}readHex(w,i){w.set(this.buffer.subarray(this.pos,this.pos+i+1)),this.pos+=i+1}readHexNumber(w,i){let F;const B=this.tmpBuf;let u=0;do{const r=this.readByte();if(r<0)throw new n.FormatError("unexpected EOF in bcmap");F=!(r&128),B[u++]=r&127}while(!F);let s=i,o=0,y=0;for(;s>=0;){for(;y<8&&B.length>0;)o|=B[--u]<<y,y+=7;w[s]=o&255,s--,o>>=8,y-=8}}readHexSigned(w,i){this.readHexNumber(w,i);const F=w[i]&1?255:0;let B=0;for(let u=0;u<=i;u++)B=(B&1)<<8|w[u],w[u]=B>>1^F}readString(){const w=this.readNumber(),i=new Array(w);for(let F=0;F<w;F++)i[F]=this.readNumber();return String.fromCharCode(...i)}}class I{async process(w,i,F){const B=new G(w),u=B.readByte();i.vertical=!!(u&1);let s=null;const o=new Uint8Array(H),y=new Uint8Array(H),r=new Uint8Array(H),f=new Uint8Array(H),m=new Uint8Array(H);let P,d;for(;(d=B.readByte())>=0;){const A=d>>5;if(A===7){switch(d&31){case 0:B.readString();break;case 1:s=B.readString();break}continue}const L=!!(d&16),h=d&15;if(h+1>H)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const g=1,k=B.readNumber();switch(A){case 0:B.readHex(o,h),B.readHexNumber(y,h),e(y,o,h),i.addCodespaceRange(h+1,l(o,h),l(y,h));for(let D=1;D<k;D++)t(y,h),B.readHexNumber(o,h),e(o,y,h),B.readHexNumber(y,h),e(y,o,h),i.addCodespaceRange(h+1,l(o,h),l(y,h));break;case 1:B.readHex(o,h),B.readHexNumber(y,h),e(y,o,h),B.readNumber();for(let D=1;D<k;D++)t(y,h),B.readHexNumber(o,h),e(o,y,h),B.readHexNumber(y,h),e(y,o,h),B.readNumber();break;case 2:B.readHex(r,h),P=B.readNumber(),i.mapOne(l(r,h),P);for(let D=1;D<k;D++)t(r,h),L||(B.readHexNumber(m,h),e(r,m,h)),P=B.readSigned()+(P+1),i.mapOne(l(r,h),P);break;case 3:B.readHex(o,h),B.readHexNumber(y,h),e(y,o,h),P=B.readNumber(),i.mapCidRange(l(o,h),l(y,h),P);for(let D=1;D<k;D++)t(y,h),L?o.set(y):(B.readHexNumber(o,h),e(o,y,h)),B.readHexNumber(y,h),e(y,o,h),P=B.readNumber(),i.mapCidRange(l(o,h),l(y,h),P);break;case 4:B.readHex(r,g),B.readHex(f,h),i.mapOne(l(r,g),K(f,h));for(let D=1;D<k;D++)t(r,g),L||(B.readHexNumber(m,g),e(r,m,g)),t(f,h),B.readHexSigned(m,h),e(f,m,h),i.mapOne(l(r,g),K(f,h));break;case 5:B.readHex(o,g),B.readHexNumber(y,g),e(y,o,g),B.readHex(f,h),i.mapBfRange(l(o,g),l(y,g),K(f,h));for(let D=1;D<k;D++)t(y,g),L?o.set(y):(B.readHexNumber(o,g),e(o,y,g)),B.readHexNumber(y,g),e(y,o,g),B.readHex(f,h),i.mapBfRange(l(o,g),l(y,g),K(f,h));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${A}`)}}return s?F(s):i}}S.BinaryCMapReader=I},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.Parser=S.Linearization=S.Lexer=void 0;var n=ee(2),l=ee(4),K=ee(3),e=ee(8),t=ee(17),H=ee(19),z=ee(20),G=ee(22),I=ee(23),C=ee(26),w=ee(29),i=ee(31),F=ee(32),B=ee(33);const u=1e3;function s(P){const d=[],A=P.length;let L=0;for(;L<A-1;)d.push(P[L++]<<8|P[L++]);return L<A&&d.push(P[L]),A+"_"+String.fromCharCode.apply(null,d)}class o{constructor({lexer:d,xref:A,allowStreams:L=!1,recoveryMode:h=!1}){this.lexer=d,this.xref=A,this.allowStreams=L,this.recoveryMode=h,this.imageCache=Object.create(null),this._imageId=0,this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof l.Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(d){if(d instanceof K.MissingDataException)throw d;return!1}}getObj(d=null){const A=this.buf1;if(this.shift(),A instanceof l.Cmd)switch(A.cmd){case"BI":return this.makeInlineImage(d);case"[":const L=[];for(;!(0,l.isCmd)(this.buf1,"]")&&this.buf1!==l.EOF;)L.push(this.getObj(d));if(this.buf1===l.EOF){if(this.recoveryMode)return L;throw new K.ParserEOFException("End of file inside array.")}return this.shift(),L;case"<<":const h=new l.Dict(this.xref);for(;!(0,l.isCmd)(this.buf1,">>")&&this.buf1!==l.EOF;){if(!(this.buf1 instanceof l.Name)){(0,n.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const g=this.buf1.name;if(this.shift(),this.buf1===l.EOF)break;h.set(g,this.getObj(d))}if(this.buf1===l.EOF){if(this.recoveryMode)return h;throw new K.ParserEOFException("End of file inside dictionary.")}return(0,l.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(h,d):h:(this.shift(),h);default:return A}if(Number.isInteger(A)){if(Number.isInteger(this.buf1)&&(0,l.isCmd)(this.buf2,"R")){const L=l.Ref.get(A,this.buf1);return this.shift(),this.shift(),L}return A}return typeof A=="string"&&d?d.decryptString(A):A}findDefaultInlineStreamEnd(d){const{knownCommands:T}=this.lexer,V=d.pos,q=15;let v=0,x,E;for(;(x=d.getByte())!==-1;)if(v===0)v=x===69?1:0;else if(v===1)v=x===73?2:0;else if(x===32||x===10||x===13){E=d.pos;const $=d.peekBytes(q),Q=$.length;if(Q===0)break;for(let X=0;X<Q;X++)if(x=$[X],!(x===0&&$[X+1]!==0)&&x!==10&&x!==13&&(x<32||x>127)){v=0;break}if(v!==2)continue;if(!T){(0,n.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");continue}const ie=new f(new e.Stream($.slice()),T);ie._hexStringWarn=()=>{};let j=0;for(;;){const X=ie.getObj();if(X===l.EOF){v=0;break}if(X instanceof l.Cmd){const R=T[X.cmd];if(R){if(R.variableArgs?j<=R.numArgs:j===R.numArgs)break}else{v=0;break}j=0;continue}j++}if(v===2)break}else v=0;x===-1&&((0,n.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),E&&((0,n.warn)('... trying to recover by using the last "EI" occurrence.'),d.skip(-(d.pos-E))));let U=4;return d.skip(-U),x=d.peekByte(),d.skip(U),(0,K.isWhiteSpace)(x)||U--,d.pos-U-V}findDCTDecodeInlineStreamEnd(d){const A=d.pos;let L=!1,h,g;for(;(h=d.getByte())!==-1;)if(h===255){switch(d.getByte()){case 0:break;case 255:d.skip(-1);break;case 217:L=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:g=d.getUint16(),g>2?d.skip(g-2):d.skip(-2);break}if(L)break}const k=d.pos-A;return h===-1?((0,n.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),d.skip(-k),this.findDefaultInlineStreamEnd(d)):(this.inlineStreamSkipEI(d),k)}findASCII85DecodeInlineStreamEnd(d){const h=d.pos;let g;for(;(g=d.getByte())!==-1;)if(g===126){const D=d.pos;for(g=d.peekByte();(0,K.isWhiteSpace)(g);)d.skip(),g=d.peekByte();if(g===62){d.skip();break}if(d.pos>D){const T=d.peekBytes(2);if(T[0]===69&&T[1]===73)break}}const k=d.pos-h;return g===-1?((0,n.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),d.skip(-k),this.findDefaultInlineStreamEnd(d)):(this.inlineStreamSkipEI(d),k)}findASCIIHexDecodeInlineStreamEnd(d){const L=d.pos;let h;for(;(h=d.getByte())!==-1&&h!==62;);const g=d.pos-L;return h===-1?((0,n.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),d.skip(-g),this.findDefaultInlineStreamEnd(d)):(this.inlineStreamSkipEI(d),g)}inlineStreamSkipEI(d){let h=0,g;for(;(g=d.getByte())!==-1;)if(h===0)h=g===69?1:0;else if(h===1)h=g===73?2:0;else if(h===2)break}makeInlineImage(d){const A=this.lexer,L=A.stream,h=Object.create(null);let g;for(;!(0,l.isCmd)(this.buf1,"ID")&&this.buf1!==l.EOF;){if(!(this.buf1 instanceof l.Name))throw new n.FormatError("Dictionary key must be a name object");const E=this.buf1.name;if(this.shift(),this.buf1===l.EOF)break;h[E]=this.getObj(d)}A.beginInlineImagePos!==-1&&(g=L.pos-A.beginInlineImagePos);const k=this.xref.fetchIfRef(h.F||h.Filter);let D;if(k instanceof l.Name)D=k.name;else if(Array.isArray(k)){const E=this.xref.fetchIfRef(k[0]);E instanceof l.Name&&(D=E.name)}const T=L.pos;let V;switch(D){case"DCT":case"DCTDecode":V=this.findDCTDecodeInlineStreamEnd(L);break;case"A85":case"ASCII85Decode":V=this.findASCII85DecodeInlineStreamEnd(L);break;case"AHx":case"ASCIIHexDecode":V=this.findASCIIHexDecodeInlineStreamEnd(L);break;default:V=this.findDefaultInlineStreamEnd(L)}let q;if(V<u&&g>0){const E=L.pos;L.pos=A.beginInlineImagePos,q=s(L.getBytes(g+V)),L.pos=E;const U=this.imageCache[q];if(U!==void 0)return this.buf2=l.Cmd.get("EI"),this.shift(),U.reset(),U}const v=new l.Dict(this.xref);for(const E in h)v.set(E,h[E]);let x=L.makeSubStream(T,V,v);return d&&(x=d.createStream(x,V)),x=this.filter(x,v,V),x.dict=v,q!==void 0&&(x.cacheKey=`inline_img_${++this._imageId}`,this.imageCache[q]=x),this.buf2=l.Cmd.get("EI"),this.shift(),x}_findStreamLength(d,A){const{stream:L}=this.lexer;L.pos=d;const h=2048,g=A.length;for(;L.pos<L.end;){const k=L.peekBytes(h),D=k.length-g;if(D<=0)break;let T=0;for(;T<D;){let V=0;for(;V<g&&k[T+V]===A[V];)V++;if(V>=g)return L.pos+=T,L.pos-d;T++}L.pos+=D}return-1}makeStream(d,A){const L=this.lexer;let h=L.stream;L.skipToNextLine();const g=h.pos-1;let k=d.get("Length");if(Number.isInteger(k)||((0,n.info)(`Bad length "${k&&k.toString()}" in stream.`),k=0),h.pos=g+k,L.nextChar(),this.tryShift()&&(0,l.isCmd)(this.buf2,"endstream"))this.shift();else{const D=new Uint8Array([101,110,100,115,116,114,101,97,109]);let T=this._findStreamLength(g,D);if(T<0){for(let q=1;q<=1;q++){const v=D.length-q,x=D.slice(0,v),E=this._findStreamLength(g,x);if(E>=0){const U=h.peekBytes(v+1)[v];if(!(0,K.isWhiteSpace)(U))break;(0,n.info)(`Found "${(0,n.bytesToString)(x)}" when searching for endstream command.`),T=E;break}}if(T<0)throw new n.FormatError("Missing endstream command.")}k=T,L.nextChar(),this.shift(),this.shift()}return this.shift(),h=h.makeSubStream(g,k,d),A&&(h=A.createStream(h,k)),h=this.filter(h,d,k),h.dict=d,h}filter(d,A,L){let h=A.get("F","Filter"),g=A.get("DP","DecodeParms");if(h instanceof l.Name)return Array.isArray(g)&&(0,n.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(d,h.name,L,g);let k=L;if(Array.isArray(h)){const D=h,T=g;for(let V=0,q=D.length;V<q;++V){if(h=this.xref.fetchIfRef(D[V]),!(h instanceof l.Name))throw new n.FormatError(`Bad filter name "${h}"`);g=null,Array.isArray(T)&&V in T&&(g=this.xref.fetchIfRef(T[V])),d=this.makeFilter(d,h.name,k,g),k=null}}return d}makeFilter(d,A,L,h){if(L===0)return(0,n.warn)(`Empty "${A}" stream.`),new e.NullStream;try{switch(A){case"Fl":case"FlateDecode":return h?new F.PredictorStream(new G.FlateStream(d,L),L,h):new G.FlateStream(d,L);case"LZW":case"LZWDecode":let g=1;return h?(h.has("EarlyChange")&&(g=h.get("EarlyChange")),new F.PredictorStream(new i.LZWStream(d,L,g),L,h)):new i.LZWStream(d,L,g);case"DCT":case"DCTDecode":return new C.JpegStream(d,L,h);case"JPX":case"JPXDecode":return new w.JpxStream(d,L,h);case"A85":case"ASCII85Decode":return new t.Ascii85Stream(d,L);case"AHx":case"ASCIIHexDecode":return new H.AsciiHexStream(d,L);case"CCF":case"CCITTFaxDecode":return new z.CCITTFaxStream(d,L,h);case"RL":case"RunLengthDecode":return new B.RunLengthStream(d,L);case"JBIG2Decode":return new I.Jbig2Stream(d,L,h)}return(0,n.warn)(`Filter "${A}" is not supported.`),d}catch(g){if(g instanceof K.MissingDataException)throw g;return(0,n.warn)(`Invalid stream: "${g}"`),new e.NullStream}}}S.Parser=o;const y=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function r(P){return P>=48&&P<=57?P&15:P>=65&&P<=70||P>=97&&P<=102?(P&15)+9:-1}class f{constructor(d,A=null){this.stream=d,this.nextChar(),this.strBuf=[],this.knownCommands=A,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let d=this.currentChar,A=!1,L=0,h=0;if(d===45?(h=-1,d=this.nextChar(),d===45&&(d=this.nextChar())):d===43&&(h=1,d=this.nextChar()),d===10||d===13)do d=this.nextChar();while(d===10||d===13);if(d===46&&(L=10,d=this.nextChar()),d<48||d>57){const T=`Invalid number: ${String.fromCharCode(d)} (charCode ${d})`;if((0,K.isWhiteSpace)(d)||d===-1)return(0,n.info)(`Lexer.getNumber - "${T}".`),0;throw new n.FormatError(T)}h||(h=1);let g=d-48,k=0,D=1;for(;(d=this.nextChar())>=0;)if(d>=48&&d<=57){const T=d-48;A?k=k*10+T:(L!==0&&(L*=10),g=g*10+T)}else if(d===46)if(L===0)L=1;else break;else if(d===45)(0,n.warn)("Badly formatted number: minus sign in the middle");else if(d===69||d===101){if(d=this.peekChar(),d===43||d===45)D=d===45?-1:1,this.nextChar();else if(d<48||d>57)break;A=!0}else break;return L!==0&&(g/=L),A&&(g*=10**(D*k)),h*g}getString(){let d=1,A=!1;const L=this.strBuf;L.length=0;let h=this.nextChar();for(;;){let g=!1;switch(h|0){case-1:(0,n.warn)("Unterminated string"),A=!0;break;case 40:++d,L.push("(");break;case 41:--d===0?(this.nextChar(),A=!0):L.push(")");break;case 92:switch(h=this.nextChar(),h){case-1:(0,n.warn)("Unterminated string"),A=!0;break;case 110:L.push(`
`);break;case 114:L.push("\r");break;case 116:L.push("	");break;case 98:L.push("\b");break;case 102:L.push("\f");break;case 92:case 40:case 41:L.push(String.fromCharCode(h));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let k=h&15;h=this.nextChar(),g=!0,h>=48&&h<=55&&(k=(k<<3)+(h&15),h=this.nextChar(),h>=48&&h<=55&&(g=!1,k=(k<<3)+(h&15))),L.push(String.fromCharCode(k));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:L.push(String.fromCharCode(h));break}break;default:L.push(String.fromCharCode(h));break}if(A)break;g||(h=this.nextChar())}return L.join("")}getName(){let d,A;const L=this.strBuf;for(L.length=0;(d=this.nextChar())>=0&&!y[d];)if(d===35){if(d=this.nextChar(),y[d]){(0,n.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),L.push("#");break}const h=r(d);if(h!==-1){A=d,d=this.nextChar();const g=r(d);if(g===-1){if((0,n.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(d)}) in hexadecimal number.`),L.push("#",String.fromCharCode(A)),y[d])break;L.push(String.fromCharCode(d));continue}L.push(String.fromCharCode(h<<4|g))}else L.push("#",String.fromCharCode(d))}else L.push(String.fromCharCode(d));return L.length>127&&(0,n.warn)(`Name token is longer than allowed by the spec: ${L.length}`),l.Name.get(L.join(""))}_hexStringWarn(d){if(this._hexStringNumWarn++===5){(0,n.warn)("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||(0,n.warn)(`getHexString - ignoring invalid character: ${d}`)}getHexString(){const d=this.strBuf;d.length=0;let A=this.currentChar,L=!0,h,g;for(this._hexStringNumWarn=0;;)if(A<0){(0,n.warn)("Unterminated hex string");break}else if(A===62){this.nextChar();break}else if(y[A]===1){A=this.nextChar();continue}else{if(L){if(h=r(A),h===-1){this._hexStringWarn(A),A=this.nextChar();continue}}else{if(g=r(A),g===-1){this._hexStringWarn(A),A=this.nextChar();continue}d.push(String.fromCharCode(h<<4|g))}L=!L,A=this.nextChar()}return d.join("")}getObj(){let d=!1,A=this.currentChar;for(;;){if(A<0)return l.EOF;if(d)(A===10||A===13)&&(d=!1);else if(A===37)d=!0;else if(y[A]!==1)break;A=this.nextChar()}switch(A|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),l.Cmd.get("[");case 93:return this.nextChar(),l.Cmd.get("]");case 60:return A=this.nextChar(),A===60?(this.nextChar(),l.Cmd.get("<<")):this.getHexString();case 62:return A=this.nextChar(),A===62?(this.nextChar(),l.Cmd.get(">>")):l.Cmd.get(">");case 123:return this.nextChar(),l.Cmd.get("{");case 125:return this.nextChar(),l.Cmd.get("}");case 41:throw this.nextChar(),new n.FormatError(`Illegal character: ${A}`)}let L=String.fromCharCode(A);if(A<32||A>127){const k=this.peekChar();if(k>=32&&k<=127)return this.nextChar(),l.Cmd.get(L)}const h=this.knownCommands;let g=(h==null?void 0:h[L])!==void 0;for(;(A=this.nextChar())>=0&&!y[A];){const k=L+String.fromCharCode(A);if(g&&h[k]===void 0)break;if(L.length===128)throw new n.FormatError(`Command token too long: ${L.length}`);L=k,g=(h==null?void 0:h[L])!==void 0}return L==="true"?!0:L==="false"?!1:L==="null"?null:(L==="BI"&&(this.beginInlineImagePos=this.stream.pos),l.Cmd.get(L))}skipToNextLine(){let d=this.currentChar;for(;d>=0;){if(d===13){d=this.nextChar(),d===10&&this.nextChar();break}else if(d===10){this.nextChar();break}d=this.nextChar()}}}S.Lexer=f;class m{static create(d){function A(v,x,E=!1){const U=v.get(x);if(Number.isInteger(U)&&(E?U>=0:U>0))return U;throw new Error(`The "${x}" parameter in the linearization dictionary is invalid.`)}function L(v){const x=v.get("H");let E;if(Array.isArray(x)&&((E=x.length)===2||E===4)){for(let U=0;U<E;U++){const $=x[U];if(!(Number.isInteger($)&&$>0))throw new Error(`Hint (${U}) in the linearization dictionary is invalid.`)}return x}throw new Error("Hint array in the linearization dictionary is invalid.")}const h=new o({lexer:new f(d),xref:null}),g=h.getObj(),k=h.getObj(),D=h.getObj(),T=h.getObj();let V,q;if(Number.isInteger(g)&&Number.isInteger(k)&&(0,l.isCmd)(D,"obj")&&T instanceof l.Dict&&typeof(V=T.get("Linearized"))=="number"&&V>0){if((q=A(T,"L"))!==d.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:q,hints:L(T),objectNumberFirst:A(T,"O"),endFirst:A(T,"E"),numPages:A(T,"N"),mainXRefEntriesOffset:A(T,"T"),pageFirst:T.has("P")?A(T,"P",!0):0}}}S.Linearization=m},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.Ascii85Stream=void 0;var n=ee(18),l=ee(3);class K extends n.DecodeStream{constructor(t,H){H&&(H*=.8),super(H),this.str=t,this.dict=t.dict,this.input=new Uint8Array(5)}readBlock(){const G=this.str;let I=G.getByte();for(;(0,l.isWhiteSpace)(I);)I=G.getByte();if(I===-1||I===126){this.eof=!0;return}const C=this.bufferLength;let w,i;if(I===122){for(w=this.ensureBuffer(C+4),i=0;i<4;++i)w[C+i]=0;this.bufferLength+=4}else{const F=this.input;for(F[0]=I,i=1;i<5;++i){for(I=G.getByte();(0,l.isWhiteSpace)(I);)I=G.getByte();if(F[i]=I,I===-1||I===126)break}if(w=this.ensureBuffer(C+i-1),this.bufferLength+=i-1,i<5){for(;i<5;++i)F[i]=117;this.eof=!0}let B=0;for(i=0;i<5;++i)B=B*85+(F[i]-33);for(i=3;i>=0;--i)w[C+i]=B&255,B>>=8}}}S.Ascii85Stream=K},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.StreamsSequenceStream=S.DecodeStream=void 0;var n=ee(5),l=ee(8);const K=new Uint8Array(0);class e extends n.BaseStream{constructor(z){if(super(),this._rawMinBufferLength=z||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=K,this.minBufferLength=512,z)for(;this.minBufferLength<z;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(z){const G=this.buffer;if(z<=G.byteLength)return G;let I=this.minBufferLength;for(;I<z;)I*=2;const C=new Uint8Array(I);return C.set(G),this.buffer=C}getByte(){const z=this.pos;for(;this.bufferLength<=z;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(z){const G=this.pos;let I;if(z){for(this.ensureBuffer(G+z),I=G+z;!this.eof&&this.bufferLength<I;)this.readBlock();const C=this.bufferLength;I>C&&(I=C)}else{for(;!this.eof;)this.readBlock();I=this.bufferLength}return this.pos=I,this.buffer.subarray(G,I)}reset(){this.pos=0}makeSubStream(z,G,I=null){if(G===void 0)for(;!this.eof;)this.readBlock();else{const C=z+G;for(;this.bufferLength<=C&&!this.eof;)this.readBlock()}return new l.Stream(this.buffer,z,G,I)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}S.DecodeStream=e;class t extends e{constructor(z,G=null){let I=0;for(const C of z)I+=C instanceof e?C._rawMinBufferLength:C.length;super(I),this.streams=z,this._onError=G}readBlock(){var F;const z=this.streams;if(z.length===0){this.eof=!0;return}const G=z.shift();let I;try{I=G.getBytes()}catch(B){if(this._onError){this._onError(B,(F=G.dict)==null?void 0:F.objId);return}throw B}const C=this.bufferLength,w=C+I.length;this.ensureBuffer(w).set(I,C),this.bufferLength=w}getBaseStreams(){const z=[];for(const G of this.streams){const I=G.getBaseStreams();I&&z.push(...I)}return z.length>0?z:null}}S.StreamsSequenceStream=t},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.AsciiHexStream=void 0;var n=ee(18);class l extends n.DecodeStream{constructor(e,t){t&&(t*=.5),super(t),this.str=e,this.dict=e.dict,this.firstDigit=-1}readBlock(){const t=this.str.getBytes(8e3);if(!t.length){this.eof=!0;return}const H=t.length+1>>1,z=this.ensureBuffer(this.bufferLength+H);let G=this.bufferLength,I=this.firstDigit;for(const C of t){let w;if(C>=48&&C<=57)w=C&15;else if(C>=65&&C<=70||C>=97&&C<=102)w=(C&15)+9;else if(C===62){this.eof=!0;break}else continue;I<0?I=w:(z[G++]=I<<4|w,I=-1)}I>=0&&this.eof&&(z[G++]=I<<4,I=-1),this.firstDigit=I,this.bufferLength=G}}S.AsciiHexStream=l},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.CCITTFaxStream=void 0;var n=ee(21),l=ee(18),K=ee(4);class e extends l.DecodeStream{constructor(H,z,G){super(z),this.str=H,this.dict=H.dict,G instanceof K.Dict||(G=K.Dict.empty);const I={next(){return H.getByte()}};this.ccittFaxDecoder=new n.CCITTFaxDecoder(I,{K:G.get("K"),EndOfLine:G.get("EndOfLine"),EncodedByteAlign:G.get("EncodedByteAlign"),Columns:G.get("Columns"),Rows:G.get("Rows"),EndOfBlock:G.get("EndOfBlock"),BlackIs1:G.get("BlackIs1")})}readBlock(){for(;!this.eof;){const H=this.ccittFaxDecoder.readNextChar();if(H===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=H}}}S.CCITTFaxStream=e},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.CCITTFaxDecoder=void 0;var n=ee(2);const l=-2,K=-1,e=0,t=1,H=2,z=3,G=4,I=5,C=6,w=7,i=8,F=[[-1,-1],[-1,-1],[7,i],[7,w],[6,C],[6,C],[6,I],[6,I],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,G],[3,G],[3,G],[3,G],[3,G],[3,G],[3,G],[3,G],[3,G],[3,G],[3,G],[3,G],[3,G],[3,G],[3,G],[3,G],[3,z],[3,z],[3,z],[3,z],[3,z],[3,z],[3,z],[3,z],[3,z],[3,z],[3,z],[3,z],[3,z],[3,z],[3,z],[3,z],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H],[1,H]],B=[[-1,-1],[12,l],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],u=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],s=[[-1,-1],[-1,-1],[12,l],[12,l],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],o=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],y=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class r{constructor(m,P={}){if(!m||typeof m.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=m,this.eof=!1,this.encoding=P.K||0,this.eoline=P.EndOfLine||!1,this.byteAlign=P.EncodedByteAlign||!1,this.columns=P.Columns||1728,this.rows=P.Rows||0,this.eoblock=P.EndOfBlock??!0,this.black=P.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let d;for(;(d=this._lookBits(12))===0;)this._eatBits(1);d===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const m=this.refLine,P=this.codingLine,d=this.columns;let A,L,h,g;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let D,T,V;if(this.nextLine2D){for(g=0;P[g]<d;++g)m[g]=P[g];for(m[g++]=d,m[g]=d,P[0]=0,this.codingPos=0,A=0,L=0;P[this.codingPos]<d;)switch(D=this._getTwoDimCode(),D){case e:this._addPixels(m[A+1],L),m[A+1]<d&&(A+=2);break;case t:if(D=T=0,L){do D+=V=this._getBlackCode();while(V>=64);do T+=V=this._getWhiteCode();while(V>=64)}else{do D+=V=this._getWhiteCode();while(V>=64);do T+=V=this._getBlackCode();while(V>=64)}for(this._addPixels(P[this.codingPos]+D,L),P[this.codingPos]<d&&this._addPixels(P[this.codingPos]+T,L^1);m[A]<=P[this.codingPos]&&m[A]<d;)A+=2;break;case w:if(this._addPixels(m[A]+3,L),L^=1,P[this.codingPos]<d)for(++A;m[A]<=P[this.codingPos]&&m[A]<d;)A+=2;break;case I:if(this._addPixels(m[A]+2,L),L^=1,P[this.codingPos]<d)for(++A;m[A]<=P[this.codingPos]&&m[A]<d;)A+=2;break;case z:if(this._addPixels(m[A]+1,L),L^=1,P[this.codingPos]<d)for(++A;m[A]<=P[this.codingPos]&&m[A]<d;)A+=2;break;case H:if(this._addPixels(m[A],L),L^=1,P[this.codingPos]<d)for(++A;m[A]<=P[this.codingPos]&&m[A]<d;)A+=2;break;case i:if(this._addPixelsNeg(m[A]-3,L),L^=1,P[this.codingPos]<d)for(A>0?--A:++A;m[A]<=P[this.codingPos]&&m[A]<d;)A+=2;break;case C:if(this._addPixelsNeg(m[A]-2,L),L^=1,P[this.codingPos]<d)for(A>0?--A:++A;m[A]<=P[this.codingPos]&&m[A]<d;)A+=2;break;case G:if(this._addPixelsNeg(m[A]-1,L),L^=1,P[this.codingPos]<d)for(A>0?--A:++A;m[A]<=P[this.codingPos]&&m[A]<d;)A+=2;break;case K:this._addPixels(d,0),this.eof=!0;break;default:(0,n.info)("bad 2d code"),this._addPixels(d,0),this.err=!0}}else for(P[0]=0,this.codingPos=0,L=0;P[this.codingPos]<d;){if(D=0,L)do D+=V=this._getBlackCode();while(V>=64);else do D+=V=this._getWhiteCode();while(V>=64);this._addPixels(P[this.codingPos]+D,L),L^=1}let q=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(D=this._lookBits(12),this.eoline)for(;D!==K&&D!==1;)this._eatBits(1),D=this._lookBits(12);else for(;D===0;)this._eatBits(1),D=this._lookBits(12);D===1?(this._eatBits(12),q=!0):D===K&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&q&&this.byteAlign){if(D=this._lookBits(12),D===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(g=0;g<4;++g)D=this._lookBits(12),D!==1&&(0,n.info)("bad rtc code: "+D),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(D=this._lookBits(13),D===K)return this.eof=!0,-1;if(D>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(D&1))}P[0]>0?this.outputBits=P[this.codingPos=0]:this.outputBits=P[this.codingPos=1],this.row++}let k;if(this.outputBits>=8)k=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&P[this.codingPos]<d&&(this.codingPos++,this.outputBits=P[this.codingPos]-P[this.codingPos-1]);else{h=8,k=0;do{if(typeof this.outputBits!="number")throw new n.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>h?(k<<=h,this.codingPos&1||(k|=255>>8-h),this.outputBits-=h,h=0):(k<<=this.outputBits,this.codingPos&1||(k|=255>>8-this.outputBits),h-=this.outputBits,this.outputBits=0,P[this.codingPos]<d?(this.codingPos++,this.outputBits=P[this.codingPos]-P[this.codingPos-1]):h>0&&(k<<=h,h=0))}while(h)}return this.black&&(k^=255),k}_addPixels(m,P){const d=this.codingLine;let A=this.codingPos;m>d[A]&&(m>this.columns&&((0,n.info)("row is wrong length"),this.err=!0,m=this.columns),A&1^P&&++A,d[A]=m),this.codingPos=A}_addPixelsNeg(m,P){const d=this.codingLine;let A=this.codingPos;if(m>d[A])m>this.columns&&((0,n.info)("row is wrong length"),this.err=!0,m=this.columns),A&1^P&&++A,d[A]=m;else if(m<d[A]){for(m<0&&((0,n.info)("invalid code"),this.err=!0,m=0);A>0&&m<d[A-1];)--A;d[A]=m}this.codingPos=A}_findTableCode(m,P,d,A){const L=A||0;for(let h=m;h<=P;++h){let g=this._lookBits(h);if(g===K)return[!0,1,!1];if(h<P&&(g<<=P-h),!L||g>=L){const k=d[g-L];if(k[0]===h)return this._eatBits(h),[!0,k[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let m=0,P;if(this.eoblock){if(m=this._lookBits(7),P=F[m],(P==null?void 0:P[0])>0)return this._eatBits(P[0]),P[1]}else{const d=this._findTableCode(1,7,F);if(d[0]&&d[2])return d[1]}return(0,n.info)("Bad two dim code"),K}_getWhiteCode(){let m=0,P;if(this.eoblock){if(m=this._lookBits(12),m===K)return 1;if(m>>5?P=u[m>>3]:P=B[m],P[0]>0)return this._eatBits(P[0]),P[1]}else{let d=this._findTableCode(1,9,u);if(d[0]||(d=this._findTableCode(11,12,B),d[0]))return d[1]}return(0,n.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let m,P;if(this.eoblock){if(m=this._lookBits(13),m===K)return 1;if(m>>7?!(m>>9)&&m>>7?P=o[(m>>1)-64]:P=y[m>>7]:P=s[m],P[0]>0)return this._eatBits(P[0]),P[1]}else{let d=this._findTableCode(2,6,y);if(d[0]||(d=this._findTableCode(7,12,o,64),d[0])||(d=this._findTableCode(10,13,s),d[0]))return d[1]}return(0,n.info)("bad black code"),this._eatBits(1),1}_lookBits(m){let P;for(;this.inputBits<m;){if((P=this.source.next())===-1)return this.inputBits===0?K:this.inputBuf<<m-this.inputBits&65535>>16-m;this.inputBuf=this.inputBuf<<8|P,this.inputBits+=8}return this.inputBuf>>this.inputBits-m&65535>>16-m}_eatBits(m){(this.inputBits-=m)<0&&(this.inputBits=0)}}S.CCITTFaxDecoder=r},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.FlateStream=void 0;var n=ee(18),l=ee(2);const K=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),t=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),H=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],z=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class G extends n.DecodeStream{constructor(C,w){super(w),this.str=C,this.dict=C.dict;const i=C.getByte(),F=C.getByte();if(i===-1||F===-1)throw new l.FormatError(`Invalid header in flate stream: ${i}, ${F}`);if((i&15)!==8)throw new l.FormatError(`Unknown compression method in flate stream: ${i}, ${F}`);if(((i<<8)+F)%31!==0)throw new l.FormatError(`Bad FCHECK in flate stream: ${i}, ${F}`);if(F&32)throw new l.FormatError(`FDICT bit set in flate stream: ${i}, ${F}`);this.codeSize=0,this.codeBuf=0}getBits(C){const w=this.str;let i=this.codeSize,F=this.codeBuf,B;for(;i<C;){if((B=w.getByte())===-1)throw new l.FormatError("Bad encoding in flate stream");F|=B<<i,i+=8}return B=F&(1<<C)-1,this.codeBuf=F>>C,this.codeSize=i-=C,B}getCode(C){const w=this.str,i=C[0],F=C[1];let B=this.codeSize,u=this.codeBuf,s;for(;B<F&&(s=w.getByte())!==-1;)u|=s<<B,B+=8;const o=i[u&(1<<F)-1],y=o>>16,r=o&65535;if(y<1||B<y)throw new l.FormatError("Bad encoding in flate stream");return this.codeBuf=u>>y,this.codeSize=B-y,r}generateHuffmanTable(C){const w=C.length;let i=0,F;for(F=0;F<w;++F)C[F]>i&&(i=C[F]);const B=1<<i,u=new Int32Array(B);for(let s=1,o=0,y=2;s<=i;++s,o<<=1,y<<=1)for(let r=0;r<w;++r)if(C[r]===s){let f=0,m=o;for(F=0;F<s;++F)f=f<<1|m&1,m>>=1;for(F=f;F<B;F+=y)u[F]=s<<16|r;++o}return[u,i]}readBlock(){let C,w;const i=this.str;let F=this.getBits(3);if(F&1&&(this.eof=!0),F>>=1,F===0){let y;if((y=i.getByte())===-1)throw new l.FormatError("Bad block header in flate stream");let r=y;if((y=i.getByte())===-1)throw new l.FormatError("Bad block header in flate stream");if(r|=y<<8,(y=i.getByte())===-1)throw new l.FormatError("Bad block header in flate stream");let f=y;if((y=i.getByte())===-1)throw new l.FormatError("Bad block header in flate stream");if(f|=y<<8,f!==(~r&65535)&&(r!==0||f!==0))throw new l.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const m=this.bufferLength,P=m+r;if(C=this.ensureBuffer(P),this.bufferLength=P,r===0)i.peekByte()===-1&&(this.eof=!0);else{const d=i.getBytes(r);C.set(d,m),d.length<r&&(this.eof=!0)}return}let B,u;if(F===1)B=H,u=z;else if(F===2){const y=this.getBits(5)+257,r=this.getBits(5)+1,f=this.getBits(4)+4,m=new Uint8Array(K.length);let P;for(P=0;P<f;++P)m[K[P]]=this.getBits(3);const d=this.generateHuffmanTable(m);w=0,P=0;const A=y+r,L=new Uint8Array(A);let h,g,k;for(;P<A;){const D=this.getCode(d);if(D===16)h=2,g=3,k=w;else if(D===17)h=3,g=3,k=w=0;else if(D===18)h=7,g=11,k=w=0;else{L[P++]=w=D;continue}let T=this.getBits(h)+g;for(;T-- >0;)L[P++]=k}B=this.generateHuffmanTable(L.subarray(0,y)),u=this.generateHuffmanTable(L.subarray(y,A))}else throw new l.FormatError("Unknown block type in flate stream");C=this.buffer;let s=C?C.length:0,o=this.bufferLength;for(;;){let y=this.getCode(B);if(y<256){o+1>=s&&(C=this.ensureBuffer(o+1),s=C.length),C[o++]=y;continue}if(y===256){this.bufferLength=o;return}y-=257,y=e[y];let r=y>>16;r>0&&(r=this.getBits(r)),w=(y&65535)+r,y=this.getCode(u),y=t[y],r=y>>16,r>0&&(r=this.getBits(r));const f=(y&65535)+r;o+w>=s&&(C=this.ensureBuffer(o+w),s=C.length);for(let m=0;m<w;++m,++o)C[o]=C[o-f]}}}S.FlateStream=G},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.Jbig2Stream=void 0;var n=ee(5),l=ee(18),K=ee(4),e=ee(24),t=ee(2);class H extends l.DecodeStream{constructor(G,I,C){super(I),this.stream=G,this.dict=G.dict,this.maybeLength=I,this.params=C}get bytes(){return(0,t.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(G){}readBlock(){if(this.eof)return;const G=new e.Jbig2Image,I=[];if(this.params instanceof K.Dict){const i=this.params.get("JBIG2Globals");if(i instanceof n.BaseStream){const F=i.getBytes();I.push({data:F,start:0,end:F.length})}}I.push({data:this.bytes,start:0,end:this.bytes.length});const C=G.parseChunks(I),w=C.length;for(let i=0;i<w;i++)C[i]^=255;this.buffer=C,this.bufferLength=w,this.eof=!0}}S.Jbig2Stream=H},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.Jbig2Image=void 0;var n=ee(2),l=ee(3),K=ee(25),e=ee(21);class t extends n.BaseException{constructor(c){super(`JBIG2 error: ${c}`,"Jbig2Error")}}class H{getContexts(c){return c in this?this[c]:this[c]=new Int8Array(65536)}}class z{constructor(c,_,W){this.data=c,this.start=_,this.end=W}get decoder(){const c=new K.ArithmeticDecoder(this.data,this.start,this.end);return(0,n.shadow)(this,"decoder",c)}get contextCache(){const c=new H;return(0,n.shadow)(this,"contextCache",c)}}const G=2**31-1,I=-(2**31);function C(M,c,_){const W=M.getContexts(c);let Y=1;function J(ne){let re=0;for(let de=0;de<ne;de++){const ue=_.readBit(W,Y);Y=Y<256?Y<<1|ue:(Y<<1|ue)&511|256,re=re<<1|ue}return re>>>0}const ae=J(1),oe=J(1)?J(1)?J(1)?J(1)?J(1)?J(32)+4436:J(12)+340:J(8)+84:J(6)+20:J(4)+4:J(2);let he;return ae===0?he=oe:oe>0&&(he=-oe),he>=I&&he<=G?he:null}function w(M,c,_){const W=M.getContexts("IAID");let Y=1;for(let J=0;J<_;J++){const ae=c.readBit(W,Y);Y=Y<<1|ae}return _<31?Y&(1<<_)-1:Y&2147483647}const i=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],F=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],B=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],u=[39717,1941,229,405],s=[32,8];function o(M,c,_){const W=_.decoder,Y=_.contextCache.getContexts("GB"),J=[];let ae,oe,he,ne,re,de,ue;const ge=31735;for(oe=0;oe<c;oe++)for(re=J[oe]=new Uint8Array(M),de=oe<1?re:J[oe-1],ue=oe<2?re:J[oe-2],ae=ue[0]<<13|ue[1]<<12|ue[2]<<11|de[0]<<7|de[1]<<6|de[2]<<5|de[3]<<4,he=0;he<M;he++)re[he]=ne=W.readBit(Y,ae),ae=(ae&ge)<<1|(he+3<M?ue[he+3]<<11:0)|(he+4<M?de[he+4]<<4:0)|ne;return J}function y(M,c,_,W,Y,J,ae,oe){if(M){const qe=new Q(oe.data,oe.start,oe.end);return Z(qe,c,_,!1)}if(W===0&&!J&&!Y&&ae.length===4&&ae[0].x===3&&ae[0].y===-1&&ae[1].x===-3&&ae[1].y===-1&&ae[2].x===2&&ae[2].y===-2&&ae[3].x===-2&&ae[3].y===-2)return o(c,_,oe);const he=!!J,ne=F[W].concat(ae);ne.sort(function(qe,gt){return qe.y-gt.y||qe.x-gt.x});const re=ne.length,de=new Int8Array(re),ue=new Int8Array(re),ge=[];let pe=0,xe=0,Ie=0,Fe=0,Ae,we;for(we=0;we<re;we++)de[we]=ne[we].x,ue[we]=ne[we].y,xe=Math.min(xe,ne[we].x),Ie=Math.max(Ie,ne[we].x),Fe=Math.min(Fe,ne[we].y),we<re-1&&ne[we].y===ne[we+1].y&&ne[we].x===ne[we+1].x-1?pe|=1<<re-1-we:ge.push(we);const be=ge.length,Ee=new Int8Array(be),_e=new Int8Array(be),Re=new Uint16Array(be);for(Ae=0;Ae<be;Ae++)we=ge[Ae],Ee[Ae]=ne[we].x,_e[Ae]=ne[we].y,Re[Ae]=1<<re-1-we;const Pe=-xe,ve=-Fe,Te=c-Ie,je=u[W];let Ce=new Uint8Array(c);const ke=[],Le=oe.decoder,Ge=oe.contextCache.getContexts("GB");let Oe=0,tt,Ye,et,Xe=0,Qe,it;for(let qe=0;qe<_;qe++){if(Y){const gt=Le.readBit(Ge,je);if(Oe^=gt,Oe){ke.push(Ce);continue}}for(Ce=new Uint8Array(Ce),ke.push(Ce),tt=0;tt<c;tt++){if(he&&J[qe][tt]){Ce[tt]=0;continue}if(tt>=Pe&&tt<Te&&qe>=ve)for(Xe=Xe<<1&pe,we=0;we<be;we++)Ye=qe+_e[we],et=tt+Ee[we],Qe=ke[Ye][et],Qe&&(Qe=Re[we],Xe|=Qe);else for(Xe=0,it=re-1,we=0;we<re;we++,it--)et=tt+de[we],et>=0&&et<c&&(Ye=qe+ue[we],Ye>=0&&(Qe=ke[Ye][et],Qe&&(Xe|=Qe<<it)));const gt=Le.readBit(Ge,Xe);Ce[tt]=gt}}return ke}function r(M,c,_,W,Y,J,ae,oe,he){let ne=B[_].coding;_===0&&(ne=ne.concat([oe[0]]));const re=ne.length,de=new Int32Array(re),ue=new Int32Array(re);let ge;for(ge=0;ge<re;ge++)de[ge]=ne[ge].x,ue[ge]=ne[ge].y;let pe=B[_].reference;_===0&&(pe=pe.concat([oe[1]]));const xe=pe.length,Ie=new Int32Array(xe),Fe=new Int32Array(xe);for(ge=0;ge<xe;ge++)Ie[ge]=pe[ge].x,Fe[ge]=pe[ge].y;const Ae=W[0].length,we=W.length,be=s[_],Ee=[],_e=he.decoder,Re=he.contextCache.getContexts("GR");let Pe=0;for(let ve=0;ve<c;ve++){if(ae){const je=_e.readBit(Re,be);if(Pe^=je,Pe)throw new t("prediction is not supported")}const Te=new Uint8Array(M);Ee.push(Te);for(let je=0;je<M;je++){let Ce,ke,Le=0;for(ge=0;ge<re;ge++)Ce=ve+ue[ge],ke=je+de[ge],Ce<0||ke<0||ke>=M?Le<<=1:Le=Le<<1|Ee[Ce][ke];for(ge=0;ge<xe;ge++)Ce=ve+Fe[ge]-J,ke=je+Ie[ge]-Y,Ce<0||Ce>=we||ke<0||ke>=Ae?Le<<=1:Le=Le<<1|W[Ce][ke];const Ge=_e.readBit(Re,Le);Te[je]=Ge}}return Ee}function f(M,c,_,W,Y,J,ae,oe,he,ne,re,de){if(M&&c)throw new t("symbol refinement with Huffman is not supported");const ue=[];let ge=0,pe=(0,l.log2)(_.length+W);const xe=re.decoder,Ie=re.contextCache;let Fe,Ae;for(M&&(Fe=$(1),Ae=[],pe=Math.max(pe,1));ue.length<W;){const ve=M?J.tableDeltaHeight.decode(de):C(Ie,"IADH",xe);ge+=ve;let Te=0,je=0;const Ce=M?Ae.length:0;for(;;){const ke=M?J.tableDeltaWidth.decode(de):C(Ie,"IADW",xe);if(ke===null)break;Te+=ke,je+=Te;let Le;if(c){const Ge=C(Ie,"IAAI",xe);if(Ge>1)Le=m(M,c,Te,ge,0,Ge,1,_.concat(ue),pe,0,0,1,0,J,he,ne,re,0,de);else{const Oe=w(Ie,xe,pe),tt=C(Ie,"IARDX",xe),Ye=C(Ie,"IARDY",xe),et=Oe<_.length?_[Oe]:ue[Oe-_.length];Le=r(Te,ge,he,et,tt,Ye,!1,ne,re)}ue.push(Le)}else M?Ae.push(Te):(Le=y(!1,Te,ge,ae,!1,null,oe,re),ue.push(Le))}if(M&&!c){const ke=J.tableBitmapSize.decode(de);de.byteAlign();let Le;if(ke===0)Le=R(de,je,ge);else{const Oe=de.end,tt=de.position+ke;de.end=tt,Le=Z(de,je,ge,!1),de.end=Oe,de.position=tt}const Ge=Ae.length;if(Ce===Ge-1)ue.push(Le);else{let Oe,tt,Ye=0,et,Xe,Qe;for(Oe=Ce;Oe<Ge;Oe++){for(Xe=Ae[Oe],et=Ye+Xe,Qe=[],tt=0;tt<ge;tt++)Qe.push(Le[tt].subarray(Ye,et));ue.push(Qe),Ye=et}}}}const we=[],be=[];let Ee=!1,_e,Re;const Pe=_.length+W;for(;be.length<Pe;){let ve=M?Fe.decode(de):C(Ie,"IAEX",xe);for(;ve--;)be.push(Ee);Ee=!Ee}for(_e=0,Re=_.length;_e<Re;_e++)be[_e]&&we.push(_[_e]);for(let ve=0;ve<W;_e++,ve++)be[_e]&&we.push(ue[ve]);return we}function m(M,c,_,W,Y,J,ae,oe,he,ne,re,de,ue,ge,pe,xe,Ie,Fe,Ae){if(M&&c)throw new t("refinement with Huffman is not supported");const we=[];let be,Ee;for(be=0;be<W;be++){if(Ee=new Uint8Array(_),Y)for(let Te=0;Te<_;Te++)Ee[Te]=Y;we.push(Ee)}const _e=Ie.decoder,Re=Ie.contextCache;let Pe=M?-ge.tableDeltaT.decode(Ae):-C(Re,"IADT",_e),ve=0;for(be=0;be<J;){const Te=M?ge.tableDeltaT.decode(Ae):C(Re,"IADT",_e);Pe+=Te;const je=M?ge.tableFirstS.decode(Ae):C(Re,"IAFS",_e);ve+=je;let Ce=ve;do{let ke=0;ae>1&&(ke=M?Ae.readBits(Fe):C(Re,"IAIT",_e));const Le=ae*Pe+ke,Ge=M?ge.symbolIDTable.decode(Ae):w(Re,_e,he),Oe=c&&(M?Ae.readBit():C(Re,"IARI",_e));let tt=oe[Ge],Ye=tt[0].length,et=tt.length;if(Oe){const Ct=C(Re,"IARDW",_e),Pt=C(Re,"IARDH",_e),st=C(Re,"IARDX",_e),dt=C(Re,"IARDY",_e);Ye+=Ct,et+=Pt,tt=r(Ye,et,pe,tt,(Ct>>1)+st,(Pt>>1)+dt,!1,xe,Ie)}const Xe=Le-(de&1?0:et-1),Qe=Ce-(de&2?Ye-1:0);let it,qe,gt;if(ne){for(it=0;it<et;it++){if(Ee=we[Qe+it],!Ee)continue;gt=tt[it];const Ct=Math.min(_-Xe,Ye);switch(ue){case 0:for(qe=0;qe<Ct;qe++)Ee[Xe+qe]|=gt[qe];break;case 2:for(qe=0;qe<Ct;qe++)Ee[Xe+qe]^=gt[qe];break;default:throw new t(`operator ${ue} is not supported`)}}Ce+=et-1}else{for(qe=0;qe<et;qe++)if(Ee=we[Xe+qe],!!Ee)switch(gt=tt[qe],ue){case 0:for(it=0;it<Ye;it++)Ee[Qe+it]|=gt[it];break;case 2:for(it=0;it<Ye;it++)Ee[Qe+it]^=gt[it];break;default:throw new t(`operator ${ue} is not supported`)}Ce+=Ye-1}be++;const mt=M?ge.tableDeltaS.decode(Ae):C(Re,"IADS",_e);if(mt===null)break;Ce+=mt+re}while(!0)}return we}function P(M,c,_,W,Y,J){const ae=[];M||(ae.push({x:-c,y:0}),Y===0&&ae.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const oe=(W+1)*c,he=y(M,oe,_,Y,!1,null,ae,J),ne=[];for(let re=0;re<=W;re++){const de=[],ue=c*re,ge=ue+c;for(let pe=0;pe<_;pe++)de.push(he[pe].subarray(ue,ge));ne.push(de)}return ne}function d(M,c,_,W,Y,J,ae,oe,he,ne,re,de,ue,ge,pe){if(ae)throw new t("skip is not supported");if(oe!==0)throw new t(`operator "${oe}" is not supported in halftone region`);const Ie=[];let Fe,Ae,we;for(Fe=0;Fe<Y;Fe++){if(we=new Uint8Array(W),J)for(Ae=0;Ae<W;Ae++)we[Ae]=J;Ie.push(we)}const be=c.length,Ee=c[0],_e=Ee[0].length,Re=Ee.length,Pe=(0,l.log2)(be),ve=[];M||(ve.push({x:_<=1?3:2,y:-1}),_===0&&ve.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const Te=[];let je,Ce;for(M&&(je=new Q(pe.data,pe.start,pe.end)),Fe=Pe-1;Fe>=0;Fe--)M?Ce=Z(je,he,ne,!0):Ce=y(!1,he,ne,_,!1,null,ve,pe),Te[Fe]=Ce;let ke,Le,Ge,Oe,tt,Ye,et,Xe,Qe;for(ke=0;ke<ne;ke++)for(Le=0;Le<he;Le++){for(Ge=0,Oe=0,Ae=Pe-1;Ae>=0;Ae--)Ge^=Te[Ae][ke][Le],Oe|=Ge<<Ae;if(tt=c[Oe],Ye=re+ke*ge+Le*ue>>8,et=de+ke*ue-Le*ge>>8,Ye>=0&&Ye+_e<=W&&et>=0&&et+Re<=Y)for(Fe=0;Fe<Re;Fe++)for(Qe=Ie[et+Fe],Xe=tt[Fe],Ae=0;Ae<_e;Ae++)Qe[Ye+Ae]|=Xe[Ae];else{let it,qe;for(Fe=0;Fe<Re;Fe++)if(qe=et+Fe,!(qe<0||qe>=Y))for(Qe=Ie[qe],Xe=tt[Fe],Ae=0;Ae<_e;Ae++)it=Ye+Ae,it>=0&&it<W&&(Qe[it]|=Xe[Ae])}}return Ie}function A(M,c){const _={};_.number=(0,l.readUint32)(M,c);const W=M[c+4],Y=W&63;if(!i[Y])throw new t("invalid segment type: "+Y);_.type=Y,_.typeName=i[Y],_.deferredNonRetain=!!(W&128);const J=!!(W&64),ae=M[c+5];let oe=ae>>5&7;const he=[ae&31];let ne=c+6;if(ae===7){oe=(0,l.readUint32)(M,ne-1)&536870911,ne+=3;let pe=oe+7>>3;for(he[0]=M[ne++];--pe>0;)he.push(M[ne++])}else if(ae===5||ae===6)throw new t("invalid referred-to flags");_.retainBits=he;let re=4;_.number<=256?re=1:_.number<=65536&&(re=2);const de=[];let ue,ge;for(ue=0;ue<oe;ue++){let pe;re===1?pe=M[ne]:re===2?pe=(0,l.readUint16)(M,ne):pe=(0,l.readUint32)(M,ne),de.push(pe),ne+=re}if(_.referredTo=de,J?(_.pageAssociation=(0,l.readUint32)(M,ne),ne+=4):_.pageAssociation=M[ne++],_.length=(0,l.readUint32)(M,ne),ne+=4,_.length===4294967295)if(Y===38){const pe=h(M,ne),Ie=!!(M[ne+g]&1),Fe=6,Ae=new Uint8Array(Fe);for(Ie||(Ae[0]=255,Ae[1]=172),Ae[2]=pe.height>>>24&255,Ae[3]=pe.height>>16&255,Ae[4]=pe.height>>8&255,Ae[5]=pe.height&255,ue=ne,ge=M.length;ue<ge;ue++){let we=0;for(;we<Fe&&Ae[we]===M[ue+we];)we++;if(we===Fe){_.length=ue+Fe;break}}if(_.length===4294967295)throw new t("segment end was not found")}else throw new t("invalid unknown segment length");return _.headerEnd=ne,_}function L(M,c,_,W){const Y=[];let J=_;for(;J<W;){const ae=A(c,J);J=ae.headerEnd;const oe={header:ae,data:c};if(M.randomAccess||(oe.start=J,J+=ae.length,oe.end=J),Y.push(oe),ae.type===51)break}if(M.randomAccess)for(let ae=0,oe=Y.length;ae<oe;ae++)Y[ae].start=J,J+=Y[ae].header.length,Y[ae].end=J;return Y}function h(M,c){return{width:(0,l.readUint32)(M,c),height:(0,l.readUint32)(M,c+4),x:(0,l.readUint32)(M,c+8),y:(0,l.readUint32)(M,c+12),combinationOperator:M[c+16]&7}}const g=17;function k(M,c){const _=M.header,W=M.data,Y=M.end;let J=M.start,ae,oe,he,ne;switch(_.type){case 0:const de={},ue=(0,l.readUint16)(W,J);if(de.huffman=!!(ue&1),de.refinement=!!(ue&2),de.huffmanDHSelector=ue>>2&3,de.huffmanDWSelector=ue>>4&3,de.bitmapSizeSelector=ue>>6&1,de.aggregationInstancesSelector=ue>>7&1,de.bitmapCodingContextUsed=!!(ue&256),de.bitmapCodingContextRetained=!!(ue&512),de.template=ue>>10&3,de.refinementTemplate=ue>>12&1,J+=2,!de.huffman){for(ne=de.template===0?4:1,oe=[],he=0;he<ne;he++)oe.push({x:(0,l.readInt8)(W,J),y:(0,l.readInt8)(W,J+1)}),J+=2;de.at=oe}if(de.refinement&&!de.refinementTemplate){for(oe=[],he=0;he<2;he++)oe.push({x:(0,l.readInt8)(W,J),y:(0,l.readInt8)(W,J+1)}),J+=2;de.refinementAt=oe}de.numberOfExportedSymbols=(0,l.readUint32)(W,J),J+=4,de.numberOfNewSymbols=(0,l.readUint32)(W,J),J+=4,ae=[de,_.number,_.referredTo,W,J,Y];break;case 6:case 7:const ge={};ge.info=h(W,J),J+=g;const pe=(0,l.readUint16)(W,J);if(J+=2,ge.huffman=!!(pe&1),ge.refinement=!!(pe&2),ge.logStripSize=pe>>2&3,ge.stripSize=1<<ge.logStripSize,ge.referenceCorner=pe>>4&3,ge.transposed=!!(pe&64),ge.combinationOperator=pe>>7&3,ge.defaultPixelValue=pe>>9&1,ge.dsOffset=pe<<17>>27,ge.refinementTemplate=pe>>15&1,ge.huffman){const Re=(0,l.readUint16)(W,J);J+=2,ge.huffmanFS=Re&3,ge.huffmanDS=Re>>2&3,ge.huffmanDT=Re>>4&3,ge.huffmanRefinementDW=Re>>6&3,ge.huffmanRefinementDH=Re>>8&3,ge.huffmanRefinementDX=Re>>10&3,ge.huffmanRefinementDY=Re>>12&3,ge.huffmanRefinementSizeSelector=!!(Re&16384)}if(ge.refinement&&!ge.refinementTemplate){for(oe=[],he=0;he<2;he++)oe.push({x:(0,l.readInt8)(W,J),y:(0,l.readInt8)(W,J+1)}),J+=2;ge.refinementAt=oe}ge.numberOfSymbolInstances=(0,l.readUint32)(W,J),J+=4,ae=[ge,_.referredTo,W,J,Y];break;case 16:const xe={},Ie=W[J++];xe.mmr=!!(Ie&1),xe.template=Ie>>1&3,xe.patternWidth=W[J++],xe.patternHeight=W[J++],xe.maxPatternIndex=(0,l.readUint32)(W,J),J+=4,ae=[xe,_.number,W,J,Y];break;case 22:case 23:const Fe={};Fe.info=h(W,J),J+=g;const Ae=W[J++];Fe.mmr=!!(Ae&1),Fe.template=Ae>>1&3,Fe.enableSkip=!!(Ae&8),Fe.combinationOperator=Ae>>4&7,Fe.defaultPixelValue=Ae>>7&1,Fe.gridWidth=(0,l.readUint32)(W,J),J+=4,Fe.gridHeight=(0,l.readUint32)(W,J),J+=4,Fe.gridOffsetX=(0,l.readUint32)(W,J)&4294967295,J+=4,Fe.gridOffsetY=(0,l.readUint32)(W,J)&4294967295,J+=4,Fe.gridVectorX=(0,l.readUint16)(W,J),J+=2,Fe.gridVectorY=(0,l.readUint16)(W,J),J+=2,ae=[Fe,_.referredTo,W,J,Y];break;case 38:case 39:const we={};we.info=h(W,J),J+=g;const be=W[J++];if(we.mmr=!!(be&1),we.template=be>>1&3,we.prediction=!!(be&8),!we.mmr){for(ne=we.template===0?4:1,oe=[],he=0;he<ne;he++)oe.push({x:(0,l.readInt8)(W,J),y:(0,l.readInt8)(W,J+1)}),J+=2;we.at=oe}ae=[we,W,J,Y];break;case 48:const Ee={width:(0,l.readUint32)(W,J),height:(0,l.readUint32)(W,J+4),resolutionX:(0,l.readUint32)(W,J+8),resolutionY:(0,l.readUint32)(W,J+12)};Ee.height===4294967295&&delete Ee.height;const _e=W[J+16];(0,l.readUint16)(W,J+17),Ee.lossless=!!(_e&1),Ee.refinement=!!(_e&2),Ee.defaultPixelValue=_e>>2&1,Ee.combinationOperator=_e>>3&3,Ee.requiresBuffer=!!(_e&32),Ee.combinationOperatorOverride=!!(_e&64),ae=[Ee];break;case 49:break;case 50:break;case 51:break;case 53:ae=[_.number,W,J,Y];break;case 62:break;default:throw new t(`segment type ${_.typeName}(${_.type}) is not implemented`)}const re="on"+_.typeName;re in c&&c[re].apply(c,ae)}function D(M,c){for(let _=0,W=M.length;_<W;_++)k(M[_],c)}function T(M){const c=new V;for(let _=0,W=M.length;_<W;_++){const Y=M[_],J=L({},Y.data,Y.start,Y.end);D(J,c)}return c.buffer}class V{onPageInformation(c){this.currentPageInfo=c;const _=c.width+7>>3,W=new Uint8ClampedArray(_*c.height);c.defaultPixelValue&&W.fill(255),this.buffer=W}drawBitmap(c,_){const W=this.currentPageInfo,Y=c.width,J=c.height,ae=W.width+7>>3,oe=W.combinationOperatorOverride?c.combinationOperator:W.combinationOperator,he=this.buffer,ne=128>>(c.x&7);let re=c.y*ae+(c.x>>3),de,ue,ge,pe;switch(oe){case 0:for(de=0;de<J;de++){for(ge=ne,pe=re,ue=0;ue<Y;ue++)_[de][ue]&&(he[pe]|=ge),ge>>=1,ge||(ge=128,pe++);re+=ae}break;case 2:for(de=0;de<J;de++){for(ge=ne,pe=re,ue=0;ue<Y;ue++)_[de][ue]&&(he[pe]^=ge),ge>>=1,ge||(ge=128,pe++);re+=ae}break;default:throw new t(`operator ${oe} is not supported`)}}onImmediateGenericRegion(c,_,W,Y){const J=c.info,ae=new z(_,W,Y),oe=y(c.mmr,J.width,J.height,c.template,c.prediction,null,c.at,ae);this.drawBitmap(J,oe)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(c,_,W,Y,J,ae){let oe,he;c.huffman&&(oe=X(c,W,this.customTables),he=new Q(Y,J,ae));let ne=this.symbols;ne||(this.symbols=ne={});const re=[];for(const ue of W){const ge=ne[ue];ge&&re.push(...ge)}const de=new z(Y,J,ae);ne[_]=f(c.huffman,c.refinement,re,c.numberOfNewSymbols,c.numberOfExportedSymbols,oe,c.template,c.at,c.refinementTemplate,c.refinementAt,de,he)}onImmediateTextRegion(c,_,W,Y,J){const ae=c.info;let oe,he;const ne=this.symbols,re=[];for(const pe of _){const xe=ne[pe];xe&&re.push(...xe)}const de=(0,l.log2)(re.length);c.huffman&&(he=new Q(W,Y,J),oe=j(c,_,this.customTables,re.length,he));const ue=new z(W,Y,J),ge=m(c.huffman,c.refinement,ae.width,ae.height,c.defaultPixelValue,c.numberOfSymbolInstances,c.stripSize,re,de,c.transposed,c.dsOffset,c.referenceCorner,c.combinationOperator,oe,c.refinementTemplate,c.refinementAt,ue,c.logStripSize,he);this.drawBitmap(ae,ge)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(c,_,W,Y,J){let ae=this.patterns;ae||(this.patterns=ae={});const oe=new z(W,Y,J);ae[_]=P(c.mmr,c.patternWidth,c.patternHeight,c.maxPatternIndex,c.template,oe)}onImmediateHalftoneRegion(c,_,W,Y,J){const ae=this.patterns[_[0]],oe=c.info,he=new z(W,Y,J),ne=d(c.mmr,ae,c.template,oe.width,oe.height,c.defaultPixelValue,c.enableSkip,c.combinationOperator,c.gridWidth,c.gridHeight,c.gridOffsetX,c.gridOffsetY,c.gridVectorX,c.gridVectorY,he);this.drawBitmap(oe,ne)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(c,_,W,Y){let J=this.customTables;J||(this.customTables=J={}),J[c]=E(_,W,Y)}}class q{constructor(c){c.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=c[0],this.rangeLength=0,this.prefixCode=c[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=c[0],this.prefixLength=c[1],this.rangeLength=c[2],this.prefixCode=c[3],this.isLowerRange=c[4]==="lower")}}class v{constructor(c){this.children=[],c?(this.isLeaf=!0,this.rangeLength=c.rangeLength,this.rangeLow=c.rangeLow,this.isLowerRange=c.isLowerRange,this.isOOB=c.isOOB):this.isLeaf=!1}buildTree(c,_){const W=c.prefixCode>>_&1;if(_<=0)this.children[W]=new v(c);else{let Y=this.children[W];Y||(this.children[W]=Y=new v(null)),Y.buildTree(c,_-1)}}decodeNode(c){if(this.isLeaf){if(this.isOOB)return null;const W=c.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-W:W)}const _=this.children[c.readBit()];if(!_)throw new t("invalid Huffman data");return _.decodeNode(c)}}class x{constructor(c,_){_||this.assignPrefixCodes(c),this.rootNode=new v(null);for(let W=0,Y=c.length;W<Y;W++){const J=c[W];J.prefixLength>0&&this.rootNode.buildTree(J,J.prefixLength-1)}}decode(c){return this.rootNode.decodeNode(c)}assignPrefixCodes(c){const _=c.length;let W=0;for(let re=0;re<_;re++)W=Math.max(W,c[re].prefixLength);const Y=new Uint32Array(W+1);for(let re=0;re<_;re++)Y[c[re].prefixLength]++;let J=1,ae=0,oe,he,ne;for(Y[0]=0;J<=W;){for(ae=ae+Y[J-1]<<1,oe=ae,he=0;he<_;)ne=c[he],ne.prefixLength===J&&(ne.prefixCode=oe,oe++),he++;J++}}}function E(M,c,_){const W=M[c],Y=(0,l.readUint32)(M,c+1)&4294967295,J=(0,l.readUint32)(M,c+5)&4294967295,ae=new Q(M,c+9,_),oe=(W>>1&7)+1,he=(W>>4&7)+1,ne=[];let re,de,ue=Y;do re=ae.readBits(oe),de=ae.readBits(he),ne.push(new q([ue,re,de,0])),ue+=1<<de;while(ue<J);return re=ae.readBits(oe),ne.push(new q([Y-1,re,32,0,"lower"])),re=ae.readBits(oe),ne.push(new q([J,re,32,0])),W&1&&(re=ae.readBits(oe),ne.push(new q([re,0]))),new x(ne,!1)}const U={};function $(M){let c=U[M];if(c)return c;let _;switch(M){case 1:_=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:_=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:_=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:_=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:_=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:_=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:_=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:_=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:_=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:_=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:_=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:_=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:_=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:_=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:_=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new t(`standard table B.${M} does not exist`)}for(let W=0,Y=_.length;W<Y;W++)_[W]=new q(_[W]);return c=new x(_,!0),U[M]=c,c}class Q{constructor(c,_,W){this.data=c,this.start=_,this.end=W,this.position=_,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new t("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const c=this.currentByte>>this.shift&1;return this.shift--,c}readBits(c){let _=0,W;for(W=c-1;W>=0;W--)_|=this.readBit()<<W;return _}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function ie(M,c,_){let W=0;for(let Y=0,J=c.length;Y<J;Y++){const ae=_[c[Y]];if(ae){if(M===W)return ae;W++}}throw new t("can't find custom Huffman table")}function j(M,c,_,W,Y){const J=[];for(let ue=0;ue<=34;ue++){const ge=Y.readBits(4);J.push(new q([ue,ge,0,0]))}const ae=new x(J,!1);J.length=0;for(let ue=0;ue<W;){const ge=ae.decode(Y);if(ge>=32){let pe,xe,Ie;switch(ge){case 32:if(ue===0)throw new t("no previous value in symbol ID table");xe=Y.readBits(2)+3,pe=J[ue-1].prefixLength;break;case 33:xe=Y.readBits(3)+3,pe=0;break;case 34:xe=Y.readBits(7)+11,pe=0;break;default:throw new t("invalid code length in symbol ID table")}for(Ie=0;Ie<xe;Ie++)J.push(new q([ue,pe,0,0])),ue++}else J.push(new q([ue,ge,0,0])),ue++}Y.byteAlign();const oe=new x(J,!1);let he=0,ne,re,de;switch(M.huffmanFS){case 0:case 1:ne=$(M.huffmanFS+6);break;case 3:ne=ie(he,c,_),he++;break;default:throw new t("invalid Huffman FS selector")}switch(M.huffmanDS){case 0:case 1:case 2:re=$(M.huffmanDS+8);break;case 3:re=ie(he,c,_),he++;break;default:throw new t("invalid Huffman DS selector")}switch(M.huffmanDT){case 0:case 1:case 2:de=$(M.huffmanDT+11);break;case 3:de=ie(he,c,_),he++;break;default:throw new t("invalid Huffman DT selector")}if(M.refinement)throw new t("refinement with Huffman is not supported");return{symbolIDTable:oe,tableFirstS:ne,tableDeltaS:re,tableDeltaT:de}}function X(M,c,_){let W=0,Y,J;switch(M.huffmanDHSelector){case 0:case 1:Y=$(M.huffmanDHSelector+4);break;case 3:Y=ie(W,c,_),W++;break;default:throw new t("invalid Huffman DH selector")}switch(M.huffmanDWSelector){case 0:case 1:J=$(M.huffmanDWSelector+2);break;case 3:J=ie(W,c,_),W++;break;default:throw new t("invalid Huffman DW selector")}let ae,oe;return M.bitmapSizeSelector?(ae=ie(W,c,_),W++):ae=$(1),M.aggregationInstancesSelector?oe=ie(W,c,_):oe=$(1),{tableDeltaHeight:Y,tableDeltaWidth:J,tableBitmapSize:ae,tableAggregateInstances:oe}}function R(M,c,_){const W=[];for(let Y=0;Y<_;Y++){const J=new Uint8Array(c);W.push(J);for(let ae=0;ae<c;ae++)J[ae]=M.readBit();M.byteAlign()}return W}function Z(M,c,_,W){const Y={K:-1,Columns:c,Rows:_,BlackIs1:!0,EndOfBlock:W},J=new e.CCITTFaxDecoder(M,Y),ae=[];let oe,he=!1;for(let ne=0;ne<_;ne++){const re=new Uint8Array(c);ae.push(re);let de=-1;for(let ue=0;ue<c;ue++)de<0&&(oe=J.readNextChar(),oe===-1&&(oe=0,he=!0),de=7),re[ue]=oe>>de&1,de--}if(W&&!he)for(let re=0;re<5&&J.readNextChar()!==-1;re++);return ae}class N{parseChunks(c){return T(c)}parse(c){throw new Error("Not implemented: Jbig2Image.parse")}}S.Jbig2Image=N},(fe,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.ArithmeticDecoder=void 0;const ee=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class n{constructor(K,e,t){this.data=K,this.bp=e,this.dataEnd=t,this.chigh=K[e],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const K=this.data;let e=this.bp;K[e]===255?K[e+1]>143?(this.clow+=65280,this.ct=8):(e++,this.clow+=K[e]<<9,this.ct=7,this.bp=e):(e++,this.clow+=e<this.dataEnd?K[e]<<8:65280,this.ct=8,this.bp=e),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(K,e){let t=K[e]>>1,H=K[e]&1;const z=ee[t],G=z.qe;let I,C=this.a-G;if(this.chigh<G)C<G?(C=G,I=H,t=z.nmps):(C=G,I=1^H,z.switchFlag===1&&(H=I),t=z.nlps);else{if(this.chigh-=G,C&32768)return this.a=C,H;C<G?(I=1^H,z.switchFlag===1&&(H=I),t=z.nlps):(I=H,t=z.nmps)}do this.ct===0&&this.byteIn(),C<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(!(C&32768));return this.a=C,K[e]=t<<1|H,I}}S.ArithmeticDecoder=n},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.JpegStream=void 0;var n=ee(18),l=ee(4),K=ee(27),e=ee(2);class t extends n.DecodeStream{constructor(z,G,I){let C;for(;(C=z.getByte())!==-1;)if(C===255){z.skip(-1);break}super(G),this.stream=z,this.dict=z.dict,this.maybeLength=G,this.params=I}get bytes(){return(0,e.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(z){}readBlock(){if(this.eof)return;const z={decodeTransform:void 0,colorTransform:void 0},G=this.dict.getArray("D","Decode");if((this.forceRGBA||this.forceRGB)&&Array.isArray(G)){const w=this.dict.get("BPC","BitsPerComponent")||8,i=G.length,F=new Int32Array(i);let B=!1;const u=(1<<w)-1;for(let s=0;s<i;s+=2)F[s]=(G[s+1]-G[s])*256|0,F[s+1]=G[s]*u|0,(F[s]!==256||F[s+1]!==0)&&(B=!0);B&&(z.decodeTransform=F)}if(this.params instanceof l.Dict){const w=this.params.get("ColorTransform");Number.isInteger(w)&&(z.colorTransform=w)}const I=new K.JpegImage(z);I.parse(this.bytes);const C=I.getData({width:this.drawWidth,height:this.drawHeight,forceRGBA:this.forceRGBA,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=C,this.bufferLength=C.length,this.eof=!0}}S.JpegStream=t},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.JpegImage=void 0;var n=ee(2),l=ee(28),K=ee(3);class e extends n.BaseException{constructor(A){super(`JPEG error: ${A}`,"JpegError")}}class t extends n.BaseException{constructor(A,L){super(A,"DNLMarkerError"),this.scanLines=L}}class H extends n.BaseException{constructor(A){super(A,"EOIMarkerError")}}const z=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),G=4017,I=799,C=3406,w=2276,i=1567,F=3784,B=5793,u=2896;function s(d,A){let L=0,h,g,k=16;for(;k>0&&!d[k-1];)k--;const D=[{children:[],index:0}];let T=D[0],V;for(h=0;h<k;h++){for(g=0;g<d[h];g++){for(T=D.pop(),T.children[T.index]=A[L];T.index>0;)T=D.pop();for(T.index++,D.push(T);D.length<=h;)D.push(V={children:[],index:0}),T.children[T.index]=V.children,T=V;L++}h+1<k&&(D.push(V={children:[],index:0}),T.children[T.index]=V.children,T=V)}return D[0].children}function o(d,A,L){return 64*((d.blocksPerLine+1)*A+L)}function y(d,A,L,h,g,k,D,T,V,q=!1){const v=L.mcusPerLine,x=L.progressive,E=A;let U=0,$=0;function Q(){if($>0)return $--,U>>$&1;if(U=d[A++],U===255){const be=d[A++];if(be){if(be===220&&q){A+=2;const Ee=(0,K.readUint16)(d,A);if(A+=2,Ee>0&&Ee!==L.scanLines)throw new t("Found DNL marker (0xFFDC) while parsing scan data",Ee)}else if(be===217){if(q){const Ee=J*(L.precision===8?8:0);if(Ee>0&&Math.round(L.scanLines/Ee)>=5)throw new t("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",Ee)}throw new H("Found EOI marker (0xFFD9) while parsing scan data")}throw new e(`unexpected marker ${(U<<8|be).toString(16)}`)}}return $=7,U>>>7}function ie(be){let Ee=be;for(;;){switch(Ee=Ee[Q()],typeof Ee){case"number":return Ee;case"object":continue}throw new e("invalid huffman sequence")}}function j(be){let Ee=0;for(;be>0;)Ee=Ee<<1|Q(),be--;return Ee}function X(be){if(be===1)return Q()===1?1:-1;const Ee=j(be);return Ee>=1<<be-1?Ee:Ee+(-1<<be)+1}function R(be,Ee){const _e=ie(be.huffmanTableDC),Re=_e===0?0:X(_e);be.blockData[Ee]=be.pred+=Re;let Pe=1;for(;Pe<64;){const ve=ie(be.huffmanTableAC),Te=ve&15,je=ve>>4;if(Te===0){if(je<15)break;Pe+=16;continue}Pe+=je;const Ce=z[Pe];be.blockData[Ee+Ce]=X(Te),Pe++}}function Z(be,Ee){const _e=ie(be.huffmanTableDC),Re=_e===0?0:X(_e)<<V;be.blockData[Ee]=be.pred+=Re}function N(be,Ee){be.blockData[Ee]|=Q()<<V}let M=0;function c(be,Ee){if(M>0){M--;return}let _e=k;const Re=D;for(;_e<=Re;){const Pe=ie(be.huffmanTableAC),ve=Pe&15,Te=Pe>>4;if(ve===0){if(Te<15){M=j(Te)+(1<<Te)-1;break}_e+=16;continue}_e+=Te;const je=z[_e];be.blockData[Ee+je]=X(ve)*(1<<V),_e++}}let _=0,W;function Y(be,Ee){let _e=k;const Re=D;let Pe=0,ve,Te;for(;_e<=Re;){const je=Ee+z[_e],Ce=be.blockData[je]<0?-1:1;switch(_){case 0:if(Te=ie(be.huffmanTableAC),ve=Te&15,Pe=Te>>4,ve===0)Pe<15?(M=j(Pe)+(1<<Pe),_=4):(Pe=16,_=1);else{if(ve!==1)throw new e("invalid ACn encoding");W=X(ve),_=Pe?2:3}continue;case 1:case 2:be.blockData[je]?be.blockData[je]+=Ce*(Q()<<V):(Pe--,Pe===0&&(_=_===2?3:0));break;case 3:be.blockData[je]?be.blockData[je]+=Ce*(Q()<<V):(be.blockData[je]=W<<V,_=0);break;case 4:be.blockData[je]&&(be.blockData[je]+=Ce*(Q()<<V));break}_e++}_===4&&(M--,M===0&&(_=0))}let J=0;function ae(be,Ee,_e,Re,Pe){const ve=_e/v|0,Te=_e%v;J=ve*be.v+Re;const je=Te*be.h+Pe,Ce=o(be,J,je);Ee(be,Ce)}function oe(be,Ee,_e){J=_e/be.blocksPerLine|0;const Re=_e%be.blocksPerLine,Pe=o(be,J,Re);Ee(be,Pe)}const he=h.length;let ne,re,de,ue,ge,pe;x?k===0?pe=T===0?Z:N:pe=T===0?c:Y:pe=R;let xe=0,Ie,Fe;he===1?Fe=h[0].blocksPerLine*h[0].blocksPerColumn:Fe=v*L.mcusPerColumn;let Ae,we;for(;xe<=Fe;){const be=g?Math.min(Fe-xe,g):Fe;if(be>0){for(re=0;re<he;re++)h[re].pred=0;if(M=0,he===1)for(ne=h[0],ge=0;ge<be;ge++)oe(ne,pe,xe),xe++;else for(ge=0;ge<be;ge++){for(re=0;re<he;re++)for(ne=h[re],Ae=ne.h,we=ne.v,de=0;de<we;de++)for(ue=0;ue<Ae;ue++)ae(ne,pe,xe,de,ue);xe++}}if($=0,Ie=m(d,A),!Ie)break;if(Ie.invalid){const Ee=be>0?"unexpected":"excessive";(0,n.warn)(`decodeScan - ${Ee} MCU data, current marker is: ${Ie.invalid}`),A=Ie.offset}if(Ie.marker>=65488&&Ie.marker<=65495)A+=2;else break}return A-E}function r(d,A,L){const h=d.quantizationTable,g=d.blockData;let k,D,T,V,q,v,x,E,U,$,Q,ie,j,X,R,Z,N;if(!h)throw new e("missing required Quantization Table.");for(let M=0;M<64;M+=8){if(U=g[A+M],$=g[A+M+1],Q=g[A+M+2],ie=g[A+M+3],j=g[A+M+4],X=g[A+M+5],R=g[A+M+6],Z=g[A+M+7],U*=h[M],!($|Q|ie|j|X|R|Z)){N=B*U+512>>10,L[M]=N,L[M+1]=N,L[M+2]=N,L[M+3]=N,L[M+4]=N,L[M+5]=N,L[M+6]=N,L[M+7]=N;continue}$*=h[M+1],Q*=h[M+2],ie*=h[M+3],j*=h[M+4],X*=h[M+5],R*=h[M+6],Z*=h[M+7],k=B*U+128>>8,D=B*j+128>>8,T=Q,V=R,q=u*($-Z)+128>>8,E=u*($+Z)+128>>8,v=ie<<4,x=X<<4,k=k+D+1>>1,D=k-D,N=T*F+V*i+128>>8,T=T*i-V*F+128>>8,V=N,q=q+x+1>>1,x=q-x,E=E+v+1>>1,v=E-v,k=k+V+1>>1,V=k-V,D=D+T+1>>1,T=D-T,N=q*w+E*C+2048>>12,q=q*C-E*w+2048>>12,E=N,N=v*I+x*G+2048>>12,v=v*G-x*I+2048>>12,x=N,L[M]=k+E,L[M+7]=k-E,L[M+1]=D+x,L[M+6]=D-x,L[M+2]=T+v,L[M+5]=T-v,L[M+3]=V+q,L[M+4]=V-q}for(let M=0;M<8;++M){if(U=L[M],$=L[M+8],Q=L[M+16],ie=L[M+24],j=L[M+32],X=L[M+40],R=L[M+48],Z=L[M+56],!($|Q|ie|j|X|R|Z)){N=B*U+8192>>14,N<-2040?N=0:N>=2024?N=255:N=N+2056>>4,g[A+M]=N,g[A+M+8]=N,g[A+M+16]=N,g[A+M+24]=N,g[A+M+32]=N,g[A+M+40]=N,g[A+M+48]=N,g[A+M+56]=N;continue}k=B*U+2048>>12,D=B*j+2048>>12,T=Q,V=R,q=u*($-Z)+2048>>12,E=u*($+Z)+2048>>12,v=ie,x=X,k=(k+D+1>>1)+4112,D=k-D,N=T*F+V*i+2048>>12,T=T*i-V*F+2048>>12,V=N,q=q+x+1>>1,x=q-x,E=E+v+1>>1,v=E-v,k=k+V+1>>1,V=k-V,D=D+T+1>>1,T=D-T,N=q*w+E*C+2048>>12,q=q*C-E*w+2048>>12,E=N,N=v*I+x*G+2048>>12,v=v*G-x*I+2048>>12,x=N,U=k+E,Z=k-E,$=D+x,R=D-x,Q=T+v,X=T-v,ie=V+q,j=V-q,U<16?U=0:U>=4080?U=255:U>>=4,$<16?$=0:$>=4080?$=255:$>>=4,Q<16?Q=0:Q>=4080?Q=255:Q>>=4,ie<16?ie=0:ie>=4080?ie=255:ie>>=4,j<16?j=0:j>=4080?j=255:j>>=4,X<16?X=0:X>=4080?X=255:X>>=4,R<16?R=0:R>=4080?R=255:R>>=4,Z<16?Z=0:Z>=4080?Z=255:Z>>=4,g[A+M]=U,g[A+M+8]=$,g[A+M+16]=Q,g[A+M+24]=ie,g[A+M+32]=j,g[A+M+40]=X,g[A+M+48]=R,g[A+M+56]=Z}}function f(d,A){const L=A.blocksPerLine,h=A.blocksPerColumn,g=new Int16Array(64);for(let k=0;k<h;k++)for(let D=0;D<L;D++){const T=o(A,k,D);r(A,T,g)}return A.blockData}function m(d,A,L=A){const h=d.length-1;let g=L<A?L:A;if(A>=h)return null;const k=(0,K.readUint16)(d,A);if(k>=65472&&k<=65534)return{invalid:null,marker:k,offset:A};let D=(0,K.readUint16)(d,g);for(;!(D>=65472&&D<=65534);){if(++g>=h)return null;D=(0,K.readUint16)(d,g)}return{invalid:k.toString(16),marker:D,offset:g}}class P{constructor({decodeTransform:A=null,colorTransform:L=-1}={}){this._decodeTransform=A,this._colorTransform=L}parse(A,{dnlScanLines:L=null}={}){function h(){const Q=(0,K.readUint16)(A,k);k+=2;let ie=k+Q-2;const j=m(A,ie,k);j!=null&&j.invalid&&((0,n.warn)("readDataBlock - incorrect length, current marker is: "+j.invalid),ie=j.offset);const X=A.subarray(k,ie);return k+=X.length,X}function g(Q){const ie=Math.ceil(Q.samplesPerLine/8/Q.maxH),j=Math.ceil(Q.scanLines/8/Q.maxV);for(const X of Q.components){const R=Math.ceil(Math.ceil(Q.samplesPerLine/8)*X.h/Q.maxH),Z=Math.ceil(Math.ceil(Q.scanLines/8)*X.v/Q.maxV),N=ie*X.h,c=64*(j*X.v)*(N+1);X.blockData=new Int16Array(c),X.blocksPerLine=R,X.blocksPerColumn=Z}Q.mcusPerLine=ie,Q.mcusPerColumn=j}let k=0,D=null,T=null,V,q,v=0;const x=[],E=[],U=[];let $=(0,K.readUint16)(A,k);if(k+=2,$!==65496)throw new e("SOI not found");$=(0,K.readUint16)(A,k),k+=2;e:for(;$!==65497;){let Q,ie,j;switch($){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const X=h();$===65504&&X[0]===74&&X[1]===70&&X[2]===73&&X[3]===70&&X[4]===0&&(D={version:{major:X[5],minor:X[6]},densityUnits:X[7],xDensity:X[8]<<8|X[9],yDensity:X[10]<<8|X[11],thumbWidth:X[12],thumbHeight:X[13],thumbData:X.subarray(14,14+3*X[12]*X[13])}),$===65518&&X[0]===65&&X[1]===100&&X[2]===111&&X[3]===98&&X[4]===101&&(T={version:X[5]<<8|X[6],flags0:X[7]<<8|X[8],flags1:X[9]<<8|X[10],transformCode:X[11]});break;case 65499:const R=(0,K.readUint16)(A,k);k+=2;const Z=R+k-2;let N;for(;k<Z;){const ue=A[k++],ge=new Uint16Array(64);if(ue>>4)if(ue>>4===1)for(ie=0;ie<64;ie++)N=z[ie],ge[N]=(0,K.readUint16)(A,k),k+=2;else throw new e("DQT - invalid table spec");else for(ie=0;ie<64;ie++)N=z[ie],ge[N]=A[k++];x[ue&15]=ge}break;case 65472:case 65473:case 65474:if(V)throw new e("Only single frame JPEGs supported");k+=2,V={},V.extended=$===65473,V.progressive=$===65474,V.precision=A[k++];const M=(0,K.readUint16)(A,k);k+=2,V.scanLines=L||M,V.samplesPerLine=(0,K.readUint16)(A,k),k+=2,V.components=[],V.componentIds={};const c=A[k++];let _=0,W=0;for(Q=0;Q<c;Q++){const ue=A[k],ge=A[k+1]>>4,pe=A[k+1]&15;_<ge&&(_=ge),W<pe&&(W=pe);const xe=A[k+2];j=V.components.push({h:ge,v:pe,quantizationId:xe,quantizationTable:null}),V.componentIds[ue]=j-1,k+=3}V.maxH=_,V.maxV=W,g(V);break;case 65476:const Y=(0,K.readUint16)(A,k);for(k+=2,Q=2;Q<Y;){const ue=A[k++],ge=new Uint8Array(16);let pe=0;for(ie=0;ie<16;ie++,k++)pe+=ge[ie]=A[k];const xe=new Uint8Array(pe);for(ie=0;ie<pe;ie++,k++)xe[ie]=A[k];Q+=17+pe,(ue>>4?E:U)[ue&15]=s(ge,xe)}break;case 65501:k+=2,q=(0,K.readUint16)(A,k),k+=2;break;case 65498:const J=++v===1&&!L;k+=2;const ae=A[k++],oe=[];for(Q=0;Q<ae;Q++){const ue=A[k++],ge=V.componentIds[ue],pe=V.components[ge];pe.index=ue;const xe=A[k++];pe.huffmanTableDC=U[xe>>4],pe.huffmanTableAC=E[xe&15],oe.push(pe)}const he=A[k++],ne=A[k++],re=A[k++];try{const ue=y(A,k,V,oe,q,he,ne,re>>4,re&15,J);k+=ue}catch(ue){if(ue instanceof t)return(0,n.warn)(`${ue.message} -- attempting to re-parse the JPEG image.`),this.parse(A,{dnlScanLines:ue.scanLines});if(ue instanceof H){(0,n.warn)(`${ue.message} -- ignoring the rest of the image data.`);break e}throw ue}break;case 65500:k+=4;break;case 65535:A[k]!==255&&k--;break;default:const de=m(A,k-2,k-3);if(de!=null&&de.invalid){(0,n.warn)("JpegImage.parse - unexpected data, current marker is: "+de.invalid),k=de.offset;break}if(!de||k>=A.length-1){(0,n.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new e("JpegImage.parse - unknown marker: "+$.toString(16))}$=(0,K.readUint16)(A,k),k+=2}this.width=V.samplesPerLine,this.height=V.scanLines,this.jfif=D,this.adobe=T,this.components=[];for(const Q of V.components){const ie=x[Q.quantizationId];ie&&(Q.quantizationTable=ie),this.components.push({index:Q.index,output:f(V,Q),scaleX:Q.h/V.maxH,scaleY:Q.v/V.maxV,blocksPerLine:Q.blocksPerLine,blocksPerColumn:Q.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(A,L,h=!1){const g=this.width/A,k=this.height/L;let D,T,V,q,v,x,E,U,$,Q,ie=0,j;const X=this.components.length,R=A*L*X,Z=new Uint8ClampedArray(R),N=new Uint32Array(A),M=4294967288;let c;for(E=0;E<X;E++){if(D=this.components[E],T=D.scaleX*g,V=D.scaleY*k,ie=E,j=D.output,q=D.blocksPerLine+1<<3,T!==c){for(v=0;v<A;v++)U=0|v*T,N[v]=(U&M)<<3|U&7;c=T}for(x=0;x<L;x++)for(U=0|x*V,Q=q*(U&M)|(U&7)<<3,v=0;v<A;v++)Z[ie]=j[Q+N[v]],ie+=X}let _=this._decodeTransform;if(!h&&X===4&&!_&&(_=new Int32Array([-256,255,-256,255,-256,255,-256,255])),_)for(E=0;E<R;)for(U=0,$=0;U<X;U++,E++,$+=2)Z[E]=(Z[E]*_[$]>>8)+_[$+1];return Z}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(A){let L,h,g;for(let k=0,D=A.length;k<D;k+=3)L=A[k],h=A[k+1],g=A[k+2],A[k]=L-179.456+1.402*g,A[k+1]=L+135.459-.344*h-.714*g,A[k+2]=L-226.816+1.772*h;return A}_convertYccToRgba(A,L){for(let h=0,g=0,k=A.length;h<k;h+=3,g+=4){const D=A[h],T=A[h+1],V=A[h+2];L[g]=D-179.456+1.402*V,L[g+1]=D+135.459-.344*T-.714*V,L[g+2]=D-226.816+1.772*T,L[g+3]=255}return L}_convertYcckToRgb(A){let L,h,g,k,D=0;for(let T=0,V=A.length;T<V;T+=4)L=A[T],h=A[T+1],g=A[T+2],k=A[T+3],A[D++]=-122.67195406894+h*(-660635669420364e-19*h+.000437130475926232*g-54080610064599e-18*L+.00048449797120281*k-.154362151871126)+g*(-.000957964378445773*g+.000817076911346625*L-.00477271405408747*k+1.53380253221734)+L*(.000961250184130688*L-.00266257332283933*k+.48357088451265)+k*(-.000336197177618394*k+.484791561490776),A[D++]=107.268039397724+h*(219927104525741e-19*h-.000640992018297945*g+.000659397001245577*L+.000426105652938837*k-.176491792462875)+g*(-.000778269941513683*g+.00130872261408275*L+.000770482631801132*k-.151051492775562)+L*(.00126935368114843*L-.00265090189010898*k+.25802910206845)+k*(-.000318913117588328*k-.213742400323665),A[D++]=-20.810012546947+h*(-.000570115196973677*h-263409051004589e-19*g+.0020741088115012*L-.00288260236853442*k+.814272968359295)+g*(-153496057440975e-19*g-.000132689043961446*L+.000560833691242812*k-.195152027534049)+L*(.00174418132927582*L-.00255243321439347*k+.116935020465145)+k*(-.000343531996510555*k+.24165260232407);return A.subarray(0,D)}_convertYcckToRgba(A){for(let L=0,h=A.length;L<h;L+=4){const g=A[L],k=A[L+1],D=A[L+2],T=A[L+3];A[L]=-122.67195406894+k*(-660635669420364e-19*k+.000437130475926232*D-54080610064599e-18*g+.00048449797120281*T-.154362151871126)+D*(-.000957964378445773*D+.000817076911346625*g-.00477271405408747*T+1.53380253221734)+g*(.000961250184130688*g-.00266257332283933*T+.48357088451265)+T*(-.000336197177618394*T+.484791561490776),A[L+1]=107.268039397724+k*(219927104525741e-19*k-.000640992018297945*D+.000659397001245577*g+.000426105652938837*T-.176491792462875)+D*(-.000778269941513683*D+.00130872261408275*g+.000770482631801132*T-.151051492775562)+g*(.00126935368114843*g-.00265090189010898*T+.25802910206845)+T*(-.000318913117588328*T-.213742400323665),A[L+2]=-20.810012546947+k*(-.000570115196973677*k-263409051004589e-19*D+.0020741088115012*g-.00288260236853442*T+.814272968359295)+D*(-153496057440975e-19*D-.000132689043961446*g+.000560833691242812*T-.195152027534049)+g*(.00174418132927582*g-.00255243321439347*T+.116935020465145)+T*(-.000343531996510555*T+.24165260232407),A[L+3]=255}return A}_convertYcckToCmyk(A){let L,h,g;for(let k=0,D=A.length;k<D;k+=4)L=A[k],h=A[k+1],g=A[k+2],A[k]=434.456-L-1.402*g,A[k+1]=119.541-L+.344*h+.714*g,A[k+2]=481.816-L-1.772*h;return A}_convertCmykToRgb(A){let L,h,g,k,D=0;for(let T=0,V=A.length;T<V;T+=4)L=A[T],h=A[T+1],g=A[T+2],k=A[T+3],A[D++]=255+L*(-6747147073602441e-20*L+.0008379262121013727*h+.0002894718188643294*g+.003264231057537806*k-1.1185611867203937)+h*(26374107616089405e-21*h-8626949158638572e-20*g-.0002748769067499491*k-.02155688794978967)+g*(-3878099212869363e-20*g-.0003267808279485286*k+.0686742238595345)-k*(.0003361971776183937*k+.7430659151342254),A[D++]=255+L*(.00013596372813588848*L+.000924537132573585*h+.00010567359618683593*g+.0004791864687436512*k-.3109689587515875)+h*(-.00023545346108370344*h+.0002702845253534714*g+.0020200308977307156*k-.7488052167015494)+g*(6834815998235662e-20*g+.00015168452363460973*k-.09751927774728933)-k*(.0003189131175883281*k+.7364883807733168),A[D++]=255+L*(13598650411385307e-21*L+.00012423956175490851*h+.0004751985097583589*g-36729317476630422e-22*k-.05562186980264034)+h*(.00016141380598724676*h+.0009692239130725186*g+.0007782692450036253*k-.44015232367526463)+g*(5068882914068769e-22*g+.0017778369011375071*k-.7591454649749609)-k*(.0003435319965105553*k+.7063770186160144);return A.subarray(0,D)}_convertCmykToRgba(A){for(let L=0,h=A.length;L<h;L+=4){const g=A[L],k=A[L+1],D=A[L+2],T=A[L+3];A[L]=255+g*(-6747147073602441e-20*g+.0008379262121013727*k+.0002894718188643294*D+.003264231057537806*T-1.1185611867203937)+k*(26374107616089405e-21*k-8626949158638572e-20*D-.0002748769067499491*T-.02155688794978967)+D*(-3878099212869363e-20*D-.0003267808279485286*T+.0686742238595345)-T*(.0003361971776183937*T+.7430659151342254),A[L+1]=255+g*(.00013596372813588848*g+.000924537132573585*k+.00010567359618683593*D+.0004791864687436512*T-.3109689587515875)+k*(-.00023545346108370344*k+.0002702845253534714*D+.0020200308977307156*T-.7488052167015494)+D*(6834815998235662e-20*D+.00015168452363460973*T-.09751927774728933)-T*(.0003189131175883281*T+.7364883807733168),A[L+2]=255+g*(13598650411385307e-21*g+.00012423956175490851*k+.0004751985097583589*D-36729317476630422e-22*T-.05562186980264034)+k*(.00016141380598724676*k+.0009692239130725186*D+.0007782692450036253*T-.44015232367526463)+D*(5068882914068769e-22*D+.0017778369011375071*T-.7591454649749609)-T*(.0003435319965105553*T+.7063770186160144),A[L+3]=255}return A}getData({width:A,height:L,forceRGBA:h=!1,forceRGB:g=!1,isSourcePDF:k=!1}){if(this.numComponents>4)throw new e("Unsupported color mode");const D=this._getLinearizedBlockData(A,L,k);if(this.numComponents===1&&(h||g)){const T=D.length*(h?4:3),V=new Uint8ClampedArray(T);let q=0;if(h)(0,l.grayToRGBA)(D,new Uint32Array(V.buffer));else for(const v of D)V[q++]=v,V[q++]=v,V[q++]=v;return V}else if(this.numComponents===3&&this._isColorConversionNeeded){if(h){const T=new Uint8ClampedArray(D.length/3*4);return this._convertYccToRgba(D,T)}return this._convertYccToRgb(D)}else if(this.numComponents===4){if(this._isColorConversionNeeded)return h?this._convertYcckToRgba(D):g?this._convertYcckToRgb(D):this._convertYcckToCmyk(D);if(h)return this._convertCmykToRgba(D);if(g)return this._convertCmykToRgb(D)}return D}}S.JpegImage=P},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.convertBlackAndWhiteToRGBA=K,S.convertToRGBA=l,S.grayToRGBA=t;var n=ee(2);function l(H){switch(H.kind){case n.ImageKind.GRAYSCALE_1BPP:return K(H);case n.ImageKind.RGB_24BPP:return e(H)}return null}function K({src:H,srcPos:z=0,dest:G,width:I,height:C,nonBlackColor:w=4294967295,inverseDecode:i=!1}){const F=n.FeatureTest.isLittleEndian?4278190080:255,[B,u]=i?[w,F]:[F,w],s=I>>3,o=I&7,y=H.length;G=new Uint32Array(G.buffer);let r=0;for(let f=0;f<C;f++){for(const P=z+s;z<P;z++){const d=z<y?H[z]:255;G[r++]=d&128?u:B,G[r++]=d&64?u:B,G[r++]=d&32?u:B,G[r++]=d&16?u:B,G[r++]=d&8?u:B,G[r++]=d&4?u:B,G[r++]=d&2?u:B,G[r++]=d&1?u:B}if(o===0)continue;const m=z<y?H[z++]:255;for(let P=0;P<o;P++)G[r++]=m&1<<7-P?u:B}return{srcPos:z,destPos:r}}function e({src:H,srcPos:z=0,dest:G,destPos:I=0,width:C,height:w}){let i=0;const F=H.length>>2,B=new Uint32Array(H.buffer,z,F);if(n.FeatureTest.isLittleEndian){for(;i<F-2;i+=3,I+=4){const u=B[i],s=B[i+1],o=B[i+2];G[I]=u|4278190080,G[I+1]=u>>>24|s<<8|4278190080,G[I+2]=s>>>16|o<<16|4278190080,G[I+3]=o>>>8|4278190080}for(let u=i*4,s=H.length;u<s;u+=3)G[I++]=H[u]|H[u+1]<<8|H[u+2]<<16|4278190080}else{for(;i<F-2;i+=3,I+=4){const u=B[i],s=B[i+1],o=B[i+2];G[I]=u|255,G[I+1]=u<<24|s>>>8|255,G[I+2]=s<<16|o>>>16|255,G[I+3]=o<<8|255}for(let u=i*4,s=H.length;u<s;u+=3)G[I++]=H[u]<<24|H[u+1]<<16|H[u+2]<<8|255}return{srcPos:z,destPos:I}}function t(H,z){if(n.FeatureTest.isLittleEndian)for(let G=0,I=H.length;G<I;G++)z[G]=H[G]*65793|4278190080;else for(let G=0,I=H.length;G<I;G++)z[G]=H[G]*16843008|255}},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.JpxStream=void 0;var n=ee(18),l=ee(30),K=ee(2);class e extends n.DecodeStream{constructor(H,z,G){super(z),this.stream=H,this.dict=H.dict,this.maybeLength=z,this.params=G}get bytes(){return(0,K.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(H){}readBlock(){if(this.eof)return;const H=new l.JpxImage;H.parse(this.bytes);const z=H.width,G=H.height,I=H.componentsCount,C=H.tiles.length;if(C===1)this.buffer=H.tiles[0].items;else{const w=new Uint8ClampedArray(z*G*I);for(let i=0;i<C;i++){const F=H.tiles[i],B=F.width,u=F.height,s=F.left,o=F.top,y=F.items;let r=0,f=(z*o+s)*I;const m=z*I,P=B*I;for(let d=0;d<u;d++){const A=y.subarray(r,r+P);w.set(A,f),r+=P,f+=m}}this.buffer=w}this.bufferLength=this.buffer.length,this.eof=!0}}S.JpxStream=e},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.JpxImage=void 0;var n=ee(2),l=ee(3),K=ee(25);class e extends n.BaseException{constructor(x){super(`JPX error: ${x}`,"JpxError")}}const t={LL:0,LH:1,HL:1,HH:2};class H{constructor(){this.failOnCorruptedImage=!1}parse(x){if((0,l.readUint16)(x,0)===65359){this.parseCodestream(x,0,x.length);return}const U=x.length;let $=0;for(;$<U;){let Q=8,ie=(0,l.readUint32)(x,$);const j=(0,l.readUint32)(x,$+4);if($+=Q,ie===1&&(ie=(0,l.readUint32)(x,$)*4294967296+(0,l.readUint32)(x,$+4),$+=8,Q+=8),ie===0&&(ie=U-$+Q),ie<Q)throw new e("Invalid box field size");const X=ie-Q;let R=!0;switch(j){case 1785737832:R=!1;break;case 1668246642:const Z=x[$];if(Z===1){const M=(0,l.readUint32)(x,$+3);switch(M){case 16:case 17:case 18:break;default:(0,n.warn)("Unknown colorspace "+M);break}}else Z===2&&(0,n.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(x,$,$+X);break;case 1783636e3:(0,l.readUint32)(x,$)!==218793738&&(0,n.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const N=String.fromCharCode(j>>24&255,j>>16&255,j>>8&255,j&255);(0,n.warn)(`Unsupported header type ${j} (${N}).`);break}R&&($+=X)}}parseImageProperties(x){let E=x.getByte();for(;E>=0;){const U=E;if(E=x.getByte(),(U<<8|E)===65361){x.skip(4);const Q=x.getInt32()>>>0,ie=x.getInt32()>>>0,j=x.getInt32()>>>0,X=x.getInt32()>>>0;x.skip(16);const R=x.getUint16();this.width=Q-j,this.height=ie-X,this.componentsCount=R,this.bitsPerComponent=8;return}}throw new e("No size marker found in JPX stream")}parseCodestream(x,E,U){const $={};let Q=!1;try{let ie=E;for(;ie+1<U;){const j=(0,l.readUint16)(x,ie);ie+=2;let X=0,R,Z,N,M,c,_;switch(j){case 65359:$.mainHeader=!0;break;case 65497:break;case 65361:X=(0,l.readUint16)(x,ie);const W={};W.Xsiz=(0,l.readUint32)(x,ie+4),W.Ysiz=(0,l.readUint32)(x,ie+8),W.XOsiz=(0,l.readUint32)(x,ie+12),W.YOsiz=(0,l.readUint32)(x,ie+16),W.XTsiz=(0,l.readUint32)(x,ie+20),W.YTsiz=(0,l.readUint32)(x,ie+24),W.XTOsiz=(0,l.readUint32)(x,ie+28),W.YTOsiz=(0,l.readUint32)(x,ie+32);const Y=(0,l.readUint16)(x,ie+36);W.Csiz=Y;const J=[];R=ie+38;for(let ge=0;ge<Y;ge++){const pe={precision:(x[R]&127)+1,isSigned:!!(x[R]&128),XRsiz:x[R+1],YRsiz:x[R+2]};R+=3,z(pe,W),J.push(pe)}$.SIZ=W,$.components=J,G($,J),$.QCC=[],$.COC=[];break;case 65372:X=(0,l.readUint16)(x,ie);const ae={};switch(R=ie+2,Z=x[R++],Z&31){case 0:M=8,c=!0;break;case 1:M=16,c=!1;break;case 2:M=16,c=!0;break;default:throw new Error("Invalid SQcd value "+Z)}for(ae.noQuantization=M===8,ae.scalarExpounded=c,ae.guardBits=Z>>5,N=[];R<X+ie;){const ge={};M===8?(ge.epsilon=x[R++]>>3,ge.mu=0):(ge.epsilon=x[R]>>3,ge.mu=(x[R]&7)<<8|x[R+1],R+=2),N.push(ge)}ae.SPqcds=N,$.mainHeader?$.QCD=ae:($.currentTile.QCD=ae,$.currentTile.QCC=[]);break;case 65373:X=(0,l.readUint16)(x,ie);const oe={};R=ie+2;let he;switch($.SIZ.Csiz<257?he=x[R++]:(he=(0,l.readUint16)(x,R),R+=2),Z=x[R++],Z&31){case 0:M=8,c=!0;break;case 1:M=16,c=!1;break;case 2:M=16,c=!0;break;default:throw new Error("Invalid SQcd value "+Z)}for(oe.noQuantization=M===8,oe.scalarExpounded=c,oe.guardBits=Z>>5,N=[];R<X+ie;){const ge={};M===8?(ge.epsilon=x[R++]>>3,ge.mu=0):(ge.epsilon=x[R]>>3,ge.mu=(x[R]&7)<<8|x[R+1],R+=2),N.push(ge)}oe.SPqcds=N,$.mainHeader?$.QCC[he]=oe:$.currentTile.QCC[he]=oe;break;case 65362:X=(0,l.readUint16)(x,ie);const ne={};R=ie+2;const re=x[R++];ne.entropyCoderWithCustomPrecincts=!!(re&1),ne.sopMarkerUsed=!!(re&2),ne.ephMarkerUsed=!!(re&4),ne.progressionOrder=x[R++],ne.layersCount=(0,l.readUint16)(x,R),R+=2,ne.multipleComponentTransform=x[R++],ne.decompositionLevelsCount=x[R++],ne.xcb=(x[R++]&15)+2,ne.ycb=(x[R++]&15)+2;const de=x[R++];if(ne.selectiveArithmeticCodingBypass=!!(de&1),ne.resetContextProbabilities=!!(de&2),ne.terminationOnEachCodingPass=!!(de&4),ne.verticallyStripe=!!(de&8),ne.predictableTermination=!!(de&16),ne.segmentationSymbolUsed=!!(de&32),ne.reversibleTransformation=x[R++],ne.entropyCoderWithCustomPrecincts){const ge=[];for(;R<X+ie;){const pe=x[R++];ge.push({PPx:pe&15,PPy:pe>>4})}ne.precinctsSizes=ge}const ue=[];ne.selectiveArithmeticCodingBypass&&ue.push("selectiveArithmeticCodingBypass"),ne.terminationOnEachCodingPass&&ue.push("terminationOnEachCodingPass"),ne.verticallyStripe&&ue.push("verticallyStripe"),ne.predictableTermination&&ue.push("predictableTermination"),ue.length>0&&(Q=!0,(0,n.warn)(`JPX: Unsupported COD options (${ue.join(", ")}).`)),$.mainHeader?$.COD=ne:($.currentTile.COD=ne,$.currentTile.COC=[]);break;case 65424:X=(0,l.readUint16)(x,ie),_={},_.index=(0,l.readUint16)(x,ie+2),_.length=(0,l.readUint32)(x,ie+4),_.dataEnd=_.length+ie-2,_.partIndex=x[ie+8],_.partsCount=x[ie+9],$.mainHeader=!1,_.partIndex===0&&(_.COD=$.COD,_.COC=$.COC.slice(0),_.QCD=$.QCD,_.QCC=$.QCC.slice(0)),$.currentTile=_;break;case 65427:_=$.currentTile,_.partIndex===0&&(L($,_.index),f($)),X=_.dataEnd-ie,m($,x,ie,X);break;case 65363:(0,n.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:X=(0,l.readUint16)(x,ie);break;default:throw new Error("Unknown codestream code: "+j.toString(16))}ie+=X}}catch(ie){if(Q||this.failOnCorruptedImage)throw new e(ie.message);(0,n.warn)(`JPX: Trying to recover from: "${ie.message}".`)}this.tiles=A($),this.width=$.SIZ.Xsiz-$.SIZ.XOsiz,this.height=$.SIZ.Ysiz-$.SIZ.YOsiz,this.componentsCount=$.SIZ.Csiz}}S.JpxImage=H;function z(v,x){v.x0=Math.ceil(x.XOsiz/v.XRsiz),v.x1=Math.ceil(x.Xsiz/v.XRsiz),v.y0=Math.ceil(x.YOsiz/v.YRsiz),v.y1=Math.ceil(x.Ysiz/v.YRsiz),v.width=v.x1-v.x0,v.height=v.y1-v.y0}function G(v,x){const E=v.SIZ,U=[];let $;const Q=Math.ceil((E.Xsiz-E.XTOsiz)/E.XTsiz),ie=Math.ceil((E.Ysiz-E.YTOsiz)/E.YTsiz);for(let X=0;X<ie;X++)for(let R=0;R<Q;R++)$={},$.tx0=Math.max(E.XTOsiz+R*E.XTsiz,E.XOsiz),$.ty0=Math.max(E.YTOsiz+X*E.YTsiz,E.YOsiz),$.tx1=Math.min(E.XTOsiz+(R+1)*E.XTsiz,E.Xsiz),$.ty1=Math.min(E.YTOsiz+(X+1)*E.YTsiz,E.Ysiz),$.width=$.tx1-$.tx0,$.height=$.ty1-$.ty0,$.components=[],U.push($);v.tiles=U;const j=E.Csiz;for(let X=0,R=j;X<R;X++){const Z=x[X];for(let N=0,M=U.length;N<M;N++){const c={};$=U[N],c.tcx0=Math.ceil($.tx0/Z.XRsiz),c.tcy0=Math.ceil($.ty0/Z.YRsiz),c.tcx1=Math.ceil($.tx1/Z.XRsiz),c.tcy1=Math.ceil($.ty1/Z.YRsiz),c.width=c.tcx1-c.tcx0,c.height=c.tcy1-c.tcy0,$.components[X]=c}}}function I(v,x,E){const U=x.codingStyleParameters,$={};return U.entropyCoderWithCustomPrecincts?($.PPx=U.precinctsSizes[E].PPx,$.PPy=U.precinctsSizes[E].PPy):($.PPx=15,$.PPy=15),$.xcb_=E>0?Math.min(U.xcb,$.PPx-1):Math.min(U.xcb,$.PPx),$.ycb_=E>0?Math.min(U.ycb,$.PPy-1):Math.min(U.ycb,$.PPy),$}function C(v,x,E){const U=1<<E.PPx,$=1<<E.PPy,Q=x.resLevel===0,ie=1<<E.PPx+(Q?0:-1),j=1<<E.PPy+(Q?0:-1),X=x.trx1>x.trx0?Math.ceil(x.trx1/U)-Math.floor(x.trx0/U):0,R=x.try1>x.try0?Math.ceil(x.try1/$)-Math.floor(x.try0/$):0,Z=X*R;x.precinctParameters={precinctWidth:U,precinctHeight:$,numprecinctswide:X,numprecinctshigh:R,numprecincts:Z,precinctWidthInSubband:ie,precinctHeightInSubband:j}}function w(v,x,E){const U=E.xcb_,$=E.ycb_,Q=1<<U,ie=1<<$,j=x.tbx0>>U,X=x.tby0>>$,R=x.tbx1+Q-1>>U,Z=x.tby1+ie-1>>$,N=x.resolution.precinctParameters,M=[],c=[];let _,W,Y,J;for(W=X;W<Z;W++)for(_=j;_<R;_++){Y={cbx:_,cby:W,tbx0:Q*_,tby0:ie*W,tbx1:Q*(_+1),tby1:ie*(W+1)},Y.tbx0_=Math.max(x.tbx0,Y.tbx0),Y.tby0_=Math.max(x.tby0,Y.tby0),Y.tbx1_=Math.min(x.tbx1,Y.tbx1),Y.tby1_=Math.min(x.tby1,Y.tby1);const ae=Math.floor((Y.tbx0_-x.tbx0)/N.precinctWidthInSubband),oe=Math.floor((Y.tby0_-x.tby0)/N.precinctHeightInSubband);if(J=ae+oe*N.numprecinctswide,Y.precinctNumber=J,Y.subbandType=x.type,Y.Lblock=3,Y.tbx1_<=Y.tbx0_||Y.tby1_<=Y.tby0_)continue;M.push(Y);let he=c[J];he!==void 0?(_<he.cbxMin?he.cbxMin=_:_>he.cbxMax&&(he.cbxMax=_),W<he.cbyMin?he.cbxMin=W:W>he.cbyMax&&(he.cbyMax=W)):c[J]=he={cbxMin:_,cbyMin:W,cbxMax:_,cbyMax:W},Y.precinct=he}x.codeblockParameters={codeblockWidth:U,codeblockHeight:$,numcodeblockwide:R-j+1,numcodeblockhigh:Z-X+1},x.codeblocks=M,x.precincts=c}function i(v,x,E){const U=[],$=v.subbands;for(let Q=0,ie=$.length;Q<ie;Q++){const X=$[Q].codeblocks;for(let R=0,Z=X.length;R<Z;R++){const N=X[R];N.precinctNumber===x&&U.push(N)}}return{layerNumber:E,codeblocks:U}}function F(v){const x=v.SIZ,E=v.currentTile.index,U=v.tiles[E],$=U.codingStyleDefaultParameters.layersCount,Q=x.Csiz;let ie=0;for(let N=0;N<Q;N++)ie=Math.max(ie,U.components[N].codingStyleParameters.decompositionLevelsCount);let j=0,X=0,R=0,Z=0;this.nextPacket=function(){for(;j<$;j++){for(;X<=ie;X++){for(;R<Q;R++){const M=U.components[R];if(X>M.codingStyleParameters.decompositionLevelsCount)continue;const c=M.resolutions[X],_=c.precinctParameters.numprecincts;for(;Z<_;){const W=i(c,Z,j);return Z++,W}Z=0}R=0}X=0}throw new e("Out of packets")}}function B(v){const x=v.SIZ,E=v.currentTile.index,U=v.tiles[E],$=U.codingStyleDefaultParameters.layersCount,Q=x.Csiz;let ie=0;for(let N=0;N<Q;N++)ie=Math.max(ie,U.components[N].codingStyleParameters.decompositionLevelsCount);let j=0,X=0,R=0,Z=0;this.nextPacket=function(){for(;j<=ie;j++){for(;X<$;X++){for(;R<Q;R++){const M=U.components[R];if(j>M.codingStyleParameters.decompositionLevelsCount)continue;const c=M.resolutions[j],_=c.precinctParameters.numprecincts;for(;Z<_;){const W=i(c,Z,X);return Z++,W}Z=0}R=0}X=0}throw new e("Out of packets")}}function u(v){const x=v.SIZ,E=v.currentTile.index,U=v.tiles[E],$=U.codingStyleDefaultParameters.layersCount,Q=x.Csiz;let ie,j,X,R,Z=0;for(X=0;X<Q;X++){const M=U.components[X];Z=Math.max(Z,M.codingStyleParameters.decompositionLevelsCount)}const N=new Int32Array(Z+1);for(j=0;j<=Z;++j){let M=0;for(X=0;X<Q;++X){const c=U.components[X].resolutions;j<c.length&&(M=Math.max(M,c[j].precinctParameters.numprecincts))}N[j]=M}ie=0,j=0,X=0,R=0,this.nextPacket=function(){for(;j<=Z;j++){for(;R<N[j];R++){for(;X<Q;X++){const c=U.components[X];if(j>c.codingStyleParameters.decompositionLevelsCount)continue;const _=c.resolutions[j],W=_.precinctParameters.numprecincts;if(!(R>=W)){for(;ie<$;){const Y=i(_,R,ie);return ie++,Y}ie=0}}X=0}R=0}throw new e("Out of packets")}}function s(v){const x=v.SIZ,E=v.currentTile.index,U=v.tiles[E],$=U.codingStyleDefaultParameters.layersCount,Q=x.Csiz,ie=r(U),j=ie;let X=0,R=0,Z=0,N=0,M=0;this.nextPacket=function(){for(;M<j.maxNumHigh;M++){for(;N<j.maxNumWide;N++){for(;Z<Q;Z++){const _=U.components[Z],W=_.codingStyleParameters.decompositionLevelsCount;for(;R<=W;R++){const Y=_.resolutions[R],J=ie.components[Z].resolutions[R],ae=y(N,M,J,j,Y);if(ae!==null){for(;X<$;){const oe=i(Y,ae,X);return X++,oe}X=0}}R=0}Z=0}N=0}throw new e("Out of packets")}}function o(v){const x=v.SIZ,E=v.currentTile.index,U=v.tiles[E],$=U.codingStyleDefaultParameters.layersCount,Q=x.Csiz,ie=r(U);let j=0,X=0,R=0,Z=0,N=0;this.nextPacket=function(){for(;R<Q;++R){const c=U.components[R],_=ie.components[R],W=c.codingStyleParameters.decompositionLevelsCount;for(;N<_.maxNumHigh;N++){for(;Z<_.maxNumWide;Z++){for(;X<=W;X++){const Y=c.resolutions[X],J=_.resolutions[X],ae=y(Z,N,J,_,Y);if(ae!==null){for(;j<$;){const oe=i(Y,ae,j);return j++,oe}j=0}}X=0}Z=0}N=0}throw new e("Out of packets")}}function y(v,x,E,U,$){const Q=v*U.minWidth,ie=x*U.minHeight;if(Q%E.width!==0||ie%E.height!==0)return null;const j=ie/E.width*$.precinctParameters.numprecinctswide;return Q/E.height+j}function r(v){const x=v.components.length;let E=Number.MAX_VALUE,U=Number.MAX_VALUE,$=0,Q=0;const ie=new Array(x);for(let j=0;j<x;j++){const X=v.components[j],R=X.codingStyleParameters.decompositionLevelsCount,Z=new Array(R+1);let N=Number.MAX_VALUE,M=Number.MAX_VALUE,c=0,_=0,W=1;for(let Y=R;Y>=0;--Y){const J=X.resolutions[Y],ae=W*J.precinctParameters.precinctWidth,oe=W*J.precinctParameters.precinctHeight;N=Math.min(N,ae),M=Math.min(M,oe),c=Math.max(c,J.precinctParameters.numprecinctswide),_=Math.max(_,J.precinctParameters.numprecinctshigh),Z[Y]={width:ae,height:oe},W<<=1}E=Math.min(E,N),U=Math.min(U,M),$=Math.max($,c),Q=Math.max(Q,_),ie[j]={resolutions:Z,minWidth:N,minHeight:M,maxNumWide:c,maxNumHigh:_}}return{components:ie,minWidth:E,minHeight:U,maxNumWide:$,maxNumHigh:Q}}function f(v){const x=v.SIZ,E=v.currentTile.index,U=v.tiles[E],$=x.Csiz;for(let ie=0;ie<$;ie++){const j=U.components[ie],X=j.codingStyleParameters.decompositionLevelsCount,R=[],Z=[];for(let N=0;N<=X;N++){const M=I(v,j,N),c={},_=1<<X-N;c.trx0=Math.ceil(j.tcx0/_),c.try0=Math.ceil(j.tcy0/_),c.trx1=Math.ceil(j.tcx1/_),c.try1=Math.ceil(j.tcy1/_),c.resLevel=N,C(v,c,M),R.push(c);let W;if(N===0)W={},W.type="LL",W.tbx0=Math.ceil(j.tcx0/_),W.tby0=Math.ceil(j.tcy0/_),W.tbx1=Math.ceil(j.tcx1/_),W.tby1=Math.ceil(j.tcy1/_),W.resolution=c,w(v,W,M),Z.push(W),c.subbands=[W];else{const Y=1<<X-N+1,J=[];W={},W.type="HL",W.tbx0=Math.ceil(j.tcx0/Y-.5),W.tby0=Math.ceil(j.tcy0/Y),W.tbx1=Math.ceil(j.tcx1/Y-.5),W.tby1=Math.ceil(j.tcy1/Y),W.resolution=c,w(v,W,M),Z.push(W),J.push(W),W={},W.type="LH",W.tbx0=Math.ceil(j.tcx0/Y),W.tby0=Math.ceil(j.tcy0/Y-.5),W.tbx1=Math.ceil(j.tcx1/Y),W.tby1=Math.ceil(j.tcy1/Y-.5),W.resolution=c,w(v,W,M),Z.push(W),J.push(W),W={},W.type="HH",W.tbx0=Math.ceil(j.tcx0/Y-.5),W.tby0=Math.ceil(j.tcy0/Y-.5),W.tbx1=Math.ceil(j.tcx1/Y-.5),W.tby1=Math.ceil(j.tcy1/Y-.5),W.resolution=c,w(v,W,M),Z.push(W),J.push(W),c.subbands=J}}j.resolutions=R,j.subbands=Z}const Q=U.codingStyleDefaultParameters.progressionOrder;switch(Q){case 0:U.packetsIterator=new F(v);break;case 1:U.packetsIterator=new B(v);break;case 2:U.packetsIterator=new u(v);break;case 3:U.packetsIterator=new s(v);break;case 4:U.packetsIterator=new o(v);break;default:throw new e(`Unsupported progression order ${Q}`)}}function m(v,x,E,U){let $=0,Q,ie=0,j=!1;function X(ae){for(;ie<ae;){const oe=x[E+$];$++,j?(Q=Q<<7|oe,ie+=7,j=!1):(Q=Q<<8|oe,ie+=8),oe===255&&(j=!0)}return ie-=ae,Q>>>ie&(1<<ae)-1}function R(ae){return x[E+$-1]===255&&x[E+$]===ae?(Z(1),!0):x[E+$]===255&&x[E+$+1]===ae?(Z(2),!0):!1}function Z(ae){$+=ae}function N(){ie=0,j&&($++,j=!1)}function M(){if(X(1)===0)return 1;if(X(1)===0)return 2;let ae=X(2);return ae<3?ae+3:(ae=X(5),ae<31?ae+6:(ae=X(7),ae+37))}const c=v.currentTile.index,_=v.tiles[c],W=v.COD.sopMarkerUsed,Y=v.COD.ephMarkerUsed,J=_.packetsIterator;for(;$<U;){N(),W&&R(145)&&Z(4);const ae=J.nextPacket();if(!X(1))continue;const oe=ae.layerNumber,he=[];let ne;for(let re=0,de=ae.codeblocks.length;re<de;re++){ne=ae.codeblocks[re];let ue=ne.precinct;const ge=ne.cbx-ue.cbxMin,pe=ne.cby-ue.cbyMin;let xe=!1,Ie=!1,Fe,Ae;if(ne.included!==void 0)xe=!!X(1);else{ue=ne.precinct;let Re;if(ue.inclusionTree!==void 0)Re=ue.inclusionTree;else{const Pe=ue.cbxMax-ue.cbxMin+1,ve=ue.cbyMax-ue.cbyMin+1;Re=new g(Pe,ve,oe),Ae=new h(Pe,ve),ue.inclusionTree=Re,ue.zeroBitPlanesTree=Ae;for(let Te=0;Te<oe;Te++)if(X(1)!==0)throw new e("Invalid tag tree")}if(Re.reset(ge,pe,oe))for(;;)if(X(1)){if(Fe=!Re.nextLevel(),Fe){ne.included=!0,xe=Ie=!0;break}}else{Re.incrementValue(oe);break}}if(!xe)continue;if(Ie){for(Ae=ue.zeroBitPlanesTree,Ae.reset(ge,pe);;)if(X(1)){if(Fe=!Ae.nextLevel(),Fe)break}else Ae.incrementValue();ne.zeroBitPlanes=Ae.value}const we=M();for(;X(1);)ne.Lblock++;const be=(0,l.log2)(we),Ee=(we<1<<be?be-1:be)+ne.Lblock,_e=X(Ee);he.push({codeblock:ne,codingpasses:we,dataLength:_e})}for(N(),Y&&R(146);he.length>0;){const re=he.shift();ne=re.codeblock,ne.data===void 0&&(ne.data=[]),ne.data.push({data:x,start:E+$,end:E+$+re.dataLength,codingpasses:re.codingpasses}),$+=re.dataLength}}return $}function P(v,x,E,U,$,Q,ie,j,X){const R=U.tbx0,Z=U.tby0,N=U.tbx1-U.tbx0,M=U.codeblocks,c=U.type.charAt(0)==="H"?1:0,_=U.type.charAt(1)==="H"?x:0;for(let W=0,Y=M.length;W<Y;++W){const J=M[W],ae=J.tbx1_-J.tbx0_,oe=J.tby1_-J.tby0_;if(ae===0||oe===0||J.data===void 0)continue;const he=new k(ae,oe,J.subbandType,J.zeroBitPlanes,Q);let ne=2;const re=J.data;let de=0,ue=0,ge,pe,xe;for(ge=0,pe=re.length;ge<pe;ge++)xe=re[ge],de+=xe.end-xe.start,ue+=xe.codingpasses;const Ie=new Uint8Array(de);let Fe=0;for(ge=0,pe=re.length;ge<pe;ge++){xe=re[ge];const Ce=xe.data.subarray(xe.start,xe.end);Ie.set(Ce,Fe),Fe+=Ce.length}const Ae=new K.ArithmeticDecoder(Ie,0,de);for(he.setDecoder(Ae),ge=0;ge<ue;ge++){switch(ne){case 0:he.runSignificancePropagationPass();break;case 1:he.runMagnitudeRefinementPass();break;case 2:he.runCleanupPass(),j&&he.checkSegmentationSymbol();break}X&&he.reset(),ne=(ne+1)%3}let we=J.tbx0_-R+(J.tby0_-Z)*N;const be=he.coefficentsSign,Ee=he.coefficentsMagnitude,_e=he.bitsDecoded,Re=ie?0:.5;let Pe,ve,Te;Fe=0;const je=U.type!=="LL";for(ge=0;ge<oe;ge++){const ke=2*(we/N|0)*(x-N)+c+_;for(Pe=0;Pe<ae;Pe++){if(ve=Ee[Fe],ve!==0){ve=(ve+Re)*$,be[Fe]!==0&&(ve=-ve),Te=_e[Fe];const Le=je?ke+(we<<1):we;ie&&Te>=Q?v[Le]=ve:v[Le]=ve*(1<<Q-Te)}we++,Fe++}we+=N-ae}}}function d(v,x,E){const U=x.components[E],$=U.codingStyleParameters,Q=U.quantizationParameters,ie=$.decompositionLevelsCount,j=Q.SPqcds,X=Q.scalarExpounded,R=Q.guardBits,Z=$.segmentationSymbolUsed,N=$.resetContextProbabilities,M=v.components[E].precision,c=$.reversibleTransformation,_=c?new V:new T,W=[];let Y=0;for(let ae=0;ae<=ie;ae++){const oe=U.resolutions[ae],he=oe.trx1-oe.trx0,ne=oe.try1-oe.try0,re=new Float32Array(he*ne);for(let de=0,ue=oe.subbands.length;de<ue;de++){let ge,pe;X?(ge=j[Y].mu,pe=j[Y].epsilon,Y++):(ge=j[0].mu,pe=j[0].epsilon+(ae>0?1-ae:0));const xe=oe.subbands[de],Ie=t[xe.type],Fe=c?1:2**(M+Ie-pe)*(1+ge/2048),Ae=R+pe-1;P(re,he,ne,xe,Fe,Ae,c,Z,N)}W.push({width:he,height:ne,items:re})}const J=_.calculate(W,U.tcx0,U.tcy0);return{left:U.tcx0,top:U.tcy0,width:J.width,height:J.height,items:J.items}}function A(v){const x=v.SIZ,E=v.components,U=x.Csiz,$=[];for(let Q=0,ie=v.tiles.length;Q<ie;Q++){const j=v.tiles[Q],X=[];for(let he=0;he<U;he++)X[he]=d(v,j,he);const R=X[0],Z=new Uint8ClampedArray(R.items.length*U),N={left:R.left,top:R.top,width:R.width,height:R.height,items:Z};let M,c,_=0,W,Y,J,ae,oe;if(j.codingStyleDefaultParameters.multipleComponentTransform){const he=U===4,ne=X[0].items,re=X[1].items,de=X[2].items,ue=he?X[3].items:null;M=E[0].precision-8,c=(128<<M)+.5;const ge=j.components[0],pe=U-3;if(Y=ne.length,ge.codingStyleParameters.reversibleTransformation)for(W=0;W<Y;W++,_+=pe){J=ne[W]+c,ae=re[W],oe=de[W];const xe=J-(oe+ae>>2);Z[_++]=xe+oe>>M,Z[_++]=xe>>M,Z[_++]=xe+ae>>M}else for(W=0;W<Y;W++,_+=pe)J=ne[W]+c,ae=re[W],oe=de[W],Z[_++]=J+1.402*oe>>M,Z[_++]=J-.34413*ae-.71414*oe>>M,Z[_++]=J+1.772*ae>>M;if(he)for(W=0,_=3;W<Y;W++,_+=4)Z[_]=ue[W]+c>>M}else for(let he=0;he<U;he++){const ne=X[he].items;for(M=E[he].precision-8,c=(128<<M)+.5,_=he,W=0,Y=ne.length;W<Y;W++)Z[_]=ne[W]+c>>M,_+=U}$.push(N)}return $}function L(v,x){const U=v.SIZ.Csiz,$=v.tiles[x];for(let Q=0;Q<U;Q++){const ie=$.components[Q],j=v.currentTile.QCC[Q]!==void 0?v.currentTile.QCC[Q]:v.currentTile.QCD;ie.quantizationParameters=j;const X=v.currentTile.COC[Q]!==void 0?v.currentTile.COC[Q]:v.currentTile.COD;ie.codingStyleParameters=X}$.codingStyleDefaultParameters=v.currentTile.COD}class h{constructor(x,E){const U=(0,l.log2)(Math.max(x,E))+1;this.levels=[];for(let $=0;$<U;$++){const Q={width:x,height:E,items:[]};this.levels.push(Q),x=Math.ceil(x/2),E=Math.ceil(E/2)}}reset(x,E){let U=0,$=0,Q;for(;U<this.levels.length;){Q=this.levels[U];const ie=x+E*Q.width;if(Q.items[ie]!==void 0){$=Q.items[ie];break}Q.index=ie,x>>=1,E>>=1,U++}U--,Q=this.levels[U],Q.items[Q.index]=$,this.currentLevel=U,delete this.value}incrementValue(){const x=this.levels[this.currentLevel];x.items[x.index]++}nextLevel(){let x=this.currentLevel,E=this.levels[x];const U=E.items[E.index];return x--,x<0?(this.value=U,!1):(this.currentLevel=x,E=this.levels[x],E.items[E.index]=U,!0)}}class g{constructor(x,E,U){const $=(0,l.log2)(Math.max(x,E))+1;this.levels=[];for(let Q=0;Q<$;Q++){const ie=new Uint8Array(x*E);for(let X=0,R=ie.length;X<R;X++)ie[X]=U;const j={width:x,height:E,items:ie};this.levels.push(j),x=Math.ceil(x/2),E=Math.ceil(E/2)}}reset(x,E,U){let $=0;for(;$<this.levels.length;){const Q=this.levels[$],ie=x+E*Q.width;Q.index=ie;const j=Q.items[ie];if(j===255)break;if(j>U)return this.currentLevel=$,this.propagateValues(),!1;x>>=1,E>>=1,$++}return this.currentLevel=$-1,!0}incrementValue(x){const E=this.levels[this.currentLevel];E.items[E.index]=x+1,this.propagateValues()}propagateValues(){let x=this.currentLevel,E=this.levels[x];const U=E.items[E.index];for(;--x>=0;)E=this.levels[x],E.items[E.index]=U}nextLevel(){let x=this.currentLevel,E=this.levels[x];const U=E.items[E.index];return E.items[E.index]=255,x--,x<0?!1:(this.currentLevel=x,E=this.levels[x],E.items[E.index]=U,!0)}}const q=class{constructor(x,E,U,$,Q){this.width=x,this.height=E;let ie;U==="HH"?ie=q.HHContextLabel:U==="HL"?ie=q.HLContextLabel:ie=q.LLAndLHContextsLabel,this.contextLabelTable=ie;const j=x*E;this.neighborsSignificance=new Uint8Array(j),this.coefficentsSign=new Uint8Array(j);let X;Q>14?X=new Uint32Array(j):Q>6?X=new Uint16Array(j):X=new Uint8Array(j),this.coefficentsMagnitude=X,this.processingFlags=new Uint8Array(j);const R=new Uint8Array(j);if($!==0)for(let Z=0;Z<j;Z++)R[Z]=$;this.bitsDecoded=R,this.reset()}setDecoder(x){this.decoder=x}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[q.UNIFORM_CONTEXT]=92,this.contexts[q.RUNLENGTH_CONTEXT]=6}setNeighborsSignificance(x,E,U){const $=this.neighborsSignificance,Q=this.width,ie=this.height,j=E>0,X=E+1<Q;let R;x>0&&(R=U-Q,j&&($[R-1]+=16),X&&($[R+1]+=16),$[R]+=4),x+1<ie&&(R=U+Q,j&&($[R-1]+=16),X&&($[R+1]+=16),$[R]+=4),j&&($[U-1]+=1),X&&($[U+1]+=1),$[U]|=128}runSignificancePropagationPass(){const x=this.decoder,E=this.width,U=this.height,$=this.coefficentsMagnitude,Q=this.coefficentsSign,ie=this.neighborsSignificance,j=this.processingFlags,X=this.contexts,R=this.contextLabelTable,Z=this.bitsDecoded,N=-2,M=1,c=2;for(let _=0;_<U;_+=4)for(let W=0;W<E;W++){let Y=_*E+W;for(let J=0;J<4;J++,Y+=E){const ae=_+J;if(ae>=U)break;if(j[Y]&=N,$[Y]||!ie[Y])continue;const oe=R[ie[Y]];if(x.readBit(X,oe)){const ne=this.decodeSignBit(ae,W,Y);Q[Y]=ne,$[Y]=1,this.setNeighborsSignificance(ae,W,Y),j[Y]|=c}Z[Y]++,j[Y]|=M}}}decodeSignBit(x,E,U){const $=this.width,Q=this.height,ie=this.coefficentsMagnitude,j=this.coefficentsSign;let X,R,Z,N,M,c;N=E>0&&ie[U-1]!==0,E+1<$&&ie[U+1]!==0?(Z=j[U+1],N?(R=j[U-1],X=1-Z-R):X=1-Z-Z):N?(R=j[U-1],X=1-R-R):X=0;const _=3*X;return N=x>0&&ie[U-$]!==0,x+1<Q&&ie[U+$]!==0?(Z=j[U+$],N?(R=j[U-$],X=1-Z-R+_):X=1-Z-Z+_):N?(R=j[U-$],X=1-R-R+_):X=_,X>=0?(M=9+X,c=this.decoder.readBit(this.contexts,M)):(M=9-X,c=this.decoder.readBit(this.contexts,M)^1),c}runMagnitudeRefinementPass(){const x=this.decoder,E=this.width,U=this.height,$=this.coefficentsMagnitude,Q=this.neighborsSignificance,ie=this.contexts,j=this.bitsDecoded,X=this.processingFlags,R=1,Z=2,N=E*U,M=E*4;for(let c=0,_;c<N;c=_){_=Math.min(N,c+M);for(let W=0;W<E;W++)for(let Y=c+W;Y<_;Y+=E){if(!$[Y]||X[Y]&R)continue;let J=16;X[Y]&Z&&(X[Y]^=Z,J=(Q[Y]&127)===0?15:14);const ae=x.readBit(ie,J);$[Y]=$[Y]<<1|ae,j[Y]++,X[Y]|=R}}}runCleanupPass(){const x=this.decoder,E=this.width,U=this.height,$=this.neighborsSignificance,Q=this.coefficentsMagnitude,ie=this.coefficentsSign,j=this.contexts,X=this.contextLabelTable,R=this.bitsDecoded,Z=this.processingFlags,N=1,M=2,c=E,_=E*2,W=E*3;let Y;for(let J=0;J<U;J=Y){Y=Math.min(J+4,U);const ae=J*E,oe=J+3<U;for(let he=0;he<E;he++){const ne=ae+he,re=oe&&Z[ne]===0&&Z[ne+c]===0&&Z[ne+_]===0&&Z[ne+W]===0&&$[ne]===0&&$[ne+c]===0&&$[ne+_]===0&&$[ne+W]===0;let de=0,ue=ne,ge=J,pe;if(re){if(!x.readBit(j,q.RUNLENGTH_CONTEXT)){R[ne]++,R[ne+c]++,R[ne+_]++,R[ne+W]++;continue}de=x.readBit(j,q.UNIFORM_CONTEXT)<<1|x.readBit(j,q.UNIFORM_CONTEXT),de!==0&&(ge=J+de,ue+=de*E),pe=this.decodeSignBit(ge,he,ue),ie[ue]=pe,Q[ue]=1,this.setNeighborsSignificance(ge,he,ue),Z[ue]|=M,ue=ne;for(let Ie=J;Ie<=ge;Ie++,ue+=E)R[ue]++;de++}for(ge=J+de;ge<Y;ge++,ue+=E){if(Q[ue]||Z[ue]&N)continue;const xe=X[$[ue]];x.readBit(j,xe)===1&&(pe=this.decodeSignBit(ge,he,ue),ie[ue]=pe,Q[ue]=1,this.setNeighborsSignificance(ge,he,ue),Z[ue]|=M),R[ue]++}}}}checkSegmentationSymbol(){const x=this.decoder,E=this.contexts;if((x.readBit(E,q.UNIFORM_CONTEXT)<<3|x.readBit(E,q.UNIFORM_CONTEXT)<<2|x.readBit(E,q.UNIFORM_CONTEXT)<<1|x.readBit(E,q.UNIFORM_CONTEXT))!==10)throw new e("Invalid segmentation symbol")}};let k=q;Rt(k,"UNIFORM_CONTEXT",17),Rt(k,"RUNLENGTH_CONTEXT",18),Rt(k,"LLAndLHContextsLabel",new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8])),Rt(k,"HLContextLabel",new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8])),Rt(k,"HHContextLabel",new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]));class D{constructor(){this.constructor===D&&(0,n.unreachable)("Cannot initialize Transform.")}calculate(x,E,U){let $=x[0];for(let Q=1,ie=x.length;Q<ie;Q++)$=this.iterate($,x[Q],E,U);return $}extend(x,E,U){let $=E-1,Q=E+1,ie=E+U-2,j=E+U;x[$--]=x[Q++],x[j++]=x[ie--],x[$--]=x[Q++],x[j++]=x[ie--],x[$--]=x[Q++],x[j++]=x[ie--],x[$]=x[Q],x[j]=x[ie]}filter(x,E,U){(0,n.unreachable)("Abstract method `filter` called")}iterate(x,E,U,$){const Q=x.width,ie=x.height;let j=x.items;const X=E.width,R=E.height,Z=E.items;let N,M,c,_,W,Y;for(c=0,N=0;N<ie;N++)for(_=N*2*X,M=0;M<Q;M++,c++,_+=2)Z[_]=j[c];j=x.items=null;const J=4,ae=new Float32Array(X+2*J);if(X===1){if(U&1)for(Y=0,c=0;Y<R;Y++,c+=X)Z[c]*=.5}else for(Y=0,c=0;Y<R;Y++,c+=X)ae.set(Z.subarray(c,c+X),J),this.extend(ae,J,X),this.filter(ae,J,X),Z.set(ae.subarray(J,J+X),c);let oe=16;const he=[];for(N=0;N<oe;N++)he.push(new Float32Array(R+2*J));let ne,re=0;if(x=J+R,R===1){if($&1)for(W=0;W<X;W++)Z[W]*=.5}else for(W=0;W<X;W++){if(re===0){for(oe=Math.min(X-W,oe),c=W,_=J;_<x;c+=X,_++)for(ne=0;ne<oe;ne++)he[ne][_]=Z[c+ne];re=oe}re--;const de=he[re];if(this.extend(de,J,R),this.filter(de,J,R),re===0)for(c=W-oe+1,_=J;_<x;c+=X,_++)for(ne=0;ne<oe;ne++)Z[c+ne]=he[ne][_]}return{width:X,height:R,items:Z}}}class T extends D{filter(x,E,U){const $=U>>1;E|=0;let Q,ie,j,X;const R=-1.586134342059924,Z=-.052980118572961,N=.882911075530934,M=.443506852043971,c=1.230174104914001,_=1/c;for(Q=E-3,ie=$+4;ie--;Q+=2)x[Q]*=_;for(Q=E-2,j=M*x[Q-1],ie=$+3;ie--&&(X=M*x[Q+1],x[Q]=c*x[Q]-j-X,ie--);Q+=2)Q+=2,j=M*x[Q+1],x[Q]=c*x[Q]-j-X;for(Q=E-1,j=N*x[Q-1],ie=$+2;ie--&&(X=N*x[Q+1],x[Q]-=j+X,ie--);Q+=2)Q+=2,j=N*x[Q+1],x[Q]-=j+X;for(Q=E,j=Z*x[Q-1],ie=$+1;ie--&&(X=Z*x[Q+1],x[Q]-=j+X,ie--);Q+=2)Q+=2,j=Z*x[Q+1],x[Q]-=j+X;if($!==0)for(Q=E+1,j=R*x[Q-1],ie=$;ie--&&(X=R*x[Q+1],x[Q]-=j+X,ie--);Q+=2)Q+=2,j=R*x[Q+1],x[Q]-=j+X}}class V extends D{filter(x,E,U){const $=U>>1;E|=0;let Q,ie;for(Q=E,ie=$+1;ie--;Q+=2)x[Q]-=x[Q-1]+x[Q+1]+2>>2;for(Q=E+1,ie=$;ie--;Q+=2)x[Q]+=x[Q-1]+x[Q+1]>>1}}},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.LZWStream=void 0;var n=ee(18);class l extends n.DecodeStream{constructor(e,t,H){super(t),this.str=e,this.dict=e.dict,this.cachedData=0,this.bitsCached=0;const z=4096,G={earlyChange:H,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(z),dictionaryLengths:new Uint16Array(z),dictionaryPrevCodes:new Uint16Array(z),currentSequence:new Uint8Array(z),currentSequenceLength:0};for(let I=0;I<256;++I)G.dictionaryValues[I]=I,G.dictionaryLengths[I]=1;this.lzwState=G}readBits(e){let t=this.bitsCached,H=this.cachedData;for(;t<e;){const z=this.str.getByte();if(z===-1)return this.eof=!0,null;H=H<<8|z,t+=8}return this.bitsCached=t-=e,this.cachedData=H,this.lastCode=null,H>>>t&(1<<e)-1}readBlock(){let H=1024,z,G,I;const C=this.lzwState;if(!C)return;const w=C.earlyChange;let i=C.nextCode;const F=C.dictionaryValues,B=C.dictionaryLengths,u=C.dictionaryPrevCodes;let s=C.codeLength,o=C.prevCode;const y=C.currentSequence;let r=C.currentSequenceLength,f=0,m=this.bufferLength,P=this.ensureBuffer(this.bufferLength+H);for(z=0;z<512;z++){const d=this.readBits(s),A=r>0;if(d<256)y[0]=d,r=1;else if(d>=258)if(d<i)for(r=B[d],G=r-1,I=d;G>=0;G--)y[G]=F[I],I=u[I];else y[r++]=y[0];else if(d===256){s=9,i=258,r=0;continue}else{this.eof=!0,delete this.lzwState;break}if(A&&(u[i]=o,B[i]=B[o]+1,F[i]=y[0],i++,s=i+w&i+w-1?s:Math.min(Math.log(i+w)/.6931471805599453+1,12)|0),o=d,f+=r,H<f){do H+=512;while(H<f);P=this.ensureBuffer(this.bufferLength+H)}for(G=0;G<r;G++)P[m++]=y[G]}C.nextCode=i,C.codeLength=s,C.prevCode=o,C.currentSequenceLength=r,this.bufferLength=m}}S.LZWStream=l},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.PredictorStream=void 0;var n=ee(18),l=ee(4),K=ee(2);class e extends n.DecodeStream{constructor(H,z,G){if(super(z),!(G instanceof l.Dict))return H;const I=this.predictor=G.get("Predictor")||1;if(I<=1)return H;if(I!==2&&(I<10||I>15))throw new K.FormatError(`Unsupported predictor: ${I}`);I===2?this.readBlock=this.readBlockTiff:this.readBlock=this.readBlockPng,this.str=H,this.dict=H.dict;const C=this.colors=G.get("Colors")||1,w=this.bits=G.get("BPC","BitsPerComponent")||8,i=this.columns=G.get("Columns")||1;return this.pixBytes=C*w+7>>3,this.rowBytes=i*C*w+7>>3,this}readBlockTiff(){const H=this.rowBytes,z=this.bufferLength,G=this.ensureBuffer(z+H),I=this.bits,C=this.colors,w=this.str.getBytes(H);if(this.eof=!w.length,this.eof)return;let i=0,F=0,B=0,u=0,s=z,o;if(I===1&&C===1)for(o=0;o<H;++o){let y=w[o]^i;y^=y>>1,y^=y>>2,y^=y>>4,i=(y&1)<<7,G[s++]=y}else if(I===8){for(o=0;o<C;++o)G[s++]=w[o];for(;o<H;++o)G[s]=G[s-C]+w[o],s++}else if(I===16){const y=C*2;for(o=0;o<y;++o)G[s++]=w[o];for(;o<H;o+=2){const r=((w[o]&255)<<8)+(w[o+1]&255)+((G[s-y]&255)<<8)+(G[s-y+1]&255);G[s++]=r>>8&255,G[s++]=r&255}}else{const y=new Uint8Array(C+1),r=(1<<I)-1;let f=0,m=z;const P=this.columns;for(o=0;o<P;++o)for(let d=0;d<C;++d)B<I&&(i=i<<8|w[f++]&255,B+=8),y[d]=y[d]+(i>>B-I)&r,B-=I,F=F<<I|y[d],u+=I,u>=8&&(G[m++]=F>>u-8&255,u-=8);u>0&&(G[m++]=(F<<8-u)+(i&(1<<8-u)-1))}this.bufferLength+=H}readBlockPng(){const H=this.rowBytes,z=this.pixBytes,G=this.str.getByte(),I=this.str.getBytes(H);if(this.eof=!I.length,this.eof)return;const C=this.bufferLength,w=this.ensureBuffer(C+H);let i=w.subarray(C-H,C);i.length===0&&(i=new Uint8Array(H));let F,B=C,u,s;switch(G){case 0:for(F=0;F<H;++F)w[B++]=I[F];break;case 1:for(F=0;F<z;++F)w[B++]=I[F];for(;F<H;++F)w[B]=w[B-z]+I[F]&255,B++;break;case 2:for(F=0;F<H;++F)w[B++]=i[F]+I[F]&255;break;case 3:for(F=0;F<z;++F)w[B++]=(i[F]>>1)+I[F];for(;F<H;++F)w[B]=(i[F]+w[B-z]>>1)+I[F]&255,B++;break;case 4:for(F=0;F<z;++F)u=i[F],s=I[F],w[B++]=u+s;for(;F<H;++F){u=i[F];const o=i[F-z],y=w[B-z],r=y+u-o;let f=r-y;f<0&&(f=-f);let m=r-u;m<0&&(m=-m);let P=r-o;P<0&&(P=-P),s=I[F],f<=m&&f<=P?w[B++]=y+s:m<=P?w[B++]=u+s:w[B++]=o+s}break;default:throw new K.FormatError(`Unsupported predictor: ${G}`)}this.bufferLength+=H}}S.PredictorStream=e},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.RunLengthStream=void 0;var n=ee(18);class l extends n.DecodeStream{constructor(e,t){super(t),this.str=e,this.dict=e.dict}readBlock(){const e=this.str.getBytes(2);if(!e||e.length<2||e[0]===128){this.eof=!0;return}let t,H=this.bufferLength,z=e[0];if(z<128){if(t=this.ensureBuffer(H+z+1),t[H++]=e[1],z>0){const G=this.str.getBytes(z);t.set(G,H),H+=z}}else{z=257-z;const G=e[1];t=this.ensureBuffer(H+z+1);for(let I=0;I<z;I++)t[H++]=G}this.bufferLength=H}}S.RunLengthStream=l},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.Font=S.ErrorFont=void 0;var n=ee(2),l=ee(35),K=ee(38),e=ee(40),t=ee(39),H=ee(37),z=ee(41),G=ee(42),I=ee(43),C=ee(44),w=ee(45),i=ee(46),F=ee(14),B=ee(47),u=ee(3),s=ee(8),o=ee(48);const y=[[57344,63743],[1048576,1114109]],r=1e3,f=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","isInvalidPDFjsFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","systemFontInfo","type","vertical"],m=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function P(ne){if(!ne.fontMatrix||ne.fontMatrix[0]===n.FONT_IDENTITY_MATRIX[0])return;const re=.001/ne.fontMatrix[0],de=ne.widths;for(const ue in de)de[ue]*=re;ne.defaultWidth*=re}function d(ne,re,de){if(ne.isInternalFont||ne.hasIncludedToUnicodeMap||ne.hasEncoding||ne.toUnicode instanceof G.IdentityToUnicodeMap||!re||de.length===0||ne.defaultEncoding===H.WinAnsiEncoding)return;for(const xe of de)if(!R(xe))return;const ue=H.WinAnsiEncoding,ge=[],pe=(0,t.getGlyphsUnicode)();for(const xe in ue){const Ie=ue[xe];if(Ie==="")continue;const Fe=pe[Ie];Fe!==void 0&&(ge[xe]=String.fromCharCode(Fe))}ge.length>0&&ne.toUnicode.amend(ge)}function A(ne,re){if(ne.isInternalFont||ne.hasIncludedToUnicodeMap||re===ne.defaultEncoding||ne.toUnicode instanceof G.IdentityToUnicodeMap)return;const de=[],ue=(0,t.getGlyphsUnicode)();for(const ge in re){if(ne.hasEncoding&&(ne.baseEncodingName||ne.differences[ge]!==void 0))continue;const pe=re[ge],xe=(0,e.getUnicodeForGlyph)(pe,ue);xe!==-1&&(de[ge]=String.fromCharCode(xe))}de.length>0&&ne.toUnicode.amend(de)}function L(ne){if(!ne.fallbackToUnicode||ne.toUnicode instanceof G.IdentityToUnicodeMap)return;const re=[];for(const de in ne.fallbackToUnicode)ne.toUnicode.has(de)||(re[de]=ne.fallbackToUnicode[de]);re.length>0&&ne.toUnicode.amend(re)}class h{constructor(re,de,ue,ge,pe,xe,Ie,Fe,Ae){this.originalCharCode=re,this.fontChar=de,this.unicode=ue,this.accent=ge,this.width=pe,this.vmetric=xe,this.operatorListId=Ie,this.isSpace=Fe,this.isInFont=Ae}get category(){return(0,n.shadow)(this,"category",(0,e.getCharUnicodeCategory)(this.unicode),!0)}}function g(ne,re){return(ne<<8)+re}function k(ne,re,de){ne[re+1]=de,ne[re]=de>>>8}function D(ne,re){const de=(ne<<8)+re;return de&32768?de-65536:de}function T(ne,re,de,ue){return(ne<<24)+(re<<16)+(de<<8)+ue}function V(ne){return String.fromCharCode(ne>>8&255,ne&255)}function q(ne){return ne>32767?ne=32767:ne<-32768&&(ne=-32768),String.fromCharCode(ne>>8&255,ne&255)}function v(ne){const re=ne.peekBytes(4);return(0,u.readUint32)(re,0)===65536||(0,n.bytesToString)(re)==="true"}function x(ne){const re=ne.peekBytes(4);return(0,n.bytesToString)(re)==="ttcf"}function E(ne){const re=ne.peekBytes(4);return(0,n.bytesToString)(re)==="OTTO"}function U(ne){const re=ne.peekBytes(2);return re[0]===37&&re[1]===33||re[0]===128&&re[1]===1}function $(ne){const re=ne.peekBytes(4);return re[0]>=1&&re[3]>=1&&re[3]<=4}function Q(ne,{type:re,subtype:de,composite:ue}){let ge,pe;return v(ne)||x(ne)?ue?ge="CIDFontType2":ge="TrueType":E(ne)?ue?ge="CIDFontType2":ge="OpenType":U(ne)?ue?ge="CIDFontType0":ge=re==="MMType1"?"MMType1":"Type1":$(ne)?ue?(ge="CIDFontType0",pe="CIDFontType0C"):(ge=re==="MMType1"?"MMType1":"Type1",pe="Type1C"):((0,n.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),ge=re,pe=de),[ge,pe]}function ie(ne,re){for(const de in re)ne[+de]=re[de]}function j(ne,re,de){const ue=[];let ge;for(let pe=0,xe=ne.length;pe<xe;pe++)ge=(0,e.getUnicodeForGlyph)(ne[pe],re),ge!==-1&&(ue[pe]=ge);for(const pe in de)ge=(0,e.getUnicodeForGlyph)(de[pe],re),ge!==-1&&(ue[+pe]=ge);return ue}function X(ne){return ne.platform===1&&ne.encoding===0&&ne.language===0}function R(ne){return ne.platform===3&&ne.encoding===1&&ne.language===1033}function Z(ne,re,de=!1){switch(re.length){case 1:return re.charCodeAt(0);case 2:return re.charCodeAt(0)<<8|re.charCodeAt(1)}const ue=`Unsupported CID string (charCode ${ne}): "${re}".`;if(de)throw new n.FormatError(ue);return(0,n.warn)(ue),re}function N(ne,re,de,ue){const ge=Object.create(null),pe=new Map,xe=[],Ie=new Set;let Fe=0,we=y[Fe][0],be=y[Fe][1];const Ee=_e=>y[0][0]<=_e&&_e<=y[0][1]||y[1][0]<=_e&&_e<=y[1][1];for(let _e in ne){_e|=0;let Re=ne[_e];if(!re(Re))continue;if(we>be){if(Fe++,Fe>=y.length){(0,n.warn)("Ran out of space in font private use area.");break}we=y[Fe][0],be=y[Fe][1]}const Pe=we++;Re===0&&(Re=de);let ve=ue.get(_e);typeof ve=="string"&&(ve=ve.codePointAt(0)),ve&&!Ee(ve)&&!Ie.has(Re)&&(pe.set(ve,Re),Ie.add(Re)),ge[Pe]=Re,xe[_e]=Pe}return{toFontChar:xe,charCodeToGlyphId:ge,toUnicodeExtraMap:pe,nextAvailableFontCharCode:we}}function M(ne,re,de){const ue=[];for(const xe in ne)ne[xe]>=de||ue.push({fontCharCode:xe|0,glyphId:ne[xe]});if(re)for(const[xe,Ie]of re)Ie>=de||ue.push({fontCharCode:xe,glyphId:Ie});ue.length===0&&ue.push({fontCharCode:0,glyphId:0}),ue.sort(function(Ie,Fe){return Ie.fontCharCode-Fe.fontCharCode});const ge=[],pe=ue.length;for(let xe=0;xe<pe;){const Ie=ue[xe].fontCharCode,Fe=[ue[xe].glyphId];++xe;let Ae=Ie;for(;xe<pe&&Ae+1===ue[xe].fontCharCode&&(Fe.push(ue[xe].glyphId),++Ae,++xe,Ae!==65535););ge.push([Ie,Ae,Fe])}return ge}function c(ne,re,de){const ue=M(ne,re,de),ge=ue.at(-1)[1]>65535?2:1;let pe="\0\0"+V(ge)+"\0\0"+(0,n.string32)(4+ge*8),xe,Ie,Fe,Ae;for(xe=ue.length-1;xe>=0&&!(ue[xe][0]<=65535);--xe);const we=xe+1;ue[xe][0]<65535&&ue[xe][1]===65535&&(ue[xe][1]=65534);const be=ue[xe][1]<65535?1:0,Ee=we+be,_e=B.OpenTypeFileBuilder.getSearchParams(Ee,2);let Re="",Pe="",ve="",Te="",je="",Ce=0,ke,Le,Ge,Oe;for(xe=0,Ie=we;xe<Ie;xe++){ke=ue[xe],Le=ke[0],Ge=ke[1],Re+=V(Le),Pe+=V(Ge),Oe=ke[2];let Xe=!0;for(Fe=1,Ae=Oe.length;Fe<Ae;++Fe)if(Oe[Fe]!==Oe[Fe-1]+1){Xe=!1;break}if(Xe){const Qe=Oe[0];ve+=V(Qe-Le&65535),Te+=V(0)}else{const Qe=(Ee-xe)*2+Ce*2;for(Ce+=Ge-Le+1,ve+=V(0),Te+=V(Qe),Fe=0,Ae=Oe.length;Fe<Ae;++Fe)je+=V(Oe[Fe])}}be>0&&(Pe+="ÿÿ",Re+="ÿÿ",ve+="\0",Te+="\0\0");const tt="\0\0"+V(2*Ee)+V(_e.range)+V(_e.entry)+V(_e.rangeShift)+Pe+"\0\0"+Re+ve+Te+je;let Ye="",et="";if(ge>1){for(pe+=`\0\0
`+(0,n.string32)(4+ge*8+4+tt.length),Ye="",xe=0,Ie=ue.length;xe<Ie;xe++){ke=ue[xe],Le=ke[0],Oe=ke[2];let Xe=Oe[0];for(Fe=1,Ae=Oe.length;Fe<Ae;++Fe)Oe[Fe]!==Oe[Fe-1]+1&&(Ge=ke[0]+Fe-1,Ye+=(0,n.string32)(Le)+(0,n.string32)(Ge)+(0,n.string32)(Xe),Le=Ge+1,Xe=Oe[Fe]);Ye+=(0,n.string32)(Le)+(0,n.string32)(ke[1])+(0,n.string32)(Xe)}et="\0\f\0\0"+(0,n.string32)(Ye.length+16)+"\0\0\0\0"+(0,n.string32)(Ye.length/12)}return pe+"\0"+V(tt.length+4)+tt+et+Ye}function _(ne,re){re.pos=(re.start||0)+ne.offset;const de=re.getUint16();re.skip(60);const ue=re.getUint16();if(de<4&&ue&768)return!1;const ge=re.getUint16(),pe=re.getUint16();return ge>pe||(re.skip(6),re.getUint16()===0)?!1:(ne.data[8]=ne.data[9]=0,!0)}function W(ne,re,de){de||(de={unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0});let ue=0,ge=0,pe=0,xe=0,Ie=null,Fe=0,Ae=-1;if(re){for(let Te in re)if(Te|=0,(Ie>Te||!Ie)&&(Ie=Te),Fe<Te&&(Fe=Te),Ae=(0,e.getUnicodeRangeFor)(Te,Ae),Ae<32)ue|=1<<Ae;else if(Ae<64)ge|=1<<Ae-32;else if(Ae<96)pe|=1<<Ae-64;else if(Ae<123)xe|=1<<Ae-96;else throw new n.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");Fe>65535&&(Fe=65535)}else Ie=0,Fe=255;const we=ne.bbox||[0,0,0,0],be=de.unitsPerEm||1/(ne.fontMatrix||n.FONT_IDENTITY_MATRIX)[0],Ee=ne.ascentScaled?1:be/r,_e=de.ascent||Math.round(Ee*(ne.ascent||we[3]));let Re=de.descent||Math.round(Ee*(ne.descent||we[1]));Re>0&&ne.descent>0&&we[1]<0&&(Re=-Re);const Pe=de.yMax||_e,ve=-de.yMin||-Re;return"\0$ô\0\0\0»\0\0\0»\0\0ß\x001\0\0\0\0"+String.fromCharCode(ne.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,n.string32)(ue)+(0,n.string32)(ge)+(0,n.string32)(pe)+(0,n.string32)(xe)+"*21*"+V(ne.italicAngle?1:0)+V(Ie||ne.firstChar)+V(Fe||ne.lastChar)+V(_e)+V(Re)+"\0d"+V(Pe)+V(ve)+"\0\0\0\0\0\0\0\0"+V(ne.xHeight)+V(ne.capHeight)+V(0)+V(Ie||ne.firstChar)+"\0"}function Y(ne){const re=Math.floor(ne.italicAngle*65536);return"\0\0\0"+(0,n.string32)(re)+"\0\0\0\0"+(0,n.string32)(ne.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function J(ne){return ne.replaceAll(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function ae(ne,re){re||(re=[[],[]]);const de=[re[0][0]||"Original licence",re[0][1]||ne,re[0][2]||"Unknown",re[0][3]||"uniqueID",re[0][4]||ne,re[0][5]||"Version 0.11",re[0][6]||J(ne),re[0][7]||"Unknown",re[0][8]||"Unknown",re[0][9]||"Unknown"],ue=[];let ge,pe,xe,Ie,Fe;for(ge=0,pe=de.length;ge<pe;ge++){Fe=re[1][ge]||de[ge];const ve=[];for(xe=0,Ie=Fe.length;xe<Ie;xe++)ve.push(V(Fe.charCodeAt(xe)));ue.push(ve.join(""))}const Ae=[de,ue],we=["\0","\0"],be=["\0\0","\0"],Ee=["\0\0","	"],_e=de.length*we.length;let Re="\0\0"+V(_e)+V(_e*12+6),Pe=0;for(ge=0,pe=we.length;ge<pe;ge++){const ve=Ae[ge];for(xe=0,Ie=ve.length;xe<Ie;xe++){Fe=ve[xe];const Te=we[ge]+be[ge]+Ee[ge]+V(xe)+V(Fe.length)+V(Pe);Re+=Te,Pe+=Fe.length}}return Re+=de.join("")+ue.join(""),Re}class oe{constructor(re,de,ue){var Ae;this.name=re,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=ue.loadedName,this.isType3Font=ue.isType3Font,this.missingFile=!1,this.cssFontInfo=ue.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let ge=!!(ue.flags&K.FontFlags.Serif);if(!ge&&!ue.isSimulatedFlags){const we=re.replaceAll(/[,_]/g,"-").split("-")[0],be=(0,z.getSerifFonts)();for(const Ee of we.split("+"))if(be[Ee]){ge=!0;break}}this.isSerifFont=ge,this.isSymbolicFont=!!(ue.flags&K.FontFlags.Symbolic),this.isMonospace=!!(ue.flags&K.FontFlags.FixedPitch);let{type:pe,subtype:xe}=ue;this.type=pe,this.subtype=xe,this.systemFontInfo=ue.systemFontInfo;const Ie=re.match(/^InvalidPDFjsFont_(.*)_\d+$/);if(this.isInvalidPDFjsFont=!!Ie,this.isInvalidPDFjsFont?this.fallbackName=Ie[1]:this.isMonospace?this.fallbackName="monospace":this.isSerifFont?this.fallbackName="serif":this.fallbackName="sans-serif",(Ae=this.systemFontInfo)!=null&&Ae.guessFallback&&(this.systemFontInfo.guessFallback=!1,this.systemFontInfo.css+=`,${this.fallbackName}`),this.differences=ue.differences,this.widths=ue.widths,this.defaultWidth=ue.defaultWidth,this.composite=ue.composite,this.cMap=ue.cMap,this.capHeight=ue.capHeight/r,this.ascent=ue.ascent/r,this.descent=ue.descent/r,this.lineHeight=this.ascent-this.descent,this.fontMatrix=ue.fontMatrix,this.bbox=ue.bbox,this.defaultEncoding=ue.defaultEncoding,this.toUnicode=ue.toUnicode,this.toFontChar=[],ue.type==="Type3"){for(let we=0;we<256;we++)this.toFontChar[we]=this.differences[we]||ue.defaultEncoding[we];return}if(this.cidEncoding=ue.cidEncoding||"",this.vertical=!!ue.vertical,this.vertical&&(this.vmetrics=ue.vmetrics,this.defaultVMetrics=ue.defaultVMetrics),!de||de.isEmpty){de&&(0,n.warn)('Font file is empty in "'+re+'" ('+this.loadedName+")"),this.fallbackToSystemFont(ue);return}[pe,xe]=Q(de,ue),(pe!==this.type||xe!==this.subtype)&&(0,n.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${pe}/${xe}.`);let Fe;try{switch(pe){case"MMType1":(0,n.info)("MMType1 font ("+re+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const we=xe==="Type1C"||xe==="CIDFontType0C"?new I.CFFFont(de,ue):new o.Type1Font(re,de,ue);P(ue),Fe=this.convert(re,we,ue);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",Fe=this.checkAndRepair(re,de,ue),this.isOpenType&&(P(ue),pe="OpenType");break;default:throw new n.FormatError(`Font ${pe} is not supported`)}}catch(we){(0,n.warn)(we),this.fallbackToSystemFont(ue);return}L(ue),this.data=Fe,this.type=pe,this.subtype=xe,this.fontMatrix=ue.fontMatrix,this.widths=ue.widths,this.defaultWidth=ue.defaultWidth,this.toUnicode=ue.toUnicode,this.seacMap=ue.seacMap}get renderer(){const re=C.FontRendererFactory.create(this,K.SEAC_ANALYSIS_ENABLED);return(0,n.shadow)(this,"renderer",re)}exportData(re=!1){const de=re?[...f,...m]:f,ue=Object.create(null);let ge,pe;for(ge of de)pe=this[ge],pe!==void 0&&(ue[ge]=pe);return ue}fallbackToSystemFont(re){this.missingFile=!0;const{name:de,type:ue}=this;let ge=(0,K.normalizeFontName)(de);const pe=(0,z.getStdFontMap)(),xe=(0,z.getNonStdFontMap)(),Ie=!!pe[ge],Fe=!!(xe[ge]&&pe[xe[ge]]);ge=pe[ge]||xe[ge]||ge;const we=(0,w.getFontBasicMetrics)()[ge];we&&(isNaN(this.ascent)&&(this.ascent=we.ascent/r),isNaN(this.descent)&&(this.descent=we.descent/r),isNaN(this.capHeight)&&(this.capHeight=we.capHeight/r)),this.bold=/bold/gi.test(ge),this.italic=/oblique|italic/gi.test(ge),this.black=/Black/g.test(de);const be=/Narrow/g.test(de);if(this.remeasure=(!Ie||be)&&Object.keys(this.widths).length>0,(Ie||Fe)&&ue==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const Ee=re.cidToGidMap,_e=[];if(ie(_e,(0,z.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(de)?ie(_e,(0,z.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(de)&&ie(_e,(0,z.getSupplementalGlyphMapForCalibri)()),Ee){for(const Re in _e){const Pe=_e[Re];Ee[Pe]!==void 0&&(_e[+Re]=Ee[Pe])}Ee.length!==this.toUnicode.length&&re.hasIncludedToUnicodeMap&&this.toUnicode instanceof G.IdentityToUnicodeMap&&this.toUnicode.forEach(function(Re,Pe){const ve=_e[Re];Ee[ve]===void 0&&(_e[+Re]=Pe)})}this.toUnicode instanceof G.IdentityToUnicodeMap||this.toUnicode.forEach(function(Re,Pe){_e[+Re]=Pe}),this.toFontChar=_e,this.toUnicode=new G.ToUnicodeMap(_e)}else if(/Symbol/i.test(ge))this.toFontChar=j(H.SymbolSetEncoding,(0,t.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(ge))this.toFontChar=j(H.ZapfDingbatsEncoding,(0,t.getDingbatsGlyphsUnicode)(),this.differences);else if(Ie){const Ee=j(this.defaultEncoding,(0,t.getGlyphsUnicode)(),this.differences);ue==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof G.IdentityToUnicodeMap)&&this.toUnicode.forEach(function(_e,Re){Ee[+_e]=Re}),this.toFontChar=Ee}else{const Ee=(0,t.getGlyphsUnicode)(),_e=[];this.toUnicode.forEach((Re,Pe)=>{if(!this.composite){const ve=this.differences[Re]||this.defaultEncoding[Re],Te=(0,e.getUnicodeForGlyph)(ve,Ee);Te!==-1&&(Pe=Te)}_e[+Re]=Pe}),this.composite&&this.toUnicode instanceof G.IdentityToUnicodeMap&&/Tahoma|Verdana/i.test(de)&&ie(_e,(0,z.getGlyphMapForStandardFonts)()),this.toFontChar=_e}L(re),this.loadedName=ge.split("-")[0]}checkAndRepair(re,de,ue){var Et,St,Lt;const ge=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function pe(We,Ue){const Je=Object.create(null);Je["OS/2"]=null,Je.cmap=null,Je.head=null,Je.hhea=null,Je.hmtx=null,Je.maxp=null,Je.name=null,Je.post=null;for(let Ve=0;Ve<Ue;Ve++){const at=xe(We);ge.includes(at.tag)&&at.length!==0&&(Je[at.tag]=at)}return Je}function xe(We){const Ue=We.getString(4),Je=We.getInt32()>>>0,Ve=We.getInt32()>>>0,at=We.getInt32()>>>0,ft=We.pos;We.pos=We.start||0,We.skip(Ve);const ct=We.getBytes(at);return We.pos=ft,Ue==="head"&&(ct[8]=ct[9]=ct[10]=ct[11]=0,ct[17]|=32),{tag:Ue,checksum:Je,length:at,offset:Ve,data:ct}}function Ie(We){return{version:We.getString(4),numTables:We.getUint16(),searchRange:We.getUint16(),entrySelector:We.getUint16(),rangeShift:We.getUint16()}}function Fe(We){const Ue=We.getString(4);(0,n.assert)(Ue==="ttcf","Must be a TrueType Collection font.");const Je=We.getUint16(),Ve=We.getUint16(),at=We.getInt32()>>>0,ft=[];for(let Se=0;Se<at;Se++)ft.push(We.getInt32()>>>0);const ct={ttcTag:Ue,majorVersion:Je,minorVersion:Ve,numFonts:at,offsetTable:ft};switch(Je){case 1:return ct;case 2:return ct.dsigTag=We.getInt32()>>>0,ct.dsigLength=We.getInt32()>>>0,ct.dsigOffset=We.getInt32()>>>0,ct}throw new n.FormatError(`Invalid TrueType Collection majorVersion: ${Je}.`)}function Ae(We,Ue){var ct;const{numFonts:Je,offsetTable:Ve}=Fe(We),at=Ue.split("+");let ft;for(let Se=0;Se<Je;Se++){We.pos=(We.start||0)+Ve[Se];const De=Ie(We),$e=pe(We,De.numTables);if(!$e.name)throw new n.FormatError('TrueType Collection font must contain a "name" table.');const[Ze]=ve($e.name);for(let nt=0,pt=Ze.length;nt<pt;nt++)for(let yt=0,lt=Ze[nt].length;yt<lt;yt++){const At=(ct=Ze[nt][yt])==null?void 0:ct.replaceAll(/\s/g,"");if(At){if(At===Ue)return{header:De,tables:$e};if(!(at.length<2))for(const ht of at)At===ht&&(ft={name:ht,header:De,tables:$e})}}}if(ft)return(0,n.warn)(`TrueType Collection does not contain "${Ue}" font, falling back to "${ft.name}" font instead.`),{header:ft.header,tables:ft.tables};throw new n.FormatError(`TrueType Collection does not contain "${Ue}" font.`)}function we(We,Ue,Je,Ve){if(!We)return(0,n.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let at,ft=(Ue.start||0)+We.offset;Ue.pos=ft,Ue.skip(2);const ct=Ue.getUint16();let Se,De=!1;for(let lt=0;lt<ct;lt++){const At=Ue.getUint16(),ht=Ue.getUint16(),Ft=Ue.getInt32()>>>0;let It=!1;if(!((Se==null?void 0:Se.platformId)===At&&(Se==null?void 0:Se.encodingId)===ht)){if(At===0&&(ht===0||ht===1||ht===3))It=!0;else if(At===1&&ht===0)It=!0;else if(At===3&&ht===1&&(Ve||!Se))It=!0,Je||(De=!0);else if(Je&&At===3&&ht===0){It=!0;let Gt=!0;if(lt<ct-1){const vt=Ue.peekBytes(2);g(vt[0],vt[1])<At&&(Gt=!1)}Gt&&(De=!0)}if(It&&(Se={platformId:At,encodingId:ht,offset:Ft}),De)break}}if(Se&&(Ue.pos=ft+Se.offset),!Se||Ue.peekByte()===-1)return(0,n.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const $e=Ue.getUint16();let Ze=!1;const nt=[];let pt,yt;if($e===0){for(Ue.skip(4),pt=0;pt<256;pt++){const lt=Ue.getByte();lt&&nt.push({charCode:pt,glyphId:lt})}Ze=!0}else if($e===2){Ue.skip(4);const lt=[];let At=0;for(let Ft=0;Ft<256;Ft++){const It=Ue.getUint16()>>3;lt.push(It),At=Math.max(It,At)}const ht=[];for(let Ft=0;Ft<=At;Ft++)ht.push({firstCode:Ue.getUint16(),entryCount:Ue.getUint16(),idDelta:D(Ue.getByte(),Ue.getByte()),idRangePos:Ue.pos+Ue.getUint16()});for(let Ft=0;Ft<256;Ft++)if(lt[Ft]===0)Ue.pos=ht[0].idRangePos+2*Ft,yt=Ue.getUint16(),nt.push({charCode:Ft,glyphId:yt});else{const It=ht[lt[Ft]];for(pt=0;pt<It.entryCount;pt++){const Gt=(Ft<<8)+pt+It.firstCode;Ue.pos=It.idRangePos+2*pt,yt=Ue.getUint16(),yt!==0&&(yt=(yt+It.idDelta)%65536),nt.push({charCode:Gt,glyphId:yt})}}}else if($e===4){Ue.skip(4);const lt=Ue.getUint16()>>1;Ue.skip(6);const At=[];let ht;for(ht=0;ht<lt;ht++)At.push({end:Ue.getUint16()});for(Ue.skip(2),ht=0;ht<lt;ht++)At[ht].start=Ue.getUint16();for(ht=0;ht<lt;ht++)At[ht].delta=Ue.getUint16();let Ft=0,It;for(ht=0;ht<lt;ht++){at=At[ht];const vt=Ue.getUint16();if(!vt){at.offsetIndex=-1;continue}It=(vt>>1)-(lt-ht),at.offsetIndex=It,Ft=Math.max(Ft,It+at.end-at.start+1)}const Gt=[];for(pt=0;pt<Ft;pt++)Gt.push(Ue.getUint16());for(ht=0;ht<lt;ht++){at=At[ht],ft=at.start;const vt=at.end,kt=at.delta;for(It=at.offsetIndex,pt=ft;pt<=vt;pt++)pt!==65535&&(yt=It<0?pt:Gt[It+pt-ft],yt=yt+kt&65535,nt.push({charCode:pt,glyphId:yt}))}}else if($e===6){Ue.skip(4);const lt=Ue.getUint16(),At=Ue.getUint16();for(pt=0;pt<At;pt++){yt=Ue.getUint16();const ht=lt+pt;nt.push({charCode:ht,glyphId:yt})}}else if($e===12){Ue.skip(10);const lt=Ue.getInt32()>>>0;for(pt=0;pt<lt;pt++){const At=Ue.getInt32()>>>0,ht=Ue.getInt32()>>>0;let Ft=Ue.getInt32()>>>0;for(let It=At;It<=ht;It++)nt.push({charCode:It,glyphId:Ft++})}}else return(0,n.warn)("cmap table has unsupported format: "+$e),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};nt.sort(function(lt,At){return lt.charCode-At.charCode});for(let lt=1;lt<nt.length;lt++)nt[lt-1].charCode===nt[lt].charCode&&(nt.splice(lt,1),lt--);return{platformId:Se.platformId,encodingId:Se.encodingId,mappings:nt,hasShortCmap:Ze}}function be(We,Ue,Je,Ve,at,ft){if(!Ue){Je&&(Je.data=null);return}We.pos=(We.start||0)+Ue.offset,We.pos+=4,We.pos+=2,We.pos+=2,We.pos+=2,We.pos+=2,We.pos+=2,We.pos+=2,We.pos+=2,We.pos+=2,We.pos+=2;const ct=We.getUint16();We.pos+=8,We.pos+=2;let Se=We.getUint16();ct!==0&&(g(Ve.data[44],Ve.data[45])&2||(Ue.data[22]=0,Ue.data[23]=0)),Se>at&&((0,n.info)(`The numOfMetrics (${Se}) should not be greater than the numGlyphs (${at}).`),Se=at,Ue.data[34]=(Se&65280)>>8,Ue.data[35]=Se&255);const $e=at-Se-(Je.length-Se*4>>1);if($e>0){const Ze=new Uint8Array(Je.length+$e*2);Ze.set(Je.data),ft&&(Ze[Je.length]=Je.data[2],Ze[Je.length+1]=Je.data[3]),Je.data=Ze}}function Ee(We,Ue,Je,Ve,at,ft){const ct={length:0,sizeOfInstructions:0};if(Ue<0||Ue>=We.length||Je>We.length||Je-Ue<=12)return ct;const Se=We.subarray(Ue,Je),De=D(Se[2],Se[3]),$e=D(Se[4],Se[5]),Ze=D(Se[6],Se[7]),nt=D(Se[8],Se[9]);De>Ze&&(k(Se,2,Ze),k(Se,6,De)),$e>nt&&(k(Se,4,nt),k(Se,8,$e));const pt=D(Se[0],Se[1]);if(pt<0)return pt<-1||(Ve.set(Se,at),ct.length=Se.length),ct;let yt,lt=10,At=0;for(yt=0;yt<pt;yt++)At=(Se[lt]<<8|Se[lt+1])+1,lt+=2;const ht=lt,Ft=Se[lt]<<8|Se[lt+1];ct.sizeOfInstructions=Ft,lt+=2+Ft;const It=lt;let Gt=0;for(yt=0;yt<At;yt++){const kt=Se[lt++];kt&192&&(Se[lt-1]=kt&63);let Bt=2;kt&2?Bt=1:kt&16&&(Bt=0);let Ut=2;kt&4?Ut=1:kt&32&&(Ut=0);const Kt=Bt+Ut;if(Gt+=Kt,kt&8){const rn=Se[lt++];rn===0&&(Se[lt-1]^=8),yt+=rn,Gt+=rn*Kt}}if(Gt===0)return ct;let vt=lt+Gt;return vt>Se.length?ct:!ft&&Ft>0?(Ve.set(Se.subarray(0,ht),at),Ve.set([0,0],at+ht),Ve.set(Se.subarray(It,vt),at+ht+2),vt-=Ft,Se.length-vt>3&&(vt=vt+3&-4),ct.length=vt,ct):Se.length-vt>3?(vt=vt+3&-4,Ve.set(Se.subarray(0,vt),at),ct.length=vt,ct):(Ve.set(Se,at),ct.length=Se.length,ct)}function _e(We,Ue,Je){const Ve=We.data,at=T(Ve[0],Ve[1],Ve[2],Ve[3]);at>>16!==1&&((0,n.info)("Attempting to fix invalid version in head table: "+at),Ve[0]=0,Ve[1]=1,Ve[2]=0,Ve[3]=0);const ft=g(Ve[50],Ve[51]);if(ft<0||ft>1){(0,n.info)("Attempting to fix invalid indexToLocFormat in head table: "+ft);const ct=Ue+1;if(Je===ct<<1)Ve[50]=0,Ve[51]=0;else if(Je===ct<<2)Ve[50]=0,Ve[51]=1;else throw new n.FormatError("Could not fix indexToLocFormat: "+ft)}}function Re(We,Ue,Je,Ve,at,ft,ct){let Se,De,$e;Ve?(Se=4,De=function(Bt,Ut){return Bt[Ut]<<24|Bt[Ut+1]<<16|Bt[Ut+2]<<8|Bt[Ut+3]},$e=function(Bt,Ut,Kt){Bt[Ut]=Kt>>>24&255,Bt[Ut+1]=Kt>>16&255,Bt[Ut+2]=Kt>>8&255,Bt[Ut+3]=Kt&255}):(Se=2,De=function(Bt,Ut){return Bt[Ut]<<9|Bt[Ut+1]<<1},$e=function(Bt,Ut,Kt){Bt[Ut]=Kt>>9&255,Bt[Ut+1]=Kt>>1&255});const Ze=ft?Je+1:Je,nt=Se*(1+Ze),pt=new Uint8Array(nt);pt.set(We.data.subarray(0,nt)),We.data=pt;const yt=Ue.data,lt=yt.length,At=new Uint8Array(lt);let ht,Ft;const It=[];for(ht=0,Ft=0;ht<Je+1;ht++,Ft+=Se){let kt=De(pt,Ft);kt>lt&&(kt=lt),It.push({index:ht,offset:kt,endOffset:0})}for(It.sort((kt,Bt)=>kt.offset-Bt.offset),ht=0;ht<Je;ht++)It[ht].endOffset=It[ht+1].offset;for(It.sort((kt,Bt)=>kt.index-Bt.index),ht=0;ht<Je;ht++){const{offset:kt,endOffset:Bt}=It[ht];if(kt!==0||Bt!==0)break;const Ut=It[ht+1].offset;if(Ut!==0){It[ht].endOffset=Ut;break}}const Gt=Object.create(null);let vt=0;for($e(pt,0,vt),ht=0,Ft=Se;ht<Je;ht++,Ft+=Se){const kt=Ee(yt,It[ht].offset,It[ht].endOffset,At,vt,at),Bt=kt.length;Bt===0&&(Gt[ht]=!0),kt.sizeOfInstructions>ct&&(ct=kt.sizeOfInstructions),vt+=Bt,$e(pt,Ft,vt)}if(vt===0){const kt=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(ht=0,Ft=Se;ht<Ze;ht++,Ft+=Se)$e(pt,Ft,kt.length);Ue.data=kt}else if(ft){const kt=De(pt,Se);At.length>kt+vt?Ue.data=At.subarray(0,kt+vt):(Ue.data=new Uint8Array(kt+vt),Ue.data.set(At.subarray(0,vt))),Ue.data.set(At.subarray(0,kt),vt),$e(We.data,pt.length-Se,vt+kt)}else Ue.data=At.subarray(0,vt);return{missingGlyphs:Gt,maxSizeOfInstructions:ct}}function Pe(We,Ue,Je){const Ve=(de.start||0)+We.offset;de.pos=Ve;const at=We.length,ft=Ve+at,ct=de.getInt32();de.skip(28);let Se,De=!0,$e;switch(ct){case 65536:Se=K.MacStandardGlyphOrdering;break;case 131072:const Ze=de.getUint16();if(Ze!==Je){De=!1;break}const nt=[];for($e=0;$e<Ze;++$e){const lt=de.getUint16();if(lt>=32768){De=!1;break}nt.push(lt)}if(!De)break;const pt=[],yt=[];for(;de.pos<ft;){const lt=de.getByte();for(yt.length=lt,$e=0;$e<lt;++$e)yt[$e]=String.fromCharCode(de.getByte());pt.push(yt.join(""))}for(Se=[],$e=0;$e<Ze;++$e){const lt=nt[$e];if(lt<258){Se.push(K.MacStandardGlyphOrdering[lt]);continue}Se.push(pt[lt-258])}break;case 196608:break;default:(0,n.warn)("Unknown/unsupported post table version "+ct),De=!1,Ue.defaultEncoding&&(Se=Ue.defaultEncoding);break}return Ue.glyphNames=Se,De}function ve(We){const Ue=(de.start||0)+We.offset;de.pos=Ue;const Je=[[],[]],Ve=[],at=We.length,ft=Ue+at;if(de.getUint16()!==0||at<6)return[Je,Ve];const De=de.getUint16(),$e=de.getUint16(),Ze=12;let nt,pt;for(nt=0;nt<De&&de.pos+Ze<=ft;nt++){const yt={platform:de.getUint16(),encoding:de.getUint16(),language:de.getUint16(),name:de.getUint16(),length:de.getUint16(),offset:de.getUint16()};(X(yt)||R(yt))&&Ve.push(yt)}for(nt=0,pt=Ve.length;nt<pt;nt++){const yt=Ve[nt];if(yt.length<=0)continue;const lt=Ue+$e+yt.offset;if(lt+yt.length>ft)continue;de.pos=lt;const At=yt.name;if(yt.encoding){let ht="";for(let Ft=0,It=yt.length;Ft<It;Ft+=2)ht+=String.fromCharCode(de.getUint16());Je[1][At]=ht}else Je[0][At]=de.getString(yt.length)}return[Je,Ve]}const Te=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function je(We,Ue){let Je=We.data,Ve=0,at,ft,ct,Se,De,$e=0,Ze=0;const nt=[],pt=[],yt=[];let lt=Ue.tooComplexToFollowFunctions,At=!1,ht=0,Ft=0;for(let Gt=Je.length;Ve<Gt;){const vt=Je[Ve++];if(vt===64)if(ft=Je[Ve++],At||Ft)Ve+=ft;else for(at=0;at<ft;at++)nt.push(Je[Ve++]);else if(vt===65)if(ft=Je[Ve++],At||Ft)Ve+=ft*2;else for(at=0;at<ft;at++)ct=Je[Ve++],nt.push(ct<<8|Je[Ve++]);else if((vt&248)===176)if(ft=vt-176+1,At||Ft)Ve+=ft;else for(at=0;at<ft;at++)nt.push(Je[Ve++]);else if((vt&248)===184)if(ft=vt-184+1,At||Ft)Ve+=ft*2;else for(at=0;at<ft;at++)ct=Je[Ve++],nt.push(ct<<8|Je[Ve++]);else if(vt===43&&!lt){if(!At&&!Ft){if(Se=nt.at(-1),isNaN(Se))(0,n.info)("TT: CALL empty stack (or invalid entry).");else if(Ue.functionsUsed[Se]=!0,Se in Ue.functionsStackDeltas){const kt=nt.length+Ue.functionsStackDeltas[Se];if(kt<0){(0,n.warn)("TT: CALL invalid functions stack delta."),Ue.hintsValid=!1;return}nt.length=kt}else if(Se in Ue.functionsDefined&&!yt.includes(Se)){if(pt.push({data:Je,i:Ve,stackTop:nt.length-1}),yt.push(Se),De=Ue.functionsDefined[Se],!De){(0,n.warn)("TT: CALL non-existent function"),Ue.hintsValid=!1;return}Je=De.data,Ve=De.i}}}else if(vt===44&&!lt)(At||Ft)&&((0,n.warn)("TT: nested FDEFs not allowed"),lt=!0),At=!0,Ze=Ve,Se=nt.pop(),Ue.functionsDefined[Se]={data:Je,i:Ve};else if(vt===45)if(At)At=!1,$e=Ve;else{if(De=pt.pop(),!De){(0,n.warn)("TT: ENDF bad stack"),Ue.hintsValid=!1;return}Se=yt.pop(),Je=De.data,Ve=De.i,Ue.functionsStackDeltas[Se]=nt.length-De.stackTop}else if(vt===137)(At||Ft)&&((0,n.warn)("TT: nested IDEFs not allowed"),lt=!0),At=!0,Ze=Ve;else if(vt===88)++ht;else if(vt===27)Ft=ht;else if(vt===89)Ft===ht&&(Ft=0),--ht;else if(vt===28&&!At&&!Ft){const kt=nt.at(-1);kt>0&&(Ve+=kt-1)}if(!At&&!Ft){let kt=0;for(vt<=142?kt=Te[vt]:vt>=192&&vt<=223?kt=-1:vt>=224&&(kt=-2),vt>=113&&vt<=117&&(ft=nt.pop(),isNaN(ft)||(kt=-ft*2));kt<0&&nt.length>0;)nt.pop(),kt++;for(;kt>0;)nt.push(NaN),kt--}}Ue.tooComplexToFollowFunctions=lt;const It=[Je];Ve>Je.length&&It.push(new Uint8Array(Ve-Je.length)),Ze>$e&&((0,n.warn)("TT: complementing a missing function tail"),It.push(new Uint8Array([34,45]))),ke(We,It)}function Ce(We,Ue){if(!We.tooComplexToFollowFunctions){if(We.functionsDefined.length>Ue){(0,n.warn)("TT: more functions defined than expected"),We.hintsValid=!1;return}for(let Je=0,Ve=We.functionsUsed.length;Je<Ve;Je++){if(Je>Ue){(0,n.warn)("TT: invalid function id: "+Je),We.hintsValid=!1;return}if(We.functionsUsed[Je]&&!We.functionsDefined[Je]){(0,n.warn)("TT: undefined function: "+Je),We.hintsValid=!1;return}}}}function ke(We,Ue){if(Ue.length>1){let Je=0,Ve,at;for(Ve=0,at=Ue.length;Ve<at;Ve++)Je+=Ue[Ve].length;Je=Je+3&-4;const ft=new Uint8Array(Je);let ct=0;for(Ve=0,at=Ue.length;Ve<at;Ve++)ft.set(Ue[Ve],ct),ct+=Ue[Ve].length;We.data=ft,We.length=Je}}function Le(We,Ue,Je,Ve){const at={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(We&&je(We,at),Ue&&je(Ue,at),We&&Ce(at,Ve),Je&&Je.length&1){const ft=new Uint8Array(Je.length+1);ft.set(Je.data),Je.data=ft}return at.hintsValid}de=new s.Stream(new Uint8Array(de.getBytes()));let Ge,Oe;if(x(de)){const We=Ae(de,this.name);Ge=We.header,Oe=We.tables}else Ge=Ie(de),Oe=pe(de,Ge.numTables);let tt,Ye;const et=!Oe["CFF "];if(et){if(!Oe.loca)throw new n.FormatError('Required "loca" table is not found');Oe.glyf||((0,n.warn)('Required "glyf" table is not found -- trying to recover.'),Oe.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const We=ue.composite&&(((Et=ue.cidToGidMap)==null?void 0:Et.length)>0||!(ue.cMap instanceof F.IdentityCMap));if(Ge.version==="OTTO"&&!We||!Oe.head||!Oe.hhea||!Oe.maxp||!Oe.post)return Ye=new s.Stream(Oe["CFF "].data),tt=new I.CFFFont(Ye,ue),P(ue),this.convert(re,tt,ue);delete Oe.glyf,delete Oe.loca,delete Oe.fpgm,delete Oe.prep,delete Oe["cvt "],this.isOpenType=!0}if(!Oe.maxp)throw new n.FormatError('Required "maxp" table is not found');de.pos=(de.start||0)+Oe.maxp.offset;const Xe=de.getInt32(),Qe=de.getUint16();if(((St=ue.scaleFactors)==null?void 0:St.length)===Qe&&et){const{scaleFactors:We}=ue,Ue=g(Oe.head.data[50],Oe.head.data[51]),Je=new i.GlyfTable({glyfTable:Oe.glyf.data,isGlyphLocationsLong:Ue,locaTable:Oe.loca.data,numGlyphs:Qe});Je.scale(We);const{glyf:Ve,loca:at,isLocationLong:ft}=Je.write();Oe.glyf.data=Ve,Oe.loca.data=at,ft!==!!Ue&&(Oe.head.data[50]=0,Oe.head.data[51]=ft?1:0);const ct=Oe.hmtx.data;for(let Se=0;Se<Qe;Se++){const De=4*Se,$e=Math.round(We[Se]*g(ct[De],ct[De+1]));ct[De]=$e>>8&255,ct[De+1]=$e&255;const Ze=Math.round(We[Se]*D(ct[De+2],ct[De+3]));k(ct,De+2,Ze)}}let it=Qe+1,qe=!0;it>65535&&(qe=!1,it=Qe,(0,n.warn)("Not enough space in glyfs to duplicate first glyph."));let gt=0,mt=0;Xe>=65536&&Oe.maxp.length>=22&&(de.pos+=8,de.getUint16()>2&&(Oe.maxp.data[14]=0,Oe.maxp.data[15]=2),de.pos+=4,gt=de.getUint16(),de.pos+=4,mt=de.getUint16()),Oe.maxp.data[4]=it>>8,Oe.maxp.data[5]=it&255;const Ct=Le(Oe.fpgm,Oe.prep,Oe["cvt "],gt);if(Ct||(delete Oe.fpgm,delete Oe.prep,delete Oe["cvt "]),be(de,Oe.hhea,Oe.hmtx,Oe.head,it,qe),!Oe.head)throw new n.FormatError('Required "head" table is not found');_e(Oe.head,Qe,et?Oe.loca.length:0);let Pt=Object.create(null);if(et){const We=g(Oe.head.data[50],Oe.head.data[51]),Ue=Re(Oe.loca,Oe.glyf,Qe,We,Ct,qe,mt);Pt=Ue.missingGlyphs,Xe>=65536&&Oe.maxp.length>=22&&(Oe.maxp.data[26]=Ue.maxSizeOfInstructions>>8,Oe.maxp.data[27]=Ue.maxSizeOfInstructions&255)}if(!Oe.hhea)throw new n.FormatError('Required "hhea" table is not found');Oe.hhea.data[10]===0&&Oe.hhea.data[11]===0&&(Oe.hhea.data[10]=255,Oe.hhea.data[11]=255);const st={unitsPerEm:g(Oe.head.data[18],Oe.head.data[19]),yMax:D(Oe.head.data[42],Oe.head.data[43]),yMin:D(Oe.head.data[38],Oe.head.data[39]),ascent:D(Oe.hhea.data[4],Oe.hhea.data[5]),descent:D(Oe.hhea.data[6],Oe.hhea.data[7]),lineGap:D(Oe.hhea.data[8],Oe.hhea.data[9])};this.ascent=st.ascent/st.unitsPerEm,this.descent=st.descent/st.unitsPerEm,this.lineGap=st.lineGap/st.unitsPerEm,(Lt=this.cssFontInfo)!=null&&Lt.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,Oe.post&&Pe(Oe.post,ue,Qe),Oe.post={tag:"post",data:Y(ue)};const dt=[];function ot(We){return!Pt[We]}if(ue.composite){const We=ue.cidToGidMap||[],Ue=We.length===0;ue.cMap.forEach(function(Je,Ve){if(typeof Ve=="string"&&(Ve=Z(Je,Ve,!0)),Ve>65535)throw new n.FormatError("Max size of CID is 65,535");let at=-1;Ue?at=Ve:We[Ve]!==void 0&&(at=We[Ve]),at>=0&&at<Qe&&ot(at)&&(dt[Je]=at)})}else{const We=we(Oe.cmap,de,this.isSymbolicFont,ue.hasEncoding),Ue=We.platformId,Je=We.encodingId,Ve=We.mappings;let at=[],ft=!1;if(ue.hasEncoding&&(ue.baseEncodingName==="MacRomanEncoding"||ue.baseEncodingName==="WinAnsiEncoding")&&(at=(0,H.getEncoding)(ue.baseEncodingName)),ue.hasEncoding&&!this.isSymbolicFont&&(Ue===3&&Je===1||Ue===1&&Je===0)){const ct=(0,t.getGlyphsUnicode)();for(let Se=0;Se<256;Se++){let De;if(this.differences[Se]!==void 0?De=this.differences[Se]:at.length&&at[Se]!==""?De=at[Se]:De=H.StandardEncoding[Se],!De)continue;const $e=(0,K.recoverGlyphName)(De,ct);let Ze;if(Ue===3&&Je===1?Ze=ct[$e]:Ue===1&&Je===0&&(Ze=H.MacRomanEncoding.indexOf($e)),Ze===void 0){if(!ue.glyphNames&&ue.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof G.IdentityToUnicodeMap)){const nt=this.toUnicode.get(Se);nt&&(Ze=nt.codePointAt(0))}if(Ze===void 0)continue}for(const nt of Ve)if(nt.charCode===Ze){dt[Se]=nt.glyphId;break}}}else if(Ue===0){for(const ct of Ve)dt[ct.charCode]=ct.glyphId;ft=!0}else for(const ct of Ve){let Se=ct.charCode;Ue===3&&Se>=61440&&Se<=61695&&(Se&=255),dt[Se]=ct.glyphId}if(ue.glyphNames&&(at.length||this.differences.length))for(let ct=0;ct<256;++ct){if(!ft&&dt[ct]!==void 0)continue;const Se=this.differences[ct]||at[ct];if(!Se)continue;const De=ue.glyphNames.indexOf(Se);De>0&&ot(De)&&(dt[ct]=De)}}dt.length===0&&(dt[0]=0);let _t=it-1;if(qe||(_t=0),!ue.cssFontInfo){const We=N(dt,ot,_t,this.toUnicode);this.toFontChar=We.toFontChar,Oe.cmap={tag:"cmap",data:c(We.charCodeToGlyphId,We.toUnicodeExtraMap,it)},(!Oe["OS/2"]||!_(Oe["OS/2"],de))&&(Oe["OS/2"]={tag:"OS/2",data:W(ue,We.charCodeToGlyphId,st)})}if(!et)try{Ye=new s.Stream(Oe["CFF "].data),tt=new l.CFFParser(Ye,ue,K.SEAC_ANALYSIS_ENABLED).parse(),tt.duplicateFirstGlyph();const Ue=new l.CFFCompiler(tt);Oe["CFF "].data=Ue.compile()}catch{(0,n.warn)("Failed to compile font "+ue.loadedName)}if(!Oe.name)Oe.name={tag:"name",data:ae(this.name)};else{const[We,Ue]=ve(Oe.name);Oe.name.data=ae(re,We),this.psName=We[0][6]||null,ue.composite||d(ue,this.isSymbolicFont,Ue)}const Mt=new B.OpenTypeFileBuilder(Ge.version);for(const We in Oe)Mt.addTable(We,Oe[We].data);return Mt.toArray()}convert(re,de,ue){ue.fixedPitch=!1,ue.builtInEncoding&&A(ue,ue.builtInEncoding);let ge=1;de instanceof I.CFFFont&&(ge=de.numGlyphs-1);const pe=de.getGlyphMapping(ue);let xe=null,Ie=pe,Fe=null;ue.cssFontInfo||(xe=N(pe,de.hasGlyphId.bind(de),ge,this.toUnicode),this.toFontChar=xe.toFontChar,Ie=xe.charCodeToGlyphId,Fe=xe.toUnicodeExtraMap);const Ae=de.numGlyphs;function we(Pe,ve){let Te=null;for(const je in Pe)ve===Pe[je]&&(Te||(Te=[])).push(je|0);return Te}function be(Pe,ve){for(const Te in Pe)if(ve===Pe[Te])return Te|0;return xe.charCodeToGlyphId[xe.nextAvailableFontCharCode]=ve,xe.nextAvailableFontCharCode++}const Ee=de.seacs;if(xe&&K.SEAC_ANALYSIS_ENABLED&&(Ee!=null&&Ee.length)){const Pe=ue.fontMatrix||n.FONT_IDENTITY_MATRIX,ve=de.getCharset(),Te=Object.create(null);for(let je in Ee){je|=0;const Ce=Ee[je],ke=H.StandardEncoding[Ce[2]],Le=H.StandardEncoding[Ce[3]],Ge=ve.indexOf(ke),Oe=ve.indexOf(Le);if(Ge<0||Oe<0)continue;const tt={x:Ce[0]*Pe[0]+Ce[1]*Pe[2]+Pe[4],y:Ce[0]*Pe[1]+Ce[1]*Pe[3]+Pe[5]},Ye=we(pe,je);if(Ye)for(const et of Ye){const Xe=xe.charCodeToGlyphId,Qe=be(Xe,Ge),it=be(Xe,Oe);Te[et]={baseFontCharCode:Qe,accentFontCharCode:it,accentOffset:tt}}}ue.seacMap=Te}const _e=1/(ue.fontMatrix||n.FONT_IDENTITY_MATRIX)[0],Re=new B.OpenTypeFileBuilder("OTTO");return Re.addTable("CFF ",de.data),Re.addTable("OS/2",W(ue,Ie)),Re.addTable("cmap",c(Ie,Fe,Ae)),Re.addTable("head","\0\0\0\0\0\0\0\0\0\0_<õ\0\0"+q(_e)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+q(ue.descent)+"ÿ"+q(ue.ascent)+V(ue.italicAngle?2:0)+"\0\0\0\0\0\0\0"),Re.addTable("hhea","\0\0\0"+q(ue.ascent)+q(ue.descent)+"\0\0ÿÿ\0\0\0\0\0\0"+q(ue.capHeight)+q(Math.tan(ue.italicAngle)*ue.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+V(Ae)),Re.addTable("hmtx",function(){const ve=de.charstrings,Te=de.cff?de.cff.widths:null;let je="\0\0\0\0";for(let Ce=1,ke=Ae;Ce<ke;Ce++){let Le=0;if(ve){const Ge=ve[Ce-1];Le="width"in Ge?Ge.width:0}else Te&&(Le=Math.ceil(Te[Ce]||0));je+=V(Le)+V(0)}return je}()),Re.addTable("maxp","\0\0P\0"+V(Ae)),Re.addTable("name",ae(re)),Re.addTable("post",Y(ue)),Re.toArray()}get spaceWidth(){const re=["space","minus","one","i","I"];let de;for(const ue of re){if(ue in this.widths){de=this.widths[ue];break}const pe=(0,t.getGlyphsUnicode)()[ue];let xe=0;if(this.composite&&this.cMap.contains(pe)&&(xe=this.cMap.lookup(pe),typeof xe=="string"&&(xe=Z(pe,xe))),!xe&&this.toUnicode&&(xe=this.toUnicode.charCodeOf(pe)),xe<=0&&(xe=pe),de=this.widths[xe],de)break}return(0,n.shadow)(this,"spaceWidth",de||this.defaultWidth)}_charToGlyph(re,de=!1){var _e,Re,Pe;let ue=this._glyphCache[re];if((ue==null?void 0:ue.isSpace)===de)return ue;let ge,pe,xe,Ie=re;(_e=this.cMap)!=null&&_e.contains(re)&&(Ie=this.cMap.lookup(re),typeof Ie=="string"&&(Ie=Z(re,Ie))),pe=this.widths[Ie],typeof pe!="number"&&(pe=this.defaultWidth);const Fe=(Re=this.vmetrics)==null?void 0:Re[Ie];let Ae=this.toUnicode.get(re)||re;typeof Ae=="number"&&(Ae=String.fromCharCode(Ae));let we=this.toFontChar[re]!==void 0;if(ge=this.toFontChar[re]||re,this.missingFile){const ve=this.differences[re]||this.defaultEncoding[re];(ve===".notdef"||ve==="")&&this.type==="Type1"&&(ge=32),ge=(0,e.mapSpecialUnicodeValues)(ge)}this.isType3Font&&(xe=ge);let be=null;if((Pe=this.seacMap)!=null&&Pe[re]){we=!0;const ve=this.seacMap[re];ge=ve.baseFontCharCode,be={fontChar:String.fromCodePoint(ve.accentFontCharCode),offset:ve.accentOffset}}let Ee="";return typeof ge=="number"&&(ge<=1114111?Ee=String.fromCodePoint(ge):(0,n.warn)(`charToGlyph - invalid fontCharCode: ${ge}`)),ue=new h(re,Ee,Ae,be,pe,Fe,xe,de,we),this._glyphCache[re]=ue}charsToGlyphs(re){let de=this._charsCache[re];if(de)return de;if(de=[],this.cMap){const ue=Object.create(null),ge=re.length;let pe=0;for(;pe<ge;){this.cMap.readCharCode(re,pe,ue);const{charcode:xe,length:Ie}=ue;pe+=Ie;const Fe=this._charToGlyph(xe,Ie===1&&re.charCodeAt(pe-1)===32);de.push(Fe)}}else for(let ue=0,ge=re.length;ue<ge;++ue){const pe=re.charCodeAt(ue),xe=this._charToGlyph(pe,pe===32);de.push(xe)}return this._charsCache[re]=de}getCharPositions(re){const de=[];if(this.cMap){const ue=Object.create(null);let ge=0;for(;ge<re.length;){this.cMap.readCharCode(re,ge,ue);const pe=ue.length;de.push([ge,ge+pe]),ge+=pe}}else for(let ue=0,ge=re.length;ue<ge;++ue)de.push([ue,ue+1]);return de}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(re){const de=[],ue=[],ge=()=>de.length%2===1,pe=this.toUnicode instanceof G.IdentityToUnicodeMap?xe=>this.toUnicode.charCodeOf(xe):xe=>this.toUnicode.charCodeOf(String.fromCodePoint(xe));for(let xe=0,Ie=re.length;xe<Ie;xe++){const Fe=re.codePointAt(xe);if(Fe>55295&&(Fe<57344||Fe>65533)&&xe++,this.toUnicode){const Ae=pe(Fe);if(Ae!==-1){ge()&&(de.push(ue.join("")),ue.length=0);const we=this.cMap?this.cMap.getCharCodeLength(Ae):1;for(let be=we-1;be>=0;be--)ue.push(String.fromCharCode(Ae>>8*be&255));continue}}ge()||(de.push(ue.join("")),ue.length=0),ue.push(String.fromCodePoint(Fe))}return de.push(ue.join("")),de}}S.Font=oe;class he{constructor(re){this.error=re,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(re){return[re]}exportData(re=!1){return{error:this.error}}}S.ErrorFont=he},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.CFFTopDict=S.CFFStrings=S.CFFStandardStrings=S.CFFPrivateDict=S.CFFParser=S.CFFIndex=S.CFFHeader=S.CFFFDSelect=S.CFFCompiler=S.CFFCharset=S.CFF=void 0;var n=ee(2),l=ee(36),K=ee(37);const e=10,t=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];S.CFFStandardStrings=t;const H=391,z=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],G=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(L,h){L[h-2]=L[h-2]+L[h-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(L,h){L[h-2]=L[h-2]-L[h-1]}},{id:"div",min:2,stackDelta:-1,stackFn(L,h){L[h-2]=L[h-2]/L[h-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(L,h){L[h-1]=-L[h-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(L,h){L[h-2]=L[h-2]*L[h-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class I{constructor(h,g,k){this.bytes=h.getBytes(),this.properties=g,this.seacAnalysisEnabled=!!k}parse(){const h=this.properties,g=new C;this.cff=g;const k=this.parseHeader(),D=this.parseIndex(k.endPos),T=this.parseIndex(D.endPos),V=this.parseIndex(T.endPos),q=this.parseIndex(V.endPos),v=this.parseDict(T.obj.get(0)),x=this.createDict(s,v,g.strings);g.header=k.obj,g.names=this.parseNameIndex(D.obj),g.strings=this.parseStringIndex(V.obj),g.topDict=x,g.globalSubrIndex=q.obj,this.parsePrivateDict(g.topDict),g.isCIDFont=x.hasName("ROS");const E=x.getByName("CharStrings"),U=this.parseIndex(E).obj,$=x.getByName("FontMatrix");$&&(h.fontMatrix=$);const Q=x.getByName("FontBBox");Q&&(h.ascent=Math.max(Q[3],Q[1]),h.descent=Math.min(Q[1],Q[3]),h.ascentScaled=!0);let ie,j;if(g.isCIDFont){const R=this.parseIndex(x.getByName("FDArray")).obj;for(let Z=0,N=R.count;Z<N;++Z){const M=R.get(Z),c=this.createDict(s,this.parseDict(M),g.strings);this.parsePrivateDict(c),g.fdArray.push(c)}j=null,ie=this.parseCharsets(x.getByName("charset"),U.count,g.strings,!0),g.fdSelect=this.parseFDSelect(x.getByName("FDSelect"),U.count)}else ie=this.parseCharsets(x.getByName("charset"),U.count,g.strings,!1),j=this.parseEncoding(x.getByName("Encoding"),h,g.strings,ie.charset);g.charset=ie,g.encoding=j;const X=this.parseCharStrings({charStrings:U,localSubrIndex:x.privateDict.subrsIndex,globalSubrIndex:q.obj,fdSelect:g.fdSelect,fdArray:g.fdArray,privateDict:x.privateDict});return g.charStrings=X.charStrings,g.seacs=X.seacs,g.widths=X.widths,g}parseHeader(){let h=this.bytes;const g=h.length;let k=0;for(;k<g&&h[k]!==1;)++k;if(k>=g)throw new n.FormatError("Invalid CFF header");k!==0&&((0,n.info)("cff data is shifted"),h=h.subarray(k),this.bytes=h);const D=h[0],T=h[1],V=h[2],q=h[3];return{obj:new w(D,T,V,q),endPos:V}}parseDict(h){let g=0;function k(){let v=h[g++];return v===30?D():v===28?(v=h[g++],v=(v<<24|h[g++]<<16)>>16,v):v===29?(v=h[g++],v=v<<8|h[g++],v=v<<8|h[g++],v=v<<8|h[g++],v):v>=32&&v<=246?v-139:v>=247&&v<=250?(v-247)*256+h[g++]+108:v>=251&&v<=254?-((v-251)*256)-h[g++]-108:((0,n.warn)('CFFParser_parseDict: "'+v+'" is a reserved command.'),NaN)}function D(){let v="";const E=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],U=h.length;for(;g<U;){const $=h[g++],Q=$>>4,ie=$&15;if(Q===15||(v+=E[Q],ie===15))break;v+=E[ie]}return parseFloat(v)}let T=[];const V=[];g=0;const q=h.length;for(;g<q;){let v=h[g];v<=21?(v===12&&(v=v<<8|h[++g]),V.push([v,T]),T=[],++g):T.push(k())}return V}parseIndex(h){const g=new F,k=this.bytes,D=k[h++]<<8|k[h++],T=[];let V=h,q,v;if(D!==0){const x=k[h++],E=h+(D+1)*x-1;for(q=0,v=D+1;q<v;++q){let U=0;for(let $=0;$<x;++$)U<<=8,U+=k[h++];T.push(E+U)}V=T[D]}for(q=0,v=T.length-1;q<v;++q){const x=T[q],E=T[q+1];g.add(k.subarray(x,E))}return{obj:g,endPos:V}}parseNameIndex(h){const g=[];for(let k=0,D=h.count;k<D;++k){const T=h.get(k);g.push((0,n.bytesToString)(T))}return g}parseStringIndex(h){const g=new i;for(let k=0,D=h.count;k<D;++k){const T=h.get(k);g.add((0,n.bytesToString)(T))}return g}createDict(h,g,k){const D=new h(k);for(const[T,V]of g)D.setByKey(T,V);return D}parseCharString(h,g,k,D){if(!g||h.callDepth>e)return!1;let T=h.stackSize;const V=h.stack;let q=g.length;for(let v=0;v<q;){const x=g[v++];let E=null;if(x===12){const U=g[v++];U===0?(g[v-2]=139,g[v-1]=22,T=0):E=G[U]}else if(x===28)V[T]=(g[v]<<24|g[v+1]<<16)>>16,v+=2,T++;else if(x===14){if(T>=4&&(T-=4,this.seacAnalysisEnabled))return h.seac=V.slice(T,T+4),!1;E=z[x]}else if(x>=32&&x<=246)V[T]=x-139,T++;else if(x>=247&&x<=254)V[T]=x<251?(x-247<<8)+g[v]+108:-(x-251<<8)-g[v]-108,v++,T++;else if(x===255)V[T]=(g[v]<<24|g[v+1]<<16|g[v+2]<<8|g[v+3])/65536,v+=4,T++;else if(x===19||x===20){if(h.hints+=T>>1,h.hints===0){g.copyWithin(v-1,v,-1),v-=1,q-=1;continue}v+=h.hints+7>>3,T%=2,E=z[x]}else if(x===10||x===29){let U;if(x===10?U=k:U=D,!U)return E=z[x],(0,n.warn)("Missing subrsIndex for "+E.id),!1;let $=32768;U.count<1240?$=107:U.count<33900&&($=1131);const Q=V[--T]+$;if(Q<0||Q>=U.count||isNaN(Q))return E=z[x],(0,n.warn)("Out of bounds subrIndex for "+E.id),!1;if(h.stackSize=T,h.callDepth++,!this.parseCharString(h,U.get(Q),k,D))return!1;h.callDepth--,T=h.stackSize;continue}else{if(x===11)return h.stackSize=T,!0;if(x===0&&v===g.length)g[v-1]=14,E=z[14];else if(x===9){g.copyWithin(v-1,v,-1),v-=1,q-=1;continue}else E=z[x]}if(E){if(E.stem&&(h.hints+=T>>1,x===3||x===23?h.hasVStems=!0:h.hasVStems&&(x===1||x===18)&&((0,n.warn)("CFF stem hints are in wrong order"),g[v-1]=x===1?3:23)),"min"in E&&!h.undefStack&&T<E.min)return(0,n.warn)("Not enough parameters for "+E.id+"; actual: "+T+", expected: "+E.min),T===0?(g[v-1]=14,!0):!1;h.firstStackClearing&&E.stackClearing&&(h.firstStackClearing=!1,T-=E.min,T>=2&&E.stem?T%=2:T>1&&(0,n.warn)("Found too many parameters for stack-clearing command"),T>0&&(h.width=V[T-1])),"stackDelta"in E?("stackFn"in E&&E.stackFn(V,T),T+=E.stackDelta):E.stackClearing?T=0:E.resetStack?(T=0,h.undefStack=!1):E.undefStack&&(T=0,h.undefStack=!0,h.firstStackClearing=!1)}}return q<g.length&&g.fill(14,q),h.stackSize=T,!0}parseCharStrings({charStrings:h,localSubrIndex:g,globalSubrIndex:k,fdSelect:D,fdArray:T,privateDict:V}){const q=[],v=[],x=h.count;for(let E=0;E<x;E++){const U=h.get(E),$={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let Q=!0,ie=null,j=V;if(D&&T.length){const X=D.getFDIndex(E);X===-1&&((0,n.warn)("Glyph index is not in fd select."),Q=!1),X>=T.length&&((0,n.warn)("Invalid fd index for glyph index."),Q=!1),Q&&(j=T[X].privateDict,ie=j.subrsIndex)}else g&&(ie=g);if(Q&&(Q=this.parseCharString($,U,ie,k)),$.width!==null){const X=j.getByName("nominalWidthX");v[E]=X+$.width}else{const X=j.getByName("defaultWidthX");v[E]=X}$.seac!==null&&(q[E]=$.seac),Q||h.set(E,new Uint8Array([14]))}return{charStrings:h,seacs:q,widths:v}}emptyPrivateDictionary(h){const g=this.createDict(y,[],h.strings);h.setByKey(18,[0,0]),h.privateDict=g}parsePrivateDict(h){if(!h.hasName("Private")){this.emptyPrivateDictionary(h);return}const g=h.getByName("Private");if(!Array.isArray(g)||g.length!==2){h.removeByName("Private");return}const k=g[0],D=g[1];if(k===0||D>=this.bytes.length){this.emptyPrivateDictionary(h);return}const T=D+k,V=this.bytes.subarray(D,T),q=this.parseDict(V),v=this.createDict(y,q,h.strings);if(h.privateDict=v,v.getByName("ExpansionFactor")===0&&v.setByName("ExpansionFactor",.06),!v.getByName("Subrs"))return;const x=v.getByName("Subrs"),E=D+x;if(x===0||E>=this.bytes.length){this.emptyPrivateDictionary(h);return}const U=this.parseIndex(E);v.subrsIndex=U.obj}parseCharsets(h,g,k,D){if(h===0)return new f(!0,r.ISO_ADOBE,l.ISOAdobeCharset);if(h===1)return new f(!0,r.EXPERT,l.ExpertCharset);if(h===2)return new f(!0,r.EXPERT_SUBSET,l.ExpertSubsetCharset);const T=this.bytes,V=h,q=T[h++],v=[D?0:".notdef"];let x,E,U;switch(g-=1,q){case 0:for(U=0;U<g;U++)x=T[h++]<<8|T[h++],v.push(D?x:k.get(x));break;case 1:for(;v.length<=g;)for(x=T[h++]<<8|T[h++],E=T[h++],U=0;U<=E;U++)v.push(D?x++:k.get(x++));break;case 2:for(;v.length<=g;)for(x=T[h++]<<8|T[h++],E=T[h++]<<8|T[h++],U=0;U<=E;U++)v.push(D?x++:k.get(x++));break;default:throw new n.FormatError("Unknown charset format")}const $=h,Q=T.subarray(V,$);return new f(!1,q,v,Q)}parseEncoding(h,g,k,D){const T=Object.create(null),V=this.bytes;let q=!1,v,x,E,U=null;function $(){const Q=V[h++];for(x=0;x<Q;x++){const ie=V[h++],j=(V[h++]<<8)+(V[h++]&255);T[ie]=D.indexOf(k.get(j))}}if(h===0||h===1){q=!0,v=h;const Q=h?K.ExpertEncoding:K.StandardEncoding;for(x=0,E=D.length;x<E;x++){const ie=Q.indexOf(D[x]);ie!==-1&&(T[ie]=x)}}else{const Q=h;switch(v=V[h++],v&127){case 0:const j=V[h++];for(x=1;x<=j;x++)T[V[h++]]=x;break;case 1:const X=V[h++];let R=1;for(x=0;x<X;x++){const Z=V[h++],N=V[h++];for(let M=Z;M<=Z+N;M++)T[M]=R++}break;default:throw new n.FormatError(`Unknown encoding format: ${v} in CFF`)}const ie=h;v&128&&(V[Q]&=127,$()),U=V.subarray(Q,ie)}return v&=127,new m(q,v,T,U)}parseFDSelect(h,g){const k=this.bytes,D=k[h++],T=[];let V;switch(D){case 0:for(V=0;V<g;++V){const v=k[h++];T.push(v)}break;case 3:const q=k[h++]<<8|k[h++];for(V=0;V<q;++V){let v=k[h++]<<8|k[h++];V===0&&v!==0&&((0,n.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),v=0);const x=k[h++],E=k[h]<<8|k[h+1];for(let U=v;U<E;++U)T.push(x)}h+=2;break;default:throw new n.FormatError(`parseFDSelect: Unknown format "${D}".`)}if(T.length!==g)throw new n.FormatError("parseFDSelect: Invalid font data.");return new P(D,T)}}S.CFFParser=I;class C{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new i,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){(0,n.warn)("Not enough space in charstrings to duplicate first glyph.");return}const h=this.charStrings.get(0);this.charStrings.add(h),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(h){return h<0||h>=this.charStrings.count?!1:this.charStrings.get(h).length>0}}S.CFF=C;class w{constructor(h,g,k,D){this.major=h,this.minor=g,this.hdrSize=k,this.offSize=D}}S.CFFHeader=w;class i{constructor(){this.strings=[]}get(h){return h>=0&&h<=H-1?t[h]:h-H<=this.strings.length?this.strings[h-H]:t[0]}getSID(h){let g=t.indexOf(h);return g!==-1?g:(g=this.strings.indexOf(h),g!==-1?g+H:-1)}add(h){this.strings.push(h)}get count(){return this.strings.length}}S.CFFStrings=i;class F{constructor(){this.objects=[],this.length=0}add(h){this.length+=h.length,this.objects.push(h)}set(h,g){this.length+=g.length-this.objects[h].length,this.objects[h]=g}get(h){return this.objects[h]}get count(){return this.objects.length}}S.CFFIndex=F;class B{constructor(h,g){this.keyToNameMap=h.keyToNameMap,this.nameToKeyMap=h.nameToKeyMap,this.defaults=h.defaults,this.types=h.types,this.opcodes=h.opcodes,this.order=h.order,this.strings=g,this.values=Object.create(null)}setByKey(h,g){if(!(h in this.keyToNameMap))return!1;if(g.length===0)return!0;for(const D of g)if(isNaN(D))return(0,n.warn)(`Invalid CFFDict value: "${g}" for key "${h}".`),!0;const k=this.types[h];return(k==="num"||k==="sid"||k==="offset")&&(g=g[0]),this.values[h]=g,!0}setByName(h,g){if(!(h in this.nameToKeyMap))throw new n.FormatError(`Invalid dictionary name "${h}"`);this.values[this.nameToKeyMap[h]]=g}hasName(h){return this.nameToKeyMap[h]in this.values}getByName(h){if(!(h in this.nameToKeyMap))throw new n.FormatError(`Invalid dictionary name ${h}"`);const g=this.nameToKeyMap[h];return g in this.values?this.values[g]:this.defaults[g]}removeByName(h){delete this.values[this.nameToKeyMap[h]]}static createTables(h){const g={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(const k of h){const D=Array.isArray(k[0])?(k[0][0]<<8)+k[0][1]:k[0];g.keyToNameMap[D]=k[1],g.nameToKeyMap[k[1]]=D,g.types[D]=k[2],g.defaults[D]=k[3],g.opcodes[D]=Array.isArray(k[0])?k[0]:[k[0]],g.order.push(D)}return g}}const u=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class s extends B{static get tables(){return(0,n.shadow)(this,"tables",this.createTables(u))}constructor(h){super(s.tables,h),this.privateDict=null}}S.CFFTopDict=s;const o=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class y extends B{static get tables(){return(0,n.shadow)(this,"tables",this.createTables(o))}constructor(h){super(y.tables,h),this.subrsIndex=null}}S.CFFPrivateDict=y;const r={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class f{constructor(h,g,k,D){this.predefined=h,this.format=g,this.charset=k,this.raw=D}}S.CFFCharset=f;class m{constructor(h,g,k,D){this.predefined=h,this.format=g,this.encoding=k,this.raw=D}}class P{constructor(h,g){this.format=h,this.fdSelect=g}getFDIndex(h){return h<0||h>=this.fdSelect.length?-1:this.fdSelect[h]}}S.CFFFDSelect=P;class d{constructor(){this.offsets=Object.create(null)}isTracking(h){return h in this.offsets}track(h,g){if(h in this.offsets)throw new n.FormatError(`Already tracking location of ${h}`);this.offsets[h]=g}offset(h){for(const g in this.offsets)this.offsets[g]+=h}setEntryLocation(h,g,k){if(!(h in this.offsets))throw new n.FormatError(`Not tracking location of ${h}`);const D=k.data,T=this.offsets[h],V=5;for(let q=0,v=g.length;q<v;++q){const x=q*V+T,E=x+1,U=x+2,$=x+3,Q=x+4;if(D[x]!==29||D[E]!==0||D[U]!==0||D[$]!==0||D[Q]!==0)throw new n.FormatError("writing to an offset that is not empty");const ie=g[q];D[x]=29,D[E]=ie>>24&255,D[U]=ie>>16&255,D[$]=ie>>8&255,D[Q]=ie&255}}}class A{constructor(h){this.cff=h}compile(){const h=this.cff,g={data:[],length:0,add($){$.length<=65536?this.data.push(...$):this.data=this.data.concat($),this.length=this.data.length}},k=this.compileHeader(h.header);g.add(k);const D=this.compileNameIndex(h.names);if(g.add(D),h.isCIDFont&&h.topDict.hasName("FontMatrix")){const $=h.topDict.getByName("FontMatrix");h.topDict.removeByName("FontMatrix");for(const Q of h.fdArray){let ie=$.slice(0);Q.hasName("FontMatrix")&&(ie=n.Util.transform(ie,Q.getByName("FontMatrix"))),Q.setByName("FontMatrix",ie)}}const T=h.topDict.getByName("XUID");(T==null?void 0:T.length)>16&&h.topDict.removeByName("XUID"),h.topDict.setByName("charset",0);let V=this.compileTopDicts([h.topDict],g.length,h.isCIDFont);g.add(V.output);const q=V.trackers[0],v=this.compileStringIndex(h.strings.strings);g.add(v);const x=this.compileIndex(h.globalSubrIndex);if(g.add(x),h.encoding&&h.topDict.hasName("Encoding"))if(h.encoding.predefined)q.setEntryLocation("Encoding",[h.encoding.format],g);else{const $=this.compileEncoding(h.encoding);q.setEntryLocation("Encoding",[g.length],g),g.add($)}const E=this.compileCharset(h.charset,h.charStrings.count,h.strings,h.isCIDFont);q.setEntryLocation("charset",[g.length],g),g.add(E);const U=this.compileCharStrings(h.charStrings);if(q.setEntryLocation("CharStrings",[g.length],g),g.add(U),h.isCIDFont){q.setEntryLocation("FDSelect",[g.length],g);const $=this.compileFDSelect(h.fdSelect);g.add($),V=this.compileTopDicts(h.fdArray,g.length,!0),q.setEntryLocation("FDArray",[g.length],g),g.add(V.output);const Q=V.trackers;this.compilePrivateDicts(h.fdArray,Q,g)}return this.compilePrivateDicts([h.topDict],[q],g),g.add([0]),g.data}encodeNumber(h){return Number.isInteger(h)?this.encodeInteger(h):this.encodeFloat(h)}static get EncodeFloatRegExp(){return(0,n.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(h){let g=h.toString();const k=A.EncodeFloatRegExp.exec(g);if(k){const v=parseFloat("1e"+((k[2]?+k[2]:0)+k[1].length));g=(Math.round(h*v)/v).toString()}let D="",T,V;for(T=0,V=g.length;T<V;++T){const v=g[T];v==="e"?D+=g[++T]==="-"?"c":"b":v==="."?D+="a":v==="-"?D+="e":D+=v}D+=D.length&1?"f":"ff";const q=[30];for(T=0,V=D.length;T<V;T+=2)q.push(parseInt(D.substring(T,T+2),16));return q}encodeInteger(h){let g;return h>=-107&&h<=107?g=[h+139]:h>=108&&h<=1131?(h-=108,g=[(h>>8)+247,h&255]):h>=-1131&&h<=-108?(h=-h-108,g=[(h>>8)+251,h&255]):h>=-32768&&h<=32767?g=[28,h>>8&255,h&255]:g=[29,h>>24&255,h>>16&255,h>>8&255,h&255],g}compileHeader(h){return[h.major,h.minor,4,h.offSize]}compileNameIndex(h){const g=new F;for(const k of h){const D=Math.min(k.length,127);let T=new Array(D);for(let V=0;V<D;V++){let q=k[V];(q<"!"||q>"~"||q==="["||q==="]"||q==="("||q===")"||q==="{"||q==="}"||q==="<"||q===">"||q==="/"||q==="%")&&(q="_"),T[V]=q}T=T.join(""),T===""&&(T="Bad_Font_Name"),g.add((0,n.stringToBytes)(T))}return this.compileIndex(g)}compileTopDicts(h,g,k){const D=[];let T=new F;for(const V of h){k&&(V.removeByName("CIDFontVersion"),V.removeByName("CIDFontRevision"),V.removeByName("CIDFontType"),V.removeByName("CIDCount"),V.removeByName("UIDBase"));const q=new d,v=this.compileDict(V,q);D.push(q),T.add(v),q.offset(g)}return T=this.compileIndex(T,D),{trackers:D,output:T}}compilePrivateDicts(h,g,k){for(let D=0,T=h.length;D<T;++D){const V=h[D],q=V.privateDict;if(!q||!V.hasName("Private"))throw new n.FormatError("There must be a private dictionary.");const v=new d,x=this.compileDict(q,v);let E=k.length;if(v.offset(E),x.length||(E=0),g[D].setEntryLocation("Private",[x.length,E],k),k.add(x),q.subrsIndex&&q.hasName("Subrs")){const U=this.compileIndex(q.subrsIndex);v.setEntryLocation("Subrs",[x.length],k),k.add(U)}}}compileDict(h,g){const k=[];for(const D of h.order){if(!(D in h.values))continue;let T=h.values[D],V=h.types[D];if(Array.isArray(V)||(V=[V]),Array.isArray(T)||(T=[T]),T.length!==0){for(let q=0,v=V.length;q<v;++q){const x=V[q],E=T[q];switch(x){case"num":case"sid":k.push(...this.encodeNumber(E));break;case"offset":const U=h.keyToNameMap[D];g.isTracking(U)||g.track(U,k.length),k.push(29,0,0,0,0);break;case"array":case"delta":k.push(...this.encodeNumber(E));for(let $=1,Q=T.length;$<Q;++$)k.push(...this.encodeNumber(T[$]));break;default:throw new n.FormatError(`Unknown data type of ${x}`)}}k.push(...h.opcodes[D])}}return k}compileStringIndex(h){const g=new F;for(const k of h)g.add((0,n.stringToBytes)(k));return this.compileIndex(g)}compileCharStrings(h){const g=new F;for(let k=0;k<h.count;k++){const D=h.get(k);if(D.length===0){g.add(new Uint8Array([139,14]));continue}g.add(D)}return this.compileIndex(g)}compileCharset(h,g,k,D){let T;const V=g-1;if(D)T=new Uint8Array([2,0,0,V>>8&255,V&255]);else{const q=1+V*2;T=new Uint8Array(q),T[0]=0;let v=0;const x=h.charset.length;let E=!1;for(let U=1;U<T.length;U+=2){let $=0;if(v<x){const Q=h.charset[v++];$=k.getSID(Q),$===-1&&($=0,E||(E=!0,(0,n.warn)(`Couldn't find ${Q} in CFF strings`)))}T[U]=$>>8&255,T[U+1]=$&255}}return this.compileTypedArray(T)}compileEncoding(h){return this.compileTypedArray(h.raw)}compileFDSelect(h){const g=h.format;let k,D;switch(g){case 0:for(k=new Uint8Array(1+h.fdSelect.length),k[0]=g,D=0;D<h.fdSelect.length;D++)k[D+1]=h.fdSelect[D];break;case 3:const T=0;let V=h.fdSelect[0];const q=[g,0,0,T>>8&255,T&255,V];for(D=1;D<h.fdSelect.length;D++){const x=h.fdSelect[D];x!==V&&(q.push(D>>8&255,D&255,x),V=x)}const v=(q.length-3)/3;q[1]=v>>8&255,q[2]=v&255,q.push(D>>8&255,D&255),k=new Uint8Array(q);break}return this.compileTypedArray(k)}compileTypedArray(h){return Array.from(h)}compileIndex(h,g=[]){const k=h.objects,D=k.length;if(D===0)return[0,0];const T=[D>>8&255,D&255];let V=1,q;for(q=0;q<D;++q)V+=k[q].length;let v;V<256?v=1:V<65536?v=2:V<16777216?v=3:v=4,T.push(v);let x=1;for(q=0;q<D+1;q++)v===1?T.push(x&255):v===2?T.push(x>>8&255,x&255):v===3?T.push(x>>16&255,x>>8&255,x&255):T.push(x>>>24&255,x>>16&255,x>>8&255,x&255),k[q]&&(x+=k[q].length);for(q=0;q<D;q++)g[q]&&g[q].offset(T.length),T.push(...k[q]);return T}}S.CFFCompiler=A},(fe,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.ISOAdobeCharset=S.ExpertSubsetCharset=S.ExpertCharset=void 0;const ee=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"];S.ISOAdobeCharset=ee;const n=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];S.ExpertCharset=n;const l=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"];S.ExpertSubsetCharset=l},(fe,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.ZapfDingbatsEncoding=S.WinAnsiEncoding=S.SymbolSetEncoding=S.StandardEncoding=S.MacRomanEncoding=S.ExpertEncoding=void 0,S.getEncoding=z;const ee=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];S.ExpertEncoding=ee;const n=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],l=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];S.MacRomanEncoding=l;const K=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];S.StandardEncoding=K;const e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];S.WinAnsiEncoding=e;const t=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];S.SymbolSetEncoding=t;const H=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];S.ZapfDingbatsEncoding=H;function z(G){switch(G){case"WinAnsiEncoding":return e;case"StandardEncoding":return K;case"MacRomanEncoding":return l;case"SymbolSetEncoding":return t;case"ZapfDingbatsEncoding":return H;case"ExpertEncoding":return ee;case"MacExpertEncoding":return n;default:return null}}},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.SEAC_ANALYSIS_ENABLED=S.MacStandardGlyphOrdering=S.FontFlags=void 0,S.normalizeFontName=C,S.recoverGlyphName=G,S.type1FontGlyphMapping=I;var n=ee(37),l=ee(39),K=ee(40),e=ee(2);const t=!0;S.SEAC_ANALYSIS_ENABLED=t;const H={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};S.FontFlags=H;const z=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];S.MacStandardGlyphOrdering=z;function G(w,i){if(i[w]!==void 0)return w;const F=(0,K.getUnicodeForGlyph)(w,i);if(F!==-1){for(const B in i)if(i[B]===F)return B}return(0,e.info)("Unable to recover a standard glyph name for: "+w),w}function I(w,i,F){const B=Object.create(null);let u,s,o;const y=!!(w.flags&H.Symbolic);if(w.isInternalFont)for(o=i,s=0;s<o.length;s++)u=F.indexOf(o[s]),u>=0?B[s]=u:B[s]=0;else if(w.baseEncodingName)for(o=(0,n.getEncoding)(w.baseEncodingName),s=0;s<o.length;s++)u=F.indexOf(o[s]),u>=0?B[s]=u:B[s]=0;else if(y)for(s in i)B[s]=i[s];else for(o=n.StandardEncoding,s=0;s<o.length;s++)u=F.indexOf(o[s]),u>=0?B[s]=u:B[s]=0;const r=w.differences;let f;if(r)for(s in r){const m=r[s];if(u=F.indexOf(m),u===-1){f||(f=(0,l.getGlyphsUnicode)());const P=G(m,f);P!==m&&(u=F.indexOf(P))}u>=0?B[s]=u:B[s]=0}return B}function C(w){return w.replaceAll(/[,_]/g,"-").replaceAll(/\s/g,"")}},(fe,S,ee)=>{ee.r(S),ee.d(S,{getDingbatsGlyphsUnicode:()=>K,getGlyphsUnicode:()=>l});var n=ee(3);const l=(0,n.getLookupTableFactory)(function(e){e.A=65,e.AE=198,e.AEacute=508,e.AEmacron=482,e.AEsmall=63462,e.Aacute=193,e.Aacutesmall=63457,e.Abreve=258,e.Abreveacute=7854,e.Abrevecyrillic=1232,e.Abrevedotbelow=7862,e.Abrevegrave=7856,e.Abrevehookabove=7858,e.Abrevetilde=7860,e.Acaron=461,e.Acircle=9398,e.Acircumflex=194,e.Acircumflexacute=7844,e.Acircumflexdotbelow=7852,e.Acircumflexgrave=7846,e.Acircumflexhookabove=7848,e.Acircumflexsmall=63458,e.Acircumflextilde=7850,e.Acute=63177,e.Acutesmall=63412,e.Acyrillic=1040,e.Adblgrave=512,e.Adieresis=196,e.Adieresiscyrillic=1234,e.Adieresismacron=478,e.Adieresissmall=63460,e.Adotbelow=7840,e.Adotmacron=480,e.Agrave=192,e.Agravesmall=63456,e.Ahookabove=7842,e.Aiecyrillic=1236,e.Ainvertedbreve=514,e.Alpha=913,e.Alphatonos=902,e.Amacron=256,e.Amonospace=65313,e.Aogonek=260,e.Aring=197,e.Aringacute=506,e.Aringbelow=7680,e.Aringsmall=63461,e.Asmall=63329,e.Atilde=195,e.Atildesmall=63459,e.Aybarmenian=1329,e.B=66,e.Bcircle=9399,e.Bdotaccent=7682,e.Bdotbelow=7684,e.Becyrillic=1041,e.Benarmenian=1330,e.Beta=914,e.Bhook=385,e.Blinebelow=7686,e.Bmonospace=65314,e.Brevesmall=63220,e.Bsmall=63330,e.Btopbar=386,e.C=67,e.Caarmenian=1342,e.Cacute=262,e.Caron=63178,e.Caronsmall=63221,e.Ccaron=268,e.Ccedilla=199,e.Ccedillaacute=7688,e.Ccedillasmall=63463,e.Ccircle=9400,e.Ccircumflex=264,e.Cdot=266,e.Cdotaccent=266,e.Cedillasmall=63416,e.Chaarmenian=1353,e.Cheabkhasiancyrillic=1212,e.Checyrillic=1063,e.Chedescenderabkhasiancyrillic=1214,e.Chedescendercyrillic=1206,e.Chedieresiscyrillic=1268,e.Cheharmenian=1347,e.Chekhakassiancyrillic=1227,e.Cheverticalstrokecyrillic=1208,e.Chi=935,e.Chook=391,e.Circumflexsmall=63222,e.Cmonospace=65315,e.Coarmenian=1361,e.Csmall=63331,e.D=68,e.DZ=497,e.DZcaron=452,e.Daarmenian=1332,e.Dafrican=393,e.Dcaron=270,e.Dcedilla=7696,e.Dcircle=9401,e.Dcircumflexbelow=7698,e.Dcroat=272,e.Ddotaccent=7690,e.Ddotbelow=7692,e.Decyrillic=1044,e.Deicoptic=1006,e.Delta=8710,e.Deltagreek=916,e.Dhook=394,e.Dieresis=63179,e.DieresisAcute=63180,e.DieresisGrave=63181,e.Dieresissmall=63400,e.Digammagreek=988,e.Djecyrillic=1026,e.Dlinebelow=7694,e.Dmonospace=65316,e.Dotaccentsmall=63223,e.Dslash=272,e.Dsmall=63332,e.Dtopbar=395,e.Dz=498,e.Dzcaron=453,e.Dzeabkhasiancyrillic=1248,e.Dzecyrillic=1029,e.Dzhecyrillic=1039,e.E=69,e.Eacute=201,e.Eacutesmall=63465,e.Ebreve=276,e.Ecaron=282,e.Ecedillabreve=7708,e.Echarmenian=1333,e.Ecircle=9402,e.Ecircumflex=202,e.Ecircumflexacute=7870,e.Ecircumflexbelow=7704,e.Ecircumflexdotbelow=7878,e.Ecircumflexgrave=7872,e.Ecircumflexhookabove=7874,e.Ecircumflexsmall=63466,e.Ecircumflextilde=7876,e.Ecyrillic=1028,e.Edblgrave=516,e.Edieresis=203,e.Edieresissmall=63467,e.Edot=278,e.Edotaccent=278,e.Edotbelow=7864,e.Efcyrillic=1060,e.Egrave=200,e.Egravesmall=63464,e.Eharmenian=1335,e.Ehookabove=7866,e.Eightroman=8551,e.Einvertedbreve=518,e.Eiotifiedcyrillic=1124,e.Elcyrillic=1051,e.Elevenroman=8554,e.Emacron=274,e.Emacronacute=7702,e.Emacrongrave=7700,e.Emcyrillic=1052,e.Emonospace=65317,e.Encyrillic=1053,e.Endescendercyrillic=1186,e.Eng=330,e.Enghecyrillic=1188,e.Enhookcyrillic=1223,e.Eogonek=280,e.Eopen=400,e.Epsilon=917,e.Epsilontonos=904,e.Ercyrillic=1056,e.Ereversed=398,e.Ereversedcyrillic=1069,e.Escyrillic=1057,e.Esdescendercyrillic=1194,e.Esh=425,e.Esmall=63333,e.Eta=919,e.Etarmenian=1336,e.Etatonos=905,e.Eth=208,e.Ethsmall=63472,e.Etilde=7868,e.Etildebelow=7706,e.Euro=8364,e.Ezh=439,e.Ezhcaron=494,e.Ezhreversed=440,e.F=70,e.Fcircle=9403,e.Fdotaccent=7710,e.Feharmenian=1366,e.Feicoptic=996,e.Fhook=401,e.Fitacyrillic=1138,e.Fiveroman=8548,e.Fmonospace=65318,e.Fourroman=8547,e.Fsmall=63334,e.G=71,e.GBsquare=13191,e.Gacute=500,e.Gamma=915,e.Gammaafrican=404,e.Gangiacoptic=1002,e.Gbreve=286,e.Gcaron=486,e.Gcedilla=290,e.Gcircle=9404,e.Gcircumflex=284,e.Gcommaaccent=290,e.Gdot=288,e.Gdotaccent=288,e.Gecyrillic=1043,e.Ghadarmenian=1346,e.Ghemiddlehookcyrillic=1172,e.Ghestrokecyrillic=1170,e.Gheupturncyrillic=1168,e.Ghook=403,e.Gimarmenian=1331,e.Gjecyrillic=1027,e.Gmacron=7712,e.Gmonospace=65319,e.Grave=63182,e.Gravesmall=63328,e.Gsmall=63335,e.Gsmallhook=667,e.Gstroke=484,e.H=72,e.H18533=9679,e.H18543=9642,e.H18551=9643,e.H22073=9633,e.HPsquare=13259,e.Haabkhasiancyrillic=1192,e.Hadescendercyrillic=1202,e.Hardsigncyrillic=1066,e.Hbar=294,e.Hbrevebelow=7722,e.Hcedilla=7720,e.Hcircle=9405,e.Hcircumflex=292,e.Hdieresis=7718,e.Hdotaccent=7714,e.Hdotbelow=7716,e.Hmonospace=65320,e.Hoarmenian=1344,e.Horicoptic=1e3,e.Hsmall=63336,e.Hungarumlaut=63183,e.Hungarumlautsmall=63224,e.Hzsquare=13200,e.I=73,e.IAcyrillic=1071,e.IJ=306,e.IUcyrillic=1070,e.Iacute=205,e.Iacutesmall=63469,e.Ibreve=300,e.Icaron=463,e.Icircle=9406,e.Icircumflex=206,e.Icircumflexsmall=63470,e.Icyrillic=1030,e.Idblgrave=520,e.Idieresis=207,e.Idieresisacute=7726,e.Idieresiscyrillic=1252,e.Idieresissmall=63471,e.Idot=304,e.Idotaccent=304,e.Idotbelow=7882,e.Iebrevecyrillic=1238,e.Iecyrillic=1045,e.Ifraktur=8465,e.Igrave=204,e.Igravesmall=63468,e.Ihookabove=7880,e.Iicyrillic=1048,e.Iinvertedbreve=522,e.Iishortcyrillic=1049,e.Imacron=298,e.Imacroncyrillic=1250,e.Imonospace=65321,e.Iniarmenian=1339,e.Iocyrillic=1025,e.Iogonek=302,e.Iota=921,e.Iotaafrican=406,e.Iotadieresis=938,e.Iotatonos=906,e.Ismall=63337,e.Istroke=407,e.Itilde=296,e.Itildebelow=7724,e.Izhitsacyrillic=1140,e.Izhitsadblgravecyrillic=1142,e.J=74,e.Jaarmenian=1345,e.Jcircle=9407,e.Jcircumflex=308,e.Jecyrillic=1032,e.Jheharmenian=1355,e.Jmonospace=65322,e.Jsmall=63338,e.K=75,e.KBsquare=13189,e.KKsquare=13261,e.Kabashkircyrillic=1184,e.Kacute=7728,e.Kacyrillic=1050,e.Kadescendercyrillic=1178,e.Kahookcyrillic=1219,e.Kappa=922,e.Kastrokecyrillic=1182,e.Kaverticalstrokecyrillic=1180,e.Kcaron=488,e.Kcedilla=310,e.Kcircle=9408,e.Kcommaaccent=310,e.Kdotbelow=7730,e.Keharmenian=1364,e.Kenarmenian=1343,e.Khacyrillic=1061,e.Kheicoptic=998,e.Khook=408,e.Kjecyrillic=1036,e.Klinebelow=7732,e.Kmonospace=65323,e.Koppacyrillic=1152,e.Koppagreek=990,e.Ksicyrillic=1134,e.Ksmall=63339,e.L=76,e.LJ=455,e.LL=63167,e.Lacute=313,e.Lambda=923,e.Lcaron=317,e.Lcedilla=315,e.Lcircle=9409,e.Lcircumflexbelow=7740,e.Lcommaaccent=315,e.Ldot=319,e.Ldotaccent=319,e.Ldotbelow=7734,e.Ldotbelowmacron=7736,e.Liwnarmenian=1340,e.Lj=456,e.Ljecyrillic=1033,e.Llinebelow=7738,e.Lmonospace=65324,e.Lslash=321,e.Lslashsmall=63225,e.Lsmall=63340,e.M=77,e.MBsquare=13190,e.Macron=63184,e.Macronsmall=63407,e.Macute=7742,e.Mcircle=9410,e.Mdotaccent=7744,e.Mdotbelow=7746,e.Menarmenian=1348,e.Mmonospace=65325,e.Msmall=63341,e.Mturned=412,e.Mu=924,e.N=78,e.NJ=458,e.Nacute=323,e.Ncaron=327,e.Ncedilla=325,e.Ncircle=9411,e.Ncircumflexbelow=7754,e.Ncommaaccent=325,e.Ndotaccent=7748,e.Ndotbelow=7750,e.Nhookleft=413,e.Nineroman=8552,e.Nj=459,e.Njecyrillic=1034,e.Nlinebelow=7752,e.Nmonospace=65326,e.Nowarmenian=1350,e.Nsmall=63342,e.Ntilde=209,e.Ntildesmall=63473,e.Nu=925,e.O=79,e.OE=338,e.OEsmall=63226,e.Oacute=211,e.Oacutesmall=63475,e.Obarredcyrillic=1256,e.Obarreddieresiscyrillic=1258,e.Obreve=334,e.Ocaron=465,e.Ocenteredtilde=415,e.Ocircle=9412,e.Ocircumflex=212,e.Ocircumflexacute=7888,e.Ocircumflexdotbelow=7896,e.Ocircumflexgrave=7890,e.Ocircumflexhookabove=7892,e.Ocircumflexsmall=63476,e.Ocircumflextilde=7894,e.Ocyrillic=1054,e.Odblacute=336,e.Odblgrave=524,e.Odieresis=214,e.Odieresiscyrillic=1254,e.Odieresissmall=63478,e.Odotbelow=7884,e.Ogoneksmall=63227,e.Ograve=210,e.Ogravesmall=63474,e.Oharmenian=1365,e.Ohm=8486,e.Ohookabove=7886,e.Ohorn=416,e.Ohornacute=7898,e.Ohorndotbelow=7906,e.Ohorngrave=7900,e.Ohornhookabove=7902,e.Ohorntilde=7904,e.Ohungarumlaut=336,e.Oi=418,e.Oinvertedbreve=526,e.Omacron=332,e.Omacronacute=7762,e.Omacrongrave=7760,e.Omega=8486,e.Omegacyrillic=1120,e.Omegagreek=937,e.Omegaroundcyrillic=1146,e.Omegatitlocyrillic=1148,e.Omegatonos=911,e.Omicron=927,e.Omicrontonos=908,e.Omonospace=65327,e.Oneroman=8544,e.Oogonek=490,e.Oogonekmacron=492,e.Oopen=390,e.Oslash=216,e.Oslashacute=510,e.Oslashsmall=63480,e.Osmall=63343,e.Ostrokeacute=510,e.Otcyrillic=1150,e.Otilde=213,e.Otildeacute=7756,e.Otildedieresis=7758,e.Otildesmall=63477,e.P=80,e.Pacute=7764,e.Pcircle=9413,e.Pdotaccent=7766,e.Pecyrillic=1055,e.Peharmenian=1354,e.Pemiddlehookcyrillic=1190,e.Phi=934,e.Phook=420,e.Pi=928,e.Piwrarmenian=1363,e.Pmonospace=65328,e.Psi=936,e.Psicyrillic=1136,e.Psmall=63344,e.Q=81,e.Qcircle=9414,e.Qmonospace=65329,e.Qsmall=63345,e.R=82,e.Raarmenian=1356,e.Racute=340,e.Rcaron=344,e.Rcedilla=342,e.Rcircle=9415,e.Rcommaaccent=342,e.Rdblgrave=528,e.Rdotaccent=7768,e.Rdotbelow=7770,e.Rdotbelowmacron=7772,e.Reharmenian=1360,e.Rfraktur=8476,e.Rho=929,e.Ringsmall=63228,e.Rinvertedbreve=530,e.Rlinebelow=7774,e.Rmonospace=65330,e.Rsmall=63346,e.Rsmallinverted=641,e.Rsmallinvertedsuperior=694,e.S=83,e.SF010000=9484,e.SF020000=9492,e.SF030000=9488,e.SF040000=9496,e.SF050000=9532,e.SF060000=9516,e.SF070000=9524,e.SF080000=9500,e.SF090000=9508,e.SF100000=9472,e.SF110000=9474,e.SF190000=9569,e.SF200000=9570,e.SF210000=9558,e.SF220000=9557,e.SF230000=9571,e.SF240000=9553,e.SF250000=9559,e.SF260000=9565,e.SF270000=9564,e.SF280000=9563,e.SF360000=9566,e.SF370000=9567,e.SF380000=9562,e.SF390000=9556,e.SF400000=9577,e.SF410000=9574,e.SF420000=9568,e.SF430000=9552,e.SF440000=9580,e.SF450000=9575,e.SF460000=9576,e.SF470000=9572,e.SF480000=9573,e.SF490000=9561,e.SF500000=9560,e.SF510000=9554,e.SF520000=9555,e.SF530000=9579,e.SF540000=9578,e.Sacute=346,e.Sacutedotaccent=7780,e.Sampigreek=992,e.Scaron=352,e.Scarondotaccent=7782,e.Scaronsmall=63229,e.Scedilla=350,e.Schwa=399,e.Schwacyrillic=1240,e.Schwadieresiscyrillic=1242,e.Scircle=9416,e.Scircumflex=348,e.Scommaaccent=536,e.Sdotaccent=7776,e.Sdotbelow=7778,e.Sdotbelowdotaccent=7784,e.Seharmenian=1357,e.Sevenroman=8550,e.Shaarmenian=1351,e.Shacyrillic=1064,e.Shchacyrillic=1065,e.Sheicoptic=994,e.Shhacyrillic=1210,e.Shimacoptic=1004,e.Sigma=931,e.Sixroman=8549,e.Smonospace=65331,e.Softsigncyrillic=1068,e.Ssmall=63347,e.Stigmagreek=986,e.T=84,e.Tau=932,e.Tbar=358,e.Tcaron=356,e.Tcedilla=354,e.Tcircle=9417,e.Tcircumflexbelow=7792,e.Tcommaaccent=354,e.Tdotaccent=7786,e.Tdotbelow=7788,e.Tecyrillic=1058,e.Tedescendercyrillic=1196,e.Tenroman=8553,e.Tetsecyrillic=1204,e.Theta=920,e.Thook=428,e.Thorn=222,e.Thornsmall=63486,e.Threeroman=8546,e.Tildesmall=63230,e.Tiwnarmenian=1359,e.Tlinebelow=7790,e.Tmonospace=65332,e.Toarmenian=1337,e.Tonefive=444,e.Tonesix=388,e.Tonetwo=423,e.Tretroflexhook=430,e.Tsecyrillic=1062,e.Tshecyrillic=1035,e.Tsmall=63348,e.Twelveroman=8555,e.Tworoman=8545,e.U=85,e.Uacute=218,e.Uacutesmall=63482,e.Ubreve=364,e.Ucaron=467,e.Ucircle=9418,e.Ucircumflex=219,e.Ucircumflexbelow=7798,e.Ucircumflexsmall=63483,e.Ucyrillic=1059,e.Udblacute=368,e.Udblgrave=532,e.Udieresis=220,e.Udieresisacute=471,e.Udieresisbelow=7794,e.Udieresiscaron=473,e.Udieresiscyrillic=1264,e.Udieresisgrave=475,e.Udieresismacron=469,e.Udieresissmall=63484,e.Udotbelow=7908,e.Ugrave=217,e.Ugravesmall=63481,e.Uhookabove=7910,e.Uhorn=431,e.Uhornacute=7912,e.Uhorndotbelow=7920,e.Uhorngrave=7914,e.Uhornhookabove=7916,e.Uhorntilde=7918,e.Uhungarumlaut=368,e.Uhungarumlautcyrillic=1266,e.Uinvertedbreve=534,e.Ukcyrillic=1144,e.Umacron=362,e.Umacroncyrillic=1262,e.Umacrondieresis=7802,e.Umonospace=65333,e.Uogonek=370,e.Upsilon=933,e.Upsilon1=978,e.Upsilonacutehooksymbolgreek=979,e.Upsilonafrican=433,e.Upsilondieresis=939,e.Upsilondieresishooksymbolgreek=980,e.Upsilonhooksymbol=978,e.Upsilontonos=910,e.Uring=366,e.Ushortcyrillic=1038,e.Usmall=63349,e.Ustraightcyrillic=1198,e.Ustraightstrokecyrillic=1200,e.Utilde=360,e.Utildeacute=7800,e.Utildebelow=7796,e.V=86,e.Vcircle=9419,e.Vdotbelow=7806,e.Vecyrillic=1042,e.Vewarmenian=1358,e.Vhook=434,e.Vmonospace=65334,e.Voarmenian=1352,e.Vsmall=63350,e.Vtilde=7804,e.W=87,e.Wacute=7810,e.Wcircle=9420,e.Wcircumflex=372,e.Wdieresis=7812,e.Wdotaccent=7814,e.Wdotbelow=7816,e.Wgrave=7808,e.Wmonospace=65335,e.Wsmall=63351,e.X=88,e.Xcircle=9421,e.Xdieresis=7820,e.Xdotaccent=7818,e.Xeharmenian=1341,e.Xi=926,e.Xmonospace=65336,e.Xsmall=63352,e.Y=89,e.Yacute=221,e.Yacutesmall=63485,e.Yatcyrillic=1122,e.Ycircle=9422,e.Ycircumflex=374,e.Ydieresis=376,e.Ydieresissmall=63487,e.Ydotaccent=7822,e.Ydotbelow=7924,e.Yericyrillic=1067,e.Yerudieresiscyrillic=1272,e.Ygrave=7922,e.Yhook=435,e.Yhookabove=7926,e.Yiarmenian=1349,e.Yicyrillic=1031,e.Yiwnarmenian=1362,e.Ymonospace=65337,e.Ysmall=63353,e.Ytilde=7928,e.Yusbigcyrillic=1130,e.Yusbigiotifiedcyrillic=1132,e.Yuslittlecyrillic=1126,e.Yuslittleiotifiedcyrillic=1128,e.Z=90,e.Zaarmenian=1334,e.Zacute=377,e.Zcaron=381,e.Zcaronsmall=63231,e.Zcircle=9423,e.Zcircumflex=7824,e.Zdot=379,e.Zdotaccent=379,e.Zdotbelow=7826,e.Zecyrillic=1047,e.Zedescendercyrillic=1176,e.Zedieresiscyrillic=1246,e.Zeta=918,e.Zhearmenian=1338,e.Zhebrevecyrillic=1217,e.Zhecyrillic=1046,e.Zhedescendercyrillic=1174,e.Zhedieresiscyrillic=1244,e.Zlinebelow=7828,e.Zmonospace=65338,e.Zsmall=63354,e.Zstroke=437,e.a=97,e.aabengali=2438,e.aacute=225,e.aadeva=2310,e.aagujarati=2694,e.aagurmukhi=2566,e.aamatragurmukhi=2622,e.aarusquare=13059,e.aavowelsignbengali=2494,e.aavowelsigndeva=2366,e.aavowelsigngujarati=2750,e.abbreviationmarkarmenian=1375,e.abbreviationsigndeva=2416,e.abengali=2437,e.abopomofo=12570,e.abreve=259,e.abreveacute=7855,e.abrevecyrillic=1233,e.abrevedotbelow=7863,e.abrevegrave=7857,e.abrevehookabove=7859,e.abrevetilde=7861,e.acaron=462,e.acircle=9424,e.acircumflex=226,e.acircumflexacute=7845,e.acircumflexdotbelow=7853,e.acircumflexgrave=7847,e.acircumflexhookabove=7849,e.acircumflextilde=7851,e.acute=180,e.acutebelowcmb=791,e.acutecmb=769,e.acutecomb=769,e.acutedeva=2388,e.acutelowmod=719,e.acutetonecmb=833,e.acyrillic=1072,e.adblgrave=513,e.addakgurmukhi=2673,e.adeva=2309,e.adieresis=228,e.adieresiscyrillic=1235,e.adieresismacron=479,e.adotbelow=7841,e.adotmacron=481,e.ae=230,e.aeacute=509,e.aekorean=12624,e.aemacron=483,e.afii00208=8213,e.afii08941=8356,e.afii10017=1040,e.afii10018=1041,e.afii10019=1042,e.afii10020=1043,e.afii10021=1044,e.afii10022=1045,e.afii10023=1025,e.afii10024=1046,e.afii10025=1047,e.afii10026=1048,e.afii10027=1049,e.afii10028=1050,e.afii10029=1051,e.afii10030=1052,e.afii10031=1053,e.afii10032=1054,e.afii10033=1055,e.afii10034=1056,e.afii10035=1057,e.afii10036=1058,e.afii10037=1059,e.afii10038=1060,e.afii10039=1061,e.afii10040=1062,e.afii10041=1063,e.afii10042=1064,e.afii10043=1065,e.afii10044=1066,e.afii10045=1067,e.afii10046=1068,e.afii10047=1069,e.afii10048=1070,e.afii10049=1071,e.afii10050=1168,e.afii10051=1026,e.afii10052=1027,e.afii10053=1028,e.afii10054=1029,e.afii10055=1030,e.afii10056=1031,e.afii10057=1032,e.afii10058=1033,e.afii10059=1034,e.afii10060=1035,e.afii10061=1036,e.afii10062=1038,e.afii10063=63172,e.afii10064=63173,e.afii10065=1072,e.afii10066=1073,e.afii10067=1074,e.afii10068=1075,e.afii10069=1076,e.afii10070=1077,e.afii10071=1105,e.afii10072=1078,e.afii10073=1079,e.afii10074=1080,e.afii10075=1081,e.afii10076=1082,e.afii10077=1083,e.afii10078=1084,e.afii10079=1085,e.afii10080=1086,e.afii10081=1087,e.afii10082=1088,e.afii10083=1089,e.afii10084=1090,e.afii10085=1091,e.afii10086=1092,e.afii10087=1093,e.afii10088=1094,e.afii10089=1095,e.afii10090=1096,e.afii10091=1097,e.afii10092=1098,e.afii10093=1099,e.afii10094=1100,e.afii10095=1101,e.afii10096=1102,e.afii10097=1103,e.afii10098=1169,e.afii10099=1106,e.afii10100=1107,e.afii10101=1108,e.afii10102=1109,e.afii10103=1110,e.afii10104=1111,e.afii10105=1112,e.afii10106=1113,e.afii10107=1114,e.afii10108=1115,e.afii10109=1116,e.afii10110=1118,e.afii10145=1039,e.afii10146=1122,e.afii10147=1138,e.afii10148=1140,e.afii10192=63174,e.afii10193=1119,e.afii10194=1123,e.afii10195=1139,e.afii10196=1141,e.afii10831=63175,e.afii10832=63176,e.afii10846=1241,e.afii299=8206,e.afii300=8207,e.afii301=8205,e.afii57381=1642,e.afii57388=1548,e.afii57392=1632,e.afii57393=1633,e.afii57394=1634,e.afii57395=1635,e.afii57396=1636,e.afii57397=1637,e.afii57398=1638,e.afii57399=1639,e.afii57400=1640,e.afii57401=1641,e.afii57403=1563,e.afii57407=1567,e.afii57409=1569,e.afii57410=1570,e.afii57411=1571,e.afii57412=1572,e.afii57413=1573,e.afii57414=1574,e.afii57415=1575,e.afii57416=1576,e.afii57417=1577,e.afii57418=1578,e.afii57419=1579,e.afii57420=1580,e.afii57421=1581,e.afii57422=1582,e.afii57423=1583,e.afii57424=1584,e.afii57425=1585,e.afii57426=1586,e.afii57427=1587,e.afii57428=1588,e.afii57429=1589,e.afii57430=1590,e.afii57431=1591,e.afii57432=1592,e.afii57433=1593,e.afii57434=1594,e.afii57440=1600,e.afii57441=1601,e.afii57442=1602,e.afii57443=1603,e.afii57444=1604,e.afii57445=1605,e.afii57446=1606,e.afii57448=1608,e.afii57449=1609,e.afii57450=1610,e.afii57451=1611,e.afii57452=1612,e.afii57453=1613,e.afii57454=1614,e.afii57455=1615,e.afii57456=1616,e.afii57457=1617,e.afii57458=1618,e.afii57470=1607,e.afii57505=1700,e.afii57506=1662,e.afii57507=1670,e.afii57508=1688,e.afii57509=1711,e.afii57511=1657,e.afii57512=1672,e.afii57513=1681,e.afii57514=1722,e.afii57519=1746,e.afii57534=1749,e.afii57636=8362,e.afii57645=1470,e.afii57658=1475,e.afii57664=1488,e.afii57665=1489,e.afii57666=1490,e.afii57667=1491,e.afii57668=1492,e.afii57669=1493,e.afii57670=1494,e.afii57671=1495,e.afii57672=1496,e.afii57673=1497,e.afii57674=1498,e.afii57675=1499,e.afii57676=1500,e.afii57677=1501,e.afii57678=1502,e.afii57679=1503,e.afii57680=1504,e.afii57681=1505,e.afii57682=1506,e.afii57683=1507,e.afii57684=1508,e.afii57685=1509,e.afii57686=1510,e.afii57687=1511,e.afii57688=1512,e.afii57689=1513,e.afii57690=1514,e.afii57694=64298,e.afii57695=64299,e.afii57700=64331,e.afii57705=64287,e.afii57716=1520,e.afii57717=1521,e.afii57718=1522,e.afii57723=64309,e.afii57793=1460,e.afii57794=1461,e.afii57795=1462,e.afii57796=1467,e.afii57797=1464,e.afii57798=1463,e.afii57799=1456,e.afii57800=1458,e.afii57801=1457,e.afii57802=1459,e.afii57803=1474,e.afii57804=1473,e.afii57806=1465,e.afii57807=1468,e.afii57839=1469,e.afii57841=1471,e.afii57842=1472,e.afii57929=700,e.afii61248=8453,e.afii61289=8467,e.afii61352=8470,e.afii61573=8236,e.afii61574=8237,e.afii61575=8238,e.afii61664=8204,e.afii63167=1645,e.afii64937=701,e.agrave=224,e.agujarati=2693,e.agurmukhi=2565,e.ahiragana=12354,e.ahookabove=7843,e.aibengali=2448,e.aibopomofo=12574,e.aideva=2320,e.aiecyrillic=1237,e.aigujarati=2704,e.aigurmukhi=2576,e.aimatragurmukhi=2632,e.ainarabic=1593,e.ainfinalarabic=65226,e.aininitialarabic=65227,e.ainmedialarabic=65228,e.ainvertedbreve=515,e.aivowelsignbengali=2504,e.aivowelsigndeva=2376,e.aivowelsigngujarati=2760,e.akatakana=12450,e.akatakanahalfwidth=65393,e.akorean=12623,e.alef=1488,e.alefarabic=1575,e.alefdageshhebrew=64304,e.aleffinalarabic=65166,e.alefhamzaabovearabic=1571,e.alefhamzaabovefinalarabic=65156,e.alefhamzabelowarabic=1573,e.alefhamzabelowfinalarabic=65160,e.alefhebrew=1488,e.aleflamedhebrew=64335,e.alefmaddaabovearabic=1570,e.alefmaddaabovefinalarabic=65154,e.alefmaksuraarabic=1609,e.alefmaksurafinalarabic=65264,e.alefmaksurainitialarabic=65267,e.alefmaksuramedialarabic=65268,e.alefpatahhebrew=64302,e.alefqamatshebrew=64303,e.aleph=8501,e.allequal=8780,e.alpha=945,e.alphatonos=940,e.amacron=257,e.amonospace=65345,e.ampersand=38,e.ampersandmonospace=65286,e.ampersandsmall=63270,e.amsquare=13250,e.anbopomofo=12578,e.angbopomofo=12580,e.angbracketleft=12296,e.angbracketright=12297,e.angkhankhuthai=3674,e.angle=8736,e.anglebracketleft=12296,e.anglebracketleftvertical=65087,e.anglebracketright=12297,e.anglebracketrightvertical=65088,e.angleleft=9001,e.angleright=9002,e.angstrom=8491,e.anoteleia=903,e.anudattadeva=2386,e.anusvarabengali=2434,e.anusvaradeva=2306,e.anusvaragujarati=2690,e.aogonek=261,e.apaatosquare=13056,e.aparen=9372,e.apostrophearmenian=1370,e.apostrophemod=700,e.apple=63743,e.approaches=8784,e.approxequal=8776,e.approxequalorimage=8786,e.approximatelyequal=8773,e.araeaekorean=12686,e.araeakorean=12685,e.arc=8978,e.arighthalfring=7834,e.aring=229,e.aringacute=507,e.aringbelow=7681,e.arrowboth=8596,e.arrowdashdown=8675,e.arrowdashleft=8672,e.arrowdashright=8674,e.arrowdashup=8673,e.arrowdblboth=8660,e.arrowdbldown=8659,e.arrowdblleft=8656,e.arrowdblright=8658,e.arrowdblup=8657,e.arrowdown=8595,e.arrowdownleft=8601,e.arrowdownright=8600,e.arrowdownwhite=8681,e.arrowheaddownmod=709,e.arrowheadleftmod=706,e.arrowheadrightmod=707,e.arrowheadupmod=708,e.arrowhorizex=63719,e.arrowleft=8592,e.arrowleftdbl=8656,e.arrowleftdblstroke=8653,e.arrowleftoverright=8646,e.arrowleftwhite=8678,e.arrowright=8594,e.arrowrightdblstroke=8655,e.arrowrightheavy=10142,e.arrowrightoverleft=8644,e.arrowrightwhite=8680,e.arrowtableft=8676,e.arrowtabright=8677,e.arrowup=8593,e.arrowupdn=8597,e.arrowupdnbse=8616,e.arrowupdownbase=8616,e.arrowupleft=8598,e.arrowupleftofdown=8645,e.arrowupright=8599,e.arrowupwhite=8679,e.arrowvertex=63718,e.asciicircum=94,e.asciicircummonospace=65342,e.asciitilde=126,e.asciitildemonospace=65374,e.ascript=593,e.ascriptturned=594,e.asmallhiragana=12353,e.asmallkatakana=12449,e.asmallkatakanahalfwidth=65383,e.asterisk=42,e.asteriskaltonearabic=1645,e.asteriskarabic=1645,e.asteriskmath=8727,e.asteriskmonospace=65290,e.asterisksmall=65121,e.asterism=8258,e.asuperior=63209,e.asymptoticallyequal=8771,e.at=64,e.atilde=227,e.atmonospace=65312,e.atsmall=65131,e.aturned=592,e.aubengali=2452,e.aubopomofo=12576,e.audeva=2324,e.augujarati=2708,e.augurmukhi=2580,e.aulengthmarkbengali=2519,e.aumatragurmukhi=2636,e.auvowelsignbengali=2508,e.auvowelsigndeva=2380,e.auvowelsigngujarati=2764,e.avagrahadeva=2365,e.aybarmenian=1377,e.ayin=1506,e.ayinaltonehebrew=64288,e.ayinhebrew=1506,e.b=98,e.babengali=2476,e.backslash=92,e.backslashmonospace=65340,e.badeva=2348,e.bagujarati=2732,e.bagurmukhi=2604,e.bahiragana=12400,e.bahtthai=3647,e.bakatakana=12496,e.bar=124,e.barmonospace=65372,e.bbopomofo=12549,e.bcircle=9425,e.bdotaccent=7683,e.bdotbelow=7685,e.beamedsixteenthnotes=9836,e.because=8757,e.becyrillic=1073,e.beharabic=1576,e.behfinalarabic=65168,e.behinitialarabic=65169,e.behiragana=12409,e.behmedialarabic=65170,e.behmeeminitialarabic=64671,e.behmeemisolatedarabic=64520,e.behnoonfinalarabic=64621,e.bekatakana=12505,e.benarmenian=1378,e.bet=1489,e.beta=946,e.betasymbolgreek=976,e.betdagesh=64305,e.betdageshhebrew=64305,e.bethebrew=1489,e.betrafehebrew=64332,e.bhabengali=2477,e.bhadeva=2349,e.bhagujarati=2733,e.bhagurmukhi=2605,e.bhook=595,e.bihiragana=12403,e.bikatakana=12499,e.bilabialclick=664,e.bindigurmukhi=2562,e.birusquare=13105,e.blackcircle=9679,e.blackdiamond=9670,e.blackdownpointingtriangle=9660,e.blackleftpointingpointer=9668,e.blackleftpointingtriangle=9664,e.blacklenticularbracketleft=12304,e.blacklenticularbracketleftvertical=65083,e.blacklenticularbracketright=12305,e.blacklenticularbracketrightvertical=65084,e.blacklowerlefttriangle=9699,e.blacklowerrighttriangle=9698,e.blackrectangle=9644,e.blackrightpointingpointer=9658,e.blackrightpointingtriangle=9654,e.blacksmallsquare=9642,e.blacksmilingface=9787,e.blacksquare=9632,e.blackstar=9733,e.blackupperlefttriangle=9700,e.blackupperrighttriangle=9701,e.blackuppointingsmalltriangle=9652,e.blackuppointingtriangle=9650,e.blank=9251,e.blinebelow=7687,e.block=9608,e.bmonospace=65346,e.bobaimaithai=3610,e.bohiragana=12412,e.bokatakana=12508,e.bparen=9373,e.bqsquare=13251,e.braceex=63732,e.braceleft=123,e.braceleftbt=63731,e.braceleftmid=63730,e.braceleftmonospace=65371,e.braceleftsmall=65115,e.bracelefttp=63729,e.braceleftvertical=65079,e.braceright=125,e.bracerightbt=63742,e.bracerightmid=63741,e.bracerightmonospace=65373,e.bracerightsmall=65116,e.bracerighttp=63740,e.bracerightvertical=65080,e.bracketleft=91,e.bracketleftbt=63728,e.bracketleftex=63727,e.bracketleftmonospace=65339,e.bracketlefttp=63726,e.bracketright=93,e.bracketrightbt=63739,e.bracketrightex=63738,e.bracketrightmonospace=65341,e.bracketrighttp=63737,e.breve=728,e.brevebelowcmb=814,e.brevecmb=774,e.breveinvertedbelowcmb=815,e.breveinvertedcmb=785,e.breveinverteddoublecmb=865,e.bridgebelowcmb=810,e.bridgeinvertedbelowcmb=826,e.brokenbar=166,e.bstroke=384,e.bsuperior=63210,e.btopbar=387,e.buhiragana=12406,e.bukatakana=12502,e.bullet=8226,e.bulletinverse=9688,e.bulletoperator=8729,e.bullseye=9678,e.c=99,e.caarmenian=1390,e.cabengali=2458,e.cacute=263,e.cadeva=2330,e.cagujarati=2714,e.cagurmukhi=2586,e.calsquare=13192,e.candrabindubengali=2433,e.candrabinducmb=784,e.candrabindudeva=2305,e.candrabindugujarati=2689,e.capslock=8682,e.careof=8453,e.caron=711,e.caronbelowcmb=812,e.caroncmb=780,e.carriagereturn=8629,e.cbopomofo=12568,e.ccaron=269,e.ccedilla=231,e.ccedillaacute=7689,e.ccircle=9426,e.ccircumflex=265,e.ccurl=597,e.cdot=267,e.cdotaccent=267,e.cdsquare=13253,e.cedilla=184,e.cedillacmb=807,e.cent=162,e.centigrade=8451,e.centinferior=63199,e.centmonospace=65504,e.centoldstyle=63394,e.centsuperior=63200,e.chaarmenian=1401,e.chabengali=2459,e.chadeva=2331,e.chagujarati=2715,e.chagurmukhi=2587,e.chbopomofo=12564,e.cheabkhasiancyrillic=1213,e.checkmark=10003,e.checyrillic=1095,e.chedescenderabkhasiancyrillic=1215,e.chedescendercyrillic=1207,e.chedieresiscyrillic=1269,e.cheharmenian=1395,e.chekhakassiancyrillic=1228,e.cheverticalstrokecyrillic=1209,e.chi=967,e.chieuchacirclekorean=12919,e.chieuchaparenkorean=12823,e.chieuchcirclekorean=12905,e.chieuchkorean=12618,e.chieuchparenkorean=12809,e.chochangthai=3594,e.chochanthai=3592,e.chochingthai=3593,e.chochoethai=3596,e.chook=392,e.cieucacirclekorean=12918,e.cieucaparenkorean=12822,e.cieuccirclekorean=12904,e.cieuckorean=12616,e.cieucparenkorean=12808,e.cieucuparenkorean=12828,e.circle=9675,e.circlecopyrt=169,e.circlemultiply=8855,e.circleot=8857,e.circleplus=8853,e.circlepostalmark=12342,e.circlewithlefthalfblack=9680,e.circlewithrighthalfblack=9681,e.circumflex=710,e.circumflexbelowcmb=813,e.circumflexcmb=770,e.clear=8999,e.clickalveolar=450,e.clickdental=448,e.clicklateral=449,e.clickretroflex=451,e.club=9827,e.clubsuitblack=9827,e.clubsuitwhite=9831,e.cmcubedsquare=13220,e.cmonospace=65347,e.cmsquaredsquare=13216,e.coarmenian=1409,e.colon=58,e.colonmonetary=8353,e.colonmonospace=65306,e.colonsign=8353,e.colonsmall=65109,e.colontriangularhalfmod=721,e.colontriangularmod=720,e.comma=44,e.commaabovecmb=787,e.commaaboverightcmb=789,e.commaaccent=63171,e.commaarabic=1548,e.commaarmenian=1373,e.commainferior=63201,e.commamonospace=65292,e.commareversedabovecmb=788,e.commareversedmod=701,e.commasmall=65104,e.commasuperior=63202,e.commaturnedabovecmb=786,e.commaturnedmod=699,e.compass=9788,e.congruent=8773,e.contourintegral=8750,e.control=8963,e.controlACK=6,e.controlBEL=7,e.controlBS=8,e.controlCAN=24,e.controlCR=13,e.controlDC1=17,e.controlDC2=18,e.controlDC3=19,e.controlDC4=20,e.controlDEL=127,e.controlDLE=16,e.controlEM=25,e.controlENQ=5,e.controlEOT=4,e.controlESC=27,e.controlETB=23,e.controlETX=3,e.controlFF=12,e.controlFS=28,e.controlGS=29,e.controlHT=9,e.controlLF=10,e.controlNAK=21,e.controlNULL=0,e.controlRS=30,e.controlSI=15,e.controlSO=14,e.controlSOT=2,e.controlSTX=1,e.controlSUB=26,e.controlSYN=22,e.controlUS=31,e.controlVT=11,e.copyright=169,e.copyrightsans=63721,e.copyrightserif=63193,e.cornerbracketleft=12300,e.cornerbracketlefthalfwidth=65378,e.cornerbracketleftvertical=65089,e.cornerbracketright=12301,e.cornerbracketrighthalfwidth=65379,e.cornerbracketrightvertical=65090,e.corporationsquare=13183,e.cosquare=13255,e.coverkgsquare=13254,e.cparen=9374,e.cruzeiro=8354,e.cstretched=663,e.curlyand=8911,e.curlyor=8910,e.currency=164,e.cyrBreve=63185,e.cyrFlex=63186,e.cyrbreve=63188,e.cyrflex=63189,e.d=100,e.daarmenian=1380,e.dabengali=2470,e.dadarabic=1590,e.dadeva=2342,e.dadfinalarabic=65214,e.dadinitialarabic=65215,e.dadmedialarabic=65216,e.dagesh=1468,e.dageshhebrew=1468,e.dagger=8224,e.daggerdbl=8225,e.dagujarati=2726,e.dagurmukhi=2598,e.dahiragana=12384,e.dakatakana=12480,e.dalarabic=1583,e.dalet=1491,e.daletdagesh=64307,e.daletdageshhebrew=64307,e.dalethebrew=1491,e.dalfinalarabic=65194,e.dammaarabic=1615,e.dammalowarabic=1615,e.dammatanaltonearabic=1612,e.dammatanarabic=1612,e.danda=2404,e.dargahebrew=1447,e.dargalefthebrew=1447,e.dasiapneumatacyrilliccmb=1157,e.dblGrave=63187,e.dblanglebracketleft=12298,e.dblanglebracketleftvertical=65085,e.dblanglebracketright=12299,e.dblanglebracketrightvertical=65086,e.dblarchinvertedbelowcmb=811,e.dblarrowleft=8660,e.dblarrowright=8658,e.dbldanda=2405,e.dblgrave=63190,e.dblgravecmb=783,e.dblintegral=8748,e.dbllowline=8215,e.dbllowlinecmb=819,e.dbloverlinecmb=831,e.dblprimemod=698,e.dblverticalbar=8214,e.dblverticallineabovecmb=782,e.dbopomofo=12553,e.dbsquare=13256,e.dcaron=271,e.dcedilla=7697,e.dcircle=9427,e.dcircumflexbelow=7699,e.dcroat=273,e.ddabengali=2465,e.ddadeva=2337,e.ddagujarati=2721,e.ddagurmukhi=2593,e.ddalarabic=1672,e.ddalfinalarabic=64393,e.dddhadeva=2396,e.ddhabengali=2466,e.ddhadeva=2338,e.ddhagujarati=2722,e.ddhagurmukhi=2594,e.ddotaccent=7691,e.ddotbelow=7693,e.decimalseparatorarabic=1643,e.decimalseparatorpersian=1643,e.decyrillic=1076,e.degree=176,e.dehihebrew=1453,e.dehiragana=12391,e.deicoptic=1007,e.dekatakana=12487,e.deleteleft=9003,e.deleteright=8998,e.delta=948,e.deltaturned=397,e.denominatorminusonenumeratorbengali=2552,e.dezh=676,e.dhabengali=2471,e.dhadeva=2343,e.dhagujarati=2727,e.dhagurmukhi=2599,e.dhook=599,e.dialytikatonos=901,e.dialytikatonoscmb=836,e.diamond=9830,e.diamondsuitwhite=9826,e.dieresis=168,e.dieresisacute=63191,e.dieresisbelowcmb=804,e.dieresiscmb=776,e.dieresisgrave=63192,e.dieresistonos=901,e.dihiragana=12386,e.dikatakana=12482,e.dittomark=12291,e.divide=247,e.divides=8739,e.divisionslash=8725,e.djecyrillic=1106,e.dkshade=9619,e.dlinebelow=7695,e.dlsquare=13207,e.dmacron=273,e.dmonospace=65348,e.dnblock=9604,e.dochadathai=3598,e.dodekthai=3604,e.dohiragana=12393,e.dokatakana=12489,e.dollar=36,e.dollarinferior=63203,e.dollarmonospace=65284,e.dollaroldstyle=63268,e.dollarsmall=65129,e.dollarsuperior=63204,e.dong=8363,e.dorusquare=13094,e.dotaccent=729,e.dotaccentcmb=775,e.dotbelowcmb=803,e.dotbelowcomb=803,e.dotkatakana=12539,e.dotlessi=305,e.dotlessj=63166,e.dotlessjstrokehook=644,e.dotmath=8901,e.dottedcircle=9676,e.doubleyodpatah=64287,e.doubleyodpatahhebrew=64287,e.downtackbelowcmb=798,e.downtackmod=725,e.dparen=9375,e.dsuperior=63211,e.dtail=598,e.dtopbar=396,e.duhiragana=12389,e.dukatakana=12485,e.dz=499,e.dzaltone=675,e.dzcaron=454,e.dzcurl=677,e.dzeabkhasiancyrillic=1249,e.dzecyrillic=1109,e.dzhecyrillic=1119,e.e=101,e.eacute=233,e.earth=9793,e.ebengali=2447,e.ebopomofo=12572,e.ebreve=277,e.ecandradeva=2317,e.ecandragujarati=2701,e.ecandravowelsigndeva=2373,e.ecandravowelsigngujarati=2757,e.ecaron=283,e.ecedillabreve=7709,e.echarmenian=1381,e.echyiwnarmenian=1415,e.ecircle=9428,e.ecircumflex=234,e.ecircumflexacute=7871,e.ecircumflexbelow=7705,e.ecircumflexdotbelow=7879,e.ecircumflexgrave=7873,e.ecircumflexhookabove=7875,e.ecircumflextilde=7877,e.ecyrillic=1108,e.edblgrave=517,e.edeva=2319,e.edieresis=235,e.edot=279,e.edotaccent=279,e.edotbelow=7865,e.eegurmukhi=2575,e.eematragurmukhi=2631,e.efcyrillic=1092,e.egrave=232,e.egujarati=2703,e.eharmenian=1383,e.ehbopomofo=12573,e.ehiragana=12360,e.ehookabove=7867,e.eibopomofo=12575,e.eight=56,e.eightarabic=1640,e.eightbengali=2542,e.eightcircle=9319,e.eightcircleinversesansserif=10129,e.eightdeva=2414,e.eighteencircle=9329,e.eighteenparen=9349,e.eighteenperiod=9369,e.eightgujarati=2798,e.eightgurmukhi=2670,e.eighthackarabic=1640,e.eighthangzhou=12328,e.eighthnotebeamed=9835,e.eightideographicparen=12839,e.eightinferior=8328,e.eightmonospace=65304,e.eightoldstyle=63288,e.eightparen=9339,e.eightperiod=9359,e.eightpersian=1784,e.eightroman=8567,e.eightsuperior=8312,e.eightthai=3672,e.einvertedbreve=519,e.eiotifiedcyrillic=1125,e.ekatakana=12456,e.ekatakanahalfwidth=65396,e.ekonkargurmukhi=2676,e.ekorean=12628,e.elcyrillic=1083,e.element=8712,e.elevencircle=9322,e.elevenparen=9342,e.elevenperiod=9362,e.elevenroman=8570,e.ellipsis=8230,e.ellipsisvertical=8942,e.emacron=275,e.emacronacute=7703,e.emacrongrave=7701,e.emcyrillic=1084,e.emdash=8212,e.emdashvertical=65073,e.emonospace=65349,e.emphasismarkarmenian=1371,e.emptyset=8709,e.enbopomofo=12579,e.encyrillic=1085,e.endash=8211,e.endashvertical=65074,e.endescendercyrillic=1187,e.eng=331,e.engbopomofo=12581,e.enghecyrillic=1189,e.enhookcyrillic=1224,e.enspace=8194,e.eogonek=281,e.eokorean=12627,e.eopen=603,e.eopenclosed=666,e.eopenreversed=604,e.eopenreversedclosed=606,e.eopenreversedhook=605,e.eparen=9376,e.epsilon=949,e.epsilontonos=941,e.equal=61,e.equalmonospace=65309,e.equalsmall=65126,e.equalsuperior=8316,e.equivalence=8801,e.erbopomofo=12582,e.ercyrillic=1088,e.ereversed=600,e.ereversedcyrillic=1101,e.escyrillic=1089,e.esdescendercyrillic=1195,e.esh=643,e.eshcurl=646,e.eshortdeva=2318,e.eshortvowelsigndeva=2374,e.eshreversedloop=426,e.eshsquatreversed=645,e.esmallhiragana=12359,e.esmallkatakana=12455,e.esmallkatakanahalfwidth=65386,e.estimated=8494,e.esuperior=63212,e.eta=951,e.etarmenian=1384,e.etatonos=942,e.eth=240,e.etilde=7869,e.etildebelow=7707,e.etnahtafoukhhebrew=1425,e.etnahtafoukhlefthebrew=1425,e.etnahtahebrew=1425,e.etnahtalefthebrew=1425,e.eturned=477,e.eukorean=12641,e.euro=8364,e.evowelsignbengali=2503,e.evowelsigndeva=2375,e.evowelsigngujarati=2759,e.exclam=33,e.exclamarmenian=1372,e.exclamdbl=8252,e.exclamdown=161,e.exclamdownsmall=63393,e.exclammonospace=65281,e.exclamsmall=63265,e.existential=8707,e.ezh=658,e.ezhcaron=495,e.ezhcurl=659,e.ezhreversed=441,e.ezhtail=442,e.f=102,e.fadeva=2398,e.fagurmukhi=2654,e.fahrenheit=8457,e.fathaarabic=1614,e.fathalowarabic=1614,e.fathatanarabic=1611,e.fbopomofo=12552,e.fcircle=9429,e.fdotaccent=7711,e.feharabic=1601,e.feharmenian=1414,e.fehfinalarabic=65234,e.fehinitialarabic=65235,e.fehmedialarabic=65236,e.feicoptic=997,e.female=9792,e.ff=64256,e.f_f=64256,e.ffi=64259,e.f_f_i=64259,e.ffl=64260,e.f_f_l=64260,e.fi=64257,e.f_i=64257,e.fifteencircle=9326,e.fifteenparen=9346,e.fifteenperiod=9366,e.figuredash=8210,e.filledbox=9632,e.filledrect=9644,e.finalkaf=1498,e.finalkafdagesh=64314,e.finalkafdageshhebrew=64314,e.finalkafhebrew=1498,e.finalmem=1501,e.finalmemhebrew=1501,e.finalnun=1503,e.finalnunhebrew=1503,e.finalpe=1507,e.finalpehebrew=1507,e.finaltsadi=1509,e.finaltsadihebrew=1509,e.firsttonechinese=713,e.fisheye=9673,e.fitacyrillic=1139,e.five=53,e.fivearabic=1637,e.fivebengali=2539,e.fivecircle=9316,e.fivecircleinversesansserif=10126,e.fivedeva=2411,e.fiveeighths=8541,e.fivegujarati=2795,e.fivegurmukhi=2667,e.fivehackarabic=1637,e.fivehangzhou=12325,e.fiveideographicparen=12836,e.fiveinferior=8325,e.fivemonospace=65301,e.fiveoldstyle=63285,e.fiveparen=9336,e.fiveperiod=9356,e.fivepersian=1781,e.fiveroman=8564,e.fivesuperior=8309,e.fivethai=3669,e.fl=64258,e.f_l=64258,e.florin=402,e.fmonospace=65350,e.fmsquare=13209,e.fofanthai=3615,e.fofathai=3613,e.fongmanthai=3663,e.forall=8704,e.four=52,e.fourarabic=1636,e.fourbengali=2538,e.fourcircle=9315,e.fourcircleinversesansserif=10125,e.fourdeva=2410,e.fourgujarati=2794,e.fourgurmukhi=2666,e.fourhackarabic=1636,e.fourhangzhou=12324,e.fourideographicparen=12835,e.fourinferior=8324,e.fourmonospace=65300,e.fournumeratorbengali=2551,e.fouroldstyle=63284,e.fourparen=9335,e.fourperiod=9355,e.fourpersian=1780,e.fourroman=8563,e.foursuperior=8308,e.fourteencircle=9325,e.fourteenparen=9345,e.fourteenperiod=9365,e.fourthai=3668,e.fourthtonechinese=715,e.fparen=9377,e.fraction=8260,e.franc=8355,e.g=103,e.gabengali=2455,e.gacute=501,e.gadeva=2327,e.gafarabic=1711,e.gaffinalarabic=64403,e.gafinitialarabic=64404,e.gafmedialarabic=64405,e.gagujarati=2711,e.gagurmukhi=2583,e.gahiragana=12364,e.gakatakana=12460,e.gamma=947,e.gammalatinsmall=611,e.gammasuperior=736,e.gangiacoptic=1003,e.gbopomofo=12557,e.gbreve=287,e.gcaron=487,e.gcedilla=291,e.gcircle=9430,e.gcircumflex=285,e.gcommaaccent=291,e.gdot=289,e.gdotaccent=289,e.gecyrillic=1075,e.gehiragana=12370,e.gekatakana=12466,e.geometricallyequal=8785,e.gereshaccenthebrew=1436,e.gereshhebrew=1523,e.gereshmuqdamhebrew=1437,e.germandbls=223,e.gershayimaccenthebrew=1438,e.gershayimhebrew=1524,e.getamark=12307,e.ghabengali=2456,e.ghadarmenian=1394,e.ghadeva=2328,e.ghagujarati=2712,e.ghagurmukhi=2584,e.ghainarabic=1594,e.ghainfinalarabic=65230,e.ghaininitialarabic=65231,e.ghainmedialarabic=65232,e.ghemiddlehookcyrillic=1173,e.ghestrokecyrillic=1171,e.gheupturncyrillic=1169,e.ghhadeva=2394,e.ghhagurmukhi=2650,e.ghook=608,e.ghzsquare=13203,e.gihiragana=12366,e.gikatakana=12462,e.gimarmenian=1379,e.gimel=1490,e.gimeldagesh=64306,e.gimeldageshhebrew=64306,e.gimelhebrew=1490,e.gjecyrillic=1107,e.glottalinvertedstroke=446,e.glottalstop=660,e.glottalstopinverted=662,e.glottalstopmod=704,e.glottalstopreversed=661,e.glottalstopreversedmod=705,e.glottalstopreversedsuperior=740,e.glottalstopstroke=673,e.glottalstopstrokereversed=674,e.gmacron=7713,e.gmonospace=65351,e.gohiragana=12372,e.gokatakana=12468,e.gparen=9378,e.gpasquare=13228,e.gradient=8711,e.grave=96,e.gravebelowcmb=790,e.gravecmb=768,e.gravecomb=768,e.gravedeva=2387,e.gravelowmod=718,e.gravemonospace=65344,e.gravetonecmb=832,e.greater=62,e.greaterequal=8805,e.greaterequalorless=8923,e.greatermonospace=65310,e.greaterorequivalent=8819,e.greaterorless=8823,e.greateroverequal=8807,e.greatersmall=65125,e.gscript=609,e.gstroke=485,e.guhiragana=12368,e.guillemotleft=171,e.guillemotright=187,e.guilsinglleft=8249,e.guilsinglright=8250,e.gukatakana=12464,e.guramusquare=13080,e.gysquare=13257,e.h=104,e.haabkhasiancyrillic=1193,e.haaltonearabic=1729,e.habengali=2489,e.hadescendercyrillic=1203,e.hadeva=2361,e.hagujarati=2745,e.hagurmukhi=2617,e.haharabic=1581,e.hahfinalarabic=65186,e.hahinitialarabic=65187,e.hahiragana=12399,e.hahmedialarabic=65188,e.haitusquare=13098,e.hakatakana=12495,e.hakatakanahalfwidth=65418,e.halantgurmukhi=2637,e.hamzaarabic=1569,e.hamzalowarabic=1569,e.hangulfiller=12644,e.hardsigncyrillic=1098,e.harpoonleftbarbup=8636,e.harpoonrightbarbup=8640,e.hasquare=13258,e.hatafpatah=1458,e.hatafpatah16=1458,e.hatafpatah23=1458,e.hatafpatah2f=1458,e.hatafpatahhebrew=1458,e.hatafpatahnarrowhebrew=1458,e.hatafpatahquarterhebrew=1458,e.hatafpatahwidehebrew=1458,e.hatafqamats=1459,e.hatafqamats1b=1459,e.hatafqamats28=1459,e.hatafqamats34=1459,e.hatafqamatshebrew=1459,e.hatafqamatsnarrowhebrew=1459,e.hatafqamatsquarterhebrew=1459,e.hatafqamatswidehebrew=1459,e.hatafsegol=1457,e.hatafsegol17=1457,e.hatafsegol24=1457,e.hatafsegol30=1457,e.hatafsegolhebrew=1457,e.hatafsegolnarrowhebrew=1457,e.hatafsegolquarterhebrew=1457,e.hatafsegolwidehebrew=1457,e.hbar=295,e.hbopomofo=12559,e.hbrevebelow=7723,e.hcedilla=7721,e.hcircle=9431,e.hcircumflex=293,e.hdieresis=7719,e.hdotaccent=7715,e.hdotbelow=7717,e.he=1492,e.heart=9829,e.heartsuitblack=9829,e.heartsuitwhite=9825,e.hedagesh=64308,e.hedageshhebrew=64308,e.hehaltonearabic=1729,e.heharabic=1607,e.hehebrew=1492,e.hehfinalaltonearabic=64423,e.hehfinalalttwoarabic=65258,e.hehfinalarabic=65258,e.hehhamzaabovefinalarabic=64421,e.hehhamzaaboveisolatedarabic=64420,e.hehinitialaltonearabic=64424,e.hehinitialarabic=65259,e.hehiragana=12408,e.hehmedialaltonearabic=64425,e.hehmedialarabic=65260,e.heiseierasquare=13179,e.hekatakana=12504,e.hekatakanahalfwidth=65421,e.hekutaarusquare=13110,e.henghook=615,e.herutusquare=13113,e.het=1495,e.hethebrew=1495,e.hhook=614,e.hhooksuperior=689,e.hieuhacirclekorean=12923,e.hieuhaparenkorean=12827,e.hieuhcirclekorean=12909,e.hieuhkorean=12622,e.hieuhparenkorean=12813,e.hihiragana=12402,e.hikatakana=12498,e.hikatakanahalfwidth=65419,e.hiriq=1460,e.hiriq14=1460,e.hiriq21=1460,e.hiriq2d=1460,e.hiriqhebrew=1460,e.hiriqnarrowhebrew=1460,e.hiriqquarterhebrew=1460,e.hiriqwidehebrew=1460,e.hlinebelow=7830,e.hmonospace=65352,e.hoarmenian=1392,e.hohipthai=3627,e.hohiragana=12411,e.hokatakana=12507,e.hokatakanahalfwidth=65422,e.holam=1465,e.holam19=1465,e.holam26=1465,e.holam32=1465,e.holamhebrew=1465,e.holamnarrowhebrew=1465,e.holamquarterhebrew=1465,e.holamwidehebrew=1465,e.honokhukthai=3630,e.hookabovecomb=777,e.hookcmb=777,e.hookpalatalizedbelowcmb=801,e.hookretroflexbelowcmb=802,e.hoonsquare=13122,e.horicoptic=1001,e.horizontalbar=8213,e.horncmb=795,e.hotsprings=9832,e.house=8962,e.hparen=9379,e.hsuperior=688,e.hturned=613,e.huhiragana=12405,e.huiitosquare=13107,e.hukatakana=12501,e.hukatakanahalfwidth=65420,e.hungarumlaut=733,e.hungarumlautcmb=779,e.hv=405,e.hyphen=45,e.hypheninferior=63205,e.hyphenmonospace=65293,e.hyphensmall=65123,e.hyphensuperior=63206,e.hyphentwo=8208,e.i=105,e.iacute=237,e.iacyrillic=1103,e.ibengali=2439,e.ibopomofo=12583,e.ibreve=301,e.icaron=464,e.icircle=9432,e.icircumflex=238,e.icyrillic=1110,e.idblgrave=521,e.ideographearthcircle=12943,e.ideographfirecircle=12939,e.ideographicallianceparen=12863,e.ideographiccallparen=12858,e.ideographiccentrecircle=12965,e.ideographicclose=12294,e.ideographiccomma=12289,e.ideographiccommaleft=65380,e.ideographiccongratulationparen=12855,e.ideographiccorrectcircle=12963,e.ideographicearthparen=12847,e.ideographicenterpriseparen=12861,e.ideographicexcellentcircle=12957,e.ideographicfestivalparen=12864,e.ideographicfinancialcircle=12950,e.ideographicfinancialparen=12854,e.ideographicfireparen=12843,e.ideographichaveparen=12850,e.ideographichighcircle=12964,e.ideographiciterationmark=12293,e.ideographiclaborcircle=12952,e.ideographiclaborparen=12856,e.ideographicleftcircle=12967,e.ideographiclowcircle=12966,e.ideographicmedicinecircle=12969,e.ideographicmetalparen=12846,e.ideographicmoonparen=12842,e.ideographicnameparen=12852,e.ideographicperiod=12290,e.ideographicprintcircle=12958,e.ideographicreachparen=12867,e.ideographicrepresentparen=12857,e.ideographicresourceparen=12862,e.ideographicrightcircle=12968,e.ideographicsecretcircle=12953,e.ideographicselfparen=12866,e.ideographicsocietyparen=12851,e.ideographicspace=12288,e.ideographicspecialparen=12853,e.ideographicstockparen=12849,e.ideographicstudyparen=12859,e.ideographicsunparen=12848,e.ideographicsuperviseparen=12860,e.ideographicwaterparen=12844,e.ideographicwoodparen=12845,e.ideographiczero=12295,e.ideographmetalcircle=12942,e.ideographmooncircle=12938,e.ideographnamecircle=12948,e.ideographsuncircle=12944,e.ideographwatercircle=12940,e.ideographwoodcircle=12941,e.ideva=2311,e.idieresis=239,e.idieresisacute=7727,e.idieresiscyrillic=1253,e.idotbelow=7883,e.iebrevecyrillic=1239,e.iecyrillic=1077,e.ieungacirclekorean=12917,e.ieungaparenkorean=12821,e.ieungcirclekorean=12903,e.ieungkorean=12615,e.ieungparenkorean=12807,e.igrave=236,e.igujarati=2695,e.igurmukhi=2567,e.ihiragana=12356,e.ihookabove=7881,e.iibengali=2440,e.iicyrillic=1080,e.iideva=2312,e.iigujarati=2696,e.iigurmukhi=2568,e.iimatragurmukhi=2624,e.iinvertedbreve=523,e.iishortcyrillic=1081,e.iivowelsignbengali=2496,e.iivowelsigndeva=2368,e.iivowelsigngujarati=2752,e.ij=307,e.ikatakana=12452,e.ikatakanahalfwidth=65394,e.ikorean=12643,e.ilde=732,e.iluyhebrew=1452,e.imacron=299,e.imacroncyrillic=1251,e.imageorapproximatelyequal=8787,e.imatragurmukhi=2623,e.imonospace=65353,e.increment=8710,e.infinity=8734,e.iniarmenian=1387,e.integral=8747,e.integralbottom=8993,e.integralbt=8993,e.integralex=63733,e.integraltop=8992,e.integraltp=8992,e.intersection=8745,e.intisquare=13061,e.invbullet=9688,e.invcircle=9689,e.invsmileface=9787,e.iocyrillic=1105,e.iogonek=303,e.iota=953,e.iotadieresis=970,e.iotadieresistonos=912,e.iotalatin=617,e.iotatonos=943,e.iparen=9380,e.irigurmukhi=2674,e.ismallhiragana=12355,e.ismallkatakana=12451,e.ismallkatakanahalfwidth=65384,e.issharbengali=2554,e.istroke=616,e.isuperior=63213,e.iterationhiragana=12445,e.iterationkatakana=12541,e.itilde=297,e.itildebelow=7725,e.iubopomofo=12585,e.iucyrillic=1102,e.ivowelsignbengali=2495,e.ivowelsigndeva=2367,e.ivowelsigngujarati=2751,e.izhitsacyrillic=1141,e.izhitsadblgravecyrillic=1143,e.j=106,e.jaarmenian=1393,e.jabengali=2460,e.jadeva=2332,e.jagujarati=2716,e.jagurmukhi=2588,e.jbopomofo=12560,e.jcaron=496,e.jcircle=9433,e.jcircumflex=309,e.jcrossedtail=669,e.jdotlessstroke=607,e.jecyrillic=1112,e.jeemarabic=1580,e.jeemfinalarabic=65182,e.jeeminitialarabic=65183,e.jeemmedialarabic=65184,e.jeharabic=1688,e.jehfinalarabic=64395,e.jhabengali=2461,e.jhadeva=2333,e.jhagujarati=2717,e.jhagurmukhi=2589,e.jheharmenian=1403,e.jis=12292,e.jmonospace=65354,e.jparen=9381,e.jsuperior=690,e.k=107,e.kabashkircyrillic=1185,e.kabengali=2453,e.kacute=7729,e.kacyrillic=1082,e.kadescendercyrillic=1179,e.kadeva=2325,e.kaf=1499,e.kafarabic=1603,e.kafdagesh=64315,e.kafdageshhebrew=64315,e.kaffinalarabic=65242,e.kafhebrew=1499,e.kafinitialarabic=65243,e.kafmedialarabic=65244,e.kafrafehebrew=64333,e.kagujarati=2709,e.kagurmukhi=2581,e.kahiragana=12363,e.kahookcyrillic=1220,e.kakatakana=12459,e.kakatakanahalfwidth=65398,e.kappa=954,e.kappasymbolgreek=1008,e.kapyeounmieumkorean=12657,e.kapyeounphieuphkorean=12676,e.kapyeounpieupkorean=12664,e.kapyeounssangpieupkorean=12665,e.karoriisquare=13069,e.kashidaautoarabic=1600,e.kashidaautonosidebearingarabic=1600,e.kasmallkatakana=12533,e.kasquare=13188,e.kasraarabic=1616,e.kasratanarabic=1613,e.kastrokecyrillic=1183,e.katahiraprolongmarkhalfwidth=65392,e.kaverticalstrokecyrillic=1181,e.kbopomofo=12558,e.kcalsquare=13193,e.kcaron=489,e.kcedilla=311,e.kcircle=9434,e.kcommaaccent=311,e.kdotbelow=7731,e.keharmenian=1412,e.kehiragana=12369,e.kekatakana=12465,e.kekatakanahalfwidth=65401,e.kenarmenian=1391,e.kesmallkatakana=12534,e.kgreenlandic=312,e.khabengali=2454,e.khacyrillic=1093,e.khadeva=2326,e.khagujarati=2710,e.khagurmukhi=2582,e.khaharabic=1582,e.khahfinalarabic=65190,e.khahinitialarabic=65191,e.khahmedialarabic=65192,e.kheicoptic=999,e.khhadeva=2393,e.khhagurmukhi=2649,e.khieukhacirclekorean=12920,e.khieukhaparenkorean=12824,e.khieukhcirclekorean=12906,e.khieukhkorean=12619,e.khieukhparenkorean=12810,e.khokhaithai=3586,e.khokhonthai=3589,e.khokhuatthai=3587,e.khokhwaithai=3588,e.khomutthai=3675,e.khook=409,e.khorakhangthai=3590,e.khzsquare=13201,e.kihiragana=12365,e.kikatakana=12461,e.kikatakanahalfwidth=65399,e.kiroguramusquare=13077,e.kiromeetorusquare=13078,e.kirosquare=13076,e.kiyeokacirclekorean=12910,e.kiyeokaparenkorean=12814,e.kiyeokcirclekorean=12896,e.kiyeokkorean=12593,e.kiyeokparenkorean=12800,e.kiyeoksioskorean=12595,e.kjecyrillic=1116,e.klinebelow=7733,e.klsquare=13208,e.kmcubedsquare=13222,e.kmonospace=65355,e.kmsquaredsquare=13218,e.kohiragana=12371,e.kohmsquare=13248,e.kokaithai=3585,e.kokatakana=12467,e.kokatakanahalfwidth=65402,e.kooposquare=13086,e.koppacyrillic=1153,e.koreanstandardsymbol=12927,e.koroniscmb=835,e.kparen=9382,e.kpasquare=13226,e.ksicyrillic=1135,e.ktsquare=13263,e.kturned=670,e.kuhiragana=12367,e.kukatakana=12463,e.kukatakanahalfwidth=65400,e.kvsquare=13240,e.kwsquare=13246,e.l=108,e.labengali=2482,e.lacute=314,e.ladeva=2354,e.lagujarati=2738,e.lagurmukhi=2610,e.lakkhangyaothai=3653,e.lamaleffinalarabic=65276,e.lamalefhamzaabovefinalarabic=65272,e.lamalefhamzaaboveisolatedarabic=65271,e.lamalefhamzabelowfinalarabic=65274,e.lamalefhamzabelowisolatedarabic=65273,e.lamalefisolatedarabic=65275,e.lamalefmaddaabovefinalarabic=65270,e.lamalefmaddaaboveisolatedarabic=65269,e.lamarabic=1604,e.lambda=955,e.lambdastroke=411,e.lamed=1500,e.lameddagesh=64316,e.lameddageshhebrew=64316,e.lamedhebrew=1500,e.lamfinalarabic=65246,e.lamhahinitialarabic=64714,e.laminitialarabic=65247,e.lamjeeminitialarabic=64713,e.lamkhahinitialarabic=64715,e.lamlamhehisolatedarabic=65010,e.lammedialarabic=65248,e.lammeemhahinitialarabic=64904,e.lammeeminitialarabic=64716,e.largecircle=9711,e.lbar=410,e.lbelt=620,e.lbopomofo=12556,e.lcaron=318,e.lcedilla=316,e.lcircle=9435,e.lcircumflexbelow=7741,e.lcommaaccent=316,e.ldot=320,e.ldotaccent=320,e.ldotbelow=7735,e.ldotbelowmacron=7737,e.leftangleabovecmb=794,e.lefttackbelowcmb=792,e.less=60,e.lessequal=8804,e.lessequalorgreater=8922,e.lessmonospace=65308,e.lessorequivalent=8818,e.lessorgreater=8822,e.lessoverequal=8806,e.lesssmall=65124,e.lezh=622,e.lfblock=9612,e.lhookretroflex=621,e.lira=8356,e.liwnarmenian=1388,e.lj=457,e.ljecyrillic=1113,e.ll=63168,e.lladeva=2355,e.llagujarati=2739,e.llinebelow=7739,e.llladeva=2356,e.llvocalicbengali=2529,e.llvocalicdeva=2401,e.llvocalicvowelsignbengali=2531,e.llvocalicvowelsigndeva=2403,e.lmiddletilde=619,e.lmonospace=65356,e.lmsquare=13264,e.lochulathai=3628,e.logicaland=8743,e.logicalnot=172,e.logicalnotreversed=8976,e.logicalor=8744,e.lolingthai=3621,e.longs=383,e.lowlinecenterline=65102,e.lowlinecmb=818,e.lowlinedashed=65101,e.lozenge=9674,e.lparen=9383,e.lslash=322,e.lsquare=8467,e.lsuperior=63214,e.ltshade=9617,e.luthai=3622,e.lvocalicbengali=2444,e.lvocalicdeva=2316,e.lvocalicvowelsignbengali=2530,e.lvocalicvowelsigndeva=2402,e.lxsquare=13267,e.m=109,e.mabengali=2478,e.macron=175,e.macronbelowcmb=817,e.macroncmb=772,e.macronlowmod=717,e.macronmonospace=65507,e.macute=7743,e.madeva=2350,e.magujarati=2734,e.magurmukhi=2606,e.mahapakhhebrew=1444,e.mahapakhlefthebrew=1444,e.mahiragana=12414,e.maichattawalowleftthai=63637,e.maichattawalowrightthai=63636,e.maichattawathai=3659,e.maichattawaupperleftthai=63635,e.maieklowleftthai=63628,e.maieklowrightthai=63627,e.maiekthai=3656,e.maiekupperleftthai=63626,e.maihanakatleftthai=63620,e.maihanakatthai=3633,e.maitaikhuleftthai=63625,e.maitaikhuthai=3655,e.maitholowleftthai=63631,e.maitholowrightthai=63630,e.maithothai=3657,e.maithoupperleftthai=63629,e.maitrilowleftthai=63634,e.maitrilowrightthai=63633,e.maitrithai=3658,e.maitriupperleftthai=63632,e.maiyamokthai=3654,e.makatakana=12510,e.makatakanahalfwidth=65423,e.male=9794,e.mansyonsquare=13127,e.maqafhebrew=1470,e.mars=9794,e.masoracirclehebrew=1455,e.masquare=13187,e.mbopomofo=12551,e.mbsquare=13268,e.mcircle=9436,e.mcubedsquare=13221,e.mdotaccent=7745,e.mdotbelow=7747,e.meemarabic=1605,e.meemfinalarabic=65250,e.meeminitialarabic=65251,e.meemmedialarabic=65252,e.meemmeeminitialarabic=64721,e.meemmeemisolatedarabic=64584,e.meetorusquare=13133,e.mehiragana=12417,e.meizierasquare=13182,e.mekatakana=12513,e.mekatakanahalfwidth=65426,e.mem=1502,e.memdagesh=64318,e.memdageshhebrew=64318,e.memhebrew=1502,e.menarmenian=1396,e.merkhahebrew=1445,e.merkhakefulahebrew=1446,e.merkhakefulalefthebrew=1446,e.merkhalefthebrew=1445,e.mhook=625,e.mhzsquare=13202,e.middledotkatakanahalfwidth=65381,e.middot=183,e.mieumacirclekorean=12914,e.mieumaparenkorean=12818,e.mieumcirclekorean=12900,e.mieumkorean=12609,e.mieumpansioskorean=12656,e.mieumparenkorean=12804,e.mieumpieupkorean=12654,e.mieumsioskorean=12655,e.mihiragana=12415,e.mikatakana=12511,e.mikatakanahalfwidth=65424,e.minus=8722,e.minusbelowcmb=800,e.minuscircle=8854,e.minusmod=727,e.minusplus=8723,e.minute=8242,e.miribaarusquare=13130,e.mirisquare=13129,e.mlonglegturned=624,e.mlsquare=13206,e.mmcubedsquare=13219,e.mmonospace=65357,e.mmsquaredsquare=13215,e.mohiragana=12418,e.mohmsquare=13249,e.mokatakana=12514,e.mokatakanahalfwidth=65427,e.molsquare=13270,e.momathai=3617,e.moverssquare=13223,e.moverssquaredsquare=13224,e.mparen=9384,e.mpasquare=13227,e.mssquare=13235,e.msuperior=63215,e.mturned=623,e.mu=181,e.mu1=181,e.muasquare=13186,e.muchgreater=8811,e.muchless=8810,e.mufsquare=13196,e.mugreek=956,e.mugsquare=13197,e.muhiragana=12416,e.mukatakana=12512,e.mukatakanahalfwidth=65425,e.mulsquare=13205,e.multiply=215,e.mumsquare=13211,e.munahhebrew=1443,e.munahlefthebrew=1443,e.musicalnote=9834,e.musicalnotedbl=9835,e.musicflatsign=9837,e.musicsharpsign=9839,e.mussquare=13234,e.muvsquare=13238,e.muwsquare=13244,e.mvmegasquare=13241,e.mvsquare=13239,e.mwmegasquare=13247,e.mwsquare=13245,e.n=110,e.nabengali=2472,e.nabla=8711,e.nacute=324,e.nadeva=2344,e.nagujarati=2728,e.nagurmukhi=2600,e.nahiragana=12394,e.nakatakana=12490,e.nakatakanahalfwidth=65413,e.napostrophe=329,e.nasquare=13185,e.nbopomofo=12555,e.nbspace=160,e.ncaron=328,e.ncedilla=326,e.ncircle=9437,e.ncircumflexbelow=7755,e.ncommaaccent=326,e.ndotaccent=7749,e.ndotbelow=7751,e.nehiragana=12397,e.nekatakana=12493,e.nekatakanahalfwidth=65416,e.newsheqelsign=8362,e.nfsquare=13195,e.ngabengali=2457,e.ngadeva=2329,e.ngagujarati=2713,e.ngagurmukhi=2585,e.ngonguthai=3591,e.nhiragana=12435,e.nhookleft=626,e.nhookretroflex=627,e.nieunacirclekorean=12911,e.nieunaparenkorean=12815,e.nieuncieuckorean=12597,e.nieuncirclekorean=12897,e.nieunhieuhkorean=12598,e.nieunkorean=12596,e.nieunpansioskorean=12648,e.nieunparenkorean=12801,e.nieunsioskorean=12647,e.nieuntikeutkorean=12646,e.nihiragana=12395,e.nikatakana=12491,e.nikatakanahalfwidth=65414,e.nikhahitleftthai=63641,e.nikhahitthai=3661,e.nine=57,e.ninearabic=1641,e.ninebengali=2543,e.ninecircle=9320,e.ninecircleinversesansserif=10130,e.ninedeva=2415,e.ninegujarati=2799,e.ninegurmukhi=2671,e.ninehackarabic=1641,e.ninehangzhou=12329,e.nineideographicparen=12840,e.nineinferior=8329,e.ninemonospace=65305,e.nineoldstyle=63289,e.nineparen=9340,e.nineperiod=9360,e.ninepersian=1785,e.nineroman=8568,e.ninesuperior=8313,e.nineteencircle=9330,e.nineteenparen=9350,e.nineteenperiod=9370,e.ninethai=3673,e.nj=460,e.njecyrillic=1114,e.nkatakana=12531,e.nkatakanahalfwidth=65437,e.nlegrightlong=414,e.nlinebelow=7753,e.nmonospace=65358,e.nmsquare=13210,e.nnabengali=2467,e.nnadeva=2339,e.nnagujarati=2723,e.nnagurmukhi=2595,e.nnnadeva=2345,e.nohiragana=12398,e.nokatakana=12494,e.nokatakanahalfwidth=65417,e.nonbreakingspace=160,e.nonenthai=3603,e.nonuthai=3609,e.noonarabic=1606,e.noonfinalarabic=65254,e.noonghunnaarabic=1722,e.noonghunnafinalarabic=64415,e.nooninitialarabic=65255,e.noonjeeminitialarabic=64722,e.noonjeemisolatedarabic=64587,e.noonmedialarabic=65256,e.noonmeeminitialarabic=64725,e.noonmeemisolatedarabic=64590,e.noonnoonfinalarabic=64653,e.notcontains=8716,e.notelement=8713,e.notelementof=8713,e.notequal=8800,e.notgreater=8815,e.notgreaternorequal=8817,e.notgreaternorless=8825,e.notidentical=8802,e.notless=8814,e.notlessnorequal=8816,e.notparallel=8742,e.notprecedes=8832,e.notsubset=8836,e.notsucceeds=8833,e.notsuperset=8837,e.nowarmenian=1398,e.nparen=9385,e.nssquare=13233,e.nsuperior=8319,e.ntilde=241,e.nu=957,e.nuhiragana=12396,e.nukatakana=12492,e.nukatakanahalfwidth=65415,e.nuktabengali=2492,e.nuktadeva=2364,e.nuktagujarati=2748,e.nuktagurmukhi=2620,e.numbersign=35,e.numbersignmonospace=65283,e.numbersignsmall=65119,e.numeralsigngreek=884,e.numeralsignlowergreek=885,e.numero=8470,e.nun=1504,e.nundagesh=64320,e.nundageshhebrew=64320,e.nunhebrew=1504,e.nvsquare=13237,e.nwsquare=13243,e.nyabengali=2462,e.nyadeva=2334,e.nyagujarati=2718,e.nyagurmukhi=2590,e.o=111,e.oacute=243,e.oangthai=3629,e.obarred=629,e.obarredcyrillic=1257,e.obarreddieresiscyrillic=1259,e.obengali=2451,e.obopomofo=12571,e.obreve=335,e.ocandradeva=2321,e.ocandragujarati=2705,e.ocandravowelsigndeva=2377,e.ocandravowelsigngujarati=2761,e.ocaron=466,e.ocircle=9438,e.ocircumflex=244,e.ocircumflexacute=7889,e.ocircumflexdotbelow=7897,e.ocircumflexgrave=7891,e.ocircumflexhookabove=7893,e.ocircumflextilde=7895,e.ocyrillic=1086,e.odblacute=337,e.odblgrave=525,e.odeva=2323,e.odieresis=246,e.odieresiscyrillic=1255,e.odotbelow=7885,e.oe=339,e.oekorean=12634,e.ogonek=731,e.ogonekcmb=808,e.ograve=242,e.ogujarati=2707,e.oharmenian=1413,e.ohiragana=12362,e.ohookabove=7887,e.ohorn=417,e.ohornacute=7899,e.ohorndotbelow=7907,e.ohorngrave=7901,e.ohornhookabove=7903,e.ohorntilde=7905,e.ohungarumlaut=337,e.oi=419,e.oinvertedbreve=527,e.okatakana=12458,e.okatakanahalfwidth=65397,e.okorean=12631,e.olehebrew=1451,e.omacron=333,e.omacronacute=7763,e.omacrongrave=7761,e.omdeva=2384,e.omega=969,e.omega1=982,e.omegacyrillic=1121,e.omegalatinclosed=631,e.omegaroundcyrillic=1147,e.omegatitlocyrillic=1149,e.omegatonos=974,e.omgujarati=2768,e.omicron=959,e.omicrontonos=972,e.omonospace=65359,e.one=49,e.onearabic=1633,e.onebengali=2535,e.onecircle=9312,e.onecircleinversesansserif=10122,e.onedeva=2407,e.onedotenleader=8228,e.oneeighth=8539,e.onefitted=63196,e.onegujarati=2791,e.onegurmukhi=2663,e.onehackarabic=1633,e.onehalf=189,e.onehangzhou=12321,e.oneideographicparen=12832,e.oneinferior=8321,e.onemonospace=65297,e.onenumeratorbengali=2548,e.oneoldstyle=63281,e.oneparen=9332,e.oneperiod=9352,e.onepersian=1777,e.onequarter=188,e.oneroman=8560,e.onesuperior=185,e.onethai=3665,e.onethird=8531,e.oogonek=491,e.oogonekmacron=493,e.oogurmukhi=2579,e.oomatragurmukhi=2635,e.oopen=596,e.oparen=9386,e.openbullet=9702,e.option=8997,e.ordfeminine=170,e.ordmasculine=186,e.orthogonal=8735,e.oshortdeva=2322,e.oshortvowelsigndeva=2378,e.oslash=248,e.oslashacute=511,e.osmallhiragana=12361,e.osmallkatakana=12457,e.osmallkatakanahalfwidth=65387,e.ostrokeacute=511,e.osuperior=63216,e.otcyrillic=1151,e.otilde=245,e.otildeacute=7757,e.otildedieresis=7759,e.oubopomofo=12577,e.overline=8254,e.overlinecenterline=65098,e.overlinecmb=773,e.overlinedashed=65097,e.overlinedblwavy=65100,e.overlinewavy=65099,e.overscore=175,e.ovowelsignbengali=2507,e.ovowelsigndeva=2379,e.ovowelsigngujarati=2763,e.p=112,e.paampssquare=13184,e.paasentosquare=13099,e.pabengali=2474,e.pacute=7765,e.padeva=2346,e.pagedown=8671,e.pageup=8670,e.pagujarati=2730,e.pagurmukhi=2602,e.pahiragana=12401,e.paiyannoithai=3631,e.pakatakana=12497,e.palatalizationcyrilliccmb=1156,e.palochkacyrillic=1216,e.pansioskorean=12671,e.paragraph=182,e.parallel=8741,e.parenleft=40,e.parenleftaltonearabic=64830,e.parenleftbt=63725,e.parenleftex=63724,e.parenleftinferior=8333,e.parenleftmonospace=65288,e.parenleftsmall=65113,e.parenleftsuperior=8317,e.parenlefttp=63723,e.parenleftvertical=65077,e.parenright=41,e.parenrightaltonearabic=64831,e.parenrightbt=63736,e.parenrightex=63735,e.parenrightinferior=8334,e.parenrightmonospace=65289,e.parenrightsmall=65114,e.parenrightsuperior=8318,e.parenrighttp=63734,e.parenrightvertical=65078,e.partialdiff=8706,e.paseqhebrew=1472,e.pashtahebrew=1433,e.pasquare=13225,e.patah=1463,e.patah11=1463,e.patah1d=1463,e.patah2a=1463,e.patahhebrew=1463,e.patahnarrowhebrew=1463,e.patahquarterhebrew=1463,e.patahwidehebrew=1463,e.pazerhebrew=1441,e.pbopomofo=12550,e.pcircle=9439,e.pdotaccent=7767,e.pe=1508,e.pecyrillic=1087,e.pedagesh=64324,e.pedageshhebrew=64324,e.peezisquare=13115,e.pefinaldageshhebrew=64323,e.peharabic=1662,e.peharmenian=1402,e.pehebrew=1508,e.pehfinalarabic=64343,e.pehinitialarabic=64344,e.pehiragana=12410,e.pehmedialarabic=64345,e.pekatakana=12506,e.pemiddlehookcyrillic=1191,e.perafehebrew=64334,e.percent=37,e.percentarabic=1642,e.percentmonospace=65285,e.percentsmall=65130,e.period=46,e.periodarmenian=1417,e.periodcentered=183,e.periodhalfwidth=65377,e.periodinferior=63207,e.periodmonospace=65294,e.periodsmall=65106,e.periodsuperior=63208,e.perispomenigreekcmb=834,e.perpendicular=8869,e.perthousand=8240,e.peseta=8359,e.pfsquare=13194,e.phabengali=2475,e.phadeva=2347,e.phagujarati=2731,e.phagurmukhi=2603,e.phi=966,e.phi1=981,e.phieuphacirclekorean=12922,e.phieuphaparenkorean=12826,e.phieuphcirclekorean=12908,e.phieuphkorean=12621,e.phieuphparenkorean=12812,e.philatin=632,e.phinthuthai=3642,e.phisymbolgreek=981,e.phook=421,e.phophanthai=3614,e.phophungthai=3612,e.phosamphaothai=3616,e.pi=960,e.pieupacirclekorean=12915,e.pieupaparenkorean=12819,e.pieupcieuckorean=12662,e.pieupcirclekorean=12901,e.pieupkiyeokkorean=12658,e.pieupkorean=12610,e.pieupparenkorean=12805,e.pieupsioskiyeokkorean=12660,e.pieupsioskorean=12612,e.pieupsiostikeutkorean=12661,e.pieupthieuthkorean=12663,e.pieuptikeutkorean=12659,e.pihiragana=12404,e.pikatakana=12500,e.pisymbolgreek=982,e.piwrarmenian=1411,e.plus=43,e.plusbelowcmb=799,e.pluscircle=8853,e.plusminus=177,e.plusmod=726,e.plusmonospace=65291,e.plussmall=65122,e.plussuperior=8314,e.pmonospace=65360,e.pmsquare=13272,e.pohiragana=12413,e.pointingindexdownwhite=9759,e.pointingindexleftwhite=9756,e.pointingindexrightwhite=9758,e.pointingindexupwhite=9757,e.pokatakana=12509,e.poplathai=3611,e.postalmark=12306,e.postalmarkface=12320,e.pparen=9387,e.precedes=8826,e.prescription=8478,e.primemod=697,e.primereversed=8245,e.product=8719,e.projective=8965,e.prolongedkana=12540,e.propellor=8984,e.propersubset=8834,e.propersuperset=8835,e.proportion=8759,e.proportional=8733,e.psi=968,e.psicyrillic=1137,e.psilipneumatacyrilliccmb=1158,e.pssquare=13232,e.puhiragana=12407,e.pukatakana=12503,e.pvsquare=13236,e.pwsquare=13242,e.q=113,e.qadeva=2392,e.qadmahebrew=1448,e.qafarabic=1602,e.qaffinalarabic=65238,e.qafinitialarabic=65239,e.qafmedialarabic=65240,e.qamats=1464,e.qamats10=1464,e.qamats1a=1464,e.qamats1c=1464,e.qamats27=1464,e.qamats29=1464,e.qamats33=1464,e.qamatsde=1464,e.qamatshebrew=1464,e.qamatsnarrowhebrew=1464,e.qamatsqatanhebrew=1464,e.qamatsqatannarrowhebrew=1464,e.qamatsqatanquarterhebrew=1464,e.qamatsqatanwidehebrew=1464,e.qamatsquarterhebrew=1464,e.qamatswidehebrew=1464,e.qarneyparahebrew=1439,e.qbopomofo=12561,e.qcircle=9440,e.qhook=672,e.qmonospace=65361,e.qof=1511,e.qofdagesh=64327,e.qofdageshhebrew=64327,e.qofhebrew=1511,e.qparen=9388,e.quarternote=9833,e.qubuts=1467,e.qubuts18=1467,e.qubuts25=1467,e.qubuts31=1467,e.qubutshebrew=1467,e.qubutsnarrowhebrew=1467,e.qubutsquarterhebrew=1467,e.qubutswidehebrew=1467,e.question=63,e.questionarabic=1567,e.questionarmenian=1374,e.questiondown=191,e.questiondownsmall=63423,e.questiongreek=894,e.questionmonospace=65311,e.questionsmall=63295,e.quotedbl=34,e.quotedblbase=8222,e.quotedblleft=8220,e.quotedblmonospace=65282,e.quotedblprime=12318,e.quotedblprimereversed=12317,e.quotedblright=8221,e.quoteleft=8216,e.quoteleftreversed=8219,e.quotereversed=8219,e.quoteright=8217,e.quoterightn=329,e.quotesinglbase=8218,e.quotesingle=39,e.quotesinglemonospace=65287,e.r=114,e.raarmenian=1404,e.rabengali=2480,e.racute=341,e.radeva=2352,e.radical=8730,e.radicalex=63717,e.radoverssquare=13230,e.radoverssquaredsquare=13231,e.radsquare=13229,e.rafe=1471,e.rafehebrew=1471,e.ragujarati=2736,e.ragurmukhi=2608,e.rahiragana=12425,e.rakatakana=12521,e.rakatakanahalfwidth=65431,e.ralowerdiagonalbengali=2545,e.ramiddlediagonalbengali=2544,e.ramshorn=612,e.ratio=8758,e.rbopomofo=12566,e.rcaron=345,e.rcedilla=343,e.rcircle=9441,e.rcommaaccent=343,e.rdblgrave=529,e.rdotaccent=7769,e.rdotbelow=7771,e.rdotbelowmacron=7773,e.referencemark=8251,e.reflexsubset=8838,e.reflexsuperset=8839,e.registered=174,e.registersans=63720,e.registerserif=63194,e.reharabic=1585,e.reharmenian=1408,e.rehfinalarabic=65198,e.rehiragana=12428,e.rekatakana=12524,e.rekatakanahalfwidth=65434,e.resh=1512,e.reshdageshhebrew=64328,e.reshhebrew=1512,e.reversedtilde=8765,e.reviahebrew=1431,e.reviamugrashhebrew=1431,e.revlogicalnot=8976,e.rfishhook=638,e.rfishhookreversed=639,e.rhabengali=2525,e.rhadeva=2397,e.rho=961,e.rhook=637,e.rhookturned=635,e.rhookturnedsuperior=693,e.rhosymbolgreek=1009,e.rhotichookmod=734,e.rieulacirclekorean=12913,e.rieulaparenkorean=12817,e.rieulcirclekorean=12899,e.rieulhieuhkorean=12608,e.rieulkiyeokkorean=12602,e.rieulkiyeoksioskorean=12649,e.rieulkorean=12601,e.rieulmieumkorean=12603,e.rieulpansioskorean=12652,e.rieulparenkorean=12803,e.rieulphieuphkorean=12607,e.rieulpieupkorean=12604,e.rieulpieupsioskorean=12651,e.rieulsioskorean=12605,e.rieulthieuthkorean=12606,e.rieultikeutkorean=12650,e.rieulyeorinhieuhkorean=12653,e.rightangle=8735,e.righttackbelowcmb=793,e.righttriangle=8895,e.rihiragana=12426,e.rikatakana=12522,e.rikatakanahalfwidth=65432,e.ring=730,e.ringbelowcmb=805,e.ringcmb=778,e.ringhalfleft=703,e.ringhalfleftarmenian=1369,e.ringhalfleftbelowcmb=796,e.ringhalfleftcentered=723,e.ringhalfright=702,e.ringhalfrightbelowcmb=825,e.ringhalfrightcentered=722,e.rinvertedbreve=531,e.rittorusquare=13137,e.rlinebelow=7775,e.rlongleg=636,e.rlonglegturned=634,e.rmonospace=65362,e.rohiragana=12429,e.rokatakana=12525,e.rokatakanahalfwidth=65435,e.roruathai=3619,e.rparen=9389,e.rrabengali=2524,e.rradeva=2353,e.rragurmukhi=2652,e.rreharabic=1681,e.rrehfinalarabic=64397,e.rrvocalicbengali=2528,e.rrvocalicdeva=2400,e.rrvocalicgujarati=2784,e.rrvocalicvowelsignbengali=2500,e.rrvocalicvowelsigndeva=2372,e.rrvocalicvowelsigngujarati=2756,e.rsuperior=63217,e.rtblock=9616,e.rturned=633,e.rturnedsuperior=692,e.ruhiragana=12427,e.rukatakana=12523,e.rukatakanahalfwidth=65433,e.rupeemarkbengali=2546,e.rupeesignbengali=2547,e.rupiah=63197,e.ruthai=3620,e.rvocalicbengali=2443,e.rvocalicdeva=2315,e.rvocalicgujarati=2699,e.rvocalicvowelsignbengali=2499,e.rvocalicvowelsigndeva=2371,e.rvocalicvowelsigngujarati=2755,e.s=115,e.sabengali=2488,e.sacute=347,e.sacutedotaccent=7781,e.sadarabic=1589,e.sadeva=2360,e.sadfinalarabic=65210,e.sadinitialarabic=65211,e.sadmedialarabic=65212,e.sagujarati=2744,e.sagurmukhi=2616,e.sahiragana=12373,e.sakatakana=12469,e.sakatakanahalfwidth=65403,e.sallallahoualayhewasallamarabic=65018,e.samekh=1505,e.samekhdagesh=64321,e.samekhdageshhebrew=64321,e.samekhhebrew=1505,e.saraaathai=3634,e.saraaethai=3649,e.saraaimaimalaithai=3652,e.saraaimaimuanthai=3651,e.saraamthai=3635,e.saraathai=3632,e.saraethai=3648,e.saraiileftthai=63622,e.saraiithai=3637,e.saraileftthai=63621,e.saraithai=3636,e.saraothai=3650,e.saraueeleftthai=63624,e.saraueethai=3639,e.saraueleftthai=63623,e.sarauethai=3638,e.sarauthai=3640,e.sarauuthai=3641,e.sbopomofo=12569,e.scaron=353,e.scarondotaccent=7783,e.scedilla=351,e.schwa=601,e.schwacyrillic=1241,e.schwadieresiscyrillic=1243,e.schwahook=602,e.scircle=9442,e.scircumflex=349,e.scommaaccent=537,e.sdotaccent=7777,e.sdotbelow=7779,e.sdotbelowdotaccent=7785,e.seagullbelowcmb=828,e.second=8243,e.secondtonechinese=714,e.section=167,e.seenarabic=1587,e.seenfinalarabic=65202,e.seeninitialarabic=65203,e.seenmedialarabic=65204,e.segol=1462,e.segol13=1462,e.segol1f=1462,e.segol2c=1462,e.segolhebrew=1462,e.segolnarrowhebrew=1462,e.segolquarterhebrew=1462,e.segoltahebrew=1426,e.segolwidehebrew=1462,e.seharmenian=1405,e.sehiragana=12379,e.sekatakana=12475,e.sekatakanahalfwidth=65406,e.semicolon=59,e.semicolonarabic=1563,e.semicolonmonospace=65307,e.semicolonsmall=65108,e.semivoicedmarkkana=12444,e.semivoicedmarkkanahalfwidth=65439,e.sentisquare=13090,e.sentosquare=13091,e.seven=55,e.sevenarabic=1639,e.sevenbengali=2541,e.sevencircle=9318,e.sevencircleinversesansserif=10128,e.sevendeva=2413,e.seveneighths=8542,e.sevengujarati=2797,e.sevengurmukhi=2669,e.sevenhackarabic=1639,e.sevenhangzhou=12327,e.sevenideographicparen=12838,e.seveninferior=8327,e.sevenmonospace=65303,e.sevenoldstyle=63287,e.sevenparen=9338,e.sevenperiod=9358,e.sevenpersian=1783,e.sevenroman=8566,e.sevensuperior=8311,e.seventeencircle=9328,e.seventeenparen=9348,e.seventeenperiod=9368,e.seventhai=3671,e.sfthyphen=173,e.shaarmenian=1399,e.shabengali=2486,e.shacyrillic=1096,e.shaddaarabic=1617,e.shaddadammaarabic=64609,e.shaddadammatanarabic=64606,e.shaddafathaarabic=64608,e.shaddakasraarabic=64610,e.shaddakasratanarabic=64607,e.shade=9618,e.shadedark=9619,e.shadelight=9617,e.shademedium=9618,e.shadeva=2358,e.shagujarati=2742,e.shagurmukhi=2614,e.shalshelethebrew=1427,e.shbopomofo=12565,e.shchacyrillic=1097,e.sheenarabic=1588,e.sheenfinalarabic=65206,e.sheeninitialarabic=65207,e.sheenmedialarabic=65208,e.sheicoptic=995,e.sheqel=8362,e.sheqelhebrew=8362,e.sheva=1456,e.sheva115=1456,e.sheva15=1456,e.sheva22=1456,e.sheva2e=1456,e.shevahebrew=1456,e.shevanarrowhebrew=1456,e.shevaquarterhebrew=1456,e.shevawidehebrew=1456,e.shhacyrillic=1211,e.shimacoptic=1005,e.shin=1513,e.shindagesh=64329,e.shindageshhebrew=64329,e.shindageshshindot=64300,e.shindageshshindothebrew=64300,e.shindageshsindot=64301,e.shindageshsindothebrew=64301,e.shindothebrew=1473,e.shinhebrew=1513,e.shinshindot=64298,e.shinshindothebrew=64298,e.shinsindot=64299,e.shinsindothebrew=64299,e.shook=642,e.sigma=963,e.sigma1=962,e.sigmafinal=962,e.sigmalunatesymbolgreek=1010,e.sihiragana=12375,e.sikatakana=12471,e.sikatakanahalfwidth=65404,e.siluqhebrew=1469,e.siluqlefthebrew=1469,e.similar=8764,e.sindothebrew=1474,e.siosacirclekorean=12916,e.siosaparenkorean=12820,e.sioscieuckorean=12670,e.sioscirclekorean=12902,e.sioskiyeokkorean=12666,e.sioskorean=12613,e.siosnieunkorean=12667,e.siosparenkorean=12806,e.siospieupkorean=12669,e.siostikeutkorean=12668,e.six=54,e.sixarabic=1638,e.sixbengali=2540,e.sixcircle=9317,e.sixcircleinversesansserif=10127,e.sixdeva=2412,e.sixgujarati=2796,e.sixgurmukhi=2668,e.sixhackarabic=1638,e.sixhangzhou=12326,e.sixideographicparen=12837,e.sixinferior=8326,e.sixmonospace=65302,e.sixoldstyle=63286,e.sixparen=9337,e.sixperiod=9357,e.sixpersian=1782,e.sixroman=8565,e.sixsuperior=8310,e.sixteencircle=9327,e.sixteencurrencydenominatorbengali=2553,e.sixteenparen=9347,e.sixteenperiod=9367,e.sixthai=3670,e.slash=47,e.slashmonospace=65295,e.slong=383,e.slongdotaccent=7835,e.smileface=9786,e.smonospace=65363,e.sofpasuqhebrew=1475,e.softhyphen=173,e.softsigncyrillic=1100,e.sohiragana=12381,e.sokatakana=12477,e.sokatakanahalfwidth=65407,e.soliduslongoverlaycmb=824,e.solidusshortoverlaycmb=823,e.sorusithai=3625,e.sosalathai=3624,e.sosothai=3595,e.sosuathai=3626,e.space=32,e.spacehackarabic=32,e.spade=9824,e.spadesuitblack=9824,e.spadesuitwhite=9828,e.sparen=9390,e.squarebelowcmb=827,e.squarecc=13252,e.squarecm=13213,e.squarediagonalcrosshatchfill=9641,e.squarehorizontalfill=9636,e.squarekg=13199,e.squarekm=13214,e.squarekmcapital=13262,e.squareln=13265,e.squarelog=13266,e.squaremg=13198,e.squaremil=13269,e.squaremm=13212,e.squaremsquared=13217,e.squareorthogonalcrosshatchfill=9638,e.squareupperlefttolowerrightfill=9639,e.squareupperrighttolowerleftfill=9640,e.squareverticalfill=9637,e.squarewhitewithsmallblack=9635,e.srsquare=13275,e.ssabengali=2487,e.ssadeva=2359,e.ssagujarati=2743,e.ssangcieuckorean=12617,e.ssanghieuhkorean=12677,e.ssangieungkorean=12672,e.ssangkiyeokkorean=12594,e.ssangnieunkorean=12645,e.ssangpieupkorean=12611,e.ssangsioskorean=12614,e.ssangtikeutkorean=12600,e.ssuperior=63218,e.sterling=163,e.sterlingmonospace=65505,e.strokelongoverlaycmb=822,e.strokeshortoverlaycmb=821,e.subset=8834,e.subsetnotequal=8842,e.subsetorequal=8838,e.succeeds=8827,e.suchthat=8715,e.suhiragana=12377,e.sukatakana=12473,e.sukatakanahalfwidth=65405,e.sukunarabic=1618,e.summation=8721,e.sun=9788,e.superset=8835,e.supersetnotequal=8843,e.supersetorequal=8839,e.svsquare=13276,e.syouwaerasquare=13180,e.t=116,e.tabengali=2468,e.tackdown=8868,e.tackleft=8867,e.tadeva=2340,e.tagujarati=2724,e.tagurmukhi=2596,e.taharabic=1591,e.tahfinalarabic=65218,e.tahinitialarabic=65219,e.tahiragana=12383,e.tahmedialarabic=65220,e.taisyouerasquare=13181,e.takatakana=12479,e.takatakanahalfwidth=65408,e.tatweelarabic=1600,e.tau=964,e.tav=1514,e.tavdages=64330,e.tavdagesh=64330,e.tavdageshhebrew=64330,e.tavhebrew=1514,e.tbar=359,e.tbopomofo=12554,e.tcaron=357,e.tccurl=680,e.tcedilla=355,e.tcheharabic=1670,e.tchehfinalarabic=64379,e.tchehinitialarabic=64380,e.tchehmedialarabic=64381,e.tcircle=9443,e.tcircumflexbelow=7793,e.tcommaaccent=355,e.tdieresis=7831,e.tdotaccent=7787,e.tdotbelow=7789,e.tecyrillic=1090,e.tedescendercyrillic=1197,e.teharabic=1578,e.tehfinalarabic=65174,e.tehhahinitialarabic=64674,e.tehhahisolatedarabic=64524,e.tehinitialarabic=65175,e.tehiragana=12390,e.tehjeeminitialarabic=64673,e.tehjeemisolatedarabic=64523,e.tehmarbutaarabic=1577,e.tehmarbutafinalarabic=65172,e.tehmedialarabic=65176,e.tehmeeminitialarabic=64676,e.tehmeemisolatedarabic=64526,e.tehnoonfinalarabic=64627,e.tekatakana=12486,e.tekatakanahalfwidth=65411,e.telephone=8481,e.telephoneblack=9742,e.telishagedolahebrew=1440,e.telishaqetanahebrew=1449,e.tencircle=9321,e.tenideographicparen=12841,e.tenparen=9341,e.tenperiod=9361,e.tenroman=8569,e.tesh=679,e.tet=1496,e.tetdagesh=64312,e.tetdageshhebrew=64312,e.tethebrew=1496,e.tetsecyrillic=1205,e.tevirhebrew=1435,e.tevirlefthebrew=1435,e.thabengali=2469,e.thadeva=2341,e.thagujarati=2725,e.thagurmukhi=2597,e.thalarabic=1584,e.thalfinalarabic=65196,e.thanthakhatlowleftthai=63640,e.thanthakhatlowrightthai=63639,e.thanthakhatthai=3660,e.thanthakhatupperleftthai=63638,e.theharabic=1579,e.thehfinalarabic=65178,e.thehinitialarabic=65179,e.thehmedialarabic=65180,e.thereexists=8707,e.therefore=8756,e.theta=952,e.theta1=977,e.thetasymbolgreek=977,e.thieuthacirclekorean=12921,e.thieuthaparenkorean=12825,e.thieuthcirclekorean=12907,e.thieuthkorean=12620,e.thieuthparenkorean=12811,e.thirteencircle=9324,e.thirteenparen=9344,e.thirteenperiod=9364,e.thonangmonthothai=3601,e.thook=429,e.thophuthaothai=3602,e.thorn=254,e.thothahanthai=3607,e.thothanthai=3600,e.thothongthai=3608,e.thothungthai=3606,e.thousandcyrillic=1154,e.thousandsseparatorarabic=1644,e.thousandsseparatorpersian=1644,e.three=51,e.threearabic=1635,e.threebengali=2537,e.threecircle=9314,e.threecircleinversesansserif=10124,e.threedeva=2409,e.threeeighths=8540,e.threegujarati=2793,e.threegurmukhi=2665,e.threehackarabic=1635,e.threehangzhou=12323,e.threeideographicparen=12834,e.threeinferior=8323,e.threemonospace=65299,e.threenumeratorbengali=2550,e.threeoldstyle=63283,e.threeparen=9334,e.threeperiod=9354,e.threepersian=1779,e.threequarters=190,e.threequartersemdash=63198,e.threeroman=8562,e.threesuperior=179,e.threethai=3667,e.thzsquare=13204,e.tihiragana=12385,e.tikatakana=12481,e.tikatakanahalfwidth=65409,e.tikeutacirclekorean=12912,e.tikeutaparenkorean=12816,e.tikeutcirclekorean=12898,e.tikeutkorean=12599,e.tikeutparenkorean=12802,e.tilde=732,e.tildebelowcmb=816,e.tildecmb=771,e.tildecomb=771,e.tildedoublecmb=864,e.tildeoperator=8764,e.tildeoverlaycmb=820,e.tildeverticalcmb=830,e.timescircle=8855,e.tipehahebrew=1430,e.tipehalefthebrew=1430,e.tippigurmukhi=2672,e.titlocyrilliccmb=1155,e.tiwnarmenian=1407,e.tlinebelow=7791,e.tmonospace=65364,e.toarmenian=1385,e.tohiragana=12392,e.tokatakana=12488,e.tokatakanahalfwidth=65412,e.tonebarextrahighmod=741,e.tonebarextralowmod=745,e.tonebarhighmod=742,e.tonebarlowmod=744,e.tonebarmidmod=743,e.tonefive=445,e.tonesix=389,e.tonetwo=424,e.tonos=900,e.tonsquare=13095,e.topatakthai=3599,e.tortoiseshellbracketleft=12308,e.tortoiseshellbracketleftsmall=65117,e.tortoiseshellbracketleftvertical=65081,e.tortoiseshellbracketright=12309,e.tortoiseshellbracketrightsmall=65118,e.tortoiseshellbracketrightvertical=65082,e.totaothai=3605,e.tpalatalhook=427,e.tparen=9391,e.trademark=8482,e.trademarksans=63722,e.trademarkserif=63195,e.tretroflexhook=648,e.triagdn=9660,e.triaglf=9668,e.triagrt=9658,e.triagup=9650,e.ts=678,e.tsadi=1510,e.tsadidagesh=64326,e.tsadidageshhebrew=64326,e.tsadihebrew=1510,e.tsecyrillic=1094,e.tsere=1461,e.tsere12=1461,e.tsere1e=1461,e.tsere2b=1461,e.tserehebrew=1461,e.tserenarrowhebrew=1461,e.tserequarterhebrew=1461,e.tserewidehebrew=1461,e.tshecyrillic=1115,e.tsuperior=63219,e.ttabengali=2463,e.ttadeva=2335,e.ttagujarati=2719,e.ttagurmukhi=2591,e.tteharabic=1657,e.ttehfinalarabic=64359,e.ttehinitialarabic=64360,e.ttehmedialarabic=64361,e.tthabengali=2464,e.tthadeva=2336,e.tthagujarati=2720,e.tthagurmukhi=2592,e.tturned=647,e.tuhiragana=12388,e.tukatakana=12484,e.tukatakanahalfwidth=65410,e.tusmallhiragana=12387,e.tusmallkatakana=12483,e.tusmallkatakanahalfwidth=65391,e.twelvecircle=9323,e.twelveparen=9343,e.twelveperiod=9363,e.twelveroman=8571,e.twentycircle=9331,e.twentyhangzhou=21316,e.twentyparen=9351,e.twentyperiod=9371,e.two=50,e.twoarabic=1634,e.twobengali=2536,e.twocircle=9313,e.twocircleinversesansserif=10123,e.twodeva=2408,e.twodotenleader=8229,e.twodotleader=8229,e.twodotleadervertical=65072,e.twogujarati=2792,e.twogurmukhi=2664,e.twohackarabic=1634,e.twohangzhou=12322,e.twoideographicparen=12833,e.twoinferior=8322,e.twomonospace=65298,e.twonumeratorbengali=2549,e.twooldstyle=63282,e.twoparen=9333,e.twoperiod=9353,e.twopersian=1778,e.tworoman=8561,e.twostroke=443,e.twosuperior=178,e.twothai=3666,e.twothirds=8532,e.u=117,e.uacute=250,e.ubar=649,e.ubengali=2441,e.ubopomofo=12584,e.ubreve=365,e.ucaron=468,e.ucircle=9444,e.ucircumflex=251,e.ucircumflexbelow=7799,e.ucyrillic=1091,e.udattadeva=2385,e.udblacute=369,e.udblgrave=533,e.udeva=2313,e.udieresis=252,e.udieresisacute=472,e.udieresisbelow=7795,e.udieresiscaron=474,e.udieresiscyrillic=1265,e.udieresisgrave=476,e.udieresismacron=470,e.udotbelow=7909,e.ugrave=249,e.ugujarati=2697,e.ugurmukhi=2569,e.uhiragana=12358,e.uhookabove=7911,e.uhorn=432,e.uhornacute=7913,e.uhorndotbelow=7921,e.uhorngrave=7915,e.uhornhookabove=7917,e.uhorntilde=7919,e.uhungarumlaut=369,e.uhungarumlautcyrillic=1267,e.uinvertedbreve=535,e.ukatakana=12454,e.ukatakanahalfwidth=65395,e.ukcyrillic=1145,e.ukorean=12636,e.umacron=363,e.umacroncyrillic=1263,e.umacrondieresis=7803,e.umatragurmukhi=2625,e.umonospace=65365,e.underscore=95,e.underscoredbl=8215,e.underscoremonospace=65343,e.underscorevertical=65075,e.underscorewavy=65103,e.union=8746,e.universal=8704,e.uogonek=371,e.uparen=9392,e.upblock=9600,e.upperdothebrew=1476,e.upsilon=965,e.upsilondieresis=971,e.upsilondieresistonos=944,e.upsilonlatin=650,e.upsilontonos=973,e.uptackbelowcmb=797,e.uptackmod=724,e.uragurmukhi=2675,e.uring=367,e.ushortcyrillic=1118,e.usmallhiragana=12357,e.usmallkatakana=12453,e.usmallkatakanahalfwidth=65385,e.ustraightcyrillic=1199,e.ustraightstrokecyrillic=1201,e.utilde=361,e.utildeacute=7801,e.utildebelow=7797,e.uubengali=2442,e.uudeva=2314,e.uugujarati=2698,e.uugurmukhi=2570,e.uumatragurmukhi=2626,e.uuvowelsignbengali=2498,e.uuvowelsigndeva=2370,e.uuvowelsigngujarati=2754,e.uvowelsignbengali=2497,e.uvowelsigndeva=2369,e.uvowelsigngujarati=2753,e.v=118,e.vadeva=2357,e.vagujarati=2741,e.vagurmukhi=2613,e.vakatakana=12535,e.vav=1493,e.vavdagesh=64309,e.vavdagesh65=64309,e.vavdageshhebrew=64309,e.vavhebrew=1493,e.vavholam=64331,e.vavholamhebrew=64331,e.vavvavhebrew=1520,e.vavyodhebrew=1521,e.vcircle=9445,e.vdotbelow=7807,e.vecyrillic=1074,e.veharabic=1700,e.vehfinalarabic=64363,e.vehinitialarabic=64364,e.vehmedialarabic=64365,e.vekatakana=12537,e.venus=9792,e.verticalbar=124,e.verticallineabovecmb=781,e.verticallinebelowcmb=809,e.verticallinelowmod=716,e.verticallinemod=712,e.vewarmenian=1406,e.vhook=651,e.vikatakana=12536,e.viramabengali=2509,e.viramadeva=2381,e.viramagujarati=2765,e.visargabengali=2435,e.visargadeva=2307,e.visargagujarati=2691,e.vmonospace=65366,e.voarmenian=1400,e.voicediterationhiragana=12446,e.voicediterationkatakana=12542,e.voicedmarkkana=12443,e.voicedmarkkanahalfwidth=65438,e.vokatakana=12538,e.vparen=9393,e.vtilde=7805,e.vturned=652,e.vuhiragana=12436,e.vukatakana=12532,e.w=119,e.wacute=7811,e.waekorean=12633,e.wahiragana=12431,e.wakatakana=12527,e.wakatakanahalfwidth=65436,e.wakorean=12632,e.wasmallhiragana=12430,e.wasmallkatakana=12526,e.wattosquare=13143,e.wavedash=12316,e.wavyunderscorevertical=65076,e.wawarabic=1608,e.wawfinalarabic=65262,e.wawhamzaabovearabic=1572,e.wawhamzaabovefinalarabic=65158,e.wbsquare=13277,e.wcircle=9446,e.wcircumflex=373,e.wdieresis=7813,e.wdotaccent=7815,e.wdotbelow=7817,e.wehiragana=12433,e.weierstrass=8472,e.wekatakana=12529,e.wekorean=12638,e.weokorean=12637,e.wgrave=7809,e.whitebullet=9702,e.whitecircle=9675,e.whitecircleinverse=9689,e.whitecornerbracketleft=12302,e.whitecornerbracketleftvertical=65091,e.whitecornerbracketright=12303,e.whitecornerbracketrightvertical=65092,e.whitediamond=9671,e.whitediamondcontainingblacksmalldiamond=9672,e.whitedownpointingsmalltriangle=9663,e.whitedownpointingtriangle=9661,e.whiteleftpointingsmalltriangle=9667,e.whiteleftpointingtriangle=9665,e.whitelenticularbracketleft=12310,e.whitelenticularbracketright=12311,e.whiterightpointingsmalltriangle=9657,e.whiterightpointingtriangle=9655,e.whitesmallsquare=9643,e.whitesmilingface=9786,e.whitesquare=9633,e.whitestar=9734,e.whitetelephone=9743,e.whitetortoiseshellbracketleft=12312,e.whitetortoiseshellbracketright=12313,e.whiteuppointingsmalltriangle=9653,e.whiteuppointingtriangle=9651,e.wihiragana=12432,e.wikatakana=12528,e.wikorean=12639,e.wmonospace=65367,e.wohiragana=12434,e.wokatakana=12530,e.wokatakanahalfwidth=65382,e.won=8361,e.wonmonospace=65510,e.wowaenthai=3623,e.wparen=9394,e.wring=7832,e.wsuperior=695,e.wturned=653,e.wynn=447,e.x=120,e.xabovecmb=829,e.xbopomofo=12562,e.xcircle=9447,e.xdieresis=7821,e.xdotaccent=7819,e.xeharmenian=1389,e.xi=958,e.xmonospace=65368,e.xparen=9395,e.xsuperior=739,e.y=121,e.yaadosquare=13134,e.yabengali=2479,e.yacute=253,e.yadeva=2351,e.yaekorean=12626,e.yagujarati=2735,e.yagurmukhi=2607,e.yahiragana=12420,e.yakatakana=12516,e.yakatakanahalfwidth=65428,e.yakorean=12625,e.yamakkanthai=3662,e.yasmallhiragana=12419,e.yasmallkatakana=12515,e.yasmallkatakanahalfwidth=65388,e.yatcyrillic=1123,e.ycircle=9448,e.ycircumflex=375,e.ydieresis=255,e.ydotaccent=7823,e.ydotbelow=7925,e.yeharabic=1610,e.yehbarreearabic=1746,e.yehbarreefinalarabic=64431,e.yehfinalarabic=65266,e.yehhamzaabovearabic=1574,e.yehhamzaabovefinalarabic=65162,e.yehhamzaaboveinitialarabic=65163,e.yehhamzaabovemedialarabic=65164,e.yehinitialarabic=65267,e.yehmedialarabic=65268,e.yehmeeminitialarabic=64733,e.yehmeemisolatedarabic=64600,e.yehnoonfinalarabic=64660,e.yehthreedotsbelowarabic=1745,e.yekorean=12630,e.yen=165,e.yenmonospace=65509,e.yeokorean=12629,e.yeorinhieuhkorean=12678,e.yerahbenyomohebrew=1450,e.yerahbenyomolefthebrew=1450,e.yericyrillic=1099,e.yerudieresiscyrillic=1273,e.yesieungkorean=12673,e.yesieungpansioskorean=12675,e.yesieungsioskorean=12674,e.yetivhebrew=1434,e.ygrave=7923,e.yhook=436,e.yhookabove=7927,e.yiarmenian=1397,e.yicyrillic=1111,e.yikorean=12642,e.yinyang=9775,e.yiwnarmenian=1410,e.ymonospace=65369,e.yod=1497,e.yoddagesh=64313,e.yoddageshhebrew=64313,e.yodhebrew=1497,e.yodyodhebrew=1522,e.yodyodpatahhebrew=64287,e.yohiragana=12424,e.yoikorean=12681,e.yokatakana=12520,e.yokatakanahalfwidth=65430,e.yokorean=12635,e.yosmallhiragana=12423,e.yosmallkatakana=12519,e.yosmallkatakanahalfwidth=65390,e.yotgreek=1011,e.yoyaekorean=12680,e.yoyakorean=12679,e.yoyakthai=3618,e.yoyingthai=3597,e.yparen=9396,e.ypogegrammeni=890,e.ypogegrammenigreekcmb=837,e.yr=422,e.yring=7833,e.ysuperior=696,e.ytilde=7929,e.yturned=654,e.yuhiragana=12422,e.yuikorean=12684,e.yukatakana=12518,e.yukatakanahalfwidth=65429,e.yukorean=12640,e.yusbigcyrillic=1131,e.yusbigiotifiedcyrillic=1133,e.yuslittlecyrillic=1127,e.yuslittleiotifiedcyrillic=1129,e.yusmallhiragana=12421,e.yusmallkatakana=12517,e.yusmallkatakanahalfwidth=65389,e.yuyekorean=12683,e.yuyeokorean=12682,e.yyabengali=2527,e.yyadeva=2399,e.z=122,e.zaarmenian=1382,e.zacute=378,e.zadeva=2395,e.zagurmukhi=2651,e.zaharabic=1592,e.zahfinalarabic=65222,e.zahinitialarabic=65223,e.zahiragana=12374,e.zahmedialarabic=65224,e.zainarabic=1586,e.zainfinalarabic=65200,e.zakatakana=12470,e.zaqefgadolhebrew=1429,e.zaqefqatanhebrew=1428,e.zarqahebrew=1432,e.zayin=1494,e.zayindagesh=64310,e.zayindageshhebrew=64310,e.zayinhebrew=1494,e.zbopomofo=12567,e.zcaron=382,e.zcircle=9449,e.zcircumflex=7825,e.zcurl=657,e.zdot=380,e.zdotaccent=380,e.zdotbelow=7827,e.zecyrillic=1079,e.zedescendercyrillic=1177,e.zedieresiscyrillic=1247,e.zehiragana=12380,e.zekatakana=12476,e.zero=48,e.zeroarabic=1632,e.zerobengali=2534,e.zerodeva=2406,e.zerogujarati=2790,e.zerogurmukhi=2662,e.zerohackarabic=1632,e.zeroinferior=8320,e.zeromonospace=65296,e.zerooldstyle=63280,e.zeropersian=1776,e.zerosuperior=8304,e.zerothai=3664,e.zerowidthjoiner=65279,e.zerowidthnonjoiner=8204,e.zerowidthspace=8203,e.zeta=950,e.zhbopomofo=12563,e.zhearmenian=1386,e.zhebrevecyrillic=1218,e.zhecyrillic=1078,e.zhedescendercyrillic=1175,e.zhedieresiscyrillic=1245,e.zihiragana=12376,e.zikatakana=12472,e.zinorhebrew=1454,e.zlinebelow=7829,e.zmonospace=65370,e.zohiragana=12382,e.zokatakana=12478,e.zparen=9397,e.zretroflexhook=656,e.zstroke=438,e.zuhiragana=12378,e.zukatakana=12474,e[".notdef"]=0,e.angbracketleftbig=9001,e.angbracketleftBig=9001,e.angbracketleftbigg=9001,e.angbracketleftBigg=9001,e.angbracketrightBig=9002,e.angbracketrightbig=9002,e.angbracketrightBigg=9002,e.angbracketrightbigg=9002,e.arrowhookleft=8618,e.arrowhookright=8617,e.arrowlefttophalf=8636,e.arrowleftbothalf=8637,e.arrownortheast=8599,e.arrownorthwest=8598,e.arrowrighttophalf=8640,e.arrowrightbothalf=8641,e.arrowsoutheast=8600,e.arrowsouthwest=8601,e.backslashbig=8726,e.backslashBig=8726,e.backslashBigg=8726,e.backslashbigg=8726,e.bardbl=8214,e.bracehtipdownleft=65079,e.bracehtipdownright=65079,e.bracehtipupleft=65080,e.bracehtipupright=65080,e.braceleftBig=123,e.braceleftbig=123,e.braceleftbigg=123,e.braceleftBigg=123,e.bracerightBig=125,e.bracerightbig=125,e.bracerightbigg=125,e.bracerightBigg=125,e.bracketleftbig=91,e.bracketleftBig=91,e.bracketleftbigg=91,e.bracketleftBigg=91,e.bracketrightBig=93,e.bracketrightbig=93,e.bracketrightbigg=93,e.bracketrightBigg=93,e.ceilingleftbig=8968,e.ceilingleftBig=8968,e.ceilingleftBigg=8968,e.ceilingleftbigg=8968,e.ceilingrightbig=8969,e.ceilingrightBig=8969,e.ceilingrightbigg=8969,e.ceilingrightBigg=8969,e.circledotdisplay=8857,e.circledottext=8857,e.circlemultiplydisplay=8855,e.circlemultiplytext=8855,e.circleplusdisplay=8853,e.circleplustext=8853,e.contintegraldisplay=8750,e.contintegraltext=8750,e.coproductdisplay=8720,e.coproducttext=8720,e.floorleftBig=8970,e.floorleftbig=8970,e.floorleftbigg=8970,e.floorleftBigg=8970,e.floorrightbig=8971,e.floorrightBig=8971,e.floorrightBigg=8971,e.floorrightbigg=8971,e.hatwide=770,e.hatwider=770,e.hatwidest=770,e.intercal=7488,e.integraldisplay=8747,e.integraltext=8747,e.intersectiondisplay=8898,e.intersectiontext=8898,e.logicalanddisplay=8743,e.logicalandtext=8743,e.logicalordisplay=8744,e.logicalortext=8744,e.parenleftBig=40,e.parenleftbig=40,e.parenleftBigg=40,e.parenleftbigg=40,e.parenrightBig=41,e.parenrightbig=41,e.parenrightBigg=41,e.parenrightbigg=41,e.prime=8242,e.productdisplay=8719,e.producttext=8719,e.radicalbig=8730,e.radicalBig=8730,e.radicalBigg=8730,e.radicalbigg=8730,e.radicalbt=8730,e.radicaltp=8730,e.radicalvertex=8730,e.slashbig=47,e.slashBig=47,e.slashBigg=47,e.slashbigg=47,e.summationdisplay=8721,e.summationtext=8721,e.tildewide=732,e.tildewider=732,e.tildewidest=732,e.uniondisplay=8899,e.unionmultidisplay=8846,e.unionmultitext=8846,e.unionsqdisplay=8852,e.unionsqtext=8852,e.uniontext=8899,e.vextenddouble=8741,e.vextendsingle=8739}),K=(0,n.getLookupTableFactory)(function(e){e.space=32,e.a1=9985,e.a2=9986,e.a202=9987,e.a3=9988,e.a4=9742,e.a5=9990,e.a119=9991,e.a118=9992,e.a117=9993,e.a11=9755,e.a12=9758,e.a13=9996,e.a14=9997,e.a15=9998,e.a16=9999,e.a105=1e4,e.a17=10001,e.a18=10002,e.a19=10003,e.a20=10004,e.a21=10005,e.a22=10006,e.a23=10007,e.a24=10008,e.a25=10009,e.a26=10010,e.a27=10011,e.a28=10012,e.a6=10013,e.a7=10014,e.a8=10015,e.a9=10016,e.a10=10017,e.a29=10018,e.a30=10019,e.a31=10020,e.a32=10021,e.a33=10022,e.a34=10023,e.a35=9733,e.a36=10025,e.a37=10026,e.a38=10027,e.a39=10028,e.a40=10029,e.a41=10030,e.a42=10031,e.a43=10032,e.a44=10033,e.a45=10034,e.a46=10035,e.a47=10036,e.a48=10037,e.a49=10038,e.a50=10039,e.a51=10040,e.a52=10041,e.a53=10042,e.a54=10043,e.a55=10044,e.a56=10045,e.a57=10046,e.a58=10047,e.a59=10048,e.a60=10049,e.a61=10050,e.a62=10051,e.a63=10052,e.a64=10053,e.a65=10054,e.a66=10055,e.a67=10056,e.a68=10057,e.a69=10058,e.a70=10059,e.a71=9679,e.a72=10061,e.a73=9632,e.a74=10063,e.a203=10064,e.a75=10065,e.a204=10066,e.a76=9650,e.a77=9660,e.a78=9670,e.a79=10070,e.a81=9687,e.a82=10072,e.a83=10073,e.a84=10074,e.a97=10075,e.a98=10076,e.a99=10077,e.a100=10078,e.a101=10081,e.a102=10082,e.a103=10083,e.a104=10084,e.a106=10085,e.a107=10086,e.a108=10087,e.a112=9827,e.a111=9830,e.a110=9829,e.a109=9824,e.a120=9312,e.a121=9313,e.a122=9314,e.a123=9315,e.a124=9316,e.a125=9317,e.a126=9318,e.a127=9319,e.a128=9320,e.a129=9321,e.a130=10102,e.a131=10103,e.a132=10104,e.a133=10105,e.a134=10106,e.a135=10107,e.a136=10108,e.a137=10109,e.a138=10110,e.a139=10111,e.a140=10112,e.a141=10113,e.a142=10114,e.a143=10115,e.a144=10116,e.a145=10117,e.a146=10118,e.a147=10119,e.a148=10120,e.a149=10121,e.a150=10122,e.a151=10123,e.a152=10124,e.a153=10125,e.a154=10126,e.a155=10127,e.a156=10128,e.a157=10129,e.a158=10130,e.a159=10131,e.a160=10132,e.a161=8594,e.a163=8596,e.a164=8597,e.a196=10136,e.a165=10137,e.a192=10138,e.a166=10139,e.a167=10140,e.a168=10141,e.a169=10142,e.a170=10143,e.a171=10144,e.a172=10145,e.a173=10146,e.a162=10147,e.a174=10148,e.a175=10149,e.a176=10150,e.a177=10151,e.a178=10152,e.a179=10153,e.a193=10154,e.a180=10155,e.a199=10156,e.a181=10157,e.a200=10158,e.a182=10159,e.a201=10161,e.a183=10162,e.a184=10163,e.a197=10164,e.a185=10165,e.a194=10166,e.a198=10167,e.a186=10168,e.a195=10169,e.a187=10170,e.a188=10171,e.a189=10172,e.a190=10173,e.a191=10174,e.a89=10088,e.a90=10089,e.a93=10090,e.a94=10091,e.a91=10092,e.a92=10093,e.a205=10094,e.a85=10095,e.a206=10096,e.a86=10097,e.a87=10098,e.a88=10099,e.a95=10100,e.a96=10101,e[".notdef"]=0})},(fe,S,ee)=>{ee.r(S),ee.d(S,{clearUnicodeCaches:()=>C,getCharUnicodeCategory:()=>I,getUnicodeForGlyph:()=>e,getUnicodeRangeFor:()=>H,mapSpecialUnicodeValues:()=>K});var n=ee(3);const l=(0,n.getLookupTableFactory)(function(w){w[63721]=169,w[63193]=169,w[63720]=174,w[63194]=174,w[63722]=8482,w[63195]=8482,w[63729]=9127,w[63730]=9128,w[63731]=9129,w[63740]=9131,w[63741]=9132,w[63742]=9133,w[63726]=9121,w[63727]=9122,w[63728]=9123,w[63737]=9124,w[63738]=9125,w[63739]=9126,w[63723]=9115,w[63724]=9116,w[63725]=9117,w[63734]=9118,w[63735]=9119,w[63736]=9120});function K(w){return w>=65520&&w<=65535?0:w>=62976&&w<=63743?l()[w]||w:w===173?45:w}function e(w,i){let F=i[w];if(F!==void 0)return F;if(!w)return-1;if(w[0]==="u"){const B=w.length;let u;if(B===7&&w[1]==="n"&&w[2]==="i")u=w.substring(3);else if(B>=5&&B<=7)u=w.substring(1);else return-1;if(u===u.toUpperCase()&&(F=parseInt(u,16),F>=0))return F}return-1}const t=[[0,127],[128,255],[256,383],[384,591],[592,687,7424,7551,7552,7615],[688,767,42752,42783],[768,879,7616,7679],[880,1023],[11392,11519],[1024,1279,1280,1327,11744,11775,42560,42655],[1328,1423],[1424,1535],[42240,42559],[1536,1791,1872,1919],[1984,2047],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3584,3711],[3712,3839],[4256,4351,11520,11567],[6912,7039],[4352,4607],[7680,7935,11360,11391,42784,43007],[7936,8191],[8192,8303,11776,11903],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703,10224,10239,10496,10623,11008,11263],[8704,8959,10752,11007,10176,10223,10624,10751],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[12288,12351],[12352,12447],[12448,12543,12784,12799],[12544,12591,12704,12735],[12592,12687],[43072,43135],[12800,13055],[13056,13311],[44032,55215],[55296,57343],[67840,67871],[19968,40959,11904,12031,12032,12255,12272,12287,13312,19903,131072,173791,12688,12703],[57344,63743],[12736,12783,63744,64255,194560,195103],[64256,64335],[64336,65023],[65056,65071],[65040,65055],[65104,65135],[65136,65279],[65280,65519],[65520,65535],[3840,4095],[1792,1871],[1920,1983],[3456,3583],[4096,4255],[4608,4991,4992,5023,11648,11743],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[10240,10495],[40960,42127],[5888,5919,5920,5951,5952,5983,5984,6015],[66304,66351],[66352,66383],[66560,66639],[118784,119039,119040,119295,119296,119375],[119808,120831],[1044480,1048573],[65024,65039,917760,917999],[917504,917631],[6400,6479],[6480,6527],[6528,6623],[6656,6687],[11264,11359],[11568,11647],[19904,19967],[43008,43055],[65536,65663,65664,65791,65792,65855],[65856,65935],[66432,66463],[66464,66527],[66640,66687],[66688,66735],[67584,67647],[68096,68191],[119552,119647],[73728,74751,74752,74879],[119648,119679],[7040,7103],[7168,7247],[7248,7295],[43136,43231],[43264,43311],[43312,43359],[43520,43615],[65936,65999],[66e3,66047],[66208,66271,66176,66207,67872,67903],[127024,127135,126976,127023]];function H(w,i=-1){if(i!==-1){const F=t[i];for(let B=0,u=F.length;B<u;B+=2)if(w>=F[B]&&w<=F[B+1])return i}for(let F=0,B=t.length;F<B;F++){const u=t[F];for(let s=0,o=u.length;s<o;s+=2)if(w>=u[s]&&w<=u[s+1])return F}return-1}const z=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),G=new Map;function I(w){const i=G.get(w);if(i)return i;const F=w.match(z),B={isWhitespace:!!(F!=null&&F[1]),isZeroWidthDiacritic:!!(F!=null&&F[2]),isInvisibleFormatMark:!!(F!=null&&F[3])};return G.set(w,B),B}function C(){G.clear()}},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.getSerifFonts=S.getNonStdFontMap=S.getGlyphMapForStandardFonts=S.getFontNameToFileMap=void 0,S.getStandardFontName=w,S.getSymbolsFonts=S.getSupplementalGlyphMapForCalibri=S.getSupplementalGlyphMapForArialBlack=S.getStdFontMap=void 0;var n=ee(3),l=ee(38);const K=(0,n.getLookupTableFactory)(function(i){i["Times-Roman"]="Times-Roman",i.Helvetica="Helvetica",i.Courier="Courier",i.Symbol="Symbol",i["Times-Bold"]="Times-Bold",i["Helvetica-Bold"]="Helvetica-Bold",i["Courier-Bold"]="Courier-Bold",i.ZapfDingbats="ZapfDingbats",i["Times-Italic"]="Times-Italic",i["Helvetica-Oblique"]="Helvetica-Oblique",i["Courier-Oblique"]="Courier-Oblique",i["Times-BoldItalic"]="Times-BoldItalic",i["Helvetica-BoldOblique"]="Helvetica-BoldOblique",i["Courier-BoldOblique"]="Courier-BoldOblique",i.ArialNarrow="Helvetica",i["ArialNarrow-Bold"]="Helvetica-Bold",i["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",i["ArialNarrow-Italic"]="Helvetica-Oblique",i.ArialBlack="Helvetica",i["ArialBlack-Bold"]="Helvetica-Bold",i["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",i["ArialBlack-Italic"]="Helvetica-Oblique",i["Arial-Black"]="Helvetica",i["Arial-Black-Bold"]="Helvetica-Bold",i["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",i["Arial-Black-Italic"]="Helvetica-Oblique",i.Arial="Helvetica",i["Arial-Bold"]="Helvetica-Bold",i["Arial-BoldItalic"]="Helvetica-BoldOblique",i["Arial-Italic"]="Helvetica-Oblique",i.ArialMT="Helvetica",i["Arial-BoldItalicMT"]="Helvetica-BoldOblique",i["Arial-BoldMT"]="Helvetica-Bold",i["Arial-ItalicMT"]="Helvetica-Oblique",i["Arial-BoldItalicMT-BoldItalic"]="Helvetica-BoldOblique",i["Arial-BoldMT-Bold"]="Helvetica-Bold",i["Arial-ItalicMT-Italic"]="Helvetica-Oblique",i.ArialUnicodeMS="Helvetica",i["ArialUnicodeMS-Bold"]="Helvetica-Bold",i["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",i["ArialUnicodeMS-Italic"]="Helvetica-Oblique",i["Courier-BoldItalic"]="Courier-BoldOblique",i["Courier-Italic"]="Courier-Oblique",i.CourierNew="Courier",i["CourierNew-Bold"]="Courier-Bold",i["CourierNew-BoldItalic"]="Courier-BoldOblique",i["CourierNew-Italic"]="Courier-Oblique",i["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",i["CourierNewPS-BoldMT"]="Courier-Bold",i["CourierNewPS-ItalicMT"]="Courier-Oblique",i.CourierNewPSMT="Courier",i["Helvetica-BoldItalic"]="Helvetica-BoldOblique",i["Helvetica-Italic"]="Helvetica-Oblique",i["Symbol-Bold"]="Symbol",i["Symbol-BoldItalic"]="Symbol",i["Symbol-Italic"]="Symbol",i.TimesNewRoman="Times-Roman",i["TimesNewRoman-Bold"]="Times-Bold",i["TimesNewRoman-BoldItalic"]="Times-BoldItalic",i["TimesNewRoman-Italic"]="Times-Italic",i.TimesNewRomanPS="Times-Roman",i["TimesNewRomanPS-Bold"]="Times-Bold",i["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",i["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",i["TimesNewRomanPS-BoldMT"]="Times-Bold",i["TimesNewRomanPS-Italic"]="Times-Italic",i["TimesNewRomanPS-ItalicMT"]="Times-Italic",i.TimesNewRomanPSMT="Times-Roman",i["TimesNewRomanPSMT-Bold"]="Times-Bold",i["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",i["TimesNewRomanPSMT-Italic"]="Times-Italic"});S.getStdFontMap=K;const e=(0,n.getLookupTableFactory)(function(i){i.Courier="FoxitFixed.pfb",i["Courier-Bold"]="FoxitFixedBold.pfb",i["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",i["Courier-Oblique"]="FoxitFixedItalic.pfb",i.Helvetica="LiberationSans-Regular.ttf",i["Helvetica-Bold"]="LiberationSans-Bold.ttf",i["Helvetica-BoldOblique"]="LiberationSans-BoldItalic.ttf",i["Helvetica-Oblique"]="LiberationSans-Italic.ttf",i["Times-Roman"]="FoxitSerif.pfb",i["Times-Bold"]="FoxitSerifBold.pfb",i["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",i["Times-Italic"]="FoxitSerifItalic.pfb",i.Symbol="FoxitSymbol.pfb",i.ZapfDingbats="FoxitDingbats.pfb",i["LiberationSans-Regular"]="LiberationSans-Regular.ttf",i["LiberationSans-Bold"]="LiberationSans-Bold.ttf",i["LiberationSans-Italic"]="LiberationSans-Italic.ttf",i["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});S.getFontNameToFileMap=e;const t=(0,n.getLookupTableFactory)(function(i){i.Calibri="Helvetica",i["Calibri-Bold"]="Helvetica-Bold",i["Calibri-BoldItalic"]="Helvetica-BoldOblique",i["Calibri-Italic"]="Helvetica-Oblique",i.CenturyGothic="Helvetica",i["CenturyGothic-Bold"]="Helvetica-Bold",i["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",i["CenturyGothic-Italic"]="Helvetica-Oblique",i.ComicSansMS="Comic Sans MS",i["ComicSansMS-Bold"]="Comic Sans MS-Bold",i["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",i["ComicSansMS-Italic"]="Comic Sans MS-Italic",i.Impact="Helvetica",i["ItcSymbol-Bold"]="Helvetica-Bold",i["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",i["ItcSymbol-Book"]="Helvetica",i["ItcSymbol-BookItalic"]="Helvetica-Oblique",i["ItcSymbol-Medium"]="Helvetica",i["ItcSymbol-MediumItalic"]="Helvetica-Oblique",i.LucidaConsole="Courier",i["LucidaConsole-Bold"]="Courier-Bold",i["LucidaConsole-BoldItalic"]="Courier-BoldOblique",i["LucidaConsole-Italic"]="Courier-Oblique",i["LucidaSans-Demi"]="Helvetica-Bold",i["MS-Gothic"]="MS Gothic",i["MS-Gothic-Bold"]="MS Gothic-Bold",i["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",i["MS-Gothic-Italic"]="MS Gothic-Italic",i["MS-Mincho"]="MS Mincho",i["MS-Mincho-Bold"]="MS Mincho-Bold",i["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",i["MS-Mincho-Italic"]="MS Mincho-Italic",i["MS-PGothic"]="MS PGothic",i["MS-PGothic-Bold"]="MS PGothic-Bold",i["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",i["MS-PGothic-Italic"]="MS PGothic-Italic",i["MS-PMincho"]="MS PMincho",i["MS-PMincho-Bold"]="MS PMincho-Bold",i["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",i["MS-PMincho-Italic"]="MS PMincho-Italic",i.NuptialScript="Times-Italic",i.SegoeUISymbol="Helvetica"});S.getNonStdFontMap=t;const H=(0,n.getLookupTableFactory)(function(i){i["Adobe Jenson"]=!0,i["Adobe Text"]=!0,i.Albertus=!0,i.Aldus=!0,i.Alexandria=!0,i.Algerian=!0,i["American Typewriter"]=!0,i.Antiqua=!0,i.Apex=!0,i.Arno=!0,i.Aster=!0,i.Aurora=!0,i.Baskerville=!0,i.Bell=!0,i.Bembo=!0,i["Bembo Schoolbook"]=!0,i.Benguiat=!0,i["Berkeley Old Style"]=!0,i["Bernhard Modern"]=!0,i["Berthold City"]=!0,i.Bodoni=!0,i["Bauer Bodoni"]=!0,i["Book Antiqua"]=!0,i.Bookman=!0,i["Bordeaux Roman"]=!0,i["Californian FB"]=!0,i.Calisto=!0,i.Calvert=!0,i.Capitals=!0,i.Cambria=!0,i.Cartier=!0,i.Caslon=!0,i.Catull=!0,i.Centaur=!0,i["Century Old Style"]=!0,i["Century Schoolbook"]=!0,i.Chaparral=!0,i["Charis SIL"]=!0,i.Cheltenham=!0,i["Cholla Slab"]=!0,i.Clarendon=!0,i.Clearface=!0,i.Cochin=!0,i.Colonna=!0,i["Computer Modern"]=!0,i["Concrete Roman"]=!0,i.Constantia=!0,i["Cooper Black"]=!0,i.Corona=!0,i.Ecotype=!0,i.Egyptienne=!0,i.Elephant=!0,i.Excelsior=!0,i.Fairfield=!0,i["FF Scala"]=!0,i.Folkard=!0,i.Footlight=!0,i.FreeSerif=!0,i["Friz Quadrata"]=!0,i.Garamond=!0,i.Gentium=!0,i.Georgia=!0,i.Gloucester=!0,i["Goudy Old Style"]=!0,i["Goudy Schoolbook"]=!0,i["Goudy Pro Font"]=!0,i.Granjon=!0,i["Guardian Egyptian"]=!0,i.Heather=!0,i.Hercules=!0,i["High Tower Text"]=!0,i.Hiroshige=!0,i["Hoefler Text"]=!0,i["Humana Serif"]=!0,i.Imprint=!0,i["Ionic No. 5"]=!0,i.Janson=!0,i.Joanna=!0,i.Korinna=!0,i.Lexicon=!0,i.LiberationSerif=!0,i["Liberation Serif"]=!0,i["Linux Libertine"]=!0,i.Literaturnaya=!0,i.Lucida=!0,i["Lucida Bright"]=!0,i.Melior=!0,i.Memphis=!0,i.Miller=!0,i.Minion=!0,i.Modern=!0,i["Mona Lisa"]=!0,i["Mrs Eaves"]=!0,i["MS Serif"]=!0,i["Museo Slab"]=!0,i["New York"]=!0,i["Nimbus Roman"]=!0,i["NPS Rawlinson Roadway"]=!0,i.NuptialScript=!0,i.Palatino=!0,i.Perpetua=!0,i.Plantin=!0,i["Plantin Schoolbook"]=!0,i.Playbill=!0,i["Poor Richard"]=!0,i["Rawlinson Roadway"]=!0,i.Renault=!0,i.Requiem=!0,i.Rockwell=!0,i.Roman=!0,i["Rotis Serif"]=!0,i.Sabon=!0,i.Scala=!0,i.Seagull=!0,i.Sistina=!0,i.Souvenir=!0,i.STIX=!0,i["Stone Informal"]=!0,i["Stone Serif"]=!0,i.Sylfaen=!0,i.Times=!0,i.Trajan=!0,i.Trinité=!0,i["Trump Mediaeval"]=!0,i.Utopia=!0,i["Vale Type"]=!0,i["Bitstream Vera"]=!0,i["Vera Serif"]=!0,i.Versailles=!0,i.Wanted=!0,i.Weiss=!0,i["Wide Latin"]=!0,i.Windsor=!0,i.XITS=!0});S.getSerifFonts=H;const z=(0,n.getLookupTableFactory)(function(i){i.Dingbats=!0,i.Symbol=!0,i.ZapfDingbats=!0});S.getSymbolsFonts=z;const G=(0,n.getLookupTableFactory)(function(i){i[2]=10,i[3]=32,i[4]=33,i[5]=34,i[6]=35,i[7]=36,i[8]=37,i[9]=38,i[10]=39,i[11]=40,i[12]=41,i[13]=42,i[14]=43,i[15]=44,i[16]=45,i[17]=46,i[18]=47,i[19]=48,i[20]=49,i[21]=50,i[22]=51,i[23]=52,i[24]=53,i[25]=54,i[26]=55,i[27]=56,i[28]=57,i[29]=58,i[30]=894,i[31]=60,i[32]=61,i[33]=62,i[34]=63,i[35]=64,i[36]=65,i[37]=66,i[38]=67,i[39]=68,i[40]=69,i[41]=70,i[42]=71,i[43]=72,i[44]=73,i[45]=74,i[46]=75,i[47]=76,i[48]=77,i[49]=78,i[50]=79,i[51]=80,i[52]=81,i[53]=82,i[54]=83,i[55]=84,i[56]=85,i[57]=86,i[58]=87,i[59]=88,i[60]=89,i[61]=90,i[62]=91,i[63]=92,i[64]=93,i[65]=94,i[66]=95,i[67]=96,i[68]=97,i[69]=98,i[70]=99,i[71]=100,i[72]=101,i[73]=102,i[74]=103,i[75]=104,i[76]=105,i[77]=106,i[78]=107,i[79]=108,i[80]=109,i[81]=110,i[82]=111,i[83]=112,i[84]=113,i[85]=114,i[86]=115,i[87]=116,i[88]=117,i[89]=118,i[90]=119,i[91]=120,i[92]=121,i[93]=122,i[94]=123,i[95]=124,i[96]=125,i[97]=126,i[98]=196,i[99]=197,i[100]=199,i[101]=201,i[102]=209,i[103]=214,i[104]=220,i[105]=225,i[106]=224,i[107]=226,i[108]=228,i[109]=227,i[110]=229,i[111]=231,i[112]=233,i[113]=232,i[114]=234,i[115]=235,i[116]=237,i[117]=236,i[118]=238,i[119]=239,i[120]=241,i[121]=243,i[122]=242,i[123]=244,i[124]=246,i[125]=245,i[126]=250,i[127]=249,i[128]=251,i[129]=252,i[130]=8224,i[131]=176,i[132]=162,i[133]=163,i[134]=167,i[135]=8226,i[136]=182,i[137]=223,i[138]=174,i[139]=169,i[140]=8482,i[141]=180,i[142]=168,i[143]=8800,i[144]=198,i[145]=216,i[146]=8734,i[147]=177,i[148]=8804,i[149]=8805,i[150]=165,i[151]=181,i[152]=8706,i[153]=8721,i[154]=8719,i[156]=8747,i[157]=170,i[158]=186,i[159]=8486,i[160]=230,i[161]=248,i[162]=191,i[163]=161,i[164]=172,i[165]=8730,i[166]=402,i[167]=8776,i[168]=8710,i[169]=171,i[170]=187,i[171]=8230,i[179]=8220,i[180]=8221,i[181]=8216,i[182]=8217,i[200]=193,i[203]=205,i[207]=211,i[210]=218,i[223]=711,i[224]=321,i[225]=322,i[226]=352,i[227]=353,i[228]=381,i[229]=382,i[233]=221,i[234]=253,i[252]=263,i[253]=268,i[254]=269,i[258]=258,i[260]=260,i[261]=261,i[265]=280,i[266]=281,i[267]=282,i[268]=283,i[269]=313,i[275]=323,i[276]=324,i[278]=328,i[283]=344,i[284]=345,i[285]=346,i[286]=347,i[292]=367,i[295]=377,i[296]=378,i[298]=380,i[305]=963,i[306]=964,i[307]=966,i[308]=8215,i[309]=8252,i[310]=8319,i[311]=8359,i[312]=8592,i[313]=8593,i[337]=9552,i[493]=1039,i[494]=1040,i[672]=1488,i[673]=1489,i[674]=1490,i[675]=1491,i[676]=1492,i[677]=1493,i[678]=1494,i[679]=1495,i[680]=1496,i[681]=1497,i[682]=1498,i[683]=1499,i[684]=1500,i[685]=1501,i[686]=1502,i[687]=1503,i[688]=1504,i[689]=1505,i[690]=1506,i[691]=1507,i[692]=1508,i[693]=1509,i[694]=1510,i[695]=1511,i[696]=1512,i[697]=1513,i[698]=1514,i[705]=1524,i[706]=8362,i[710]=64288,i[711]=64298,i[759]=1617,i[761]=1776,i[763]=1778,i[775]=1652,i[777]=1764,i[778]=1780,i[779]=1781,i[780]=1782,i[782]=771,i[783]=64726,i[786]=8363,i[788]=8532,i[790]=768,i[791]=769,i[792]=768,i[795]=803,i[797]=64336,i[798]=64337,i[799]=64342,i[800]=64343,i[801]=64344,i[802]=64345,i[803]=64362,i[804]=64363,i[805]=64364,i[2424]=7821,i[2425]=7822,i[2426]=7823,i[2427]=7824,i[2428]=7825,i[2429]=7826,i[2430]=7827,i[2433]=7682,i[2678]=8045,i[2679]=8046,i[2830]=1552,i[2838]=686,i[2840]=751,i[2842]=753,i[2843]=754,i[2844]=755,i[2846]=757,i[2856]=767,i[2857]=848,i[2858]=849,i[2862]=853,i[2863]=854,i[2864]=855,i[2865]=861,i[2866]=862,i[2906]=7460,i[2908]=7462,i[2909]=7463,i[2910]=7464,i[2912]=7466,i[2913]=7467,i[2914]=7468,i[2916]=7470,i[2917]=7471,i[2918]=7472,i[2920]=7474,i[2921]=7475,i[2922]=7476,i[2924]=7478,i[2925]=7479,i[2926]=7480,i[2928]=7482,i[2929]=7483,i[2930]=7484,i[2932]=7486,i[2933]=7487,i[2934]=7488,i[2936]=7490,i[2937]=7491,i[2938]=7492,i[2940]=7494,i[2941]=7495,i[2942]=7496,i[2944]=7498,i[2946]=7500,i[2948]=7502,i[2950]=7504,i[2951]=7505,i[2952]=7506,i[2954]=7508,i[2955]=7509,i[2956]=7510,i[2958]=7512,i[2959]=7513,i[2960]=7514,i[2962]=7516,i[2963]=7517,i[2964]=7518,i[2966]=7520,i[2967]=7521,i[2968]=7522,i[2970]=7524,i[2971]=7525,i[2972]=7526,i[2974]=7528,i[2975]=7529,i[2976]=7530,i[2978]=1537,i[2979]=1538,i[2980]=1539,i[2982]=1549,i[2983]=1551,i[2984]=1552,i[2986]=1554,i[2987]=1555,i[2988]=1556,i[2990]=1623,i[2991]=1624,i[2995]=1775,i[2999]=1791,i[3002]=64290,i[3003]=64291,i[3004]=64292,i[3006]=64294,i[3007]=64295,i[3008]=64296,i[3011]=1900,i[3014]=8223,i[3015]=8244,i[3017]=7532,i[3018]=7533,i[3019]=7534,i[3075]=7590,i[3076]=7591,i[3079]=7594,i[3080]=7595,i[3083]=7598,i[3084]=7599,i[3087]=7602,i[3088]=7603,i[3091]=7606,i[3092]=7607,i[3095]=7610,i[3096]=7611,i[3099]=7614,i[3100]=7615,i[3103]=7618,i[3104]=7619,i[3107]=8337,i[3108]=8338,i[3116]=1884,i[3119]=1885,i[3120]=1885,i[3123]=1886,i[3124]=1886,i[3127]=1887,i[3128]=1887,i[3131]=1888,i[3132]=1888,i[3135]=1889,i[3136]=1889,i[3139]=1890,i[3140]=1890,i[3143]=1891,i[3144]=1891,i[3147]=1892,i[3148]=1892,i[3153]=580,i[3154]=581,i[3157]=584,i[3158]=585,i[3161]=588,i[3162]=589,i[3165]=891,i[3166]=892,i[3169]=1274,i[3170]=1275,i[3173]=1278,i[3174]=1279,i[3181]=7622,i[3182]=7623,i[3282]=11799,i[3316]=578,i[3379]=42785,i[3393]=1159,i[3416]=8377});S.getGlyphMapForStandardFonts=G;const I=(0,n.getLookupTableFactory)(function(i){i[227]=322,i[264]=261,i[291]=346});S.getSupplementalGlyphMapForArialBlack=I;const C=(0,n.getLookupTableFactory)(function(i){i[1]=32,i[4]=65,i[5]=192,i[6]=193,i[9]=196,i[17]=66,i[18]=67,i[21]=268,i[24]=68,i[28]=69,i[29]=200,i[30]=201,i[32]=282,i[38]=70,i[39]=71,i[44]=72,i[47]=73,i[48]=204,i[49]=205,i[58]=74,i[60]=75,i[62]=76,i[68]=77,i[69]=78,i[75]=79,i[76]=210,i[80]=214,i[87]=80,i[89]=81,i[90]=82,i[92]=344,i[94]=83,i[97]=352,i[100]=84,i[104]=85,i[109]=220,i[115]=86,i[116]=87,i[121]=88,i[122]=89,i[124]=221,i[127]=90,i[129]=381,i[258]=97,i[259]=224,i[260]=225,i[263]=228,i[268]=261,i[271]=98,i[272]=99,i[273]=263,i[275]=269,i[282]=100,i[286]=101,i[287]=232,i[288]=233,i[290]=283,i[295]=281,i[296]=102,i[336]=103,i[346]=104,i[349]=105,i[350]=236,i[351]=237,i[361]=106,i[364]=107,i[367]=108,i[371]=322,i[373]=109,i[374]=110,i[381]=111,i[382]=242,i[383]=243,i[386]=246,i[393]=112,i[395]=113,i[396]=114,i[398]=345,i[400]=115,i[401]=347,i[403]=353,i[410]=116,i[437]=117,i[442]=252,i[448]=118,i[449]=119,i[454]=120,i[455]=121,i[457]=253,i[460]=122,i[462]=382,i[463]=380,i[853]=44,i[855]=58,i[856]=46,i[876]=47,i[878]=45,i[882]=45,i[894]=40,i[895]=41,i[896]=91,i[897]=93,i[923]=64,i[1004]=48,i[1005]=49,i[1006]=50,i[1007]=51,i[1008]=52,i[1009]=53,i[1010]=54,i[1011]=55,i[1012]=56,i[1013]=57,i[1081]=37,i[1085]=43,i[1086]=45});S.getSupplementalGlyphMapForCalibri=C;function w(i){const F=(0,l.normalizeFontName)(i);return K()[F]}},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.ToUnicodeMap=S.IdentityToUnicodeMap=void 0;var n=ee(2);class l{constructor(t=[]){this._map=t}get length(){return this._map.length}forEach(t){for(const H in this._map)t(H,this._map[H].charCodeAt(0))}has(t){return this._map[t]!==void 0}get(t){return this._map[t]}charCodeOf(t){const H=this._map;if(H.length<=65536)return H.indexOf(t);for(const z in H)if(H[z]===t)return z|0;return-1}amend(t){for(const H in t)this._map[H]=t[H]}}S.ToUnicodeMap=l;class K{constructor(t,H){this.firstChar=t,this.lastChar=H}get length(){return this.lastChar+1-this.firstChar}forEach(t){for(let H=this.firstChar,z=this.lastChar;H<=z;H++)t(H,H)}has(t){return this.firstChar<=t&&t<=this.lastChar}get(t){if(this.firstChar<=t&&t<=this.lastChar)return String.fromCharCode(t)}charCodeOf(t){return Number.isInteger(t)&&t>=this.firstChar&&t<=this.lastChar?t:-1}amend(t){(0,n.unreachable)("Should not call amend()")}}S.IdentityToUnicodeMap=K},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.CFFFont=void 0;var n=ee(35),l=ee(38),K=ee(2);class e{constructor(H,z){this.properties=z;const G=new n.CFFParser(H,z,l.SEAC_ANALYSIS_ENABLED);this.cff=G.parse(),this.cff.duplicateFirstGlyph();const I=new n.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=I.compile()}catch{(0,K.warn)("Failed to compile font "+z.loadedName),this.data=H}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const H=this.cff,z=this.properties,{cidToGidMap:G,cMap:I}=z,C=H.charset.charset;let w,i;if(z.composite){let B;if((G==null?void 0:G.length)>0){B=Object.create(null);for(let s=0,o=G.length;s<o;s++){const y=G[s];y!==void 0&&(B[y]=s)}}w=Object.create(null);let u;if(H.isCIDFont)for(i=0;i<C.length;i++){const s=C[i];u=I.charCodeOf(s),(B==null?void 0:B[u])!==void 0&&(u=B[u]),w[u]=i}else for(i=0;i<H.charStrings.count;i++)u=I.charCodeOf(i),w[u]=i;return w}let F=H.encoding?H.encoding.encoding:null;return z.isInternalFont&&(F=z.defaultEncoding),w=(0,l.type1FontGlyphMapping)(z,F,C),w}hasGlyphId(H){return this.cff.hasGlyphId(H)}_createBuiltInEncoding(){const{charset:H,encoding:z}=this.cff;if(!H||!z)return;const G=H.charset,I=z.encoding,C=[];for(const w in I){const i=I[w];if(i>=0){const F=G[i];F&&(C[w]=F)}}C.length>0&&(this.properties.builtInEncoding=C)}}S.CFFFont=e},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.FontRendererFactory=void 0;var n=ee(2),l=ee(35),K=ee(39),e=ee(37),t=ee(8);function H(d,A){return(d[A]<<24|d[A+1]<<16|d[A+2]<<8|d[A+3])>>>0}function z(d,A){return d[A]<<8|d[A+1]}function G(d,A){return(d[A]<<24|d[A+1]<<16)>>16}function I(d,A){return d[A]<<24>>24}function C(d,A){return G(d,A)/16384}function w(d){const A=d.length;let L=32768;return A<1240?L=107:A<33900&&(L=1131),L}function i(d,A,L){const h=z(d,A+2)===1?H(d,A+8):H(d,A+16),g=z(d,A+h);let k,D,T;if(g===4){z(d,A+h+2);const V=z(d,A+h+6)>>1;for(D=A+h+14,k=[],T=0;T<V;T++,D+=2)k[T]={end:z(d,D)};for(D+=2,T=0;T<V;T++,D+=2)k[T].start=z(d,D);for(T=0;T<V;T++,D+=2)k[T].idDelta=z(d,D);for(T=0;T<V;T++,D+=2){let q=z(d,D);if(q!==0){k[T].ids=[];for(let v=0,x=k[T].end-k[T].start+1;v<x;v++)k[T].ids[v]=z(d,D+q),q+=2}}return k}else if(g===12){const V=H(d,A+h+12);for(D=A+h+16,k=[],T=0;T<V;T++)A=H(d,D),k.push({start:A,end:H(d,D+4),idDelta:H(d,D+8)-A}),D+=12;return k}throw new n.FormatError(`unsupported cmap: ${g}`)}function F(d,A,L,h){var T,V,q;const g={},D=new l.CFFParser(new t.Stream(d,A,L-A),g,h).parse();return{glyphs:D.charStrings.objects,subrs:(V=(T=D.topDict.privateDict)==null?void 0:T.subrsIndex)==null?void 0:V.objects,gsubrs:(q=D.globalSubrIndex)==null?void 0:q.objects,isCFFCIDFont:D.isCIDFont,fdSelect:D.fdSelect,fdArray:D.fdArray}}function B(d,A,L){let h,g;L?(h=4,g=H):(h=2,g=(T,V)=>2*z(T,V));const k=[];let D=g(A,0);for(let T=h;T<A.length;T+=h){const V=g(A,T);k.push(d.subarray(D,V)),D=V}return k}function u(d,A){const L=A.codePointAt(0);let h=0,g=0,k=d.length-1;for(;g<k;){const D=g+k+1>>1;L<d[D].start?k=D-1:g=D}return d[g].start<=L&&L<=d[g].end&&(h=d[g].idDelta+(d[g].ids?d[g].ids[L-d[g].start]:L)&65535),{charCode:L,glyphId:h}}function s(d,A,L){function h(x,E){A.push({cmd:"moveTo",args:[x,E]})}function g(x,E){A.push({cmd:"lineTo",args:[x,E]})}function k(x,E,U,$){A.push({cmd:"quadraticCurveTo",args:[x,E,U,$]})}let D=0;const T=G(d,D);let V,q=0,v=0;if(D+=10,T<0)do{V=z(d,D);const x=z(d,D+2);D+=4;let E,U;V&1?(V&2?(E=G(d,D),U=G(d,D+2)):(E=z(d,D),U=z(d,D+2)),D+=4):V&2?(E=I(d,D++),U=I(d,D++)):(E=d[D++],U=d[D++]),V&2?(q=E,v=U):(q=0,v=0);let $=1,Q=1,ie=0,j=0;V&8?($=Q=C(d,D),D+=2):V&64?($=C(d,D),Q=C(d,D+2),D+=4):V&128&&($=C(d,D),ie=C(d,D+2),j=C(d,D+4),Q=C(d,D+6),D+=8);const X=L.glyphs[x];X&&(A.push({cmd:"save"},{cmd:"transform",args:[$,ie,j,Q,q,v]}),s(X,A,L),A.push({cmd:"restore"}))}while(V&32);else{const x=[];let E,U;for(E=0;E<T;E++)x.push(z(d,D)),D+=2;const $=z(d,D);D+=2+$;const Q=x.at(-1)+1,ie=[];for(;ie.length<Q;){V=d[D++];let X=1;for(V&8&&(X+=d[D++]);X-- >0;)ie.push({flags:V})}for(E=0;E<Q;E++){switch(ie[E].flags&18){case 0:q+=G(d,D),D+=2;break;case 2:q-=d[D++];break;case 18:q+=d[D++];break}ie[E].x=q}for(E=0;E<Q;E++){switch(ie[E].flags&36){case 0:v+=G(d,D),D+=2;break;case 4:v-=d[D++];break;case 36:v+=d[D++];break}ie[E].y=v}let j=0;for(D=0;D<T;D++){const X=x[D],R=ie.slice(j,X+1);if(R[0].flags&1)R.push(R[0]);else if(R.at(-1).flags&1)R.unshift(R.at(-1));else{const Z={flags:1,x:(R[0].x+R.at(-1).x)/2,y:(R[0].y+R.at(-1).y)/2};R.unshift(Z),R.push(Z)}for(h(R[0].x,R[0].y),E=1,U=R.length;E<U;E++)R[E].flags&1?g(R[E].x,R[E].y):R[E+1].flags&1?(k(R[E].x,R[E].y,R[E+1].x,R[E+1].y),E++):k(R[E].x,R[E].y,(R[E].x+R[E+1].x)/2,(R[E].y+R[E+1].y)/2);j=X+1}}}function o(d,A,L,h){function g(E,U){A.push({cmd:"moveTo",args:[E,U]})}function k(E,U){A.push({cmd:"lineTo",args:[E,U]})}function D(E,U,$,Q,ie,j){A.push({cmd:"bezierCurveTo",args:[E,U,$,Q,ie,j]})}const T=[];let V=0,q=0,v=0;function x(E){var $;let U=0;for(;U<E.length;){let Q=!1,ie=E[U++],j,X,R,Z,N,M,c,_,W;switch(ie){case 1:v+=T.length>>1,Q=!0;break;case 3:v+=T.length>>1,Q=!0;break;case 4:q+=T.pop(),g(V,q),Q=!0;break;case 5:for(;T.length>0;)V+=T.shift(),q+=T.shift(),k(V,q);break;case 6:for(;T.length>0&&(V+=T.shift(),k(V,q),T.length!==0);)q+=T.shift(),k(V,q);break;case 7:for(;T.length>0&&(q+=T.shift(),k(V,q),T.length!==0);)V+=T.shift(),k(V,q);break;case 8:for(;T.length>0;)j=V+T.shift(),R=q+T.shift(),X=j+T.shift(),Z=R+T.shift(),V=X+T.shift(),q=Z+T.shift(),D(j,R,X,Z,V,q);break;case 10:if(_=T.pop(),W=null,L.isCFFCIDFont){const Y=L.fdSelect.getFDIndex(h);if(Y>=0&&Y<L.fdArray.length){const J=L.fdArray[Y];let ae;($=J.privateDict)!=null&&$.subrsIndex&&(ae=J.privateDict.subrsIndex.objects),ae&&(_+=w(ae),W=ae[_])}else(0,n.warn)("Invalid fd index for glyph index.")}else W=L.subrs[_+L.subrsBias];W&&x(W);break;case 11:return;case 12:switch(ie=E[U++],ie){case 34:j=V+T.shift(),X=j+T.shift(),N=q+T.shift(),V=X+T.shift(),D(j,q,X,N,V,N),j=V+T.shift(),X=j+T.shift(),V=X+T.shift(),D(j,N,X,q,V,q);break;case 35:j=V+T.shift(),R=q+T.shift(),X=j+T.shift(),Z=R+T.shift(),V=X+T.shift(),q=Z+T.shift(),D(j,R,X,Z,V,q),j=V+T.shift(),R=q+T.shift(),X=j+T.shift(),Z=R+T.shift(),V=X+T.shift(),q=Z+T.shift(),D(j,R,X,Z,V,q),T.pop();break;case 36:j=V+T.shift(),N=q+T.shift(),X=j+T.shift(),M=N+T.shift(),V=X+T.shift(),D(j,N,X,M,V,M),j=V+T.shift(),X=j+T.shift(),c=M+T.shift(),V=X+T.shift(),D(j,M,X,c,V,q);break;case 37:const Y=V,J=q;j=V+T.shift(),R=q+T.shift(),X=j+T.shift(),Z=R+T.shift(),V=X+T.shift(),q=Z+T.shift(),D(j,R,X,Z,V,q),j=V+T.shift(),R=q+T.shift(),X=j+T.shift(),Z=R+T.shift(),V=X,q=Z,Math.abs(V-Y)>Math.abs(q-J)?V+=T.shift():q+=T.shift(),D(j,R,X,Z,V,q);break;default:throw new n.FormatError(`unknown operator: 12 ${ie}`)}break;case 14:if(T.length>=4){const Y=T.pop(),J=T.pop();q=T.pop(),V=T.pop(),A.push({cmd:"save"},{cmd:"translate",args:[V,q]});let ae=u(L.cmap,String.fromCharCode(L.glyphNameMap[e.StandardEncoding[Y]]));o(L.glyphs[ae.glyphId],A,L,ae.glyphId),A.push({cmd:"restore"}),ae=u(L.cmap,String.fromCharCode(L.glyphNameMap[e.StandardEncoding[J]])),o(L.glyphs[ae.glyphId],A,L,ae.glyphId)}return;case 18:v+=T.length>>1,Q=!0;break;case 19:v+=T.length>>1,U+=v+7>>3,Q=!0;break;case 20:v+=T.length>>1,U+=v+7>>3,Q=!0;break;case 21:q+=T.pop(),V+=T.pop(),g(V,q),Q=!0;break;case 22:V+=T.pop(),g(V,q),Q=!0;break;case 23:v+=T.length>>1,Q=!0;break;case 24:for(;T.length>2;)j=V+T.shift(),R=q+T.shift(),X=j+T.shift(),Z=R+T.shift(),V=X+T.shift(),q=Z+T.shift(),D(j,R,X,Z,V,q);V+=T.shift(),q+=T.shift(),k(V,q);break;case 25:for(;T.length>6;)V+=T.shift(),q+=T.shift(),k(V,q);j=V+T.shift(),R=q+T.shift(),X=j+T.shift(),Z=R+T.shift(),V=X+T.shift(),q=Z+T.shift(),D(j,R,X,Z,V,q);break;case 26:for(T.length%2&&(V+=T.shift());T.length>0;)j=V,R=q+T.shift(),X=j+T.shift(),Z=R+T.shift(),V=X,q=Z+T.shift(),D(j,R,X,Z,V,q);break;case 27:for(T.length%2&&(q+=T.shift());T.length>0;)j=V+T.shift(),R=q,X=j+T.shift(),Z=R+T.shift(),V=X+T.shift(),q=Z,D(j,R,X,Z,V,q);break;case 28:T.push((E[U]<<24|E[U+1]<<16)>>16),U+=2;break;case 29:_=T.pop()+L.gsubrsBias,W=L.gsubrs[_],W&&x(W);break;case 30:for(;T.length>0&&(j=V,R=q+T.shift(),X=j+T.shift(),Z=R+T.shift(),V=X+T.shift(),q=Z+(T.length===1?T.shift():0),D(j,R,X,Z,V,q),T.length!==0);)j=V+T.shift(),R=q,X=j+T.shift(),Z=R+T.shift(),q=Z+T.shift(),V=X+(T.length===1?T.shift():0),D(j,R,X,Z,V,q);break;case 31:for(;T.length>0&&(j=V+T.shift(),R=q,X=j+T.shift(),Z=R+T.shift(),q=Z+T.shift(),V=X+(T.length===1?T.shift():0),D(j,R,X,Z,V,q),T.length!==0);)j=V,R=q+T.shift(),X=j+T.shift(),Z=R+T.shift(),V=X+T.shift(),q=Z+(T.length===1?T.shift():0),D(j,R,X,Z,V,q);break;default:if(ie<32)throw new n.FormatError(`unknown operator: ${ie}`);ie<247?T.push(ie-139):ie<251?T.push((ie-247)*256+E[U++]+108):ie<255?T.push(-(ie-251)*256-E[U++]-108):(T.push((E[U]<<24|E[U+1]<<16|E[U+2]<<8|E[U+3])/65536),U+=4);break}Q&&(T.length=0)}}x(d)}const y=[];class r{constructor(A){this.constructor===r&&(0,n.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=A,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(A){const{charCode:L,glyphId:h}=u(this.cmap,A);let g=this.compiledGlyphs[h];if(!g)try{g=this.compileGlyph(this.glyphs[h],h),this.compiledGlyphs[h]=g}catch(k){throw this.compiledGlyphs[h]=y,this.compiledCharCodeToGlyphId[L]===void 0&&(this.compiledCharCodeToGlyphId[L]=h),k}return this.compiledCharCodeToGlyphId[L]===void 0&&(this.compiledCharCodeToGlyphId[L]=h),g}compileGlyph(A,L){if(!A||A.length===0||A[0]===14)return y;let h=this.fontMatrix;if(this.isCFFCIDFont){const k=this.fdSelect.getFDIndex(L);k>=0&&k<this.fdArray.length?h=this.fdArray[k].getByName("FontMatrix")||n.FONT_IDENTITY_MATRIX:(0,n.warn)("Invalid fd index for glyph index.")}const g=[{cmd:"save"},{cmd:"transform",args:h.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(A,g,L),g.push({cmd:"restore"}),g}compileGlyphImpl(){(0,n.unreachable)("Children classes should implement this.")}hasBuiltPath(A){const{charCode:L,glyphId:h}=u(this.cmap,A);return this.compiledGlyphs[h]!==void 0&&this.compiledCharCodeToGlyphId[L]!==void 0}}class f extends r{constructor(A,L,h){super(h||[488e-6,0,0,488e-6,0,0]),this.glyphs=A,this.cmap=L}compileGlyphImpl(A,L){s(A,L,this)}}class m extends r{constructor(A,L,h,g){super(h||[.001,0,0,.001,0,0]),this.glyphs=A.glyphs,this.gsubrs=A.gsubrs||[],this.subrs=A.subrs||[],this.cmap=L,this.glyphNameMap=g||(0,K.getGlyphsUnicode)(),this.gsubrsBias=w(this.gsubrs),this.subrsBias=w(this.subrs),this.isCFFCIDFont=A.isCFFCIDFont,this.fdSelect=A.fdSelect,this.fdArray=A.fdArray}compileGlyphImpl(A,L,h){o(A,L,this,h)}}class P{static create(A,L){const h=new Uint8Array(A.data);let g,k,D,T,V,q;const v=z(h,4);for(let x=0,E=12;x<v;x++,E+=16){const U=(0,n.bytesToString)(h.subarray(E,E+4)),$=H(h,E+8),Q=H(h,E+12);switch(U){case"cmap":g=i(h,$);break;case"glyf":k=h.subarray($,$+Q);break;case"loca":D=h.subarray($,$+Q);break;case"head":q=z(h,$+18),V=z(h,$+50);break;case"CFF ":T=F(h,$,$+Q,L);break}}if(k){const x=q?[1/q,0,0,1/q,0,0]:A.fontMatrix;return new f(B(k,D,V),g,x)}return new m(T,g,A.fontMatrix,A.glyphNameMap)}}S.FontRendererFactory=P},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.getMetrics=S.getFontBasicMetrics=void 0;var n=ee(3);const l=(0,n.getLookupTableFactory)(function(e){e.Courier=600,e["Courier-Bold"]=600,e["Courier-BoldOblique"]=600,e["Courier-Oblique"]=600,e.Helvetica=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556}),e["Helvetica-Bold"]=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556}),e["Helvetica-BoldOblique"]=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556}),e["Helvetica-Oblique"]=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556}),e.Symbol=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.universal=713,t.numbersign=500,t.existential=549,t.percent=833,t.ampersand=778,t.suchthat=439,t.parenleft=333,t.parenright=333,t.asteriskmath=500,t.plus=549,t.comma=250,t.minus=549,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=549,t.equal=549,t.greater=549,t.question=444,t.congruent=549,t.Alpha=722,t.Beta=667,t.Chi=722,t.Delta=612,t.Epsilon=611,t.Phi=763,t.Gamma=603,t.Eta=722,t.Iota=333,t.theta1=631,t.Kappa=722,t.Lambda=686,t.Mu=889,t.Nu=722,t.Omicron=722,t.Pi=768,t.Theta=741,t.Rho=556,t.Sigma=592,t.Tau=611,t.Upsilon=690,t.sigma1=439,t.Omega=768,t.Xi=645,t.Psi=795,t.Zeta=611,t.bracketleft=333,t.therefore=863,t.bracketright=333,t.perpendicular=658,t.underscore=500,t.radicalex=500,t.alpha=631,t.beta=549,t.chi=549,t.delta=494,t.epsilon=439,t.phi=521,t.gamma=411,t.eta=603,t.iota=329,t.phi1=603,t.kappa=549,t.lambda=549,t.mu=576,t.nu=521,t.omicron=549,t.pi=549,t.theta=521,t.rho=549,t.sigma=603,t.tau=439,t.upsilon=576,t.omega1=713,t.omega=686,t.xi=493,t.psi=686,t.zeta=494,t.braceleft=480,t.bar=200,t.braceright=480,t.similar=549,t.Euro=750,t.Upsilon1=620,t.minute=247,t.lessequal=549,t.fraction=167,t.infinity=713,t.florin=500,t.club=753,t.diamond=753,t.heart=753,t.spade=753,t.arrowboth=1042,t.arrowleft=987,t.arrowup=603,t.arrowright=987,t.arrowdown=603,t.degree=400,t.plusminus=549,t.second=411,t.greaterequal=549,t.multiply=549,t.proportional=713,t.partialdiff=494,t.bullet=460,t.divide=549,t.notequal=549,t.equivalence=549,t.approxequal=549,t.ellipsis=1e3,t.arrowvertex=603,t.arrowhorizex=1e3,t.carriagereturn=658,t.aleph=823,t.Ifraktur=686,t.Rfraktur=795,t.weierstrass=987,t.circlemultiply=768,t.circleplus=768,t.emptyset=823,t.intersection=768,t.union=768,t.propersuperset=713,t.reflexsuperset=713,t.notsubset=713,t.propersubset=713,t.reflexsubset=713,t.element=713,t.notelement=713,t.angle=768,t.gradient=713,t.registerserif=790,t.copyrightserif=790,t.trademarkserif=890,t.product=823,t.radical=549,t.dotmath=250,t.logicalnot=713,t.logicaland=603,t.logicalor=603,t.arrowdblboth=1042,t.arrowdblleft=987,t.arrowdblup=603,t.arrowdblright=987,t.arrowdbldown=603,t.lozenge=494,t.angleleft=329,t.registersans=790,t.copyrightsans=790,t.trademarksans=786,t.summation=713,t.parenlefttp=384,t.parenleftex=384,t.parenleftbt=384,t.bracketlefttp=384,t.bracketleftex=384,t.bracketleftbt=384,t.bracelefttp=494,t.braceleftmid=494,t.braceleftbt=494,t.braceex=494,t.angleright=329,t.integral=274,t.integraltp=686,t.integralex=686,t.integralbt=686,t.parenrighttp=384,t.parenrightex=384,t.parenrightbt=384,t.bracketrighttp=384,t.bracketrightex=384,t.bracketrightbt=384,t.bracerighttp=494,t.bracerightmid=494,t.bracerightbt=494,t.apple=790}),e["Times-Roman"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=408,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=564,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=564,t.equal=564,t.greater=564,t.question=444,t.at=921,t.A=722,t.B=667,t.C=667,t.D=722,t.E=611,t.F=556,t.G=722,t.H=722,t.I=333,t.J=389,t.K=722,t.L=611,t.M=889,t.N=722,t.O=722,t.P=556,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=722,t.W=944,t.X=722,t.Y=722,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=469,t.underscore=500,t.quoteleft=333,t.a=444,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=500,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=500,t.o=500,t.p=500,t.q=500,t.r=333,t.s=389,t.t=278,t.u=500,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=480,t.bar=200,t.braceright=480,t.asciitilde=541,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=180,t.quotedblleft=444,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=453,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=444,t.quotedblright=444,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=444,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=889,t.ordfeminine=276,t.Lslash=611,t.Oslash=722,t.OE=889,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=444,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=722,t.divide=564,t.Yacute=722,t.Acircumflex=722,t.aacute=444,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=444,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=444,t.Ncommaaccent=722,t.lacute=278,t.agrave=444,t.Tcommaaccent=611,t.Cacute=667,t.atilde=444,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=444,t.Amacron=722,t.rcaron=333,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=556,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=588,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=722,t.Abreve=722,t.multiply=564,t.uacute=500,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=444,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=722,t.Iacute=333,t.plusminus=564,t.brokenbar=200,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=333,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=326,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=444,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=344,t.Kcommaaccent=722,t.Lacute=611,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=722,t.zdotaccent=444,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=500,t.minus=564,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=564,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500}),e["Times-Bold"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=1e3,t.ampersand=833,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=930,t.A=722,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=778,t.I=389,t.J=500,t.K=778,t.L=667,t.M=944,t.N=722,t.O=778,t.P=611,t.Q=778,t.R=722,t.S=556,t.T=667,t.U=722,t.V=722,t.W=1e3,t.X=722,t.Y=722,t.Z=667,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=581,t.underscore=500,t.quoteleft=333,t.a=500,t.b=556,t.c=444,t.d=556,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=333,t.k=556,t.l=278,t.m=833,t.n=556,t.o=500,t.p=556,t.q=556,t.r=444,t.s=389,t.t=333,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=394,t.bar=220,t.braceright=394,t.asciitilde=520,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=540,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=300,t.Lslash=667,t.Oslash=778,t.OE=1e3,t.ordmasculine=330,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=556,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=722,t.divide=570,t.Yacute=722,t.Acircumflex=722,t.aacute=500,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=667,t.Cacute=722,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=500,t.Amacron=722,t.rcaron=444,t.ccedilla=444,t.Zdotaccent=667,t.Thorn=611,t.Omacron=778,t.Racute=722,t.Sacute=556,t.dcaron=672,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=570,t.uacute=556,t.Tcaron=667,t.partialdiff=494,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=778,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=444,t.omacron=500,t.Zacute=667,t.Zcaron=667,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=416,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=778,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=300,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=556,t.threequarters=750,t.Scedilla=556,t.lcaron=394,t.Kcommaaccent=778,t.Lacute=667,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=667,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=778,t.degree=400,t.ograve=500,t.Ccaron=722,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=444,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=722,t.Lcommaaccent=667,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=444,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=556,t.minus=570,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=333,t.logicalnot=570,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500}),e["Times-BoldItalic"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=389,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=832,t.A=667,t.B=667,t.C=667,t.D=722,t.E=667,t.F=667,t.G=722,t.H=778,t.I=389,t.J=500,t.K=667,t.L=611,t.M=889,t.N=722,t.O=722,t.P=611,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=667,t.W=889,t.X=667,t.Y=611,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=570,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=556,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=556,t.v=444,t.w=667,t.x=500,t.y=444,t.z=389,t.braceleft=348,t.bar=220,t.braceright=348,t.asciitilde=570,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=500,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=944,t.ordfeminine=266,t.Lslash=611,t.Oslash=722,t.OE=944,t.ordmasculine=300,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=611,t.divide=570,t.Yacute=611,t.Acircumflex=667,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=611,t.Cacute=667,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=556,t.acircumflex=500,t.Amacron=667,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=611,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=608,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=722,t.Agrave=667,t.Abreve=667,t.multiply=570,t.uacute=556,t.Tcaron=611,t.partialdiff=494,t.ydieresis=444,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=722,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=366,t.eogonek=444,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=576,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=382,t.Kcommaaccent=667,t.Lacute=611,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=722,t.zdotaccent=389,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=500,t.minus=606,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=606,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500}),e["Times-Italic"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=420,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=675,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=675,t.equal=675,t.greater=675,t.question=500,t.at=920,t.A=611,t.B=611,t.C=667,t.D=722,t.E=611,t.F=611,t.G=722,t.H=722,t.I=333,t.J=444,t.K=667,t.L=556,t.M=833,t.N=667,t.O=722,t.P=611,t.Q=722,t.R=611,t.S=500,t.T=556,t.U=722,t.V=611,t.W=833,t.X=611,t.Y=556,t.Z=556,t.bracketleft=389,t.backslash=278,t.bracketright=389,t.asciicircum=422,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=278,t.g=500,t.h=500,t.i=278,t.j=278,t.k=444,t.l=278,t.m=722,t.n=500,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=500,t.v=444,t.w=667,t.x=444,t.y=444,t.z=389,t.braceleft=400,t.bar=275,t.braceright=400,t.asciitilde=541,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=214,t.quotedblleft=556,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=523,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=556,t.quotedblright=556,t.guillemotright=500,t.ellipsis=889,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=889,t.AE=889,t.ordfeminine=276,t.Lslash=556,t.Oslash=722,t.OE=944,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=667,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=500,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=556,t.divide=675,t.Yacute=556,t.Acircumflex=611,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=500,t.Ncommaaccent=667,t.lacute=278,t.agrave=500,t.Tcommaaccent=556,t.Cacute=667,t.atilde=500,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=611,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=500,t.Amacron=611,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=556,t.Thorn=611,t.Omacron=722,t.Racute=611,t.Sacute=500,t.dcaron=544,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=611,t.Abreve=611,t.multiply=675,t.uacute=500,t.Tcaron=556,t.partialdiff=476,t.ydieresis=444,t.Nacute=667,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=667,t.Iacute=333,t.plusminus=675,t.brokenbar=275,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=389,t.omacron=500,t.Zacute=556,t.Zcaron=556,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=300,t.eogonek=444,t.Uogonek=722,t.Aacute=611,t.Adieresis=611,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=500,t.lcaron=300,t.Kcommaaccent=667,t.Lacute=556,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=500,t.Scommaaccent=500,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=667,t.otilde=500,t.Rcommaaccent=611,t.Lcommaaccent=556,t.Atilde=611,t.Aogonek=611,t.Aring=611,t.Otilde=722,t.zdotaccent=389,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=444,t.minus=675,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=675,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500}),e.ZapfDingbats=(0,n.getLookupTableFactory)(function(t){t.space=278,t.a1=974,t.a2=961,t.a202=974,t.a3=980,t.a4=719,t.a5=789,t.a119=790,t.a118=791,t.a117=690,t.a11=960,t.a12=939,t.a13=549,t.a14=855,t.a15=911,t.a16=933,t.a105=911,t.a17=945,t.a18=974,t.a19=755,t.a20=846,t.a21=762,t.a22=761,t.a23=571,t.a24=677,t.a25=763,t.a26=760,t.a27=759,t.a28=754,t.a6=494,t.a7=552,t.a8=537,t.a9=577,t.a10=692,t.a29=786,t.a30=788,t.a31=788,t.a32=790,t.a33=793,t.a34=794,t.a35=816,t.a36=823,t.a37=789,t.a38=841,t.a39=823,t.a40=833,t.a41=816,t.a42=831,t.a43=923,t.a44=744,t.a45=723,t.a46=749,t.a47=790,t.a48=792,t.a49=695,t.a50=776,t.a51=768,t.a52=792,t.a53=759,t.a54=707,t.a55=708,t.a56=682,t.a57=701,t.a58=826,t.a59=815,t.a60=789,t.a61=789,t.a62=707,t.a63=687,t.a64=696,t.a65=689,t.a66=786,t.a67=787,t.a68=713,t.a69=791,t.a70=785,t.a71=791,t.a72=873,t.a73=761,t.a74=762,t.a203=762,t.a75=759,t.a204=759,t.a76=892,t.a77=892,t.a78=788,t.a79=784,t.a81=438,t.a82=138,t.a83=277,t.a84=415,t.a97=392,t.a98=392,t.a99=668,t.a100=668,t.a89=390,t.a90=390,t.a93=317,t.a94=317,t.a91=276,t.a92=276,t.a205=509,t.a85=509,t.a206=410,t.a86=410,t.a87=234,t.a88=234,t.a95=334,t.a96=334,t.a101=732,t.a102=544,t.a103=544,t.a104=910,t.a106=667,t.a107=760,t.a108=760,t.a112=776,t.a111=595,t.a110=694,t.a109=626,t.a120=788,t.a121=788,t.a122=788,t.a123=788,t.a124=788,t.a125=788,t.a126=788,t.a127=788,t.a128=788,t.a129=788,t.a130=788,t.a131=788,t.a132=788,t.a133=788,t.a134=788,t.a135=788,t.a136=788,t.a137=788,t.a138=788,t.a139=788,t.a140=788,t.a141=788,t.a142=788,t.a143=788,t.a144=788,t.a145=788,t.a146=788,t.a147=788,t.a148=788,t.a149=788,t.a150=788,t.a151=788,t.a152=788,t.a153=788,t.a154=788,t.a155=788,t.a156=788,t.a157=788,t.a158=788,t.a159=788,t.a160=894,t.a161=838,t.a163=1016,t.a164=458,t.a196=748,t.a165=924,t.a192=748,t.a166=918,t.a167=927,t.a168=928,t.a169=928,t.a170=834,t.a171=873,t.a172=828,t.a173=924,t.a162=924,t.a174=917,t.a175=930,t.a176=931,t.a177=463,t.a178=883,t.a179=836,t.a193=836,t.a180=867,t.a199=867,t.a181=696,t.a200=696,t.a182=874,t.a201=874,t.a183=760,t.a184=946,t.a197=771,t.a185=865,t.a194=771,t.a198=888,t.a186=967,t.a195=888,t.a187=831,t.a188=873,t.a189=927,t.a190=970,t.a191=918})});S.getMetrics=l;const K=(0,n.getLookupTableFactory)(function(e){e.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},e["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},e["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},e["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},e.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},e["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},e["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},e["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},e["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},e["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},e["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},e["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},e.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},e.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});S.getFontBasicMetrics=K},(fe,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.GlyfTable=void 0;const ee=1,n=2,l=4,K=8,e=16,t=32,H=64,z=1,G=2,I=8,C=32,w=64,i=128,F=256;class B{constructor({glyfTable:m,isGlyphLocationsLong:P,locaTable:d,numGlyphs:A}){this.glyphs=[];const L=new DataView(d.buffer,d.byteOffset,d.byteLength),h=new DataView(m.buffer,m.byteOffset,m.byteLength),g=P?4:2;let k=P?L.getUint32(0):2*L.getUint16(0),D=0;for(let T=0;T<A;T++){D+=g;const V=P?L.getUint32(D):2*L.getUint16(D);if(V===k){this.glyphs.push(new u({}));continue}const q=u.parse(k,h);this.glyphs.push(q),k=V}}getSize(){return this.glyphs.reduce((m,P)=>{const d=P.getSize();return m+(d+3&-4)},0)}write(){const m=this.getSize(),P=new DataView(new ArrayBuffer(m)),d=m>131070,A=d?4:2,L=new DataView(new ArrayBuffer((this.glyphs.length+1)*A));d?L.setUint32(0,0):L.setUint16(0,0);let h=0,g=0;for(const k of this.glyphs)h+=k.write(h,P),h=h+3&-4,g+=A,d?L.setUint32(g,h):L.setUint16(g,h>>1);return{isLocationLong:d,loca:new Uint8Array(L.buffer),glyf:new Uint8Array(P.buffer)}}scale(m){for(let P=0,d=this.glyphs.length;P<d;P++)this.glyphs[P].scale(m[P])}}S.GlyfTable=B;class u{constructor({header:m=null,simple:P=null,composites:d=null}){this.header=m,this.simple=P,this.composites=d}static parse(m,P){const[d,A]=s.parse(m,P);if(m+=d,A.numberOfContours<0){const h=[];for(;;){const[g,k]=r.parse(m,P);if(m+=g,h.push(k),!(k.flags&C))break}return new u({header:A,composites:h})}const L=y.parse(m,P,A.numberOfContours);return new u({header:A,simple:L})}getSize(){if(!this.header)return 0;const m=this.simple?this.simple.getSize():this.composites.reduce((P,d)=>P+d.getSize(),0);return this.header.getSize()+m}write(m,P){if(!this.header)return 0;const d=m;if(m+=this.header.write(m,P),this.simple)m+=this.simple.write(m,P);else for(const A of this.composites)m+=A.write(m,P);return m-d}scale(m){if(!this.header)return;const P=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(P,m),this.simple)this.simple.scale(P,m);else for(const d of this.composites)d.scale(P,m)}}class s{constructor({numberOfContours:m,xMin:P,yMin:d,xMax:A,yMax:L}){this.numberOfContours=m,this.xMin=P,this.yMin=d,this.xMax=A,this.yMax=L}static parse(m,P){return[10,new s({numberOfContours:P.getInt16(m),xMin:P.getInt16(m+2),yMin:P.getInt16(m+4),xMax:P.getInt16(m+6),yMax:P.getInt16(m+8)})]}getSize(){return 10}write(m,P){return P.setInt16(m,this.numberOfContours),P.setInt16(m+2,this.xMin),P.setInt16(m+4,this.yMin),P.setInt16(m+6,this.xMax),P.setInt16(m+8,this.yMax),10}scale(m,P){this.xMin=Math.round(m+(this.xMin-m)*P),this.xMax=Math.round(m+(this.xMax-m)*P)}}class o{constructor({flags:m,xCoordinates:P,yCoordinates:d}){this.xCoordinates=P,this.yCoordinates=d,this.flags=m}}class y{constructor({contours:m,instructions:P}){this.contours=m,this.instructions=P}static parse(m,P,d){const A=[];for(let U=0;U<d;U++){const $=P.getUint16(m);m+=2,A.push($)}const L=A[d-1]+1,h=P.getUint16(m);m+=2;const g=new Uint8Array(P).slice(m,m+h);m+=h;const k=[];for(let U=0;U<L;m++,U++){let $=P.getUint8(m);if(k.push($),$&K){const Q=P.getUint8(++m);$^=K;for(let ie=0;ie<Q;ie++)k.push($);U+=Q}}const D=[];let T=[],V=[],q=[];const v=[];let x=0,E=0;for(let U=0;U<L;U++){const $=k[U];if($&n){const Q=P.getUint8(m++);E+=$&e?Q:-Q,T.push(E)}else $&e||(E+=P.getInt16(m),m+=2),T.push(E);A[x]===U&&(x++,D.push(T),T=[])}E=0,x=0;for(let U=0;U<L;U++){const $=k[U];if($&l){const Q=P.getUint8(m++);E+=$&t?Q:-Q,V.push(E)}else $&t||(E+=P.getInt16(m),m+=2),V.push(E);q.push($&ee|$&H),A[x]===U&&(T=D[x],x++,v.push(new o({flags:q,xCoordinates:T,yCoordinates:V})),V=[],q=[])}return new y({contours:v,instructions:g})}getSize(){let m=this.contours.length*2+2+this.instructions.length,P=0,d=0;for(const A of this.contours){m+=A.flags.length;for(let L=0,h=A.xCoordinates.length;L<h;L++){const g=A.xCoordinates[L],k=A.yCoordinates[L];let D=Math.abs(g-P);D>255?m+=2:D>0&&(m+=1),P=g,D=Math.abs(k-d),D>255?m+=2:D>0&&(m+=1),d=k}}return m}write(m,P){const d=m,A=[],L=[],h=[];let g=0,k=0;for(const D of this.contours){for(let T=0,V=D.xCoordinates.length;T<V;T++){let q=D.flags[T];const v=D.xCoordinates[T];let x=v-g;if(x===0)q|=e,A.push(0);else{const U=Math.abs(x);U<=255?(q|=x>=0?n|e:n,A.push(U)):A.push(x)}g=v;const E=D.yCoordinates[T];if(x=E-k,x===0)q|=t,L.push(0);else{const U=Math.abs(x);U<=255?(q|=x>=0?l|t:l,L.push(U)):L.push(x)}k=E,h.push(q)}P.setUint16(m,A.length-1),m+=2}P.setUint16(m,this.instructions.length),m+=2,this.instructions.length&&(new Uint8Array(P.buffer,0,P.buffer.byteLength).set(this.instructions,m),m+=this.instructions.length);for(const D of h)P.setUint8(m++,D);for(let D=0,T=A.length;D<T;D++){const V=A[D],q=h[D];q&n?P.setUint8(m++,V):q&e||(P.setInt16(m,V),m+=2)}for(let D=0,T=L.length;D<T;D++){const V=L[D],q=h[D];q&l?P.setUint8(m++,V):q&t||(P.setInt16(m,V),m+=2)}return m-d}scale(m,P){for(const d of this.contours)if(d.xCoordinates.length!==0)for(let A=0,L=d.xCoordinates.length;A<L;A++)d.xCoordinates[A]=Math.round(m+(d.xCoordinates[A]-m)*P)}}class r{constructor({flags:m,glyphIndex:P,argument1:d,argument2:A,transf:L,instructions:h}){this.flags=m,this.glyphIndex=P,this.argument1=d,this.argument2=A,this.transf=L,this.instructions=h}static parse(m,P){const d=m,A=[];let L=P.getUint16(m);const h=P.getUint16(m+2);m+=4;let g,k;L&z?(L&G?(g=P.getInt16(m),k=P.getInt16(m+2)):(g=P.getUint16(m),k=P.getUint16(m+2)),m+=4,L^=z):(L&G?(g=P.getInt8(m),k=P.getInt8(m+1)):(g=P.getUint8(m),k=P.getUint8(m+1)),m+=2),L&I?(A.push(P.getUint16(m)),m+=2):L&w?(A.push(P.getUint16(m),P.getUint16(m+2)),m+=4):L&i&&(A.push(P.getUint16(m),P.getUint16(m+2),P.getUint16(m+4),P.getUint16(m+6)),m+=8);let D=null;if(L&F){const T=P.getUint16(m);m+=2,D=new Uint8Array(P).slice(m,m+T),m+=T}return[m-d,new r({flags:L,glyphIndex:h,argument1:g,argument2:k,transf:A,instructions:D})]}getSize(){let m=4+this.transf.length*2;return this.flags&F&&(m+=2+this.instructions.length),m+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(m+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(m+=2),m}write(m,P){const d=m;return this.flags&G?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=z):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=z),P.setUint16(m,this.flags),P.setUint16(m+2,this.glyphIndex),m+=4,this.flags&z?(this.flags&G?(P.setInt16(m,this.argument1),P.setInt16(m+2,this.argument2)):(P.setUint16(m,this.argument1),P.setUint16(m+2,this.argument2)),m+=4):(P.setUint8(m,this.argument1),P.setUint8(m+1,this.argument2),m+=2),this.flags&F&&(P.setUint16(m,this.instructions.length),m+=2,this.instructions.length&&(new Uint8Array(P.buffer,0,P.buffer.byteLength).set(this.instructions,m),m+=this.instructions.length)),m-d}scale(m,P){}}},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.OpenTypeFileBuilder=void 0;var n=ee(3),l=ee(2);function K(I,C,w){I[C]=w>>8&255,I[C+1]=w&255}function e(I,C,w){I[C]=w>>24&255,I[C+1]=w>>16&255,I[C+2]=w>>8&255,I[C+3]=w&255}function t(I,C,w){if(w instanceof Uint8Array)I.set(w,C);else if(typeof w=="string")for(let i=0,F=w.length;i<F;i++)I[C++]=w.charCodeAt(i)&255;else for(const i of w)I[C++]=i&255}const H=12,z=16;class G{constructor(C){this.sfnt=C,this.tables=Object.create(null)}static getSearchParams(C,w){let i=1,F=0;for(;(i^C)>i;)i<<=1,F++;const B=i*w;return{range:B,entry:F,rangeShift:w*C-B}}toArray(){let C=this.sfnt;const w=this.tables,i=Object.keys(w);i.sort();const F=i.length;let B,u,s,o,y,r=H+F*z;const f=[r];for(B=0;B<F;B++){o=w[i[B]];const d=(o.length+3&-4)>>>0;r+=d,f.push(r)}const m=new Uint8Array(r);for(B=0;B<F;B++)o=w[i[B]],t(m,f[B],o);C==="true"&&(C=(0,l.string32)(65536)),m[0]=C.charCodeAt(0)&255,m[1]=C.charCodeAt(1)&255,m[2]=C.charCodeAt(2)&255,m[3]=C.charCodeAt(3)&255,K(m,4,F);const P=G.getSearchParams(F,16);for(K(m,6,P.range),K(m,8,P.entry),K(m,10,P.rangeShift),r=H,B=0;B<F;B++){y=i[B],m[r]=y.charCodeAt(0)&255,m[r+1]=y.charCodeAt(1)&255,m[r+2]=y.charCodeAt(2)&255,m[r+3]=y.charCodeAt(3)&255;let d=0;for(u=f[B],s=f[B+1];u<s;u+=4){const A=(0,n.readUint32)(m,u);d=d+A>>>0}e(m,r+4,d),e(m,r+8,f[B]),e(m,r+12,w[y].length),r+=z}return m}addTable(C,w){if(C in this.tables)throw new Error("Table "+C+" already exists");this.tables[C]=w}}S.OpenTypeFileBuilder=G},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.Type1Font=void 0;var n=ee(35),l=ee(2),K=ee(38),e=ee(3),t=ee(8),H=ee(49);function z(w,i,F){const B=w.length,u=i.length,s=B-u;let o=F,y=!1;for(;o<s;){let r=0;for(;r<u&&w[o+r]===i[r];)r++;if(r>=u){for(o+=r;o<B&&(0,e.isWhiteSpace)(w[o]);)o++;y=!0;break}o++}return{found:y,length:o}}function G(w,i){const F=[101,101,120,101,99],B=w.pos;let u,s,o;try{u=w.getBytes(i),s=u.length}catch{}if(s===i&&(o=z(u,F,i-2*F.length),o.found&&o.length===i))return{stream:new t.Stream(u),length:i};(0,l.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),w.pos=B;const y=2048;let r;for(;;){const f=w.peekBytes(y);if(o=z(f,F,0),o.length===0)break;if(w.pos+=o.length,o.found){r=w.pos-B;break}}return w.pos=B,r?{stream:new t.Stream(w.getBytes(r)),length:r}:((0,l.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new t.Stream(w.getBytes(i)),length:i})}function I(w,i){const F=w.getBytes();if(F.length===0)throw new l.FormatError("getEexecBlock - no font program found.");return{stream:new t.Stream(F),length:F.length}}class C{constructor(i,F,B){let s=B.length1;B.length2;let o=F.peekBytes(6);const y=o[0]===128&&o[1]===1;y&&(F.skip(6),s=o[5]<<24|o[4]<<16|o[3]<<8|o[2]);const r=G(F,s);new H.Type1Parser(r.stream,!1,K.SEAC_ANALYSIS_ENABLED).extractFontHeader(B),y&&(o=F.getBytes(6),o[5]<<24|o[4]<<16|o[3]<<8|o[2]);const m=I(F),d=new H.Type1Parser(m.stream,!0,K.SEAC_ANALYSIS_ENABLED).extractFontProgram(B);for(const g in d.properties)B[g]=d.properties[g];const A=d.charstrings,L=this.getType2Charstrings(A),h=this.getType2Subrs(d.subrs);this.charstrings=A,this.data=this.wrap(i,L,this.charstrings,h,B),this.seacs=this.getSeacs(d.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const i=[".notdef"];for(const{glyphName:F}of this.charstrings)i.push(F);return i}getGlyphMapping(i){const F=this.charstrings;if(i.composite){const y=Object.create(null);for(let r=0,f=F.length;r<f;r++){const m=i.cMap.charCodeOf(r);y[m]=r+1}return y}const B=[".notdef"];let u,s;for(s=0;s<F.length;s++)B.push(F[s].glyphName);const o=i.builtInEncoding;if(o){u=Object.create(null);for(const y in o)s=B.indexOf(o[y]),s>=0&&(u[y]=s)}return(0,K.type1FontGlyphMapping)(i,u,B)}hasGlyphId(i){return i<0||i>=this.numGlyphs?!1:i===0?!0:this.charstrings[i-1].charstring.length>0}getSeacs(i){const F=[];for(let B=0,u=i.length;B<u;B++){const s=i[B];s.seac&&(F[B+1]=s.seac)}return F}getType2Charstrings(i){const F=[];for(const B of i)F.push(B.charstring);return F}getType2Subrs(i){let F=0;const B=i.length;B<1133?F=107:B<33769?F=1131:F=32768;const u=[];let s;for(s=0;s<F;s++)u.push([11]);for(s=0;s<B;s++)u.push(i[s]);return u}wrap(i,F,B,u,s){const o=new n.CFF;o.header=new n.CFFHeader(1,0,4,4),o.names=[i];const y=new n.CFFTopDict;y.setByName("version",391),y.setByName("Notice",392),y.setByName("FullName",393),y.setByName("FamilyName",394),y.setByName("Weight",395),y.setByName("Encoding",null),y.setByName("FontMatrix",s.fontMatrix),y.setByName("FontBBox",s.bbox),y.setByName("charset",null),y.setByName("CharStrings",null),y.setByName("Private",null),o.topDict=y;const r=new n.CFFStrings;r.add("Version 0.11"),r.add("See original notice"),r.add(i),r.add(i),r.add("Medium"),o.strings=r,o.globalSubrIndex=new n.CFFIndex;const f=F.length,m=[".notdef"];let P,d;for(P=0;P<f;P++){const D=B[P].glyphName;n.CFFStandardStrings.indexOf(D)===-1&&r.add(D),m.push(D)}o.charset=new n.CFFCharset(!1,0,m);const A=new n.CFFIndex;for(A.add([139,14]),P=0;P<f;P++)A.add(F[P]);o.charStrings=A;const L=new n.CFFPrivateDict;L.setByName("Subrs",null);const h=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(P=0,d=h.length;P<d;P++){const D=h[P];if(!(D in s.privateData))continue;const T=s.privateData[D];if(Array.isArray(T))for(let V=T.length-1;V>0;V--)T[V]-=T[V-1];L.setByName(D,T)}o.topDict.privateDict=L;const g=new n.CFFIndex;for(P=0,d=u.length;P<d;P++)g.add(u[P]);return L.subrsIndex=g,new n.CFFCompiler(o).compile()}}S.Type1Font=C},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.Type1Parser=void 0;var n=ee(37),l=ee(3),K=ee(8),e=ee(2);const t=!1,H={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class z{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(s,o,y){const r=s.length;let f=!1,m,P,d;for(let A=0;A<r;A++){let L=s[A];if(L<32){switch(L===12&&(L=(L<<8)+s[++A]),L){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){f=!0;break}const T=this.stack.pop();this.stack.push(0,T);break}f=this.executeCommand(1,H.vmoveto);break;case 5:f=this.executeCommand(2,H.rlineto);break;case 6:f=this.executeCommand(1,H.hlineto);break;case 7:f=this.executeCommand(1,H.vlineto);break;case 8:f=this.executeCommand(6,H.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){f=!0;break}if(d=this.stack.pop(),!o[d]){f=!0;break}f=this.convert(o[d],o,y);break;case 11:return f;case 13:if(this.stack.length<2){f=!0;break}m=this.stack.pop(),P=this.stack.pop(),this.lsb=P,this.width=m,this.stack.push(m,P),f=this.executeCommand(2,H.hmoveto);break;case 14:this.output.push(H.endchar[0]);break;case 21:if(this.flexing)break;f=this.executeCommand(2,H.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}f=this.executeCommand(1,H.hmoveto);break;case 30:f=this.executeCommand(4,H.vhcurveto);break;case 31:f=this.executeCommand(4,H.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(y){const T=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-T,f=this.executeCommand(0,H.endchar)}else f=this.executeCommand(4,H.endchar);break;case 3079:if(this.stack.length<4){f=!0;break}this.stack.pop(),m=this.stack.pop();const h=this.stack.pop();P=this.stack.pop(),this.lsb=P,this.width=m,this.stack.push(m,P,h),f=this.executeCommand(3,H.rmoveto);break;case 3084:if(this.stack.length<2){f=!0;break}const g=this.stack.pop(),k=this.stack.pop();this.stack.push(k/g);break;case 3088:if(this.stack.length<2){f=!0;break}d=this.stack.pop();const D=this.stack.pop();if(d===0&&D===3){const T=this.stack.splice(-17,17);this.stack.push(T[2]+T[0],T[3]+T[1],T[4],T[5],T[6],T[7],T[8],T[9],T[10],T[11],T[12],T[13],T[14]),f=this.executeCommand(13,H.flex,!0),this.flexing=!1,this.stack.push(T[15],T[16])}else d===1&&D===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:(0,e.warn)('Unknown type 1 charstring command of "'+L+'"');break}if(f)break;continue}else L<=246?L-=139:L<=250?L=(L-247)*256+s[++A]+108:L<=254?L=-((L-251)*256)-s[++A]-108:L=(s[++A]&255)<<24|(s[++A]&255)<<16|(s[++A]&255)<<8|(s[++A]&255)<<0;this.stack.push(L)}return f}executeCommand(s,o,y){const r=this.stack.length;if(s>r)return!0;const f=r-s;for(let m=f;m<r;m++){let P=this.stack[m];Number.isInteger(P)?this.output.push(28,P>>8&255,P&255):(P=65536*P|0,this.output.push(255,P>>24&255,P>>16&255,P>>8&255,P&255))}return this.output.push(...o),y?this.stack.splice(f,s):this.stack.length=0,!1}}const G=55665,I=4330;function C(u){return u>=48&&u<=57||u>=65&&u<=70||u>=97&&u<=102}function w(u,s,o){if(o>=u.length)return new Uint8Array(0);const y=52845,r=22719;let f=s|0,m,P;for(m=0;m<o;m++)f=(u[m]+f)*y+r&65535;const d=u.length-o,A=new Uint8Array(d);for(m=o,P=0;P<d;m++,P++){const L=u[m];A[P]=L^f>>8,f=(L+f)*y+r&65535}return A}function i(u,s,o){let f=s|0;const m=u.length,P=m>>>1,d=new Uint8Array(P);let A,L;for(A=0,L=0;A<m;A++){const h=u[A];if(!C(h))continue;A++;let g;for(;A<m&&!C(g=u[A]);)A++;if(A<m){const k=parseInt(String.fromCharCode(h,g),16);d[L++]=k^f>>8,f=(k+f)*52845+22719&65535}}return d.slice(o,L)}function F(u){return u===47||u===91||u===93||u===123||u===125||u===40||u===41}class B{constructor(s,o,y){if(o){const r=s.getBytes(),f=!((C(r[0])||(0,l.isWhiteSpace)(r[0]))&&C(r[1])&&C(r[2])&&C(r[3])&&C(r[4])&&C(r[5])&&C(r[6])&&C(r[7]));s=new K.Stream(f?w(r,G,4):i(r,G,4))}this.seacAnalysisEnabled=!!y,this.stream=s,this.nextChar()}readNumberArray(){this.getToken();const s=[];for(;;){const o=this.getToken();if(o===null||o==="]"||o==="}")break;s.push(parseFloat(o||0))}return s}readNumber(){const s=this.getToken();return parseFloat(s||0)}readInt(){const s=this.getToken();return parseInt(s||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let s=!1,o=this.currentChar;for(;;){if(o===-1)return null;if(s)(o===10||o===13)&&(s=!1);else if(o===37)s=!0;else if(!(0,l.isWhiteSpace)(o))break;o=this.nextChar()}if(F(o))return this.nextChar(),String.fromCharCode(o);let y="";do y+=String.fromCharCode(o),o=this.nextChar();while(o>=0&&!(0,l.isWhiteSpace)(o)&&!F(o));return y}readCharStrings(s,o){return o===-1?s:w(s,I,o)}extractFontProgram(s){const o=this.stream,y=[],r=[],f=Object.create(null);f.lenIV=4;const m={subrs:[],charstrings:[],properties:{privateData:f}};let P,d,A,L;for(;(P=this.getToken())!==null;)if(P==="/")switch(P=this.getToken(),P){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();P=this.getToken(),!(P===null||P==="end");){if(P!=="/")continue;const g=this.getToken();d=this.readInt(),this.getToken(),A=d>0?o.getBytes(d):new Uint8Array(0),L=m.properties.privateData.lenIV;const k=this.readCharStrings(A,L);this.nextChar(),P=this.getToken(),P==="noaccess"?this.getToken():P==="/"&&this.prevChar(),r.push({glyph:g,encoded:k})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const g=this.readInt();d=this.readInt(),this.getToken(),A=d>0?o.getBytes(d):new Uint8Array(0),L=m.properties.privateData.lenIV;const k=this.readCharStrings(A,L);this.nextChar(),P=this.getToken(),P==="noaccess"&&this.getToken(),y[g]=k}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const h=this.readNumberArray();h.length>0&&h.length%2===0&&t&&(m.properties.privateData[P]=h);break;case"StemSnapH":case"StemSnapV":m.properties.privateData[P]=this.readNumberArray();break;case"StdHW":case"StdVW":m.properties.privateData[P]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":m.properties.privateData[P]=this.readNumber();break;case"ExpansionFactor":m.properties.privateData[P]=this.readNumber()||.06;break;case"ForceBold":m.properties.privateData[P]=this.readBoolean();break}for(const{encoded:h,glyph:g}of r){const k=new z,D=k.convert(h,y,this.seacAnalysisEnabled);let T=k.output;D&&(T=[14]);const V={glyphName:g,charstring:T,width:k.width,lsb:k.lsb,seac:k.seac};if(g===".notdef"?m.charstrings.unshift(V):m.charstrings.push(V),s.builtInEncoding){const q=s.builtInEncoding.indexOf(g);q>-1&&s.widths[q]===void 0&&q>=s.firstChar&&q<=s.lastChar&&(s.widths[q]=k.width)}}return m}extractFontHeader(s){let o;for(;(o=this.getToken())!==null;)if(o==="/")switch(o=this.getToken(),o){case"FontMatrix":const y=this.readNumberArray();s.fontMatrix=y;break;case"Encoding":const r=this.getToken();let f;if(!/^\d+$/.test(r))f=(0,n.getEncoding)(r);else{f=[];const P=parseInt(r,10)|0;this.getToken();for(let d=0;d<P;d++){for(o=this.getToken();o!=="dup"&&o!=="def";)if(o=this.getToken(),o===null)return;if(o==="def")break;const A=this.readInt();this.getToken();const L=this.getToken();f[A]=L,this.getToken()}}s.builtInEncoding=f;break;case"FontBBox":const m=this.readNumberArray();s.ascent=Math.max(m[3],m[1]),s.descent=Math.min(m[1],m[3]),s.ascentScaled=!0;break}}}S.Type1Parser=B},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.Pattern=void 0,S.getTilingPatternIR=F;var n=ee(2),l=ee(5),K=ee(12),e=ee(3);const t={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class H{constructor(){(0,n.unreachable)("Cannot initialize Pattern.")}static parseShading(o,y,r,f,m){const P=o instanceof l.BaseStream?o.dict:o,d=P.get("ShadingType");try{switch(d){case t.AXIAL:case t.RADIAL:return new G(P,y,r,f,m);case t.FREE_FORM_MESH:case t.LATTICE_FORM_MESH:case t.COONS_PATCH_MESH:case t.TENSOR_PATCH_MESH:return new w(o,y,r,f,m);default:throw new n.FormatError("Unsupported ShadingType: "+d)}}catch(A){if(A instanceof e.MissingDataException)throw A;return(0,n.warn)(A),new i}}}S.Pattern=H;const B=class{constructor(){this.constructor===B&&(0,n.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,n.unreachable)("Abstract method `getIR` called.")}};let z=B;Rt(z,"SMALL_NUMBER",1e-6);class G extends z{constructor(o,y,r,f,m){super(),this.coordsArr=o.getArray("Coords"),this.shadingType=o.get("ShadingType");const P=K.ColorSpace.parse({cs:o.getRaw("CS")||o.getRaw("ColorSpace"),xref:y,resources:r,pdfFunctionFactory:f,localColorSpaceCache:m}),d=o.getArray("BBox");Array.isArray(d)&&d.length===4?this.bbox=n.Util.normalizeRect(d):this.bbox=null;let A=0,L=1;if(o.has("Domain")){const Y=o.getArray("Domain");A=Y[0],L=Y[1]}let h=!1,g=!1;if(o.has("Extend")){const Y=o.getArray("Extend");h=Y[0],g=Y[1]}if(this.shadingType===t.RADIAL&&(!h||!g)){const[Y,J,ae,oe,he,ne]=this.coordsArr,re=Math.hypot(Y-oe,J-he);ae<=ne+re&&ne<=ae+re&&(0,n.warn)("Unsupported radial gradient.")}this.extendStart=h,this.extendEnd=g;const k=o.getRaw("Function"),D=f.createFromArray(k),T=840,V=(L-A)/T,q=this.colorStops=[];if(A>=L||V<=0){(0,n.info)("Bad shading domain.");return}const v=new Float32Array(P.numComps),x=new Float32Array(1);let E,U=0;x[0]=A,D(x,0,v,0);let $=P.getRgb(v,0);const Q=n.Util.makeHexColor($[0],$[1],$[2]);q.push([0,Q]);let ie=1;x[0]=A+V,D(x,0,v,0);let j=P.getRgb(v,0),X=j[0]-$[0]+1,R=j[1]-$[1]+1,Z=j[2]-$[2]+1,N=j[0]-$[0]-1,M=j[1]-$[1]-1,c=j[2]-$[2]-1;for(let Y=2;Y<T;Y++){x[0]=A+Y*V,D(x,0,v,0),E=P.getRgb(v,0);const J=Y-U;if(X=Math.min(X,(E[0]-$[0]+1)/J),R=Math.min(R,(E[1]-$[1]+1)/J),Z=Math.min(Z,(E[2]-$[2]+1)/J),N=Math.max(N,(E[0]-$[0]-1)/J),M=Math.max(M,(E[1]-$[1]-1)/J),c=Math.max(c,(E[2]-$[2]-1)/J),!(N<=X&&M<=R&&c<=Z)){const oe=n.Util.makeHexColor(j[0],j[1],j[2]);q.push([ie/T,oe]),X=E[0]-j[0]+1,R=E[1]-j[1]+1,Z=E[2]-j[2]+1,N=E[0]-j[0]-1,M=E[1]-j[1]-1,c=E[2]-j[2]-1,U=ie,$=j}ie=Y,j=E}const _=n.Util.makeHexColor(j[0],j[1],j[2]);q.push([1,_]);let W="transparent";o.has("Background")&&(E=P.getRgb(o.get("Background"),0),W=n.Util.makeHexColor(E[0],E[1],E[2])),h||(q.unshift([0,W]),q[1][0]+=z.SMALL_NUMBER),g||(q.at(-1)[0]-=z.SMALL_NUMBER,q.push([1,W])),this.colorStops=q}getIR(){const o=this.coordsArr,y=this.shadingType;let r,f,m,P,d;return y===t.AXIAL?(f=[o[0],o[1]],m=[o[2],o[3]],P=null,d=null,r="axial"):y===t.RADIAL?(f=[o[0],o[1]],m=[o[3],o[4]],P=o[2],d=o[5],r="radial"):(0,n.unreachable)(`getPattern type unknown: ${y}`),["RadialAxial",r,this.bbox,this.colorStops,f,m,P,d]}}class I{constructor(o,y){this.stream=o,this.context=y,this.buffer=0,this.bufferLength=0;const r=y.numComps;this.tmpCompsBuf=new Float32Array(r);const f=y.colorSpace.numComps;this.tmpCsCompsBuf=y.colorFn?new Float32Array(f):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const o=this.stream.getByte();return o<0?!1:(this.buffer=o,this.bufferLength=8,!0)}readBits(o){let y=this.buffer,r=this.bufferLength;if(o===32){if(r===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;y=y<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const f=this.stream.getByte();return this.buffer=f&(1<<r)-1,(y<<8-r|(f&255)>>r)>>>0}if(o===8&&r===0)return this.stream.getByte();for(;r<o;)y=y<<8|this.stream.getByte(),r+=8;return r-=o,this.bufferLength=r,this.buffer=y&(1<<r)-1,y>>r}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const o=this.context.bitsPerCoordinate,y=this.readBits(o),r=this.readBits(o),f=this.context.decode,m=o<32?1/((1<<o)-1):23283064365386963e-26;return[y*m*(f[1]-f[0])+f[0],r*m*(f[3]-f[2])+f[2]]}readComponents(){const o=this.context.numComps,y=this.context.bitsPerComponent,r=y<32?1/((1<<y)-1):23283064365386963e-26,f=this.context.decode,m=this.tmpCompsBuf;for(let d=0,A=4;d<o;d++,A+=2){const L=this.readBits(y);m[d]=L*r*(f[A+1]-f[A])+f[A]}const P=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(m,0,P,0),this.context.colorSpace.getRgb(P,0)}}const C=function(){function o(r){const f=[];for(let m=0;m<=r;m++){const P=m/r,d=1-P;f.push(new Float32Array([d*d*d,3*P*d*d,3*P*P*d,P*P*P]))}return f}const y=Object.create(null);return function(r){return y[r]||(y[r]=o(r))}}(),u=class extends z{constructor(o,y,r,f,m){if(super(),!(o instanceof l.BaseStream))throw new n.FormatError("Mesh data is not a stream");const P=o.dict;this.shadingType=P.get("ShadingType");const d=P.getArray("BBox");Array.isArray(d)&&d.length===4?this.bbox=n.Util.normalizeRect(d):this.bbox=null;const A=K.ColorSpace.parse({cs:P.getRaw("CS")||P.getRaw("ColorSpace"),xref:y,resources:r,pdfFunctionFactory:f,localColorSpaceCache:m});this.background=P.has("Background")?A.getRgb(P.get("Background"),0):null;const L=P.getRaw("Function"),h=L?f.createFromArray(L):null;this.coords=[],this.colors=[],this.figures=[];const g={bitsPerCoordinate:P.get("BitsPerCoordinate"),bitsPerComponent:P.get("BitsPerComponent"),bitsPerFlag:P.get("BitsPerFlag"),decode:P.getArray("Decode"),colorFn:h,colorSpace:A,numComps:h?1:A.numComps},k=new I(o,g);let D=!1;switch(this.shadingType){case t.FREE_FORM_MESH:this._decodeType4Shading(k);break;case t.LATTICE_FORM_MESH:const T=P.get("VerticesPerRow")|0;if(T<2)throw new n.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(k,T);break;case t.COONS_PATCH_MESH:this._decodeType6Shading(k),D=!0;break;case t.TENSOR_PATCH_MESH:this._decodeType7Shading(k),D=!0;break;default:(0,n.unreachable)("Unsupported mesh type.");break}if(D){this._updateBounds();for(let T=0,V=this.figures.length;T<V;T++)this._buildFigureFromPatch(T)}this._updateBounds(),this._packData()}_decodeType4Shading(o){const y=this.coords,r=this.colors,f=[];let m=0;for(;o.hasData;){const P=o.readFlag(),d=o.readCoordinate(),A=o.readComponents();if(m===0){if(!(0<=P&&P<=2))throw new n.FormatError("Unknown type4 flag");switch(P){case 0:m=3;break;case 1:f.push(f.at(-2),f.at(-1)),m=1;break;case 2:f.push(f.at(-3),f.at(-1)),m=1;break}}f.push(y.length),y.push(d),r.push(A),m--,o.align()}this.figures.push({type:"triangles",coords:new Int32Array(f),colors:new Int32Array(f)})}_decodeType5Shading(o,y){const r=this.coords,f=this.colors,m=[];for(;o.hasData;){const P=o.readCoordinate(),d=o.readComponents();m.push(r.length),r.push(P),f.push(d)}this.figures.push({type:"lattice",coords:new Int32Array(m),colors:new Int32Array(m),verticesPerRow:y})}_decodeType6Shading(o){const y=this.coords,r=this.colors,f=new Int32Array(16),m=new Int32Array(4);for(;o.hasData;){const P=o.readFlag();if(!(0<=P&&P<=3))throw new n.FormatError("Unknown type6 flag");const d=y.length;for(let D=0,T=P!==0?8:12;D<T;D++)y.push(o.readCoordinate());const A=r.length;for(let D=0,T=P!==0?2:4;D<T;D++)r.push(o.readComponents());let L,h,g,k;switch(P){case 0:f[12]=d+3,f[13]=d+4,f[14]=d+5,f[15]=d+6,f[8]=d+2,f[11]=d+7,f[4]=d+1,f[7]=d+8,f[0]=d,f[1]=d+11,f[2]=d+10,f[3]=d+9,m[2]=A+1,m[3]=A+2,m[0]=A,m[1]=A+3;break;case 1:L=f[12],h=f[13],g=f[14],k=f[15],f[12]=k,f[13]=d+0,f[14]=d+1,f[15]=d+2,f[8]=g,f[11]=d+3,f[4]=h,f[7]=d+4,f[0]=L,f[1]=d+7,f[2]=d+6,f[3]=d+5,L=m[2],h=m[3],m[2]=h,m[3]=A,m[0]=L,m[1]=A+1;break;case 2:L=f[15],h=f[11],f[12]=f[3],f[13]=d+0,f[14]=d+1,f[15]=d+2,f[8]=f[7],f[11]=d+3,f[4]=h,f[7]=d+4,f[0]=L,f[1]=d+7,f[2]=d+6,f[3]=d+5,L=m[3],m[2]=m[1],m[3]=A,m[0]=L,m[1]=A+1;break;case 3:f[12]=f[0],f[13]=d+0,f[14]=d+1,f[15]=d+2,f[8]=f[1],f[11]=d+3,f[4]=f[2],f[7]=d+4,f[0]=f[3],f[1]=d+7,f[2]=d+6,f[3]=d+5,m[2]=m[0],m[3]=A,m[0]=m[1],m[1]=A+1;break}f[5]=y.length,y.push([(-4*y[f[0]][0]-y[f[15]][0]+6*(y[f[4]][0]+y[f[1]][0])-2*(y[f[12]][0]+y[f[3]][0])+3*(y[f[13]][0]+y[f[7]][0]))/9,(-4*y[f[0]][1]-y[f[15]][1]+6*(y[f[4]][1]+y[f[1]][1])-2*(y[f[12]][1]+y[f[3]][1])+3*(y[f[13]][1]+y[f[7]][1]))/9]),f[6]=y.length,y.push([(-4*y[f[3]][0]-y[f[12]][0]+6*(y[f[2]][0]+y[f[7]][0])-2*(y[f[0]][0]+y[f[15]][0])+3*(y[f[4]][0]+y[f[14]][0]))/9,(-4*y[f[3]][1]-y[f[12]][1]+6*(y[f[2]][1]+y[f[7]][1])-2*(y[f[0]][1]+y[f[15]][1])+3*(y[f[4]][1]+y[f[14]][1]))/9]),f[9]=y.length,y.push([(-4*y[f[12]][0]-y[f[3]][0]+6*(y[f[8]][0]+y[f[13]][0])-2*(y[f[0]][0]+y[f[15]][0])+3*(y[f[11]][0]+y[f[1]][0]))/9,(-4*y[f[12]][1]-y[f[3]][1]+6*(y[f[8]][1]+y[f[13]][1])-2*(y[f[0]][1]+y[f[15]][1])+3*(y[f[11]][1]+y[f[1]][1]))/9]),f[10]=y.length,y.push([(-4*y[f[15]][0]-y[f[0]][0]+6*(y[f[11]][0]+y[f[14]][0])-2*(y[f[12]][0]+y[f[3]][0])+3*(y[f[2]][0]+y[f[8]][0]))/9,(-4*y[f[15]][1]-y[f[0]][1]+6*(y[f[11]][1]+y[f[14]][1])-2*(y[f[12]][1]+y[f[3]][1])+3*(y[f[2]][1]+y[f[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(f),colors:new Int32Array(m)})}}_decodeType7Shading(o){const y=this.coords,r=this.colors,f=new Int32Array(16),m=new Int32Array(4);for(;o.hasData;){const P=o.readFlag();if(!(0<=P&&P<=3))throw new n.FormatError("Unknown type7 flag");const d=y.length;for(let D=0,T=P!==0?12:16;D<T;D++)y.push(o.readCoordinate());const A=r.length;for(let D=0,T=P!==0?2:4;D<T;D++)r.push(o.readComponents());let L,h,g,k;switch(P){case 0:f[12]=d+3,f[13]=d+4,f[14]=d+5,f[15]=d+6,f[8]=d+2,f[9]=d+13,f[10]=d+14,f[11]=d+7,f[4]=d+1,f[5]=d+12,f[6]=d+15,f[7]=d+8,f[0]=d,f[1]=d+11,f[2]=d+10,f[3]=d+9,m[2]=A+1,m[3]=A+2,m[0]=A,m[1]=A+3;break;case 1:L=f[12],h=f[13],g=f[14],k=f[15],f[12]=k,f[13]=d+0,f[14]=d+1,f[15]=d+2,f[8]=g,f[9]=d+9,f[10]=d+10,f[11]=d+3,f[4]=h,f[5]=d+8,f[6]=d+11,f[7]=d+4,f[0]=L,f[1]=d+7,f[2]=d+6,f[3]=d+5,L=m[2],h=m[3],m[2]=h,m[3]=A,m[0]=L,m[1]=A+1;break;case 2:L=f[15],h=f[11],f[12]=f[3],f[13]=d+0,f[14]=d+1,f[15]=d+2,f[8]=f[7],f[9]=d+9,f[10]=d+10,f[11]=d+3,f[4]=h,f[5]=d+8,f[6]=d+11,f[7]=d+4,f[0]=L,f[1]=d+7,f[2]=d+6,f[3]=d+5,L=m[3],m[2]=m[1],m[3]=A,m[0]=L,m[1]=A+1;break;case 3:f[12]=f[0],f[13]=d+0,f[14]=d+1,f[15]=d+2,f[8]=f[1],f[9]=d+9,f[10]=d+10,f[11]=d+3,f[4]=f[2],f[5]=d+8,f[6]=d+11,f[7]=d+4,f[0]=f[3],f[1]=d+7,f[2]=d+6,f[3]=d+5,m[2]=m[0],m[3]=A,m[0]=m[1],m[1]=A+1;break}this.figures.push({type:"patch",coords:new Int32Array(f),colors:new Int32Array(m)})}}_buildFigureFromPatch(o){const y=this.figures[o];(0,n.assert)(y.type==="patch","Unexpected patch mesh figure");const r=this.coords,f=this.colors,m=y.coords,P=y.colors,d=Math.min(r[m[0]][0],r[m[3]][0],r[m[12]][0],r[m[15]][0]),A=Math.min(r[m[0]][1],r[m[3]][1],r[m[12]][1],r[m[15]][1]),L=Math.max(r[m[0]][0],r[m[3]][0],r[m[12]][0],r[m[15]][0]),h=Math.max(r[m[0]][1],r[m[3]][1],r[m[12]][1],r[m[15]][1]);let g=Math.ceil((L-d)*u.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));g=Math.max(u.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(u.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,g));let k=Math.ceil((h-A)*u.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));k=Math.max(u.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(u.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,k));const D=g+1,T=new Int32Array((k+1)*D),V=new Int32Array((k+1)*D);let q=0;const v=new Uint8Array(3),x=new Uint8Array(3),E=f[P[0]],U=f[P[1]],$=f[P[2]],Q=f[P[3]],ie=C(k),j=C(g);for(let X=0;X<=k;X++){v[0]=(E[0]*(k-X)+$[0]*X)/k|0,v[1]=(E[1]*(k-X)+$[1]*X)/k|0,v[2]=(E[2]*(k-X)+$[2]*X)/k|0,x[0]=(U[0]*(k-X)+Q[0]*X)/k|0,x[1]=(U[1]*(k-X)+Q[1]*X)/k|0,x[2]=(U[2]*(k-X)+Q[2]*X)/k|0;for(let R=0;R<=g;R++,q++){if((X===0||X===k)&&(R===0||R===g))continue;let Z=0,N=0,M=0;for(let _=0;_<=3;_++)for(let W=0;W<=3;W++,M++){const Y=ie[X][_]*j[R][W];Z+=r[m[M]][0]*Y,N+=r[m[M]][1]*Y}T[q]=r.length,r.push([Z,N]),V[q]=f.length;const c=new Uint8Array(3);c[0]=(v[0]*(g-R)+x[0]*R)/g|0,c[1]=(v[1]*(g-R)+x[1]*R)/g|0,c[2]=(v[2]*(g-R)+x[2]*R)/g|0,f.push(c)}}T[0]=m[0],V[0]=P[0],T[g]=m[3],V[g]=P[1],T[D*k]=m[12],V[D*k]=P[2],T[D*k+g]=m[15],V[D*k+g]=P[3],this.figures[o]={type:"lattice",coords:T,colors:V,verticesPerRow:D}}_updateBounds(){let o=this.coords[0][0],y=this.coords[0][1],r=o,f=y;for(let m=1,P=this.coords.length;m<P;m++){const d=this.coords[m][0],A=this.coords[m][1];o=o>d?d:o,y=y>A?A:y,r=r<d?d:r,f=f<A?A:f}this.bounds=[o,y,r,f]}_packData(){let o,y,r,f;const m=this.coords,P=new Float32Array(m.length*2);for(o=0,r=0,y=m.length;o<y;o++){const h=m[o];P[r++]=h[0],P[r++]=h[1]}this.coords=P;const d=this.colors,A=new Uint8Array(d.length*3);for(o=0,r=0,y=d.length;o<y;o++){const h=d[o];A[r++]=h[0],A[r++]=h[1],A[r++]=h[2]}this.colors=A;const L=this.figures;for(o=0,y=L.length;o<y;o++){const h=L[o],g=h.coords,k=h.colors;for(r=0,f=g.length;r<f;r++)g[r]*=2,k[r]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}};let w=u;Rt(w,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3),Rt(w,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20),Rt(w,"TRIANGLE_DENSITY",20);class i extends z{getIR(){return["Dummy"]}}function F(s,o,y){const r=o.getArray("Matrix"),f=n.Util.normalizeRect(o.getArray("BBox")),m=o.get("XStep"),P=o.get("YStep"),d=o.get("PaintType"),A=o.get("TilingType");if(f[2]-f[0]===0||f[3]-f[1]===0)throw new n.FormatError(`Invalid getTilingPatternIR /BBox array: [${f}].`);return["TilingPattern",y,s,r,f,m,P,d,A]}},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.getXfaFontDict=i,S.getXfaFontName=C;var n=ee(52),l=ee(4),K=ee(53),e=ee(54),t=ee(55),H=ee(56),z=ee(3),G=ee(38);const I=(0,z.getLookupTableFactory)(function(F){F["MyriadPro-Regular"]=F["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:t.MyriadProRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:t.MyriadProRegularMetrics},F["MyriadPro-Bold"]=F["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:t.MyriadProBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:t.MyriadProBoldMetrics},F["MyriadPro-It"]=F["MyriadPro-Italic"]=F["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:t.MyriadProItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:t.MyriadProItalicMetrics},F["MyriadPro-BoldIt"]=F["MyriadPro-BoldItalic"]=F["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:t.MyriadProBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:t.MyriadProBoldItalicMetrics},F.ArialMT=F.Arial=F["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping},F["Arial-BoldMT"]=F["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping},F["Arial-ItalicMT"]=F["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping},F["Arial-BoldItalicMT"]=F["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping},F["Calibri-Regular"]={name:"LiberationSans-Regular",factors:n.CalibriRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:n.CalibriRegularMetrics},F["Calibri-Bold"]={name:"LiberationSans-Bold",factors:n.CalibriBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:n.CalibriBoldMetrics},F["Calibri-Italic"]={name:"LiberationSans-Italic",factors:n.CalibriItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:n.CalibriItalicMetrics},F["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:n.CalibriBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:n.CalibriBoldItalicMetrics},F["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:H.SegoeuiRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:H.SegoeuiRegularMetrics},F["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:H.SegoeuiBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:H.SegoeuiBoldMetrics},F["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:H.SegoeuiItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:H.SegoeuiItalicMetrics},F["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:H.SegoeuiBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:H.SegoeuiBoldItalicMetrics},F["Helvetica-Regular"]=F.Helvetica={name:"LiberationSans-Regular",factors:K.HelveticaRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:K.HelveticaRegularMetrics},F["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:K.HelveticaBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:K.HelveticaBoldMetrics},F["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:K.HelveticaItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:K.HelveticaItalicMetrics},F["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:K.HelveticaBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:K.HelveticaBoldItalicMetrics}});function C(F){const B=(0,G.normalizeFontName)(F);return I()[B]}function w(F){const B=C(F);if(!B)return null;const{baseWidths:u,baseMapping:s,factors:o}=B;let y;o?y=u.map((P,d)=>P*o[d]):y=u;let r=-2,f;const m=[];for(const[P,d]of s.map((A,L)=>[A,L]).sort(([A],[L])=>A-L))P!==-1&&(P===r+1?(f.push(y[d]),r+=1):(r=P,f=[y[d]],m.push(P,f)));return m}function i(F){const B=w(F),u=new l.Dict(null);u.set("BaseFont",l.Name.get(F)),u.set("Type",l.Name.get("Font")),u.set("Subtype",l.Name.get("CIDFontType2")),u.set("Encoding",l.Name.get("Identity-H")),u.set("CIDToGIDMap",l.Name.get("Identity")),u.set("W",B),u.set("FirstChar",B[0]),u.set("LastChar",B.at(-2)+B.at(-1).length-1);const s=new l.Dict(null);u.set("FontDescriptor",s);const o=new l.Dict(null);return o.set("Ordering","Identity"),o.set("Registry","Adobe"),o.set("Supplement",0),u.set("CIDSystemInfo",o),u}},(fe,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.CalibriRegularMetrics=S.CalibriRegularFactors=S.CalibriItalicMetrics=S.CalibriItalicFactors=S.CalibriBoldMetrics=S.CalibriBoldItalicMetrics=S.CalibriBoldItalicFactors=S.CalibriBoldFactors=void 0;const ee=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];S.CalibriBoldFactors=ee;const n={lineHeight:1.2207,lineGap:.2207};S.CalibriBoldMetrics=n;const l=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];S.CalibriBoldItalicFactors=l;const K={lineHeight:1.2207,lineGap:.2207};S.CalibriBoldItalicMetrics=K;const e=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];S.CalibriItalicFactors=e;const t={lineHeight:1.2207,lineGap:.2207};S.CalibriItalicMetrics=t;const H=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1];S.CalibriRegularFactors=H;const z={lineHeight:1.2207,lineGap:.2207};S.CalibriRegularMetrics=z},(fe,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.HelveticaRegularMetrics=S.HelveticaRegularFactors=S.HelveticaItalicMetrics=S.HelveticaItalicFactors=S.HelveticaBoldMetrics=S.HelveticaBoldItalicMetrics=S.HelveticaBoldItalicFactors=S.HelveticaBoldFactors=void 0;const ee=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];S.HelveticaBoldFactors=ee;const n={lineHeight:1.2,lineGap:.2};S.HelveticaBoldMetrics=n;const l=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];S.HelveticaBoldItalicFactors=l;const K={lineHeight:1.35,lineGap:.2};S.HelveticaBoldItalicMetrics=K;const e=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];S.HelveticaItalicFactors=e;const t={lineHeight:1.35,lineGap:.2};S.HelveticaItalicMetrics=t;const H=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];S.HelveticaRegularFactors=H;const z={lineHeight:1.2,lineGap:.2};S.HelveticaRegularMetrics=z},(fe,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.LiberationSansRegularWidths=S.LiberationSansRegularMapping=S.LiberationSansItalicWidths=S.LiberationSansItalicMapping=S.LiberationSansBoldWidths=S.LiberationSansBoldMapping=S.LiberationSansBoldItalicWidths=S.LiberationSansBoldItalicMapping=void 0;const ee=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];S.LiberationSansBoldWidths=ee;const n=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];S.LiberationSansBoldMapping=n;const l=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];S.LiberationSansBoldItalicWidths=l;const K=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];S.LiberationSansBoldItalicMapping=K;const e=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];S.LiberationSansItalicWidths=e;const t=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];S.LiberationSansItalicMapping=t;const H=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];S.LiberationSansRegularWidths=H;const z=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];S.LiberationSansRegularMapping=z},(fe,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.MyriadProRegularMetrics=S.MyriadProRegularFactors=S.MyriadProItalicMetrics=S.MyriadProItalicFactors=S.MyriadProBoldMetrics=S.MyriadProBoldItalicMetrics=S.MyriadProBoldItalicFactors=S.MyriadProBoldFactors=void 0;const ee=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];S.MyriadProBoldFactors=ee;const n={lineHeight:1.2,lineGap:.2};S.MyriadProBoldMetrics=n;const l=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];S.MyriadProBoldItalicFactors=l;const K={lineHeight:1.2,lineGap:.2};S.MyriadProBoldItalicMetrics=K;const e=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];S.MyriadProItalicFactors=e;const t={lineHeight:1.2,lineGap:.2};S.MyriadProItalicMetrics=t;const H=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];S.MyriadProRegularFactors=H;const z={lineHeight:1.2,lineGap:.2};S.MyriadProRegularMetrics=z},(fe,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.SegoeuiRegularMetrics=S.SegoeuiRegularFactors=S.SegoeuiItalicMetrics=S.SegoeuiItalicFactors=S.SegoeuiBoldMetrics=S.SegoeuiBoldItalicMetrics=S.SegoeuiBoldItalicFactors=S.SegoeuiBoldFactors=void 0;const ee=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];S.SegoeuiBoldFactors=ee;const n={lineHeight:1.33008,lineGap:0};S.SegoeuiBoldMetrics=n;const l=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];S.SegoeuiBoldItalicFactors=l;const K={lineHeight:1.33008,lineGap:0};S.SegoeuiBoldItalicMetrics=K;const e=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];S.SegoeuiItalicFactors=e;const t={lineHeight:1.33008,lineGap:0};S.SegoeuiItalicMetrics=t;const H=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1];S.SegoeuiRegularFactors=H;const z={lineHeight:1.33008,lineGap:0};S.SegoeuiRegularMetrics=z},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.PostScriptEvaluator=S.PostScriptCompiler=S.PDFFunctionFactory=void 0,S.isPDFFunction=I;var n=ee(4),l=ee(2),K=ee(58),e=ee(5),t=ee(59);class H{constructor({xref:g,isEvalSupported:k=!0}){this.xref=g,this.isEvalSupported=k!==!1}create(g){const k=this.getCached(g);if(k)return k;const D=G.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:g instanceof n.Ref?this.xref.fetch(g):g});return this._cache(g,D),D}createFromArray(g){const k=this.getCached(g);if(k)return k;const D=G.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:g instanceof n.Ref?this.xref.fetch(g):g});return this._cache(g,D),D}getCached(g){var D;let k;if(g instanceof n.Ref?k=g:g instanceof n.Dict?k=g.objId:g instanceof e.BaseStream&&(k=(D=g.dict)==null?void 0:D.objId),k){const T=this._localFunctionCache.getByRef(k);if(T)return T}return null}_cache(g,k){var T;if(!k)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let D;g instanceof n.Ref?D=g:g instanceof n.Dict?D=g.objId:g instanceof e.BaseStream&&(D=(T=g.dict)==null?void 0:T.objId),D&&this._localFunctionCache.set(null,D,k)}get _localFunctionCache(){return(0,l.shadow)(this,"_localFunctionCache",new t.LocalFunctionCache)}}S.PDFFunctionFactory=H;function z(h){if(!Array.isArray(h))return null;const g=h.length;for(let k=0;k<g;k++)if(typeof h[k]!="number"){const D=new Array(g);for(let T=0;T<g;T++)D[T]=+h[T];return D}return h}class G{static getSampleArray(g,k,D,T){let V,q,v=1;for(V=0,q=g.length;V<q;V++)v*=g[V];v*=k;const x=new Array(v);let E=0,U=0;const $=1/(2**D-1),Q=T.getBytes((v*D+7)/8);let ie=0;for(V=0;V<v;V++){for(;E<D;)U<<=8,U|=Q[ie++],E+=8;E-=D,x[V]=(U>>E)*$,U&=(1<<E)-1}return x}static parse({xref:g,isEvalSupported:k,fn:D}){const T=D.dict||D;switch(T.get("FunctionType")){case 0:return this.constructSampled({xref:g,isEvalSupported:k,fn:D,dict:T});case 1:break;case 2:return this.constructInterpolated({xref:g,isEvalSupported:k,dict:T});case 3:return this.constructStiched({xref:g,isEvalSupported:k,dict:T});case 4:return this.constructPostScript({xref:g,isEvalSupported:k,fn:D,dict:T})}throw new l.FormatError("Unknown type of function")}static parseArray({xref:g,isEvalSupported:k,fnObj:D}){if(!Array.isArray(D))return this.parse({xref:g,isEvalSupported:k,fn:D});const T=[];for(const V of D)T.push(this.parse({xref:g,isEvalSupported:k,fn:g.fetchIfRef(V)}));return function(V,q,v,x){for(let E=0,U=T.length;E<U;E++)T[E](V,q,v,x+E)}}static constructSampled({xref:g,isEvalSupported:k,fn:D,dict:T}){function V(Z){const N=Z.length,M=[];let c=0;for(let _=0;_<N;_+=2)M[c++]=[Z[_],Z[_+1]];return M}function q(Z,N,M,c,_){return c+(Z-N)*((_-c)/(M-N))}let v=z(T.getArray("Domain")),x=z(T.getArray("Range"));if(!v||!x)throw new l.FormatError("No domain or range");const E=v.length/2,U=x.length/2;v=V(v),x=V(x);const $=z(T.getArray("Size")),Q=T.get("BitsPerSample"),ie=T.get("Order")||1;ie!==1&&(0,l.info)("No support for cubic spline interpolation: "+ie);let j=z(T.getArray("Encode"));if(j)j=V(j);else{j=[];for(let Z=0;Z<E;++Z)j.push([0,$[Z]-1])}let X=z(T.getArray("Decode"));X?X=V(X):X=x;const R=this.getSampleArray($,U,Q,D);return function(N,M,c,_){const W=1<<E,Y=new Float64Array(W),J=new Uint32Array(W);let ae,oe;for(oe=0;oe<W;oe++)Y[oe]=1;let he=U,ne=1;for(ae=0;ae<E;++ae){const re=v[ae][0],de=v[ae][1],ue=Math.min(Math.max(N[M+ae],re),de);let ge=q(ue,re,de,j[ae][0],j[ae][1]);const pe=$[ae];ge=Math.min(Math.max(ge,0),pe-1);const xe=ge<pe-1?Math.floor(ge):ge-1,Ie=xe+1-ge,Fe=ge-xe,Ae=xe*he,we=Ae+he;for(oe=0;oe<W;oe++)oe&ne?(Y[oe]*=Fe,J[oe]+=we):(Y[oe]*=Ie,J[oe]+=Ae);he*=pe,ne<<=1}for(oe=0;oe<U;++oe){let re=0;for(ae=0;ae<W;ae++)re+=R[J[ae]+oe]*Y[ae];re=q(re,0,1,X[oe][0],X[oe][1]),c[_+oe]=Math.min(Math.max(re,x[oe][0]),x[oe][1])}}}static constructInterpolated({xref:g,isEvalSupported:k,dict:D}){const T=z(D.getArray("C0"))||[0],V=z(D.getArray("C1"))||[1],q=D.get("N"),v=[];for(let E=0,U=T.length;E<U;++E)v.push(V[E]-T[E]);const x=v.length;return function(U,$,Q,ie){const j=q===1?U[$]:U[$]**q;for(let X=0;X<x;++X)Q[ie+X]=T[X]+j*v[X]}}static constructStiched({xref:g,isEvalSupported:k,dict:D}){const T=z(D.getArray("Domain"));if(!T)throw new l.FormatError("No domain");if(T.length/2!==1)throw new l.FormatError("Bad domain for stiched function");const q=[];for(const U of D.get("Functions"))q.push(this.parse({xref:g,isEvalSupported:k,fn:g.fetchIfRef(U)}));const v=z(D.getArray("Bounds")),x=z(D.getArray("Encode")),E=new Float32Array(1);return function($,Q,ie,j){const R=function(J,ae,oe){return J>oe?J=oe:J<ae&&(J=ae),J}($[Q],T[0],T[1]),Z=v.length;let N;for(N=0;N<Z&&!(R<v[N]);++N);let M=T[0];N>0&&(M=v[N-1]);let c=T[1];N<v.length&&(c=v[N]);const _=x[2*N],W=x[2*N+1];E[0]=M===c?_:_+(R-M)*(W-_)/(c-M),q[N](E,0,ie,j)}}static constructPostScript({xref:g,isEvalSupported:k,fn:D,dict:T}){const V=z(T.getArray("Domain")),q=z(T.getArray("Range"));if(!V)throw new l.FormatError("No domain.");if(!q)throw new l.FormatError("No range.");const v=new K.PostScriptLexer(D),E=new K.PostScriptParser(v).parse();if(k&&l.FeatureTest.isEvalSupported){const Z=new A().compile(E,V,q);if(Z)return new Function("src","srcOffset","dest","destOffset",Z)}(0,l.info)("Unable to compile PS function");const U=q.length>>1,$=V.length>>1,Q=new w(E),ie=Object.create(null);let X=2048*4;const R=new Float32Array($);return function(N,M,c,_){let W,Y,J="";const ae=R;for(W=0;W<$;W++)Y=N[M+W],ae[W]=Y,J+=Y+"_";const oe=ie[J];if(oe!==void 0){c.set(oe,_);return}const he=new Float32Array(U),ne=Q.execute(ae),re=ne.length-U;for(W=0;W<U;W++){Y=ne[re+W];let de=q[W*2];Y<de?Y=de:(de=q[W*2+1],Y>de&&(Y=de)),he[W]=Y}X>0&&(X--,ie[J]=he),c.set(he,_)}}}function I(h){let g;if(h instanceof n.Dict)g=h;else if(h instanceof e.BaseStream)g=h.dict;else return!1;return g.has("FunctionType")}const L=class{constructor(g){this.stack=g?Array.from(g):[]}push(g){if(this.stack.length>=L.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(g)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(g){if(this.stack.length+g>=L.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const k=this.stack;for(let D=k.length-g,T=g-1;T>=0;T--,D++)k.push(k[D])}index(g){this.push(this.stack[this.stack.length-g-1])}roll(g,k){const D=this.stack,T=D.length-g,V=D.length-1,q=T+(k-Math.floor(k/g)*g);for(let v=T,x=V;v<x;v++,x--){const E=D[v];D[v]=D[x],D[x]=E}for(let v=T,x=q-1;v<x;v++,x--){const E=D[v];D[v]=D[x],D[x]=E}for(let v=q,x=V;v<x;v++,x--){const E=D[v];D[v]=D[x],D[x]=E}}};let C=L;Rt(C,"MAX_STACK_SIZE",100);class w{constructor(g){this.operators=g}execute(g){const k=new C(g);let D=0;const T=this.operators,V=T.length;let q,v,x;for(;D<V;){if(q=T[D++],typeof q=="number"){k.push(q);continue}switch(q){case"jz":x=k.pop(),v=k.pop(),v||(D=x);break;case"j":v=k.pop(),D=v;break;case"abs":v=k.pop(),k.push(Math.abs(v));break;case"add":x=k.pop(),v=k.pop(),k.push(v+x);break;case"and":x=k.pop(),v=k.pop(),typeof v=="boolean"&&typeof x=="boolean"?k.push(v&&x):k.push(v&x);break;case"atan":x=k.pop(),v=k.pop(),v=Math.atan2(v,x)/Math.PI*180,v<0&&(v+=360),k.push(v);break;case"bitshift":x=k.pop(),v=k.pop(),v>0?k.push(v<<x):k.push(v>>x);break;case"ceiling":v=k.pop(),k.push(Math.ceil(v));break;case"copy":v=k.pop(),k.copy(v);break;case"cos":v=k.pop(),k.push(Math.cos(v%360/180*Math.PI));break;case"cvi":v=k.pop()|0,k.push(v);break;case"cvr":break;case"div":x=k.pop(),v=k.pop(),k.push(v/x);break;case"dup":k.copy(1);break;case"eq":x=k.pop(),v=k.pop(),k.push(v===x);break;case"exch":k.roll(2,1);break;case"exp":x=k.pop(),v=k.pop(),k.push(v**x);break;case"false":k.push(!1);break;case"floor":v=k.pop(),k.push(Math.floor(v));break;case"ge":x=k.pop(),v=k.pop(),k.push(v>=x);break;case"gt":x=k.pop(),v=k.pop(),k.push(v>x);break;case"idiv":x=k.pop(),v=k.pop(),k.push(v/x|0);break;case"index":v=k.pop(),k.index(v);break;case"le":x=k.pop(),v=k.pop(),k.push(v<=x);break;case"ln":v=k.pop(),k.push(Math.log(v));break;case"log":v=k.pop(),k.push(Math.log(v)/Math.LN10);break;case"lt":x=k.pop(),v=k.pop(),k.push(v<x);break;case"mod":x=k.pop(),v=k.pop(),k.push(v%x);break;case"mul":x=k.pop(),v=k.pop(),k.push(v*x);break;case"ne":x=k.pop(),v=k.pop(),k.push(v!==x);break;case"neg":v=k.pop(),k.push(-v);break;case"not":v=k.pop(),typeof v=="boolean"?k.push(!v):k.push(~v);break;case"or":x=k.pop(),v=k.pop(),typeof v=="boolean"&&typeof x=="boolean"?k.push(v||x):k.push(v|x);break;case"pop":k.pop();break;case"roll":x=k.pop(),v=k.pop(),k.roll(v,x);break;case"round":v=k.pop(),k.push(Math.round(v));break;case"sin":v=k.pop(),k.push(Math.sin(v%360/180*Math.PI));break;case"sqrt":v=k.pop(),k.push(Math.sqrt(v));break;case"sub":x=k.pop(),v=k.pop(),k.push(v-x);break;case"true":k.push(!0);break;case"truncate":v=k.pop(),v=v<0?Math.ceil(v):Math.floor(v),k.push(v);break;case"xor":x=k.pop(),v=k.pop(),typeof v=="boolean"&&typeof x=="boolean"?k.push(v!==x):k.push(v^x);break;default:throw new l.FormatError(`Unknown operator ${q}`)}}return k.stack}}S.PostScriptEvaluator=w;class i{constructor(g){this.type=g}visit(g){(0,l.unreachable)("abstract method")}}class F extends i{constructor(g,k,D){super("args"),this.index=g,this.min=k,this.max=D}visit(g){g.visitArgument(this)}}class B extends i{constructor(g){super("literal"),this.number=g,this.min=g,this.max=g}visit(g){g.visitLiteral(this)}}class u extends i{constructor(g,k,D,T,V){super("binary"),this.op=g,this.arg1=k,this.arg2=D,this.min=T,this.max=V}visit(g){g.visitBinaryOperation(this)}}class s extends i{constructor(g,k){super("max"),this.arg=g,this.min=g.min,this.max=k}visit(g){g.visitMin(this)}}class o extends i{constructor(g,k,D){super("var"),this.index=g,this.min=k,this.max=D}visit(g){g.visitVariable(this)}}class y extends i{constructor(g,k){super("definition"),this.variable=g,this.arg=k}visit(g){g.visitVariableDefinition(this)}}class r{constructor(){this.parts=[]}visitArgument(g){this.parts.push("Math.max(",g.min,", Math.min(",g.max,", src[srcOffset + ",g.index,"]))")}visitVariable(g){this.parts.push("v",g.index)}visitLiteral(g){this.parts.push(g.number)}visitBinaryOperation(g){this.parts.push("("),g.arg1.visit(this),this.parts.push(" ",g.op," "),g.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(g){this.parts.push("var "),g.variable.visit(this),this.parts.push(" = "),g.arg.visit(this),this.parts.push(";")}visitMin(g){this.parts.push("Math.min("),g.arg.visit(this),this.parts.push(", ",g.max,")")}toString(){return this.parts.join("")}}function f(h,g){return g.type==="literal"&&g.number===0?h:h.type==="literal"&&h.number===0?g:g.type==="literal"&&h.type==="literal"?new B(h.number+g.number):new u("+",h,g,h.min+g.min,h.max+g.max)}function m(h,g){if(g.type==="literal"){if(g.number===0)return new B(0);if(g.number===1)return h;if(h.type==="literal")return new B(h.number*g.number)}if(h.type==="literal"){if(h.number===0)return new B(0);if(h.number===1)return g}const k=Math.min(h.min*g.min,h.min*g.max,h.max*g.min,h.max*g.max),D=Math.max(h.min*g.min,h.min*g.max,h.max*g.min,h.max*g.max);return new u("*",h,g,k,D)}function P(h,g){if(g.type==="literal"){if(g.number===0)return h;if(h.type==="literal")return new B(h.number-g.number)}return g.type==="binary"&&g.op==="-"&&h.type==="literal"&&h.number===1&&g.arg1.type==="literal"&&g.arg1.number===1?g.arg2:new u("-",h,g,h.min-g.max,h.max-g.min)}function d(h,g){return h.min>=g?new B(g):h.max<=g?h:new s(h,g)}class A{compile(g,k,D){const T=[],V=[],q=k.length>>1,v=D.length>>1;let x=0,E,U,$,Q,ie,j,X,R;for(let N=0;N<q;N++)T.push(new F(N,k[N*2],k[N*2+1]));for(let N=0,M=g.length;N<M;N++){if(R=g[N],typeof R=="number"){T.push(new B(R));continue}switch(R){case"add":if(T.length<2)return null;Q=T.pop(),$=T.pop(),T.push(f($,Q));break;case"cvr":if(T.length<1)return null;break;case"mul":if(T.length<2)return null;Q=T.pop(),$=T.pop(),T.push(m($,Q));break;case"sub":if(T.length<2)return null;Q=T.pop(),$=T.pop(),T.push(P($,Q));break;case"exch":if(T.length<2)return null;ie=T.pop(),j=T.pop(),T.push(ie,j);break;case"pop":if(T.length<1)return null;T.pop();break;case"index":if(T.length<1||($=T.pop(),$.type!=="literal")||(E=$.number,E<0||!Number.isInteger(E)||T.length<E))return null;if(ie=T[T.length-E-1],ie.type==="literal"||ie.type==="var"){T.push(ie);break}X=new o(x++,ie.min,ie.max),T[T.length-E-1]=X,T.push(X),V.push(new y(X,ie));break;case"dup":if(T.length<1)return null;if(typeof g[N+1]=="number"&&g[N+2]==="gt"&&g[N+3]===N+7&&g[N+4]==="jz"&&g[N+5]==="pop"&&g[N+6]===g[N+1]){$=T.pop(),T.push(d($,g[N+1])),N+=6;break}if(ie=T.at(-1),ie.type==="literal"||ie.type==="var"){T.push(ie);break}X=new o(x++,ie.min,ie.max),T[T.length-1]=X,T.push(X),V.push(new y(X,ie));break;case"roll":if(T.length<2||(Q=T.pop(),$=T.pop(),Q.type!=="literal"||$.type!=="literal")||(U=Q.number,E=$.number,E<=0||!Number.isInteger(E)||!Number.isInteger(U)||T.length<E))return null;if(U=(U%E+E)%E,U===0)break;T.push(...T.splice(T.length-E,E-U));break;default:return null}}if(T.length!==v)return null;const Z=[];for(const N of V){const M=new r;N.visit(M),Z.push(M.toString())}for(let N=0,M=T.length;N<M;N++){const c=T[N],_=new r;c.visit(_);const W=D[N*2],Y=D[N*2+1],J=[_.toString()];W>c.min&&(J.unshift("Math.max(",W,", "),J.push(")")),Y<c.max&&(J.unshift("Math.min(",Y,", "),J.push(")")),J.unshift("dest[destOffset + ",N,"] = "),J.push(";"),Z.push(J.join(""))}return Z.join(`
`)}}S.PostScriptCompiler=A},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.PostScriptParser=S.PostScriptLexer=void 0;var n=ee(2),l=ee(4),K=ee(3);class e{constructor(I){this.lexer=I,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(I){return this.token.type===I?(this.nextToken(),!0):!1}expect(I){if(this.accept(I))return!0;throw new n.FormatError(`Unexpected symbol: found ${this.token.type} expected ${I}.`)}parse(){return this.nextToken(),this.expect(t.LBRACE),this.parseBlock(),this.expect(t.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(t.NUMBER))this.operators.push(this.prev.value);else if(this.accept(t.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(t.LBRACE))this.parseCondition();else return}parseCondition(){const I=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(t.RBRACE),this.accept(t.IF))this.operators[I]=this.operators.length,this.operators[I+1]="jz";else if(this.accept(t.LBRACE)){const C=this.operators.length;this.operators.push(null,null);const w=this.operators.length;this.parseBlock(),this.expect(t.RBRACE),this.expect(t.IFELSE),this.operators[C]=this.operators.length,this.operators[C+1]="j",this.operators[I]=w,this.operators[I+1]="jz"}else throw new n.FormatError("PS Function: error parsing conditional.")}}S.PostScriptParser=e;const t={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class H{static get opCache(){return(0,n.shadow)(this,"opCache",Object.create(null))}constructor(I,C){this.type=I,this.value=C}static getOperator(I){var C;return(C=H.opCache)[I]||(C[I]=new H(t.OPERATOR,I))}static get LBRACE(){return(0,n.shadow)(this,"LBRACE",new H(t.LBRACE,"{"))}static get RBRACE(){return(0,n.shadow)(this,"RBRACE",new H(t.RBRACE,"}"))}static get IF(){return(0,n.shadow)(this,"IF",new H(t.IF,"IF"))}static get IFELSE(){return(0,n.shadow)(this,"IFELSE",new H(t.IFELSE,"IFELSE"))}}class z{constructor(I){this.stream=I,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let I=!1,C=this.currentChar;for(;;){if(C<0)return l.EOF;if(I)(C===10||C===13)&&(I=!1);else if(C===37)I=!0;else if(!(0,K.isWhiteSpace)(C))break;C=this.nextChar()}switch(C|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new H(t.NUMBER,this.getNumber());case 123:return this.nextChar(),H.LBRACE;case 125:return this.nextChar(),H.RBRACE}const w=this.strBuf;for(w.length=0,w[0]=String.fromCharCode(C);(C=this.nextChar())>=0&&(C>=65&&C<=90||C>=97&&C<=122);)w.push(String.fromCharCode(C));const i=w.join("");switch(i.toLowerCase()){case"if":return H.IF;case"ifelse":return H.IFELSE;default:return H.getOperator(i)}}getNumber(){let I=this.currentChar;const C=this.strBuf;for(C.length=0,C[0]=String.fromCharCode(I);(I=this.nextChar())>=0&&(I>=48&&I<=57||I===45||I===46);)C.push(String.fromCharCode(I));const w=parseFloat(C.join(""));if(isNaN(w))throw new n.FormatError(`Invalid floating point number: ${w}`);return w}}S.PostScriptLexer=z},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.RegionalImageCache=S.LocalTilingPatternCache=S.LocalImageCache=S.LocalGStateCache=S.LocalFunctionCache=S.LocalColorSpaceCache=S.GlobalImageCache=void 0;var n=ee(2),l=ee(4);class K{constructor(F){this.constructor===K&&(0,n.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=(F==null?void 0:F.onlyRefs)===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new l.RefSetCache}getByName(F){this._onlyRefs&&(0,n.unreachable)("Should not call `getByName` method.");const B=this._nameRefMap.get(F);return B?this.getByRef(B):this._imageMap.get(F)||null}getByRef(F){return this._imageCache.get(F)||null}set(F,B,u){(0,n.unreachable)("Abstract method `set` called.")}}class e extends K{set(F,B=null,u){if(typeof F!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(B){if(this._imageCache.has(B))return;this._nameRefMap.set(F,B),this._imageCache.put(B,u);return}this._imageMap.has(F)||this._imageMap.set(F,u)}}S.LocalImageCache=e;class t extends K{set(F=null,B=null,u){if(typeof F!="string"&&!B)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(B){if(this._imageCache.has(B))return;F!==null&&this._nameRefMap.set(F,B),this._imageCache.put(B,u);return}this._imageMap.has(F)||this._imageMap.set(F,u)}}S.LocalColorSpaceCache=t;class H extends K{constructor(F){super({onlyRefs:!0})}set(F=null,B,u){if(!B)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(B)||this._imageCache.put(B,u)}}S.LocalFunctionCache=H;class z extends K{set(F,B=null,u){if(typeof F!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(B){if(this._imageCache.has(B))return;this._nameRefMap.set(F,B),this._imageCache.put(B,u);return}this._imageMap.has(F)||this._imageMap.set(F,u)}}S.LocalGStateCache=z;class G extends K{constructor(F){super({onlyRefs:!0})}set(F=null,B,u){if(!B)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(B)||this._imageCache.put(B,u)}}S.LocalTilingPatternCache=G;class I extends K{constructor(F){super({onlyRefs:!0})}set(F=null,B,u){if(!B)throw new Error('RegionalImageCache.set - expected "ref" argument.');this._imageCache.has(B)||this._imageCache.put(B,u)}}S.RegionalImageCache=I;const w=class{constructor(){this._refCache=new l.RefSetCache,this._imageCache=new l.RefSetCache}get _byteSize(){let F=0;for(const B of this._imageCache)F+=B.byteSize;return F}get _cacheLimitReached(){return!(this._imageCache.size<w.MIN_IMAGES_TO_CACHE||this._byteSize<w.MAX_BYTE_SIZE)}shouldCache(F,B){let u=this._refCache.get(F);return u||(u=new Set,this._refCache.put(F,u)),u.add(B),!(u.size<w.NUM_PAGES_THRESHOLD||!this._imageCache.has(F)&&this._cacheLimitReached)}addByteSize(F,B){const u=this._imageCache.get(F);u&&(u.byteSize||(u.byteSize=B))}getData(F,B){const u=this._refCache.get(F);if(!u||u.size<w.NUM_PAGES_THRESHOLD)return null;const s=this._imageCache.get(F);return s?(u.add(B),s):null}setData(F,B){if(!this._refCache.has(F))throw new Error('GlobalImageCache.setData - expected "shouldCache" to have been called.');if(!this._imageCache.has(F)){if(this._cacheLimitReached){(0,n.warn)("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(F,B)}}clear(F=!1){F||this._refCache.clear(),this._imageCache.clear()}};let C=w;Rt(C,"NUM_PAGES_THRESHOLD",2),Rt(C,"MIN_IMAGES_TO_CACHE",10),Rt(C,"MAX_BYTE_SIZE",5*n.MAX_IMAGE_SIZE_TO_CACHE),S.GlobalImageCache=C},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.bidi=i;var n=ee(2);const l=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],K=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function e(F){return(F&1)!==0}function t(F){return(F&1)===0}function H(F,B,u){let s,o;for(s=B,o=F.length;s<o;++s)if(F[s]!==u)return s;return s}function z(F,B,u,s){for(let o=B;o<u;++o)F[o]=s}function G(F,B,u){for(let s=B,o=u-1;s<o;++s,--o){const y=F[s];F[s]=F[o],F[o]=y}}function I(F,B,u=!1){let s="ltr";return u?s="ttb":B||(s="rtl"),{str:F,dir:s}}const C=[],w=[];function i(F,B=-1,u=!1){let s=!0;const o=F.length;if(o===0||u)return I(F,s,u);C.length=o,w.length=o;let y=0,r,f;for(r=0;r<o;++r){C[r]=F.charAt(r);const T=F.charCodeAt(r);let V="L";T<=255?V=l[T]:1424<=T&&T<=1524?V="R":1536<=T&&T<=1791?(V=K[T&255],V||(0,n.warn)("Bidi: invalid Unicode character "+T.toString(16))):(1792<=T&&T<=2220||64336<=T&&T<=65023||65136<=T&&T<=65279)&&(V="AL"),(V==="R"||V==="AL"||V==="AN")&&y++,w[r]=V}if(y===0)return s=!0,I(F,s);B===-1&&(y/o<.3&&o>4?(s=!0,B=0):(s=!1,B=1));const m=[];for(r=0;r<o;++r)m[r]=B;const P=e(B)?"R":"L",d=P,A=d;let L=d;for(r=0;r<o;++r)w[r]==="NSM"?w[r]=L:L=w[r];L=d;let h;for(r=0;r<o;++r)h=w[r],h==="EN"?w[r]=L==="AL"?"AN":"EN":(h==="R"||h==="L"||h==="AL")&&(L=h);for(r=0;r<o;++r)h=w[r],h==="AL"&&(w[r]="R");for(r=1;r<o-1;++r)w[r]==="ES"&&w[r-1]==="EN"&&w[r+1]==="EN"&&(w[r]="EN"),w[r]==="CS"&&(w[r-1]==="EN"||w[r-1]==="AN")&&w[r+1]===w[r-1]&&(w[r]=w[r-1]);for(r=0;r<o;++r)if(w[r]==="EN"){for(let T=r-1;T>=0&&w[T]==="ET";--T)w[T]="EN";for(let T=r+1;T<o&&w[T]==="ET";++T)w[T]="EN"}for(r=0;r<o;++r)h=w[r],(h==="WS"||h==="ES"||h==="ET"||h==="CS")&&(w[r]="ON");for(L=d,r=0;r<o;++r)h=w[r],h==="EN"?w[r]=L==="L"?"L":"EN":(h==="R"||h==="L")&&(L=h);for(r=0;r<o;++r)if(w[r]==="ON"){const T=H(w,r+1,"ON");let V=d;r>0&&(V=w[r-1]);let q=A;T+1<o&&(q=w[T+1]),V!=="L"&&(V="R"),q!=="L"&&(q="R"),V===q&&z(w,r,T,V),r=T-1}for(r=0;r<o;++r)w[r]==="ON"&&(w[r]=P);for(r=0;r<o;++r)h=w[r],t(m[r])?h==="R"?m[r]+=1:(h==="AN"||h==="EN")&&(m[r]+=2):(h==="L"||h==="AN"||h==="EN")&&(m[r]+=1);let g=-1,k=99,D;for(r=0,f=m.length;r<f;++r)D=m[r],g<D&&(g=D),k>D&&e(D)&&(k=D);for(D=g;D>=k;--D){let T=-1;for(r=0,f=m.length;r<f;++r)m[r]<D?T>=0&&(G(C,T,r),T=-1):T<0&&(T=r);T>=0&&G(C,T,m.length)}for(r=0,f=C.length;r<f;++r){const T=C[r];(T==="<"||T===">")&&(C[r]="")}return I(C.join(""),s)}},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.getFontSubstitution=w;var n=ee(38),l=ee(3);const K={style:"normal",weight:"normal"},e={style:"normal",weight:"bold"},t={style:"italic",weight:"normal"},H={style:"italic",weight:"bold"},z=new Map([["Times-Roman",{local:["Times New Roman","Times-Roman","Times","Liberation Serif","Nimbus Roman","Nimbus Roman L","Tinos","Thorndale","TeX Gyre Termes","FreeSerif","DejaVu Serif","Bitstream Vera Serif","Ubuntu"],style:K,ultimate:"serif"}],["Times-Bold",{alias:"Times-Roman",style:e,ultimate:"serif"}],["Times-Italic",{alias:"Times-Roman",style:t,ultimate:"serif"}],["Times-BoldItalic",{alias:"Times-Roman",style:H,ultimate:"serif"}],["Helvetica",{local:["Helvetica","Helvetica Neue","Arial","Arial Nova","Liberation Sans","Arimo","Nimbus Sans","Nimbus Sans L","A030","TeX Gyre Heros","FreeSans","DejaVu Sans","Albany","Bitstream Vera Sans","Arial Unicode MS","Microsoft Sans Serif","Apple Symbols","Cantarell"],path:"LiberationSans-Regular.ttf",style:K,ultimate:"sans-serif"}],["Helvetica-Bold",{alias:"Helvetica",path:"LiberationSans-Bold.ttf",style:e,ultimate:"sans-serif"}],["Helvetica-Oblique",{alias:"Helvetica",path:"LiberationSans-Italic.ttf",style:t,ultimate:"sans-serif"}],["Helvetica-BoldOblique",{alias:"Helvetica",path:"LiberationSans-BoldItalic.ttf",style:H,ultimate:"sans-serif"}],["Courier",{local:["Courier","Courier New","Liberation Mono","Nimbus Mono","Nimbus Mono L","Cousine","Cumberland","TeX Gyre Cursor","FreeMono"],style:K,ultimate:"monospace"}],["Courier-Bold",{alias:"Courier",style:e,ultimate:"monospace"}],["Courier-Oblique",{alias:"Courier",style:t,ultimate:"monospace"}],["Courier-BoldOblique",{alias:"Courier",style:H,ultimate:"monospace"}],["ArialBlack",{local:["Arial Black"],style:{style:"normal",weight:"900"},fallback:"Helvetica-Bold"}],["ArialBlack-Bold",{alias:"ArialBlack"}],["ArialBlack-Italic",{alias:"ArialBlack",style:{style:"italic",weight:"900"},fallback:"Helvetica-BoldOblique"}],["ArialBlack-BoldItalic",{alias:"ArialBlack-Italic"}],["ArialNarrow",{local:["Arial Narrow","Liberation Sans Narrow","Helvetica Condensed","Nimbus Sans Narrow","TeX Gyre Heros Cn"],style:K,fallback:"Helvetica"}],["ArialNarrow-Bold",{alias:"ArialNarrow",style:e,fallback:"Helvetica-Bold"}],["ArialNarrow-Italic",{alias:"ArialNarrow",style:t,fallback:"Helvetica-Oblique"}],["ArialNarrow-BoldItalic",{alias:"ArialNarrow",style:H,fallback:"Helvetica-BoldOblique"}],["Calibri",{local:["Calibri","Carlito"],style:K,fallback:"Helvetica"}],["Calibri-Bold",{alias:"Calibri",style:e,fallback:"Helvetica-Bold"}],["Calibri-Italic",{alias:"Calibri",style:t,fallback:"Helvetica-Oblique"}],["Calibri-BoldItalic",{alias:"Calibri",style:H,fallback:"Helvetica-BoldOblique"}],["Wingdings",{local:["Wingdings","URW Dingbats"],style:K}],["Wingdings-Regular",{alias:"Wingdings"}],["Wingdings-Bold",{alias:"Wingdings"}]]),G=new Map([["Arial-Black","ArialBlack"]]);function I(i){switch(i){case e:return"Bold";case t:return"Italic";case H:return"Bold Italic";default:if((i==null?void 0:i.weight)==="bold")return"Bold";if((i==null?void 0:i.style)==="italic")return"Italic"}return""}function C({alias:i,local:F,path:B,fallback:u,style:s,ultimate:o},y,r,f=!0,m=!0,P=""){const d={style:null,ultimate:null};if(F){const A=P?` ${P}`:"";for(const L of F)y.push(`local(${L}${A})`)}if(i){const A=z.get(i),L=P||I(s);Object.assign(d,C(A,y,r,f&&!u,m&&!B,L))}if(s&&(d.style=s),o&&(d.ultimate=o),f&&u){const A=z.get(u),{ultimate:L}=C(A,y,r,f,m&&!B,P);d.ultimate||(d.ultimate=L)}return m&&B&&r&&y.push(`url(${r}${B})`),d}function w(i,F,B,u,s){u=(0,n.normalizeFontName)(u);const o=u;let y=i.get(o);if(y)return y;let r=z.get(u);if(!r){for(const[g,k]of G)if(u.startsWith(g)){u=`${k}${u.substring(g.length)}`,r=z.get(u);break}}let f=!1;r||(r=z.get(s),f=!0);const m=`${F.getDocId()}_s${F.createFontId()}`;if(!r){if(!(0,l.validateFontName)(u))return i.set(o,null),null;const g=/bold/gi.test(u),k=/oblique|italic/gi.test(u),D=g&&k&&H||g&&e||k&&t||K;return y={css:m,guessFallback:!0,loadedName:m,baseFontName:u,src:`local(${u})`,style:D},i.set(o,y),y}const P=[];f&&(0,l.validateFontName)(u)&&P.push(`local(${u})`);const{style:d,ultimate:A}=C(r,P,B),L=A===null,h=L?"":`,${A}`;return y={css:`${m}${h}`,guessFallback:L,loadedName:m,baseFontName:u,src:P.join(","),style:d},i.set(o,y),y}},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.ImageResizer=void 0;var n=ee(2);const l=2048,K=65537,e=128;class t{constructor(z,G){this._imgData=z,this._isMask=G}static needsToBeResized(z,G){if(z<=this._goodSquareLength&&G<=this._goodSquareLength)return!1;const{MAX_DIM:I}=this;if(z>I||G>I)return!0;const C=z*G;if(this._hasMaxArea)return C>this.MAX_AREA;if(C<this._goodSquareLength**2)return!1;if(this._areGoodDims(z,G))return this._goodSquareLength=Math.max(this._goodSquareLength,Math.floor(Math.sqrt(z*G))),!1;this._goodSquareLength=this._guessMax(this._goodSquareLength,I,e,0);const w=this.MAX_AREA=this._goodSquareLength**2;return C>w}static get MAX_DIM(){return(0,n.shadow)(this,"MAX_DIM",this._guessMax(l,K,0,1))}static get MAX_AREA(){return this._hasMaxArea=!0,(0,n.shadow)(this,"MAX_AREA",this._guessMax(t._goodSquareLength,this.MAX_DIM,e,0)**2)}static set MAX_AREA(z){z>=0&&(this._hasMaxArea=!0,(0,n.shadow)(this,"MAX_AREA",z))}static setMaxArea(z){this._hasMaxArea||(this.MAX_AREA=z>>2)}static _areGoodDims(z,G){try{const I=new OffscreenCanvas(z,G),C=I.getContext("2d");C.fillRect(0,0,1,1);const w=C.getImageData(0,0,1,1).data[3];return I.width=I.height=1,w!==0}catch{return!1}}static _guessMax(z,G,I,C){for(;z+I+1<G;){const w=Math.floor((z+G)/2),i=C||w;this._areGoodDims(w,i)?z=w:G=w}return z}static async createImage(z,G=!1){return new t(z,G)._createImage()}async _createImage(){const z=this._encodeBMP(),G=new Blob([z.buffer],{type:"image/bmp"}),I=createImageBitmap(G),{MAX_AREA:C,MAX_DIM:w}=t,{_imgData:i}=this,{width:F,height:B}=i,u=Math.max(F/w,B/w,Math.sqrt(F*B/C)),s=Math.max(u,2),o=Math.round(10*(u+1.25))/10/s,y=Math.floor(Math.log2(o)),r=new Array(y+2).fill(2);r[0]=s,r.splice(-1,1,o/(1<<y));let f=F,m=B,P=await I;for(const d of r){const A=f,L=m;f=Math.floor(f/d)-1,m=Math.floor(m/d)-1;const h=new OffscreenCanvas(f,m);h.getContext("2d").drawImage(P,0,0,A,L,0,0,f,m),P=h.transferToImageBitmap()}return i.data=null,i.bitmap=P,i.width=f,i.height=m,i}_encodeBMP(){const{width:z,height:G,kind:I}=this._imgData;let C=this._imgData.data,w,i=new Uint8Array(0),F=i,B=0;switch(I){case n.ImageKind.GRAYSCALE_1BPP:{w=1,i=new Uint8Array(this._isMask?[255,255,255,255,0,0,0,0]:[0,0,0,0,255,255,255,255]);const m=z+7>>3,P=m+3&-4;if(m!==P){const d=new Uint8Array(P*G);let A=0;for(let L=0,h=G*m;L<h;L+=m,A+=P)d.set(C.subarray(L,L+m),A);C=d}break}case n.ImageKind.RGB_24BPP:{if(w=24,z&3){const m=3*z,P=m+3&-4,d=P-m,A=new Uint8Array(P*G);let L=0;for(let h=0,g=G*m;h<g;h+=m){const k=C.subarray(h,h+m);for(let D=0;D<m;D+=3)A[L++]=k[D+2],A[L++]=k[D+1],A[L++]=k[D];L+=d}C=A}else for(let m=0,P=C.length;m<P;m+=3){const d=C[m];C[m]=C[m+2],C[m+2]=d}break}case n.ImageKind.RGBA_32BPP:w=32,B=3,F=new Uint8Array(68);const f=new DataView(F.buffer);n.FeatureTest.isLittleEndian?(f.setUint32(0,255,!0),f.setUint32(4,65280,!0),f.setUint32(8,16711680,!0),f.setUint32(12,4278190080,!0)):(f.setUint32(0,4278190080,!0),f.setUint32(4,16711680,!0),f.setUint32(8,65280,!0),f.setUint32(12,255,!0));break;default:throw new Error("invalid format")}let u=0;const s=40+F.length,o=14+s+i.length+C.length,y=new Uint8Array(o),r=new DataView(y.buffer);return r.setUint16(u,19778,!0),u+=2,r.setUint32(u,o,!0),u+=4,r.setUint32(u,0,!0),u+=4,r.setUint32(u,14+s+i.length,!0),u+=4,r.setUint32(u,s,!0),u+=4,r.setInt32(u,z,!0),u+=4,r.setInt32(u,-G,!0),u+=4,r.setUint16(u,1,!0),u+=2,r.setUint16(u,w,!0),u+=2,r.setUint32(u,B,!0),u+=4,r.setUint32(u,0,!0),u+=4,r.setInt32(u,0,!0),u+=4,r.setInt32(u,0,!0),u+=4,r.setUint32(u,i.length/4,!0),u+=4,r.setUint32(u,0,!0),u+=4,y.set(F,u),u+=F.length,y.set(i,u),u+=i.length,y.set(C,u),y}}S.ImageResizer=t,t._goodSquareLength=l},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.MurmurHash3_64=void 0;var n=ee(2);const l=3285377520,K=4294901760,e=65535;class t{constructor(z){this.h1=z?z&4294967295:l,this.h2=z?z&4294967295:l}update(z){let G,I;if(typeof z=="string"){G=new Uint8Array(z.length*2),I=0;for(let m=0,P=z.length;m<P;m++){const d=z.charCodeAt(m);d<=255?G[I++]=d:(G[I++]=d>>>8,G[I++]=d&255)}}else if((0,n.isArrayBuffer)(z))G=z.slice(),I=G.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const C=I>>2,w=I-C*4,i=new Uint32Array(G.buffer,0,C);let F=0,B=0,u=this.h1,s=this.h2;const o=3432918353,y=461845907,r=o&e,f=y&e;for(let m=0;m<C;m++)m&1?(F=i[m],F=F*o&K|F*r&e,F=F<<15|F>>>17,F=F*y&K|F*f&e,u^=F,u=u<<13|u>>>19,u=u*5+3864292196):(B=i[m],B=B*o&K|B*r&e,B=B<<15|B>>>17,B=B*y&K|B*f&e,s^=B,s=s<<13|s>>>19,s=s*5+3864292196);switch(F=0,w){case 3:F^=G[C*4+2]<<16;case 2:F^=G[C*4+1]<<8;case 1:F^=G[C*4],F=F*o&K|F*r&e,F=F<<15|F>>>17,F=F*y&K|F*f&e,C&1?u^=F:s^=F}this.h1=u,this.h2=s}hexdigest(){let z=this.h1,G=this.h2;return z^=G>>>1,z=z*3981806797&K|z*36045&e,G=G*4283543511&K|((G<<16|z>>>16)*2950163797&K)>>>16,z^=G>>>1,z=z*444984403&K|z*60499&e,G=G*3301882366&K|((G<<16|z>>>16)*3120437893&K)>>>16,z^=G>>>1,(z>>>0).toString(16).padStart(8,"0")+(G>>>0).toString(16).padStart(8,"0")}}S.MurmurHash3_64=t},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.OperatorList=void 0;var n=ee(2);function l(G,I,C,w,i){let F=G;for(let B=0,u=I.length-1;B<u;B++){const s=I[B];F=F[s]||(F[s]=[])}F[I.at(-1)]={checkFn:C,iterateFn:w,processFn:i}}const K=[];l(K,[n.OPS.save,n.OPS.transform,n.OPS.paintInlineImageXObject,n.OPS.restore],null,function(I,C){const w=I.fnArray,i=I.iCurr-3,F=(C-i)%4;switch(F){case 0:return w[C]===n.OPS.save;case 1:return w[C]===n.OPS.transform;case 2:return w[C]===n.OPS.paintInlineImageXObject;case 3:return w[C]===n.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${F}`)},function(I,C){const u=I.fnArray,s=I.argsArray,o=I.iCurr,y=o-3,r=o-2,f=o-1,m=Math.min(Math.floor((C-y)/4),200);if(m<10)return C-(C-y)%4;let P=0;const d=[];let A=0,L=1,h=1;for(let q=0;q<m;q++){const v=s[r+(q<<2)],x=s[f+(q<<2)][0];L+x.width>1e3&&(P=Math.max(P,L),h+=A+2,L=0,A=0),d.push({transform:v,x:L,y:h,w:x.width,h:x.height}),L+=x.width+2,A=Math.max(A,x.height)}const g=Math.max(P,L)+1,k=h+A+1,D=new Uint8Array(g*k*4),T=g<<2;for(let q=0;q<m;q++){const v=s[f+(q<<2)][0].data,x=d[q].w<<2;let E=0,U=d[q].x+d[q].y*g<<2;D.set(v.subarray(0,x),U-T);for(let $=0,Q=d[q].h;$<Q;$++)D.set(v.subarray(E,E+x),U),E+=x,U+=T;for(D.set(v.subarray(E-x,E),U);U>=0;)v[U-4]=v[U],v[U-3]=v[U+1],v[U-2]=v[U+2],v[U-1]=v[U+3],v[U+x]=v[U+x-4],v[U+x+1]=v[U+x-3],v[U+x+2]=v[U+x-2],v[U+x+3]=v[U+x-1],U-=T}const V={width:g,height:k};if(I.isOffscreenCanvasSupported){const q=new OffscreenCanvas(g,k);q.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(D.buffer),g,k),0,0),V.bitmap=q.transferToImageBitmap(),V.data=null}else V.kind=n.ImageKind.RGBA_32BPP,V.data=D;return u.splice(y,m*4,n.OPS.paintInlineImageXObjectGroup),s.splice(y,m*4,[V,d]),y+1}),l(K,[n.OPS.save,n.OPS.transform,n.OPS.paintImageMaskXObject,n.OPS.restore],null,function(I,C){const w=I.fnArray,i=I.iCurr-3,F=(C-i)%4;switch(F){case 0:return w[C]===n.OPS.save;case 1:return w[C]===n.OPS.transform;case 2:return w[C]===n.OPS.paintImageMaskXObject;case 3:return w[C]===n.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${F}`)},function(I,C){const B=I.fnArray,u=I.argsArray,s=I.iCurr,o=s-3,y=s-2,r=s-1;let f=Math.floor((C-o)/4);if(f<10)return C-(C-o)%4;let m=!1,P,d;const A=u[r][0],L=u[y][0],h=u[y][1],g=u[y][2],k=u[y][3];if(h===g){m=!0,P=y+4;let D=r+4;for(let T=1;T<f;T++,P+=4,D+=4)if(d=u[P],u[D][0]!==A||d[0]!==L||d[1]!==h||d[2]!==g||d[3]!==k){T<10?m=!1:f=T;break}}if(m){f=Math.min(f,1e3);const D=new Float32Array(f*2);P=y;for(let T=0;T<f;T++,P+=4)d=u[P],D[T<<1]=d[4],D[(T<<1)+1]=d[5];B.splice(o,f*4,n.OPS.paintImageMaskXObjectRepeat),u.splice(o,f*4,[A,L,h,g,k,D])}else{f=Math.min(f,100);const D=[];for(let T=0;T<f;T++){d=u[y+(T<<2)];const V=u[r+(T<<2)][0];D.push({data:V.data,width:V.width,height:V.height,interpolate:V.interpolate,count:V.count,transform:d})}B.splice(o,f*4,n.OPS.paintImageMaskXObjectGroup),u.splice(o,f*4,[D])}return o+1}),l(K,[n.OPS.save,n.OPS.transform,n.OPS.paintImageXObject,n.OPS.restore],function(G){const I=G.argsArray,C=G.iCurr-2;return I[C][1]===0&&I[C][2]===0},function(I,C){const w=I.fnArray,i=I.argsArray,F=I.iCurr-3,B=(C-F)%4;switch(B){case 0:return w[C]===n.OPS.save;case 1:if(w[C]!==n.OPS.transform)return!1;const u=I.iCurr-2,s=i[u][0],o=i[u][3];return!(i[C][0]!==s||i[C][1]!==0||i[C][2]!==0||i[C][3]!==o);case 2:if(w[C]!==n.OPS.paintImageXObject)return!1;const y=I.iCurr-1,r=i[y][0];return i[C][0]===r;case 3:return w[C]===n.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${B}`)},function(G,I){const i=G.fnArray,F=G.argsArray,B=G.iCurr,u=B-3,s=B-2,o=B-1,y=F[o][0],r=F[s][0],f=F[s][3],m=Math.min(Math.floor((I-u)/4),1e3);if(m<3)return I-(I-u)%4;const P=new Float32Array(m*2);let d=s;for(let L=0;L<m;L++,d+=4){const h=F[d];P[L<<1]=h[4],P[(L<<1)+1]=h[5]}const A=[y,r,f,P];return i.splice(u,m*4,n.OPS.paintImageXObjectRepeat),F.splice(u,m*4,A),u+1}),l(K,[n.OPS.beginText,n.OPS.setFont,n.OPS.setTextMatrix,n.OPS.showText,n.OPS.endText],null,function(I,C){const w=I.fnArray,i=I.argsArray,F=I.iCurr-4,B=(C-F)%5;switch(B){case 0:return w[C]===n.OPS.beginText;case 1:return w[C]===n.OPS.setFont;case 2:return w[C]===n.OPS.setTextMatrix;case 3:if(w[C]!==n.OPS.showText)return!1;const u=I.iCurr-3,s=i[u][0],o=i[u][1];return!(i[C][0]!==s||i[C][1]!==o);case 4:return w[C]===n.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${B}`)},function(G,I){const i=G.fnArray,F=G.argsArray,B=G.iCurr,u=B-4,s=B-3,o=B-2,y=B-1,r=B,f=F[s][0],m=F[s][1];let P=Math.min(Math.floor((I-u)/5),1e3);if(P<3)return I-(I-u)%5;let d=u;u>=4&&i[u-4]===i[s]&&i[u-3]===i[o]&&i[u-2]===i[y]&&i[u-1]===i[r]&&F[u-4][0]===f&&F[u-4][1]===m&&(P++,d-=5);let A=d+4;for(let L=1;L<P;L++)i.splice(A,3),F.splice(A,3),A+=2;return A+1});class e{constructor(I){this.queue=I}_optimize(){}push(I,C){this.queue.fnArray.push(I),this.queue.argsArray.push(C),this._optimize()}flush(){}reset(){}}class t extends e{constructor(I){super(I),this.state=null,this.context={iCurr:0,fnArray:I.fnArray,argsArray:I.argsArray,isOffscreenCanvasSupported:!1},this.match=null,this.lastProcessed=0}set isOffscreenCanvasSupported(I){this.context.isOffscreenCanvasSupported=I}_optimize(){const I=this.queue.fnArray;let C=this.lastProcessed,w=I.length,i=this.state,F=this.match;if(!i&&!F&&C+1===w&&!K[I[C]]){this.lastProcessed=w;return}const B=this.context;for(;C<w;){if(F){if((0,F.iterateFn)(B,C)){C++;continue}if(C=(0,F.processFn)(B,C+1),w=I.length,F=null,i=null,C>=w)break}if(i=(i||K)[I[C]],!i||Array.isArray(i)){C++;continue}if(B.iCurr=C,C++,i.checkFn&&!(0,i.checkFn)(B)){i=null;continue}F=i,i=null}this.state=i,this.match=F,this.lastProcessed=C}flush(){for(;this.match;){const I=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,I),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}const z=class{constructor(I=0,C){this._streamSink=C,this.fnArray=[],this.argsArray=[],C&&!(I&n.RenderingIntentFlag.OPLIST)?this.optimizer=new t(this):this.optimizer=new e(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=C?null:Promise.resolve()}set isOffscreenCanvasSupported(I){this.optimizer.isOffscreenCanvasSupported=I}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(I,C){this.optimizer.push(I,C),this.weight++,this._streamSink&&(this.weight>=z.CHUNK_SIZE?this.flush():this.weight>=z.CHUNK_SIZE_ABOUT&&(I===n.OPS.restore||I===n.OPS.endText)&&this.flush())}addImageOps(I,C,w){w!==void 0&&this.addOp(n.OPS.beginMarkedContentProps,["OC",w]),this.addOp(I,C),w!==void 0&&this.addOp(n.OPS.endMarkedContent,[])}addDependency(I){this.dependencies.has(I)||(this.dependencies.add(I),this.addOp(n.OPS.dependency,[I]))}addDependencies(I){for(const C of I)this.addDependency(C)}addOpList(I){if(!(I instanceof z)){(0,n.warn)('addOpList - ignoring invalid "opList" parameter.');return}for(const C of I.dependencies)this.dependencies.add(C);for(let C=0,w=I.length;C<w;C++)this.addOp(I.fnArray[C],I.argsArray[C])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){var F;const I=[],{fnArray:C,argsArray:w,length:i}=this;for(let B=0;B<i;B++)switch(C[B]){case n.OPS.paintInlineImageXObject:case n.OPS.paintInlineImageXObjectGroup:case n.OPS.paintImageMaskXObject:const u=w[B][0];!u.cached&&((F=u.data)==null?void 0:F.buffer)instanceof ArrayBuffer&&I.push(u.data.buffer);break}return I}flush(I=!1,C=null){this.optimizer.flush();const w=this.length;this._totalLength+=w,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:I,separateAnnots:C,length:w},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}};let H=z;Rt(H,"CHUNK_SIZE",1e3),Rt(H,"CHUNK_SIZE_ABOUT",z.CHUNK_SIZE-5),S.OperatorList=H},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.PDFImage=void 0;var n=ee(2),l=ee(28),K=ee(5),e=ee(12),t=ee(18),H=ee(62),z=ee(26),G=ee(30),I=ee(4);function C(F,B,u,s){return F=B+F*u,F<0?F=0:F>s&&(F=s),F}function w(F,B,u,s,o,y){const r=o*y;let f;B<=8?f=new Uint8Array(r):B<=16?f=new Uint16Array(r):f=new Uint32Array(r);const m=u/o,P=s/y;let d,A,L,h=0,g;const k=new Uint16Array(o),D=u;for(d=0;d<o;d++)k[d]=Math.floor(d*m);for(d=0;d<y;d++)for(L=Math.floor(d*P)*D,A=0;A<o;A++)g=L+k[A],f[h++]=F[g];return f}class i{constructor({xref:B,res:u,image:s,isInline:o=!1,smask:y=null,mask:r=null,isMask:f=!1,pdfFunctionFactory:m,localColorSpaceCache:P}){var D;this.image=s;const d=s.dict,A=d.get("F","Filter");let L;if(A instanceof I.Name)L=A.name;else if(Array.isArray(A)){const T=B.fetchIfRef(A[0]);T instanceof I.Name&&(L=T.name)}switch(L){case"JPXDecode":const T=new G.JpxImage;T.parseImageProperties(s.stream),s.stream.reset(),s.width=T.width,s.height=T.height,s.bitsPerComponent=T.bitsPerComponent,s.numComps=T.componentsCount;break;case"JBIG2Decode":s.bitsPerComponent=1,s.numComps=1;break}let h=d.get("W","Width"),g=d.get("H","Height");if(Number.isInteger(s.width)&&s.width>0&&Number.isInteger(s.height)&&s.height>0&&(s.width!==h||s.height!==g)&&((0,n.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),h=s.width,g=s.height),h<1||g<1)throw new n.FormatError(`Invalid image width: ${h} or height: ${g}`);this.width=h,this.height=g,this.interpolate=d.get("I","Interpolate"),this.imageMask=d.get("IM","ImageMask")||!1,this.matte=d.get("Matte")||!1;let k=s.bitsPerComponent;if(!k&&(k=d.get("BPC","BitsPerComponent"),!k))if(this.imageMask)k=1;else throw new n.FormatError(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=k,!this.imageMask){let T=d.getRaw("CS")||d.getRaw("ColorSpace");if(!T)switch((0,n.info)("JPX images (which do not require color spaces)"),s.numComps){case 1:T=I.Name.get("DeviceGray");break;case 3:T=I.Name.get("DeviceRGB");break;case 4:T=I.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${s.numComps} color components not supported.`)}this.colorSpace=e.ColorSpace.parse({cs:T,xref:B,resources:o?u:null,pdfFunctionFactory:m,localColorSpaceCache:P}),this.numComps=this.colorSpace.numComps}if(this.decode=d.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,k)||f&&!e.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const T=(1<<k)-1;this.decodeCoefficients=[],this.decodeAddends=[];const V=((D=this.colorSpace)==null?void 0:D.name)==="Indexed";for(let q=0,v=0;q<this.decode.length;q+=2,++v){const x=this.decode[q],E=this.decode[q+1];this.decodeCoefficients[v]=V?(E-x)/T:E-x,this.decodeAddends[v]=V?x:T*x}}y?this.smask=new i({xref:B,res:u,image:y,isInline:o,pdfFunctionFactory:m,localColorSpaceCache:P}):r&&(r instanceof K.BaseStream?r.dict.get("IM","ImageMask")?this.mask=new i({xref:B,res:u,image:r,isInline:o,isMask:!0,pdfFunctionFactory:m,localColorSpaceCache:P}):(0,n.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=r)}static async buildImage({xref:B,res:u,image:s,isInline:o=!1,pdfFunctionFactory:y,localColorSpaceCache:r}){const f=s;let m=null,P=null;const d=s.dict.get("SMask"),A=s.dict.get("Mask");return d?d instanceof K.BaseStream?m=d:(0,n.warn)("Unsupported /SMask format."):A&&(A instanceof K.BaseStream||Array.isArray(A)?P=A:(0,n.warn)("Unsupported /Mask format.")),new i({xref:B,res:u,image:f,isInline:o,smask:m,mask:P,pdfFunctionFactory:y,localColorSpaceCache:r})}static createRawMask({imgArray:B,width:u,height:s,imageIsFromDecodeStream:o,inverseDecode:y,interpolate:r}){const f=(u+7>>3)*s,m=B.byteLength,P=f===m;let d,A;if(o&&(!y||P)?d=B:y?(d=new Uint8Array(f),d.set(B),d.fill(255,m)):d=new Uint8Array(B),y)for(A=0;A<m;A++)d[A]^=255;return{data:d,width:u,height:s,interpolate:r}}static async createMask({imgArray:B,width:u,height:s,imageIsFromDecodeStream:o,inverseDecode:y,interpolate:r,isOffscreenCanvasSupported:f=!1}){const m=u===1&&s===1&&y===(B.length===0||!!(B[0]&128));if(m)return{isSingleOpaquePixel:m};if(f){if(H.ImageResizer.needsToBeResized(u,s)){const h=new Uint8ClampedArray(u*s*4);return(0,l.convertBlackAndWhiteToRGBA)({src:B,dest:h,width:u,height:s,nonBlackColor:0,inverseDecode:y}),H.ImageResizer.createImage({kind:n.ImageKind.RGBA_32BPP,data:h,width:u,height:s,interpolate:r})}const P=new OffscreenCanvas(u,s),d=P.getContext("2d"),A=d.createImageData(u,s);(0,l.convertBlackAndWhiteToRGBA)({src:B,dest:A.data,width:u,height:s,nonBlackColor:0,inverseDecode:y}),d.putImageData(A,0,0);const L=P.transferToImageBitmap();return{data:null,width:u,height:s,interpolate:r,bitmap:L}}return this.createRawMask({imgArray:B,width:u,height:s,inverseDecode:y,imageIsFromDecodeStream:o,interpolate:r})}get drawWidth(){var B,u;return Math.max(this.width,((B=this.smask)==null?void 0:B.width)||0,((u=this.mask)==null?void 0:u.width)||0)}get drawHeight(){var B,u;return Math.max(this.height,((B=this.smask)==null?void 0:B.height)||0,((u=this.mask)==null?void 0:u.height)||0)}decodeBuffer(B){const u=this.bpc,s=this.numComps,o=this.decodeAddends,y=this.decodeCoefficients,r=(1<<u)-1;let f,m;if(u===1){for(f=0,m=B.length;f<m;f++)B[f]=+!B[f];return}let P=0;for(f=0,m=this.width*this.height;f<m;f++)for(let d=0;d<s;d++)B[P]=C(B[P],o[d],y[d],r),P++}getComponents(B){const u=this.bpc;if(u===8)return B;const s=this.width,o=this.height,y=this.numComps,r=s*o*y;let f=0,m;u<=8?m=new Uint8Array(r):u<=16?m=new Uint16Array(r):m=new Uint32Array(r);const P=s*y,d=(1<<u)-1;let A=0,L,h;if(u===1){let g,k,D;for(let T=0;T<o;T++){for(k=A+(P&-8),D=A+P;A<k;)h=B[f++],m[A]=h>>7&1,m[A+1]=h>>6&1,m[A+2]=h>>5&1,m[A+3]=h>>4&1,m[A+4]=h>>3&1,m[A+5]=h>>2&1,m[A+6]=h>>1&1,m[A+7]=h&1,A+=8;if(A<D)for(h=B[f++],g=128;A<D;)m[A++]=+!!(h&g),g>>=1}}else{let g=0;for(h=0,A=0,L=r;A<L;++A){for(A%P===0&&(h=0,g=0);g<u;)h=h<<8|B[f++],g+=8;const k=g-u;let D=h>>k;D<0?D=0:D>d&&(D=d),m[A]=D,h&=(1<<k)-1,g=k}}return m}fillOpacity(B,u,s,o,y){const r=this.smask,f=this.mask;let m,P,d,A,L,h;if(r)P=r.width,d=r.height,m=new Uint8ClampedArray(P*d),r.fillGrayBuffer(m),(P!==u||d!==s)&&(m=w(m,r.bpc,P,d,u,s));else if(f)if(f instanceof i){for(P=f.width,d=f.height,m=new Uint8ClampedArray(P*d),f.numComps=1,f.fillGrayBuffer(m),A=0,L=P*d;A<L;++A)m[A]=255-m[A];(P!==u||d!==s)&&(m=w(m,f.bpc,P,d,u,s))}else if(Array.isArray(f)){m=new Uint8ClampedArray(u*s);const g=this.numComps;for(A=0,L=u*s;A<L;++A){let k=0;const D=A*g;for(h=0;h<g;++h){const T=y[D+h],V=h*2;if(T<f[V]||T>f[V+1]){k=255;break}}m[A]=k}}else throw new n.FormatError("Unknown mask format.");if(m)for(A=0,h=3,L=u*o;A<L;++A,h+=4)B[h]=m[A];else for(A=0,h=3,L=u*o;A<L;++A,h+=4)B[h]=255}undoPreblend(B,u,s){var d;const o=(d=this.smask)==null?void 0:d.matte;if(!o)return;const y=this.colorSpace.getRgb(o,0),r=y[0],f=y[1],m=y[2],P=u*s*4;for(let A=0;A<P;A+=4){const L=B[A+3];if(L===0){B[A]=255,B[A+1]=255,B[A+2]=255;continue}const h=255/L;B[A]=(B[A]-r)*h+r,B[A+1]=(B[A+1]-f)*h+f,B[A+2]=(B[A+2]-m)*h+m}}async createImageData(B=!1,u=!1){const s=this.drawWidth,o=this.drawHeight,y={width:s,height:o,interpolate:this.interpolate,kind:0,data:null},r=this.numComps,f=this.width,m=this.height,P=this.bpc,d=f*r*P+7>>3,A=u&&H.ImageResizer.needsToBeResized(s,o);if(!B){let x;if(this.colorSpace.name==="DeviceGray"&&P===1?x=n.ImageKind.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&P===8&&!this.needsDecode&&(x=n.ImageKind.RGB_24BPP),x&&!this.smask&&!this.mask&&s===f&&o===m){const E=this.getImageBytes(m*d,{});if(u)return A?H.ImageResizer.createImage({data:E,kind:x,width:s,height:o,interpolate:this.interpolate},this.needsDecode):this.createBitmap(x,f,m,E);if(y.kind=x,y.data=E,this.needsDecode){(0,n.assert)(x===n.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const U=y.data;for(let $=0,Q=U.length;$<Q;$++)U[$]^=255}return y}if(this.image instanceof z.JpegStream&&!this.smask&&!this.mask&&!this.needsDecode){let E=m*d;if(u&&!A){let U=!1;switch(this.colorSpace.name){case"DeviceGray":E*=4,U=!0;break;case"DeviceRGB":E=E/3*4,U=!0;break;case"DeviceCMYK":U=!0;break}if(U){const $=this.getImageBytes(E,{drawWidth:s,drawHeight:o,forceRGBA:!0});return this.createBitmap(n.ImageKind.RGBA_32BPP,s,o,$)}}else switch(this.colorSpace.name){case"DeviceGray":E*=3;case"DeviceRGB":case"DeviceCMYK":return y.kind=n.ImageKind.RGB_24BPP,y.data=this.getImageBytes(E,{drawWidth:s,drawHeight:o,forceRGB:!0}),A?H.ImageResizer.createImage(y):y}}}const L=this.getImageBytes(m*d,{internal:!0}),h=0|L.length/d*o/m,g=this.getComponents(L);let k,D,T,V,q,v;if(u&&!A&&(T=new OffscreenCanvas(s,o),V=T.getContext("2d"),q=V.createImageData(s,o),v=q.data),y.kind=n.ImageKind.RGBA_32BPP,!B&&!this.smask&&!this.mask?(!u||A?(y.kind=n.ImageKind.RGB_24BPP,v=new Uint8ClampedArray(s*o*3),k=0):(new Uint32Array(v.buffer).fill(n.FeatureTest.isLittleEndian?4278190080:255),k=1),D=!1):((!u||A)&&(v=new Uint8ClampedArray(s*o*4)),k=1,D=!0,this.fillOpacity(v,s,o,h,g)),this.needsDecode&&this.decodeBuffer(g),this.colorSpace.fillRgb(v,f,m,s,o,h,P,g,k),D&&this.undoPreblend(v,s,h),u&&!A){V.putImageData(q,0,0);const x=T.transferToImageBitmap();return{data:null,width:s,height:o,bitmap:x,interpolate:this.interpolate}}return y.data=v,A?H.ImageResizer.createImage(y):y}fillGrayBuffer(B){const u=this.numComps;if(u!==1)throw new n.FormatError(`Reading gray scale from a color image: ${u}`);const s=this.width,o=this.height,y=this.bpc,r=s*u*y+7>>3,f=this.getImageBytes(o*r,{internal:!0}),m=this.getComponents(f);let P,d;if(y===1){if(d=s*o,this.needsDecode)for(P=0;P<d;++P)B[P]=m[P]-1&255;else for(P=0;P<d;++P)B[P]=-m[P]&255;return}this.needsDecode&&this.decodeBuffer(m),d=s*o;const A=255/((1<<y)-1);for(P=0;P<d;++P)B[P]=A*m[P]}createBitmap(B,u,s,o){const y=new OffscreenCanvas(u,s),r=y.getContext("2d");let f;B===n.ImageKind.RGBA_32BPP?f=new ImageData(o,u,s):(f=r.createImageData(u,s),(0,l.convertToRGBA)({kind:B,src:o,dest:new Uint32Array(f.data.buffer),width:u,height:s,inverseDecode:this.needsDecode})),r.putImageData(f,0,0);const m=y.transferToImageBitmap();return{data:null,width:u,height:s,bitmap:m,interpolate:this.interpolate}}getImageBytes(B,{drawWidth:u,drawHeight:s,forceRGBA:o=!1,forceRGB:y=!1,internal:r=!1}){this.image.reset(),this.image.drawWidth=u||this.width,this.image.drawHeight=s||this.height,this.image.forceRGBA=!!o,this.image.forceRGB=!!y;const f=this.image.getBytes(B);return r||this.image instanceof t.DecodeStream?f:((0,n.assert)(f instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(f))}}S.PDFImage=i},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.incrementalUpdate=y,S.writeDict=G,S.writeObject=z;var n=ee(2),l=ee(4),K=ee(3),e=ee(67),t=ee(5),H=ee(68);async function z(r,f,m,P){m.push(`${r.num} ${r.gen} obj
`),f instanceof l.Dict?await G(f,m,P):f instanceof t.BaseStream&&await I(f,m,P),m.push(`
endobj
`)}async function G(r,f,m){f.push("<<");for(const P of r.getKeys())f.push(` /${(0,K.escapePDFName)(P)} `),await w(r.getRaw(P),f,m);f.push(">>")}async function I(r,f,m){let P=r.getString();if(m!==null&&(P=m.encryptString(P)),typeof CompressionStream>"u"){r.dict.set("Length",P.length),await G(r.dict,f,m),f.push(` stream
`,P,`
endstream`);return}const d=await r.dict.getAsync("Filter"),A=l.Name.get("FlateDecode"),L=256;if(P.length>=L||Array.isArray(d)&&d.includes(A)||d instanceof l.Name&&d.name===A.name)try{const h=(0,n.stringToBytes)(P),g=new CompressionStream("deflate"),k=g.writable.getWriter();k.write(h),k.close();const D=await new Response(g.readable).arrayBuffer();P=(0,n.bytesToString)(new Uint8Array(D)),Array.isArray(d)?d.includes(A)||d.push(A):d?(!(d instanceof l.Name)||d.name!==A.name)&&r.dict.set("Filter",[d,A]):r.dict.set("Filter",A)}catch(h){(0,n.info)(`writeStream - cannot compress data: "${h}".`)}r.dict.set("Length",P.length),await G(r.dict,f,m),f.push(` stream
`,P,`
endstream`)}async function C(r,f,m){f.push("[");let P=!0;for(const d of r)P?P=!1:f.push(" "),await w(d,f,m);f.push("]")}async function w(r,f,m){r instanceof l.Name?f.push(`/${(0,K.escapePDFName)(r.name)}`):r instanceof l.Ref?f.push(`${r.num} ${r.gen} R`):Array.isArray(r)?await C(r,f,m):typeof r=="string"?(m!==null&&(r=m.encryptString(r)),f.push(`(${(0,K.escapeString)(r)})`)):typeof r=="number"?f.push((0,K.numberToString)(r)):typeof r=="boolean"?f.push(r.toString()):r instanceof l.Dict?await G(r,f,m):r instanceof t.BaseStream?await I(r,f,m):r===null?f.push("null"):(0,n.warn)(`Unhandled value in writer: ${typeof r}, please file a bug.`)}function i(r,f,m,P){for(let d=f+m-1;d>m-1;d--)P[d]=r&255,r>>=8;return m+f}function F(r,f,m){for(let P=0,d=r.length;P<d;P++)m[f+P]=r.charCodeAt(P)&255}function B(r,f){const m=Math.floor(Date.now()/1e3),P=f.filename||"",d=[m.toString(),P,r.toString()];let A=d.reduce((g,k)=>g+k.length,0);for(const g of Object.values(f.info))d.push(g),A+=g.length;const L=new Uint8Array(A);let h=0;for(const g of d)F(g,h,L),h+=g.length;return(0,n.bytesToString)((0,H.calculateMD5)(L))}function u(r,f){const m=new e.SimpleXMLParser({hasAttributes:!0}).parseFromString(r);for(const{xfa:d}of f){if(!d)continue;const{path:A,value:L}=d;if(!A)continue;const h=(0,K.parseXFAPath)(A);let g=m.documentElement.searchNode(h,0);!g&&h.length>1&&(g=m.documentElement.searchNode([h.at(-1)],0)),g?Array.isArray(L)?g.childNodes=L.map(k=>new e.SimpleDOMNode("value",k)):g.childNodes=[new e.SimpleDOMNode("#text",L)]:(0,n.warn)(`Node not found for path: ${A}`)}const P=[];return m.documentElement.dump(P),P.join("")}async function s({xref:r,acroForm:f,acroFormRef:m,hasXfa:P,hasXfaDatasetsEntry:d,xfaDatasetsRef:A,needAppearances:L,newRefs:h}){if(P&&!d&&!A&&(0,n.warn)("XFA - Cannot save it"),!L&&(!P||!A))return;const g=new l.Dict(r);for(const V of f.getKeys())g.set(V,f.getRaw(V));if(P&&!d){const V=f.get("XFA").slice();V.splice(2,0,"datasets"),V.splice(3,0,A),g.set("XFA",V)}L&&g.set("NeedAppearances",!0);const k=r.encrypt;let D=null;k&&(D=k.createCipherTransform(m.num,m.gen));const T=[];await z(m,g,T,D),h.push({ref:m,data:T.join("")})}function o({xfaData:r,xfaDatasetsRef:f,newRefs:m,xref:P}){if(r===null){const L=P.fetchIfRef(f);r=u(L.getString(),m)}const d=P.encrypt;d&&(r=d.createCipherTransform(f.num,f.gen).encryptString(r));const A=`${f.num} ${f.gen} obj
<< /Type /EmbeddedFile /Length ${r.length}>>
stream
`+r+`
endstream
endobj
`;m.push({ref:f,data:A})}async function y({originalData:r,xrefInfo:f,newRefs:m,xref:P=null,hasXfa:d=!1,xfaDatasetsRef:A=null,hasXfaDatasetsEntry:L=!1,needAppearances:h,acroFormRef:g=null,acroForm:k=null,xfaData:D=null}){await s({xref:P,acroForm:k,acroFormRef:g,hasXfa:d,hasXfaDatasetsEntry:L,xfaDatasetsRef:A,needAppearances:h,newRefs:m}),d&&o({xfaData:D,xfaDatasetsRef:A,newRefs:m,xref:P});const T=new l.Dict(null),V=f.newRef;let q,v;const x=r.at(-1);x===10||x===13?(q=[],v=r.length):(q=[`
`],v=r.length+1),T.set("Size",V.num+1),T.set("Prev",f.startXRef),T.set("Type",l.Name.get("XRef")),f.rootRef!==null&&T.set("Root",f.rootRef),f.infoRef!==null&&T.set("Info",f.infoRef),f.encryptRef!==null&&T.set("Encrypt",f.encryptRef),m.push({ref:V,data:""}),m=m.sort((c,_)=>c.ref.num-_.ref.num);const E=[[0,1,65535]],U=[0,1];let $=0;for(const{ref:c,data:_}of m)$=Math.max($,v),E.push([1,v,Math.min(c.gen,65535)]),v+=_.length,U.push(c.num,1),q.push(_);if(T.set("Index",U),Array.isArray(f.fileIds)&&f.fileIds.length>0){const c=B(v,f);T.set("ID",[f.fileIds[0],c])}const ie=[1,Math.ceil(Math.log2($)/8),2],X=(ie[0]+ie[1]+ie[2])*E.length;T.set("W",ie),T.set("Length",X),q.push(`${V.num} ${V.gen} obj
`),await G(T,q,null),q.push(` stream
`);const R=q.reduce((c,_)=>c+_.length,0),Z=`
endstream
endobj
startxref
${v}
%%EOF
`,N=new Uint8Array(r.length+R+X+Z.length);N.set(r);let M=r.length;for(const c of q)F(c,M,N),M+=c.length;for(const[c,_,W]of E)M=i(c,ie[0],M,N),M=i(_,ie[1],M,N),M=i(W,ie[2],M,N);return F(Z,M,N),N}},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.XMLParserErrorCode=S.XMLParserBase=S.SimpleXMLParser=S.SimpleDOMNode=void 0;var n=ee(3);const l={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};S.XMLParserErrorCode=l;function K(G,I){const C=G[I];return C===" "||C===`
`||C==="\r"||C==="	"}function e(G){for(let I=0,C=G.length;I<C;I++)if(!K(G,I))return!1;return!0}class t{_resolveEntities(I){return I.replaceAll(/&([^;]+);/g,(C,w)=>{if(w.substring(0,2)==="#x")return String.fromCodePoint(parseInt(w.substring(2),16));if(w.substring(0,1)==="#")return String.fromCodePoint(parseInt(w.substring(1),10));switch(w){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(w)})}_parseContent(I,C){const w=[];let i=C;function F(){for(;i<I.length&&K(I,i);)++i}for(;i<I.length&&!K(I,i)&&I[i]!==">"&&I[i]!=="/";)++i;const B=I.substring(C,i);for(F();i<I.length&&I[i]!==">"&&I[i]!=="/"&&I[i]!=="?";){F();let u="",s="";for(;i<I.length&&!K(I,i)&&I[i]!=="=";)u+=I[i],++i;if(F(),I[i]!=="=")return null;++i,F();const o=I[i];if(o!=='"'&&o!=="'")return null;const y=I.indexOf(o,++i);if(y<0)return null;s=I.substring(i,y),w.push({name:u,value:this._resolveEntities(s)}),i=y+1,F()}return{name:B,attributes:w,parsed:i-C}}_parseProcessingInstruction(I,C){let w=C;function i(){for(;w<I.length&&K(I,w);)++w}for(;w<I.length&&!K(I,w)&&I[w]!==">"&&I[w]!=="?"&&I[w]!=="/";)++w;const F=I.substring(C,w);i();const B=w;for(;w<I.length&&(I[w]!=="?"||I[w+1]!==">");)++w;const u=I.substring(B,w);return{name:F,value:u,parsed:w-C}}parseXml(I){let C=0;for(;C<I.length;){const w=I[C];let i=C;if(w==="<"){++i;const F=I[i];let B;switch(F){case"/":if(++i,B=I.indexOf(">",i),B<0){this.onError(l.UnterminatedElement);return}this.onEndElement(I.substring(i,B)),i=B+1;break;case"?":++i;const u=this._parseProcessingInstruction(I,i);if(I.substring(i+u.parsed,i+u.parsed+2)!=="?>"){this.onError(l.UnterminatedXmlDeclaration);return}this.onPi(u.name,u.value),i+=u.parsed+2;break;case"!":if(I.substring(i+1,i+3)==="--"){if(B=I.indexOf("-->",i+3),B<0){this.onError(l.UnterminatedComment);return}this.onComment(I.substring(i+3,B)),i=B+3}else if(I.substring(i+1,i+8)==="[CDATA["){if(B=I.indexOf("]]>",i+8),B<0){this.onError(l.UnterminatedCdat);return}this.onCdata(I.substring(i+8,B)),i=B+3}else if(I.substring(i+1,i+8)==="DOCTYPE"){const y=I.indexOf("[",i+8);let r=!1;if(B=I.indexOf(">",i+8),B<0){this.onError(l.UnterminatedDoctypeDeclaration);return}if(y>0&&B>y){if(B=I.indexOf("]>",i+8),B<0){this.onError(l.UnterminatedDoctypeDeclaration);return}r=!0}const f=I.substring(i+8,B+(r?1:0));this.onDoctype(f),i=B+(r?2:1)}else{this.onError(l.MalformedElement);return}break;default:const s=this._parseContent(I,i);if(s===null){this.onError(l.MalformedElement);return}let o=!1;if(I.substring(i+s.parsed,i+s.parsed+2)==="/>")o=!0;else if(I.substring(i+s.parsed,i+s.parsed+1)!==">"){this.onError(l.UnterminatedElement);return}this.onBeginElement(s.name,s.attributes,o),i+=s.parsed+(o?2:1);break}}else{for(;i<I.length&&I[i]!=="<";)i++;const F=I.substring(C,i);this.onText(this._resolveEntities(F))}C=i}}onResolveEntity(I){return`&${I};`}onPi(I,C){}onComment(I){}onCdata(I){}onDoctype(I){}onText(I){}onBeginElement(I,C,w){}onEndElement(I){}onError(I){}}S.XMLParserBase=t;class H{constructor(I,C){this.nodeName=I,this.nodeValue=C,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){var I;return(I=this.childNodes)==null?void 0:I[0]}get nextSibling(){const I=this.parentNode.childNodes;if(!I)return;const C=I.indexOf(this);if(C!==-1)return I[C+1]}get textContent(){return this.childNodes?this.childNodes.map(function(I){return I.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){var I;return((I=this.childNodes)==null?void 0:I.length)>0}searchNode(I,C){var B;if(C>=I.length)return this;const w=I[C],i=[];let F=this;for(;;){if(w.name===F.nodeName)if(w.pos===0){const u=F.searchNode(I,C+1);if(u!==null)return u}else{if(i.length===0)return null;{const[u]=i.pop();let s=0;for(const o of u.childNodes)if(w.name===o.nodeName){if(s===w.pos)return o.searchNode(I,C+1);s++}return F.searchNode(I,C+1)}}if(((B=F.childNodes)==null?void 0:B.length)>0)i.push([F,0]),F=F.childNodes[0];else{if(i.length===0)return null;for(;i.length!==0;){const[u,s]=i.pop(),o=s+1;if(o<u.childNodes.length){i.push([u,o]),F=u.childNodes[o];break}}if(i.length===0)return null}}}dump(I){if(this.nodeName==="#text"){I.push((0,n.encodeToXmlString)(this.nodeValue));return}if(I.push(`<${this.nodeName}`),this.attributes)for(const C of this.attributes)I.push(` ${C.name}="${(0,n.encodeToXmlString)(C.value)}"`);if(this.hasChildNodes()){I.push(">");for(const C of this.childNodes)C.dump(I);I.push(`</${this.nodeName}>`)}else this.nodeValue?I.push(`>${(0,n.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`):I.push("/>")}}S.SimpleDOMNode=H;class z extends t{constructor({hasAttributes:I=!1,lowerCaseName:C=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=l.NoError,this._hasAttributes=I,this._lowerCaseName=C}parseFromString(I){if(this._currentFragment=[],this._stack=[],this._errorCode=l.NoError,this.parseXml(I),this._errorCode!==l.NoError)return;const[C]=this._currentFragment;if(C)return{documentElement:C}}onText(I){if(e(I))return;const C=new H("#text",I);this._currentFragment.push(C)}onCdata(I){const C=new H("#text",I);this._currentFragment.push(C)}onBeginElement(I,C,w){this._lowerCaseName&&(I=I.toLowerCase());const i=new H(I);i.childNodes=[],this._hasAttributes&&(i.attributes=C),this._currentFragment.push(i),!w&&(this._stack.push(this._currentFragment),this._currentFragment=i.childNodes)}onEndElement(I){this._currentFragment=this._stack.pop()||[];const C=this._currentFragment.at(-1);if(!C)return null;for(const w of C.childNodes)w.parentNode=C;return C}onError(I){this._errorCode=I}}S.SimpleXMLParser=z},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.calculateSHA256=S.calculateMD5=S.PDF20=S.PDF17=S.CipherTransformFactory=S.ARCFourCipher=S.AES256Cipher=S.AES128Cipher=void 0,S.calculateSHA384=I,S.calculateSHA512=void 0;var n=ee(2),l=ee(4),K=ee(69);class e{constructor(r){this.a=0,this.b=0;const f=new Uint8Array(256),m=r.length;for(let P=0;P<256;++P)f[P]=P;for(let P=0,d=0;P<256;++P){const A=f[P];d=d+A+r[P%m]&255,f[P]=f[d],f[d]=A}this.s=f}encryptBlock(r){let f=this.a,m=this.b;const P=this.s,d=r.length,A=new Uint8Array(d);for(let L=0;L<d;++L){f=f+1&255;const h=P[f];m=m+h&255;const g=P[m];P[f]=g,P[m]=h,A[L]=r[L]^P[h+g&255]}return this.a=f,this.b=m,A}decryptBlock(r){return this.encryptBlock(r)}encrypt(r){return this.encryptBlock(r)}}S.ARCFourCipher=e;const t=function(){const r=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),f=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function m(P,d,A){let L=1732584193,h=-271733879,g=-1732584194,k=271733878;const D=A+72&-64,T=new Uint8Array(D);let V,q;for(V=0;V<A;++V)T[V]=P[d++];T[V++]=128;const v=D-8;for(;V<v;)T[V++]=0;T[V++]=A<<3&255,T[V++]=A>>5&255,T[V++]=A>>13&255,T[V++]=A>>21&255,T[V++]=A>>>29&255,T[V++]=0,T[V++]=0,T[V++]=0;const x=new Int32Array(16);for(V=0;V<D;){for(q=0;q<16;++q,V+=4)x[q]=T[V]|T[V+1]<<8|T[V+2]<<16|T[V+3]<<24;let E=L,U=h,$=g,Q=k,ie,j;for(q=0;q<64;++q){q<16?(ie=U&$|~U&Q,j=q):q<32?(ie=Q&U|~Q&$,j=5*q+1&15):q<48?(ie=U^$^Q,j=3*q+5&15):(ie=$^(U|~Q),j=7*q&15);const X=Q,R=E+ie+f[q]+x[j]|0,Z=r[q];Q=$,$=U,U=U+(R<<Z|R>>>32-Z)|0,E=X}L=L+E|0,h=h+U|0,g=g+$|0,k=k+Q|0}return new Uint8Array([L&255,L>>8&255,L>>16&255,L>>>24&255,h&255,h>>8&255,h>>16&255,h>>>24&255,g&255,g>>8&255,g>>16&255,g>>>24&255,k&255,k>>8&255,k>>16&255,k>>>24&255])}return m}();S.calculateMD5=t;class H{constructor(r,f){this.high=r|0,this.low=f|0}and(r){this.high&=r.high,this.low&=r.low}xor(r){this.high^=r.high,this.low^=r.low}or(r){this.high|=r.high,this.low|=r.low}shiftRight(r){r>=32?(this.low=this.high>>>r-32|0,this.high=0):(this.low=this.low>>>r|this.high<<32-r,this.high=this.high>>>r|0)}shiftLeft(r){r>=32?(this.high=this.low<<r-32,this.low=0):(this.high=this.high<<r|this.low>>>32-r,this.low<<=r)}rotateRight(r){let f,m;r&32?(m=this.low,f=this.high):(f=this.low,m=this.high),r&=31,this.low=f>>>r|m<<32-r,this.high=m>>>r|f<<32-r}not(){this.high=~this.high,this.low=~this.low}add(r){const f=(this.low>>>0)+(r.low>>>0);let m=(this.high>>>0)+(r.high>>>0);f>4294967295&&(m+=1),this.low=f|0,this.high=m|0}copyTo(r,f){r[f]=this.high>>>24&255,r[f+1]=this.high>>16&255,r[f+2]=this.high>>8&255,r[f+3]=this.high&255,r[f+4]=this.low>>>24&255,r[f+5]=this.low>>16&255,r[f+6]=this.low>>8&255,r[f+7]=this.low&255}assign(r){this.high=r.high,this.low=r.low}}const z=function(){function r(k,D){return k>>>D|k<<32-D}function f(k,D,T){return k&D^~k&T}function m(k,D,T){return k&D^k&T^D&T}function P(k){return r(k,2)^r(k,13)^r(k,22)}function d(k){return r(k,6)^r(k,11)^r(k,25)}function A(k){return r(k,7)^r(k,18)^k>>>3}function L(k){return r(k,17)^r(k,19)^k>>>10}const h=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(k,D,T){let V=1779033703,q=3144134277,v=1013904242,x=2773480762,E=1359893119,U=2600822924,$=528734635,Q=1541459225;const ie=Math.ceil((T+9)/64)*64,j=new Uint8Array(ie);let X,R;for(X=0;X<T;++X)j[X]=k[D++];j[X++]=128;const Z=ie-8;for(;X<Z;)j[X++]=0;j[X++]=0,j[X++]=0,j[X++]=0,j[X++]=T>>>29&255,j[X++]=T>>21&255,j[X++]=T>>13&255,j[X++]=T>>5&255,j[X++]=T<<3&255;const N=new Uint32Array(64);for(X=0;X<ie;){for(R=0;R<16;++R)N[R]=j[X]<<24|j[X+1]<<16|j[X+2]<<8|j[X+3],X+=4;for(R=16;R<64;++R)N[R]=L(N[R-2])+N[R-7]+A(N[R-15])+N[R-16]|0;let M=V,c=q,_=v,W=x,Y=E,J=U,ae=$,oe=Q,he,ne;for(R=0;R<64;++R)he=oe+d(Y)+f(Y,J,ae)+h[R]+N[R],ne=P(M)+m(M,c,_),oe=ae,ae=J,J=Y,Y=W+he|0,W=_,_=c,c=M,M=he+ne|0;V=V+M|0,q=q+c|0,v=v+_|0,x=x+W|0,E=E+Y|0,U=U+J|0,$=$+ae|0,Q=Q+oe|0}return new Uint8Array([V>>24&255,V>>16&255,V>>8&255,V&255,q>>24&255,q>>16&255,q>>8&255,q&255,v>>24&255,v>>16&255,v>>8&255,v&255,x>>24&255,x>>16&255,x>>8&255,x&255,E>>24&255,E>>16&255,E>>8&255,E&255,U>>24&255,U>>16&255,U>>8&255,U&255,$>>24&255,$>>16&255,$>>8&255,$&255,Q>>24&255,Q>>16&255,Q>>8&255,Q&255])}return g}();S.calculateSHA256=z;const G=function(){function r(g,k,D,T,V){g.assign(k),g.and(D),V.assign(k),V.not(),V.and(T),g.xor(V)}function f(g,k,D,T,V){g.assign(k),g.and(D),V.assign(k),V.and(T),g.xor(V),V.assign(D),V.and(T),g.xor(V)}function m(g,k,D){g.assign(k),g.rotateRight(28),D.assign(k),D.rotateRight(34),g.xor(D),D.assign(k),D.rotateRight(39),g.xor(D)}function P(g,k,D){g.assign(k),g.rotateRight(14),D.assign(k),D.rotateRight(18),g.xor(D),D.assign(k),D.rotateRight(41),g.xor(D)}function d(g,k,D){g.assign(k),g.rotateRight(1),D.assign(k),D.rotateRight(8),g.xor(D),D.assign(k),D.shiftRight(7),g.xor(D)}function A(g,k,D){g.assign(k),g.rotateRight(19),D.assign(k),D.rotateRight(61),g.xor(D),D.assign(k),D.shiftRight(6),g.xor(D)}const L=[new H(1116352408,3609767458),new H(1899447441,602891725),new H(3049323471,3964484399),new H(3921009573,2173295548),new H(961987163,4081628472),new H(1508970993,3053834265),new H(2453635748,2937671579),new H(2870763221,3664609560),new H(3624381080,2734883394),new H(310598401,1164996542),new H(607225278,1323610764),new H(1426881987,3590304994),new H(1925078388,4068182383),new H(2162078206,991336113),new H(2614888103,633803317),new H(3248222580,3479774868),new H(3835390401,2666613458),new H(4022224774,944711139),new H(264347078,2341262773),new H(604807628,2007800933),new H(770255983,1495990901),new H(1249150122,1856431235),new H(1555081692,3175218132),new H(1996064986,2198950837),new H(2554220882,3999719339),new H(2821834349,766784016),new H(2952996808,2566594879),new H(3210313671,3203337956),new H(3336571891,1034457026),new H(3584528711,2466948901),new H(113926993,3758326383),new H(338241895,168717936),new H(666307205,1188179964),new H(773529912,1546045734),new H(1294757372,1522805485),new H(1396182291,2643833823),new H(1695183700,2343527390),new H(1986661051,1014477480),new H(2177026350,1206759142),new H(2456956037,344077627),new H(2730485921,1290863460),new H(2820302411,3158454273),new H(3259730800,3505952657),new H(3345764771,106217008),new H(3516065817,3606008344),new H(3600352804,1432725776),new H(4094571909,1467031594),new H(275423344,851169720),new H(430227734,3100823752),new H(506948616,1363258195),new H(659060556,3750685593),new H(883997877,3785050280),new H(958139571,3318307427),new H(1322822218,3812723403),new H(1537002063,2003034995),new H(1747873779,3602036899),new H(1955562222,1575990012),new H(2024104815,1125592928),new H(2227730452,2716904306),new H(2361852424,442776044),new H(2428436474,593698344),new H(2756734187,3733110249),new H(3204031479,2999351573),new H(3329325298,3815920427),new H(3391569614,3928383900),new H(3515267271,566280711),new H(3940187606,3454069534),new H(4118630271,4000239992),new H(116418474,1914138554),new H(174292421,2731055270),new H(289380356,3203993006),new H(460393269,320620315),new H(685471733,587496836),new H(852142971,1086792851),new H(1017036298,365543100),new H(1126000580,2618297676),new H(1288033470,3409855158),new H(1501505948,4234509866),new H(1607167915,987167468),new H(1816402316,1246189591)];function h(g,k,D,T=!1){let V,q,v,x,E,U,$,Q;T?(V=new H(3418070365,3238371032),q=new H(1654270250,914150663),v=new H(2438529370,812702999),x=new H(355462360,4144912697),E=new H(1731405415,4290775857),U=new H(2394180231,1750603025),$=new H(3675008525,1694076839),Q=new H(1203062813,3204075428)):(V=new H(1779033703,4089235720),q=new H(3144134277,2227873595),v=new H(1013904242,4271175723),x=new H(2773480762,1595750129),E=new H(1359893119,2917565137),U=new H(2600822924,725511199),$=new H(528734635,4215389547),Q=new H(1541459225,327033209));const ie=Math.ceil((D+17)/128)*128,j=new Uint8Array(ie);let X,R;for(X=0;X<D;++X)j[X]=g[k++];j[X++]=128;const Z=ie-16;for(;X<Z;)j[X++]=0;j[X++]=0,j[X++]=0,j[X++]=0,j[X++]=0,j[X++]=0,j[X++]=0,j[X++]=0,j[X++]=0,j[X++]=0,j[X++]=0,j[X++]=0,j[X++]=D>>>29&255,j[X++]=D>>21&255,j[X++]=D>>13&255,j[X++]=D>>5&255,j[X++]=D<<3&255;const N=new Array(80);for(X=0;X<80;X++)N[X]=new H(0,0);let M=new H(0,0),c=new H(0,0),_=new H(0,0),W=new H(0,0),Y=new H(0,0),J=new H(0,0),ae=new H(0,0),oe=new H(0,0);const he=new H(0,0),ne=new H(0,0),re=new H(0,0),de=new H(0,0);let ue;for(X=0;X<ie;){for(R=0;R<16;++R)N[R].high=j[X]<<24|j[X+1]<<16|j[X+2]<<8|j[X+3],N[R].low=j[X+4]<<24|j[X+5]<<16|j[X+6]<<8|j[X+7],X+=8;for(R=16;R<80;++R)ue=N[R],A(ue,N[R-2],de),ue.add(N[R-7]),d(re,N[R-15],de),ue.add(re),ue.add(N[R-16]);for(M.assign(V),c.assign(q),_.assign(v),W.assign(x),Y.assign(E),J.assign(U),ae.assign($),oe.assign(Q),R=0;R<80;++R)he.assign(oe),P(re,Y,de),he.add(re),r(re,Y,J,ae,de),he.add(re),he.add(L[R]),he.add(N[R]),m(ne,M,de),f(re,M,c,_,de),ne.add(re),ue=oe,oe=ae,ae=J,J=Y,W.add(he),Y=W,W=_,_=c,c=M,ue.assign(he),ue.add(ne),M=ue;V.add(M),q.add(c),v.add(_),x.add(W),E.add(Y),U.add(J),$.add(ae),Q.add(oe)}let ge;return T?(ge=new Uint8Array(48),V.copyTo(ge,0),q.copyTo(ge,8),v.copyTo(ge,16),x.copyTo(ge,24),E.copyTo(ge,32),U.copyTo(ge,40)):(ge=new Uint8Array(64),V.copyTo(ge,0),q.copyTo(ge,8),v.copyTo(ge,16),x.copyTo(ge,24),E.copyTo(ge,32),U.copyTo(ge,40),$.copyTo(ge,48),Q.copyTo(ge,56)),ge}return h}();S.calculateSHA512=G;function I(y,r,f){return G(y,r,f,!0)}class C{decryptBlock(r){return r}encrypt(r){return r}}class w{constructor(){this.constructor===w&&(0,n.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let r=0;r<256;r++)r<128?this._mixCol[r]=r<<1:this._mixCol[r]=r<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(r){(0,n.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(r,f){let m,P,d;const A=new Uint8Array(16);A.set(r);for(let L=0,h=this._keySize;L<16;++L,++h)A[L]^=f[h];for(let L=this._cyclesOfRepetition-1;L>=1;--L){m=A[13],A[13]=A[9],A[9]=A[5],A[5]=A[1],A[1]=m,m=A[14],P=A[10],A[14]=A[6],A[10]=A[2],A[6]=m,A[2]=P,m=A[15],P=A[11],d=A[7],A[15]=A[3],A[11]=m,A[7]=P,A[3]=d;for(let h=0;h<16;++h)A[h]=this._inv_s[A[h]];for(let h=0,g=L*16;h<16;++h,++g)A[h]^=f[g];for(let h=0;h<16;h+=4){const g=this._mix[A[h]],k=this._mix[A[h+1]],D=this._mix[A[h+2]],T=this._mix[A[h+3]];m=g^k>>>8^k<<24^D>>>16^D<<16^T>>>24^T<<8,A[h]=m>>>24&255,A[h+1]=m>>16&255,A[h+2]=m>>8&255,A[h+3]=m&255}}m=A[13],A[13]=A[9],A[9]=A[5],A[5]=A[1],A[1]=m,m=A[14],P=A[10],A[14]=A[6],A[10]=A[2],A[6]=m,A[2]=P,m=A[15],P=A[11],d=A[7],A[15]=A[3],A[11]=m,A[7]=P,A[3]=d;for(let L=0;L<16;++L)A[L]=this._inv_s[A[L]],A[L]^=f[L];return A}_encrypt(r,f){const m=this._s;let P,d,A;const L=new Uint8Array(16);L.set(r);for(let h=0;h<16;++h)L[h]^=f[h];for(let h=1;h<this._cyclesOfRepetition;h++){for(let g=0;g<16;++g)L[g]=m[L[g]];A=L[1],L[1]=L[5],L[5]=L[9],L[9]=L[13],L[13]=A,A=L[2],d=L[6],L[2]=L[10],L[6]=L[14],L[10]=A,L[14]=d,A=L[3],d=L[7],P=L[11],L[3]=L[15],L[7]=A,L[11]=d,L[15]=P;for(let g=0;g<16;g+=4){const k=L[g+0],D=L[g+1],T=L[g+2],V=L[g+3];P=k^D^T^V,L[g+0]^=P^this._mixCol[k^D],L[g+1]^=P^this._mixCol[D^T],L[g+2]^=P^this._mixCol[T^V],L[g+3]^=P^this._mixCol[V^k]}for(let g=0,k=h*16;g<16;++g,++k)L[g]^=f[k]}for(let h=0;h<16;++h)L[h]=m[L[h]];A=L[1],L[1]=L[5],L[5]=L[9],L[9]=L[13],L[13]=A,A=L[2],d=L[6],L[2]=L[10],L[6]=L[14],L[10]=A,L[14]=d,A=L[3],d=L[7],P=L[11],L[3]=L[15],L[7]=A,L[11]=d,L[15]=P;for(let h=0,g=this._keySize;h<16;++h,++g)L[h]^=f[g];return L}_decryptBlock2(r,f){const m=r.length;let P=this.buffer,d=this.bufferPosition;const A=[];let L=this.iv;for(let k=0;k<m;++k){if(P[d]=r[k],++d,d<16)continue;const D=this._decrypt(P,this._key);for(let T=0;T<16;++T)D[T]^=L[T];L=P,A.push(D),P=new Uint8Array(16),d=0}if(this.buffer=P,this.bufferLength=d,this.iv=L,A.length===0)return new Uint8Array(0);let h=16*A.length;if(f){const k=A.at(-1);let D=k[15];if(D<=16){for(let T=15,V=16-D;T>=V;--T)if(k[T]!==D){D=0;break}h-=D,A[A.length-1]=k.subarray(0,16-D)}}const g=new Uint8Array(h);for(let k=0,D=0,T=A.length;k<T;++k,D+=16)g.set(A[k],D);return g}decryptBlock(r,f,m=null){const P=r.length,d=this.buffer;let A=this.bufferPosition;if(m)this.iv=m;else{for(let L=0;A<16&&L<P;++L,++A)d[A]=r[L];if(A<16)return this.bufferLength=A,new Uint8Array(0);this.iv=d,r=r.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(r,f)}encrypt(r,f){const m=r.length;let P=this.buffer,d=this.bufferPosition;const A=[];f||(f=new Uint8Array(16));for(let g=0;g<m;++g){if(P[d]=r[g],++d,d<16)continue;for(let D=0;D<16;++D)P[D]^=f[D];const k=this._encrypt(P,this._key);f=k,A.push(k),P=new Uint8Array(16),d=0}if(this.buffer=P,this.bufferLength=d,this.iv=f,A.length===0)return new Uint8Array(0);const L=16*A.length,h=new Uint8Array(L);for(let g=0,k=0,D=A.length;g<D;++g,k+=16)h.set(A[g],k);return h}}class i extends w{constructor(r){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(r)}_expandKey(r){const m=this._s,P=this._rcon,d=new Uint8Array(176);d.set(r);for(let A=16,L=1;A<176;++L){let h=d[A-3],g=d[A-2],k=d[A-1],D=d[A-4];h=m[h],g=m[g],k=m[k],D=m[D],h^=P[L];for(let T=0;T<4;++T)d[A]=h^=d[A-16],A++,d[A]=g^=d[A-16],A++,d[A]=k^=d[A-16],A++,d[A]=D^=d[A-16],A++}return d}}S.AES128Cipher=i;class F extends w{constructor(r){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(r)}_expandKey(r){const m=this._s,P=new Uint8Array(240);P.set(r);let d=1,A,L,h,g;for(let k=32,D=1;k<240;++D){k%32===16?(A=m[A],L=m[L],h=m[h],g=m[g]):k%32===0&&(A=P[k-3],L=P[k-2],h=P[k-1],g=P[k-4],A=m[A],L=m[L],h=m[h],g=m[g],A^=d,(d<<=1)>=256&&(d=(d^27)&255));for(let T=0;T<4;++T)P[k]=A^=P[k-32],k++,P[k]=L^=P[k-32],k++,P[k]=h^=P[k-32],k++,P[k]=g^=P[k-32],k++}return P}}S.AES256Cipher=F;class B{checkOwnerPassword(r,f,m,P){const d=new Uint8Array(r.length+56);d.set(r,0),d.set(f,r.length),d.set(m,r.length+f.length);const A=z(d,0,d.length);return(0,n.isArrayEqual)(A,P)}checkUserPassword(r,f,m){const P=new Uint8Array(r.length+8);P.set(r,0),P.set(f,r.length);const d=z(P,0,P.length);return(0,n.isArrayEqual)(d,m)}getOwnerKey(r,f,m,P){const d=new Uint8Array(r.length+56);d.set(r,0),d.set(f,r.length),d.set(m,r.length+f.length);const A=z(d,0,d.length);return new F(A).decryptBlock(P,!1,new Uint8Array(16))}getUserKey(r,f,m){const P=new Uint8Array(r.length+8);P.set(r,0),P.set(f,r.length);const d=z(P,0,P.length);return new F(d).decryptBlock(m,!1,new Uint8Array(16))}}S.PDF17=B;class u{_hash(r,f,m){let P=z(f,0,f.length).subarray(0,32),d=[0],A=0;for(;A<64||d.at(-1)>A-32;){const L=r.length+P.length+m.length,h=new Uint8Array(L);let g=0;h.set(r,g),g+=r.length,h.set(P,g),g+=P.length,h.set(m,g);const k=new Uint8Array(L*64);for(let V=0,q=0;V<64;V++,q+=L)k.set(h,q);d=new i(P.subarray(0,16)).encrypt(k,P.subarray(16,32));const T=d.slice(0,16).reduce((V,q)=>V+q,0)%3;T===0?P=z(d,0,d.length):T===1?P=I(d,0,d.length):T===2&&(P=G(d,0,d.length)),A++}return P.subarray(0,32)}checkOwnerPassword(r,f,m,P){const d=new Uint8Array(r.length+56);d.set(r,0),d.set(f,r.length),d.set(m,r.length+f.length);const A=this._hash(r,d,m);return(0,n.isArrayEqual)(A,P)}checkUserPassword(r,f,m){const P=new Uint8Array(r.length+8);P.set(r,0),P.set(f,r.length);const d=this._hash(r,P,[]);return(0,n.isArrayEqual)(d,m)}getOwnerKey(r,f,m,P){const d=new Uint8Array(r.length+56);d.set(r,0),d.set(f,r.length),d.set(m,r.length+f.length);const A=this._hash(r,d,m);return new F(A).decryptBlock(P,!1,new Uint8Array(16))}getUserKey(r,f,m){const P=new Uint8Array(r.length+8);P.set(r,0),P.set(f,r.length);const d=this._hash(r,P,[]);return new F(d).decryptBlock(m,!1,new Uint8Array(16))}}S.PDF20=u;class s{constructor(r,f){this.StringCipherConstructor=r,this.StreamCipherConstructor=f}createStream(r,f){const m=new this.StreamCipherConstructor;return new K.DecryptStream(r,f,function(d,A){return m.decryptBlock(d,A)})}decryptString(r){const f=new this.StringCipherConstructor;let m=(0,n.stringToBytes)(r);return m=f.decryptBlock(m,!0),(0,n.bytesToString)(m)}encryptString(r){const f=new this.StringCipherConstructor;if(f instanceof w){const d=16-r.length%16;r+=String.fromCharCode(d).repeat(d);const A=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(A);else for(let g=0;g<16;g++)A[g]=Math.floor(256*Math.random());let L=(0,n.stringToBytes)(r);L=f.encrypt(L,A);const h=new Uint8Array(16+L.length);return h.set(A),h.set(L,16),(0,n.bytesToString)(h)}let m=(0,n.stringToBytes)(r);return m=f.encrypt(m),(0,n.bytesToString)(m)}}const o=function(){const r=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);function f(g,k,D,T,V,q,v,x,E,U,$,Q){if(k){const j=Math.min(127,k.length);k=k.subarray(0,j)}else k=[];let ie;return g===6?ie=new u:ie=new B,ie.checkUserPassword(k,x,v)?ie.getUserKey(k,E,$):k.length&&ie.checkOwnerPassword(k,T,q,D)?ie.getOwnerKey(k,V,q,U):null}function m(g,k,D,T,V,q,v,x){const E=40+D.length+g.length,U=new Uint8Array(E);let $=0,Q,ie;if(k)for(ie=Math.min(32,k.length);$<ie;++$)U[$]=k[$];for(Q=0;$<32;)U[$++]=r[Q++];for(Q=0,ie=D.length;Q<ie;++Q)U[$++]=D[Q];for(U[$++]=V&255,U[$++]=V>>8&255,U[$++]=V>>16&255,U[$++]=V>>>24&255,Q=0,ie=g.length;Q<ie;++Q)U[$++]=g[Q];q>=4&&!x&&(U[$++]=255,U[$++]=255,U[$++]=255,U[$++]=255);let j=t(U,0,$);const X=v>>3;if(q>=3)for(Q=0;Q<50;++Q)j=t(j,0,X);const R=j.subarray(0,X);let Z,N;if(q>=3){for($=0;$<32;++$)U[$]=r[$];for(Q=0,ie=g.length;Q<ie;++Q)U[$++]=g[Q];Z=new e(R),N=Z.encryptBlock(t(U,0,$)),ie=R.length;const M=new Uint8Array(ie);for(Q=1;Q<=19;++Q){for(let c=0;c<ie;++c)M[c]=R[c]^Q;Z=new e(M),N=Z.encryptBlock(N)}for(Q=0,ie=N.length;Q<ie;++Q)if(T[Q]!==N[Q])return null}else for(Z=new e(R),N=Z.encryptBlock(r),Q=0,ie=N.length;Q<ie;++Q)if(T[Q]!==N[Q])return null;return R}function P(g,k,D,T){const V=new Uint8Array(32);let q=0;const v=Math.min(32,g.length);for(;q<v;++q)V[q]=g[q];let x=0;for(;q<32;)V[q++]=r[x++];let E=t(V,0,q);const U=T>>3;if(D>=3)for(x=0;x<50;++x)E=t(E,0,E.length);let $,Q;if(D>=3){Q=k;const ie=new Uint8Array(U);for(x=19;x>=0;x--){for(let j=0;j<U;++j)ie[j]=E[j]^x;$=new e(ie),Q=$.encryptBlock(Q)}}else $=new e(E.subarray(0,U)),Q=$.encryptBlock(k);return Q}const d=l.Name.get("Identity");function A(g,k,D,T=!1){const V=new Uint8Array(D.length+9),q=D.length;let v;for(v=0;v<q;++v)V[v]=D[v];return V[v++]=g&255,V[v++]=g>>8&255,V[v++]=g>>16&255,V[v++]=k&255,V[v++]=k>>8&255,T&&(V[v++]=115,V[v++]=65,V[v++]=108,V[v++]=84),t(V,0,v).subarray(0,Math.min(D.length+5,16))}function L(g,k,D,T,V){if(!(k instanceof l.Name))throw new n.FormatError("Invalid crypt filter name.");const q=g.get(k.name);let v;if(q!=null&&(v=q.get("CFM")),!v||v.name==="None")return function(){return new C};if(v.name==="V2")return function(){return new e(A(D,T,V,!1))};if(v.name==="AESV2")return function(){return new i(A(D,T,V,!0))};if(v.name==="AESV3")return function(){return new F(V)};throw new n.FormatError("Unknown crypto method")}class h{constructor(k,D,T){const V=k.get("Filter");if(!(0,l.isName)(V,"Standard"))throw new n.FormatError("unknown encryption method");this.filterName=V.name,this.dict=k;const q=k.get("V");if(!Number.isInteger(q)||q!==1&&q!==2&&q!==4&&q!==5)throw new n.FormatError("unsupported encryption algorithm");this.algorithm=q;let v=k.get("Length");if(!v)if(q<=3)v=40;else{const N=k.get("CF"),M=k.get("StmF");if(N instanceof l.Dict&&M instanceof l.Name){N.suppressEncryption=!0;const c=N.get(M.name);v=(c==null?void 0:c.get("Length"))||128,v<40&&(v<<=3)}}if(!Number.isInteger(v)||v<40||v%8!==0)throw new n.FormatError("invalid key length");const x=(0,n.stringToBytes)(k.get("O")),E=(0,n.stringToBytes)(k.get("U")),U=x.subarray(0,32),$=E.subarray(0,32),Q=k.get("P"),ie=k.get("R"),j=(q===4||q===5)&&k.get("EncryptMetadata")!==!1;this.encryptMetadata=j;const X=(0,n.stringToBytes)(D);let R;if(T){if(ie===6)try{T=(0,n.utf8StringToString)(T)}catch{(0,n.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}R=(0,n.stringToBytes)(T)}let Z;if(q!==5)Z=m(X,R,U,$,Q,ie,v,j);else{const N=x.subarray(32,40),M=x.subarray(40,48),c=E.subarray(0,48),_=E.subarray(32,40),W=E.subarray(40,48),Y=(0,n.stringToBytes)(k.get("OE")),J=(0,n.stringToBytes)(k.get("UE"));(0,n.stringToBytes)(k.get("Perms")),Z=f(ie,R,U,N,M,c,$,_,W,Y,J)}if(!Z&&!T)throw new n.PasswordException("No password given",n.PasswordResponses.NEED_PASSWORD);if(!Z&&T){const N=P(R,U,ie,v);Z=m(X,N,U,$,Q,ie,v,j)}if(!Z)throw new n.PasswordException("Incorrect Password",n.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=Z,q>=4){const N=k.get("CF");N instanceof l.Dict&&(N.suppressEncryption=!0),this.cf=N,this.stmf=k.get("StmF")||d,this.strf=k.get("StrF")||d,this.eff=k.get("EFF")||this.stmf}}createCipherTransform(k,D){if(this.algorithm===4||this.algorithm===5)return new s(L(this.cf,this.strf,k,D,this.encryptionKey),L(this.cf,this.stmf,k,D,this.encryptionKey));const T=A(k,D,this.encryptionKey,!1),V=function(){return new e(T)};return new s(V,V)}}return h}();S.CipherTransformFactory=o},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.DecryptStream=void 0;var n=ee(18);const l=512;class K extends n.DecodeStream{constructor(t,H,z){super(H),this.str=t,this.dict=t.dict,this.decrypt=z,this.nextChunk=null,this.initialized=!1}readBlock(){var w;let t;if(this.initialized?t=this.nextChunk:(t=this.str.getBytes(l),this.initialized=!0),!t||t.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(l);const H=((w=this.nextChunk)==null?void 0:w.length)>0,z=this.decrypt;t=z(t,!H);const G=this.bufferLength,I=G+t.length;this.ensureBuffer(I).set(t,G),this.bufferLength=I}}S.DecryptStream=K},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.Catalog=void 0;var n=ee(3),l=ee(2),K=ee(4),e=ee(71),t=ee(5),H=ee(72),z=ee(12),G=ee(73),I=ee(59),C=ee(74),w=ee(75);function i(B){return B instanceof K.Dict&&(B=B.get("D")),Array.isArray(B)?B:null}class F{constructor(u,s){if(this.pdfManager=u,this.xref=s,this._catDict=s.getCatalogObj(),!(this._catDict instanceof K.Dict))throw new l.FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new K.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new I.GlobalImageCache,this.pageKidsCountCache=new K.RefSetCache,this.pageIndexCache=new K.RefSetCache,this.nonBlendModesSet=new K.RefSet,this.systemFontCache=new Map}get version(){const u=this._catDict.get("Version");if(u instanceof K.Name){if(n.PDF_VERSION_REGEXP.test(u.name))return(0,l.shadow)(this,"version",u.name);(0,l.warn)(`Invalid PDF catalog version: ${u.name}`)}return(0,l.shadow)(this,"version",null)}get lang(){const u=this._catDict.get("Lang");return(0,l.shadow)(this,"lang",typeof u=="string"?(0,l.stringToPDFString)(u):null)}get needsRendering(){const u=this._catDict.get("NeedsRendering");return(0,l.shadow)(this,"needsRendering",typeof u=="boolean"?u:!1)}get collection(){let u=null;try{const s=this._catDict.get("Collection");s instanceof K.Dict&&s.size>0&&(u=s)}catch(s){if(s instanceof n.MissingDataException)throw s;(0,l.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,l.shadow)(this,"collection",u)}get acroForm(){let u=null;try{const s=this._catDict.get("AcroForm");s instanceof K.Dict&&s.size>0&&(u=s)}catch(s){if(s instanceof n.MissingDataException)throw s;(0,l.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,l.shadow)(this,"acroForm",u)}get acroFormRef(){const u=this._catDict.getRaw("AcroForm");return(0,l.shadow)(this,"acroFormRef",u instanceof K.Ref?u:null)}get metadata(){var o;const u=this._catDict.getRaw("Metadata");if(!(u instanceof K.Ref))return(0,l.shadow)(this,"metadata",null);let s=null;try{const y=this.xref.fetch(u,!((o=this.xref.encrypt)!=null&&o.encryptMetadata));if(y instanceof t.BaseStream&&y.dict instanceof K.Dict){const r=y.dict.get("Type"),f=y.dict.get("Subtype");if((0,K.isName)(r,"Metadata")&&(0,K.isName)(f,"XML")){const m=(0,l.stringToUTF8String)(y.getString());m&&(s=new C.MetadataParser(m).serializable)}}}catch(y){if(y instanceof n.MissingDataException)throw y;(0,l.info)(`Skipping invalid Metadata: "${y}".`)}return(0,l.shadow)(this,"metadata",s)}get markInfo(){let u=null;try{u=this._readMarkInfo()}catch(s){if(s instanceof n.MissingDataException)throw s;(0,l.warn)("Unable to read mark info.")}return(0,l.shadow)(this,"markInfo",u)}_readMarkInfo(){const u=this._catDict.get("MarkInfo");if(!(u instanceof K.Dict))return null;const s={Marked:!1,UserProperties:!1,Suspects:!1};for(const o in s){const y=u.get(o);typeof y=="boolean"&&(s[o]=y)}return s}get structTreeRoot(){let u=null;try{u=this._readStructTreeRoot()}catch(s){if(s instanceof n.MissingDataException)throw s;(0,l.warn)("Unable read to structTreeRoot info.")}return(0,l.shadow)(this,"structTreeRoot",u)}_readStructTreeRoot(){const u=this._catDict.get("StructTreeRoot");if(!(u instanceof K.Dict))return null;const s=new w.StructTreeRoot(u);return s.init(),s}get toplevelPagesDict(){const u=this._catDict.get("Pages");if(!(u instanceof K.Dict))throw new l.FormatError("Invalid top-level pages dictionary.");return(0,l.shadow)(this,"toplevelPagesDict",u)}get documentOutline(){let u=null;try{u=this._readDocumentOutline()}catch(s){if(s instanceof n.MissingDataException)throw s;(0,l.warn)("Unable to read document outline.")}return(0,l.shadow)(this,"documentOutline",u)}_readDocumentOutline(){let u=this._catDict.get("Outlines");if(!(u instanceof K.Dict)||(u=u.getRaw("First"),!(u instanceof K.Ref)))return null;const s={items:[]},o=[{obj:u,parent:s}],y=new K.RefSet;y.put(u);const r=this.xref,f=new Uint8ClampedArray(3);for(;o.length>0;){const m=o.shift(),P=r.fetchIfRef(m.obj);if(P===null)continue;if(!P.has("Title"))throw new l.FormatError("Invalid outline item encountered.");const d={url:null,dest:null,action:null};F.parseDestDictionary({destDict:P,resultObj:d,docBaseUrl:this.pdfManager.docBaseUrl,docAttachments:this.attachments});const A=P.get("Title"),L=P.get("F")||0,h=P.getArray("C"),g=P.get("Count");let k=f;Array.isArray(h)&&h.length===3&&(h[0]!==0||h[1]!==0||h[2]!==0)&&(k=z.ColorSpace.singletons.rgb.getRgb(h,0));const D={action:d.action,attachment:d.attachment,dest:d.dest,url:d.url,unsafeUrl:d.unsafeUrl,newWindow:d.newWindow,setOCGState:d.setOCGState,title:(0,l.stringToPDFString)(A),color:k,count:Number.isInteger(g)?g:void 0,bold:!!(L&2),italic:!!(L&1),items:[]};m.parent.items.push(D),u=P.getRaw("First"),u instanceof K.Ref&&!y.has(u)&&(o.push({obj:u,parent:D}),y.put(u)),u=P.getRaw("Next"),u instanceof K.Ref&&!y.has(u)&&(o.push({obj:u,parent:m.parent}),y.put(u))}return s.items.length>0?s.items:null}get permissions(){let u=null;try{u=this._readPermissions()}catch(s){if(s instanceof n.MissingDataException)throw s;(0,l.warn)("Unable to read permissions.")}return(0,l.shadow)(this,"permissions",u)}_readPermissions(){const u=this.xref.trailer.get("Encrypt");if(!(u instanceof K.Dict))return null;let s=u.get("P");if(typeof s!="number")return null;s+=4294967296;const o=[];for(const y in l.PermissionFlag){const r=l.PermissionFlag[y];s&r&&o.push(r)}return o}get optionalContentConfig(){let u=null;try{const s=this._catDict.get("OCProperties");if(!s)return(0,l.shadow)(this,"optionalContentConfig",null);const o=s.get("D");if(!o)return(0,l.shadow)(this,"optionalContentConfig",null);const y=s.get("OCGs");if(!Array.isArray(y))return(0,l.shadow)(this,"optionalContentConfig",null);const r=[],f=[];for(const m of y){if(!(m instanceof K.Ref))continue;f.push(m);const P=this.xref.fetchIfRef(m);r.push({id:m.toString(),name:typeof P.get("Name")=="string"?(0,l.stringToPDFString)(P.get("Name")):null,intent:typeof P.get("Intent")=="string"?(0,l.stringToPDFString)(P.get("Intent")):null})}u=this._readOptionalContentConfig(o,f),u.groups=r}catch(s){if(s instanceof n.MissingDataException)throw s;(0,l.warn)(`Unable to read optional content config: ${s}`)}return(0,l.shadow)(this,"optionalContentConfig",u)}_readOptionalContentConfig(u,s){function o(d){const A=[];if(Array.isArray(d))for(const L of d)L instanceof K.Ref&&s.includes(L)&&A.push(L.toString());return A}function y(d,A=0){if(!Array.isArray(d))return null;const L=[];for(const g of d){if(g instanceof K.Ref&&s.includes(g)){m.put(g),L.push(g.toString());continue}const k=r(g,A);k&&L.push(k)}if(A>0)return L;const h=[];for(const g of s)m.has(g)||h.push(g.toString());return h.length&&L.push({name:null,order:h}),L}function r(d,A){if(++A>P)return(0,l.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const L=f.fetchIfRef(d);if(!Array.isArray(L))return null;const h=f.fetchIfRef(L[0]);if(typeof h!="string")return null;const g=y(L.slice(1),A);return!g||!g.length?null:{name:(0,l.stringToPDFString)(h),order:g}}const f=this.xref,m=new K.RefSet,P=10;return{name:typeof u.get("Name")=="string"?(0,l.stringToPDFString)(u.get("Name")):null,creator:typeof u.get("Creator")=="string"?(0,l.stringToPDFString)(u.get("Creator")):null,baseState:u.get("BaseState")instanceof K.Name?u.get("BaseState").name:null,on:o(u.get("ON")),off:o(u.get("OFF")),order:y(u.get("Order")),groups:null}}setActualNumPages(u=null){this._actualNumPages=u}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const u=this.toplevelPagesDict.get("Count");if(!Number.isInteger(u))throw new l.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,l.shadow)(this,"_pagesCount",u)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const u=this._readDests(),s=Object.create(null);if(u instanceof e.NameTree)for(const[o,y]of u.getAll()){const r=i(y);r&&(s[(0,l.stringToPDFString)(o)]=r)}else u instanceof K.Dict&&u.forEach(function(o,y){const r=i(y);r&&(s[o]=r)});return(0,l.shadow)(this,"destinations",s)}getDestination(u){const s=this._readDests();if(s instanceof e.NameTree){const o=i(s.get(u));if(o)return o;const y=this.destinations[u];if(y)return(0,l.warn)(`Found "${u}" at an incorrect position in the NameTree.`),y}else if(s instanceof K.Dict){const o=i(s.get(u));if(o)return o}return null}_readDests(){const u=this._catDict.get("Names");if(u!=null&&u.has("Dests"))return new e.NameTree(u.getRaw("Dests"),this.xref);if(this._catDict.has("Dests"))return this._catDict.get("Dests")}get pageLabels(){let u=null;try{u=this._readPageLabels()}catch(s){if(s instanceof n.MissingDataException)throw s;(0,l.warn)("Unable to read page labels.")}return(0,l.shadow)(this,"pageLabels",u)}_readPageLabels(){const u=this._catDict.getRaw("PageLabels");if(!u)return null;const s=new Array(this.numPages);let o=null,y="";const f=new e.NumberTree(u,this.xref).getAll();let m="",P=1;for(let d=0,A=this.numPages;d<A;d++){const L=f.get(d);if(L!==void 0){if(!(L instanceof K.Dict))throw new l.FormatError("PageLabel is not a dictionary.");if(L.has("Type")&&!(0,K.isName)(L.get("Type"),"PageLabel"))throw new l.FormatError("Invalid type in PageLabel dictionary.");if(L.has("S")){const h=L.get("S");if(!(h instanceof K.Name))throw new l.FormatError("Invalid style in PageLabel dictionary.");o=h.name}else o=null;if(L.has("P")){const h=L.get("P");if(typeof h!="string")throw new l.FormatError("Invalid prefix in PageLabel dictionary.");y=(0,l.stringToPDFString)(h)}else y="";if(L.has("St")){const h=L.get("St");if(!(Number.isInteger(h)&&h>=1))throw new l.FormatError("Invalid start in PageLabel dictionary.");P=h}else P=1}switch(o){case"D":m=P;break;case"R":case"r":m=(0,n.toRomanNumerals)(P,o==="r");break;case"A":case"a":const h=26,D=o==="a"?97:65,T=P-1;m=String.fromCharCode(D+T%h).repeat(Math.floor(T/h)+1);break;default:if(o)throw new l.FormatError(`Invalid style "${o}" in PageLabel dictionary.`);m=""}s[d]=y+m,P++}return s}get pageLayout(){const u=this._catDict.get("PageLayout");let s="";if(u instanceof K.Name)switch(u.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":s=u.name}return(0,l.shadow)(this,"pageLayout",s)}get pageMode(){const u=this._catDict.get("PageMode");let s="UseNone";if(u instanceof K.Name)switch(u.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":s=u.name}return(0,l.shadow)(this,"pageMode",s)}get viewerPreferences(){const u=this._catDict.get("ViewerPreferences");if(!(u instanceof K.Dict))return(0,l.shadow)(this,"viewerPreferences",null);let s=null;for(const o of u.getKeys()){const y=u.get(o);let r;switch(o){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof y=="boolean"&&(r=y);break;case"NonFullScreenPageMode":if(y instanceof K.Name)switch(y.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":r=y.name;break;default:r="UseNone"}break;case"Direction":if(y instanceof K.Name)switch(y.name){case"L2R":case"R2L":r=y.name;break;default:r="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(y instanceof K.Name)switch(y.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":r=y.name;break;default:r="CropBox"}break;case"PrintScaling":if(y instanceof K.Name)switch(y.name){case"None":case"AppDefault":r=y.name;break;default:r="AppDefault"}break;case"Duplex":if(y instanceof K.Name)switch(y.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":r=y.name;break;default:r="None"}break;case"PrintPageRange":Array.isArray(y)&&y.length%2===0&&y.every((m,P,d)=>Number.isInteger(m)&&m>0&&(P===0||m>=d[P-1])&&m<=this.numPages)&&(r=y);break;case"NumCopies":Number.isInteger(y)&&y>0&&(r=y);break;default:(0,l.warn)(`Ignoring non-standard key in ViewerPreferences: ${o}.`);continue}if(r===void 0){(0,l.warn)(`Bad value, for key "${o}", in ViewerPreferences: ${y}.`);continue}s||(s=Object.create(null)),s[o]=r}return(0,l.shadow)(this,"viewerPreferences",s)}get openAction(){const u=this._catDict.get("OpenAction"),s=Object.create(null);if(u instanceof K.Dict){const o=new K.Dict(this.xref);o.set("A",u);const y={url:null,dest:null,action:null};F.parseDestDictionary({destDict:o,resultObj:y}),Array.isArray(y.dest)?s.dest=y.dest:y.action&&(s.action=y.action)}else Array.isArray(u)&&(s.dest=u);return(0,l.shadow)(this,"openAction",(0,l.objectSize)(s)>0?s:null)}get attachments(){const u=this._catDict.get("Names");let s=null;if(u instanceof K.Dict&&u.has("EmbeddedFiles")){const o=new e.NameTree(u.getRaw("EmbeddedFiles"),this.xref);for(const[y,r]of o.getAll()){const f=new G.FileSpec(r,this.xref);s||(s=Object.create(null)),s[(0,l.stringToPDFString)(y)]=f.serializable}}return(0,l.shadow)(this,"attachments",s)}get xfaImages(){const u=this._catDict.get("Names");let s=null;if(u instanceof K.Dict&&u.has("XFAImages")){const o=new e.NameTree(u.getRaw("XFAImages"),this.xref);for(const[y,r]of o.getAll())s||(s=new K.Dict(this.xref)),s.set((0,l.stringToPDFString)(y),r)}return(0,l.shadow)(this,"xfaImages",s)}_collectJavaScript(){const u=this._catDict.get("Names");let s=null;function o(r,f){if(!(f instanceof K.Dict)||!(0,K.isName)(f.get("S"),"JavaScript"))return;let m=f.get("JS");if(m instanceof t.BaseStream)m=m.getString();else if(typeof m!="string")return;m=(0,l.stringToPDFString)(m).replaceAll("\0",""),(s||(s=new Map)).set(r,m)}if(u instanceof K.Dict&&u.has("JavaScript")){const r=new e.NameTree(u.getRaw("JavaScript"),this.xref);for(const[f,m]of r.getAll())o((0,l.stringToPDFString)(f),m)}const y=this._catDict.get("OpenAction");return y&&o("OpenAction",y),s}get javaScript(){const u=this._collectJavaScript();return(0,l.shadow)(this,"javaScript",u?[...u.values()]:null)}get jsActions(){const u=this._collectJavaScript();let s=(0,n.collectActions)(this.xref,this._catDict,l.DocumentActionEventType);if(u){s||(s=Object.create(null));for(const[o,y]of u)o in s?s[o].push(y):s[o]=[y]}return(0,l.shadow)(this,"jsActions",s)}async fontFallback(u,s){const o=await Promise.all(this.fontCache);for(const y of o)if(y.loadedName===u){y.fallback(s);return}}async cleanup(u=!1){(0,H.clearGlobalCaches)(),this.globalImageCache.clear(u),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const s=await Promise.all(this.fontCache);for(const{dict:o}of s)delete o.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear(),this.systemFontCache.clear()}async getPageDict(u){const s=[this.toplevelPagesDict],o=new K.RefSet,y=this._catDict.getRaw("Pages");y instanceof K.Ref&&o.put(y);const r=this.xref,f=this.pageKidsCountCache,m=this.pageIndexCache;let P=0;for(;s.length;){const d=s.pop();if(d instanceof K.Ref){const g=f.get(d);if(g>=0&&P+g<=u){P+=g;continue}if(o.has(d))throw new l.FormatError("Pages tree contains circular reference.");o.put(d);const k=await r.fetchAsync(d);if(k instanceof K.Dict){let D=k.getRaw("Type");if(D instanceof K.Ref&&(D=await r.fetchAsync(D)),(0,K.isName)(D,"Page")||!k.has("Kids")){if(f.has(d)||f.put(d,1),m.has(d)||m.put(d,P),P===u)return[k,d];P++;continue}}s.push(k);continue}if(!(d instanceof K.Dict))throw new l.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:A}=d;let L=d.getRaw("Count");if(L instanceof K.Ref&&(L=await r.fetchAsync(L)),Number.isInteger(L)&&L>=0&&(A&&!f.has(A)&&f.put(A,L),P+L<=u)){P+=L;continue}let h=d.getRaw("Kids");if(h instanceof K.Ref&&(h=await r.fetchAsync(h)),!Array.isArray(h)){let g=d.getRaw("Type");if(g instanceof K.Ref&&(g=await r.fetchAsync(g)),(0,K.isName)(g,"Page")||!d.has("Kids")){if(P===u)return[d,null];P++;continue}throw new l.FormatError("Page dictionary kids object is not an array.")}for(let g=h.length-1;g>=0;g--)s.push(h[g])}throw new Error(`Page index ${u} not found.`)}async getAllPageDicts(u=!1){const{ignoreErrors:s}=this.pdfManager.evaluatorOptions,o=[{currentNode:this.toplevelPagesDict,posInKids:0}],y=new K.RefSet,r=this._catDict.getRaw("Pages");r instanceof K.Ref&&y.put(r);const f=new Map,m=this.xref,P=this.pageIndexCache;let d=0;function A(h,g){g&&!P.has(g)&&P.put(g,d),f.set(d++,[h,g])}function L(h){if(h instanceof n.XRefEntryException&&!u)throw h;u&&s&&d===0&&((0,l.warn)(`getAllPageDicts - Skipping invalid first page: "${h}".`),h=K.Dict.empty),f.set(d++,[h,null])}for(;o.length>0;){const h=o.at(-1),{currentNode:g,posInKids:k}=h;let D=g.getRaw("Kids");if(D instanceof K.Ref)try{D=await m.fetchAsync(D)}catch(v){L(v);break}if(!Array.isArray(D)){L(new l.FormatError("Page dictionary kids object is not an array."));break}if(k>=D.length){o.pop();continue}const T=D[k];let V;if(T instanceof K.Ref){if(y.has(T)){L(new l.FormatError("Pages tree contains circular reference."));break}y.put(T);try{V=await m.fetchAsync(T)}catch(v){L(v);break}}else V=T;if(!(V instanceof K.Dict)){L(new l.FormatError("Page dictionary kid reference points to wrong type of object."));break}let q=V.getRaw("Type");if(q instanceof K.Ref)try{q=await m.fetchAsync(q)}catch(v){L(v);break}(0,K.isName)(q,"Page")||!V.has("Kids")?A(V,T instanceof K.Ref?T:null):o.push({currentNode:V,posInKids:0}),h.posInKids++}return f}getPageIndex(u){const s=this.pageIndexCache.get(u);if(s!==void 0)return Promise.resolve(s);const o=this.xref;function y(m){let P=0,d;return o.fetchAsync(m).then(function(A){if((0,K.isRefsEqual)(m,u)&&!(0,K.isDict)(A,"Page")&&!(A instanceof K.Dict&&!A.has("Type")&&A.has("Contents")))throw new l.FormatError("The reference does not point to a /Page dictionary.");if(!A)return null;if(!(A instanceof K.Dict))throw new l.FormatError("Node must be a dictionary.");return d=A.getRaw("Parent"),A.getAsync("Parent")}).then(function(A){if(!A)return null;if(!(A instanceof K.Dict))throw new l.FormatError("Parent must be a dictionary.");return A.getAsync("Kids")}).then(function(A){if(!A)return null;const L=[];let h=!1;for(const g of A){if(!(g instanceof K.Ref))throw new l.FormatError("Kid must be a reference.");if((0,K.isRefsEqual)(g,m)){h=!0;break}L.push(o.fetchAsync(g).then(function(k){if(!(k instanceof K.Dict))throw new l.FormatError("Kid node must be a dictionary.");k.has("Count")?P+=k.get("Count"):P++}))}if(!h)throw new l.FormatError("Kid reference not found in parent's kids.");return Promise.all(L).then(function(){return[P,d]})})}let r=0;const f=m=>y(m).then(P=>{if(!P)return this.pageIndexCache.put(u,r),r;const[d,A]=P;return r+=d,f(A)});return f(u)}get baseUrl(){const u=this._catDict.get("URI");if(u instanceof K.Dict){const s=u.get("Base");if(typeof s=="string"){const o=(0,l.createValidAbsoluteUrl)(s,null,{tryConvertEncoding:!0});if(o)return(0,l.shadow)(this,"baseUrl",o.href)}}return(0,l.shadow)(this,"baseUrl",null)}static parseDestDictionary(u){const s=u.destDict;if(!(s instanceof K.Dict)){(0,l.warn)("parseDestDictionary: `destDict` must be a dictionary.");return}const o=u.resultObj;if(typeof o!="object"){(0,l.warn)("parseDestDictionary: `resultObj` must be an object.");return}const y=u.docBaseUrl||null,r=u.docAttachments||null;let f=s.get("A"),m,P;if(f instanceof K.Dict||(s.has("Dest")?f=s.get("Dest"):(f=s.get("AA"),f instanceof K.Dict&&(f.has("D")?f=f.get("D"):f.has("U")&&(f=f.get("U"))))),f instanceof K.Dict){const d=f.get("S");if(!(d instanceof K.Name)){(0,l.warn)("parseDestDictionary: Invalid type in Action dictionary.");return}const A=d.name;switch(A){case"ResetForm":const L=f.get("Flags"),h=((typeof L=="number"?L:0)&1)===0,g=[],k=[];for(const X of f.get("Fields")||[])X instanceof K.Ref?k.push(X.toString()):typeof X=="string"&&g.push((0,l.stringToPDFString)(X));o.resetForm={fields:g,refs:k,include:h};break;case"URI":m=f.get("URI"),m instanceof K.Name&&(m="/"+m.name);break;case"GoTo":P=f.get("D");break;case"Launch":case"GoToR":const D=f.get("F");D instanceof K.Dict?m=D.get("F")||null:typeof D=="string"&&(m=D);let T=f.get("D");if(T&&(T instanceof K.Name&&(T=T.name),typeof m=="string")){const X=m.split("#")[0];typeof T=="string"?m=X+"#"+T:Array.isArray(T)&&(m=X+"#"+JSON.stringify(T))}const V=f.get("NewWindow");typeof V=="boolean"&&(o.newWindow=V);break;case"GoToE":const q=f.get("T");let v;if(r&&q instanceof K.Dict){const X=q.get("R"),R=q.get("N");(0,K.isName)(X,"C")&&typeof R=="string"&&(v=r[(0,l.stringToPDFString)(R)])}v?o.attachment=v:(0,l.warn)('parseDestDictionary - unimplemented "GoToE" action.');break;case"Named":const x=f.get("N");x instanceof K.Name&&(o.action=x.name);break;case"SetOCGState":const E=f.get("State"),U=f.get("PreserveRB");if(!Array.isArray(E)||E.length===0)break;const $=[];for(const X of E)if(X instanceof K.Name)switch(X.name){case"ON":case"OFF":case"Toggle":$.push(X.name);break}else X instanceof K.Ref&&$.push(X.toString());if($.length!==E.length)break;o.setOCGState={state:$,preserveRB:typeof U=="boolean"?U:!0};break;case"JavaScript":const Q=f.get("JS");let ie;Q instanceof t.BaseStream?ie=Q.getString():typeof Q=="string"&&(ie=Q);const j=ie&&(0,n.recoverJsURL)((0,l.stringToPDFString)(ie));if(j){m=j.url,o.newWindow=j.newWindow;break}default:if(A==="JavaScript"||A==="SubmitForm")break;(0,l.warn)(`parseDestDictionary - unsupported action: "${A}".`);break}}else s.has("Dest")&&(P=s.get("Dest"));if(typeof m=="string"){const d=(0,l.createValidAbsoluteUrl)(m,y,{addDefaultProtocol:!0,tryConvertEncoding:!0});d&&(o.url=d.href),o.unsafeUrl=m}P&&(P instanceof K.Name&&(P=P.name),typeof P=="string"?o.dest=(0,l.stringToPDFString)(P):Array.isArray(P)&&(o.dest=P))}}S.Catalog=F},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.NumberTree=S.NameTree=void 0;var n=ee(4),l=ee(2);class K{constructor(z,G,I){this.constructor===K&&(0,l.unreachable)("Cannot initialize NameOrNumberTree."),this.root=z,this.xref=G,this._type=I}getAll(){const z=new Map;if(!this.root)return z;const G=this.xref,I=new n.RefSet;I.put(this.root);const C=[this.root];for(;C.length>0;){const w=G.fetchIfRef(C.shift());if(!(w instanceof n.Dict))continue;if(w.has("Kids")){const F=w.get("Kids");if(!Array.isArray(F))continue;for(const B of F){if(I.has(B))throw new l.FormatError(`Duplicate entry in "${this._type}" tree.`);C.push(B),I.put(B)}continue}const i=w.get(this._type);if(Array.isArray(i))for(let F=0,B=i.length;F<B;F+=2)z.set(G.fetchIfRef(i[F]),G.fetchIfRef(i[F+1]))}return z}get(z){if(!this.root)return null;const G=this.xref;let I=G.fetchIfRef(this.root),C=0;const w=10;for(;I.has("Kids");){if(++C>w)return(0,l.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const F=I.get("Kids");if(!Array.isArray(F))return null;let B=0,u=F.length-1;for(;B<=u;){const s=B+u>>1,o=G.fetchIfRef(F[s]),y=o.get("Limits");if(z<G.fetchIfRef(y[0]))u=s-1;else if(z>G.fetchIfRef(y[1]))B=s+1;else{I=o;break}}if(B>u)return null}const i=I.get(this._type);if(Array.isArray(i)){let F=0,B=i.length-2;for(;F<=B;){const u=F+B>>1,s=u+(u&1),o=G.fetchIfRef(i[s]);if(z<o)B=s-2;else if(z>o)F=s+2;else return G.fetchIfRef(i[s+1])}}return null}}class e extends K{constructor(z,G){super(z,G,"Names")}}S.NameTree=e;class t extends K{constructor(z,G){super(z,G,"Nums")}}S.NumberTree=t},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.clearGlobalCaches=K;var n=ee(4),l=ee(40);function K(){(0,n.clearPrimitiveCaches)(),(0,l.clearUnicodeCaches)()}},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.FileSpec=void 0;var n=ee(2),l=ee(5),K=ee(4);function e(H){return H.has("UF")?H.get("UF"):H.has("F")?H.get("F"):H.has("Unix")?H.get("Unix"):H.has("Mac")?H.get("Mac"):H.has("DOS")?H.get("DOS"):null}class t{constructor(z,G){z instanceof K.Dict&&(this.xref=G,this.root=z,z.has("FS")&&(this.fs=z.get("FS")),this.description=z.has("Desc")?(0,n.stringToPDFString)(z.get("Desc")):"",z.has("RF")&&(0,n.warn)("Related file specifications are not supported"),this.contentAvailable=!0,z.has("EF")||(this.contentAvailable=!1,(0,n.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const z=e(this.root)||"unnamed";this._filename=(0,n.stringToPDFString)(z).replaceAll("\\\\","\\").replaceAll("\\/","/").replaceAll("\\","/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=e(this.root.get("EF")));let z=null;if(this.contentRef){const G=this.xref.fetchIfRef(this.contentRef);G instanceof l.BaseStream?z=G.getBytes():(0,n.warn)("Embedded file specification points to non-existing/invalid content")}else(0,n.warn)("Embedded file specification does not have a content");return z}get serializable(){return{filename:this.filename,content:this.content}}}S.FileSpec=t},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.MetadataParser=void 0;var n=ee(67);class l{constructor(e){e=this._repair(e);const H=new n.SimpleXMLParser({lowerCaseName:!0}).parseFromString(e);this._metadataMap=new Map,this._data=e,H&&this._parse(H)}_repair(e){return e.replace(/^[^<]+/,"").replaceAll(/>\\376\\377([^<]+)/g,function(t,H){const z=H.replaceAll(/\\([0-3])([0-7])([0-7])/g,function(I,C,w,i){return String.fromCharCode(C*64+w*8+i*1)}).replaceAll(/&(amp|apos|gt|lt|quot);/g,function(I,C){switch(C){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${C} isn't defined.`)}),G=[">"];for(let I=0,C=z.length;I<C;I+=2){const w=z.charCodeAt(I)*256+z.charCodeAt(I+1);w>=32&&w<127&&w!==60&&w!==62&&w!==38?G.push(String.fromCharCode(w)):G.push("&#x"+(65536+w).toString(16).substring(1)+";")}return G.join("")})}_getSequence(e){const t=e.nodeName;return t!=="rdf:bag"&&t!=="rdf:seq"&&t!=="rdf:alt"?null:e.childNodes.filter(H=>H.nodeName==="rdf:li")}_parseArray(e){if(!e.hasChildNodes())return;const[t]=e.childNodes,H=this._getSequence(t)||[];this._metadataMap.set(e.nodeName,H.map(z=>z.textContent.trim()))}_parse(e){let t=e.documentElement;if(t.nodeName!=="rdf:rdf")for(t=t.firstChild;t&&t.nodeName!=="rdf:rdf";)t=t.nextSibling;if(!(!t||t.nodeName!=="rdf:rdf"||!t.hasChildNodes())){for(const H of t.childNodes)if(H.nodeName==="rdf:description")for(const z of H.childNodes){const G=z.nodeName;switch(G){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(z);continue}this._metadataMap.set(G,z.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}S.MetadataParser=l},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.StructTreeRoot=S.StructTreePage=void 0;var n=ee(4),l=ee(2),K=ee(71);const e=40,t={PAGE_CONTENT:"PAGE_CONTENT",STREAM_CONTENT:"STREAM_CONTENT",OBJECT:"OBJECT",ELEMENT:"ELEMENT"};class H{constructor(w){this.dict=w,this.roleMap=new Map}init(){this.readRoleMap()}readRoleMap(){const w=this.dict.get("RoleMap");w instanceof n.Dict&&w.forEach((i,F)=>{F instanceof n.Name&&this.roleMap.set(i,F.name)})}}S.StructTreeRoot=H;class z{constructor(w,i){this.tree=w,this.dict=i,this.kids=[],this.parseKids()}get role(){const w=this.dict.get("S"),i=w instanceof n.Name?w.name:"",{root:F}=this.tree;return F.roleMap.has(i)?F.roleMap.get(i):i}parseKids(){let w=null;const i=this.dict.getRaw("Pg");i instanceof n.Ref&&(w=i.toString());const F=this.dict.get("K");if(Array.isArray(F))for(const B of F){const u=this.parseKid(w,B);u&&this.kids.push(u)}else{const B=this.parseKid(w,F);B&&this.kids.push(B)}}parseKid(w,i){if(Number.isInteger(i))return this.tree.pageDict.objId!==w?null:new G({type:t.PAGE_CONTENT,mcid:i,pageObjId:w});let F=null;if(i instanceof n.Ref?F=this.dict.xref.fetch(i):i instanceof n.Dict&&(F=i),!F)return null;const B=F.getRaw("Pg");B instanceof n.Ref&&(w=B.toString());const u=F.get("Type")instanceof n.Name?F.get("Type").name:null;return u==="MCR"?this.tree.pageDict.objId!==w?null:new G({type:t.STREAM_CONTENT,refObjId:F.getRaw("Stm")instanceof n.Ref?F.getRaw("Stm").toString():null,pageObjId:w,mcid:F.get("MCID")}):u==="OBJR"?this.tree.pageDict.objId!==w?null:new G({type:t.OBJECT,refObjId:F.getRaw("Obj")instanceof n.Ref?F.getRaw("Obj").toString():null,pageObjId:w}):new G({type:t.ELEMENT,dict:F})}}class G{constructor({type:w,dict:i=null,mcid:F=null,pageObjId:B=null,refObjId:u=null}){this.type=w,this.dict=i,this.mcid=F,this.pageObjId=B,this.refObjId=u,this.parentNode=null}}class I{constructor(w,i){this.root=w,this.rootDict=w?w.dict:null,this.pageDict=i,this.nodes=[]}parse(){if(!this.root||!this.rootDict)return;const w=this.rootDict.get("ParentTree");if(!w)return;const i=this.pageDict.get("StructParents");if(!Number.isInteger(i))return;const B=new K.NumberTree(w,this.rootDict.xref).get(i);if(!Array.isArray(B))return;const u=new Map;for(const s of B)s instanceof n.Ref&&this.addNode(this.rootDict.xref.fetch(s),u)}addNode(w,i,F=0){if(F>e)return(0,l.warn)("StructTree MAX_DEPTH reached."),null;if(i.has(w))return i.get(w);const B=new z(this,w);i.set(w,B);const u=w.get("P");if(!u||(0,n.isName)(u.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(w,B)||i.delete(w),B;const s=this.addNode(u,i,F+1);if(!s)return B;let o=!1;for(const y of s.kids)y.type===t.ELEMENT&&y.dict===w&&(y.parentNode=B,o=!0);return o||i.delete(w),B}addTopLevelNode(w,i){const F=this.rootDict.get("K");if(!F)return!1;if(F instanceof n.Dict)return F.objId!==w.objId?!1:(this.nodes[0]=i,!0);if(!Array.isArray(F))return!0;let B=!1;for(let u=0;u<F.length;u++){const s=F[u];(s==null?void 0:s.toString())===w.objId&&(this.nodes[u]=i,B=!0)}return B}get serializable(){function w(F,B,u=0){if(u>e){(0,l.warn)("StructTree too deep to be fully serialized.");return}const s=Object.create(null);s.role=F.role,s.children=[],B.children.push(s);const o=F.dict.get("Alt");typeof o=="string"&&(s.alt=(0,l.stringToPDFString)(o));const y=F.dict.get("Lang");typeof y=="string"&&(s.lang=(0,l.stringToPDFString)(y));for(const r of F.kids){const f=r.type===t.ELEMENT?r.parentNode:null;if(f){w(f,s,u+1);continue}else r.type===t.PAGE_CONTENT||r.type===t.STREAM_CONTENT?s.children.push({type:"content",id:`p${r.pageObjId}_mc${r.mcid}`}):r.type===t.OBJECT&&s.children.push({type:"object",id:r.refObjId})}}const i=Object.create(null);i.children=[],i.role="Root";for(const F of this.nodes)F&&w(F,i);return i}}S.StructTreePage=I},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.ObjectLoader=void 0;var n=ee(4),l=ee(5),K=ee(3),e=ee(2);function t(G){return G instanceof n.Ref||G instanceof n.Dict||G instanceof l.BaseStream||Array.isArray(G)}function H(G,I){if(G instanceof n.Dict)G=G.getRawValues();else if(G instanceof l.BaseStream)G=G.dict.getRawValues();else if(!Array.isArray(G))return;for(const C of G)t(C)&&I.push(C)}class z{constructor(I,C,w){this.dict=I,this.keys=C,this.xref=w,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:I,dict:C}=this;this.refSet=new n.RefSet;const w=[];for(const i of I){const F=C.getRaw(i);F!==void 0&&w.push(F)}return this._walk(w)}async _walk(I){const C=[],w=[];for(;I.length;){let i=I.pop();if(i instanceof n.Ref){if(this.refSet.has(i))continue;try{this.refSet.put(i),i=this.xref.fetch(i)}catch(F){if(!(F instanceof K.MissingDataException)){(0,e.warn)(`ObjectLoader._walk - requesting all data: "${F}".`),this.refSet=null;const{manager:B}=this.xref.stream;return B.requestAllChunks()}C.push(i),w.push({begin:F.begin,end:F.end})}}if(i instanceof l.BaseStream){const F=i.getBaseStreams();if(F){let B=!1;for(const u of F)u.isDataLoaded||(B=!0,w.push({begin:u.start,end:u.end}));B&&C.push(i)}}H(i,I)}if(w.length){await this.xref.stream.manager.requestRanges(w);for(const i of C)i instanceof n.Ref&&this.refSet.remove(i);return this._walk(C)}this.refSet=null}}S.ObjectLoader=z},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.XFAFactory=void 0;var n=ee(78),l=ee(82),K=ee(88),e=ee(86),t=ee(79),H=ee(2),z=ee(89),G=ee(99);class I{constructor(w){try{this.root=new z.XFAParser().parse(I._createDocument(w));const i=new l.Binder(this.root);this.form=i.bind(),this.dataHandler=new K.DataHandler(this.root,i.getData()),this.form[n.$globalData].template=this.form}catch(i){(0,H.warn)(`XFA - an error occurred during parsing and binding: ${i}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const w=this.form[n.$toPages]();return new Promise((i,F)=>{const B=()=>{try{const u=w.next();u.done?i(u.value):setTimeout(B,0)}catch(u){F(u)}};setTimeout(B,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(w=>{const{width:i,height:F}=w.attributes.style;return[0,0,parseInt(i),parseInt(F)]})}catch(w){(0,H.warn)(`XFA - an error occurred during layout: ${w}`)}}getBoundingBox(w){return this.dims[w]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(w){this.form[n.$globalData].images=w}setFonts(w){this.form[n.$globalData].fontFinder=new e.FontFinder(w);const i=[];for(let F of this.form[n.$globalData].usedTypefaces)F=(0,t.stripQuotes)(F),this.form[n.$globalData].fontFinder.find(F)||i.push(F);return i.length>0?i:null}appendFonts(w,i){this.form[n.$globalData].fontFinder.add(w,i)}async getPages(){this.pages||await this._createPages();const w=this.pages;return this.pages=null,w}serializeData(w){return this.dataHandler.serialize(w)}static _createDocument(w){return w["/xdp:xdp"]?Object.values(w).join(""):w["xdp:xdp"]}static getRichTextAsHtml(w){if(!w||typeof w!="string")return null;try{let i=new z.XFAParser(G.XhtmlNamespace,!0).parse(w);if(!["body","xhtml"].includes(i[n.$nodeName])){const s=G.XhtmlNamespace.body({});s[n.$appendChild](i),i=s}const F=i[n.$toHTML]();if(!F.success)return null;const{html:B}=F,{attributes:u}=B;return u&&(u.class&&(u.class=u.class.filter(s=>!s.startsWith("xfa"))),u.dir="auto"),{html:B,str:i[n.$text]()}}catch(i){(0,H.warn)(`XFA - an error occurred during parsing of rich text: ${i}`)}return null}}S.XFAFactory=I},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.XmlObject=S.XFAObjectArray=S.XFAObject=S.XFAAttribute=S.StringObject=S.OptionObject=S.Option10=S.Option01=S.IntegerObject=S.ContentObject=S.$uid=S.$toStyle=S.$toString=S.$toPages=S.$toHTML=S.$text=S.$tabIndex=S.$setValue=S.$setSetAttributes=S.$setId=S.$searchNode=S.$root=S.$resolvePrototypes=S.$removeChild=S.$pushPara=S.$pushGlyphs=S.$popPara=S.$onText=S.$onChildCheck=S.$onChild=S.$nsAttributes=S.$nodeName=S.$namespaceId=S.$isUsable=S.$isTransparent=S.$isThereMoreWidth=S.$isSplittable=S.$isNsAgnostic=S.$isDescendent=S.$isDataValue=S.$isCDATAXml=S.$isBindable=S.$insertAt=S.$indexOf=S.$ids=S.$hasSettableValue=S.$globalData=S.$getTemplateRoot=S.$getSubformParent=S.$getRealChildrenByNameIt=S.$getParent=S.$getNextPage=S.$getExtra=S.$getDataValue=S.$getContainedChildren=S.$getChildrenByNameIt=S.$getChildrenByName=S.$getChildrenByClass=S.$getChildren=S.$getAvailableSpace=S.$getAttributes=S.$getAttributeIt=S.$flushHTML=S.$finalize=S.$extra=S.$dump=S.$data=S.$content=S.$consumed=S.$clone=S.$cleanup=S.$cleanPage=S.$clean=S.$childrenToHTML=S.$appendChild=S.$addHTML=S.$acceptWhitespace=void 0;var n=ee(79),l=ee(2),K=ee(3),e=ee(80),t=ee(81);const H=Symbol();S.$acceptWhitespace=H;const z=Symbol();S.$addHTML=z;const G=Symbol();S.$appendChild=G;const I=Symbol();S.$childrenToHTML=I;const C=Symbol();S.$clean=C;const w=Symbol();S.$cleanPage=w;const i=Symbol();S.$cleanup=i;const F=Symbol();S.$clone=F;const B=Symbol();S.$consumed=B;const u=Symbol("content");S.$content=u;const s=Symbol("data");S.$data=s;const o=Symbol();S.$dump=o;const y=Symbol("extra");S.$extra=y;const r=Symbol();S.$finalize=r;const f=Symbol();S.$flushHTML=f;const m=Symbol();S.$getAttributeIt=m;const P=Symbol();S.$getAttributes=P;const d=Symbol();S.$getAvailableSpace=d;const A=Symbol();S.$getChildrenByClass=A;const L=Symbol();S.$getChildrenByName=L;const h=Symbol();S.$getChildrenByNameIt=h;const g=Symbol();S.$getDataValue=g;const k=Symbol();S.$getExtra=k;const D=Symbol();S.$getRealChildrenByNameIt=D;const T=Symbol();S.$getChildren=T;const V=Symbol();S.$getContainedChildren=V;const q=Symbol();S.$getNextPage=q;const v=Symbol();S.$getSubformParent=v;const x=Symbol();S.$getParent=x;const E=Symbol();S.$getTemplateRoot=E;const U=Symbol();S.$globalData=U;const $=Symbol();S.$hasSettableValue=$;const Q=Symbol();S.$ids=Q;const ie=Symbol();S.$indexOf=ie;const j=Symbol();S.$insertAt=j;const X=Symbol();S.$isCDATAXml=X;const R=Symbol();S.$isBindable=R;const Z=Symbol();S.$isDataValue=Z;const N=Symbol();S.$isDescendent=N;const M=Symbol();S.$isNsAgnostic=M;const c=Symbol();S.$isSplittable=c;const _=Symbol();S.$isThereMoreWidth=_;const W=Symbol();S.$isTransparent=W;const Y=Symbol();S.$isUsable=Y;const J=Symbol(),ae=Symbol("namespaceId");S.$namespaceId=ae;const oe=Symbol("nodeName");S.$nodeName=oe;const he=Symbol();S.$nsAttributes=he;const ne=Symbol();S.$onChild=ne;const re=Symbol();S.$onChildCheck=re;const de=Symbol();S.$onText=de;const ue=Symbol();S.$pushGlyphs=ue;const ge=Symbol();S.$popPara=ge;const pe=Symbol();S.$pushPara=pe;const xe=Symbol();S.$removeChild=xe;const Ie=Symbol("root");S.$root=Ie;const Fe=Symbol();S.$resolvePrototypes=Fe;const Ae=Symbol();S.$searchNode=Ae;const we=Symbol();S.$setId=we;const be=Symbol();S.$setSetAttributes=be;const Ee=Symbol();S.$setValue=Ee;const _e=Symbol();S.$tabIndex=_e;const Re=Symbol();S.$text=Re;const Pe=Symbol();S.$toPages=Pe;const ve=Symbol();S.$toHTML=ve;const Te=Symbol();S.$toString=Te;const je=Symbol();S.$toStyle=je;const Ce=Symbol("uid");S.$uid=Ce;const ke=Symbol(),Le=Symbol(),Ge=Symbol(),Oe=Symbol("_children"),tt=Symbol(),Ye=Symbol(),et=Symbol(),Xe=Symbol(),Qe=Symbol(),it=Symbol(),qe=Symbol(),gt=Symbol(),mt=Symbol(),Ct=Symbol("parent"),Pt=Symbol(),st=Symbol(),dt=Symbol();let ot=0;const _t=e.NamespaceIds.datasets.id;class Mt{constructor(Se,De,$e=!1){this[ae]=Se,this[oe]=De,this[qe]=$e,this[Ct]=null,this[Oe]=[],this[Ce]=`${De}${ot++}`,this[U]=null}[ne](Se){if(!this[qe]||!this[re](Se))return!1;const De=Se[oe],$e=this[De];if($e instanceof Et){if($e.push(Se))return this[G](Se),!0}else return $e!==null&&this[xe]($e),this[De]=Se,this[G](Se),!0;let Ze="";return this.id?Ze=` (id: ${this.id})`:this.name&&(Ze=` (name: ${this.name} ${this.h.value})`),(0,l.warn)(`XFA - node "${this[oe]}"${Ze} has already enough "${De}"!`),!1}[re](Se){return this.hasOwnProperty(Se[oe])&&Se[ae]===this[ae]}[M](){return!1}[H](){return!1}[X](){return!1}[R](){return!1}[ge](){this.para&&this[E]()[y].paraStack.pop()}[pe](){this[E]()[y].paraStack.push(this.para)}[we](Se){this.id&&this[ae]===e.NamespaceIds.template.id&&Se.set(this.id,this)}[E](){return this[U].template}[c](){return!1}[_](){return!1}[G](Se){Se[Ct]=this,this[Oe].push(Se),!Se[U]&&this[U]&&(Se[U]=this[U])}[xe](Se){const De=this[Oe].indexOf(Se);this[Oe].splice(De,1)}[$](){return this.hasOwnProperty("value")}[Ee](Se){}[de](Se){}[r](){}[C](Se){delete this[qe],this[i]&&(Se.clean(this[i]),delete this[i])}[ie](Se){return this[Oe].indexOf(Se)}[j](Se,De){De[Ct]=this,this[Oe].splice(Se,0,De),!De[U]&&this[U]&&(De[U]=this[U])}[W](){return!this.name}[J](){return""}[Re](){return this[Oe].length===0?this[u]:this[Oe].map(Se=>Se[Re]()).join("")}get[Ge](){const Se=Object.getPrototypeOf(this);if(!Se._attributes){const De=Se._attributes=new Set;for(const $e of Object.getOwnPropertyNames(this)){if(this[$e]===null||this[$e]instanceof Mt||this[$e]instanceof Et)break;De.add($e)}}return(0,l.shadow)(this,Ge,Se._attributes)}[N](Se){let De=this;for(;De;){if(De===Se)return!0;De=De[x]()}return!1}[x](){return this[Ct]}[v](){return this[x]()}[T](Se=null){return Se?this[Se]:this[Oe]}[o](){const Se=Object.create(null);this[u]&&(Se.$content=this[u]);for(const De of Object.getOwnPropertyNames(this)){const $e=this[De];$e!==null&&($e instanceof Mt?Se[De]=$e[o]():$e instanceof Et?$e.isEmpty()||(Se[De]=$e.dump()):Se[De]=$e)}return Se}[je](){return null}[ve](){return n.HTMLResult.EMPTY}*[V](){for(const Se of this[T]())yield Se}*[Xe](Se,De){for(const $e of this[V]())if(!Se||De===Se.has($e[oe])){const Ze=this[d](),nt=$e[ve](Ze);nt.success||(this[y].failingNode=$e),yield nt}}[f](){return null}[z](Se,De){this[y].children.push(Se)}[d](){}[I]({filter:Se=null,include:De=!0}){if(!this[y].generator)this[y].generator=this[Xe](Se,De);else{const $e=this[d](),Ze=this[y].failingNode[ve]($e);if(!Ze.success)return Ze;Ze.html&&this[z](Ze.html,Ze.bbox),delete this[y].failingNode}for(;;){const $e=this[y].generator.next();if($e.done)break;const Ze=$e.value;if(!Ze.success)return Ze;Ze.html&&this[z](Ze.html,Ze.bbox)}return this[y].generator=null,n.HTMLResult.EMPTY}[be](Se){this[st]=new Set(Object.keys(Se))}[it](Se){const De=this[Ge],$e=this[st];return[...Se].filter(Ze=>De.has(Ze)&&!$e.has(Ze))}[Fe](Se,De=new Set){for(const $e of this[Oe])$e[Pt](Se,De)}[Pt](Se,De){const $e=this[Qe](Se,De);$e?this[ke]($e,Se,De):this[Fe](Se,De)}[Qe](Se,De){const{use:$e,usehref:Ze}=this;if(!$e&&!Ze)return null;let nt=null,pt=null,yt=null,lt=$e;if(Ze?(lt=Ze,Ze.startsWith("#som(")&&Ze.endsWith(")")?pt=Ze.slice(5,-1):Ze.startsWith(".#som(")&&Ze.endsWith(")")?pt=Ze.slice(6,-1):Ze.startsWith("#")?yt=Ze.slice(1):Ze.startsWith(".#")&&(yt=Ze.slice(2))):$e.startsWith("#")?yt=$e.slice(1):pt=$e,this.use=this.usehref="",yt?nt=Se.get(yt):(nt=(0,t.searchNode)(Se.get(Ie),this,pt,!0,!1),nt&&(nt=nt[0])),!nt)return(0,l.warn)(`XFA - Invalid prototype reference: ${lt}.`),null;if(nt[oe]!==this[oe])return(0,l.warn)(`XFA - Incompatible prototype: ${nt[oe]} !== ${this[oe]}.`),null;if(De.has(nt))return(0,l.warn)("XFA - Cycle detected in prototypes use."),null;De.add(nt);const At=nt[Qe](Se,De);return At&&nt[ke](At,Se,De),nt[Fe](Se,De),De.delete(nt),nt}[ke](Se,De,$e){if($e.has(Se)){(0,l.warn)("XFA - Cycle detected in prototypes use.");return}!this[u]&&Se[u]&&(this[u]=Se[u]),new Set($e).add(Se);for(const nt of this[it](Se[st]))this[nt]=Se[nt],this[st]&&this[st].add(nt);for(const nt of Object.getOwnPropertyNames(this)){if(this[Ge].has(nt))continue;const pt=this[nt],yt=Se[nt];if(pt instanceof Et){for(const lt of pt[Oe])lt[Pt](De,$e);for(let lt=pt[Oe].length,At=yt[Oe].length;lt<At;lt++){const ht=Se[Oe][lt][F]();if(pt.push(ht))ht[Ct]=this,this[Oe].push(ht),ht[Pt](De,$e);else break}continue}if(pt!==null){pt[Fe](De,$e),yt&&pt[ke](yt,De,$e);continue}if(yt!==null){const lt=yt[F]();lt[Ct]=this,this[nt]=lt,this[Oe].push(lt),lt[Pt](De,$e)}}}static[tt](Se){return Array.isArray(Se)?Se.map(De=>Mt[tt](De)):typeof Se=="object"&&Se!==null?Object.assign({},Se):Se}[F](){const Se=Object.create(Object.getPrototypeOf(this));for(const De of Object.getOwnPropertySymbols(this))try{Se[De]=this[De]}catch{(0,l.shadow)(Se,De,this[De])}Se[Ce]=`${Se[oe]}${ot++}`,Se[Oe]=[];for(const De of Object.getOwnPropertyNames(this)){if(this[Ge].has(De)){Se[De]=Mt[tt](this[De]);continue}const $e=this[De];$e instanceof Et?Se[De]=new Et($e[gt]):Se[De]=null}for(const De of this[Oe]){const $e=De[oe],Ze=De[F]();Se[Oe].push(Ze),Ze[Ct]=Se,Se[$e]===null?Se[$e]=Ze:Se[$e][Oe].push(Ze)}return Se}[T](Se=null){return Se?this[Oe].filter(De=>De[oe]===Se):this[Oe]}[A](Se){return this[Se]}[L](Se,De,$e=!0){return Array.from(this[h](Se,De,$e))}*[h](Se,De,$e=!0){if(Se==="parent"){yield this[Ct];return}for(const Ze of this[Oe])Ze[oe]===Se&&(yield Ze),Ze.name===Se&&(yield Ze),(De||Ze[W]())&&(yield*Ze[h](Se,De,!1));$e&&this[Ge].has(Se)&&(yield new St(this,Se,this[Se]))}}S.XFAObject=Mt;class Et{constructor(Se=1/0){this[gt]=Se,this[Oe]=[]}push(Se){return this[Oe].length<=this[gt]?(this[Oe].push(Se),!0):((0,l.warn)(`XFA - node "${Se[oe]}" accepts no more than ${this[gt]} children`),!1)}isEmpty(){return this[Oe].length===0}dump(){return this[Oe].length===1?this[Oe][0][o]():this[Oe].map(Se=>Se[o]())}[F](){const Se=new Et(this[gt]);return Se[Oe]=this[Oe].map(De=>De[F]()),Se}get children(){return this[Oe]}clear(){this[Oe].length=0}}S.XFAObjectArray=Et;class St{constructor(Se,De,$e){this[Ct]=Se,this[oe]=De,this[u]=$e,this[B]=!1,this[Ce]=`attribute${ot++}`}[x](){return this[Ct]}[Z](){return!0}[g](){return this[u].trim()}[Ee](Se){Se=Se.value||"",this[u]=Se.toString()}[Re](){return this[u]}[N](Se){return this[Ct]===Se||this[Ct][N](Se)}}S.XFAAttribute=St;class Lt extends Mt{constructor(Se,De,$e={}){if(super(Se,De),this[u]="",this[Ye]=null,De!=="#text"){const Ze=new Map;this[Le]=Ze;for(const[nt,pt]of Object.entries($e))Ze.set(nt,new St(this,nt,pt));if($e.hasOwnProperty(he)){const nt=$e[he].xfa.dataNode;nt!==void 0&&(nt==="dataGroup"?this[Ye]=!1:nt==="dataValue"&&(this[Ye]=!0))}}this[B]=!1}[Te](Se){const De=this[oe];if(De==="#text"){Se.push((0,K.encodeToXmlString)(this[u]));return}const $e=(0,l.utf8StringToString)(De),Ze=this[ae]===_t?"xfa:":"";Se.push(`<${Ze}${$e}`);for(const[nt,pt]of this[Le].entries()){const yt=(0,l.utf8StringToString)(nt);Se.push(` ${yt}="${(0,K.encodeToXmlString)(pt[u])}"`)}if(this[Ye]!==null&&(this[Ye]?Se.push(' xfa:dataNode="dataValue"'):Se.push(' xfa:dataNode="dataGroup"')),!this[u]&&this[Oe].length===0){Se.push("/>");return}if(Se.push(">"),this[u])typeof this[u]=="string"?Se.push((0,K.encodeToXmlString)(this[u])):this[u][Te](Se);else for(const nt of this[Oe])nt[Te](Se);Se.push(`</${Ze}${$e}>`)}[ne](Se){if(this[u]){const De=new Lt(this[ae],"#text");this[G](De),De[u]=this[u],this[u]=""}return this[G](Se),!0}[de](Se){this[u]+=Se}[r](){if(this[u]&&this[Oe].length>0){const Se=new Lt(this[ae],"#text");this[G](Se),Se[u]=this[u],delete this[u]}}[ve](){return this[oe]==="#text"?n.HTMLResult.success({name:"#text",value:this[u]}):n.HTMLResult.EMPTY}[T](Se=null){return Se?this[Oe].filter(De=>De[oe]===Se):this[Oe]}[P](){return this[Le]}[A](Se){const De=this[Le].get(Se);return De!==void 0?De:this[T](Se)}*[h](Se,De){const $e=this[Le].get(Se);$e&&(yield $e);for(const Ze of this[Oe])Ze[oe]===Se&&(yield Ze),De&&(yield*Ze[h](Se,De))}*[m](Se,De){const $e=this[Le].get(Se);$e&&(!De||!$e[B])&&(yield $e);for(const Ze of this[Oe])yield*Ze[m](Se,De)}*[D](Se,De,$e){for(const Ze of this[Oe])Ze[oe]===Se&&(!$e||!Ze[B])&&(yield Ze),De&&(yield*Ze[D](Se,De,$e))}[Z](){return this[Ye]===null?this[Oe].length===0||this[Oe][0][ae]===e.NamespaceIds.xhtml.id:this[Ye]}[g](){return this[Ye]===null?this[Oe].length===0?this[u].trim():this[Oe][0][ae]===e.NamespaceIds.xhtml.id?this[Oe][0][Re]().trim():null:this[u].trim()}[Ee](Se){Se=Se.value||"",this[u]=Se.toString()}[o](Se=!1){const De=Object.create(null);Se&&(De.$ns=this[ae]),this[u]&&(De.$content=this[u]),De.$name=this[oe],De.children=[];for(const $e of this[Oe])De.children.push($e[o](Se));De.attributes=Object.create(null);for(const[$e,Ze]of this[Le])De.attributes[$e]=Ze[u];return De}}S.XmlObject=Lt;class We extends Mt{constructor(Se,De){super(Se,De),this[u]=""}[de](Se){this[u]+=Se}[r](){}}S.ContentObject=We;class Ue extends We{constructor(Se,De,$e){super(Se,De),this[mt]=$e}[r](){this[u]=(0,n.getKeyword)({data:this[u],defaultValue:this[mt][0],validate:Se=>this[mt].includes(Se)})}[C](Se){super[C](Se),delete this[mt]}}S.OptionObject=Ue;class Je extends We{[r](){this[u]=this[u].trim()}}S.StringObject=Je;class Ve extends We{constructor(Se,De,$e,Ze){super(Se,De),this[et]=$e,this[dt]=Ze}[r](){this[u]=(0,n.getInteger)({data:this[u],defaultValue:this[et],validate:this[dt]})}[C](Se){super[C](Se),delete this[et],delete this[dt]}}S.IntegerObject=Ve;class at extends Ve{constructor(Se,De){super(Se,De,0,$e=>$e===1)}}S.Option01=at;class ft extends Ve{constructor(Se,De){super(Se,De,1,$e=>$e===0)}}S.Option10=ft},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.HTMLResult=void 0,S.getBBox=F,S.getColor=i,S.getFloat=H,S.getInteger=t,S.getKeyword=z,S.getMeasurement=I,S.getRatio=C,S.getRelevant=w,S.getStringOption=G,S.stripQuotes=e;var n=ee(2);const l={pt:u=>u,cm:u=>u/2.54*72,mm:u=>u/(10*2.54)*72,in:u=>u*72,px:u=>u},K=/([+-]?\d+\.?\d*)(.*)/;function e(u){return u.startsWith("'")||u.startsWith('"')?u.slice(1,-1):u}function t({data:u,defaultValue:s,validate:o}){if(!u)return s;u=u.trim();const y=parseInt(u,10);return!isNaN(y)&&o(y)?y:s}function H({data:u,defaultValue:s,validate:o}){if(!u)return s;u=u.trim();const y=parseFloat(u);return!isNaN(y)&&o(y)?y:s}function z({data:u,defaultValue:s,validate:o}){return u?(u=u.trim(),o(u)?u:s):s}function G(u,s){return z({data:u,defaultValue:s[0],validate:o=>s.includes(o)})}function I(u,s="0"){if(s||(s="0"),!u)return I(s);const o=u.trim().match(K);if(!o)return I(s);const[,y,r]=o,f=parseFloat(y);if(isNaN(f))return I(s);if(f===0)return 0;const m=l[r];return m?m(f):f}function C(u){if(!u)return{num:1,den:1};const s=u.trim().split(/\s*:\s*/).map(r=>parseFloat(r)).filter(r=>!isNaN(r));if(s.length===1&&s.push(1),s.length===0)return{num:1,den:1};const[o,y]=s;return{num:o,den:y}}function w(u){return u?u.trim().split(/\s+/).map(s=>({excluded:s[0]==="-",viewname:s.substring(1)})):[]}function i(u,s=[0,0,0]){let[o,y,r]=s;if(!u)return{r:o,g:y,b:r};const f=u.trim().split(/\s*,\s*/).map(m=>Math.min(Math.max(0,parseInt(m.trim(),10)),255)).map(m=>isNaN(m)?0:m);return f.length<3?{r:o,g:y,b:r}:([o,y,r]=f,{r:o,g:y,b:r})}function F(u){if(!u)return{x:-1,y:-1,width:-1,height:-1};const o=u.trim().split(/\s*,\s*/).map(P=>I(P,"-1"));if(o.length<4||o[2]<0||o[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[y,r,f,m]=o;return{x:y,y:r,width:f,height:m}}class B{static get FAILURE(){return(0,n.shadow)(this,"FAILURE",new B(!1,null,null,null))}static get EMPTY(){return(0,n.shadow)(this,"EMPTY",new B(!0,null,null,null))}constructor(s,o,y,r){this.success=s,this.html=o,this.bbox=y,this.breakNode=r}isBreak(){return!!this.breakNode}static breakNode(s){return new B(!1,null,null,s)}static success(s,o=null){return new B(!0,s,o,null)}}S.HTMLResult=B},(fe,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.NamespaceIds=S.$buildXFAObject=void 0;const ee=Symbol();S.$buildXFAObject=ee;const n={config:{id:0,check:l=>l.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:l=>l.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:l=>l.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:l=>l.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:l=>l.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:l=>l==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:l=>l==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:l=>l.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:l=>l==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:l=>l.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:l=>l.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:l=>l==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:l=>l==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:l=>l==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:l=>l==="http://ns.adobe.com/xmpmeta/"}};S.NamespaceIds=n},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.createDataNode=B,S.searchNode=i;var n=ee(78),l=ee(80),K=ee(2);const e=/^[^.[]+/,t=/^[^\]]+/,H={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},z=new Map([["$data",(u,s)=>u.datasets?u.datasets.data:u],["$record",(u,s)=>(u.datasets?u.datasets.data:u)[n.$getChildren]()[0]],["$template",(u,s)=>u.template],["$connectionSet",(u,s)=>u.connectionSet],["$form",(u,s)=>u.form],["$layout",(u,s)=>u.layout],["$host",(u,s)=>u.host],["$dataWindow",(u,s)=>u.dataWindow],["$event",(u,s)=>u.event],["!",(u,s)=>u.datasets],["$xfa",(u,s)=>u],["xfa",(u,s)=>u],["$",(u,s)=>s]]),G=new WeakMap,I=l.NamespaceIds.datasets.id;function C(u){return u=u.trim(),u==="*"?1/0:parseInt(u,10)||0}function w(u,s,o=!0){let y=u.match(e);if(!y)return null;let[r]=y;const f=[{name:r,cacheName:"."+r,index:0,js:null,formCalc:null,operator:H.dot}];let m=r.length;for(;m<u.length;){const P=m;if(u.charAt(m++)==="["){if(y=u.slice(m).match(t),!y)return(0,K.warn)("XFA - Invalid index in SOM expression"),null;f.at(-1).index=C(y[0]),m+=y[0].length+1;continue}let A;switch(u.charAt(m)){case".":if(!s)return null;m++,A=H.dotDot;break;case"#":m++,A=H.dotHash;break;case"[":if(o)return(0,K.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;A=H.dotBracket;break;case"(":if(o)return(0,K.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;A=H.dotParen;break;default:A=H.dot;break}if(y=u.slice(m).match(e),!y)break;[r]=y,m+=r.length,f.push({name:r,cacheName:u.slice(P,m),operator:A,index:0,js:null,formCalc:null})}return f}function i(u,s,o,y=!0,r=!0){const f=w(o,y);if(!f)return null;const m=z.get(f[0].name);let P=0,d;m?(d=!0,u=[m(u,s)],P=1):(d=s===null,u=[s||u]);for(let A=f.length;P<A;P++){const{name:L,cacheName:h,operator:g,index:k}=f[P],D=[];for(const T of u){if(!(T instanceof n.XFAObject))continue;let V,q;if(r&&(q=G.get(T),q||(q=new Map,G.set(T,q)),V=q.get(h)),!V){switch(g){case H.dot:V=T[n.$getChildrenByName](L,!1);break;case H.dotDot:V=T[n.$getChildrenByName](L,!0);break;case H.dotHash:V=T[n.$getChildrenByClass](L),V instanceof n.XFAObjectArray?V=V.children:V=[V];break}r&&q.set(h,V)}V.length>0&&D.push(V)}if(D.length===0&&!d&&P===0){if(s=s[n.$getParent](),!s)return null;P=-1,u=[s];continue}isFinite(k)?u=D.filter(T=>k<T.length).map(T=>T[k]):u=D.flat()}return u.length===0?null:u}function F(u,s){let o=null;for(const{name:y,index:r}of s){for(let f=0,m=isFinite(r)?r:0;f<=m;f++){const P=u[n.$namespaceId]===I?-1:u[n.$namespaceId];o=new n.XmlObject(P,y),u[n.$appendChild](o)}u=o}return o}function B(u,s,o){const y=w(o);if(!y||y.some(m=>m.operator===H.dotDot))return null;const r=z.get(y[0].name);let f=0;r?(u=r(u,s),f=1):u=s||u;for(let m=y.length;f<m;f++){const{name:P,operator:d,index:A}=y[f];if(!isFinite(A))return y[f].index=0,F(u,y.slice(f));let L;switch(d){case H.dot:L=u[n.$getChildrenByName](P,!1);break;case H.dotDot:L=u[n.$getChildrenByName](P,!0);break;case H.dotHash:L=u[n.$getChildrenByClass](P),L instanceof n.XFAObjectArray?L=L.children:L=[L];break}if(L.length===0)return F(u,y.slice(f));if(A<L.length){const h=L[A];if(!(h instanceof n.XFAObject))return(0,K.warn)("XFA - Cannot create a node."),null;u=h}else return y[f].index=A-L.length,F(u,y.slice(f))}return null}},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.Binder=void 0;var n=ee(78),l=ee(83),K=ee(81),e=ee(80),t=ee(2);const H=e.NamespaceIds.datasets.id;function z(I){const C=new l.Text({});return C[n.$content]=I,C}class G{constructor(C){var w;this.root=C,this.datasets=C.datasets,(w=C.datasets)!=null&&w.data?this.data=C.datasets.data:this.data=new n.XmlObject(e.NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[n.$getChildren]().length===0,this.root.form=this.form=C.template[n.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(C,w,i){var F,B;if(C[n.$data]=w,C[n.$hasSettableValue]())if(w[n.$isDataValue]()){const u=w[n.$getDataValue]();C[n.$setValue](z(u))}else if(C instanceof l.Field&&((B=(F=C.ui)==null?void 0:F.choiceList)==null?void 0:B.open)==="multiSelect"){const u=w[n.$getChildren]().map(s=>s[n.$content].trim()).join(`
`);C[n.$setValue](z(u))}else this._isConsumeData()&&(0,t.warn)("XFA - Nodes haven't the same type.");else!w[n.$isDataValue]()||this._isMatchTemplate()?this._bindElement(C,w):(0,t.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(C,w,i,F){if(!C)return null;let B,u;for(let s=0;s<3;s++){for(B=i[n.$getRealChildrenByNameIt](C,!1,!0);u=B.next().value,!!u;)if(w===u[n.$isDataValue]())return u;if(i[n.$namespaceId]===e.NamespaceIds.datasets.id&&i[n.$nodeName]==="data")break;i=i[n.$getParent]()}return F?(B=this.data[n.$getRealChildrenByNameIt](C,!0,!1),u=B.next().value,u||(B=this.data[n.$getAttributeIt](C,!0),u=B.next().value,u!=null&&u[n.$isDataValue]())?u:null):null}_setProperties(C,w){if(C.hasOwnProperty("setProperty"))for(const{ref:i,target:F,connection:B}of C.setProperty.children){if(B||!i)continue;const u=(0,K.searchNode)(this.root,w,i,!1,!1);if(!u){(0,t.warn)(`XFA - Invalid reference: ${i}.`);continue}const[s]=u;if(!s[n.$isDescendent](this.data)){(0,t.warn)("XFA - Invalid node: must be a data node.");continue}const o=(0,K.searchNode)(this.root,C,F,!1,!1);if(!o){(0,t.warn)(`XFA - Invalid target: ${F}.`);continue}const[y]=o;if(!y[n.$isDescendent](C)){(0,t.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const r=y[n.$getParent]();if(y instanceof l.SetProperty||r instanceof l.SetProperty){(0,t.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(y instanceof l.BindItems||r instanceof l.BindItems){(0,t.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const f=s[n.$text](),m=y[n.$nodeName];if(y instanceof n.XFAAttribute){const P=Object.create(null);P[m]=f;const d=Reflect.construct(Object.getPrototypeOf(r).constructor,[P]);r[m]=d[m];continue}if(!y.hasOwnProperty(n.$content)){(0,t.warn)("XFA - Invalid node to use in setProperty");continue}y[n.$data]=s,y[n.$content]=f,y[n.$finalize]()}}_bindItems(C,w){if(!C.hasOwnProperty("items")||!C.hasOwnProperty("bindItems")||C.bindItems.isEmpty())return;for(const B of C.items.children)C[n.$removeChild](B);C.items.clear();const i=new l.Items({}),F=new l.Items({});C[n.$appendChild](i),C.items.push(i),C[n.$appendChild](F),C.items.push(F);for(const{ref:B,labelRef:u,valueRef:s,connection:o}of C.bindItems.children){if(o||!B)continue;const y=(0,K.searchNode)(this.root,w,B,!1,!1);if(!y){(0,t.warn)(`XFA - Invalid reference: ${B}.`);continue}for(const r of y){if(!r[n.$isDescendent](this.datasets)){(0,t.warn)(`XFA - Invalid ref (${B}): must be a datasets child.`);continue}const f=(0,K.searchNode)(this.root,r,u,!0,!1);if(!f){(0,t.warn)(`XFA - Invalid label: ${u}.`);continue}const[m]=f;if(!m[n.$isDescendent](this.datasets)){(0,t.warn)("XFA - Invalid label: must be a datasets child.");continue}const P=(0,K.searchNode)(this.root,r,s,!0,!1);if(!P){(0,t.warn)(`XFA - Invalid value: ${s}.`);continue}const[d]=P;if(!d[n.$isDescendent](this.datasets)){(0,t.warn)("XFA - Invalid value: must be a datasets child.");continue}const A=z(m[n.$text]()),L=z(d[n.$text]());i[n.$appendChild](A),i.text.push(A),F[n.$appendChild](L),F.text.push(L)}}}_bindOccurrences(C,w,i){let F;if(w.length>1&&(F=C[n.$clone](),F[n.$removeChild](F.occur),F.occur=null),this._bindValue(C,w[0],i),this._setProperties(C,w[0]),this._bindItems(C,w[0]),w.length===1)return;const B=C[n.$getParent](),u=C[n.$nodeName],s=B[n.$indexOf](C);for(let o=1,y=w.length;o<y;o++){const r=w[o],f=F[n.$clone]();B[u].push(f),B[n.$insertAt](s+o,f),this._bindValue(f,r,i),this._setProperties(f,r),this._bindItems(f,r)}}_createOccurrences(C){if(!this.emptyMerge)return;const{occur:w}=C;if(!w||w.initial<=1)return;const i=C[n.$getParent](),F=C[n.$nodeName];if(!(i[F]instanceof n.XFAObjectArray))return;let B;C.name?B=i[F].children.filter(o=>o.name===C.name).length:B=i[F].children.length;const u=i[n.$indexOf](C)+1,s=w.initial-B;if(s){const o=C[n.$clone]();o[n.$removeChild](o.occur),o.occur=null,i[F].push(o),i[n.$insertAt](u,o);for(let y=1;y<s;y++){const r=o[n.$clone]();i[F].push(r),i[n.$insertAt](u+y,r)}}}_getOccurInfo(C){const{name:w,occur:i}=C;if(!i||!w)return[1,1];const F=i.max===-1?1/0:i.max;return[i.min,F]}_setAndBind(C,w){this._setProperties(C,w),this._bindItems(C,w),this._bindElement(C,w)}_bindElement(C,w){const i=[];this._createOccurrences(C);for(const F of C[n.$getChildren]()){if(F[n.$data])continue;if(this._mergeMode===void 0&&F[n.$nodeName]==="subform"){this._mergeMode=F.mergeMode==="consumeData";const f=w[n.$getChildren]();if(f.length>0)this._bindOccurrences(F,[f[0]],null);else if(this.emptyMerge){const m=w[n.$namespaceId]===H?-1:w[n.$namespaceId],P=F[n.$data]=new n.XmlObject(m,F.name||"root");w[n.$appendChild](P),this._bindElement(F,P)}continue}if(!F[n.$isBindable]())continue;let B=!1,u=null,s=null,o=null;if(F.bind){switch(F.bind.match){case"none":this._setAndBind(F,w);continue;case"global":B=!0;break;case"dataRef":if(!F.bind.ref){(0,t.warn)(`XFA - ref is empty in node ${F[n.$nodeName]}.`),this._setAndBind(F,w);continue}s=F.bind.ref;break}F.bind.picture&&(u=F.bind.picture[n.$content])}const[y,r]=this._getOccurInfo(F);if(s)if(o=(0,K.searchNode)(this.root,w,s,!0,!1),o===null){if(o=(0,K.createDataNode)(this.data,w,s),!o)continue;this._isConsumeData()&&(o[n.$consumed]=!0),this._setAndBind(F,o);continue}else this._isConsumeData()&&(o=o.filter(f=>!f[n.$consumed])),o.length>r?o=o.slice(0,r):o.length===0&&(o=null),o&&this._isConsumeData()&&o.forEach(f=>{f[n.$consumed]=!0});else{if(!F.name){this._setAndBind(F,w);continue}if(this._isConsumeData()){const f=[];for(;f.length<r;){const m=this._findDataByNameToConsume(F.name,F[n.$hasSettableValue](),w,B);if(!m)break;m[n.$consumed]=!0,f.push(m)}o=f.length>0?f:null}else{if(o=w[n.$getRealChildrenByNameIt](F.name,!1,this.emptyMerge).next().value,!o){if(y===0){i.push(F);continue}const f=w[n.$namespaceId]===H?-1:w[n.$namespaceId];o=F[n.$data]=new n.XmlObject(f,F.name),this.emptyMerge&&(o[n.$consumed]=!0),w[n.$appendChild](o),this._setAndBind(F,o);continue}this.emptyMerge&&(o[n.$consumed]=!0),o=[o]}}o?this._bindOccurrences(F,o,u):y>0?this._setAndBind(F,w):i.push(F)}i.forEach(F=>F[n.$getParent]()[n.$removeChild](F))}}S.Binder=G},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.Value=S.Text=S.TemplateNamespace=S.Template=S.SetProperty=S.Items=S.Field=S.BindItems=void 0;var n=ee(78),l=ee(80),K=ee(84),e=ee(85),t=ee(79),H=ee(2),z=ee(86),G=ee(3),I=ee(81);const C=l.NamespaceIds.template.id,w="http://www.w3.org/2000/svg",i=2,F=3,B=5e3,u=/^H(\d+)$/,s=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),o=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function y(Ne){if(!Ne||!Ne.border)return{w:0,h:0};const a=Ne.border[n.$getExtra]();return a?{w:a.widths[0]+a.widths[2]+a.insets[0]+a.insets[2],h:a.widths[1]+a.widths[3]+a.insets[1]+a.insets[3]}:{w:0,h:0}}function r(Ne){return Ne.margin&&(Ne.margin.topInset||Ne.margin.rightInset||Ne.margin.bottomInset||Ne.margin.leftInset)}function f(Ne,a){if(!Ne.value){const se=new cn({});Ne[n.$appendChild](se),Ne.value=se}Ne.value[n.$setValue](a)}function*m(Ne){for(const a of Ne[n.$getChildren]()){if(a instanceof pn){yield*a[n.$getContainedChildren]();continue}yield a}}function P(Ne){var a;return((a=Ne.validate)==null?void 0:a.nullTest)==="error"}function d(Ne){for(;Ne;){if(!Ne.traversal){Ne[n.$tabIndex]=Ne[n.$getParent]()[n.$tabIndex];return}if(Ne[n.$tabIndex])return;let a=null;for(const He of Ne.traversal[n.$getChildren]())if(He.operation==="next"){a=He;break}if(!a||!a.ref){Ne[n.$tabIndex]=Ne[n.$getParent]()[n.$tabIndex];return}const se=Ne[n.$getTemplateRoot]();Ne[n.$tabIndex]=++se[n.$tabIndex];const Me=se[n.$searchNode](a.ref,Ne);if(!Me)return;Ne=Me[0]}}function A(Ne,a){var Me;const se=Ne.assist;if(se){const He=se[n.$toHTML]();He&&(a.title=He);const ut=se.role.match(u);if(ut){const xt="heading",bt=ut[1];a.role=xt,a["aria-level"]=bt}}if(Ne.layout==="table")a.role="table";else if(Ne.layout==="row")a.role="row";else{const He=Ne[n.$getParent]();He.layout==="row"&&(((Me=He.assist)==null?void 0:Me.role)==="TH"?a.role="columnheader":a.role="cell")}}function L(Ne){if(!Ne.assist)return null;const a=Ne.assist;return a.speak&&a.speak[n.$content]!==""?a.speak[n.$content]:a.toolTip?a.toolTip[n.$content]:null}function h(Ne){return t.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:Ne}]})}function g(Ne){const a=Ne[n.$getTemplateRoot]();a[n.$extra].firstUnsplittable===null&&(a[n.$extra].firstUnsplittable=Ne,a[n.$extra].noLayoutFailure=!0)}function k(Ne){const a=Ne[n.$getTemplateRoot]();a[n.$extra].firstUnsplittable===Ne&&(a[n.$extra].noLayoutFailure=!1)}function D(Ne){if(Ne[n.$extra]||(Ne[n.$extra]=Object.create(null),Ne.targetType==="auto"))return!1;const a=Ne[n.$getTemplateRoot]();let se=null;if(Ne.target){if(se=a[n.$searchNode](Ne.target,Ne[n.$getParent]()),!se)return!1;se=se[0]}const{currentPageArea:Me,currentContentArea:He}=a[n.$extra];if(Ne.targetType==="pageArea")return se instanceof Ze||(se=null),Ne.startNew?(Ne[n.$extra].target=se||Me,!0):se&&se!==Me?(Ne[n.$extra].target=se,!0):!1;se instanceof ne||(se=null);const Ke=se&&se[n.$getParent]();let ut,xt=Ke;if(Ne.startNew)if(se){const bt=Ke.contentArea.children,Tt=bt.indexOf(He),Dt=bt.indexOf(se);Tt!==-1&&Tt<Dt&&(xt=null),ut=Dt-1}else ut=Me.contentArea.children.indexOf(He);else if(se&&se!==He)ut=Ke.contentArea.children.indexOf(se)-1,xt=Ke===Me?null:Ke;else return!1;return Ne[n.$extra].target=xt,Ne[n.$extra].index=ut,!0}function T(Ne,a,se){const Me=Ne[n.$getTemplateRoot](),He=Me[n.$extra].noLayoutFailure,Ke=a[n.$getSubformParent];a[n.$getSubformParent]=()=>Ne,Me[n.$extra].noLayoutFailure=!0;const ut=a[n.$toHTML](se);Ne[n.$addHTML](ut.html,ut.bbox),Me[n.$extra].noLayoutFailure=He,a[n.$getSubformParent]=Ke}class V extends n.StringObject{constructor(a){super(C,"appearanceFilter"),this.id=a.id||"",this.type=(0,t.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||""}}class q extends n.XFAObject{constructor(a){super(C,"arc",!0),this.circular=(0,t.getInteger)({data:a.circular,defaultValue:0,validate:se=>se===1}),this.hand=(0,t.getStringOption)(a.hand,["even","left","right"]),this.id=a.id||"",this.startAngle=(0,t.getFloat)({data:a.startAngle,defaultValue:0,validate:se=>!0}),this.sweepAngle=(0,t.getFloat)({data:a.sweepAngle,defaultValue:360,validate:se=>!0}),this.use=a.use||"",this.usehref=a.usehref||"",this.edge=null,this.fill=null}[n.$toHTML](){var bt;const a=this.edge||new be({}),se=a[n.$toStyle](),Me=Object.create(null);((bt=this.fill)==null?void 0:bt.presence)==="visible"?Object.assign(Me,this.fill[n.$toStyle]()):Me.fill="transparent",Me.strokeWidth=(0,e.measureToString)(a.presence==="visible"?a.thickness:0),Me.stroke=se.color;let He;const Ke={xmlns:w,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)He={name:"ellipse",attributes:{xmlns:w,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:Me}};else{const Tt=this.startAngle*Math.PI/180,Dt=this.sweepAngle*Math.PI/180,$t=this.sweepAngle>180?1:0,[jt,Ht,zt,Ot]=[50*(1+Math.cos(Tt)),50*(1-Math.sin(Tt)),50*(1+Math.cos(Tt+Dt)),50*(1-Math.sin(Tt+Dt))];He={name:"path",attributes:{xmlns:w,d:`M ${jt} ${Ht} A 50 50 0 ${$t} 0 ${zt} ${Ot}`,vectorEffect:"non-scaling-stroke",style:Me}},Object.assign(Ke,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const ut={name:"svg",children:[He],attributes:Ke},xt=this[n.$getParent]()[n.$getParent]();return r(xt)?t.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[ut]}):(ut.attributes.style.position="absolute",t.HTMLResult.success(ut))}}class v extends n.XFAObject{constructor(a){super(C,"area",!0),this.colSpan=(0,t.getInteger)({data:a.colSpan,defaultValue:1,validate:se=>se>=1||se===-1}),this.id=a.id||"",this.name=a.name||"",this.relevant=(0,t.getRelevant)(a.relevant),this.use=a.use||"",this.usehref=a.usehref||"",this.x=(0,t.getMeasurement)(a.x,"0pt"),this.y=(0,t.getMeasurement)(a.y,"0pt"),this.desc=null,this.extras=null,this.area=new n.XFAObjectArray,this.draw=new n.XFAObjectArray,this.exObject=new n.XFAObjectArray,this.exclGroup=new n.XFAObjectArray,this.field=new n.XFAObjectArray,this.subform=new n.XFAObjectArray,this.subformSet=new n.XFAObjectArray}*[n.$getContainedChildren](){yield*m(this)}[n.$isTransparent](){return!0}[n.$isBindable](){return!0}[n.$addHTML](a,se){const[Me,He,Ke,ut]=se;this[n.$extra].width=Math.max(this[n.$extra].width,Me+Ke),this[n.$extra].height=Math.max(this[n.$extra].height,He+ut),this[n.$extra].children.push(a)}[n.$getAvailableSpace](){return this[n.$extra].availableSpace}[n.$toHTML](a){const se=(0,e.toStyle)(this,"position"),Me={style:se,id:this[n.$uid],class:["xfaArea"]};(0,e.isPrintOnly)(this)&&Me.class.push("xfaPrintOnly"),this.name&&(Me.xfaName=this.name);const He=[];this[n.$extra]={children:He,width:0,height:0,availableSpace:a};const Ke=this[n.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!Ke.success)return Ke.isBreak()?Ke:(delete this[n.$extra],t.HTMLResult.FAILURE);se.width=(0,e.measureToString)(this[n.$extra].width),se.height=(0,e.measureToString)(this[n.$extra].height);const ut={name:"div",attributes:Me,children:He},xt=[this.x,this.y,this[n.$extra].width,this[n.$extra].height];return delete this[n.$extra],t.HTMLResult.success(ut,xt)}}class x extends n.XFAObject{constructor(a){super(C,"assist",!0),this.id=a.id||"",this.role=a.role||"",this.use=a.use||"",this.usehref=a.usehref||"",this.speak=null,this.toolTip=null}[n.$toHTML](){var a;return((a=this.toolTip)==null?void 0:a[n.$content])||null}}class E extends n.XFAObject{constructor(a){super(C,"barcode",!0),this.charEncoding=(0,t.getKeyword)({data:a.charEncoding?a.charEncoding.toLowerCase():"",defaultValue:"",validate:se=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(se)||se.match(/iso-8859-\d{2}/)}),this.checksum=(0,t.getStringOption)(a.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,t.getInteger)({data:a.dataColumnCount,defaultValue:-1,validate:se=>se>=0}),this.dataLength=(0,t.getInteger)({data:a.dataLength,defaultValue:-1,validate:se=>se>=0}),this.dataPrep=(0,t.getStringOption)(a.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,t.getInteger)({data:a.dataRowCount,defaultValue:-1,validate:se=>se>=0}),this.endChar=a.endChar||"",this.errorCorrectionLevel=(0,t.getInteger)({data:a.errorCorrectionLevel,defaultValue:-1,validate:se=>se>=0&&se<=8}),this.id=a.id||"",this.moduleHeight=(0,t.getMeasurement)(a.moduleHeight,"5mm"),this.moduleWidth=(0,t.getMeasurement)(a.moduleWidth,"0.25mm"),this.printCheckDigit=(0,t.getInteger)({data:a.printCheckDigit,defaultValue:0,validate:se=>se===1}),this.rowColumnRatio=(0,t.getRatio)(a.rowColumnRatio),this.startChar=a.startChar||"",this.textLocation=(0,t.getStringOption)(a.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,t.getInteger)({data:a.truncate,defaultValue:0,validate:se=>se===1}),this.type=(0,t.getStringOption)(a.type?a.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,t.getStringOption)(a.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=a.use||"",this.usehref=a.usehref||"",this.wideNarrowRatio=(0,t.getRatio)(a.wideNarrowRatio),this.encrypt=null,this.extras=null}}class U extends n.XFAObject{constructor(a){super(C,"bind",!0),this.match=(0,t.getStringOption)(a.match,["once","dataRef","global","none"]),this.ref=a.ref||"",this.picture=null}}class $ extends n.XFAObject{constructor(a){super(C,"bindItems"),this.connection=a.connection||"",this.labelRef=a.labelRef||"",this.ref=a.ref||"",this.valueRef=a.valueRef||""}}S.BindItems=$;class Q extends n.XFAObject{constructor(a){super(C,"bookend"),this.id=a.id||"",this.leader=a.leader||"",this.trailer=a.trailer||"",this.use=a.use||"",this.usehref=a.usehref||""}}class ie extends n.Option01{constructor(a){super(C,"boolean"),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||""}[n.$toHTML](a){return h(this[n.$content]===1?"1":"0")}}class j extends n.XFAObject{constructor(a){super(C,"border",!0),this.break=(0,t.getStringOption)(a.break,["close","open"]),this.hand=(0,t.getStringOption)(a.hand,["even","left","right"]),this.id=a.id||"",this.presence=(0,t.getStringOption)(a.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,t.getRelevant)(a.relevant),this.use=a.use||"",this.usehref=a.usehref||"",this.corner=new n.XFAObjectArray(4),this.edge=new n.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[n.$getExtra](){if(!this[n.$extra]){const a=this.edge.children.slice();if(a.length<4){const He=a.at(-1)||new be({});for(let Ke=a.length;Ke<4;Ke++)a.push(He)}const se=a.map(He=>He.thickness),Me=[0,0,0,0];this.margin&&(Me[0]=this.margin.topInset,Me[1]=this.margin.rightInset,Me[2]=this.margin.bottomInset,Me[3]=this.margin.leftInset),this[n.$extra]={widths:se,insets:Me,edges:a}}return this[n.$extra]}[n.$toStyle](){var He;const{edges:a}=this[n.$getExtra](),se=a.map(Ke=>{const ut=Ke[n.$toStyle]();return ut.color||(ut.color="#000000"),ut}),Me=Object.create(null);if(this.margin&&Object.assign(Me,this.margin[n.$toStyle]()),((He=this.fill)==null?void 0:He.presence)==="visible"&&Object.assign(Me,this.fill[n.$toStyle]()),this.corner.children.some(Ke=>Ke.radius!==0)){const Ke=this.corner.children.map(ut=>ut[n.$toStyle]());if(Ke.length===2||Ke.length===3){const ut=Ke.at(-1);for(let xt=Ke.length;xt<4;xt++)Ke.push(ut)}Me.borderRadius=Ke.map(ut=>ut.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":Me.borderStyle="";break;case"inactive":Me.borderStyle="none";break;default:Me.borderStyle=se.map(Ke=>Ke.style).join(" ");break}return Me.borderWidth=se.map(Ke=>Ke.width).join(" "),Me.borderColor=se.map(Ke=>Ke.color).join(" "),Me}}class X extends n.XFAObject{constructor(a){super(C,"break",!0),this.after=(0,t.getStringOption)(a.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=a.afterTarget||"",this.before=(0,t.getStringOption)(a.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=a.beforeTarget||"",this.bookendLeader=a.bookendLeader||"",this.bookendTrailer=a.bookendTrailer||"",this.id=a.id||"",this.overflowLeader=a.overflowLeader||"",this.overflowTarget=a.overflowTarget||"",this.overflowTrailer=a.overflowTrailer||"",this.startNew=(0,t.getInteger)({data:a.startNew,defaultValue:0,validate:se=>se===1}),this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null}}class R extends n.XFAObject{constructor(a){super(C,"breakAfter",!0),this.id=a.id||"",this.leader=a.leader||"",this.startNew=(0,t.getInteger)({data:a.startNew,defaultValue:0,validate:se=>se===1}),this.target=a.target||"",this.targetType=(0,t.getStringOption)(a.targetType,["auto","contentArea","pageArea"]),this.trailer=a.trailer||"",this.use=a.use||"",this.usehref=a.usehref||"",this.script=null}}class Z extends n.XFAObject{constructor(a){super(C,"breakBefore",!0),this.id=a.id||"",this.leader=a.leader||"",this.startNew=(0,t.getInteger)({data:a.startNew,defaultValue:0,validate:se=>se===1}),this.target=a.target||"",this.targetType=(0,t.getStringOption)(a.targetType,["auto","contentArea","pageArea"]),this.trailer=a.trailer||"",this.use=a.use||"",this.usehref=a.usehref||"",this.script=null}[n.$toHTML](a){return this[n.$extra]={},t.HTMLResult.FAILURE}}class N extends n.XFAObject{constructor(a){super(C,"button",!0),this.highlight=(0,t.getStringOption)(a.highlight,["inverted","none","outline","push"]),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null}[n.$toHTML](a){const Me=this[n.$getParent]()[n.$getParent](),He={name:"button",attributes:{id:this[n.$uid],class:["xfaButton"],style:{}},children:[]};for(const Ke of Me.event.children){if(Ke.activity!=="click"||!Ke.script)continue;const ut=(0,G.recoverJsURL)(Ke.script[n.$content]);if(!ut)continue;const xt=(0,e.fixURL)(ut.url);xt&&He.children.push({name:"a",attributes:{id:"link"+this[n.$uid],href:xt,newWindow:ut.newWindow,class:["xfaLink"],style:{}},children:[]})}return t.HTMLResult.success(He)}}class M extends n.XFAObject{constructor(a){super(C,"calculate",!0),this.id=a.id||"",this.override=(0,t.getStringOption)(a.override,["disabled","error","ignore","warning"]),this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null,this.message=null,this.script=null}}class c extends n.XFAObject{constructor(a){super(C,"caption",!0),this.id=a.id||"",this.placement=(0,t.getStringOption)(a.placement,["left","bottom","inline","right","top"]),this.presence=(0,t.getStringOption)(a.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,t.getMeasurement)(a.reserve)),this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[n.$setValue](a){f(this,a)}[n.$getExtra](a){if(!this[n.$extra]){let{width:se,height:Me}=a;switch(this.placement){case"left":case"right":case"inline":se=this.reserve<=0?se:this.reserve;break;case"top":case"bottom":Me=this.reserve<=0?Me:this.reserve;break}this[n.$extra]=(0,e.layoutNode)(this,{width:se,height:Me})}return this[n.$extra]}[n.$toHTML](a){if(!this.value)return t.HTMLResult.EMPTY;this[n.$pushPara]();const se=this.value[n.$toHTML](a).html;if(!se)return this[n.$popPara](),t.HTMLResult.EMPTY;const Me=this.reserve;if(this.reserve<=0){const{w:ut,h:xt}=this[n.$getExtra](a);switch(this.placement){case"left":case"right":case"inline":this.reserve=ut;break;case"top":case"bottom":this.reserve=xt;break}}const He=[];typeof se=="string"?He.push({name:"#text",value:se}):He.push(se);const Ke=(0,e.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(Ke.width=(0,e.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(Ke.height=(0,e.measureToString)(this.reserve));break}return(0,e.setPara)(this,null,se),this[n.$popPara](),this.reserve=Me,t.HTMLResult.success({name:"div",attributes:{style:Ke,class:["xfaCaption"]},children:He})}}class _ extends n.StringObject{constructor(a){super(C,"certificate"),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||""}}class W extends n.XFAObject{constructor(a){super(C,"certificates",!0),this.credentialServerPolicy=(0,t.getStringOption)(a.credentialServerPolicy,["optional","required"]),this.id=a.id||"",this.url=a.url||"",this.urlPolicy=a.urlPolicy||"",this.use=a.use||"",this.usehref=a.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class Y extends n.XFAObject{constructor(a){super(C,"checkButton",!0),this.id=a.id||"",this.mark=(0,t.getStringOption)(a.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,t.getStringOption)(a.shape,["square","round"]),this.size=(0,t.getMeasurement)(a.size,"10pt"),this.use=a.use||"",this.usehref=a.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](a){var Wt,Xt,Yt;const se=(0,e.toStyle)("margin"),Me=(0,e.measureToString)(this.size);se.width=se.height=Me;let He,Ke,ut;const xt=this[n.$getParent]()[n.$getParent](),bt=xt.items.children.length&&xt.items.children[0][n.$toHTML]().html||[],Tt={on:(bt[0]!==void 0?bt[0]:"on").toString(),off:(bt[1]!==void 0?bt[1]:"off").toString()},$t=(((Wt=xt.value)==null?void 0:Wt[n.$text]())||"off")===Tt.on||void 0,jt=xt[n.$getSubformParent](),Ht=xt[n.$uid];let zt;jt instanceof Ge?(ut=jt[n.$uid],He="radio",Ke="xfaRadio",zt=((Xt=jt[n.$data])==null?void 0:Xt[n.$uid])||jt[n.$uid]):(He="checkbox",Ke="xfaCheckbox",zt=((Yt=xt[n.$data])==null?void 0:Yt[n.$uid])||xt[n.$uid]);const Ot={name:"input",attributes:{class:[Ke],style:se,fieldId:Ht,dataId:zt,type:He,checked:$t,xfaOn:Tt.on,xfaOff:Tt.off,"aria-label":L(xt),"aria-required":!1}};return ut&&(Ot.attributes.name=ut),P(xt)&&(Ot.attributes["aria-required"]=!0,Ot.attributes.required=!0),t.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Ot]})}}class J extends n.XFAObject{constructor(a){super(C,"choiceList",!0),this.commitOn=(0,t.getStringOption)(a.commitOn,["select","exit"]),this.id=a.id||"",this.open=(0,t.getStringOption)(a.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,t.getInteger)({data:a.textEntry,defaultValue:0,validate:se=>se===1}),this.use=a.use||"",this.usehref=a.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](a){var Tt,Dt,$t;const se=(0,e.toStyle)(this,"border","margin"),He=this[n.$getParent]()[n.$getParent](),ut={fontSize:`calc(${((Tt=He.font)==null?void 0:Tt.size)||10}px * var(--scale-factor))`},xt=[];if(He.items.children.length>0){const jt=He.items;let Ht=0,zt=0;jt.children.length===2&&(Ht=jt.children[0].save,zt=1-Ht);const Ot=jt.children[Ht][n.$toHTML]().html,Wt=jt.children[zt][n.$toHTML]().html;let Xt=!1;const Yt=((Dt=He.value)==null?void 0:Dt[n.$text]())||"";for(let qt=0,Nt=Ot.length;qt<Nt;qt++){const wt={name:"option",attributes:{value:Wt[qt]||Ot[qt],style:ut},value:Ot[qt]};Wt[qt]===Yt&&(wt.attributes.selected=Xt=!0),xt.push(wt)}Xt||xt.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const bt={class:["xfaSelect"],fieldId:He[n.$uid],dataId:(($t=He[n.$data])==null?void 0:$t[n.$uid])||He[n.$uid],style:se,"aria-label":L(He),"aria-required":!1};return P(He)&&(bt["aria-required"]=!0,bt.required=!0),this.open==="multiSelect"&&(bt.multiple=!0),t.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:xt,attributes:bt}]})}}class ae extends n.XFAObject{constructor(a){super(C,"color",!0),this.cSpace=(0,t.getStringOption)(a.cSpace,["SRGB"]),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.value=a.value?(0,t.getColor)(a.value):"",this.extras=null}[n.$hasSettableValue](){return!1}[n.$toStyle](){return this.value?H.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class oe extends n.XFAObject{constructor(a){super(C,"comb"),this.id=a.id||"",this.numberOfCells=(0,t.getInteger)({data:a.numberOfCells,defaultValue:0,validate:se=>se>=0}),this.use=a.use||"",this.usehref=a.usehref||""}}class he extends n.XFAObject{constructor(a){super(C,"connect",!0),this.connection=a.connection||"",this.id=a.id||"",this.ref=a.ref||"",this.usage=(0,t.getStringOption)(a.usage,["exportAndImport","exportOnly","importOnly"]),this.use=a.use||"",this.usehref=a.usehref||"",this.picture=null}}class ne extends n.XFAObject{constructor(a){super(C,"contentArea",!0),this.h=(0,t.getMeasurement)(a.h),this.id=a.id||"",this.name=a.name||"",this.relevant=(0,t.getRelevant)(a.relevant),this.use=a.use||"",this.usehref=a.usehref||"",this.w=(0,t.getMeasurement)(a.w),this.x=(0,t.getMeasurement)(a.x,"0pt"),this.y=(0,t.getMeasurement)(a.y,"0pt"),this.desc=null,this.extras=null}[n.$toHTML](a){const se=(0,e.measureToString)(this.x),Me=(0,e.measureToString)(this.y),He={left:se,top:Me,width:(0,e.measureToString)(this.w),height:(0,e.measureToString)(this.h)},Ke=["xfaContentarea"];return(0,e.isPrintOnly)(this)&&Ke.push("xfaPrintOnly"),t.HTMLResult.success({name:"div",children:[],attributes:{style:He,class:Ke,id:this[n.$uid]}})}}class re extends n.XFAObject{constructor(a){super(C,"corner",!0),this.id=a.id||"",this.inverted=(0,t.getInteger)({data:a.inverted,defaultValue:0,validate:se=>se===1}),this.join=(0,t.getStringOption)(a.join,["square","round"]),this.presence=(0,t.getStringOption)(a.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,t.getMeasurement)(a.radius),this.stroke=(0,t.getStringOption)(a.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,t.getMeasurement)(a.thickness,"0.5pt"),this.use=a.use||"",this.usehref=a.usehref||"",this.color=null,this.extras=null}[n.$toStyle](){const a=(0,e.toStyle)(this,"visibility");return a.radius=(0,e.measureToString)(this.join==="square"?0:this.radius),a}}class de extends n.ContentObject{constructor(a){super(C,"date"),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||""}[n.$finalize](){const a=this[n.$content].trim();this[n.$content]=a?new Date(a):null}[n.$toHTML](a){return h(this[n.$content]?this[n.$content].toString():"")}}class ue extends n.ContentObject{constructor(a){super(C,"dateTime"),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||""}[n.$finalize](){const a=this[n.$content].trim();this[n.$content]=a?new Date(a):null}[n.$toHTML](a){return h(this[n.$content]?this[n.$content].toString():"")}}class ge extends n.XFAObject{constructor(a){super(C,"dateTimeEdit",!0),this.hScrollPolicy=(0,t.getStringOption)(a.hScrollPolicy,["auto","off","on"]),this.id=a.id||"",this.picker=(0,t.getStringOption)(a.picker,["host","none"]),this.use=a.use||"",this.usehref=a.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](a){var Ke;const se=(0,e.toStyle)(this,"border","font","margin"),Me=this[n.$getParent]()[n.$getParent](),He={name:"input",attributes:{type:"text",fieldId:Me[n.$uid],dataId:((Ke=Me[n.$data])==null?void 0:Ke[n.$uid])||Me[n.$uid],class:["xfaTextfield"],style:se,"aria-label":L(Me),"aria-required":!1}};return P(Me)&&(He.attributes["aria-required"]=!0,He.attributes.required=!0),t.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[He]})}}class pe extends n.ContentObject{constructor(a){super(C,"decimal"),this.fracDigits=(0,t.getInteger)({data:a.fracDigits,defaultValue:2,validate:se=>!0}),this.id=a.id||"",this.leadDigits=(0,t.getInteger)({data:a.leadDigits,defaultValue:-1,validate:se=>!0}),this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||""}[n.$finalize](){const a=parseFloat(this[n.$content].trim());this[n.$content]=isNaN(a)?null:a}[n.$toHTML](a){return h(this[n.$content]!==null?this[n.$content].toString():"")}}class xe extends n.XFAObject{constructor(a){super(C,"defaultUi",!0),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null}}class Ie extends n.XFAObject{constructor(a){super(C,"desc",!0),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.boolean=new n.XFAObjectArray,this.date=new n.XFAObjectArray,this.dateTime=new n.XFAObjectArray,this.decimal=new n.XFAObjectArray,this.exData=new n.XFAObjectArray,this.float=new n.XFAObjectArray,this.image=new n.XFAObjectArray,this.integer=new n.XFAObjectArray,this.text=new n.XFAObjectArray,this.time=new n.XFAObjectArray}}class Fe extends n.OptionObject{constructor(a){super(C,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||""}}class Ae extends n.XFAObject{constructor(a){super(C,"digestMethods",!0),this.id=a.id||"",this.type=(0,t.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||"",this.digestMethod=new n.XFAObjectArray}}class we extends n.XFAObject{constructor(a){super(C,"draw",!0),this.anchorType=(0,t.getStringOption)(a.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,t.getInteger)({data:a.colSpan,defaultValue:1,validate:se=>se>=1||se===-1}),this.h=a.h?(0,t.getMeasurement)(a.h):"",this.hAlign=(0,t.getStringOption)(a.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=a.id||"",this.locale=a.locale||"",this.maxH=(0,t.getMeasurement)(a.maxH,"0pt"),this.maxW=(0,t.getMeasurement)(a.maxW,"0pt"),this.minH=(0,t.getMeasurement)(a.minH,"0pt"),this.minW=(0,t.getMeasurement)(a.minW,"0pt"),this.name=a.name||"",this.presence=(0,t.getStringOption)(a.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,t.getRelevant)(a.relevant),this.rotate=(0,t.getInteger)({data:a.rotate,defaultValue:0,validate:se=>se%90===0}),this.use=a.use||"",this.usehref=a.usehref||"",this.w=a.w?(0,t.getMeasurement)(a.w):"",this.x=(0,t.getMeasurement)(a.x,"0pt"),this.y=(0,t.getMeasurement)(a.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new n.XFAObjectArray}[n.$setValue](a){f(this,a)}[n.$toHTML](a){if(d(this),this.presence==="hidden"||this.presence==="inactive")return t.HTMLResult.EMPTY;(0,e.fixDimensions)(this),this[n.$pushPara]();const se=this.w,Me=this.h,{w:He,h:Ke,isBroken:ut}=(0,e.layoutNode)(this,a);if(He&&this.w===""){if(ut&&this[n.$getSubformParent]()[n.$isThereMoreWidth]())return this[n.$popPara](),t.HTMLResult.FAILURE;this.w=He}if(Ke&&this.h===""&&(this.h=Ke),g(this),!(0,K.checkDimensions)(this,a))return this.w=se,this.h=Me,this[n.$popPara](),t.HTMLResult.FAILURE;k(this);const xt=(0,e.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,e.setMinMaxDimensions)(this,xt),xt.margin&&(xt.padding=xt.margin,delete xt.margin);const bt=["xfaDraw"];this.font&&bt.push("xfaFont"),(0,e.isPrintOnly)(this)&&bt.push("xfaPrintOnly");const Tt={style:xt,id:this[n.$uid],class:bt};this.name&&(Tt.xfaName=this.name);const Dt={name:"div",attributes:Tt,children:[]};A(this,Tt);const $t=(0,e.computeBbox)(this,Dt,a),jt=this.value?this.value[n.$toHTML](a).html:null;return jt===null?(this.w=se,this.h=Me,this[n.$popPara](),t.HTMLResult.success((0,e.createWrapper)(this,Dt),$t)):(Dt.children.push(jt),(0,e.setPara)(this,xt,jt),this.w=se,this.h=Me,this[n.$popPara](),t.HTMLResult.success((0,e.createWrapper)(this,Dt),$t))}}class be extends n.XFAObject{constructor(a){super(C,"edge",!0),this.cap=(0,t.getStringOption)(a.cap,["square","butt","round"]),this.id=a.id||"",this.presence=(0,t.getStringOption)(a.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,t.getStringOption)(a.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,t.getMeasurement)(a.thickness,"0.5pt"),this.use=a.use||"",this.usehref=a.usehref||"",this.color=null,this.extras=null}[n.$toStyle](){const a=(0,e.toStyle)(this,"visibility");if(Object.assign(a,{linecap:this.cap,width:(0,e.measureToString)(this.thickness),color:this.color?this.color[n.$toStyle]():"#000000",style:""}),this.presence!=="visible")a.style="none";else switch(this.stroke){case"solid":a.style="solid";break;case"dashDot":a.style="dashed";break;case"dashDotDot":a.style="dashed";break;case"dashed":a.style="dashed";break;case"dotted":a.style="dotted";break;case"embossed":a.style="ridge";break;case"etched":a.style="groove";break;case"lowered":a.style="inset";break;case"raised":a.style="outset";break}return a}}class Ee extends n.OptionObject{constructor(a){super(C,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||""}}class _e extends n.XFAObject{constructor(a){super(C,"encodings",!0),this.id=a.id||"",this.type=(0,t.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||"",this.encoding=new n.XFAObjectArray}}class Re extends n.XFAObject{constructor(a){super(C,"encrypt",!0),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.certificate=null}}class Pe extends n.XFAObject{constructor(a){super(C,"encryptData",!0),this.id=a.id||"",this.operation=(0,t.getStringOption)(a.operation,["encrypt","decrypt"]),this.target=a.target||"",this.use=a.use||"",this.usehref=a.usehref||"",this.filter=null,this.manifest=null}}class ve extends n.XFAObject{constructor(a){super(C,"encryption",!0),this.id=a.id||"",this.type=(0,t.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||"",this.certificate=new n.XFAObjectArray}}class Te extends n.OptionObject{constructor(a){super(C,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||""}}class je extends n.XFAObject{constructor(a){super(C,"encryptionMethods",!0),this.id=a.id||"",this.type=(0,t.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||"",this.encryptionMethod=new n.XFAObjectArray}}class Ce extends n.XFAObject{constructor(a){super(C,"event",!0),this.activity=(0,t.getStringOption)(a.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=a.id||"",this.listen=(0,t.getStringOption)(a.listen,["refOnly","refAndDescendents"]),this.name=a.name||"",this.ref=a.ref||"",this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class ke extends n.ContentObject{constructor(a){super(C,"exData"),this.contentType=a.contentType||"",this.href=a.href||"",this.id=a.id||"",this.maxLength=(0,t.getInteger)({data:a.maxLength,defaultValue:-1,validate:se=>se>=-1}),this.name=a.name||"",this.rid=a.rid||"",this.transferEncoding=(0,t.getStringOption)(a.transferEncoding,["none","base64","package"]),this.use=a.use||"",this.usehref=a.usehref||""}[n.$isCDATAXml](){return this.contentType==="text/html"}[n.$onChild](a){return this.contentType==="text/html"&&a[n.$namespaceId]===l.NamespaceIds.xhtml.id?(this[n.$content]=a,!0):this.contentType==="text/xml"?(this[n.$content]=a,!0):!1}[n.$toHTML](a){return this.contentType!=="text/html"||!this[n.$content]?t.HTMLResult.EMPTY:this[n.$content][n.$toHTML](a)}}class Le extends n.XFAObject{constructor(a){super(C,"exObject",!0),this.archive=a.archive||"",this.classId=a.classId||"",this.codeBase=a.codeBase||"",this.codeType=a.codeType||"",this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null,this.boolean=new n.XFAObjectArray,this.date=new n.XFAObjectArray,this.dateTime=new n.XFAObjectArray,this.decimal=new n.XFAObjectArray,this.exData=new n.XFAObjectArray,this.exObject=new n.XFAObjectArray,this.float=new n.XFAObjectArray,this.image=new n.XFAObjectArray,this.integer=new n.XFAObjectArray,this.text=new n.XFAObjectArray,this.time=new n.XFAObjectArray}}class Ge extends n.XFAObject{constructor(a){super(C,"exclGroup",!0),this.access=(0,t.getStringOption)(a.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=a.accessKey||"",this.anchorType=(0,t.getStringOption)(a.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,t.getInteger)({data:a.colSpan,defaultValue:1,validate:se=>se>=1||se===-1}),this.h=a.h?(0,t.getMeasurement)(a.h):"",this.hAlign=(0,t.getStringOption)(a.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=a.id||"",this.layout=(0,t.getStringOption)(a.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,t.getMeasurement)(a.maxH,"0pt"),this.maxW=(0,t.getMeasurement)(a.maxW,"0pt"),this.minH=(0,t.getMeasurement)(a.minH,"0pt"),this.minW=(0,t.getMeasurement)(a.minW,"0pt"),this.name=a.name||"",this.presence=(0,t.getStringOption)(a.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,t.getRelevant)(a.relevant),this.use=a.use||"",this.usehref=a.usehref||"",this.w=a.w?(0,t.getMeasurement)(a.w):"",this.x=(0,t.getMeasurement)(a.x,"0pt"),this.y=(0,t.getMeasurement)(a.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new n.XFAObjectArray,this.event=new n.XFAObjectArray,this.field=new n.XFAObjectArray,this.setProperty=new n.XFAObjectArray}[n.$isBindable](){return!0}[n.$hasSettableValue](){return!0}[n.$setValue](a){for(const se of this.field.children){if(!se.value){const Me=new cn({});se[n.$appendChild](Me),se.value=Me}se.value[n.$setValue](a)}}[n.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine>0||this[n.$getParent]()[n.$isThereMoreWidth]()}[n.$isSplittable](){var se;const a=this[n.$getSubformParent]();return a[n.$isSplittable]()?this[n.$extra]._isSplittable!==void 0?this[n.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[n.$extra]._isSplittable=!1,!1):(se=a.layout)!=null&&se.endsWith("-tb")&&a[n.$extra].numberInLine!==0?!1:(this[n.$extra]._isSplittable=!0,!0):!1}[n.$flushHTML](){return(0,K.flushHTML)(this)}[n.$addHTML](a,se){(0,K.addHTML)(this,a,se)}[n.$getAvailableSpace](){return(0,K.getAvailableSpace)(this)}[n.$toHTML](a){if(d(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return t.HTMLResult.EMPTY;(0,e.fixDimensions)(this);const se=[],Me={id:this[n.$uid],class:[]};(0,e.setAccess)(this,Me.class),this[n.$extra]||(this[n.$extra]=Object.create(null)),Object.assign(this[n.$extra],{children:se,attributes:Me,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,a.width),height:Math.min(this.h||1/0,a.height)},width:0,height:0,prevHeight:0,currentWidth:0});const He=this[n.$isSplittable]();if(He||g(this),!(0,K.checkDimensions)(this,a))return t.HTMLResult.FAILURE;const Ke=new Set(["field"]);if(this.layout.includes("row")){const Xt=this[n.$getSubformParent]().columnWidths;Array.isArray(Xt)&&Xt.length>0&&(this[n.$extra].columnWidths=Xt,this[n.$extra].currentColumn=0)}const ut=(0,e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),xt=["xfaExclgroup"],bt=(0,e.layoutClass)(this);bt&&xt.push(bt),(0,e.isPrintOnly)(this)&&xt.push("xfaPrintOnly"),Me.style=ut,Me.class=xt,this.name&&(Me.xfaName=this.name),this[n.$pushPara]();const Tt=this.layout==="lr-tb"||this.layout==="rl-tb",Dt=Tt?i:1;for(;this[n.$extra].attempt<Dt;this[n.$extra].attempt++){Tt&&this[n.$extra].attempt===i-1&&(this[n.$extra].numberInLine=0);const Xt=this[n.$childrenToHTML]({filter:Ke,include:!0});if(Xt.success)break;if(Xt.isBreak())return this[n.$popPara](),Xt;if(Tt&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine===0&&!this[n.$getTemplateRoot]()[n.$extra].noLayoutFailure){this[n.$extra].attempt=Dt;break}}if(this[n.$popPara](),He||k(this),this[n.$extra].attempt===Dt)return He||delete this[n.$extra],t.HTMLResult.FAILURE;let $t=0,jt=0;this.margin&&($t=this.margin.leftInset+this.margin.rightInset,jt=this.margin.topInset+this.margin.bottomInset);const Ht=Math.max(this[n.$extra].width+$t,this.w||0),zt=Math.max(this[n.$extra].height+jt,this.h||0),Ot=[this.x,this.y,Ht,zt];this.w===""&&(ut.width=(0,e.measureToString)(Ht)),this.h===""&&(ut.height=(0,e.measureToString)(zt));const Wt={name:"div",attributes:Me,children:se};return A(this,Me),delete this[n.$extra],t.HTMLResult.success((0,e.createWrapper)(this,Wt),Ot)}}class Oe extends n.XFAObject{constructor(a){super(C,"execute"),this.connection=a.connection||"",this.executeType=(0,t.getStringOption)(a.executeType,["import","remerge"]),this.id=a.id||"",this.runAt=(0,t.getStringOption)(a.runAt,["client","both","server"]),this.use=a.use||"",this.usehref=a.usehref||""}}class tt extends n.XFAObject{constructor(a){super(C,"extras",!0),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||"",this.boolean=new n.XFAObjectArray,this.date=new n.XFAObjectArray,this.dateTime=new n.XFAObjectArray,this.decimal=new n.XFAObjectArray,this.exData=new n.XFAObjectArray,this.extras=new n.XFAObjectArray,this.float=new n.XFAObjectArray,this.image=new n.XFAObjectArray,this.integer=new n.XFAObjectArray,this.text=new n.XFAObjectArray,this.time=new n.XFAObjectArray}}class Ye extends n.XFAObject{constructor(a){super(C,"field",!0),this.access=(0,t.getStringOption)(a.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=a.accessKey||"",this.anchorType=(0,t.getStringOption)(a.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,t.getInteger)({data:a.colSpan,defaultValue:1,validate:se=>se>=1||se===-1}),this.h=a.h?(0,t.getMeasurement)(a.h):"",this.hAlign=(0,t.getStringOption)(a.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=a.id||"",this.locale=a.locale||"",this.maxH=(0,t.getMeasurement)(a.maxH,"0pt"),this.maxW=(0,t.getMeasurement)(a.maxW,"0pt"),this.minH=(0,t.getMeasurement)(a.minH,"0pt"),this.minW=(0,t.getMeasurement)(a.minW,"0pt"),this.name=a.name||"",this.presence=(0,t.getStringOption)(a.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,t.getRelevant)(a.relevant),this.rotate=(0,t.getInteger)({data:a.rotate,defaultValue:0,validate:se=>se%90===0}),this.use=a.use||"",this.usehref=a.usehref||"",this.w=a.w?(0,t.getMeasurement)(a.w):"",this.x=(0,t.getMeasurement)(a.x,"0pt"),this.y=(0,t.getMeasurement)(a.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new n.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new n.XFAObjectArray,this.connect=new n.XFAObjectArray,this.event=new n.XFAObjectArray,this.setProperty=new n.XFAObjectArray}[n.$isBindable](){return!0}[n.$setValue](a){f(this,a)}[n.$toHTML](a){var Xt,Yt,qt;if(d(this),!this.ui){this.ui=new xn({}),this.ui[n.$globalData]=this[n.$globalData],this[n.$appendChild](this.ui);let Nt;switch(this.items.children.length){case 0:Nt=new vn({}),this.ui.textEdit=Nt;break;case 1:Nt=new Y({}),this.ui.checkButton=Nt;break;case 2:Nt=new J({}),this.ui.choiceList=Nt;break}this.ui[n.$appendChild](Nt)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return t.HTMLResult.EMPTY;this.caption&&delete this.caption[n.$extra],this[n.$pushPara]();const se=this.caption?this.caption[n.$toHTML](a).html:null,Me=this.w,He=this.h;let Ke=0,ut=0;this.margin&&(Ke=this.margin.leftInset+this.margin.rightInset,ut=this.margin.topInset+this.margin.bottomInset);let xt=null;if(this.w===""||this.h===""){let Nt=null,wt=null,Qt=0,Jt=0;if(this.ui.checkButton)Qt=Jt=this.ui.checkButton.size;else{const{w:sn,h:en}=(0,e.layoutNode)(this,a);sn!==null?(Qt=sn,Jt=en):Jt=(0,z.getMetrics)(this.font,!0).lineNoGap}if(xt=y(this.ui[n.$getExtra]()),Qt+=xt.w,Jt+=xt.h,this.caption){const{w:sn,h:en,isBroken:Vt}=this.caption[n.$getExtra](a);if(Vt&&this[n.$getSubformParent]()[n.$isThereMoreWidth]())return this[n.$popPara](),t.HTMLResult.FAILURE;switch(Nt=sn,wt=en,this.caption.placement){case"left":case"right":case"inline":Nt+=Qt;break;case"top":case"bottom":wt+=Jt;break}}else Nt=Qt,wt=Jt;Nt&&this.w===""&&(Nt+=Ke,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<Nt?Nt:this.minW)),wt&&this.h===""&&(wt+=ut,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<wt?wt:this.minH))}if(this[n.$popPara](),(0,e.fixDimensions)(this),g(this),!(0,K.checkDimensions)(this,a))return this.w=Me,this.h=He,this[n.$popPara](),t.HTMLResult.FAILURE;k(this);const bt=(0,e.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,e.setMinMaxDimensions)(this,bt);const Tt=["xfaField"];this.font&&Tt.push("xfaFont"),(0,e.isPrintOnly)(this)&&Tt.push("xfaPrintOnly");const Dt={style:bt,id:this[n.$uid],class:Tt};bt.margin&&(bt.padding=bt.margin,delete bt.margin),(0,e.setAccess)(this,Tt),this.name&&(Dt.xfaName=this.name);const $t=[],jt={name:"div",attributes:Dt,children:$t};A(this,Dt);const Ht=this.border?this.border[n.$toStyle]():null,zt=(0,e.computeBbox)(this,jt,a),Ot=this.ui[n.$toHTML]().html;if(!Ot)return Object.assign(bt,Ht),t.HTMLResult.success((0,e.createWrapper)(this,jt),zt);this[n.$tabIndex]&&((Xt=Ot.children)!=null&&Xt[0]?Ot.children[0].attributes.tabindex=this[n.$tabIndex]:Ot.attributes.tabindex=this[n.$tabIndex]),Ot.attributes.style||(Ot.attributes.style=Object.create(null));let Wt=null;if(this.ui.button?(Ot.children.length===1&&([Wt]=Ot.children.splice(0,1)),Object.assign(Ot.attributes.style,Ht)):Object.assign(bt,Ht),$t.push(Ot),this.value){if(this.ui.imageEdit)Ot.children.push(this.value[n.$toHTML]().html);else if(!this.ui.button){let Nt="";if(this.value.exData)Nt=this.value.exData[n.$text]();else if(this.value.text)Nt=this.value.text[n.$getExtra]();else{const wt=this.value[n.$toHTML]().html;wt!==null&&(Nt=wt.children[0].value)}this.ui.textEdit&&((Yt=this.value.text)!=null&&Yt.maxChars)&&(Ot.children[0].attributes.maxLength=this.value.text.maxChars),Nt&&(this.ui.numericEdit&&(Nt=parseFloat(Nt),Nt=isNaN(Nt)?"":Nt.toString()),Ot.children[0].name==="textarea"?Ot.children[0].attributes.textContent=Nt:Ot.children[0].attributes.value=Nt)}}if(!this.ui.imageEdit&&((qt=Ot.children)!=null&&qt[0])&&this.h){xt=xt||y(this.ui[n.$getExtra]());let Nt=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){Nt=this.caption.reserve,Nt<=0&&(Nt=this.caption[n.$getExtra](a).h);const wt=this.h-Nt-ut-xt.h;Ot.children[0].attributes.style.height=(0,e.measureToString)(wt)}else Ot.children[0].attributes.style.height="100%"}if(Wt&&Ot.children.push(Wt),!se)return Ot.attributes.class&&Ot.attributes.class.push("xfaLeft"),this.w=Me,this.h=He,t.HTMLResult.success((0,e.createWrapper)(this,jt),zt);if(this.ui.button)return bt.padding&&delete bt.padding,se.name==="div"&&(se.name="span"),Ot.children.push(se),t.HTMLResult.success(jt,zt);switch(this.ui.checkButton&&(se.attributes.class[0]="xfaCaptionForCheckButton"),Ot.attributes.class||(Ot.attributes.class=[]),Ot.children.splice(0,0,se),this.caption.placement){case"left":Ot.attributes.class.push("xfaLeft");break;case"right":Ot.attributes.class.push("xfaRight");break;case"top":Ot.attributes.class.push("xfaTop");break;case"bottom":Ot.attributes.class.push("xfaBottom");break;case"inline":Ot.attributes.class.push("xfaLeft");break}return this.w=Me,this.h=He,t.HTMLResult.success((0,e.createWrapper)(this,jt),zt)}}S.Field=Ye;class et extends n.XFAObject{constructor(a){super(C,"fill",!0),this.id=a.id||"",this.presence=(0,t.getStringOption)(a.presence,["visible","hidden","inactive","invisible"]),this.use=a.use||"",this.usehref=a.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[n.$toStyle](){var xt;const a=this[n.$getParent](),Me=a[n.$getParent]()[n.$getParent](),He=Object.create(null);let Ke="color",ut=Ke;a instanceof j&&(Ke="background-color",ut="background",Me instanceof xn&&(He.backgroundColor="white")),(a instanceof vt||a instanceof q)&&(Ke=ut="fill",He.fill="white");for(const bt of Object.getOwnPropertyNames(this)){if(bt==="extras"||bt==="color")continue;const Tt=this[bt];if(!(Tt instanceof n.XFAObject))continue;const Dt=Tt[n.$toStyle](this.color);return Dt&&(He[Dt.startsWith("#")?Ke:ut]=Dt),He}if((xt=this.color)!=null&&xt.value){const bt=this.color[n.$toStyle]();He[bt.startsWith("#")?Ke:ut]=bt}return He}}class Xe extends n.XFAObject{constructor(a){super(C,"filter",!0),this.addRevocationInfo=(0,t.getStringOption)(a.addRevocationInfo,["","required","optional","none"]),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||"",this.version=(0,t.getInteger)({data:this.version,defaultValue:5,validate:se=>se>=1&&se<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class Qe extends n.ContentObject{constructor(a){super(C,"float"),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||""}[n.$finalize](){const a=parseFloat(this[n.$content].trim());this[n.$content]=isNaN(a)?null:a}[n.$toHTML](a){return h(this[n.$content]!==null?this[n.$content].toString():"")}}class it extends n.XFAObject{constructor(a){super(C,"font",!0),this.baselineShift=(0,t.getMeasurement)(a.baselineShift),this.fontHorizontalScale=(0,t.getFloat)({data:a.fontHorizontalScale,defaultValue:100,validate:se=>se>=0}),this.fontVerticalScale=(0,t.getFloat)({data:a.fontVerticalScale,defaultValue:100,validate:se=>se>=0}),this.id=a.id||"",this.kerningMode=(0,t.getStringOption)(a.kerningMode,["none","pair"]),this.letterSpacing=(0,t.getMeasurement)(a.letterSpacing,"0"),this.lineThrough=(0,t.getInteger)({data:a.lineThrough,defaultValue:0,validate:se=>se===1||se===2}),this.lineThroughPeriod=(0,t.getStringOption)(a.lineThroughPeriod,["all","word"]),this.overline=(0,t.getInteger)({data:a.overline,defaultValue:0,validate:se=>se===1||se===2}),this.overlinePeriod=(0,t.getStringOption)(a.overlinePeriod,["all","word"]),this.posture=(0,t.getStringOption)(a.posture,["normal","italic"]),this.size=(0,t.getMeasurement)(a.size,"10pt"),this.typeface=a.typeface||"Courier",this.underline=(0,t.getInteger)({data:a.underline,defaultValue:0,validate:se=>se===1||se===2}),this.underlinePeriod=(0,t.getStringOption)(a.underlinePeriod,["all","word"]),this.use=a.use||"",this.usehref=a.usehref||"",this.weight=(0,t.getStringOption)(a.weight,["normal","bold"]),this.extras=null,this.fill=null}[n.$clean](a){super[n.$clean](a),this[n.$globalData].usedTypefaces.add(this.typeface)}[n.$toStyle](){const a=(0,e.toStyle)(this,"fill"),se=a.color;return se&&(se==="#000000"?delete a.color:se.startsWith("#")||(a.background=se,a.backgroundClip="text",a.color="transparent")),this.baselineShift&&(a.verticalAlign=(0,e.measureToString)(this.baselineShift)),a.fontKerning=this.kerningMode==="none"?"none":"normal",a.letterSpacing=(0,e.measureToString)(this.letterSpacing),this.lineThrough!==0&&(a.textDecoration="line-through",this.lineThrough===2&&(a.textDecorationStyle="double")),this.overline!==0&&(a.textDecoration="overline",this.overline===2&&(a.textDecorationStyle="double")),a.fontStyle=this.posture,a.fontSize=(0,e.measureToString)(.99*this.size),(0,e.setFontFamily)(this,this,this[n.$globalData].fontFinder,a),this.underline!==0&&(a.textDecoration="underline",this.underline===2&&(a.textDecorationStyle="double")),a.fontWeight=this.weight,a}}class qe extends n.XFAObject{constructor(a){super(C,"format",!0),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null,this.picture=null}}class gt extends n.StringObject{constructor(a){super(C,"handler"),this.id=a.id||"",this.type=(0,t.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||""}}class mt extends n.XFAObject{constructor(a){super(C,"hyphenation"),this.excludeAllCaps=(0,t.getInteger)({data:a.excludeAllCaps,defaultValue:0,validate:se=>se===1}),this.excludeInitialCap=(0,t.getInteger)({data:a.excludeInitialCap,defaultValue:0,validate:se=>se===1}),this.hyphenate=(0,t.getInteger)({data:a.hyphenate,defaultValue:0,validate:se=>se===1}),this.id=a.id||"",this.pushCharacterCount=(0,t.getInteger)({data:a.pushCharacterCount,defaultValue:3,validate:se=>se>=0}),this.remainCharacterCount=(0,t.getInteger)({data:a.remainCharacterCount,defaultValue:3,validate:se=>se>=0}),this.use=a.use||"",this.usehref=a.usehref||"",this.wordCharacterCount=(0,t.getInteger)({data:a.wordCharacterCount,defaultValue:7,validate:se=>se>=0})}}class Ct extends n.StringObject{constructor(a){super(C,"image"),this.aspect=(0,t.getStringOption)(a.aspect,["fit","actual","height","none","width"]),this.contentType=a.contentType||"",this.href=a.href||"",this.id=a.id||"",this.name=a.name||"",this.transferEncoding=(0,t.getStringOption)(a.transferEncoding,["base64","none","package"]),this.use=a.use||"",this.usehref=a.usehref||""}[n.$toHTML](){if(this.contentType&&!s.has(this.contentType.toLowerCase()))return t.HTMLResult.EMPTY;let a=this[n.$globalData].images&&this[n.$globalData].images.get(this.href);if(!a&&(this.href||!this[n.$content])||(!a&&this.transferEncoding==="base64"&&(a=(0,H.stringToBytes)(atob(this[n.$content]))),!a))return t.HTMLResult.EMPTY;if(!this.contentType){for(const[Ke,ut]of o)if(a.length>Ke.length&&Ke.every((xt,bt)=>xt===a[bt])){this.contentType=ut;break}if(!this.contentType)return t.HTMLResult.EMPTY}const se=new Blob([a],{type:this.contentType});let Me;switch(this.aspect){case"fit":case"actual":break;case"height":Me={height:"100%",objectFit:"fill"};break;case"none":Me={width:"100%",height:"100%",objectFit:"fill"};break;case"width":Me={width:"100%",objectFit:"fill"};break}const He=this[n.$getParent]();return t.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:Me,src:URL.createObjectURL(se),alt:He?L(He[n.$getParent]()):null}})}}class Pt extends n.XFAObject{constructor(a){super(C,"imageEdit",!0),this.data=(0,t.getStringOption)(a.data,["link","embed"]),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](a){return this.data==="embed"?t.HTMLResult.success({name:"div",children:[],attributes:{}}):t.HTMLResult.EMPTY}}class st extends n.ContentObject{constructor(a){super(C,"integer"),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||""}[n.$finalize](){const a=parseInt(this[n.$content].trim(),10);this[n.$content]=isNaN(a)?null:a}[n.$toHTML](a){return h(this[n.$content]!==null?this[n.$content].toString():"")}}class dt extends n.XFAObject{constructor(a){super(C,"issuers",!0),this.id=a.id||"",this.type=(0,t.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||"",this.certificate=new n.XFAObjectArray}}class ot extends n.XFAObject{constructor(a){super(C,"items",!0),this.id=a.id||"",this.name=a.name||"",this.presence=(0,t.getStringOption)(a.presence,["visible","hidden","inactive","invisible"]),this.ref=a.ref||"",this.save=(0,t.getInteger)({data:a.save,defaultValue:0,validate:se=>se===1}),this.use=a.use||"",this.usehref=a.usehref||"",this.boolean=new n.XFAObjectArray,this.date=new n.XFAObjectArray,this.dateTime=new n.XFAObjectArray,this.decimal=new n.XFAObjectArray,this.exData=new n.XFAObjectArray,this.float=new n.XFAObjectArray,this.image=new n.XFAObjectArray,this.integer=new n.XFAObjectArray,this.text=new n.XFAObjectArray,this.time=new n.XFAObjectArray}[n.$toHTML](){const a=[];for(const se of this[n.$getChildren]())a.push(se[n.$text]());return t.HTMLResult.success(a)}}S.Items=ot;class _t extends n.XFAObject{constructor(a){super(C,"keep",!0),this.id=a.id||"";const se=["none","contentArea","pageArea"];this.intact=(0,t.getStringOption)(a.intact,se),this.next=(0,t.getStringOption)(a.next,se),this.previous=(0,t.getStringOption)(a.previous,se),this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null}}class Mt extends n.XFAObject{constructor(a){super(C,"keyUsage");const se=["","yes","no"];this.crlSign=(0,t.getStringOption)(a.crlSign,se),this.dataEncipherment=(0,t.getStringOption)(a.dataEncipherment,se),this.decipherOnly=(0,t.getStringOption)(a.decipherOnly,se),this.digitalSignature=(0,t.getStringOption)(a.digitalSignature,se),this.encipherOnly=(0,t.getStringOption)(a.encipherOnly,se),this.id=a.id||"",this.keyAgreement=(0,t.getStringOption)(a.keyAgreement,se),this.keyCertSign=(0,t.getStringOption)(a.keyCertSign,se),this.keyEncipherment=(0,t.getStringOption)(a.keyEncipherment,se),this.nonRepudiation=(0,t.getStringOption)(a.nonRepudiation,se),this.type=(0,t.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||""}}class Et extends n.XFAObject{constructor(a){super(C,"line",!0),this.hand=(0,t.getStringOption)(a.hand,["even","left","right"]),this.id=a.id||"",this.slope=(0,t.getStringOption)(a.slope,["\\","/"]),this.use=a.use||"",this.usehref=a.usehref||"",this.edge=null}[n.$toHTML](){const a=this[n.$getParent]()[n.$getParent](),se=this.edge||new be({}),Me=se[n.$toStyle](),He=Object.create(null),Ke=se.presence==="visible"?se.thickness:0;He.strokeWidth=(0,e.measureToString)(Ke),He.stroke=Me.color;let ut,xt,bt,Tt,Dt="100%",$t="100%";a.w<=Ke?([ut,xt,bt,Tt]=["50%",0,"50%","100%"],Dt=He.strokeWidth):a.h<=Ke?([ut,xt,bt,Tt]=[0,"50%","100%","50%"],$t=He.strokeWidth):this.slope==="\\"?[ut,xt,bt,Tt]=[0,0,"100%","100%"]:[ut,xt,bt,Tt]=[0,"100%","100%",0];const Ht={name:"svg",children:[{name:"line",attributes:{xmlns:w,x1:ut,y1:xt,x2:bt,y2:Tt,style:He}}],attributes:{xmlns:w,width:Dt,height:$t,style:{overflow:"visible"}}};return r(a)?t.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Ht]}):(Ht.attributes.style.position="absolute",t.HTMLResult.success(Ht))}}class St extends n.XFAObject{constructor(a){super(C,"linear",!0),this.id=a.id||"",this.type=(0,t.getStringOption)(a.type,["toRight","toBottom","toLeft","toTop"]),this.use=a.use||"",this.usehref=a.usehref||"",this.color=null,this.extras=null}[n.$toStyle](a){a=a?a[n.$toStyle]():"#FFFFFF";const se=this.type.replace(/([RBLT])/," $1").toLowerCase(),Me=this.color?this.color[n.$toStyle]():"#000000";return`linear-gradient(${se}, ${a}, ${Me})`}}class Lt extends n.ContentObject{constructor(a){super(C,"lockDocument"),this.id=a.id||"",this.type=(0,t.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||""}[n.$finalize](){this[n.$content]=(0,t.getStringOption)(this[n.$content],["auto","0","1"])}}class We extends n.XFAObject{constructor(a){super(C,"manifest",!0),this.action=(0,t.getStringOption)(a.action,["include","all","exclude"]),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null,this.ref=new n.XFAObjectArray}}class Ue extends n.XFAObject{constructor(a){super(C,"margin",!0),this.bottomInset=(0,t.getMeasurement)(a.bottomInset,"0"),this.id=a.id||"",this.leftInset=(0,t.getMeasurement)(a.leftInset,"0"),this.rightInset=(0,t.getMeasurement)(a.rightInset,"0"),this.topInset=(0,t.getMeasurement)(a.topInset,"0"),this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null}[n.$toStyle](){return{margin:(0,e.measureToString)(this.topInset)+" "+(0,e.measureToString)(this.rightInset)+" "+(0,e.measureToString)(this.bottomInset)+" "+(0,e.measureToString)(this.leftInset)}}}class Je extends n.XFAObject{constructor(a){super(C,"mdp"),this.id=a.id||"",this.permissions=(0,t.getInteger)({data:a.permissions,defaultValue:2,validate:se=>se===1||se===3}),this.signatureType=(0,t.getStringOption)(a.signatureType,["filler","author"]),this.use=a.use||"",this.usehref=a.usehref||""}}class Ve extends n.XFAObject{constructor(a){super(C,"medium"),this.id=a.id||"",this.imagingBBox=(0,t.getBBox)(a.imagingBBox),this.long=(0,t.getMeasurement)(a.long),this.orientation=(0,t.getStringOption)(a.orientation,["portrait","landscape"]),this.short=(0,t.getMeasurement)(a.short),this.stock=a.stock||"",this.trayIn=(0,t.getStringOption)(a.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,t.getStringOption)(a.trayOut,["auto","delegate"]),this.use=a.use||"",this.usehref=a.usehref||""}}class at extends n.XFAObject{constructor(a){super(C,"message",!0),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.text=new n.XFAObjectArray}}class ft extends n.XFAObject{constructor(a){super(C,"numericEdit",!0),this.hScrollPolicy=(0,t.getStringOption)(a.hScrollPolicy,["auto","off","on"]),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](a){var Ke;const se=(0,e.toStyle)(this,"border","font","margin"),Me=this[n.$getParent]()[n.$getParent](),He={name:"input",attributes:{type:"text",fieldId:Me[n.$uid],dataId:((Ke=Me[n.$data])==null?void 0:Ke[n.$uid])||Me[n.$uid],class:["xfaTextfield"],style:se,"aria-label":L(Me),"aria-required":!1}};return P(Me)&&(He.attributes["aria-required"]=!0,He.attributes.required=!0),t.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[He]})}}class ct extends n.XFAObject{constructor(a){super(C,"occur",!0),this.id=a.id||"",this.initial=a.initial!==""?(0,t.getInteger)({data:a.initial,defaultValue:"",validate:se=>!0}):"",this.max=a.max!==""?(0,t.getInteger)({data:a.max,defaultValue:1,validate:se=>!0}):"",this.min=a.min!==""?(0,t.getInteger)({data:a.min,defaultValue:1,validate:se=>!0}):"",this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null}[n.$clean](){const a=this[n.$getParent](),se=this.min;this.min===""&&(this.min=a instanceof Ze||a instanceof nt?0:1),this.max===""&&(se===""?this.max=a instanceof Ze||a instanceof nt?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=a instanceof mn?1:this.min)}}class Se extends n.StringObject{constructor(a){super(C,"oid"),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||""}}class De extends n.XFAObject{constructor(a){super(C,"oids",!0),this.id=a.id||"",this.type=(0,t.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||"",this.oid=new n.XFAObjectArray}}class $e extends n.XFAObject{constructor(a){super(C,"overflow"),this.id=a.id||"",this.leader=a.leader||"",this.target=a.target||"",this.trailer=a.trailer||"",this.use=a.use||"",this.usehref=a.usehref||""}[n.$getExtra](){if(!this[n.$extra]){const a=this[n.$getParent](),se=this[n.$getTemplateRoot](),Me=se[n.$searchNode](this.target,a),He=se[n.$searchNode](this.leader,a),Ke=se[n.$searchNode](this.trailer,a);this[n.$extra]={target:(Me==null?void 0:Me[0])||null,leader:(He==null?void 0:He[0])||null,trailer:(Ke==null?void 0:Ke[0])||null,addLeader:!1,addTrailer:!1}}return this[n.$extra]}}class Ze extends n.XFAObject{constructor(a){super(C,"pageArea",!0),this.blankOrNotBlank=(0,t.getStringOption)(a.blankOrNotBlank,["any","blank","notBlank"]),this.id=a.id||"",this.initialNumber=(0,t.getInteger)({data:a.initialNumber,defaultValue:1,validate:se=>!0}),this.name=a.name||"",this.numbered=(0,t.getInteger)({data:a.numbered,defaultValue:1,validate:se=>!0}),this.oddOrEven=(0,t.getStringOption)(a.oddOrEven,["any","even","odd"]),this.pagePosition=(0,t.getStringOption)(a.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,t.getRelevant)(a.relevant),this.use=a.use||"",this.usehref=a.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new n.XFAObjectArray,this.contentArea=new n.XFAObjectArray,this.draw=new n.XFAObjectArray,this.exclGroup=new n.XFAObjectArray,this.field=new n.XFAObjectArray,this.subform=new n.XFAObjectArray}[n.$isUsable](){return this[n.$extra]?!this.occur||this.occur.max===-1||this[n.$extra].numberOfUse<this.occur.max:(this[n.$extra]={numberOfUse:0},!0)}[n.$cleanPage](){delete this[n.$extra]}[n.$getNextPage](){this[n.$extra]||(this[n.$extra]={numberOfUse:0});const a=this[n.$getParent]();return a.relation==="orderedOccurrence"&&this[n.$isUsable]()?(this[n.$extra].numberOfUse+=1,this):a[n.$getNextPage]()}[n.$getAvailableSpace](){return this[n.$extra].space||{width:0,height:0}}[n.$toHTML](){this[n.$extra]||(this[n.$extra]={numberOfUse:1});const a=[];this[n.$extra].children=a;const se=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(se.width=(0,e.measureToString)(this.medium.short),se.height=(0,e.measureToString)(this.medium.long),this[n.$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const Me=se.width;se.width=se.height,se.height=Me,this[n.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,H.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[n.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[n.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),t.HTMLResult.success({name:"div",children:a,attributes:{class:["xfaPage"],id:this[n.$uid],style:se,xfaName:this.name}})}}class nt extends n.XFAObject{constructor(a){super(C,"pageSet",!0),this.duplexImposition=(0,t.getStringOption)(a.duplexImposition,["longEdge","shortEdge"]),this.id=a.id||"",this.name=a.name||"",this.relation=(0,t.getStringOption)(a.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,t.getRelevant)(a.relevant),this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null,this.occur=null,this.pageArea=new n.XFAObjectArray,this.pageSet=new n.XFAObjectArray}[n.$cleanPage](){for(const a of this.pageArea.children)a[n.$cleanPage]();for(const a of this.pageSet.children)a[n.$cleanPage]()}[n.$isUsable](){return!this.occur||this.occur.max===-1||this[n.$extra].numberOfUse<this.occur.max}[n.$getNextPage](){if(this[n.$extra]||(this[n.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[n.$extra].pageIndex+1<this.pageArea.children.length)return this[n.$extra].pageIndex+=1,this.pageArea.children[this[n.$extra].pageIndex][n.$getNextPage]();if(this[n.$extra].pageSetIndex+1<this.pageSet.children.length)return this[n.$extra].pageSetIndex+=1,this.pageSet.children[this[n.$extra].pageSetIndex][n.$getNextPage]();if(this[n.$isUsable]())return this[n.$extra].numberOfUse+=1,this[n.$extra].pageIndex=-1,this[n.$extra].pageSetIndex=-1,this[n.$getNextPage]();const Ke=this[n.$getParent]();return Ke instanceof nt?Ke[n.$getNextPage]():(this[n.$cleanPage](),this[n.$getNextPage]())}const a=this[n.$getTemplateRoot]()[n.$extra].pageNumber,se=a%2===0?"even":"odd",Me=a===0?"first":"rest";let He=this.pageArea.children.find(Ke=>Ke.oddOrEven===se&&Ke.pagePosition===Me);return He||(He=this.pageArea.children.find(Ke=>Ke.oddOrEven==="any"&&Ke.pagePosition===Me),He)||(He=this.pageArea.children.find(Ke=>Ke.oddOrEven==="any"&&Ke.pagePosition==="any"),He)?He:this.pageArea.children[0]}}class pt extends n.XFAObject{constructor(a){super(C,"para",!0),this.hAlign=(0,t.getStringOption)(a.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=a.id||"",this.lineHeight=a.lineHeight?(0,t.getMeasurement)(a.lineHeight,"0pt"):"",this.marginLeft=a.marginLeft?(0,t.getMeasurement)(a.marginLeft,"0pt"):"",this.marginRight=a.marginRight?(0,t.getMeasurement)(a.marginRight,"0pt"):"",this.orphans=(0,t.getInteger)({data:a.orphans,defaultValue:0,validate:se=>se>=0}),this.preserve=a.preserve||"",this.radixOffset=a.radixOffset?(0,t.getMeasurement)(a.radixOffset,"0pt"):"",this.spaceAbove=a.spaceAbove?(0,t.getMeasurement)(a.spaceAbove,"0pt"):"",this.spaceBelow=a.spaceBelow?(0,t.getMeasurement)(a.spaceBelow,"0pt"):"",this.tabDefault=a.tabDefault?(0,t.getMeasurement)(this.tabDefault):"",this.tabStops=(a.tabStops||"").trim().split(/\s+/).map((se,Me)=>Me%2===1?(0,t.getMeasurement)(se):se),this.textIndent=a.textIndent?(0,t.getMeasurement)(a.textIndent,"0pt"):"",this.use=a.use||"",this.usehref=a.usehref||"",this.vAlign=(0,t.getStringOption)(a.vAlign,["top","bottom","middle"]),this.widows=(0,t.getInteger)({data:a.widows,defaultValue:0,validate:se=>se>=0}),this.hyphenation=null}[n.$toStyle](){const a=(0,e.toStyle)(this,"hAlign");return this.marginLeft!==""&&(a.paddingLeft=(0,e.measureToString)(this.marginLeft)),this.marginRight!==""&&(a.paddingight=(0,e.measureToString)(this.marginRight)),this.spaceAbove!==""&&(a.paddingTop=(0,e.measureToString)(this.spaceAbove)),this.spaceBelow!==""&&(a.paddingBottom=(0,e.measureToString)(this.spaceBelow)),this.textIndent!==""&&(a.textIndent=(0,e.measureToString)(this.textIndent),(0,e.fixTextIndent)(a)),this.lineHeight>0&&(a.lineHeight=(0,e.measureToString)(this.lineHeight)),this.tabDefault!==""&&(a.tabSize=(0,e.measureToString)(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(a,this.hyphenatation[n.$toStyle]()),a}}class yt extends n.XFAObject{constructor(a){super(C,"passwordEdit",!0),this.hScrollPolicy=(0,t.getStringOption)(a.hScrollPolicy,["auto","off","on"]),this.id=a.id||"",this.passwordChar=a.passwordChar||"*",this.use=a.use||"",this.usehref=a.usehref||"",this.border=null,this.extras=null,this.margin=null}}class lt extends n.XFAObject{constructor(a){super(C,"pattern",!0),this.id=a.id||"",this.type=(0,t.getStringOption)(a.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=a.use||"",this.usehref=a.usehref||"",this.color=null,this.extras=null}[n.$toStyle](a){a=a?a[n.$toStyle]():"#FFFFFF";const se=this.color?this.color[n.$toStyle]():"#000000",Me=5,He="repeating-linear-gradient",Ke=`${a},${a} ${Me}px,${se} ${Me}px,${se} ${2*Me}px`;switch(this.type){case"crossHatch":return`${He}(to top,${Ke}) ${He}(to right,${Ke})`;case"crossDiagonal":return`${He}(45deg,${Ke}) ${He}(-45deg,${Ke})`;case"diagonalLeft":return`${He}(45deg,${Ke})`;case"diagonalRight":return`${He}(-45deg,${Ke})`;case"horizontal":return`${He}(to top,${Ke})`;case"vertical":return`${He}(to right,${Ke})`}return""}}class At extends n.StringObject{constructor(a){super(C,"picture"),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||""}}class ht extends n.XFAObject{constructor(a){super(C,"proto",!0),this.appearanceFilter=new n.XFAObjectArray,this.arc=new n.XFAObjectArray,this.area=new n.XFAObjectArray,this.assist=new n.XFAObjectArray,this.barcode=new n.XFAObjectArray,this.bindItems=new n.XFAObjectArray,this.bookend=new n.XFAObjectArray,this.boolean=new n.XFAObjectArray,this.border=new n.XFAObjectArray,this.break=new n.XFAObjectArray,this.breakAfter=new n.XFAObjectArray,this.breakBefore=new n.XFAObjectArray,this.button=new n.XFAObjectArray,this.calculate=new n.XFAObjectArray,this.caption=new n.XFAObjectArray,this.certificate=new n.XFAObjectArray,this.certificates=new n.XFAObjectArray,this.checkButton=new n.XFAObjectArray,this.choiceList=new n.XFAObjectArray,this.color=new n.XFAObjectArray,this.comb=new n.XFAObjectArray,this.connect=new n.XFAObjectArray,this.contentArea=new n.XFAObjectArray,this.corner=new n.XFAObjectArray,this.date=new n.XFAObjectArray,this.dateTime=new n.XFAObjectArray,this.dateTimeEdit=new n.XFAObjectArray,this.decimal=new n.XFAObjectArray,this.defaultUi=new n.XFAObjectArray,this.desc=new n.XFAObjectArray,this.digestMethod=new n.XFAObjectArray,this.digestMethods=new n.XFAObjectArray,this.draw=new n.XFAObjectArray,this.edge=new n.XFAObjectArray,this.encoding=new n.XFAObjectArray,this.encodings=new n.XFAObjectArray,this.encrypt=new n.XFAObjectArray,this.encryptData=new n.XFAObjectArray,this.encryption=new n.XFAObjectArray,this.encryptionMethod=new n.XFAObjectArray,this.encryptionMethods=new n.XFAObjectArray,this.event=new n.XFAObjectArray,this.exData=new n.XFAObjectArray,this.exObject=new n.XFAObjectArray,this.exclGroup=new n.XFAObjectArray,this.execute=new n.XFAObjectArray,this.extras=new n.XFAObjectArray,this.field=new n.XFAObjectArray,this.fill=new n.XFAObjectArray,this.filter=new n.XFAObjectArray,this.float=new n.XFAObjectArray,this.font=new n.XFAObjectArray,this.format=new n.XFAObjectArray,this.handler=new n.XFAObjectArray,this.hyphenation=new n.XFAObjectArray,this.image=new n.XFAObjectArray,this.imageEdit=new n.XFAObjectArray,this.integer=new n.XFAObjectArray,this.issuers=new n.XFAObjectArray,this.items=new n.XFAObjectArray,this.keep=new n.XFAObjectArray,this.keyUsage=new n.XFAObjectArray,this.line=new n.XFAObjectArray,this.linear=new n.XFAObjectArray,this.lockDocument=new n.XFAObjectArray,this.manifest=new n.XFAObjectArray,this.margin=new n.XFAObjectArray,this.mdp=new n.XFAObjectArray,this.medium=new n.XFAObjectArray,this.message=new n.XFAObjectArray,this.numericEdit=new n.XFAObjectArray,this.occur=new n.XFAObjectArray,this.oid=new n.XFAObjectArray,this.oids=new n.XFAObjectArray,this.overflow=new n.XFAObjectArray,this.pageArea=new n.XFAObjectArray,this.pageSet=new n.XFAObjectArray,this.para=new n.XFAObjectArray,this.passwordEdit=new n.XFAObjectArray,this.pattern=new n.XFAObjectArray,this.picture=new n.XFAObjectArray,this.radial=new n.XFAObjectArray,this.reason=new n.XFAObjectArray,this.reasons=new n.XFAObjectArray,this.rectangle=new n.XFAObjectArray,this.ref=new n.XFAObjectArray,this.script=new n.XFAObjectArray,this.setProperty=new n.XFAObjectArray,this.signData=new n.XFAObjectArray,this.signature=new n.XFAObjectArray,this.signing=new n.XFAObjectArray,this.solid=new n.XFAObjectArray,this.speak=new n.XFAObjectArray,this.stipple=new n.XFAObjectArray,this.subform=new n.XFAObjectArray,this.subformSet=new n.XFAObjectArray,this.subjectDN=new n.XFAObjectArray,this.subjectDNs=new n.XFAObjectArray,this.submit=new n.XFAObjectArray,this.text=new n.XFAObjectArray,this.textEdit=new n.XFAObjectArray,this.time=new n.XFAObjectArray,this.timeStamp=new n.XFAObjectArray,this.toolTip=new n.XFAObjectArray,this.traversal=new n.XFAObjectArray,this.traverse=new n.XFAObjectArray,this.ui=new n.XFAObjectArray,this.validate=new n.XFAObjectArray,this.value=new n.XFAObjectArray,this.variables=new n.XFAObjectArray}}class Ft extends n.XFAObject{constructor(a){super(C,"radial",!0),this.id=a.id||"",this.type=(0,t.getStringOption)(a.type,["toEdge","toCenter"]),this.use=a.use||"",this.usehref=a.usehref||"",this.color=null,this.extras=null}[n.$toStyle](a){a=a?a[n.$toStyle]():"#FFFFFF";const se=this.color?this.color[n.$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${a},${se}`:`${se},${a}`})`}}class It extends n.StringObject{constructor(a){super(C,"reason"),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||""}}class Gt extends n.XFAObject{constructor(a){super(C,"reasons",!0),this.id=a.id||"",this.type=(0,t.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||"",this.reason=new n.XFAObjectArray}}class vt extends n.XFAObject{constructor(a){super(C,"rectangle",!0),this.hand=(0,t.getStringOption)(a.hand,["even","left","right"]),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.corner=new n.XFAObjectArray(4),this.edge=new n.XFAObjectArray(4),this.fill=null}[n.$toHTML](){var Tt;const a=this.edge.children.length?this.edge.children[0]:new be({}),se=a[n.$toStyle](),Me=Object.create(null);((Tt=this.fill)==null?void 0:Tt.presence)==="visible"?Object.assign(Me,this.fill[n.$toStyle]()):Me.fill="transparent",Me.strokeWidth=(0,e.measureToString)(a.presence==="visible"?a.thickness:0),Me.stroke=se.color;const Ke=(this.corner.children.length?this.corner.children[0]:new re({}))[n.$toStyle](),xt={name:"svg",children:[{name:"rect",attributes:{xmlns:w,width:"100%",height:"100%",x:0,y:0,rx:Ke.radius,ry:Ke.radius,style:Me}}],attributes:{xmlns:w,style:{overflow:"visible"},width:"100%",height:"100%"}},bt=this[n.$getParent]()[n.$getParent]();return r(bt)?t.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[xt]}):(xt.attributes.style.position="absolute",t.HTMLResult.success(xt))}}class kt extends n.StringObject{constructor(a){super(C,"ref"),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||""}}class Bt extends n.StringObject{constructor(a){super(C,"script"),this.binding=a.binding||"",this.contentType=a.contentType||"",this.id=a.id||"",this.name=a.name||"",this.runAt=(0,t.getStringOption)(a.runAt,["client","both","server"]),this.use=a.use||"",this.usehref=a.usehref||""}}class Ut extends n.XFAObject{constructor(a){super(C,"setProperty"),this.connection=a.connection||"",this.ref=a.ref||"",this.target=a.target||""}}S.SetProperty=Ut;class Kt extends n.XFAObject{constructor(a){super(C,"signData",!0),this.id=a.id||"",this.operation=(0,t.getStringOption)(a.operation,["sign","clear","verify"]),this.ref=a.ref||"",this.target=a.target||"",this.use=a.use||"",this.usehref=a.usehref||"",this.filter=null,this.manifest=null}}class rn extends n.XFAObject{constructor(a){super(C,"signature",!0),this.id=a.id||"",this.type=(0,t.getStringOption)(a.type,["PDF1.3","PDF1.6"]),this.use=a.use||"",this.usehref=a.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class Mn extends n.XFAObject{constructor(a){super(C,"signing",!0),this.id=a.id||"",this.type=(0,t.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||"",this.certificate=new n.XFAObjectArray}}class Rn extends n.XFAObject{constructor(a){super(C,"solid",!0),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null}[n.$toStyle](a){return a?a[n.$toStyle]():"#FFFFFF"}}class Dn extends n.StringObject{constructor(a){super(C,"speak"),this.disable=(0,t.getInteger)({data:a.disable,defaultValue:0,validate:se=>se===1}),this.id=a.id||"",this.priority=(0,t.getStringOption)(a.priority,["custom","caption","name","toolTip"]),this.rid=a.rid||"",this.use=a.use||"",this.usehref=a.usehref||""}}class Nn extends n.XFAObject{constructor(a){super(C,"stipple",!0),this.id=a.id||"",this.rate=(0,t.getInteger)({data:a.rate,defaultValue:50,validate:se=>se>=0&&se<=100}),this.use=a.use||"",this.usehref=a.usehref||"",this.color=null,this.extras=null}[n.$toStyle](a){const se=this.rate/100;return H.Util.makeHexColor(Math.round(a.value.r*(1-se)+this.value.r*se),Math.round(a.value.g*(1-se)+this.value.g*se),Math.round(a.value.b*(1-se)+this.value.b*se))}}class Sn extends n.XFAObject{constructor(a){super(C,"subform",!0),this.access=(0,t.getStringOption)(a.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,t.getInteger)({data:a.allowMacro,defaultValue:0,validate:se=>se===1}),this.anchorType=(0,t.getStringOption)(a.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,t.getInteger)({data:a.colSpan,defaultValue:1,validate:se=>se>=1||se===-1}),this.columnWidths=(a.columnWidths||"").trim().split(/\s+/).map(se=>se==="-1"?-1:(0,t.getMeasurement)(se)),this.h=a.h?(0,t.getMeasurement)(a.h):"",this.hAlign=(0,t.getStringOption)(a.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=a.id||"",this.layout=(0,t.getStringOption)(a.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=a.locale||"",this.maxH=(0,t.getMeasurement)(a.maxH,"0pt"),this.maxW=(0,t.getMeasurement)(a.maxW,"0pt"),this.mergeMode=(0,t.getStringOption)(a.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,t.getMeasurement)(a.minH,"0pt"),this.minW=(0,t.getMeasurement)(a.minW,"0pt"),this.name=a.name||"",this.presence=(0,t.getStringOption)(a.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,t.getRelevant)(a.relevant),this.restoreState=(0,t.getStringOption)(a.restoreState,["manual","auto"]),this.scope=(0,t.getStringOption)(a.scope,["name","none"]),this.use=a.use||"",this.usehref=a.usehref||"",this.w=a.w?(0,t.getMeasurement)(a.w):"",this.x=(0,t.getMeasurement)(a.x,"0pt"),this.y=(0,t.getMeasurement)(a.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new n.XFAObjectArray,this.breakAfter=new n.XFAObjectArray,this.breakBefore=new n.XFAObjectArray,this.connect=new n.XFAObjectArray,this.draw=new n.XFAObjectArray,this.event=new n.XFAObjectArray,this.exObject=new n.XFAObjectArray,this.exclGroup=new n.XFAObjectArray,this.field=new n.XFAObjectArray,this.proto=new n.XFAObjectArray,this.setProperty=new n.XFAObjectArray,this.subform=new n.XFAObjectArray,this.subformSet=new n.XFAObjectArray}[n.$getSubformParent](){const a=this[n.$getParent]();return a instanceof pn?a[n.$getSubformParent]():a}[n.$isBindable](){return!0}[n.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine>0||this[n.$getParent]()[n.$isThereMoreWidth]()}*[n.$getContainedChildren](){yield*m(this)}[n.$flushHTML](){return(0,K.flushHTML)(this)}[n.$addHTML](a,se){(0,K.addHTML)(this,a,se)}[n.$getAvailableSpace](){return(0,K.getAvailableSpace)(this)}[n.$isSplittable](){var se;const a=this[n.$getSubformParent]();return a[n.$isSplittable]()?this[n.$extra]._isSplittable!==void 0?this[n.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[n.$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[n.$extra]._isSplittable=!1,!1):(se=a.layout)!=null&&se.endsWith("-tb")&&a[n.$extra].numberInLine!==0?!1:(this[n.$extra]._isSplittable=!0,!0):!1}[n.$toHTML](a){var Nt;if(d(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const wt=new R({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});wt[n.$globalData]=this[n.$globalData],this[n.$appendChild](wt),this.breakAfter.push(wt)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const wt=new Z({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});wt[n.$globalData]=this[n.$globalData],this[n.$appendChild](wt),this.breakBefore.push(wt)}if(this.break.overflowTarget!==""){const wt=new $e({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});wt[n.$globalData]=this[n.$globalData],this[n.$appendChild](wt),this.overflow.push(wt)}this[n.$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return t.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,H.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const wt=this.breakBefore.children[0];if(D(wt))return t.HTMLResult.breakNode(wt)}if((Nt=this[n.$extra])!=null&&Nt.afterBreakAfter)return t.HTMLResult.EMPTY;(0,e.fixDimensions)(this);const se=[],Me={id:this[n.$uid],class:[]};(0,e.setAccess)(this,Me.class),this[n.$extra]||(this[n.$extra]=Object.create(null)),Object.assign(this[n.$extra],{children:se,line:null,attributes:Me,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,a.width),height:Math.min(this.h||1/0,a.height)},width:0,height:0,prevHeight:0,currentWidth:0});const He=this[n.$getTemplateRoot](),Ke=He[n.$extra].noLayoutFailure,ut=this[n.$isSplittable]();if(ut||g(this),!(0,K.checkDimensions)(this,a))return t.HTMLResult.FAILURE;const xt=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const wt=this[n.$getSubformParent]().columnWidths;Array.isArray(wt)&&wt.length>0&&(this[n.$extra].columnWidths=wt,this[n.$extra].currentColumn=0)}const bt=(0,e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),Tt=["xfaSubform"],Dt=(0,e.layoutClass)(this);if(Dt&&Tt.push(Dt),Me.style=bt,Me.class=Tt,this.name&&(Me.xfaName=this.name),this.overflow){const wt=this.overflow[n.$getExtra]();wt.addLeader&&(wt.addLeader=!1,T(this,wt.leader,a))}this[n.$pushPara]();const $t=this.layout==="lr-tb"||this.layout==="rl-tb",jt=$t?i:1;for(;this[n.$extra].attempt<jt;this[n.$extra].attempt++){$t&&this[n.$extra].attempt===i-1&&(this[n.$extra].numberInLine=0);const wt=this[n.$childrenToHTML]({filter:xt,include:!0});if(wt.success)break;if(wt.isBreak())return this[n.$popPara](),wt;if($t&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine===0&&!He[n.$extra].noLayoutFailure){this[n.$extra].attempt=jt;break}}if(this[n.$popPara](),ut||k(this),He[n.$extra].noLayoutFailure=Ke,this[n.$extra].attempt===jt)return this.overflow&&(this[n.$getTemplateRoot]()[n.$extra].overflowNode=this.overflow),ut||delete this[n.$extra],t.HTMLResult.FAILURE;if(this.overflow){const wt=this.overflow[n.$getExtra]();wt.addTrailer&&(wt.addTrailer=!1,T(this,wt.trailer,a))}let Ht=0,zt=0;this.margin&&(Ht=this.margin.leftInset+this.margin.rightInset,zt=this.margin.topInset+this.margin.bottomInset);const Ot=Math.max(this[n.$extra].width+Ht,this.w||0),Wt=Math.max(this[n.$extra].height+zt,this.h||0),Xt=[this.x,this.y,Ot,Wt];if(this.w===""&&(bt.width=(0,e.measureToString)(Ot)),this.h===""&&(bt.height=(0,e.measureToString)(Wt)),(bt.width==="0px"||bt.height==="0px")&&se.length===0)return t.HTMLResult.EMPTY;const Yt={name:"div",attributes:Me,children:se};A(this,Me);const qt=t.HTMLResult.success((0,e.createWrapper)(this,Yt),Xt);if(this.breakAfter.children.length>=1){const wt=this.breakAfter.children[0];if(D(wt))return this[n.$extra].afterBreakAfter=qt,t.HTMLResult.breakNode(wt)}return delete this[n.$extra],qt}}class pn extends n.XFAObject{constructor(a){super(C,"subformSet",!0),this.id=a.id||"",this.name=a.name||"",this.relation=(0,t.getStringOption)(a.relation,["ordered","choice","unordered"]),this.relevant=(0,t.getRelevant)(a.relevant),this.use=a.use||"",this.usehref=a.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new n.XFAObjectArray,this.breakBefore=new n.XFAObjectArray,this.subform=new n.XFAObjectArray,this.subformSet=new n.XFAObjectArray}*[n.$getContainedChildren](){yield*m(this)}[n.$getSubformParent](){let a=this[n.$getParent]();for(;!(a instanceof Sn);)a=a[n.$getParent]();return a}[n.$isBindable](){return!0}}class Ln extends n.ContentObject{constructor(a){super(C,"subjectDN"),this.delimiter=a.delimiter||",",this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||""}[n.$finalize](){this[n.$content]=new Map(this[n.$content].split(this.delimiter).map(a=>(a=a.split("=",2),a[0]=a[0].trim(),a)))}}class Bn extends n.XFAObject{constructor(a){super(C,"subjectDNs",!0),this.id=a.id||"",this.type=(0,t.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||"",this.subjectDN=new n.XFAObjectArray}}class jn extends n.XFAObject{constructor(a){super(C,"submit",!0),this.embedPDF=(0,t.getInteger)({data:a.embedPDF,defaultValue:0,validate:se=>se===1}),this.format=(0,t.getStringOption)(a.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=a.id||"",this.target=a.target||"",this.textEncoding=(0,t.getKeyword)({data:a.textEncoding?a.textEncoding.toLowerCase():"",defaultValue:"",validate:se=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(se)||se.match(/iso-8859-\d{2}/)}),this.use=a.use||"",this.usehref=a.usehref||"",this.xdpContent=a.xdpContent||"",this.encrypt=null,this.encryptData=new n.XFAObjectArray,this.signData=new n.XFAObjectArray}}class mn extends n.XFAObject{constructor(a){super(C,"template",!0),this.baseProfile=(0,t.getStringOption)(a.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new n.XFAObjectArray}[n.$finalize](){this.subform.children.length===0&&(0,H.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,H.warn)("XFA - Several subforms in template node: please file a bug."),this[n.$tabIndex]=B}[n.$isSplittable](){return!0}[n.$searchNode](a,se){return a.startsWith("#")?[this[n.$ids].get(a.slice(1))]:(0,I.searchNode)(this,se,a,!0,!0)}*[n.$toPages](){var zt,Ot,Wt;if(!this.subform.children.length)return t.HTMLResult.success({name:"div",children:[]});this[n.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const a=this.subform.children[0];a.pageSet[n.$cleanPage]();const se=a.pageSet.pageArea.children,Me={name:"div",children:[]};let He=null,Ke=null,ut=null;if(a.breakBefore.children.length>=1?(Ke=a.breakBefore.children[0],ut=Ke.target):a.subform.children.length>=1&&a.subform.children[0].breakBefore.children.length>=1?(Ke=a.subform.children[0].breakBefore.children[0],ut=Ke.target):(zt=a.break)!=null&&zt.beforeTarget?(Ke=a.break,ut=Ke.beforeTarget):a.subform.children.length>=1&&((Ot=a.subform.children[0].break)!=null&&Ot.beforeTarget)&&(Ke=a.subform.children[0].break,ut=Ke.beforeTarget),Ke){const Xt=this[n.$searchNode](ut,Ke[n.$getParent]());Xt instanceof Ze&&(He=Xt,Ke[n.$extra]={})}He||(He=se[0]),He[n.$extra]={numberOfUse:1};const xt=He[n.$getParent]();xt[n.$extra]={numberOfUse:1,pageIndex:xt.pageArea.children.indexOf(He),pageSetIndex:0};let bt,Tt=null,Dt=null,$t=!0,jt=0,Ht=0;for(;;){if($t)jt=0;else if(Me.children.pop(),++jt===F)return(0,H.warn)("XFA - Something goes wrong: please file a bug."),Me;bt=null,this[n.$extra].currentPageArea=He;const Xt=He[n.$toHTML]().html;Me.children.push(Xt),Tt&&(this[n.$extra].noLayoutFailure=!0,Xt.children.push(Tt[n.$toHTML](He[n.$extra].space).html),Tt=null),Dt&&(this[n.$extra].noLayoutFailure=!0,Xt.children.push(Dt[n.$toHTML](He[n.$extra].space).html),Dt=null);const Yt=He.contentArea.children,qt=Xt.children.filter(wt=>wt.attributes.class.includes("xfaContentarea"));$t=!1,this[n.$extra].firstUnsplittable=null,this[n.$extra].noLayoutFailure=!1;const Nt=wt=>{var Jt;const Qt=a[n.$flushHTML]();Qt&&($t||($t=((Jt=Qt.children)==null?void 0:Jt.length)>0),qt[wt].children.push(Qt))};for(let wt=Ht,Qt=Yt.length;wt<Qt;wt++){const Jt=this[n.$extra].currentContentArea=Yt[wt],sn={width:Jt.w,height:Jt.h};Ht=0,Tt&&(qt[wt].children.push(Tt[n.$toHTML](sn).html),Tt=null),Dt&&(qt[wt].children.push(Dt[n.$toHTML](sn).html),Dt=null);const en=a[n.$toHTML](sn);if(en.success)return en.html?($t||($t=((Wt=en.html.children)==null?void 0:Wt.length)>0),qt[wt].children.push(en.html)):!$t&&Me.children.length>1&&Me.children.pop(),Me;if(en.isBreak()){const Vt=en.breakNode;if(Nt(wt),Vt.targetType==="auto")continue;Vt.leader&&(Tt=this[n.$searchNode](Vt.leader,Vt[n.$getParent]()),Tt=Tt?Tt[0]:null),Vt.trailer&&(Dt=this[n.$searchNode](Vt.trailer,Vt[n.$getParent]()),Dt=Dt?Dt[0]:null),Vt.targetType==="pageArea"?(bt=Vt[n.$extra].target,wt=1/0):Vt[n.$extra].target?(bt=Vt[n.$extra].target,Ht=Vt[n.$extra].index+1,wt=1/0):wt=Vt[n.$extra].index;continue}if(this[n.$extra].overflowNode){const Vt=this[n.$extra].overflowNode;this[n.$extra].overflowNode=null;const bn=Vt[n.$getExtra](),hn=bn.target;bn.addLeader=bn.leader!==null,bn.addTrailer=bn.trailer!==null,Nt(wt);const zi=wt;if(wt=1/0,hn instanceof Ze)bt=hn;else if(hn instanceof ne){const Cn=Yt.indexOf(hn);Cn!==-1?Cn>zi?wt=Cn-1:Ht=Cn:(bt=hn[n.$getParent](),Ht=bt.contentArea.children.indexOf(hn))}continue}Nt(wt)}this[n.$extra].pageNumber+=1,bt&&(bt[n.$isUsable]()?bt[n.$extra].numberOfUse+=1:bt=null),He=bt||He[n.$getNextPage](),yield null}}}S.Template=mn;class An extends n.ContentObject{constructor(a){super(C,"text"),this.id=a.id||"",this.maxChars=(0,t.getInteger)({data:a.maxChars,defaultValue:0,validate:se=>se>=0}),this.name=a.name||"",this.rid=a.rid||"",this.use=a.use||"",this.usehref=a.usehref||""}[n.$acceptWhitespace](){return!0}[n.$onChild](a){return a[n.$namespaceId]===l.NamespaceIds.xhtml.id?(this[n.$content]=a,!0):((0,H.warn)(`XFA - Invalid content in Text: ${a[n.$nodeName]}.`),!1)}[n.$onText](a){this[n.$content]instanceof n.XFAObject||super[n.$onText](a)}[n.$finalize](){typeof this[n.$content]=="string"&&(this[n.$content]=this[n.$content].replaceAll(`\r
`,`
`))}[n.$getExtra](){return typeof this[n.$content]=="string"?this[n.$content].split(/[\u2029\u2028\n]/).reduce((a,se)=>(se&&a.push(se),a),[]).join(`
`):this[n.$content][n.$text]()}[n.$toHTML](a){if(typeof this[n.$content]=="string"){const se=h(this[n.$content]).html;return this[n.$content].includes("\u2029")?(se.name="div",se.children=[],this[n.$content].split("\u2029").map(Me=>Me.split(/[\u2028\n]/).reduce((He,Ke)=>(He.push({name:"span",value:Ke},{name:"br"}),He),[])).forEach(Me=>{se.children.push({name:"p",children:Me})})):/[\u2028\n]/.test(this[n.$content])&&(se.name="div",se.children=[],this[n.$content].split(/[\u2028\n]/).forEach(Me=>{se.children.push({name:"span",value:Me},{name:"br"})})),t.HTMLResult.success(se)}return this[n.$content][n.$toHTML](a)}}S.Text=An;class vn extends n.XFAObject{constructor(a){super(C,"textEdit",!0),this.allowRichText=(0,t.getInteger)({data:a.allowRichText,defaultValue:0,validate:se=>se===1}),this.hScrollPolicy=(0,t.getStringOption)(a.hScrollPolicy,["auto","off","on"]),this.id=a.id||"",this.multiLine=(0,t.getInteger)({data:a.multiLine,defaultValue:"",validate:se=>se===0||se===1}),this.use=a.use||"",this.usehref=a.usehref||"",this.vScrollPolicy=(0,t.getStringOption)(a.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](a){var Ke,ut;const se=(0,e.toStyle)(this,"border","font","margin");let Me;const He=this[n.$getParent]()[n.$getParent]();return this.multiLine===""&&(this.multiLine=He instanceof we?1:0),this.multiLine===1?Me={name:"textarea",attributes:{dataId:((Ke=He[n.$data])==null?void 0:Ke[n.$uid])||He[n.$uid],fieldId:He[n.$uid],class:["xfaTextfield"],style:se,"aria-label":L(He),"aria-required":!1}}:Me={name:"input",attributes:{type:"text",dataId:((ut=He[n.$data])==null?void 0:ut[n.$uid])||He[n.$uid],fieldId:He[n.$uid],class:["xfaTextfield"],style:se,"aria-label":L(He),"aria-required":!1}},P(He)&&(Me.attributes["aria-required"]=!0,Me.attributes.required=!0),t.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Me]})}}class $n extends n.StringObject{constructor(a){super(C,"time"),this.id=a.id||"",this.name=a.name||"",this.use=a.use||"",this.usehref=a.usehref||""}[n.$finalize](){const a=this[n.$content].trim();this[n.$content]=a?new Date(a):null}[n.$toHTML](a){return h(this[n.$content]?this[n.$content].toString():"")}}class Un extends n.XFAObject{constructor(a){super(C,"timeStamp"),this.id=a.id||"",this.server=a.server||"",this.type=(0,t.getStringOption)(a.type,["optional","required"]),this.use=a.use||"",this.usehref=a.usehref||""}}class Hn extends n.StringObject{constructor(a){super(C,"toolTip"),this.id=a.id||"",this.rid=a.rid||"",this.use=a.use||"",this.usehref=a.usehref||""}}class Xn extends n.XFAObject{constructor(a){super(C,"traversal",!0),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null,this.traverse=new n.XFAObjectArray}}class zn extends n.XFAObject{constructor(a){super(C,"traverse",!0),this.id=a.id||"",this.operation=(0,t.getStringOption)(a.operation,["next","back","down","first","left","right","up"]),this.ref=a.ref||"",this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[n.$isTransparent](){return!1}}class xn extends n.XFAObject{constructor(a){super(C,"ui",!0),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[n.$getExtra](){if(this[n.$extra]===void 0){for(const a of Object.getOwnPropertyNames(this)){if(a==="extras"||a==="picture")continue;const se=this[a];if(se instanceof n.XFAObject)return this[n.$extra]=se,se}this[n.$extra]=null}return this[n.$extra]}[n.$toHTML](a){const se=this[n.$getExtra]();return se?se[n.$toHTML](a):t.HTMLResult.EMPTY}}class Gn extends n.XFAObject{constructor(a){super(C,"validate",!0),this.formatTest=(0,t.getStringOption)(a.formatTest,["warning","disabled","error"]),this.id=a.id||"",this.nullTest=(0,t.getStringOption)(a.nullTest,["disabled","error","warning"]),this.scriptTest=(0,t.getStringOption)(a.scriptTest,["error","disabled","warning"]),this.use=a.use||"",this.usehref=a.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class cn extends n.XFAObject{constructor(a){super(C,"value",!0),this.id=a.id||"",this.override=(0,t.getInteger)({data:a.override,defaultValue:0,validate:se=>se===1}),this.relevant=(0,t.getRelevant)(a.relevant),this.use=a.use||"",this.usehref=a.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[n.$setValue](a){var He;const se=this[n.$getParent]();if(se instanceof Ye&&(He=se.ui)!=null&&He.imageEdit){this.image||(this.image=new Ct({}),this[n.$appendChild](this.image)),this.image[n.$content]=a[n.$content];return}const Me=a[n.$nodeName];if(this[Me]!==null){this[Me][n.$content]=a[n.$content];return}for(const Ke of Object.getOwnPropertyNames(this)){const ut=this[Ke];ut instanceof n.XFAObject&&(this[Ke]=null,this[n.$removeChild](ut))}this[a[n.$nodeName]]=a,this[n.$appendChild](a)}[n.$text](){if(this.exData)return typeof this.exData[n.$content]=="string"?this.exData[n.$content].trim():this.exData[n.$content][n.$text]().trim();for(const a of Object.getOwnPropertyNames(this)){if(a==="image")continue;const se=this[a];if(se instanceof n.XFAObject)return(se[n.$content]||"").toString().trim()}return null}[n.$toHTML](a){for(const se of Object.getOwnPropertyNames(this)){const Me=this[se];if(Me instanceof n.XFAObject)return Me[n.$toHTML](a)}return t.HTMLResult.EMPTY}}S.Value=cn;class Wn extends n.XFAObject{constructor(a){super(C,"variables",!0),this.id=a.id||"",this.use=a.use||"",this.usehref=a.usehref||"",this.boolean=new n.XFAObjectArray,this.date=new n.XFAObjectArray,this.dateTime=new n.XFAObjectArray,this.decimal=new n.XFAObjectArray,this.exData=new n.XFAObjectArray,this.float=new n.XFAObjectArray,this.image=new n.XFAObjectArray,this.integer=new n.XFAObjectArray,this.manifest=new n.XFAObjectArray,this.script=new n.XFAObjectArray,this.text=new n.XFAObjectArray,this.time=new n.XFAObjectArray}[n.$isTransparent](){return!0}}class ln{static[l.$buildXFAObject](a,se){if(ln.hasOwnProperty(a)){const Me=ln[a](se);return Me[n.$setSetAttributes](se),Me}}static appearanceFilter(a){return new V(a)}static arc(a){return new q(a)}static area(a){return new v(a)}static assist(a){return new x(a)}static barcode(a){return new E(a)}static bind(a){return new U(a)}static bindItems(a){return new $(a)}static bookend(a){return new Q(a)}static boolean(a){return new ie(a)}static border(a){return new j(a)}static break(a){return new X(a)}static breakAfter(a){return new R(a)}static breakBefore(a){return new Z(a)}static button(a){return new N(a)}static calculate(a){return new M(a)}static caption(a){return new c(a)}static certificate(a){return new _(a)}static certificates(a){return new W(a)}static checkButton(a){return new Y(a)}static choiceList(a){return new J(a)}static color(a){return new ae(a)}static comb(a){return new oe(a)}static connect(a){return new he(a)}static contentArea(a){return new ne(a)}static corner(a){return new re(a)}static date(a){return new de(a)}static dateTime(a){return new ue(a)}static dateTimeEdit(a){return new ge(a)}static decimal(a){return new pe(a)}static defaultUi(a){return new xe(a)}static desc(a){return new Ie(a)}static digestMethod(a){return new Fe(a)}static digestMethods(a){return new Ae(a)}static draw(a){return new we(a)}static edge(a){return new be(a)}static encoding(a){return new Ee(a)}static encodings(a){return new _e(a)}static encrypt(a){return new Re(a)}static encryptData(a){return new Pe(a)}static encryption(a){return new ve(a)}static encryptionMethod(a){return new Te(a)}static encryptionMethods(a){return new je(a)}static event(a){return new Ce(a)}static exData(a){return new ke(a)}static exObject(a){return new Le(a)}static exclGroup(a){return new Ge(a)}static execute(a){return new Oe(a)}static extras(a){return new tt(a)}static field(a){return new Ye(a)}static fill(a){return new et(a)}static filter(a){return new Xe(a)}static float(a){return new Qe(a)}static font(a){return new it(a)}static format(a){return new qe(a)}static handler(a){return new gt(a)}static hyphenation(a){return new mt(a)}static image(a){return new Ct(a)}static imageEdit(a){return new Pt(a)}static integer(a){return new st(a)}static issuers(a){return new dt(a)}static items(a){return new ot(a)}static keep(a){return new _t(a)}static keyUsage(a){return new Mt(a)}static line(a){return new Et(a)}static linear(a){return new St(a)}static lockDocument(a){return new Lt(a)}static manifest(a){return new We(a)}static margin(a){return new Ue(a)}static mdp(a){return new Je(a)}static medium(a){return new Ve(a)}static message(a){return new at(a)}static numericEdit(a){return new ft(a)}static occur(a){return new ct(a)}static oid(a){return new Se(a)}static oids(a){return new De(a)}static overflow(a){return new $e(a)}static pageArea(a){return new Ze(a)}static pageSet(a){return new nt(a)}static para(a){return new pt(a)}static passwordEdit(a){return new yt(a)}static pattern(a){return new lt(a)}static picture(a){return new At(a)}static proto(a){return new ht(a)}static radial(a){return new Ft(a)}static reason(a){return new It(a)}static reasons(a){return new Gt(a)}static rectangle(a){return new vt(a)}static ref(a){return new kt(a)}static script(a){return new Bt(a)}static setProperty(a){return new Ut(a)}static signData(a){return new Kt(a)}static signature(a){return new rn(a)}static signing(a){return new Mn(a)}static solid(a){return new Rn(a)}static speak(a){return new Dn(a)}static stipple(a){return new Nn(a)}static subform(a){return new Sn(a)}static subformSet(a){return new pn(a)}static subjectDN(a){return new Ln(a)}static subjectDNs(a){return new Bn(a)}static submit(a){return new jn(a)}static template(a){return new mn(a)}static text(a){return new An(a)}static textEdit(a){return new vn(a)}static time(a){return new $n(a)}static timeStamp(a){return new Un(a)}static toolTip(a){return new Hn(a)}static traversal(a){return new Xn(a)}static traverse(a){return new zn(a)}static ui(a){return new xn(a)}static validate(a){return new Gn(a)}static value(a){return new cn(a)}static variables(a){return new Wn(a)}}S.TemplateNamespace=ln},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.addHTML=t,S.checkDimensions=G,S.flushHTML=e,S.getAvailableSpace=H;var n=ee(78),l=ee(85);function K(I,C){return{name:"div",attributes:{class:[I.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:C}}function e(I){if(!I[n.$extra])return null;const w={name:"div",attributes:I[n.$extra].attributes,children:I[n.$extra].children};if(I[n.$extra].failingNode){const i=I[n.$extra].failingNode[n.$flushHTML]();i&&(I.layout.endsWith("-tb")?w.children.push(K(I,[i])):w.children.push(i))}return w.children.length===0?null:w}function t(I,C,w){const i=I[n.$extra],F=i.availableSpace,[B,u,s,o]=w;switch(I.layout){case"position":{i.width=Math.max(i.width,B+s),i.height=Math.max(i.height,u+o),i.children.push(C);break}case"lr-tb":case"rl-tb":(!i.line||i.attempt===1)&&(i.line=K(I,[]),i.children.push(i.line),i.numberInLine=0),i.numberInLine+=1,i.line.children.push(C),i.attempt===0?(i.currentWidth+=s,i.height=Math.max(i.height,i.prevHeight+o)):(i.currentWidth=s,i.prevHeight=i.height,i.height+=o,i.attempt=0),i.width=Math.max(i.width,i.currentWidth);break;case"rl-row":case"row":{i.children.push(C),i.width+=s,i.height=Math.max(i.height,o);const y=(0,l.measureToString)(i.height);for(const r of i.children)r.attributes.style.height=y;break}case"table":{i.width=Math.min(F.width,Math.max(i.width,s)),i.height+=o,i.children.push(C);break}case"tb":{i.width=Math.min(F.width,Math.max(i.width,s)),i.height+=o,i.children.push(C);break}}}function H(I){const C=I[n.$extra].availableSpace,w=I.margin?I.margin.topInset+I.margin.bottomInset:0,i=I.margin?I.margin.leftInset+I.margin.rightInset:0;switch(I.layout){case"lr-tb":case"rl-tb":return I[n.$extra].attempt===0?{width:C.width-i-I[n.$extra].currentWidth,height:C.height-w-I[n.$extra].prevHeight}:{width:C.width-i,height:C.height-w-I[n.$extra].height};case"rl-row":case"row":return{width:I[n.$extra].columnWidths.slice(I[n.$extra].currentColumn).reduce((B,u)=>B+u),height:C.height-i};case"table":case"tb":return{width:C.width-i,height:C.height-w-I[n.$extra].height};case"position":default:return C}}function z(I){let C=I.w===""?NaN:I.w,w=I.h===""?NaN:I.h,[i,F]=[0,0];switch(I.anchorType||""){case"bottomCenter":[i,F]=[C/2,w];break;case"bottomLeft":[i,F]=[0,w];break;case"bottomRight":[i,F]=[C,w];break;case"middleCenter":[i,F]=[C/2,w/2];break;case"middleLeft":[i,F]=[0,w/2];break;case"middleRight":[i,F]=[C,w/2];break;case"topCenter":[i,F]=[C/2,0];break;case"topRight":[i,F]=[C,0];break}let B,u;switch(I.rotate||0){case 0:[B,u]=[-i,-F];break;case 90:[B,u]=[-F,i],[C,w]=[w,-C];break;case 180:[B,u]=[i,F],[C,w]=[-C,-w];break;case 270:[B,u]=[F,-i],[C,w]=[-w,C];break}return[I.x+B+Math.min(0,C),I.y+u+Math.min(0,w),Math.abs(C),Math.abs(w)]}function G(I,C){var o;if(I[n.$getTemplateRoot]()[n.$extra].firstUnsplittable===null||I.w===0||I.h===0)return!0;const w=2,i=I[n.$getSubformParent](),F=((o=i[n.$extra])==null?void 0:o.attempt)||0,[,B,u,s]=z(I);switch(i.layout){case"lr-tb":case"rl-tb":return F===0?I[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?I.w!==""?Math.round(u-C.width)<=w:C.width>w:I.h!==""&&Math.round(s-C.height)>w?!1:I.w!==""?Math.round(u-C.width)<=w?!0:i[n.$extra].numberInLine===0?C.height>w:!1:C.width>w:I[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?!0:I.h!==""&&Math.round(s-C.height)>w?!1:I.w===""||Math.round(u-C.width)<=w?C.height>w:i[n.$isThereMoreWidth]()?!1:C.height>w;case"table":case"tb":return I[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?!0:I.h!==""&&!I[n.$isSplittable]()?Math.round(s-C.height)<=w:I.w===""||Math.round(u-C.width)<=w?C.height>w:i[n.$isThereMoreWidth]()?!1:C.height>w;case"position":if(I[n.$getTemplateRoot]()[n.$extra].noLayoutFailure||I.h===""||Math.round(s+B-C.height)<=w)return!0;const y=I[n.$getTemplateRoot]()[n.$extra].currentContentArea;return s+B>y.h;case"rl-row":case"row":return I[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?!0:I.h!==""?Math.round(s-C.height)<=w:!0;default:return!0}}},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.computeBbox=w,S.createWrapper=u,S.fixDimensions=i,S.fixTextIndent=s,S.fixURL=P,S.isPrintOnly=y,S.layoutClass=F,S.layoutNode=C,S.measureToString=H,S.setAccess=o,S.setFontFamily=m,S.setMinMaxDimensions=G,S.setPara=f,S.toStyle=B;var n=ee(78),l=ee(2),K=ee(79),e=ee(86),t=ee(87);function H(d){return typeof d=="string"?"0px":Number.isInteger(d)?`${d}px`:`${d.toFixed(2)}px`}const z={anchorType(d,A){const L=d[n.$getSubformParent]();if(!(!L||L.layout&&L.layout!=="position"))switch("transform"in A||(A.transform=""),d.anchorType){case"bottomCenter":A.transform+="translate(-50%, -100%)";break;case"bottomLeft":A.transform+="translate(0,-100%)";break;case"bottomRight":A.transform+="translate(-100%,-100%)";break;case"middleCenter":A.transform+="translate(-50%,-50%)";break;case"middleLeft":A.transform+="translate(0,-50%)";break;case"middleRight":A.transform+="translate(-100%,-50%)";break;case"topCenter":A.transform+="translate(-50%,0)";break;case"topRight":A.transform+="translate(-100%,0)";break}},dimensions(d,A){var k;const L=d[n.$getSubformParent]();let h=d.w;const g=d.h;if((k=L.layout)!=null&&k.includes("row")){const D=L[n.$extra],T=d.colSpan;let V;T===-1?(V=D.columnWidths.slice(D.currentColumn).reduce((q,v)=>q+v,0),D.currentColumn=0):(V=D.columnWidths.slice(D.currentColumn,D.currentColumn+T).reduce((q,v)=>q+v,0),D.currentColumn=(D.currentColumn+d.colSpan)%D.columnWidths.length),isNaN(V)||(h=d.w=V)}h!==""?A.width=H(h):A.width="auto",g!==""?A.height=H(g):A.height="auto"},position(d,A){const L=d[n.$getSubformParent]();L!=null&&L.layout&&L.layout!=="position"||(A.position="absolute",A.left=H(d.x),A.top=H(d.y))},rotate(d,A){d.rotate&&("transform"in A||(A.transform=""),A.transform+=`rotate(-${d.rotate}deg)`,A.transformOrigin="top left")},presence(d,A){switch(d.presence){case"invisible":A.visibility="hidden";break;case"hidden":case"inactive":A.display="none";break}},hAlign(d,A){if(d[n.$nodeName]==="para")switch(d.hAlign){case"justifyAll":A.textAlign="justify-all";break;case"radix":A.textAlign="left";break;default:A.textAlign=d.hAlign}else switch(d.hAlign){case"left":A.alignSelf="start";break;case"center":A.alignSelf="center";break;case"right":A.alignSelf="end";break}},margin(d,A){d.margin&&(A.margin=d.margin[n.$toStyle]().margin)}};function G(d,A){d[n.$getSubformParent]().layout==="position"&&(d.minW>0&&(A.minWidth=H(d.minW)),d.maxW>0&&(A.maxWidth=H(d.maxW)),d.minH>0&&(A.minHeight=H(d.minH)),d.maxH>0&&(A.maxHeight=H(d.maxH)))}function I(d,A,L,h,g,k){const D=new t.TextMeasure(A,L,h,g);return typeof d=="string"?D.addString(d):d[n.$pushGlyphs](D),D.compute(k)}function C(d,A){let L=null,h=null,g=!1;if((!d.w||!d.h)&&d.value){let k=0,D=0;d.margin&&(k=d.margin.leftInset+d.margin.rightInset,D=d.margin.topInset+d.margin.bottomInset);let T=null,V=null;d.para&&(V=Object.create(null),T=d.para.lineHeight===""?null:d.para.lineHeight,V.top=d.para.spaceAbove===""?0:d.para.spaceAbove,V.bottom=d.para.spaceBelow===""?0:d.para.spaceBelow,V.left=d.para.marginLeft===""?0:d.para.marginLeft,V.right=d.para.marginRight===""?0:d.para.marginRight);let q=d.font;if(!q){const E=d[n.$getTemplateRoot]();let U=d[n.$getParent]();for(;U&&U!==E;){if(U.font){q=U.font;break}U=U[n.$getParent]()}}const v=(d.w||A.width)-k,x=d[n.$globalData].fontFinder;if(d.value.exData&&d.value.exData[n.$content]&&d.value.exData.contentType==="text/html"){const E=I(d.value.exData[n.$content],q,V,T,x,v);h=E.width,L=E.height,g=E.isBroken}else{const E=d.value[n.$text]();if(E){const U=I(E,q,V,T,x,v);h=U.width,L=U.height,g=U.isBroken}}h!==null&&!d.w&&(h+=k),L!==null&&!d.h&&(L+=D)}return{w:h,h:L,isBroken:g}}function w(d,A,L){let h;if(d.w!==""&&d.h!=="")h=[d.x,d.y,d.w,d.h];else{if(!L)return null;let g=d.w;if(g===""){if(d.maxW===0){const D=d[n.$getSubformParent]();D.layout==="position"&&D.w!==""?g=0:g=d.minW}else g=Math.min(d.maxW,L.width);A.attributes.style.width=H(g)}let k=d.h;if(k===""){if(d.maxH===0){const D=d[n.$getSubformParent]();D.layout==="position"&&D.h!==""?k=0:k=d.minH}else k=Math.min(d.maxH,L.height);A.attributes.style.height=H(k)}h=[d.x,d.y,g,k]}return h}function i(d){var L;const A=d[n.$getSubformParent]();if((L=A.layout)!=null&&L.includes("row")){const h=A[n.$extra],g=d.colSpan;let k;g===-1?k=h.columnWidths.slice(h.currentColumn).reduce((D,T)=>D+T,0):k=h.columnWidths.slice(h.currentColumn,h.currentColumn+g).reduce((D,T)=>D+T,0),isNaN(k)||(d.w=k)}A.layout&&A.layout!=="position"&&(d.x=d.y=0),d.layout==="table"&&d.w===""&&Array.isArray(d.columnWidths)&&(d.w=d.columnWidths.reduce((h,g)=>h+g,0))}function F(d){switch(d.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function B(d,...A){const L=Object.create(null);for(const h of A){const g=d[h];if(g!==null){if(z.hasOwnProperty(h)){z[h](d,L);continue}if(g instanceof n.XFAObject){const k=g[n.$toStyle]();k?Object.assign(L,k):(0,l.warn)(`(DEBUG) - XFA - style for ${h} not implemented yet`)}}}return L}function u(d,A){const{attributes:L}=A,{style:h}=L,g={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(L.class.push("xfaWrapped"),d.border){const{widths:k,insets:D}=d.border[n.$extra];let T,V,q=D[0],v=D[3];const x=D[0]+D[2],E=D[1]+D[3];switch(d.border.hand){case"even":q-=k[0]/2,v-=k[3]/2,T=`calc(100% + ${(k[1]+k[3])/2-E}px)`,V=`calc(100% + ${(k[0]+k[2])/2-x}px)`;break;case"left":q-=k[0],v-=k[3],T=`calc(100% + ${k[1]+k[3]-E}px)`,V=`calc(100% + ${k[0]+k[2]-x}px)`;break;case"right":T=E?`calc(100% - ${E}px)`:"100%",V=x?`calc(100% - ${x}px)`:"100%";break}const U=["xfaBorder"];y(d.border)&&U.push("xfaPrintOnly");const $={name:"div",attributes:{class:U,style:{top:`${q}px`,left:`${v}px`,width:T,height:V}},children:[]};for(const Q of["border","borderWidth","borderColor","borderRadius","borderStyle"])h[Q]!==void 0&&($.attributes.style[Q]=h[Q],delete h[Q]);g.children.push($,A)}else g.children.push(A);for(const k of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])h[k]!==void 0&&(g.attributes.style[k]=h[k],delete h[k]);return h.position==="absolute"?g.attributes.style.position="absolute":g.attributes.style.position="relative",delete h.position,h.alignSelf&&(g.attributes.style.alignSelf=h.alignSelf,delete h.alignSelf),g}function s(d){const A=(0,K.getMeasurement)(d.textIndent,"0px");if(A>=0)return;const h="padding"+((d.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),g=(0,K.getMeasurement)(d[h],"0px");d[h]=`${g-A}px`}function o(d,A){switch(d.access){case"nonInteractive":A.push("xfaNonInteractive");break;case"readOnly":A.push("xfaReadOnly");break;case"protected":A.push("xfaDisabled");break}}function y(d){return d.relevant.length>0&&!d.relevant[0].excluded&&d.relevant[0].viewname==="print"}function r(d){const A=d[n.$getTemplateRoot]()[n.$extra].paraStack;return A.length?A.at(-1):null}function f(d,A,L){var h;if((h=L.attributes.class)!=null&&h.includes("xfaRich")){A&&(d.h===""&&(A.height="auto"),d.w===""&&(A.width="auto"));const g=r(d);if(g){const k=L.attributes.style;switch(k.display="flex",k.flexDirection="column",g.vAlign){case"top":k.justifyContent="start";break;case"bottom":k.justifyContent="end";break;case"middle":k.justifyContent="center";break}const D=g[n.$toStyle]();for(const[T,V]of Object.entries(D))T in k||(k[T]=V)}}}function m(d,A,L,h){if(!L){delete h.fontFamily;return}const g=(0,K.stripQuotes)(d.typeface);h.fontFamily=`"${g}"`;const k=L.find(g);if(k){const{fontFamily:D}=k.regular.cssFontInfo;D!==g&&(h.fontFamily=`"${D}"`);const T=r(A);if(T&&T.lineHeight!==""||h.lineHeight)return;const V=(0,e.selectFont)(d,k);V&&(h.lineHeight=Math.max(1.2,V.lineHeight))}}function P(d){const A=(0,l.createValidAbsoluteUrl)(d,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return A?A.href:null}},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.FontFinder=void 0,S.getMetrics=H,S.selectFont=t;var n=ee(78),l=ee(79),K=ee(2);class e{constructor(G){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(G)}add(G,I=null){for(const w of G)this.addPdfFont(w);for(const w of this.fonts.values())w.regular||(w.regular=w.italic||w.bold||w.bolditalic);if(!I||I.size===0)return;const C=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const w of I)this.fonts.set(w,C)}addPdfFont(G){var B,u,s;const I=G.cssFontInfo,C=I.fontFamily;let w=this.fonts.get(C);w||(w=Object.create(null),this.fonts.set(C,w),this.defaultFont||(this.defaultFont=w));let i="";const F=parseFloat(I.fontWeight);parseFloat(I.italicAngle)!==0?i=F>=700?"bolditalic":"italic":F>=700&&(i="bold"),i||((G.name.includes("Bold")||(B=G.psName)!=null&&B.includes("Bold"))&&(i="bold"),(G.name.includes("Italic")||G.name.endsWith("It")||(u=G.psName)!=null&&u.includes("Italic")||(s=G.psName)!=null&&s.endsWith("It"))&&(i+="italic")),i||(i="regular"),w[i]=G}getDefault(){return this.defaultFont}find(G,I=!0){var B,u;let C=this.fonts.get(G)||this.cache.get(G);if(C)return C;const w=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let i=G.replaceAll(w,"");if(C=this.fonts.get(i),C)return this.cache.set(G,C),C;i=i.toLowerCase();const F=[];for(const[s,o]of this.fonts.entries())s.replaceAll(w,"").toLowerCase().startsWith(i)&&F.push(o);if(F.length===0)for(const[,s]of this.fonts.entries())(B=s.regular.name)!=null&&B.replaceAll(w,"").toLowerCase().startsWith(i)&&F.push(s);if(F.length===0){i=i.replaceAll(/psmt|mt/gi,"");for(const[s,o]of this.fonts.entries())s.replaceAll(w,"").toLowerCase().startsWith(i)&&F.push(o)}if(F.length===0)for(const s of this.fonts.values())(u=s.regular.name)!=null&&u.replaceAll(w,"").toLowerCase().startsWith(i)&&F.push(s);return F.length>=1?(F.length!==1&&I&&(0,K.warn)(`XFA - Too many choices to guess the correct font: ${G}`),this.cache.set(G,F[0]),F[0]):(I&&!this.warned.has(G)&&(this.warned.add(G),(0,K.warn)(`XFA - Cannot find the font: ${G}`)),null)}}S.FontFinder=e;function t(z,G){return z.posture==="italic"?z.weight==="bold"?G.bolditalic:G.italic:z.weight==="bold"?G.bold:G.regular}function H(z,G=!1){let I=null;if(z){const F=(0,l.stripQuotes)(z.typeface),B=z[n.$globalData].fontFinder.find(F);I=t(z,B)}if(!I)return{lineHeight:12,lineGap:2,lineNoGap:10};const C=z.size||10,w=I.lineHeight?Math.max(G?0:1.2,I.lineHeight):1.2,i=I.lineGap===void 0?.2:I.lineGap;return{lineHeight:w*C,lineGap:i*C,lineNoGap:Math.max(1,w-i)*C}}},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.TextMeasure=void 0;var n=ee(86);const l=1.02;class K{constructor(z,G,I,C){if(this.lineHeight=I,this.paraMargin=G||{top:0,bottom:0,left:0,right:0},!z){[this.pdfFont,this.xfaFont]=this.defaultFont(C);return}this.xfaFont={typeface:z.typeface,posture:z.posture,weight:z.weight,size:z.size,letterSpacing:z.letterSpacing};const w=C.find(z.typeface);if(!w){[this.pdfFont,this.xfaFont]=this.defaultFont(C);return}this.pdfFont=(0,n.selectFont)(z,w),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(C))}defaultFont(z){const G=z.find("Helvetica",!1)||z.find("Myriad Pro",!1)||z.find("Arial",!1)||z.getDefault();if(G!=null&&G.regular){const C=G.regular,i={typeface:C.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[C,i]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class e{constructor(z,G,I,C){this.fontFinder=C,this.stack=[new K(z,G,I,C)]}pushData(z,G,I){const C=this.stack.at(-1);for(const i of["typeface","posture","weight","size","letterSpacing"])z[i]||(z[i]=C.xfaFont[i]);for(const i of["top","bottom","left","right"])isNaN(G[i])&&(G[i]=C.paraMargin[i]);const w=new K(z,G,I||C.lineHeight,this.fontFinder);w.pdfFont||(w.pdfFont=C.pdfFont),this.stack.push(w)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class t{constructor(z,G,I,C){this.glyphs=[],this.fontSelector=new e(z,G,I,C),this.extraHeight=0}pushData(z,G,I){this.fontSelector.pushData(z,G,I)}popFont(z){return this.fontSelector.popFont()}addPara(){const z=this.fontSelector.topFont();this.extraHeight+=z.paraMargin.top+z.paraMargin.bottom}addString(z){if(!z)return;const G=this.fontSelector.topFont(),I=G.xfaFont.size;if(G.pdfFont){const C=G.xfaFont.letterSpacing,w=G.pdfFont,i=w.lineHeight||1.2,F=G.lineHeight||Math.max(1.2,i)*I,B=w.lineGap===void 0?.2:w.lineGap,u=i-B,s=Math.max(1,u)*I,o=I/1e3,y=w.defaultWidth||w.charsToGlyphs(" ")[0].width;for(const r of z.split(/[\u2029\n]/)){const f=w.encodeString(r).join(""),m=w.charsToGlyphs(f);for(const P of m){const d=P.width||y;this.glyphs.push([d*o+C,F,s,P.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const C of z.split(/[\u2029\n]/)){for(const w of C.split(""))this.glyphs.push([I,1.2*I,I,w,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(z){let G=-1,I=0,C=0,w=0,i=0,F=0,B=!1,u=!0;for(let s=0,o=this.glyphs.length;s<o;s++){const[y,r,f,m,P]=this.glyphs[s],d=m===" ",A=u?f:r;if(P){C=Math.max(C,i),i=0,w+=F,F=A,G=-1,I=0,u=!1;continue}if(d){i+y>z?(C=Math.max(C,i),i=0,w+=F,F=A,G=-1,I=0,B=!0,u=!1):(F=Math.max(A,F),I=i,i+=y,G=s);continue}if(i+y>z){w+=F,F=A,G!==-1?(s=G,C=Math.max(C,I),i=0,G=-1,I=0):(C=Math.max(C,i),i=y),B=!0,u=!1;continue}i+=y,F=Math.max(A,F)}return C=Math.max(C,i),w+=F+this.extraHeight,{width:l*C,height:w,isBroken:B}}}S.TextMeasure=t},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.DataHandler=void 0;var n=ee(78);class l{constructor(e,t){this.data=t,this.dataset=e.datasets||null}serialize(e){const t=[[-1,this.data[n.$getChildren]()]];for(;t.length>0;){const z=t.at(-1),[G,I]=z;if(G+1===I.length){t.pop();continue}const C=I[++z[0]],w=e.get(C[n.$uid]);if(w)C[n.$setValue](w);else{const F=C[n.$getAttributes]();for(const B of F.values()){const u=e.get(B[n.$uid]);if(u){B[n.$setValue](u);break}}}const i=C[n.$getChildren]();i.length>0&&t.push([-1,i])}const H=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const z of this.dataset[n.$getChildren]())z[n.$nodeName]!=="data"&&z[n.$toString](H);return this.data[n.$toString](H),H.push("</xfa:datasets>"),H.join("")}}S.DataHandler=l},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.XFAParser=void 0;var n=ee(78),l=ee(67),K=ee(90),e=ee(2);class t extends l.XMLParserBase{constructor(z=null,G=!1){super(),this._builder=new K.Builder(z),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=l.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=G}parse(z){if(this.parseXml(z),this._errorCode===l.XMLParserErrorCode.NoError)return this._current[n.$finalize](),this._current.element}onText(z){if(z=z.replace(this._nbsps,G=>G.slice(1)+" "),this._richText||this._current[n.$acceptWhitespace]()){this._current[n.$onText](z,this._richText);return}this._whiteRegex.test(z)||this._current[n.$onText](z.trim())}onCdata(z){this._current[n.$onText](z)}_mkAttributes(z,G){let I=null,C=null;const w=Object.create({});for(const{name:i,value:F}of z)if(i==="xmlns")I?(0,e.warn)(`XFA - multiple namespace definition in <${G}>`):I=F;else if(i.startsWith("xmlns:")){const B=i.substring(6);C||(C=[]),C.push({prefix:B,value:F})}else{const B=i.indexOf(":");if(B===-1)w[i]=F;else{let u=w[n.$nsAttributes];u||(u=w[n.$nsAttributes]=Object.create(null));const[s,o]=[i.slice(0,B),i.slice(B+1)],y=u[s]||(u[s]=Object.create(null));y[o]=F}}return[I,C,w]}_getNameAndPrefix(z,G){const I=z.indexOf(":");return I===-1?[z,null]:[z.substring(I+1),G?"":z.substring(0,I)]}onBeginElement(z,G,I){const[C,w,i]=this._mkAttributes(G,z),[F,B]=this._getNameAndPrefix(z,this._builder.isNsAgnostic()),u=this._builder.build({nsPrefix:B,name:F,attributes:i,namespace:C,prefixes:w});if(u[n.$globalData]=this._globalData,I){u[n.$finalize](),this._current[n.$onChild](u)&&u[n.$setId](this._ids),u[n.$clean](this._builder);return}this._stack.push(this._current),this._current=u}onEndElement(z){const G=this._current;if(G[n.$isCDATAXml]()&&typeof G[n.$content]=="string"){const I=new t;I._globalData=this._globalData;const C=I.parse(G[n.$content]);G[n.$content]=null,G[n.$onChild](C)}G[n.$finalize](),this._current=this._stack.pop(),this._current[n.$onChild](G)&&G[n.$setId](this._ids),G[n.$clean](this._builder)}onError(z){this._errorCode=z}}S.XFAParser=t},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.Builder=void 0;var n=ee(80),l=ee(78),K=ee(91),e=ee(83),t=ee(100),H=ee(2);class z extends l.XFAObject{constructor(w){super(-1,"root",Object.create(null)),this.element=null,this[l.$ids]=w}[l.$onChild](w){return this.element=w,!0}[l.$finalize](){super[l.$finalize](),this.element.template instanceof e.Template&&(this[l.$ids].set(l.$root,this.element),this.element.template[l.$resolvePrototypes](this[l.$ids]),this.element.template[l.$ids]=this[l.$ids])}}class G extends l.XFAObject{constructor(){super(-1,"",Object.create(null))}[l.$onChild](w){return!1}}class I{constructor(w=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(n.NamespaceIds).map(({id:i})=>i)),this._currentNamespace=w||new t.UnknownNamespace(++this._nextNsId)}buildRoot(w){return new z(w)}build({nsPrefix:w,name:i,attributes:F,namespace:B,prefixes:u}){const s=B!==null;if(s&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(B)),u&&this._addNamespacePrefix(u),F.hasOwnProperty(l.$nsAttributes)){const r=K.NamespaceSetUp.datasets,f=F[l.$nsAttributes];let m=null;for(const[P,d]of Object.entries(f))if(this._getNamespaceToUse(P)===r){m={xfa:d};break}m?F[l.$nsAttributes]=m:delete F[l.$nsAttributes]}const o=this._getNamespaceToUse(w),y=(o==null?void 0:o[n.$buildXFAObject](i,F))||new G;return y[l.$isNsAgnostic]()&&this._nsAgnosticLevel++,(s||u||y[l.$isNsAgnostic]())&&(y[l.$cleanup]={hasNamespace:s,prefixes:u,nsAgnostic:y[l.$isNsAgnostic]()}),y}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(w){let i=this._namespaces.get(w);if(i)return i;for(const[F,{check:B}]of Object.entries(n.NamespaceIds))if(B(w)){if(i=K.NamespaceSetUp[F],i)return this._namespaces.set(w,i),i;break}return i=new t.UnknownNamespace(++this._nextNsId),this._namespaces.set(w,i),i}_addNamespacePrefix(w){for(const{prefix:i,value:F}of w){const B=this._searchNamespace(F);let u=this._namespacePrefixes.get(i);u||(u=[],this._namespacePrefixes.set(i,u)),u.push(B)}}_getNamespaceToUse(w){if(!w)return this._currentNamespace;const i=this._namespacePrefixes.get(w);return(i==null?void 0:i.length)>0?i.at(-1):((0,H.warn)(`Unknown namespace prefix: ${w}.`),null)}clean(w){const{hasNamespace:i,prefixes:F,nsAgnostic:B}=w;i&&(this._currentNamespace=this._namespaceStack.pop()),F&&F.forEach(({prefix:u})=>{this._namespacePrefixes.get(u).pop()}),B&&this._nsAgnosticLevel--}}S.Builder=I},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.NamespaceSetUp=void 0;var n=ee(92),l=ee(93),K=ee(94),e=ee(95),t=ee(96),H=ee(97),z=ee(83),G=ee(98),I=ee(99);const C={config:n.ConfigNamespace,connection:l.ConnectionSetNamespace,datasets:K.DatasetsNamespace,localeSet:e.LocaleSetNamespace,signature:t.SignatureNamespace,stylesheet:H.StylesheetNamespace,template:z.TemplateNamespace,xdp:G.XdpNamespace,xhtml:I.XhtmlNamespace};S.NamespaceSetUp=C},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.ConfigNamespace=void 0;var n=ee(80),l=ee(78),K=ee(79),e=ee(2);const t=n.NamespaceIds.config.id;class H extends l.XFAObject{constructor(se){super(t,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new l.XFAObjectArray}}class z extends l.XFAObject{constructor(se){super(t,"acrobat7",!0),this.dynamicRender=null}}class G extends l.OptionObject{constructor(se){super(t,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class I extends l.OptionObject{constructor(se){super(t,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class C extends l.Option01{constructor(se){super(t,"addSilentPrint")}}class w extends l.Option01{constructor(se){super(t,"addViewerPreferences")}}class i extends l.Option10{constructor(se){super(t,"adjustData")}}class F extends l.IntegerObject{constructor(se){super(t,"adobeExtensionLevel",0,Me=>Me>=1&&Me<=8)}}class B extends l.XFAObject{constructor(se){super(t,"agent",!0),this.name=se.name?se.name.trim():"",this.common=new l.XFAObjectArray}}class u extends l.ContentObject{constructor(se){super(t,"alwaysEmbed")}}class s extends l.StringObject{constructor(se){super(t,"amd")}}class o extends l.XFAObject{constructor(se){super(t,"area"),this.level=(0,K.getInteger)({data:se.level,defaultValue:0,validate:Me=>Me>=1&&Me<=3}),this.name=(0,K.getStringOption)(se.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class y extends l.OptionObject{constructor(se){super(t,"attributes",["preserve","delegate","ignore"])}}class r extends l.OptionObject{constructor(se){super(t,"autoSave",["disabled","enabled"])}}class f extends l.StringObject{constructor(se){super(t,"base")}}class m extends l.XFAObject{constructor(se){super(t,"batchOutput"),this.format=(0,K.getStringOption)(se.format,["none","concat","zip","zipCompress"])}}class P extends l.ContentObject{constructor(se){super(t,"behaviorOverride")}[l.$finalize](){this[l.$content]=new Map(this[l.$content].trim().split(/\s+/).filter(se=>se.includes(":")).map(se=>se.split(":",2)))}}class d extends l.XFAObject{constructor(se){super(t,"cache",!0),this.templateCache=null}}class A extends l.Option01{constructor(se){super(t,"change")}}class L extends l.XFAObject{constructor(se){super(t,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new l.XFAObjectArray}}class h extends l.XFAObject{constructor(se){super(t,"compress"),this.scope=(0,K.getStringOption)(se.scope,["imageOnly","document"])}}class g extends l.Option01{constructor(se){super(t,"compressLogicalStructure")}}class k extends l.Option10{constructor(se){super(t,"compressObjectStream")}}class D extends l.XFAObject{constructor(se){super(t,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class T extends l.XFAObject{constructor(se){super(t,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new l.XFAObjectArray}}class V extends l.OptionObject{constructor(se){super(t,"conformance",["A","B"])}}class q extends l.Option01{constructor(se){super(t,"contentCopy")}}class v extends l.IntegerObject{constructor(se){super(t,"copies",1,Me=>Me>=1)}}class x extends l.StringObject{constructor(se){super(t,"creator")}}class E extends l.IntegerObject{constructor(se){super(t,"currentPage",0,Me=>Me>=0)}}class U extends l.XFAObject{constructor(se){super(t,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new l.XFAObjectArray,this.transform=new l.XFAObjectArray}}class $ extends l.XFAObject{constructor(se){super(t,"debug",!0),this.uri=null}}class Q extends l.ContentObject{constructor(se){super(t,"defaultTypeface"),this.writingScript=(0,K.getStringOption)(se.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class ie extends l.OptionObject{constructor(se){super(t,"destination",["pdf","pcl","ps","webClient","zpl"])}}class j extends l.Option01{constructor(se){super(t,"documentAssembly")}}class X extends l.XFAObject{constructor(se){super(t,"driver",!0),this.name=se.name?se.name.trim():"",this.fontInfo=null,this.xdc=null}}class R extends l.OptionObject{constructor(se){super(t,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class Z extends l.OptionObject{constructor(se){super(t,"dynamicRender",["forbidden","required"])}}class N extends l.Option01{constructor(se){super(t,"embed")}}class M extends l.Option01{constructor(se){super(t,"encrypt")}}class c extends l.XFAObject{constructor(se){super(t,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class _ extends l.OptionObject{constructor(se){super(t,"encryptionLevel",["40bit","128bit"])}}class W extends l.StringObject{constructor(se){super(t,"enforce")}}class Y extends l.XFAObject{constructor(se){super(t,"equate"),this.force=(0,K.getInteger)({data:se.force,defaultValue:1,validate:Me=>Me===0}),this.from=se.from||"",this.to=se.to||""}}class J extends l.XFAObject{constructor(se){super(t,"equateRange"),this.from=se.from||"",this.to=se.to||"",this._unicodeRange=se.unicodeRange||""}get unicodeRange(){const se=[],Me=/U\+([0-9a-fA-F]+)/,He=this._unicodeRange;for(let Ke of He.split(",").map(ut=>ut.trim()).filter(ut=>!!ut))Ke=Ke.split("-",2).map(ut=>{const xt=ut.match(Me);return xt?parseInt(xt[1],16):0}),Ke.length===1&&Ke.push(Ke[0]),se.push(Ke);return(0,e.shadow)(this,"unicodeRange",se)}}class ae extends l.ContentObject{constructor(se){super(t,"exclude")}[l.$finalize](){this[l.$content]=this[l.$content].trim().split(/\s+/).filter(se=>se&&["calculate","close","enter","exit","initialize","ready","validate"].includes(se))}}class oe extends l.StringObject{constructor(se){super(t,"excludeNS")}}class he extends l.OptionObject{constructor(se){super(t,"flipLabel",["usePrinterSetting","on","off"])}}class ne extends l.XFAObject{constructor(se){super(t,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new l.XFAObjectArray,this.defaultTypeface=new l.XFAObjectArray,this.neverEmbed=new l.XFAObjectArray}}class re extends l.Option01{constructor(se){super(t,"formFieldFilling")}}class de extends l.StringObject{constructor(se){super(t,"groupParent")}}class ue extends l.OptionObject{constructor(se){super(t,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class ge extends l.StringObject{constructor(se){super(t,"includeXDPContent")}}class pe extends l.OptionObject{constructor(se){super(t,"incrementalLoad",["none","forwardOnly"])}}class xe extends l.Option01{constructor(se){super(t,"incrementalMerge")}}class Ie extends l.Option01{constructor(se){super(t,"interactive")}}class Fe extends l.OptionObject{constructor(se){super(t,"jog",["usePrinterSetting","none","pageSet"])}}class Ae extends l.XFAObject{constructor(se){super(t,"labelPrinter",!0),this.name=(0,K.getStringOption)(se.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class we extends l.OptionObject{constructor(se){super(t,"layout",["paginate","panel"])}}class be extends l.IntegerObject{constructor(se){super(t,"level",0,Me=>Me>0)}}class Ee extends l.Option01{constructor(se){super(t,"linearized")}}class _e extends l.StringObject{constructor(se){super(t,"locale")}}class Re extends l.StringObject{constructor(se){super(t,"localeSet")}}class Pe extends l.XFAObject{constructor(se){super(t,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class ve extends l.XFAObject{constructor(se){super(t,"map",!0),this.equate=new l.XFAObjectArray,this.equateRange=new l.XFAObjectArray}}class Te extends l.XFAObject{constructor(se){super(t,"mediumInfo",!0),this.map=null}}class je extends l.XFAObject{constructor(se){super(t,"message",!0),this.msgId=null,this.severity=null}}class Ce extends l.XFAObject{constructor(se){super(t,"messaging",!0),this.message=new l.XFAObjectArray}}class ke extends l.OptionObject{constructor(se){super(t,"mode",["append","overwrite"])}}class Le extends l.Option01{constructor(se){super(t,"modifyAnnots")}}class Ge extends l.IntegerObject{constructor(se){super(t,"msgId",1,Me=>Me>=1)}}class Oe extends l.StringObject{constructor(se){super(t,"nameAttr")}}class tt extends l.ContentObject{constructor(se){super(t,"neverEmbed")}}class Ye extends l.IntegerObject{constructor(se){super(t,"numberOfCopies",null,Me=>Me>=2&&Me<=5)}}class et extends l.XFAObject{constructor(se){super(t,"openAction",!0),this.destination=null}}class Xe extends l.XFAObject{constructor(se){super(t,"output",!0),this.to=null,this.type=null,this.uri=null}}class Qe extends l.StringObject{constructor(se){super(t,"outputBin")}}class it extends l.XFAObject{constructor(se){super(t,"outputXSL",!0),this.uri=null}}class qe extends l.OptionObject{constructor(se){super(t,"overprint",["none","both","draw","field"])}}class gt extends l.StringObject{constructor(se){super(t,"packets")}[l.$finalize](){this[l.$content]!=="*"&&(this[l.$content]=this[l.$content].trim().split(/\s+/).filter(se=>["config","datasets","template","xfdf","xslt"].includes(se)))}}class mt extends l.XFAObject{constructor(se){super(t,"pageOffset"),this.x=(0,K.getInteger)({data:se.x,defaultValue:"useXDCSetting",validate:Me=>!0}),this.y=(0,K.getInteger)({data:se.y,defaultValue:"useXDCSetting",validate:Me=>!0})}}class Ct extends l.StringObject{constructor(se){super(t,"pageRange")}[l.$finalize](){const se=this[l.$content].trim().split(/\s+/).map(He=>parseInt(He,10)),Me=[];for(let He=0,Ke=se.length;He<Ke;He+=2)Me.push(se.slice(He,He+2));this[l.$content]=Me}}class Pt extends l.OptionObject{constructor(se){super(t,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class st extends l.OptionObject{constructor(se){super(t,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class dt extends l.IntegerObject{constructor(se){super(t,"part",1,Me=>!1)}}class ot extends l.XFAObject{constructor(se){super(t,"pcl",!0),this.name=se.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class _t extends l.XFAObject{constructor(se){super(t,"pdf",!0),this.name=se.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class Mt extends l.XFAObject{constructor(se){super(t,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class Et extends l.XFAObject{constructor(se){super(t,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class St extends l.Option01{constructor(se){super(t,"pickTrayByPDFSize")}}class Lt extends l.StringObject{constructor(se){super(t,"picture")}}class We extends l.Option01{constructor(se){super(t,"plaintextMetadata")}}class Ue extends l.OptionObject{constructor(se){super(t,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class Je extends l.XFAObject{constructor(se){super(t,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new l.XFAObjectArray,this.labelPrinter=new l.XFAObjectArray,this.pcl=new l.XFAObjectArray,this.pdf=new l.XFAObjectArray,this.ps=new l.XFAObjectArray,this.submitUrl=new l.XFAObjectArray,this.webClient=new l.XFAObjectArray,this.zpl=new l.XFAObjectArray}}class Ve extends l.Option01{constructor(se){super(t,"print")}}class at extends l.Option01{constructor(se){super(t,"printHighQuality")}}class ft extends l.OptionObject{constructor(se){super(t,"printScaling",["appdefault","noScaling"])}}class ct extends l.StringObject{constructor(se){super(t,"printerName")}}class Se extends l.StringObject{constructor(se){super(t,"producer")}}class De extends l.XFAObject{constructor(se){super(t,"ps",!0),this.name=se.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class $e extends l.ContentObject{constructor(se){super(t,"range")}[l.$finalize](){this[l.$content]=this[l.$content].trim().split(/\s*,\s*/,2).map(se=>se.split("-").map(Me=>parseInt(Me.trim(),10))).filter(se=>se.every(Me=>!isNaN(Me))).map(se=>(se.length===1&&se.push(se[0]),se))}}class Ze extends l.ContentObject{constructor(se){super(t,"record")}[l.$finalize](){this[l.$content]=this[l.$content].trim();const se=parseInt(this[l.$content],10);!isNaN(se)&&se>=0&&(this[l.$content]=se)}}class nt extends l.ContentObject{constructor(se){super(t,"relevant")}[l.$finalize](){this[l.$content]=this[l.$content].trim().split(/\s+/)}}class pt extends l.ContentObject{constructor(se){super(t,"rename")}[l.$finalize](){this[l.$content]=this[l.$content].trim(),(this[l.$content].toLowerCase().startsWith("xml")||new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u").test(this[l.$content]))&&(0,e.warn)("XFA - Rename: invalid XFA name")}}class yt extends l.OptionObject{constructor(se){super(t,"renderPolicy",["server","client"])}}class lt extends l.OptionObject{constructor(se){super(t,"runScripts",["both","client","none","server"])}}class At extends l.XFAObject{constructor(se){super(t,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class ht extends l.OptionObject{constructor(se){super(t,"scriptModel",["XFA","none"])}}class Ft extends l.OptionObject{constructor(se){super(t,"severity",["ignore","error","information","trace","warning"])}}class It extends l.XFAObject{constructor(se){super(t,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class Gt extends l.XFAObject{constructor(se){super(t,"staple"),this.mode=(0,K.getStringOption)(se.mode,["usePrinterSetting","on","off"])}}class vt extends l.StringObject{constructor(se){super(t,"startNode")}}class kt extends l.IntegerObject{constructor(se){super(t,"startPage",0,Me=>!0)}}class Bt extends l.OptionObject{constructor(se){super(t,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class Ut extends l.StringObject{constructor(se){super(t,"submitUrl")}}class Kt extends l.IntegerObject{constructor(se){super(t,"subsetBelow",100,Me=>Me>=0&&Me<=100)}}class rn extends l.Option01{constructor(se){super(t,"suppressBanner")}}class Mn extends l.Option01{constructor(se){super(t,"tagged")}}class Rn extends l.XFAObject{constructor(se){super(t,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class Dn extends l.OptionObject{constructor(se){super(t,"threshold",["trace","error","information","warning"])}}class Nn extends l.OptionObject{constructor(se){super(t,"to",["null","memory","stderr","stdout","system","uri"])}}class Sn extends l.XFAObject{constructor(se){super(t,"templateCache"),this.maxEntries=(0,K.getInteger)({data:se.maxEntries,defaultValue:5,validate:Me=>Me>=0})}}class pn extends l.XFAObject{constructor(se){super(t,"trace",!0),this.area=new l.XFAObjectArray}}class Ln extends l.XFAObject{constructor(se){super(t,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class Bn extends l.OptionObject{constructor(se){super(t,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class jn extends l.StringObject{constructor(se){super(t,"uri")}}class mn extends l.OptionObject{constructor(se){super(t,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class An extends l.ContentObject{constructor(se){super(t,"validateApprovalSignatures")}[l.$finalize](){this[l.$content]=this[l.$content].trim().split(/\s+/).filter(se=>["docReady","postSign"].includes(se))}}class vn extends l.OptionObject{constructor(se){super(t,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class $n extends l.OptionObject{constructor(se){super(t,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class Un extends l.XFAObject{constructor(se){super(t,"VersionControl"),this.outputBelow=(0,K.getStringOption)(se.outputBelow,["warn","error","update"]),this.sourceAbove=(0,K.getStringOption)(se.sourceAbove,["warn","error"]),this.sourceBelow=(0,K.getStringOption)(se.sourceBelow,["update","maintain"])}}class Hn extends l.XFAObject{constructor(se){super(t,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class Xn extends l.XFAObject{constructor(se){super(t,"webClient",!0),this.name=se.name?se.name.trim():"",this.fontInfo=null,this.xdc=null}}class zn extends l.OptionObject{constructor(se){super(t,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class xn extends l.ContentObject{constructor(se){super(t,"window")}[l.$finalize](){const se=this[l.$content].trim().split(/\s*,\s*/,2).map(Me=>parseInt(Me,10));if(se.some(Me=>isNaN(Me))){this[l.$content]=[0,0];return}se.length===1&&se.push(se[0]),this[l.$content]=se}}class Gn extends l.XFAObject{constructor(se){super(t,"xdc",!0),this.uri=new l.XFAObjectArray,this.xsl=new l.XFAObjectArray}}class cn extends l.XFAObject{constructor(se){super(t,"xdp",!0),this.packets=null}}class Wn extends l.XFAObject{constructor(se){super(t,"xsl",!0),this.debug=null,this.uri=null}}class ln extends l.XFAObject{constructor(se){super(t,"zpl",!0),this.name=se.name?se.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Ne{static[n.$buildXFAObject](se,Me){if(Ne.hasOwnProperty(se))return Ne[se](Me)}static acrobat(se){return new H(se)}static acrobat7(se){return new z(se)}static ADBE_JSConsole(se){return new G(se)}static ADBE_JSDebugger(se){return new I(se)}static addSilentPrint(se){return new C(se)}static addViewerPreferences(se){return new w(se)}static adjustData(se){return new i(se)}static adobeExtensionLevel(se){return new F(se)}static agent(se){return new B(se)}static alwaysEmbed(se){return new u(se)}static amd(se){return new s(se)}static area(se){return new o(se)}static attributes(se){return new y(se)}static autoSave(se){return new r(se)}static base(se){return new f(se)}static batchOutput(se){return new m(se)}static behaviorOverride(se){return new P(se)}static cache(se){return new d(se)}static change(se){return new A(se)}static common(se){return new L(se)}static compress(se){return new h(se)}static compressLogicalStructure(se){return new g(se)}static compressObjectStream(se){return new k(se)}static compression(se){return new D(se)}static config(se){return new T(se)}static conformance(se){return new V(se)}static contentCopy(se){return new q(se)}static copies(se){return new v(se)}static creator(se){return new x(se)}static currentPage(se){return new E(se)}static data(se){return new U(se)}static debug(se){return new $(se)}static defaultTypeface(se){return new Q(se)}static destination(se){return new ie(se)}static documentAssembly(se){return new j(se)}static driver(se){return new X(se)}static duplexOption(se){return new R(se)}static dynamicRender(se){return new Z(se)}static embed(se){return new N(se)}static encrypt(se){return new M(se)}static encryption(se){return new c(se)}static encryptionLevel(se){return new _(se)}static enforce(se){return new W(se)}static equate(se){return new Y(se)}static equateRange(se){return new J(se)}static exclude(se){return new ae(se)}static excludeNS(se){return new oe(se)}static flipLabel(se){return new he(se)}static fontInfo(se){return new ne(se)}static formFieldFilling(se){return new re(se)}static groupParent(se){return new de(se)}static ifEmpty(se){return new ue(se)}static includeXDPContent(se){return new ge(se)}static incrementalLoad(se){return new pe(se)}static incrementalMerge(se){return new xe(se)}static interactive(se){return new Ie(se)}static jog(se){return new Fe(se)}static labelPrinter(se){return new Ae(se)}static layout(se){return new we(se)}static level(se){return new be(se)}static linearized(se){return new Ee(se)}static locale(se){return new _e(se)}static localeSet(se){return new Re(se)}static log(se){return new Pe(se)}static map(se){return new ve(se)}static mediumInfo(se){return new Te(se)}static message(se){return new je(se)}static messaging(se){return new Ce(se)}static mode(se){return new ke(se)}static modifyAnnots(se){return new Le(se)}static msgId(se){return new Ge(se)}static nameAttr(se){return new Oe(se)}static neverEmbed(se){return new tt(se)}static numberOfCopies(se){return new Ye(se)}static openAction(se){return new et(se)}static output(se){return new Xe(se)}static outputBin(se){return new Qe(se)}static outputXSL(se){return new it(se)}static overprint(se){return new qe(se)}static packets(se){return new gt(se)}static pageOffset(se){return new mt(se)}static pageRange(se){return new Ct(se)}static pagination(se){return new Pt(se)}static paginationOverride(se){return new st(se)}static part(se){return new dt(se)}static pcl(se){return new ot(se)}static pdf(se){return new _t(se)}static pdfa(se){return new Mt(se)}static permissions(se){return new Et(se)}static pickTrayByPDFSize(se){return new St(se)}static picture(se){return new Lt(se)}static plaintextMetadata(se){return new We(se)}static presence(se){return new Ue(se)}static present(se){return new Je(se)}static print(se){return new Ve(se)}static printHighQuality(se){return new at(se)}static printScaling(se){return new ft(se)}static printerName(se){return new ct(se)}static producer(se){return new Se(se)}static ps(se){return new De(se)}static range(se){return new $e(se)}static record(se){return new Ze(se)}static relevant(se){return new nt(se)}static rename(se){return new pt(se)}static renderPolicy(se){return new yt(se)}static runScripts(se){return new lt(se)}static script(se){return new At(se)}static scriptModel(se){return new ht(se)}static severity(se){return new Ft(se)}static silentPrint(se){return new It(se)}static staple(se){return new Gt(se)}static startNode(se){return new vt(se)}static startPage(se){return new kt(se)}static submitFormat(se){return new Bt(se)}static submitUrl(se){return new Ut(se)}static subsetBelow(se){return new Kt(se)}static suppressBanner(se){return new rn(se)}static tagged(se){return new Mn(se)}static template(se){return new Rn(se)}static templateCache(se){return new Sn(se)}static threshold(se){return new Dn(se)}static to(se){return new Nn(se)}static trace(se){return new pn(se)}static transform(se){return new Ln(se)}static type(se){return new Bn(se)}static uri(se){return new jn(se)}static validate(se){return new mn(se)}static validateApprovalSignatures(se){return new An(se)}static validationMessaging(se){return new vn(se)}static version(se){return new $n(se)}static versionControl(se){return new Un(se)}static viewerPreferences(se){return new Hn(se)}static webClient(se){return new Xn(se)}static whitespace(se){return new zn(se)}static window(se){return new xn(se)}static xdc(se){return new Gn(se)}static xdp(se){return new cn(se)}static xsl(se){return new Wn(se)}static zpl(se){return new ln(se)}}S.ConfigNamespace=Ne},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.ConnectionSetNamespace=void 0;var n=ee(80),l=ee(78);const K=n.NamespaceIds.connectionSet.id;class e extends l.XFAObject{constructor(y){super(K,"connectionSet",!0),this.wsdlConnection=new l.XFAObjectArray,this.xmlConnection=new l.XFAObjectArray,this.xsdConnection=new l.XFAObjectArray}}class t extends l.XFAObject{constructor(y){super(K,"effectiveInputPolicy"),this.id=y.id||"",this.name=y.name||"",this.use=y.use||"",this.usehref=y.usehref||""}}class H extends l.XFAObject{constructor(y){super(K,"effectiveOutputPolicy"),this.id=y.id||"",this.name=y.name||"",this.use=y.use||"",this.usehref=y.usehref||""}}class z extends l.StringObject{constructor(y){super(K,"operation"),this.id=y.id||"",this.input=y.input||"",this.name=y.name||"",this.output=y.output||"",this.use=y.use||"",this.usehref=y.usehref||""}}class G extends l.StringObject{constructor(y){super(K,"rootElement"),this.id=y.id||"",this.name=y.name||"",this.use=y.use||"",this.usehref=y.usehref||""}}class I extends l.StringObject{constructor(y){super(K,"soapAction"),this.id=y.id||"",this.name=y.name||"",this.use=y.use||"",this.usehref=y.usehref||""}}class C extends l.StringObject{constructor(y){super(K,"soapAddress"),this.id=y.id||"",this.name=y.name||"",this.use=y.use||"",this.usehref=y.usehref||""}}class w extends l.StringObject{constructor(y){super(K,"uri"),this.id=y.id||"",this.name=y.name||"",this.use=y.use||"",this.usehref=y.usehref||""}}class i extends l.StringObject{constructor(y){super(K,"wsdlAddress"),this.id=y.id||"",this.name=y.name||"",this.use=y.use||"",this.usehref=y.usehref||""}}class F extends l.XFAObject{constructor(y){super(K,"wsdlConnection",!0),this.dataDescription=y.dataDescription||"",this.name=y.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class B extends l.XFAObject{constructor(y){super(K,"xmlConnection",!0),this.dataDescription=y.dataDescription||"",this.name=y.name||"",this.uri=null}}class u extends l.XFAObject{constructor(y){super(K,"xsdConnection",!0),this.dataDescription=y.dataDescription||"",this.name=y.name||"",this.rootElement=null,this.uri=null}}class s{static[n.$buildXFAObject](y,r){if(s.hasOwnProperty(y))return s[y](r)}static connectionSet(y){return new e(y)}static effectiveInputPolicy(y){return new t(y)}static effectiveOutputPolicy(y){return new H(y)}static operation(y){return new z(y)}static rootElement(y){return new G(y)}static soapAction(y){return new I(y)}static soapAddress(y){return new C(y)}static uri(y){return new w(y)}static wsdlAddress(y){return new i(y)}static wsdlConnection(y){return new F(y)}static xmlConnection(y){return new B(y)}static xsdConnection(y){return new u(y)}}S.ConnectionSetNamespace=s},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.DatasetsNamespace=void 0;var n=ee(78),l=ee(80);const K=l.NamespaceIds.datasets.id;class e extends n.XmlObject{constructor(G){super(K,"data",G)}[n.$isNsAgnostic](){return!0}}class t extends n.XFAObject{constructor(G){super(K,"datasets",!0),this.data=null,this.Signature=null}[n.$onChild](G){const I=G[n.$nodeName];(I==="data"&&G[n.$namespaceId]===K||I==="Signature"&&G[n.$namespaceId]===l.NamespaceIds.signature.id)&&(this[I]=G),this[n.$appendChild](G)}}class H{static[l.$buildXFAObject](G,I){if(H.hasOwnProperty(G))return H[G](I)}static datasets(G){return new t(G)}static data(G){return new e(G)}}S.DatasetsNamespace=H},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.LocaleSetNamespace=void 0;var n=ee(80),l=ee(78),K=ee(79);const e=n.NamespaceIds.localeSet.id;class t extends l.XFAObject{constructor(V){super(e,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new l.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new l.XFAObjectArray(2)}}class H extends l.StringObject{constructor(V){super(e,"currencySymbol"),this.name=(0,K.getStringOption)(V.name,["symbol","isoname","decimal"])}}class z extends l.XFAObject{constructor(V){super(e,"currencySymbols",!0),this.currencySymbol=new l.XFAObjectArray(3)}}class G extends l.StringObject{constructor(V){super(e,"datePattern"),this.name=(0,K.getStringOption)(V.name,["full","long","med","short"])}}class I extends l.XFAObject{constructor(V){super(e,"datePatterns",!0),this.datePattern=new l.XFAObjectArray(4)}}class C extends l.ContentObject{constructor(V){super(e,"dateTimeSymbols")}}class w extends l.StringObject{constructor(V){super(e,"day")}}class i extends l.XFAObject{constructor(V){super(e,"dayNames",!0),this.abbr=(0,K.getInteger)({data:V.abbr,defaultValue:0,validate:q=>q===1}),this.day=new l.XFAObjectArray(7)}}class F extends l.StringObject{constructor(V){super(e,"era")}}class B extends l.XFAObject{constructor(V){super(e,"eraNames",!0),this.era=new l.XFAObjectArray(2)}}class u extends l.XFAObject{constructor(V){super(e,"locale",!0),this.desc=V.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class s extends l.XFAObject{constructor(V){super(e,"localeSet",!0),this.locale=new l.XFAObjectArray}}class o extends l.StringObject{constructor(V){super(e,"meridiem")}}class y extends l.XFAObject{constructor(V){super(e,"meridiemNames",!0),this.meridiem=new l.XFAObjectArray(2)}}class r extends l.StringObject{constructor(V){super(e,"month")}}class f extends l.XFAObject{constructor(V){super(e,"monthNames",!0),this.abbr=(0,K.getInteger)({data:V.abbr,defaultValue:0,validate:q=>q===1}),this.month=new l.XFAObjectArray(12)}}class m extends l.StringObject{constructor(V){super(e,"numberPattern"),this.name=(0,K.getStringOption)(V.name,["full","long","med","short"])}}class P extends l.XFAObject{constructor(V){super(e,"numberPatterns",!0),this.numberPattern=new l.XFAObjectArray(4)}}class d extends l.StringObject{constructor(V){super(e,"numberSymbol"),this.name=(0,K.getStringOption)(V.name,["decimal","grouping","percent","minus","zero"])}}class A extends l.XFAObject{constructor(V){super(e,"numberSymbols",!0),this.numberSymbol=new l.XFAObjectArray(5)}}class L extends l.StringObject{constructor(V){super(e,"timePattern"),this.name=(0,K.getStringOption)(V.name,["full","long","med","short"])}}class h extends l.XFAObject{constructor(V){super(e,"timePatterns",!0),this.timePattern=new l.XFAObjectArray(4)}}class g extends l.XFAObject{constructor(V){super(e,"typeFace",!0),this.name=V.name|""}}class k extends l.XFAObject{constructor(V){super(e,"typeFaces",!0),this.typeFace=new l.XFAObjectArray}}class D{static[n.$buildXFAObject](V,q){if(D.hasOwnProperty(V))return D[V](q)}static calendarSymbols(V){return new t(V)}static currencySymbol(V){return new H(V)}static currencySymbols(V){return new z(V)}static datePattern(V){return new G(V)}static datePatterns(V){return new I(V)}static dateTimeSymbols(V){return new C(V)}static day(V){return new w(V)}static dayNames(V){return new i(V)}static era(V){return new F(V)}static eraNames(V){return new B(V)}static locale(V){return new u(V)}static localeSet(V){return new s(V)}static meridiem(V){return new o(V)}static meridiemNames(V){return new y(V)}static month(V){return new r(V)}static monthNames(V){return new f(V)}static numberPattern(V){return new m(V)}static numberPatterns(V){return new P(V)}static numberSymbol(V){return new d(V)}static numberSymbols(V){return new A(V)}static timePattern(V){return new L(V)}static timePatterns(V){return new h(V)}static typeFace(V){return new g(V)}static typeFaces(V){return new k(V)}}S.LocaleSetNamespace=D},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.SignatureNamespace=void 0;var n=ee(80),l=ee(78);const K=n.NamespaceIds.signature.id;class e extends l.XFAObject{constructor(z){super(K,"signature",!0)}}class t{static[n.$buildXFAObject](z,G){if(t.hasOwnProperty(z))return t[z](G)}static signature(z){return new e(z)}}S.SignatureNamespace=t},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.StylesheetNamespace=void 0;var n=ee(80),l=ee(78);const K=n.NamespaceIds.stylesheet.id;class e extends l.XFAObject{constructor(z){super(K,"stylesheet",!0)}}class t{static[n.$buildXFAObject](z,G){if(t.hasOwnProperty(z))return t[z](G)}static stylesheet(z){return new e(z)}}S.StylesheetNamespace=t},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.XdpNamespace=void 0;var n=ee(80),l=ee(78);const K=n.NamespaceIds.xdp.id;class e extends l.XFAObject{constructor(z){super(K,"xdp",!0),this.uuid=z.uuid||"",this.timeStamp=z.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new l.XFAObjectArray,this.template=null}[l.$onChildCheck](z){const G=n.NamespaceIds[z[l.$nodeName]];return G&&z[l.$namespaceId]===G.id}}class t{static[n.$buildXFAObject](z,G){if(t.hasOwnProperty(z))return t[z](G)}static xdp(z){return new e(z)}}S.XdpNamespace=t},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.XhtmlNamespace=void 0;var n=ee(78),l=ee(80),K=ee(85),e=ee(79);const t=l.NamespaceIds.xhtml.id,H=Symbol(),z=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),G=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",T=>T==="none"?"none":"normal"],["xfa-font-horizontal-scale",T=>`scaleX(${Math.max(0,Math.min(parseInt(T)/100)).toFixed(2)})`],["xfa-font-vertical-scale",T=>`scaleY(${Math.max(0,Math.min(parseInt(T)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(T,V)=>(T=V.fontSize=(0,e.getMeasurement)(T),(0,K.measureToString)(.99*T))],["letter-spacing",T=>(0,K.measureToString)((0,e.getMeasurement)(T))],["line-height",T=>(0,K.measureToString)((0,e.getMeasurement)(T))],["margin",T=>(0,K.measureToString)((0,e.getMeasurement)(T))],["margin-bottom",T=>(0,K.measureToString)((0,e.getMeasurement)(T))],["margin-left",T=>(0,K.measureToString)((0,e.getMeasurement)(T))],["margin-right",T=>(0,K.measureToString)((0,e.getMeasurement)(T))],["margin-top",T=>(0,K.measureToString)((0,e.getMeasurement)(T))],["text-indent",T=>(0,K.measureToString)((0,e.getMeasurement)(T))],["font-family",T=>T],["vertical-align",T=>(0,K.measureToString)((0,e.getMeasurement)(T))]]),I=/\s+/g,C=/[\r\n]+/g,w=/\r\n?/g;function i(T,V,q){const v=Object.create(null);if(!T)return v;const x=Object.create(null);for(const[E,U]of T.split(";").map($=>$.split(":",2))){const $=G.get(E);if($==="")continue;let Q=U;$&&(typeof $=="string"?Q=$:Q=$(U,x)),E.endsWith("scale")?v.transform?v.transform=`${v[E]} ${Q}`:v.transform=Q:v[E.replaceAll(/-([a-zA-Z])/g,(ie,j)=>j.toUpperCase())]=Q}if(v.fontFamily&&(0,K.setFontFamily)({typeface:v.fontFamily,weight:v.fontWeight||"normal",posture:v.fontStyle||"normal",size:x.fontSize||0},V,V[n.$globalData].fontFinder,v),q&&v.verticalAlign&&v.verticalAlign!=="0px"&&v.fontSize){const $=(0,e.getMeasurement)(v.fontSize);v.fontSize=(0,K.measureToString)($*.583),v.verticalAlign=(0,K.measureToString)(Math.sign((0,e.getMeasurement)(v.verticalAlign))*$*.333)}return q&&v.fontSize&&(v.fontSize=`calc(${v.fontSize} * var(--scale-factor))`),(0,K.fixTextIndent)(v),v}function F(T){return T.style?T.style.trim().split(/\s*;\s*/).filter(V=>!!V).map(V=>V.split(/\s*:\s*/,2)).filter(([V,q])=>(V==="font-family"&&T[n.$globalData].usedTypefaces.add(q),z.has(V))).map(V=>V.join(":")).join(";"):""}const B=new Set(["body","html"]);class u extends n.XmlObject{constructor(V,q){super(t,q),this[H]=!1,this.style=V.style||""}[n.$clean](V){super[n.$clean](V),this.style=F(this)}[n.$acceptWhitespace](){return!B.has(this[n.$nodeName])}[n.$onText](V,q=!1){q?this[H]=!0:(V=V.replaceAll(C,""),this.style.includes("xfa-spacerun:yes")||(V=V.replaceAll(I," "))),V&&(this[n.$content]+=V)}[n.$pushGlyphs](V,q=!0){const v=Object.create(null),x={top:NaN,bottom:NaN,left:NaN,right:NaN};let E=null;for(const[U,$]of this.style.split(";").map(Q=>Q.split(":",2)))switch(U){case"font-family":v.typeface=(0,e.stripQuotes)($);break;case"font-size":v.size=(0,e.getMeasurement)($);break;case"font-weight":v.weight=$;break;case"font-style":v.posture=$;break;case"letter-spacing":v.letterSpacing=(0,e.getMeasurement)($);break;case"margin":const Q=$.split(/ \t/).map(ie=>(0,e.getMeasurement)(ie));switch(Q.length){case 1:x.top=x.bottom=x.left=x.right=Q[0];break;case 2:x.top=x.bottom=Q[0],x.left=x.right=Q[1];break;case 3:x.top=Q[0],x.bottom=Q[2],x.left=x.right=Q[1];break;case 4:x.top=Q[0],x.left=Q[1],x.bottom=Q[2],x.right=Q[3];break}break;case"margin-top":x.top=(0,e.getMeasurement)($);break;case"margin-bottom":x.bottom=(0,e.getMeasurement)($);break;case"margin-left":x.left=(0,e.getMeasurement)($);break;case"margin-right":x.right=(0,e.getMeasurement)($);break;case"line-height":E=(0,e.getMeasurement)($);break}if(V.pushData(v,x,E),this[n.$content])V.addString(this[n.$content]);else for(const U of this[n.$getChildren]()){if(U[n.$nodeName]==="#text"){V.addString(U[n.$content]);continue}U[n.$pushGlyphs](V)}q&&V.popFont()}[n.$toHTML](V){const q=[];if(this[n.$extra]={children:q},this[n.$childrenToHTML]({}),q.length===0&&!this[n.$content])return e.HTMLResult.EMPTY;let v;return this[H]?v=this[n.$content]?this[n.$content].replaceAll(w,`
`):void 0:v=this[n.$content]||void 0,e.HTMLResult.success({name:this[n.$nodeName],attributes:{href:this.href,style:i(this.style,this,this[H])},children:q,value:v})}}class s extends u{constructor(V){super(V,"a"),this.href=(0,K.fixURL)(V.href)||""}}class o extends u{constructor(V){super(V,"b")}[n.$pushGlyphs](V){V.pushFont({weight:"bold"}),super[n.$pushGlyphs](V),V.popFont()}}class y extends u{constructor(V){super(V,"body")}[n.$toHTML](V){const q=super[n.$toHTML](V),{html:v}=q;return v?(v.name="div",v.attributes.class=["xfaRich"],q):e.HTMLResult.EMPTY}}class r extends u{constructor(V){super(V,"br")}[n.$text](){return`
`}[n.$pushGlyphs](V){V.addString(`
`)}[n.$toHTML](V){return e.HTMLResult.success({name:"br"})}}class f extends u{constructor(V){super(V,"html")}[n.$toHTML](V){var v;const q=[];if(this[n.$extra]={children:q},this[n.$childrenToHTML]({}),q.length===0)return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[n.$content]||""});if(q.length===1){const x=q[0];if((v=x.attributes)!=null&&v.class.includes("xfaRich"))return e.HTMLResult.success(x)}return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:q})}}class m extends u{constructor(V){super(V,"i")}[n.$pushGlyphs](V){V.pushFont({posture:"italic"}),super[n.$pushGlyphs](V),V.popFont()}}class P extends u{constructor(V){super(V,"li")}}class d extends u{constructor(V){super(V,"ol")}}class A extends u{constructor(V){super(V,"p")}[n.$pushGlyphs](V){super[n.$pushGlyphs](V,!1),V.addString(`
`),V.addPara(),V.popFont()}[n.$text](){return this[n.$getParent]()[n.$getChildren]().at(-1)===this?super[n.$text]():super[n.$text]()+`
`}}class L extends u{constructor(V){super(V,"span")}}class h extends u{constructor(V){super(V,"sub")}}class g extends u{constructor(V){super(V,"sup")}}class k extends u{constructor(V){super(V,"ul")}}class D{static[l.$buildXFAObject](V,q){if(D.hasOwnProperty(V))return D[V](q)}static a(V){return new s(V)}static b(V){return new o(V)}static body(V){return new y(V)}static br(V){return new r(V)}static html(V){return new f(V)}static i(V){return new m(V)}static li(V){return new P(V)}static ol(V){return new d(V)}static p(V){return new A(V)}static span(V){return new L(V)}static sub(V){return new h(V)}static sup(V){return new g(V)}static ul(V){return new k(V)}}S.XhtmlNamespace=D},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.UnknownNamespace=void 0;var n=ee(80),l=ee(78);class K{constructor(t){this.namespaceId=t}[n.$buildXFAObject](t,H){return new l.XmlObject(this.namespaceId,t,H)}}S.UnknownNamespace=K},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.DatasetReader=void 0;var n=ee(2),l=ee(3),K=ee(67);function e(z){try{return(0,n.stringToUTF8String)(z)}catch(G){return(0,n.warn)(`UTF-8 decoding failed: "${G}".`),z}}class t extends K.SimpleXMLParser{constructor(G){super(G),this.node=null}onEndElement(G){const I=super.onEndElement(G);if(I&&G==="xfa:datasets")throw this.node=I,new Error("Aborting DatasetXMLParser.")}}class H{constructor(G){if(G.datasets)this.node=new K.SimpleXMLParser({hasAttributes:!0}).parseFromString(G.datasets).documentElement;else{const I=new t({hasAttributes:!0});try{I.parseFromString(G["xdp:xdp"])}catch{}this.node=I.node}}getValue(G){if(!this.node||!G)return"";const I=this.node.searchNode((0,l.parseXFAPath)(G),0);if(!I)return"";const C=I.firstChild;return(C==null?void 0:C.nodeName)==="value"?I.children.map(w=>e(w.textContent)):e(I.textContent)}}S.DatasetReader=H},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.XRef=void 0;var n=ee(2),l=ee(4),K=ee(16),e=ee(3),t=ee(5),H=ee(68);class z{constructor(I,C){this.stream=I,this.pdfManager=C,this.entries=[],this._xrefStms=new Set,this._cacheMap=new Map,this._pendingRefs=new l.RefSet,this._newPersistentRefNum=null,this._newTemporaryRefNum=null}getNewPersistentRef(I){this._newPersistentRefNum===null&&(this._newPersistentRefNum=this.entries.length||1);const C=this._newPersistentRefNum++;return this._cacheMap.set(C,I),l.Ref.get(C,0)}getNewTemporaryRef(){return this._newTemporaryRefNum===null&&(this._newTemporaryRefNum=this.entries.length||1),l.Ref.get(this._newTemporaryRefNum++,0)}resetNewTemporaryRef(){this._newTemporaryRefNum=null}setStartXRef(I){this.startXRefQueue=[I]}parse(I=!1){let C;I?((0,n.warn)("Indexing all PDF objects"),C=this.indexObjects()):C=this.readXRef(),C.assignXref(this),this.trailer=C;let w;try{w=C.get("Encrypt")}catch(F){if(F instanceof e.MissingDataException)throw F;(0,n.warn)(`XRef.parse - Invalid "Encrypt" reference: "${F}".`)}if(w instanceof l.Dict){const F=C.get("ID"),B=F!=null&&F.length?F[0]:"";w.suppressEncryption=!0,this.encrypt=new H.CipherTransformFactory(w,B,this.pdfManager.password)}let i;try{i=C.get("Root")}catch(F){if(F instanceof e.MissingDataException)throw F;(0,n.warn)(`XRef.parse - Invalid "Root" reference: "${F}".`)}if(i instanceof l.Dict)try{if(i.get("Pages")instanceof l.Dict){this.root=i;return}}catch(F){if(F instanceof e.MissingDataException)throw F;(0,n.warn)(`XRef.parse - Invalid "Pages" reference: "${F}".`)}throw I?new n.InvalidPDFException("Invalid Root reference."):new e.XRefParseException}processXRefTable(I){"tableState"in this||(this.tableState={entryNum:0,streamPos:I.lexer.stream.pos,parserBuf1:I.buf1,parserBuf2:I.buf2});const C=this.readXRefTable(I);if(!(0,l.isCmd)(C,"trailer"))throw new n.FormatError("Invalid XRef table: could not find trailer dictionary");let w=I.getObj();if(!(w instanceof l.Dict)&&w.dict&&(w=w.dict),!(w instanceof l.Dict))throw new n.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,w}readXRefTable(I){const C=I.lexer.stream,w=this.tableState;C.pos=w.streamPos,I.buf1=w.parserBuf1,I.buf2=w.parserBuf2;let i;for(;;){if(!("firstEntryNum"in w)||!("entryCount"in w)){if((0,l.isCmd)(i=I.getObj(),"trailer"))break;w.firstEntryNum=i,w.entryCount=I.getObj()}let F=w.firstEntryNum;const B=w.entryCount;if(!Number.isInteger(F)||!Number.isInteger(B))throw new n.FormatError("Invalid XRef table: wrong types in subsection header");for(let u=w.entryNum;u<B;u++){w.streamPos=C.pos,w.entryNum=u,w.parserBuf1=I.buf1,w.parserBuf2=I.buf2;const s={};s.offset=I.getObj(),s.gen=I.getObj();const o=I.getObj();if(o instanceof l.Cmd)switch(o.cmd){case"f":s.free=!0;break;case"n":s.uncompressed=!0;break}if(!Number.isInteger(s.offset)||!Number.isInteger(s.gen)||!(s.free||s.uncompressed))throw new n.FormatError(`Invalid entry in XRef subsection: ${F}, ${B}`);u===0&&s.free&&F===1&&(F=0),this.entries[u+F]||(this.entries[u+F]=s)}w.entryNum=0,w.streamPos=C.pos,w.parserBuf1=I.buf1,w.parserBuf2=I.buf2,delete w.firstEntryNum,delete w.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new n.FormatError("Invalid XRef table: unexpected first object");return i}processXRefStream(I){if(!("streamState"in this)){const C=I.dict,w=C.get("W");let i=C.get("Index");i||(i=[0,C.get("Size")]),this.streamState={entryRanges:i,byteWidths:w,entryNum:0,streamPos:I.pos}}return this.readXRefStream(I),delete this.streamState,I.dict}readXRefStream(I){const C=this.streamState;I.pos=C.streamPos;const[w,i,F]=C.byteWidths,B=C.entryRanges;for(;B.length>0;){const[u,s]=B;if(!Number.isInteger(u)||!Number.isInteger(s))throw new n.FormatError(`Invalid XRef range fields: ${u}, ${s}`);if(!Number.isInteger(w)||!Number.isInteger(i)||!Number.isInteger(F))throw new n.FormatError(`Invalid XRef entry fields length: ${u}, ${s}`);for(let o=C.entryNum;o<s;++o){C.entryNum=o,C.streamPos=I.pos;let y=0,r=0,f=0;for(let P=0;P<w;++P){const d=I.getByte();if(d===-1)throw new n.FormatError("Invalid XRef byteWidths 'type'.");y=y<<8|d}w===0&&(y=1);for(let P=0;P<i;++P){const d=I.getByte();if(d===-1)throw new n.FormatError("Invalid XRef byteWidths 'offset'.");r=r<<8|d}for(let P=0;P<F;++P){const d=I.getByte();if(d===-1)throw new n.FormatError("Invalid XRef byteWidths 'generation'.");f=f<<8|d}const m={};switch(m.offset=r,m.gen=f,y){case 0:m.free=!0;break;case 1:m.uncompressed=!0;break;case 2:break;default:throw new n.FormatError(`Invalid XRef entry type: ${y}`)}this.entries[u+o]||(this.entries[u+o]=m)}C.entryNum=0,C.streamPos=I.pos,B.splice(0,2)}}indexObjects(){function u(x,E){let U="",$=x[E];for(;$!==10&&$!==13&&$!==60&&!(++E>=x.length);)U+=String.fromCharCode($),$=x[E];return U}function s(x,E,U){const $=U.length,Q=x.length;let ie=0;for(;E<Q;){let j=0;for(;j<$&&x[E+j]===U[j];)++j;if(j>=$)break;E++,ie++}return ie}const o=/\b(endobj|\d+\s+\d+\s+obj|xref|trailer)\b/g,y=/\b(startxref|\d+\s+\d+\s+obj)\b/g,r=/^(\d+)\s+(\d+)\s+obj\b/,f=new Uint8Array([116,114,97,105,108,101,114]),m=new Uint8Array([115,116,97,114,116,120,114,101,102]),P=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const d=this.stream;d.pos=0;const A=d.getBytes(),L=(0,n.bytesToString)(A),h=A.length;let g=d.start;const k=[],D=[];for(;g<h;){let x=A[g];if(x===9||x===10||x===13||x===32){++g;continue}if(x===37){do{if(++g,g>=h)break;x=A[g]}while(x!==10&&x!==13);continue}const E=u(A,g);let U;if(E.startsWith("xref")&&(E.length===4||/\s/.test(E[4])))g+=s(A,g,f),k.push(g),g+=s(A,g,m);else if(U=r.exec(E)){const $=U[1]|0,Q=U[2]|0,ie=g+E.length;let j,X=!1;if(!this.entries[$])X=!0;else if(this.entries[$].gen===Q)try{new K.Parser({lexer:new K.Lexer(d.makeSubStream(ie))}).getObj(),X=!0}catch(M){M instanceof e.ParserEOFException?(0,n.warn)(`indexObjects -- checking object (${E}): "${M}".`):X=!0}X&&(this.entries[$]={offset:g-d.start,gen:Q,uncompressed:!0}),o.lastIndex=ie;const R=o.exec(L);R?(j=o.lastIndex+1-g,R[1]!=="endobj"&&((0,n.warn)(`indexObjects: Found "${R[1]}" inside of another "obj", caused by missing "endobj" -- trying to recover.`),j-=R[1].length+1)):j=h-g;const Z=A.subarray(g,g+j),N=s(Z,0,P);N<j&&Z[N+5]<64&&(D.push(g-d.start),this._xrefStms.add(g-d.start)),g+=j}else if(E.startsWith("trailer")&&(E.length===7||/\s/.test(E[7]))){k.push(g);const $=g+E.length;let Q;y.lastIndex=$;const ie=y.exec(L);ie?(Q=y.lastIndex+1-g,ie[1]!=="startxref"&&((0,n.warn)(`indexObjects: Found "${ie[1]}" after "trailer", caused by missing "startxref" -- trying to recover.`),Q-=ie[1].length+1)):Q=h-g,g+=Q}else g+=E.length+1}for(const x of D)this.startXRefQueue.push(x),this.readXRef(!0);const T=[];let V=!1;for(const x of k){d.pos=x;const E=new K.Parser({lexer:new K.Lexer(d),xref:this,allowStreams:!0,recoveryMode:!0}),U=E.getObj();if(!(0,l.isCmd)(U,"trailer"))continue;const $=E.getObj();$ instanceof l.Dict&&(T.push($),$.has("Encrypt")&&(V=!0))}let q,v;for(const x of[...T,"genFallback",...T]){if(x==="genFallback"){if(!v)break;this._generationFallback=!0;continue}let E=!1;try{const U=x.get("Root");if(!(U instanceof l.Dict))continue;const $=U.get("Pages");if(!($ instanceof l.Dict))continue;const Q=$.get("Count");Number.isInteger(Q)&&(E=!0)}catch(U){v=U;continue}if(E&&(!V||x.has("Encrypt"))&&x.has("ID"))return x;q=x}if(q)return q;if(this.topDict)return this.topDict;throw new n.InvalidPDFException("Invalid PDF structure.")}readXRef(I=!1){const C=this.stream,w=new Set;for(;this.startXRefQueue.length;){try{const i=this.startXRefQueue[0];if(w.has(i)){(0,n.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}w.add(i),C.pos=i+C.start;const F=new K.Parser({lexer:new K.Lexer(C),xref:this,allowStreams:!0});let B=F.getObj(),u;if((0,l.isCmd)(B,"xref"))u=this.processXRefTable(F),this.topDict||(this.topDict=u),B=u.get("XRefStm"),Number.isInteger(B)&&!this._xrefStms.has(B)&&(this._xrefStms.add(B),this.startXRefQueue.push(B));else if(Number.isInteger(B)){if(!Number.isInteger(F.getObj())||!(0,l.isCmd)(F.getObj(),"obj")||!((B=F.getObj())instanceof t.BaseStream))throw new n.FormatError("Invalid XRef stream");if(u=this.processXRefStream(B),this.topDict||(this.topDict=u),!u)throw new n.FormatError("Failed to read XRef stream")}else throw new n.FormatError("Invalid XRef stream header");B=u.get("Prev"),Number.isInteger(B)?this.startXRefQueue.push(B):B instanceof l.Ref&&this.startXRefQueue.push(B.num)}catch(i){if(i instanceof e.MissingDataException)throw i;(0,n.info)("(while reading XRef): "+i)}this.startXRefQueue.shift()}if(this.topDict)return this.topDict;if(!I)throw new e.XRefParseException}get lastXRefStreamPos(){return this._xrefStms.size>0?Math.max(...this._xrefStms):null}getEntry(I){const C=this.entries[I];return C&&!C.free&&C.offset?C:null}fetchIfRef(I,C=!1){return I instanceof l.Ref?this.fetch(I,C):I}fetch(I,C=!1){if(!(I instanceof l.Ref))throw new Error("ref object is not a reference");const w=I.num,i=this._cacheMap.get(w);if(i!==void 0)return i instanceof l.Dict&&!i.objId&&(i.objId=I.toString()),i;let F=this.getEntry(w);if(F===null)return this._cacheMap.set(w,F),F;if(this._pendingRefs.has(I))return this._pendingRefs.remove(I),(0,n.warn)(`Ignoring circular reference: ${I}.`),l.CIRCULAR_REF;this._pendingRefs.put(I);try{F.uncompressed?F=this.fetchUncompressed(I,F,C):F=this.fetchCompressed(I,F,C),this._pendingRefs.remove(I)}catch(B){throw this._pendingRefs.remove(I),B}return F instanceof l.Dict?F.objId=I.toString():F instanceof t.BaseStream&&(F.dict.objId=I.toString()),F}fetchUncompressed(I,C,w=!1){const i=I.gen;let F=I.num;if(C.gen!==i){const r=`Inconsistent generation in XRef: ${I}`;if(this._generationFallback&&C.gen<i)return(0,n.warn)(r),this.fetchUncompressed(l.Ref.get(F,C.gen),C,w);throw new e.XRefEntryException(r)}const B=this.stream.makeSubStream(C.offset+this.stream.start),u=new K.Parser({lexer:new K.Lexer(B),xref:this,allowStreams:!0}),s=u.getObj(),o=u.getObj(),y=u.getObj();if(s!==F||o!==i||!(y instanceof l.Cmd))throw new e.XRefEntryException(`Bad (uncompressed) XRef entry: ${I}`);if(y.cmd!=="obj"){if(y.cmd.startsWith("obj")&&(F=parseInt(y.cmd.substring(3),10),!Number.isNaN(F)))return F;throw new e.XRefEntryException(`Bad (uncompressed) XRef entry: ${I}`)}return this.encrypt&&!w?C=u.getObj(this.encrypt.createCipherTransform(F,i)):C=u.getObj(),C instanceof t.BaseStream||this._cacheMap.set(F,C),C}fetchCompressed(I,C,w=!1){const i=C.offset,F=this.fetch(l.Ref.get(i,0));if(!(F instanceof t.BaseStream))throw new n.FormatError("bad ObjStm stream");const B=F.dict.get("First"),u=F.dict.get("N");if(!Number.isInteger(B)||!Number.isInteger(u))throw new n.FormatError("invalid first and n parameters for ObjStm stream");let s=new K.Parser({lexer:new K.Lexer(F),xref:this,allowStreams:!0});const o=new Array(u),y=new Array(u);for(let m=0;m<u;++m){const P=s.getObj();if(!Number.isInteger(P))throw new n.FormatError(`invalid object number in the ObjStm stream: ${P}`);const d=s.getObj();if(!Number.isInteger(d))throw new n.FormatError(`invalid object offset in the ObjStm stream: ${d}`);o[m]=P,y[m]=d}const r=(F.start||0)+B,f=new Array(u);for(let m=0;m<u;++m){const P=m<u-1?y[m+1]-y[m]:void 0;if(P<0)throw new n.FormatError("Invalid offset in the ObjStm stream.");s=new K.Parser({lexer:new K.Lexer(F.makeSubStream(r+y[m],P,F.dict)),xref:this,allowStreams:!0});const d=s.getObj();if(f[m]=d,d instanceof t.BaseStream)continue;const A=o[m],L=this.entries[A];L&&L.offset===i&&L.gen===m&&this._cacheMap.set(A,d)}if(C=f[C.gen],C===void 0)throw new e.XRefEntryException(`Bad (compressed) XRef entry: ${I}`);return C}async fetchIfRefAsync(I,C){return I instanceof l.Ref?this.fetchAsync(I,C):I}async fetchAsync(I,C){try{return this.fetch(I,C)}catch(w){if(!(w instanceof e.MissingDataException))throw w;return await this.pdfManager.requestRange(w.begin,w.end),this.fetchAsync(I,C)}}getCatalogObj(){return this.root}}S.XRef=z},(fe,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.isNodeJS=void 0;const ee=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");S.isNodeJS=ee},(fe,S,ee)=>{var H,Hi,G,Xi,C,_n;Object.defineProperty(S,"__esModule",{value:!0}),S.MessageHandler=void 0;var n=ee(2);const l={UNKNOWN:0,DATA:1,ERROR:2},K={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function e(i){switch(i instanceof Error||typeof i=="object"&&i!==null||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new n.AbortException(i.message);case"MissingPDFException":return new n.MissingPDFException(i.message);case"PasswordException":return new n.PasswordException(i.message,i.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(i.message,i.status);case"UnknownErrorException":return new n.UnknownErrorException(i.message,i.details);default:return new n.UnknownErrorException(i.message,i.toString())}}class t{constructor(F,B,u){Be(this,H);Be(this,G);Be(this,C);this.sourceName=F,this.targetName=B,this.comObj=u,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=s=>{const o=s.data;if(o.targetName!==this.sourceName)return;if(o.stream){ze(this,G,Xi).call(this,o);return}if(o.callback){const r=o.callbackId,f=this.callbackCapabilities[r];if(!f)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],o.callback===l.DATA)f.resolve(o.data);else if(o.callback===l.ERROR)f.reject(e(o.reason));else throw new Error("Unexpected callback case");return}const y=this.actionHandler[o.action];if(!y)throw new Error(`Unknown action from worker: ${o.action}`);if(o.callbackId){const r=this.sourceName,f=o.sourceName;new Promise(function(m){m(y(o.data))}).then(function(m){u.postMessage({sourceName:r,targetName:f,callback:l.DATA,callbackId:o.callbackId,data:m})},function(m){u.postMessage({sourceName:r,targetName:f,callback:l.ERROR,callbackId:o.callbackId,reason:e(m)})});return}if(o.streamId){ze(this,H,Hi).call(this,o);return}y(o.data)},u.addEventListener("message",this._onComObjOnMessage)}on(F,B){const u=this.actionHandler;if(u[F])throw new Error(`There is already an actionName called "${F}"`);u[F]=B}send(F,B,u){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:F,data:B},u)}sendWithPromise(F,B,u){const s=this.callbackId++,o=new n.PromiseCapability;this.callbackCapabilities[s]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:F,callbackId:s,data:B},u)}catch(y){o.reject(y)}return o.promise}sendWithStream(F,B,u,s){const o=this.streamId++,y=this.sourceName,r=this.targetName,f=this.comObj;return new ReadableStream({start:m=>{const P=new n.PromiseCapability;return this.streamControllers[o]={controller:m,startCall:P,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:y,targetName:r,action:F,streamId:o,data:B,desiredSize:m.desiredSize},s),P.promise},pull:m=>{const P=new n.PromiseCapability;return this.streamControllers[o].pullCall=P,f.postMessage({sourceName:y,targetName:r,stream:K.PULL,streamId:o,desiredSize:m.desiredSize}),P.promise},cancel:m=>{(0,n.assert)(m instanceof Error,"cancel must have a valid reason");const P=new n.PromiseCapability;return this.streamControllers[o].cancelCall=P,this.streamControllers[o].isClosed=!0,f.postMessage({sourceName:y,targetName:r,stream:K.CANCEL,streamId:o,reason:e(m)}),P.promise}},u)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}H=new WeakSet,Hi=function(F){const B=F.streamId,u=this.sourceName,s=F.sourceName,o=this.comObj,y=this,r=this.actionHandler[F.action],f={enqueue(m,P=1,d){if(this.isCancelled)return;const A=this.desiredSize;this.desiredSize-=P,A>0&&this.desiredSize<=0&&(this.sinkCapability=new n.PromiseCapability,this.ready=this.sinkCapability.promise),o.postMessage({sourceName:u,targetName:s,stream:K.ENQUEUE,streamId:B,chunk:m},d)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:u,targetName:s,stream:K.CLOSE,streamId:B}),delete y.streamSinks[B])},error(m){(0,n.assert)(m instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:u,targetName:s,stream:K.ERROR,streamId:B,reason:e(m)}))},sinkCapability:new n.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:F.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[B]=f,new Promise(function(m){m(r(F.data,f))}).then(function(){o.postMessage({sourceName:u,targetName:s,stream:K.START_COMPLETE,streamId:B,success:!0})},function(m){o.postMessage({sourceName:u,targetName:s,stream:K.START_COMPLETE,streamId:B,reason:e(m)})})},G=new WeakSet,Xi=function(F){const B=F.streamId,u=this.sourceName,s=F.sourceName,o=this.comObj,y=this.streamControllers[B],r=this.streamSinks[B];switch(F.stream){case K.START_COMPLETE:F.success?y.startCall.resolve():y.startCall.reject(e(F.reason));break;case K.PULL_COMPLETE:F.success?y.pullCall.resolve():y.pullCall.reject(e(F.reason));break;case K.PULL:if(!r){o.postMessage({sourceName:u,targetName:s,stream:K.PULL_COMPLETE,streamId:B,success:!0});break}r.desiredSize<=0&&F.desiredSize>0&&r.sinkCapability.resolve(),r.desiredSize=F.desiredSize,new Promise(function(f){var m;f((m=r.onPull)==null?void 0:m.call(r))}).then(function(){o.postMessage({sourceName:u,targetName:s,stream:K.PULL_COMPLETE,streamId:B,success:!0})},function(f){o.postMessage({sourceName:u,targetName:s,stream:K.PULL_COMPLETE,streamId:B,reason:e(f)})});break;case K.ENQUEUE:if((0,n.assert)(y,"enqueue should have stream controller"),y.isClosed)break;y.controller.enqueue(F.chunk);break;case K.CLOSE:if((0,n.assert)(y,"close should have stream controller"),y.isClosed)break;y.isClosed=!0,y.controller.close(),ze(this,C,_n).call(this,y,B);break;case K.ERROR:(0,n.assert)(y,"error should have stream controller"),y.controller.error(e(F.reason)),ze(this,C,_n).call(this,y,B);break;case K.CANCEL_COMPLETE:F.success?y.cancelCall.resolve():y.cancelCall.reject(e(F.reason)),ze(this,C,_n).call(this,y,B);break;case K.CANCEL:if(!r)break;new Promise(function(f){var m;f((m=r.onCancel)==null?void 0:m.call(r,e(F.reason)))}).then(function(){o.postMessage({sourceName:u,targetName:s,stream:K.CANCEL_COMPLETE,streamId:B,success:!0})},function(f){o.postMessage({sourceName:u,targetName:s,stream:K.CANCEL_COMPLETE,streamId:B,reason:e(f)})}),r.sinkCapability.reject(e(F.reason)),r.isCancelled=!0,delete this.streamSinks[B];break;default:throw new Error("Unexpected stream case")}},C=new WeakSet,_n=async function(F,B){var u,s,o;await Promise.allSettled([(u=F.startCall)==null?void 0:u.promise,(s=F.pullCall)==null?void 0:s.promise,(o=F.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[B]},S.MessageHandler=t},(fe,S,ee)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.PDFWorkerStream=void 0;var n=ee(2);class l{constructor(H){this._msgHandler=H,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new K(this._msgHandler),this._fullRequestReader}getRangeReader(H,z){const G=new e(H,z,this._msgHandler);return this._rangeRequestReaders.push(G),G}cancelAllRequests(H){this._fullRequestReader&&this._fullRequestReader.cancel(H);for(const z of this._rangeRequestReaders.slice(0))z.cancel(H)}}S.PDFWorkerStream=l;class K{constructor(H){this._msgHandler=H,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const z=this._msgHandler.sendWithStream("GetReader");this._reader=z.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(G=>{this._isStreamingSupported=G.isStreamingSupported,this._isRangeSupported=G.isRangeSupported,this._contentLength=G.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:H,done:z}=await this._reader.read();return z?{value:void 0,done:!0}:{value:H.buffer,done:!1}}cancel(H){this._reader.cancel(H)}}class e{constructor(H,z,G){this._msgHandler=G,this.onProgress=null;const I=this._msgHandler.sendWithStream("GetRangeReader",{begin:H,end:z});this._reader=I.getReader()}get isStreamingSupported(){return!1}async read(){const{value:H,done:z}=await this._reader.read();return z?{value:void 0,done:!0}:{value:H.buffer,done:!1}}cancel(H){this._reader.cancel(H)}}}],te={};function le(fe){var S=te[fe];if(S!==void 0)return S.exports;var ee=te[fe]={exports:{}};return ce[fe](ee,ee.exports,le),ee.exports}le.d=(fe,S)=>{for(var ee in S)le.o(S,ee)&&!le.o(fe,ee)&&Object.defineProperty(fe,ee,{enumerable:!0,get:S[ee]})},le.o=(fe,S)=>Object.prototype.hasOwnProperty.call(fe,S),le.r=fe=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(fe,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(fe,"__esModule",{value:!0})};var me={};return(()=>{var fe=me;Object.defineProperty(fe,"__esModule",{value:!0}),Object.defineProperty(fe,"WorkerMessageHandler",{enumerable:!0,get:function(){return S.WorkerMessageHandler}});var S=le(1)})(),me})())})(pdf_worker);var pdf_workerExports=pdf_worker.exports;(typeof window<"u"?window:{}).pdfjsWorker=pdf_workerExports;const useLabelsStore=defineStore("labels",()=>{const b=reactive([]);function O(...me){for(const fe of me)b.push(fe)}function ce(me){b.splice(me,1)}function te(){b.splice(0,b.length)}function le(){return b.reduce((me,fe)=>me+=+fe.packsCount,0)}return{items:b,addItem:O,removeItem:ce,removeAll:te,count:le}}),_withScopeId=b=>(pushScopeId("data-v-87e0ded7"),b=b(),popScopeId(),b),_hoisted_1$1={class:"noprint"},_hoisted_2$1=_withScopeId(()=>createBaseVNode("h1",null,"Etykieter",-1)),_hoisted_3$1={class:"choice"},_hoisted_4$1={class:"narrow-box"},_hoisted_5$1=_withScopeId(()=>createBaseVNode("h2",null,"Wybierz pliki z komputera",-1)),_hoisted_6=_withScopeId(()=>createBaseVNode("p",null,"Wczytaj faktury z Latvijas Finieris w formacie pdf.",-1)),_hoisted_7=_withScopeId(()=>createBaseVNode("p",null,"Możesz wybrać kilka plików jednocześnie.",-1)),_hoisted_8=_withScopeId(()=>createBaseVNode("div",{class:"button-bar"},[createBaseVNode("label",{for:"file-upload",class:"button cta"},"Dodaj pliki")],-1)),_hoisted_9=_withScopeId(()=>createBaseVNode("section",{class:"choice-break"},"--- lub ---",-1)),_hoisted_10={class:"choice"},_hoisted_11={class:"narrow-box"},_hoisted_12=_withScopeId(()=>createBaseVNode("h2",null,"Dodaj przez formularz",-1)),_hoisted_13=["onSubmit"],_hoisted_14=createStaticVNode('<input type="text" name="itemSize" class="form__item-size long-input" placeholder="format" pattern="\\d+([,.]\\d)?x\\d+x\\d+" required autocomplete="on" data-v-87e0ded7><textarea type="text" name="longDesc" class="form__long-desc long-input" placeholder="klasa" autocomplete="on" data-v-87e0ded7></textarea><section class="short-fields" data-v-87e0ded7><select name="itemGlue" class="form__item-glue short-input" required data-v-87e0ded7><option value="EXT" data-v-87e0ded7>EXT</option><option value="WD" data-v-87e0ded7>WD</option><option value="INT" data-v-87e0ded7>INT</option><option value="MR" data-v-87e0ded7>MR</option></select><input type="number" name="packsCount" class="form__packsCount short-input" placeholder="paczki" min="1" required data-v-87e0ded7><span data-v-87e0ded7>x</span><input type="number" name="packSize" class="form__pack-size short-input" placeholder="sztuki" min="0" required data-v-87e0ded7><span data-v-87e0ded7>szt.</span></section><input type="text" name="contract" class="contractNo long-input" placeholder="klient" autocomplete="on" data-v-87e0ded7><div class="button-bar" data-v-87e0ded7><button type="reset" data-v-87e0ded7>Wyczyść formularz</button><button type="submit" class="cta" data-v-87e0ded7>Dodaj etykietę</button></div>',5),_hoisted_19=[_hoisted_14],_hoisted_20=_withScopeId(()=>createBaseVNode("section",{class:"choice-break"},"---",-1)),_hoisted_21={class:"button-bar narrow-box"},_hoisted_22={class:"paper-count"},_hoisted_23=_withScopeId(()=>createBaseVNode("span",{class:"paper-count__info","data-tip":"Liczba stron powinna zgadzać się z ilością paczek na CMR."},"?",-1)),_hoisted_24={class:"table__long-desc"},_hoisted_25=["onClick"],_hoisted_26={class:"printme"},_hoisted_27={class:"a4-paper"},_hoisted_28={class:"label"},_hoisted_29={class:"label__item-size"},_hoisted_30={class:"label__long-desc"},_hoisted_31={class:"label__text-row"},_hoisted_32={class:"label__item-glue"},_hoisted_33={class:"label__contract"},_hoisted_34={class:"label__pack-szie"},_hoisted_35=_withScopeId(()=>createBaseVNode("hr",{class:"label-divider"},null,-1)),_hoisted_36={class:"label"},_hoisted_37={class:"label__item-size"},_hoisted_38={class:"label__long-desc"},_hoisted_39={class:"label__text-row"},_hoisted_40={class:"label__item-glue"},_hoisted_41={class:"label__contract"},_hoisted_42={class:"label__pack-szie"},_sfc_main$4=defineComponent({__name:"Default",setup(b){const O=/\b\d+x\d+x\d+\b/i,ce=/\b(Contract)\b/i,te=/\b\d+x\d+\b/i,le=/\b(EXT|WD|INT|MR)\b/i,me=/\b(Birch plywood|EXT|WD|INT|MR)\b/i,fe=useLabelsStore();function S(i){i.preventDefault();const F=i.target,B=new FormData(F),u=Object.fromEntries([...B.entries()]);fe.addItem(u)}function ee(i){fe.removeItem(i)}async function n(i){const F=i.target,B=F.files,u=await l(B),s=K(u),o=e(s);fe.addItem(...o),F.value=""}async function l(i){const F=i.length;let B=[];for(let u=0;u<F;u++){const s=i[u];if(s.type!=="application/pdf"){console.log("Invalid file type:",s.type,s);continue}const o=await s.arrayBuffer(),y=await pdfExports.getDocument(o).promise,r=y.numPages;for(let f=1;f<=r;f++){const P=await(await y.getPage(f)).getTextContent(),d=P.items.length;for(let A=0;A<d;A++){const h=P.items[A].str;B.push(h)}}}return B}function K(i){let F=[];const B=i.length;for(let u=0;u<B;u++){let s=F[F.length-1],o=i[u],y=0;if(y+=O.test(o)?1:0,y+=ce.test(o)?1:0,y+=te.test(o)?1:0,y+=me.test(o)?1:0,me.test(s)&&me.test(o)){F[F.length-1]=`${s} ${o}`;continue}y>0&&F.push(o)}return F}function e(i){let F=[];const B=i.length;let u="",s="",o="",y="",r="",f="",m="";for(let P=0;P<B;P++){const d=i[P];if(ce.test(d)&&(s=G(d),m="contractNo"),le.test(d)&&(r=I(d),m="itemGlueing"),me.test(d)&&(f=t(d),m="itemDescription"),O.test(d)&&(u=H(d),m="itemSize"),te.test(d)){const A=z(d);o=A[0],y=A[1],m="itemPacking"}m==="itemPacking"&&(F.push({contract:s,longDesc:f,itemSize:u,itemGlue:r,packsCount:o,packSize:y}),m="")}return F}function t(i){const F=(i==null?void 0:i.split(", "))||[];let B=[];for(let u of F)u.match(/(edges sealed|Const|441233\d\d|\(1\)\(2\)|RAL|EXT|WD|INT|MR)/i)||(u=u.replace(/\b(Birch|plywood|RIGA|MEL|TEX|FORM|PLY|CODE|\d{5,})\b/gi,"").trim(),B.push(u));return B.join(` 
`)||"it's null"}function H(i){return((i==null?void 0:i.match(/\b\d+([,.]\d+)?x\d+x\d+\b/i))||["0x0x0"])[0]}function z(i){return(i.match(/\b\d+x\d+\b/i)||["1x0"])[0].split("x")}function G(i){return i.replace(/Contract No\.:/i,"").trim()}function I(i){return(i.match(/\b(EXT|WD|INT|MR)\b/i)||[""])[0]}function C(){window.print()}function w(i,F,B,u){let s="";return u===1?s=i:u%10>1&&u%10<5&&(u%100<10||u%100>20)?s=F:u>=5&&(s=B),s}return(i,F)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("section",_hoisted_1$1,[_hoisted_2$1,createBaseVNode("section",_hoisted_3$1,[createBaseVNode("div",_hoisted_4$1,[_hoisted_5$1,_hoisted_6,_hoisted_7,_hoisted_8,createBaseVNode("input",{type:"file",name:"file-upload",id:"file-upload",class:"",multiple:"",onChange:n,hidden:""},null,32)])]),_hoisted_9,createBaseVNode("section",_hoisted_10,[createBaseVNode("div",_hoisted_11,[_hoisted_12,createBaseVNode("form",{class:"add-item-form",onSubmit:withModifiers(S,["prevent"])},_hoisted_19,40,_hoisted_13)])]),unref(fe).items.length>0?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_20,createBaseVNode("div",_hoisted_21,[createBaseVNode("span",_hoisted_22,toDisplayString(`${unref(fe).count()} ${w("strona","strony","stron",unref(fe).count())}`),1),_hoisted_23,createBaseVNode("button",{class:"cta",onClick:C},"Drukuj"),createBaseVNode("button",{onClick:F[0]||(F[0]=B=>unref(fe).removeAll())},"Usuń wszystkie")])],64)):createCommentVNode("",!0),createBaseVNode("table",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(fe).items,({contract:B,longDesc:u,itemSize:s,itemGlue:o,packsCount:y,packSize:r},f)=>(openBlock(),createElementBlock("tr",{key:f},[createBaseVNode("td",null,toDisplayString(f+1)+".",1),createBaseVNode("td",null,toDisplayString(s),1),createBaseVNode("td",_hoisted_24,toDisplayString(u),1),createBaseVNode("td",null,toDisplayString(o),1),createBaseVNode("td",null,toDisplayString(`${y}x${r}`),1),createBaseVNode("td",null,toDisplayString(B),1),createBaseVNode("td",null,[createBaseVNode("button",{onClick:m=>ee(f)},"Usuń",8,_hoisted_25)])]))),128))])]),createBaseVNode("section",_hoisted_26,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(fe).items,({contract:B,longDesc:u,itemSize:s,itemGlue:o,packsCount:y,packSize:r},f)=>(openBlock(),createElementBlock(Fragment,{key:f},[(openBlock(!0),createElementBlock(Fragment,null,renderList(+y,m=>(openBlock(),createElementBlock("section",_hoisted_27,[createBaseVNode("div",_hoisted_28,[createBaseVNode("div",_hoisted_29,toDisplayString(s),1),createBaseVNode("div",_hoisted_30,toDisplayString(u),1),createBaseVNode("div",_hoisted_31,[createBaseVNode("span",_hoisted_32,toDisplayString(o),1),createBaseVNode("span",_hoisted_33,toDisplayString(B),1),createBaseVNode("span",_hoisted_34,toDisplayString(r),1)])]),_hoisted_35,createBaseVNode("div",_hoisted_36,[createBaseVNode("div",_hoisted_37,toDisplayString(s),1),createBaseVNode("div",_hoisted_38,toDisplayString(u),1),createBaseVNode("div",_hoisted_39,[createBaseVNode("span",_hoisted_40,toDisplayString(o),1),createBaseVNode("span",_hoisted_41,toDisplayString(B),1),createBaseVNode("span",_hoisted_42,toDisplayString(r),1)])])]))),256))],64))),128))])],64))}}),Default_vue_vue_type_style_index_0_scoped_87e0ded7_lang="",_export_sfc=(b,O)=>{const ce=b.__vccOpts||b;for(const[te,le]of O)ce[te]=le;return ce},DefaultTemplate=_export_sfc(_sfc_main$4,[["__scopeId","data-v-87e0ded7"]]),_hoisted_1={class:"li-field"},_hoisted_2={class:"li-field"},_hoisted_3={class:"li-field"},_hoisted_4={class:"li-field"},_hoisted_5={class:"li-field"},_sfc_main$3=defineComponent({__name:"Print",setup(b){const O=useLabelsStore();return(ce,te)=>(openBlock(),createElementBlock("table",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(O).items,({contract:le,longDesc:me,itemSize:fe,itemGlue:S,packsCount:ee,packSize:n},l)=>(openBlock(),createElementBlock("tr",{key:l,class:"li-grid"},[createBaseVNode("td",_hoisted_1,toDisplayString(fe),1),createBaseVNode("td",_hoisted_2,toDisplayString(me),1),createBaseVNode("td",_hoisted_3,toDisplayString(S),1),createBaseVNode("td",_hoisted_4,toDisplayString(`${ee}x${n}`),1),createBaseVNode("td",_hoisted_5,toDisplayString(le),1)]))),128))]))}}),_sfc_main$2={};function _sfc_render$1(b,O){return openBlock(),createElementBlock("h1",null,"CompA")}const CompA=_export_sfc(_sfc_main$2,[["render",_sfc_render$1]]),_sfc_main$1={};function _sfc_render(b,O){return openBlock(),createElementBlock("h1",null,"CompB")}const CompB=_export_sfc(_sfc_main$1,[["render",_sfc_render]]),_sfc_main=defineComponent({__name:"App",setup(b){const O=ref("DefaultTemplate"),ce={DefaultTemplate,PrintTemplate:_sfc_main$3,CompA,CompB};return computed(()=>(console.log("triggered"),ce[O.value])),addEventListener("beforeprint",te=>{O.value="PrintTemplate",console.log("beforeprint",O.value)}),addEventListener("afterprint",te=>{O.value="DefaultTemplate",console.log("afterprint",O.value)}),(te,le)=>(openBlock(),createBlock(resolveDynamicComponent(DefaultTemplate)))}}),App_vue_vue_type_style_index_0_lang="",app=createApp(_sfc_main);app.use(createPinia());app.mount("#app");
