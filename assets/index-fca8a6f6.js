var Ys=Object.defineProperty;var Js=(f,E,de)=>E in f?Ys(f,E,{enumerable:!0,configurable:!0,writable:!0,value:de}):f[E]=de;var Dt=(f,E,de)=>(Js(f,typeof E!="symbol"?E+"":E,de),de),fi=(f,E,de)=>{if(!E.has(f))throw TypeError("Cannot "+de)};var pe=(f,E,de)=>(fi(f,E,"read from private field"),de?de.call(f):E.get(f)),Me=(f,E,de)=>{if(E.has(f))throw TypeError("Cannot add the same private member more than once");E instanceof WeakSet?E.add(f):E.set(f,de)},Xe=(f,E,de,ne)=>(fi(f,E,"write to private field"),ne?ne.call(f,de):E.set(f,de),de);var An=(f,E,de,ne)=>({set _(fe){Xe(f,E,fe,de)},get _(){return pe(f,E,ne)}}),Ne=(f,E,de)=>(fi(f,E,"access private method"),de);(function(){const E=document.createElement("link").relList;if(E&&E.supports&&E.supports("modulepreload"))return;for(const fe of document.querySelectorAll('link[rel="modulepreload"]'))ne(fe);new MutationObserver(fe=>{for(const we of fe)if(we.type==="childList")for(const xe of we.addedNodes)xe.tagName==="LINK"&&xe.rel==="modulepreload"&&ne(xe)}).observe(document,{childList:!0,subtree:!0});function de(fe){const we={};return fe.integrity&&(we.integrity=fe.integrity),fe.referrerPolicy&&(we.referrerPolicy=fe.referrerPolicy),fe.crossOrigin==="use-credentials"?we.credentials="include":fe.crossOrigin==="anonymous"?we.credentials="omit":we.credentials="same-origin",we}function ne(fe){if(fe.ep)return;fe.ep=!0;const we=de(fe);fetch(fe.href,we)}})();const base="";function makeMap(f,E){const de=Object.create(null),ne=f.split(",");for(let fe=0;fe<ne.length;fe++)de[ne[fe]]=!0;return E?fe=>!!de[fe.toLowerCase()]:fe=>!!de[fe]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=f=>onRE.test(f),isModelListener=f=>f.startsWith("onUpdate:"),extend=Object.assign,remove=(f,E)=>{const de=f.indexOf(E);de>-1&&f.splice(de,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(f,E)=>hasOwnProperty$1.call(f,E),isArray=Array.isArray,isMap=f=>toTypeString(f)==="[object Map]",isSet=f=>toTypeString(f)==="[object Set]",isFunction=f=>typeof f=="function",isString=f=>typeof f=="string",isSymbol=f=>typeof f=="symbol",isObject=f=>f!==null&&typeof f=="object",isPromise=f=>isObject(f)&&isFunction(f.then)&&isFunction(f.catch),objectToString=Object.prototype.toString,toTypeString=f=>objectToString.call(f),toRawType=f=>toTypeString(f).slice(8,-1),isPlainObject$1=f=>toTypeString(f)==="[object Object]",isIntegerKey=f=>isString(f)&&f!=="NaN"&&f[0]!=="-"&&""+parseInt(f,10)===f,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=f=>{const E=Object.create(null);return de=>E[de]||(E[de]=f(de))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(f=>f.replace(camelizeRE,(E,de)=>de?de.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(f=>f.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(f=>f.charAt(0).toUpperCase()+f.slice(1)),toHandlerKey=cacheStringFunction(f=>f?`on${capitalize(f)}`:""),hasChanged=(f,E)=>!Object.is(f,E),invokeArrayFns=(f,E)=>{for(let de=0;de<f.length;de++)f[de](E)},def=(f,E,de)=>{Object.defineProperty(f,E,{configurable:!0,enumerable:!1,value:de})},looseToNumber=f=>{const E=parseFloat(f);return isNaN(E)?f:E};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(f){if(isArray(f)){const E={};for(let de=0;de<f.length;de++){const ne=f[de],fe=isString(ne)?parseStringStyle(ne):normalizeStyle(ne);if(fe)for(const we in fe)E[we]=fe[we]}return E}else{if(isString(f))return f;if(isObject(f))return f}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(f){const E={};return f.replace(styleCommentRE,"").split(listDelimiterRE).forEach(de=>{if(de){const ne=de.split(propertyDelimiterRE);ne.length>1&&(E[ne[0].trim()]=ne[1].trim())}}),E}function normalizeClass(f){let E="";if(isString(f))E=f;else if(isArray(f))for(let de=0;de<f.length;de++){const ne=normalizeClass(f[de]);ne&&(E+=ne+" ")}else if(isObject(f))for(const de in f)f[de]&&(E+=de+" ");return E.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(f){return!!f||f===""}const toDisplayString=f=>isString(f)?f:f==null?"":isArray(f)||isObject(f)&&(f.toString===objectToString||!isFunction(f.toString))?JSON.stringify(f,replacer,2):String(f),replacer=(f,E)=>E&&E.__v_isRef?replacer(f,E.value):isMap(E)?{[`Map(${E.size})`]:[...E.entries()].reduce((de,[ne,fe])=>(de[`${ne} =>`]=fe,de),{})}:isSet(E)?{[`Set(${E.size})`]:[...E.values()]}:isObject(E)&&!isArray(E)&&!isPlainObject$1(E)?String(E):E;let activeEffectScope;class EffectScope{constructor(E=!1){this.detached=E,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!E&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(E){if(this._active){const de=activeEffectScope;try{return activeEffectScope=this,E()}finally{activeEffectScope=de}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(E){if(this._active){let de,ne;for(de=0,ne=this.effects.length;de<ne;de++)this.effects[de].stop();for(de=0,ne=this.cleanups.length;de<ne;de++)this.cleanups[de]();if(this.scopes)for(de=0,ne=this.scopes.length;de<ne;de++)this.scopes[de].stop(!0);if(!this.detached&&this.parent&&!E){const fe=this.parent.scopes.pop();fe&&fe!==this&&(this.parent.scopes[this.index]=fe,fe.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(f){return new EffectScope(f)}function recordEffectScope(f,E=activeEffectScope){E&&E.active&&E.effects.push(f)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(f){activeEffectScope&&activeEffectScope.cleanups.push(f)}const createDep=f=>{const E=new Set(f);return E.w=0,E.n=0,E},wasTracked=f=>(f.w&trackOpBit)>0,newTracked=f=>(f.n&trackOpBit)>0,initDepMarkers=({deps:f})=>{if(f.length)for(let E=0;E<f.length;E++)f[E].w|=trackOpBit},finalizeDepMarkers=f=>{const{deps:E}=f;if(E.length){let de=0;for(let ne=0;ne<E.length;ne++){const fe=E[ne];wasTracked(fe)&&!newTracked(fe)?fe.delete(f):E[de++]=fe,fe.w&=~trackOpBit,fe.n&=~trackOpBit}E.length=de}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(E,de=null,ne){this.fn=E,this.scheduler=de,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,ne)}run(){if(!this.active)return this.fn();let E=activeEffect,de=shouldTrack;for(;E;){if(E===this)return;E=E.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=de,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(f){const{deps:E}=f;if(E.length){for(let de=0;de<E.length;de++)E[de].delete(f);E.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const f=trackStack.pop();shouldTrack=f===void 0?!0:f}function track(f,E,de){if(shouldTrack&&activeEffect){let ne=targetMap.get(f);ne||targetMap.set(f,ne=new Map);let fe=ne.get(de);fe||ne.set(de,fe=createDep()),trackEffects(fe)}}function trackEffects(f,E){let de=!1;effectTrackDepth<=maxMarkerBits?newTracked(f)||(f.n|=trackOpBit,de=!wasTracked(f)):de=!f.has(activeEffect),de&&(f.add(activeEffect),activeEffect.deps.push(f))}function trigger(f,E,de,ne,fe,we){const xe=targetMap.get(f);if(!xe)return;let m=[];if(E==="clear")m=[...xe.values()];else if(de==="length"&&isArray(f)){const Q=Number(ne);xe.forEach((n,S)=>{(S==="length"||S>=Q)&&m.push(n)})}else switch(de!==void 0&&m.push(xe.get(de)),E){case"add":isArray(f)?isIntegerKey(de)&&m.push(xe.get("length")):(m.push(xe.get(ITERATE_KEY)),isMap(f)&&m.push(xe.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(f)||(m.push(xe.get(ITERATE_KEY)),isMap(f)&&m.push(xe.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(f)&&m.push(xe.get(ITERATE_KEY));break}if(m.length===1)m[0]&&triggerEffects(m[0]);else{const Q=[];for(const n of m)n&&Q.push(...n);triggerEffects(createDep(Q))}}function triggerEffects(f,E){const de=isArray(f)?f:[...f];for(const ne of de)ne.computed&&triggerEffect(ne);for(const ne of de)ne.computed||triggerEffect(ne)}function triggerEffect(f,E){(f!==activeEffect||f.allowRecurse)&&(f.scheduler?f.scheduler():f.run())}function getDepFromReactive(f,E){var de;return(de=targetMap.get(f))==null?void 0:de.get(E)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(f=>f!=="arguments"&&f!=="caller").map(f=>Symbol[f]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const f={};return["includes","indexOf","lastIndexOf"].forEach(E=>{f[E]=function(...de){const ne=toRaw(this);for(let we=0,xe=this.length;we<xe;we++)track(ne,"get",we+"");const fe=ne[E](...de);return fe===-1||fe===!1?ne[E](...de.map(toRaw)):fe}}),["push","pop","shift","unshift","splice"].forEach(E=>{f[E]=function(...de){pauseTracking();const ne=toRaw(this)[E].apply(this,de);return resetTracking(),ne}}),f}function hasOwnProperty(f){const E=toRaw(this);return track(E,"has",f),E.hasOwnProperty(f)}function createGetter(f=!1,E=!1){return function(ne,fe,we){if(fe==="__v_isReactive")return!f;if(fe==="__v_isReadonly")return f;if(fe==="__v_isShallow")return E;if(fe==="__v_raw"&&we===(f?E?shallowReadonlyMap:readonlyMap:E?shallowReactiveMap:reactiveMap).get(ne))return ne;const xe=isArray(ne);if(!f){if(xe&&hasOwn(arrayInstrumentations,fe))return Reflect.get(arrayInstrumentations,fe,we);if(fe==="hasOwnProperty")return hasOwnProperty}const m=Reflect.get(ne,fe,we);return(isSymbol(fe)?builtInSymbols.has(fe):isNonTrackableKeys(fe))||(f||track(ne,"get",fe),E)?m:isRef(m)?xe&&isIntegerKey(fe)?m:m.value:isObject(m)?f?readonly(m):reactive(m):m}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(f=!1){return function(de,ne,fe,we){let xe=de[ne];if(isReadonly(xe)&&isRef(xe)&&!isRef(fe))return!1;if(!f&&(!isShallow(fe)&&!isReadonly(fe)&&(xe=toRaw(xe),fe=toRaw(fe)),!isArray(de)&&isRef(xe)&&!isRef(fe)))return xe.value=fe,!0;const m=isArray(de)&&isIntegerKey(ne)?Number(ne)<de.length:hasOwn(de,ne),Q=Reflect.set(de,ne,fe,we);return de===toRaw(we)&&(m?hasChanged(fe,xe)&&trigger(de,"set",ne,fe):trigger(de,"add",ne,fe)),Q}}function deleteProperty(f,E){const de=hasOwn(f,E);f[E];const ne=Reflect.deleteProperty(f,E);return ne&&de&&trigger(f,"delete",E,void 0),ne}function has$1(f,E){const de=Reflect.has(f,E);return(!isSymbol(E)||!builtInSymbols.has(E))&&track(f,"has",E),de}function ownKeys(f){return track(f,"iterate",isArray(f)?"length":ITERATE_KEY),Reflect.ownKeys(f)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys},readonlyHandlers={get:readonlyGet,set(f,E){return!0},deleteProperty(f,E){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=f=>f,getProto=f=>Reflect.getPrototypeOf(f);function get(f,E,de=!1,ne=!1){f=f.__v_raw;const fe=toRaw(f),we=toRaw(E);de||(E!==we&&track(fe,"get",E),track(fe,"get",we));const{has:xe}=getProto(fe),m=ne?toShallow:de?toReadonly:toReactive;if(xe.call(fe,E))return m(f.get(E));if(xe.call(fe,we))return m(f.get(we));f!==fe&&f.get(E)}function has(f,E=!1){const de=this.__v_raw,ne=toRaw(de),fe=toRaw(f);return E||(f!==fe&&track(ne,"has",f),track(ne,"has",fe)),f===fe?de.has(f):de.has(f)||de.has(fe)}function size(f,E=!1){return f=f.__v_raw,!E&&track(toRaw(f),"iterate",ITERATE_KEY),Reflect.get(f,"size",f)}function add(f){f=toRaw(f);const E=toRaw(this);return getProto(E).has.call(E,f)||(E.add(f),trigger(E,"add",f,f)),this}function set(f,E){E=toRaw(E);const de=toRaw(this),{has:ne,get:fe}=getProto(de);let we=ne.call(de,f);we||(f=toRaw(f),we=ne.call(de,f));const xe=fe.call(de,f);return de.set(f,E),we?hasChanged(E,xe)&&trigger(de,"set",f,E):trigger(de,"add",f,E),this}function deleteEntry(f){const E=toRaw(this),{has:de,get:ne}=getProto(E);let fe=de.call(E,f);fe||(f=toRaw(f),fe=de.call(E,f)),ne&&ne.call(E,f);const we=E.delete(f);return fe&&trigger(E,"delete",f,void 0),we}function clear(){const f=toRaw(this),E=f.size!==0,de=f.clear();return E&&trigger(f,"clear",void 0,void 0),de}function createForEach(f,E){return function(ne,fe){const we=this,xe=we.__v_raw,m=toRaw(xe),Q=E?toShallow:f?toReadonly:toReactive;return!f&&track(m,"iterate",ITERATE_KEY),xe.forEach((n,S)=>ne.call(fe,Q(n),Q(S),we))}}function createIterableMethod(f,E,de){return function(...ne){const fe=this.__v_raw,we=toRaw(fe),xe=isMap(we),m=f==="entries"||f===Symbol.iterator&&xe,Q=f==="keys"&&xe,n=fe[f](...ne),S=de?toShallow:E?toReadonly:toReactive;return!E&&track(we,"iterate",Q?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:N,done:e}=n.next();return e?{value:N,done:e}:{value:m?[S(N[0]),S(N[1])]:S(N),done:e}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(f){return function(...E){return f==="delete"?!1:this}}function createInstrumentations(){const f={get(we){return get(this,we)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},E={get(we){return get(this,we,!1,!0)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},de={get(we){return get(this,we,!0)},get size(){return size(this,!0)},has(we){return has.call(this,we,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},ne={get(we){return get(this,we,!0,!0)},get size(){return size(this,!0)},has(we){return has.call(this,we,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(we=>{f[we]=createIterableMethod(we,!1,!1),de[we]=createIterableMethod(we,!0,!1),E[we]=createIterableMethod(we,!1,!0),ne[we]=createIterableMethod(we,!0,!0)}),[f,de,E,ne]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(f,E){const de=E?f?shallowReadonlyInstrumentations:shallowInstrumentations:f?readonlyInstrumentations:mutableInstrumentations;return(ne,fe,we)=>fe==="__v_isReactive"?!f:fe==="__v_isReadonly"?f:fe==="__v_raw"?ne:Reflect.get(hasOwn(de,fe)&&fe in ne?de:ne,fe,we)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(f){switch(f){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(f){return f.__v_skip||!Object.isExtensible(f)?0:targetTypeMap(toRawType(f))}function reactive(f){return isReadonly(f)?f:createReactiveObject(f,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(f){return createReactiveObject(f,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(f){return createReactiveObject(f,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(f,E,de,ne,fe){if(!isObject(f)||f.__v_raw&&!(E&&f.__v_isReactive))return f;const we=fe.get(f);if(we)return we;const xe=getTargetType(f);if(xe===0)return f;const m=new Proxy(f,xe===2?ne:de);return fe.set(f,m),m}function isReactive(f){return isReadonly(f)?isReactive(f.__v_raw):!!(f&&f.__v_isReactive)}function isReadonly(f){return!!(f&&f.__v_isReadonly)}function isShallow(f){return!!(f&&f.__v_isShallow)}function isProxy(f){return isReactive(f)||isReadonly(f)}function toRaw(f){const E=f&&f.__v_raw;return E?toRaw(E):f}function markRaw(f){return def(f,"__v_skip",!0),f}const toReactive=f=>isObject(f)?reactive(f):f,toReadonly=f=>isObject(f)?readonly(f):f;function trackRefValue(f){shouldTrack&&activeEffect&&(f=toRaw(f),trackEffects(f.dep||(f.dep=createDep())))}function triggerRefValue(f,E){f=toRaw(f);const de=f.dep;de&&triggerEffects(de)}function isRef(f){return!!(f&&f.__v_isRef===!0)}function ref(f){return createRef(f,!1)}function createRef(f,E){return isRef(f)?f:new RefImpl(f,E)}class RefImpl{constructor(E,de){this.__v_isShallow=de,this.dep=void 0,this.__v_isRef=!0,this._rawValue=de?E:toRaw(E),this._value=de?E:toReactive(E)}get value(){return trackRefValue(this),this._value}set value(E){const de=this.__v_isShallow||isShallow(E)||isReadonly(E);E=de?E:toRaw(E),hasChanged(E,this._rawValue)&&(this._rawValue=E,this._value=de?E:toReactive(E),triggerRefValue(this))}}function unref(f){return isRef(f)?f.value:f}const shallowUnwrapHandlers={get:(f,E,de)=>unref(Reflect.get(f,E,de)),set:(f,E,de,ne)=>{const fe=f[E];return isRef(fe)&&!isRef(de)?(fe.value=de,!0):Reflect.set(f,E,de,ne)}};function proxyRefs(f){return isReactive(f)?f:new Proxy(f,shallowUnwrapHandlers)}function toRefs(f){const E=isArray(f)?new Array(f.length):{};for(const de in f)E[de]=propertyToRef(f,de);return E}class ObjectRefImpl{constructor(E,de,ne){this._object=E,this._key=de,this._defaultValue=ne,this.__v_isRef=!0}get value(){const E=this._object[this._key];return E===void 0?this._defaultValue:E}set value(E){this._object[this._key]=E}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}function propertyToRef(f,E,de){const ne=f[E];return isRef(ne)?ne:new ObjectRefImpl(f,E,de)}class ComputedRefImpl{constructor(E,de,ne,fe){this._setter=de,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(E,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!fe,this.__v_isReadonly=ne}get value(){const E=toRaw(this);return trackRefValue(E),(E._dirty||!E._cacheable)&&(E._dirty=!1,E._value=E.effect.run()),E._value}set value(E){this._setter(E)}}function computed$1(f,E,de=!1){let ne,fe;const we=isFunction(f);return we?(ne=f,fe=NOOP):(ne=f.get,fe=f.set),new ComputedRefImpl(ne,fe,we||!fe,de)}function warn(f,...E){}function callWithErrorHandling(f,E,de,ne){let fe;try{fe=ne?f(...ne):f()}catch(we){handleError(we,E,de)}return fe}function callWithAsyncErrorHandling(f,E,de,ne){if(isFunction(f)){const we=callWithErrorHandling(f,E,de,ne);return we&&isPromise(we)&&we.catch(xe=>{handleError(xe,E,de)}),we}const fe=[];for(let we=0;we<f.length;we++)fe.push(callWithAsyncErrorHandling(f[we],E,de,ne));return fe}function handleError(f,E,de,ne=!0){const fe=E?E.vnode:null;if(E){let we=E.parent;const xe=E.proxy,m=de;for(;we;){const n=we.ec;if(n){for(let S=0;S<n.length;S++)if(n[S](f,xe,m)===!1)return}we=we.parent}const Q=E.appContext.config.errorHandler;if(Q){callWithErrorHandling(Q,null,10,[f,xe,m]);return}}logError(f,de,fe,ne)}function logError(f,E,de,ne=!0){console.error(f)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(f){const E=currentFlushPromise||resolvedPromise;return f?E.then(this?f.bind(this):f):E}function findInsertionIndex(f){let E=flushIndex+1,de=queue.length;for(;E<de;){const ne=E+de>>>1;getId(queue[ne])<f?E=ne+1:de=ne}return E}function queueJob(f){(!queue.length||!queue.includes(f,isFlushing&&f.allowRecurse?flushIndex+1:flushIndex))&&(f.id==null?queue.push(f):queue.splice(findInsertionIndex(f.id),0,f),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(f){const E=queue.indexOf(f);E>flushIndex&&queue.splice(E,1)}function queuePostFlushCb(f){isArray(f)?pendingPostFlushCbs.push(...f):(!activePostFlushCbs||!activePostFlushCbs.includes(f,f.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(f),queueFlush()}function flushPreFlushCbs(f,E=isFlushing?flushIndex+1:0){for(;E<queue.length;E++){const de=queue[E];de&&de.pre&&(queue.splice(E,1),E--,de())}}function flushPostFlushCbs(f){if(pendingPostFlushCbs.length){const E=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...E);return}for(activePostFlushCbs=E,activePostFlushCbs.sort((de,ne)=>getId(de)-getId(ne)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=f=>f.id==null?1/0:f.id,comparator=(f,E)=>{const de=getId(f)-getId(E);if(de===0){if(f.pre&&!E.pre)return-1;if(E.pre&&!f.pre)return 1}return de};function flushJobs(f){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const E=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const de=queue[flushIndex];de&&de.active!==!1&&callWithErrorHandling(de,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(f,E,...de){if(f.isUnmounted)return;const ne=f.vnode.props||EMPTY_OBJ;let fe=de;const we=E.startsWith("update:"),xe=we&&E.slice(7);if(xe&&xe in ne){const S=`${xe==="modelValue"?"model":xe}Modifiers`,{number:N,trim:e}=ne[S]||EMPTY_OBJ;e&&(fe=de.map(t=>isString(t)?t.trim():t)),N&&(fe=de.map(looseToNumber))}let m,Q=ne[m=toHandlerKey(E)]||ne[m=toHandlerKey(camelize(E))];!Q&&we&&(Q=ne[m=toHandlerKey(hyphenate(E))]),Q&&callWithAsyncErrorHandling(Q,f,6,fe);const n=ne[m+"Once"];if(n){if(!f.emitted)f.emitted={};else if(f.emitted[m])return;f.emitted[m]=!0,callWithAsyncErrorHandling(n,f,6,fe)}}function normalizeEmitsOptions(f,E,de=!1){const ne=E.emitsCache,fe=ne.get(f);if(fe!==void 0)return fe;const we=f.emits;let xe={},m=!1;if(!isFunction(f)){const Q=n=>{const S=normalizeEmitsOptions(n,E,!0);S&&(m=!0,extend(xe,S))};!de&&E.mixins.length&&E.mixins.forEach(Q),f.extends&&Q(f.extends),f.mixins&&f.mixins.forEach(Q)}return!we&&!m?(isObject(f)&&ne.set(f,null),null):(isArray(we)?we.forEach(Q=>xe[Q]=null):extend(xe,we),isObject(f)&&ne.set(f,xe),xe)}function isEmitListener(f,E){return!f||!isOn(E)?!1:(E=E.slice(2).replace(/Once$/,""),hasOwn(f,E[0].toLowerCase()+E.slice(1))||hasOwn(f,hyphenate(E))||hasOwn(f,E))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(f){const E=currentRenderingInstance;return currentRenderingInstance=f,currentScopeId=f&&f.type.__scopeId||null,E}function pushScopeId(f){currentScopeId=f}function popScopeId(){currentScopeId=null}function withCtx(f,E=currentRenderingInstance,de){if(!E||f._n)return f;const ne=(...fe)=>{ne._d&&setBlockTracking(-1);const we=setCurrentRenderingInstance(E);let xe;try{xe=f(...fe)}finally{setCurrentRenderingInstance(we),ne._d&&setBlockTracking(1)}return xe};return ne._n=!0,ne._c=!0,ne._d=!0,ne}function markAttrsAccessed(){}function renderComponentRoot(f){const{type:E,vnode:de,proxy:ne,withProxy:fe,props:we,propsOptions:[xe],slots:m,attrs:Q,emit:n,render:S,renderCache:N,data:e,setupState:t,ctx:r,inheritAttrs:z}=f;let j,M;const I=setCurrentRenderingInstance(f);try{if(de.shapeFlag&4){const u=fe||ne;j=normalizeVNode(S.call(u,u,N,we,t,e,r)),M=Q}else{const u=E;j=normalizeVNode(u.length>1?u(we,{attrs:Q,slots:m,emit:n}):u(we,null)),M=E.props?Q:getFunctionalFallthrough(Q)}}catch(u){blockStack.length=0,handleError(u,f,1),j=createVNode(Comment)}let d=j;if(M&&z!==!1){const u=Object.keys(M),{shapeFlag:i}=d;u.length&&i&7&&(xe&&u.some(isModelListener)&&(M=filterModelListeners(M,xe)),d=cloneVNode(d,M))}return de.dirs&&(d=cloneVNode(d),d.dirs=d.dirs?d.dirs.concat(de.dirs):de.dirs),de.transition&&(d.transition=de.transition),j=d,setCurrentRenderingInstance(I),j}const getFunctionalFallthrough=f=>{let E;for(const de in f)(de==="class"||de==="style"||isOn(de))&&((E||(E={}))[de]=f[de]);return E},filterModelListeners=(f,E)=>{const de={};for(const ne in f)(!isModelListener(ne)||!(ne.slice(9)in E))&&(de[ne]=f[ne]);return de};function shouldUpdateComponent(f,E,de){const{props:ne,children:fe,component:we}=f,{props:xe,children:m,patchFlag:Q}=E,n=we.emitsOptions;if(E.dirs||E.transition)return!0;if(de&&Q>=0){if(Q&1024)return!0;if(Q&16)return ne?hasPropsChanged(ne,xe,n):!!xe;if(Q&8){const S=E.dynamicProps;for(let N=0;N<S.length;N++){const e=S[N];if(xe[e]!==ne[e]&&!isEmitListener(n,e))return!0}}}else return(fe||m)&&(!m||!m.$stable)?!0:ne===xe?!1:ne?xe?hasPropsChanged(ne,xe,n):!0:!!xe;return!1}function hasPropsChanged(f,E,de){const ne=Object.keys(E);if(ne.length!==Object.keys(f).length)return!0;for(let fe=0;fe<ne.length;fe++){const we=ne[fe];if(E[we]!==f[we]&&!isEmitListener(de,we))return!0}return!1}function updateHOCHostEl({vnode:f,parent:E},de){for(;E&&E.subTree===f;)(f=E.vnode).el=de,E=E.parent}const isSuspense=f=>f.__isSuspense;function queueEffectWithSuspense(f,E){E&&E.pendingBranch?isArray(f)?E.effects.push(...f):E.effects.push(f):queuePostFlushCb(f)}const INITIAL_WATCHER_VALUE={};function watch(f,E,de){return doWatch(f,E,de)}function doWatch(f,E,{immediate:de,deep:ne,flush:fe,onTrack:we,onTrigger:xe}=EMPTY_OBJ){var m;const Q=getCurrentScope()===((m=currentInstance)==null?void 0:m.scope)?currentInstance:null;let n,S=!1,N=!1;if(isRef(f)?(n=()=>f.value,S=isShallow(f)):isReactive(f)?(n=()=>f,ne=!0):isArray(f)?(N=!0,S=f.some(u=>isReactive(u)||isShallow(u)),n=()=>f.map(u=>{if(isRef(u))return u.value;if(isReactive(u))return traverse(u);if(isFunction(u))return callWithErrorHandling(u,Q,2)})):isFunction(f)?E?n=()=>callWithErrorHandling(f,Q,2):n=()=>{if(!(Q&&Q.isUnmounted))return e&&e(),callWithAsyncErrorHandling(f,Q,3,[t])}:n=NOOP,E&&ne){const u=n;n=()=>traverse(u())}let e,t=u=>{e=I.onStop=()=>{callWithErrorHandling(u,Q,4)}},r;if(isInSSRComponentSetup)if(t=NOOP,E?de&&callWithAsyncErrorHandling(E,Q,3,[n(),N?[]:void 0,t]):n(),fe==="sync"){const u=useSSRContext();r=u.__watcherHandles||(u.__watcherHandles=[])}else return NOOP;let z=N?new Array(f.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const j=()=>{if(I.active)if(E){const u=I.run();(ne||S||(N?u.some((i,F)=>hasChanged(i,z[F])):hasChanged(u,z)))&&(e&&e(),callWithAsyncErrorHandling(E,Q,3,[u,z===INITIAL_WATCHER_VALUE?void 0:N&&z[0]===INITIAL_WATCHER_VALUE?[]:z,t]),z=u)}else I.run()};j.allowRecurse=!!E;let M;fe==="sync"?M=j:fe==="post"?M=()=>queuePostRenderEffect(j,Q&&Q.suspense):(j.pre=!0,Q&&(j.id=Q.uid),M=()=>queueJob(j));const I=new ReactiveEffect(n,M);E?de?j():z=I.run():fe==="post"?queuePostRenderEffect(I.run.bind(I),Q&&Q.suspense):I.run();const d=()=>{I.stop(),Q&&Q.scope&&remove(Q.scope.effects,I)};return r&&r.push(d),d}function instanceWatch(f,E,de){const ne=this.proxy,fe=isString(f)?f.includes(".")?createPathGetter(ne,f):()=>ne[f]:f.bind(ne,ne);let we;isFunction(E)?we=E:(we=E.handler,de=E);const xe=currentInstance;setCurrentInstance(this);const m=doWatch(fe,we.bind(ne),de);return xe?setCurrentInstance(xe):unsetCurrentInstance(),m}function createPathGetter(f,E){const de=E.split(".");return()=>{let ne=f;for(let fe=0;fe<de.length&&ne;fe++)ne=ne[de[fe]];return ne}}function traverse(f,E){if(!isObject(f)||f.__v_skip||(E=E||new Set,E.has(f)))return f;if(E.add(f),isRef(f))traverse(f.value,E);else if(isArray(f))for(let de=0;de<f.length;de++)traverse(f[de],E);else if(isSet(f)||isMap(f))f.forEach(de=>{traverse(de,E)});else if(isPlainObject$1(f))for(const de in f)traverse(f[de],E);return f}function invokeDirectiveHook(f,E,de,ne){const fe=f.dirs,we=E&&E.dirs;for(let xe=0;xe<fe.length;xe++){const m=fe[xe];we&&(m.oldValue=we[xe].value);let Q=m.dir[ne];Q&&(pauseTracking(),callWithAsyncErrorHandling(Q,de,8,[f.el,m,f,E]),resetTracking())}}function defineComponent(f,E){return isFunction(f)?(()=>extend({name:f.name},E,{setup:f}))():f}const isAsyncWrapper=f=>!!f.type.__asyncLoader,isKeepAlive=f=>f.type.__isKeepAlive;function onActivated(f,E){registerKeepAliveHook(f,"a",E)}function onDeactivated(f,E){registerKeepAliveHook(f,"da",E)}function registerKeepAliveHook(f,E,de=currentInstance){const ne=f.__wdc||(f.__wdc=()=>{let fe=de;for(;fe;){if(fe.isDeactivated)return;fe=fe.parent}return f()});if(injectHook(E,ne,de),de){let fe=de.parent;for(;fe&&fe.parent;)isKeepAlive(fe.parent.vnode)&&injectToKeepAliveRoot(ne,E,de,fe),fe=fe.parent}}function injectToKeepAliveRoot(f,E,de,ne){const fe=injectHook(E,f,ne,!0);onUnmounted(()=>{remove(ne[E],fe)},de)}function injectHook(f,E,de=currentInstance,ne=!1){if(de){const fe=de[f]||(de[f]=[]),we=E.__weh||(E.__weh=(...xe)=>{if(de.isUnmounted)return;pauseTracking(),setCurrentInstance(de);const m=callWithAsyncErrorHandling(E,de,f,xe);return unsetCurrentInstance(),resetTracking(),m});return ne?fe.unshift(we):fe.push(we),we}}const createHook=f=>(E,de=currentInstance)=>(!isInSSRComponentSetup||f==="sp")&&injectHook(f,(...ne)=>E(...ne),de),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(f,E=currentInstance){injectHook("ec",f,E)}const COMPONENTS="components",NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(f){return isString(f)?resolveAsset(COMPONENTS,f,!1)||f:f||NULL_DYNAMIC_COMPONENT}function resolveAsset(f,E,de=!0,ne=!1){const fe=currentRenderingInstance||currentInstance;if(fe){const we=fe.type;if(f===COMPONENTS){const m=getComponentName(we,!1);if(m&&(m===E||m===camelize(E)||m===capitalize(camelize(E))))return we}const xe=resolve(fe[f]||we[f],E)||resolve(fe.appContext[f],E);return!xe&&ne?we:xe}}function resolve(f,E){return f&&(f[E]||f[camelize(E)]||f[capitalize(camelize(E))])}function renderList(f,E,de,ne){let fe;const we=de&&de[ne];if(isArray(f)||isString(f)){fe=new Array(f.length);for(let xe=0,m=f.length;xe<m;xe++)fe[xe]=E(f[xe],xe,void 0,we&&we[xe])}else if(typeof f=="number"){fe=new Array(f);for(let xe=0;xe<f;xe++)fe[xe]=E(xe+1,xe,void 0,we&&we[xe])}else if(isObject(f))if(f[Symbol.iterator])fe=Array.from(f,(xe,m)=>E(xe,m,void 0,we&&we[m]));else{const xe=Object.keys(f);fe=new Array(xe.length);for(let m=0,Q=xe.length;m<Q;m++){const n=xe[m];fe[m]=E(f[n],n,m,we&&we[m])}}else fe=[];return de&&(de[ne]=fe),fe}const getPublicInstance=f=>f?isStatefulComponent(f)?getExposeProxy(f)||f.proxy:getPublicInstance(f.parent):null,publicPropertiesMap=extend(Object.create(null),{$:f=>f,$el:f=>f.vnode.el,$data:f=>f.data,$props:f=>f.props,$attrs:f=>f.attrs,$slots:f=>f.slots,$refs:f=>f.refs,$parent:f=>getPublicInstance(f.parent),$root:f=>getPublicInstance(f.root),$emit:f=>f.emit,$options:f=>resolveMergedOptions(f),$forceUpdate:f=>f.f||(f.f=()=>queueJob(f.update)),$nextTick:f=>f.n||(f.n=nextTick.bind(f.proxy)),$watch:f=>instanceWatch.bind(f)}),hasSetupBinding=(f,E)=>f!==EMPTY_OBJ&&!f.__isScriptSetup&&hasOwn(f,E),PublicInstanceProxyHandlers={get({_:f},E){const{ctx:de,setupState:ne,data:fe,props:we,accessCache:xe,type:m,appContext:Q}=f;let n;if(E[0]!=="$"){const t=xe[E];if(t!==void 0)switch(t){case 1:return ne[E];case 2:return fe[E];case 4:return de[E];case 3:return we[E]}else{if(hasSetupBinding(ne,E))return xe[E]=1,ne[E];if(fe!==EMPTY_OBJ&&hasOwn(fe,E))return xe[E]=2,fe[E];if((n=f.propsOptions[0])&&hasOwn(n,E))return xe[E]=3,we[E];if(de!==EMPTY_OBJ&&hasOwn(de,E))return xe[E]=4,de[E];shouldCacheAccess&&(xe[E]=0)}}const S=publicPropertiesMap[E];let N,e;if(S)return E==="$attrs"&&track(f,"get",E),S(f);if((N=m.__cssModules)&&(N=N[E]))return N;if(de!==EMPTY_OBJ&&hasOwn(de,E))return xe[E]=4,de[E];if(e=Q.config.globalProperties,hasOwn(e,E))return e[E]},set({_:f},E,de){const{data:ne,setupState:fe,ctx:we}=f;return hasSetupBinding(fe,E)?(fe[E]=de,!0):ne!==EMPTY_OBJ&&hasOwn(ne,E)?(ne[E]=de,!0):hasOwn(f.props,E)||E[0]==="$"&&E.slice(1)in f?!1:(we[E]=de,!0)},has({_:{data:f,setupState:E,accessCache:de,ctx:ne,appContext:fe,propsOptions:we}},xe){let m;return!!de[xe]||f!==EMPTY_OBJ&&hasOwn(f,xe)||hasSetupBinding(E,xe)||(m=we[0])&&hasOwn(m,xe)||hasOwn(ne,xe)||hasOwn(publicPropertiesMap,xe)||hasOwn(fe.config.globalProperties,xe)},defineProperty(f,E,de){return de.get!=null?f._.accessCache[E]=0:hasOwn(de,"value")&&this.set(f,E,de.value,null),Reflect.defineProperty(f,E,de)}};function normalizePropsOrEmits(f){return isArray(f)?f.reduce((E,de)=>(E[de]=null,E),{}):f}let shouldCacheAccess=!0;function applyOptions(f){const E=resolveMergedOptions(f),de=f.proxy,ne=f.ctx;shouldCacheAccess=!1,E.beforeCreate&&callHook(E.beforeCreate,f,"bc");const{data:fe,computed:we,methods:xe,watch:m,provide:Q,inject:n,created:S,beforeMount:N,mounted:e,beforeUpdate:t,updated:r,activated:z,deactivated:j,beforeDestroy:M,beforeUnmount:I,destroyed:d,unmounted:u,render:i,renderTracked:F,renderTriggered:C,errorCaptured:T,serverPrefetch:b,expose:L,inheritAttrs:B,components:V,directives:k,filters:_}=E;if(n&&resolveInjections(n,ne,null),xe)for(const X in xe){const a=xe[X];isFunction(a)&&(ne[X]=a.bind(de))}if(fe){const X=fe.call(de,de);isObject(X)&&(f.data=reactive(X))}if(shouldCacheAccess=!0,we)for(const X in we){const a=we[X],g=isFunction(a)?a.bind(de,de):isFunction(a.get)?a.get.bind(de,de):NOOP,P=!isFunction(a)&&isFunction(a.set)?a.set.bind(de):NOOP,G=computed({get:g,set:P});Object.defineProperty(ne,X,{enumerable:!0,configurable:!0,get:()=>G.value,set:D=>G.value=D})}if(m)for(const X in m)createWatcher(m[X],ne,de,X);if(Q){const X=isFunction(Q)?Q.call(de):Q;Reflect.ownKeys(X).forEach(a=>{provide(a,X[a])})}S&&callHook(S,f,"c");function x(X,a){isArray(a)?a.forEach(g=>X(g.bind(de))):a&&X(a.bind(de))}if(x(onBeforeMount,N),x(onMounted,e),x(onBeforeUpdate,t),x(onUpdated,r),x(onActivated,z),x(onDeactivated,j),x(onErrorCaptured,T),x(onRenderTracked,F),x(onRenderTriggered,C),x(onBeforeUnmount,I),x(onUnmounted,u),x(onServerPrefetch,b),isArray(L))if(L.length){const X=f.exposed||(f.exposed={});L.forEach(a=>{Object.defineProperty(X,a,{get:()=>de[a],set:g=>de[a]=g})})}else f.exposed||(f.exposed={});i&&f.render===NOOP&&(f.render=i),B!=null&&(f.inheritAttrs=B),V&&(f.components=V),k&&(f.directives=k)}function resolveInjections(f,E,de=NOOP){isArray(f)&&(f=normalizeInject(f));for(const ne in f){const fe=f[ne];let we;isObject(fe)?"default"in fe?we=inject(fe.from||ne,fe.default,!0):we=inject(fe.from||ne):we=inject(fe),isRef(we)?Object.defineProperty(E,ne,{enumerable:!0,configurable:!0,get:()=>we.value,set:xe=>we.value=xe}):E[ne]=we}}function callHook(f,E,de){callWithAsyncErrorHandling(isArray(f)?f.map(ne=>ne.bind(E.proxy)):f.bind(E.proxy),E,de)}function createWatcher(f,E,de,ne){const fe=ne.includes(".")?createPathGetter(de,ne):()=>de[ne];if(isString(f)){const we=E[f];isFunction(we)&&watch(fe,we)}else if(isFunction(f))watch(fe,f.bind(de));else if(isObject(f))if(isArray(f))f.forEach(we=>createWatcher(we,E,de,ne));else{const we=isFunction(f.handler)?f.handler.bind(de):E[f.handler];isFunction(we)&&watch(fe,we,f)}}function resolveMergedOptions(f){const E=f.type,{mixins:de,extends:ne}=E,{mixins:fe,optionsCache:we,config:{optionMergeStrategies:xe}}=f.appContext,m=we.get(E);let Q;return m?Q=m:!fe.length&&!de&&!ne?Q=E:(Q={},fe.length&&fe.forEach(n=>mergeOptions(Q,n,xe,!0)),mergeOptions(Q,E,xe)),isObject(E)&&we.set(E,Q),Q}function mergeOptions(f,E,de,ne=!1){const{mixins:fe,extends:we}=E;we&&mergeOptions(f,we,de,!0),fe&&fe.forEach(xe=>mergeOptions(f,xe,de,!0));for(const xe in E)if(!(ne&&xe==="expose")){const m=internalOptionMergeStrats[xe]||de&&de[xe];f[xe]=m?m(f[xe],E[xe]):E[xe]}return f}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(f,E){return E?f?function(){return extend(isFunction(f)?f.call(this,this):f,isFunction(E)?E.call(this,this):E)}:E:f}function mergeInject(f,E){return mergeObjectOptions(normalizeInject(f),normalizeInject(E))}function normalizeInject(f){if(isArray(f)){const E={};for(let de=0;de<f.length;de++)E[f[de]]=f[de];return E}return f}function mergeAsArray(f,E){return f?[...new Set([].concat(f,E))]:E}function mergeObjectOptions(f,E){return f?extend(Object.create(null),f,E):E}function mergeEmitsOrPropsOptions(f,E){return f?isArray(f)&&isArray(E)?[...new Set([...f,...E])]:extend(Object.create(null),normalizePropsOrEmits(f),normalizePropsOrEmits(E??{})):E}function mergeWatchOptions(f,E){if(!f)return E;if(!E)return f;const de=extend(Object.create(null),f);for(const ne in E)de[ne]=mergeAsArray(f[ne],E[ne]);return de}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(f,E){return function(ne,fe=null){isFunction(ne)||(ne=extend({},ne)),fe!=null&&!isObject(fe)&&(fe=null);const we=createAppContext(),xe=new Set;let m=!1;const Q=we.app={_uid:uid$1++,_component:ne,_props:fe,_container:null,_context:we,_instance:null,version,get config(){return we.config},set config(n){},use(n,...S){return xe.has(n)||(n&&isFunction(n.install)?(xe.add(n),n.install(Q,...S)):isFunction(n)&&(xe.add(n),n(Q,...S))),Q},mixin(n){return we.mixins.includes(n)||we.mixins.push(n),Q},component(n,S){return S?(we.components[n]=S,Q):we.components[n]},directive(n,S){return S?(we.directives[n]=S,Q):we.directives[n]},mount(n,S,N){if(!m){const e=createVNode(ne,fe);return e.appContext=we,S&&E?E(e,n):f(e,n,N),m=!0,Q._container=n,n.__vue_app__=Q,getExposeProxy(e.component)||e.component.proxy}},unmount(){m&&(f(null,Q._container),delete Q._container.__vue_app__)},provide(n,S){return we.provides[n]=S,Q},runWithContext(n){currentApp=Q;try{return n()}finally{currentApp=null}}};return Q}}let currentApp=null;function provide(f,E){if(currentInstance){let de=currentInstance.provides;const ne=currentInstance.parent&&currentInstance.parent.provides;ne===de&&(de=currentInstance.provides=Object.create(ne)),de[f]=E}}function inject(f,E,de=!1){const ne=currentInstance||currentRenderingInstance;if(ne||currentApp){const fe=ne?ne.parent==null?ne.vnode.appContext&&ne.vnode.appContext.provides:ne.parent.provides:currentApp._context.provides;if(fe&&f in fe)return fe[f];if(arguments.length>1)return de&&isFunction(E)?E.call(ne&&ne.proxy):E}}function hasInjectionContext(){return!!(currentInstance||currentRenderingInstance||currentApp)}function initProps(f,E,de,ne=!1){const fe={},we={};def(we,InternalObjectKey,1),f.propsDefaults=Object.create(null),setFullProps(f,E,fe,we);for(const xe in f.propsOptions[0])xe in fe||(fe[xe]=void 0);de?f.props=ne?fe:shallowReactive(fe):f.type.props?f.props=fe:f.props=we,f.attrs=we}function updateProps(f,E,de,ne){const{props:fe,attrs:we,vnode:{patchFlag:xe}}=f,m=toRaw(fe),[Q]=f.propsOptions;let n=!1;if((ne||xe>0)&&!(xe&16)){if(xe&8){const S=f.vnode.dynamicProps;for(let N=0;N<S.length;N++){let e=S[N];if(isEmitListener(f.emitsOptions,e))continue;const t=E[e];if(Q)if(hasOwn(we,e))t!==we[e]&&(we[e]=t,n=!0);else{const r=camelize(e);fe[r]=resolvePropValue(Q,m,r,t,f,!1)}else t!==we[e]&&(we[e]=t,n=!0)}}}else{setFullProps(f,E,fe,we)&&(n=!0);let S;for(const N in m)(!E||!hasOwn(E,N)&&((S=hyphenate(N))===N||!hasOwn(E,S)))&&(Q?de&&(de[N]!==void 0||de[S]!==void 0)&&(fe[N]=resolvePropValue(Q,m,N,void 0,f,!0)):delete fe[N]);if(we!==m)for(const N in we)(!E||!hasOwn(E,N))&&(delete we[N],n=!0)}n&&trigger(f,"set","$attrs")}function setFullProps(f,E,de,ne){const[fe,we]=f.propsOptions;let xe=!1,m;if(E)for(let Q in E){if(isReservedProp(Q))continue;const n=E[Q];let S;fe&&hasOwn(fe,S=camelize(Q))?!we||!we.includes(S)?de[S]=n:(m||(m={}))[S]=n:isEmitListener(f.emitsOptions,Q)||(!(Q in ne)||n!==ne[Q])&&(ne[Q]=n,xe=!0)}if(we){const Q=toRaw(de),n=m||EMPTY_OBJ;for(let S=0;S<we.length;S++){const N=we[S];de[N]=resolvePropValue(fe,Q,N,n[N],f,!hasOwn(n,N))}}return xe}function resolvePropValue(f,E,de,ne,fe,we){const xe=f[de];if(xe!=null){const m=hasOwn(xe,"default");if(m&&ne===void 0){const Q=xe.default;if(xe.type!==Function&&!xe.skipFactory&&isFunction(Q)){const{propsDefaults:n}=fe;de in n?ne=n[de]:(setCurrentInstance(fe),ne=n[de]=Q.call(null,E),unsetCurrentInstance())}else ne=Q}xe[0]&&(we&&!m?ne=!1:xe[1]&&(ne===""||ne===hyphenate(de))&&(ne=!0))}return ne}function normalizePropsOptions(f,E,de=!1){const ne=E.propsCache,fe=ne.get(f);if(fe)return fe;const we=f.props,xe={},m=[];let Q=!1;if(!isFunction(f)){const S=N=>{Q=!0;const[e,t]=normalizePropsOptions(N,E,!0);extend(xe,e),t&&m.push(...t)};!de&&E.mixins.length&&E.mixins.forEach(S),f.extends&&S(f.extends),f.mixins&&f.mixins.forEach(S)}if(!we&&!Q)return isObject(f)&&ne.set(f,EMPTY_ARR),EMPTY_ARR;if(isArray(we))for(let S=0;S<we.length;S++){const N=camelize(we[S]);validatePropName(N)&&(xe[N]=EMPTY_OBJ)}else if(we)for(const S in we){const N=camelize(S);if(validatePropName(N)){const e=we[S],t=xe[N]=isArray(e)||isFunction(e)?{type:e}:extend({},e);if(t){const r=getTypeIndex(Boolean,t.type),z=getTypeIndex(String,t.type);t[0]=r>-1,t[1]=z<0||r<z,(r>-1||hasOwn(t,"default"))&&m.push(N)}}}const n=[xe,m];return isObject(f)&&ne.set(f,n),n}function validatePropName(f){return f[0]!=="$"}function getType(f){const E=f&&f.toString().match(/^\s*(function|class) (\w+)/);return E?E[2]:f===null?"null":""}function isSameType(f,E){return getType(f)===getType(E)}function getTypeIndex(f,E){return isArray(E)?E.findIndex(de=>isSameType(de,f)):isFunction(E)&&isSameType(E,f)?0:-1}const isInternalKey=f=>f[0]==="_"||f==="$stable",normalizeSlotValue=f=>isArray(f)?f.map(normalizeVNode):[normalizeVNode(f)],normalizeSlot=(f,E,de)=>{if(E._n)return E;const ne=withCtx((...fe)=>normalizeSlotValue(E(...fe)),de);return ne._c=!1,ne},normalizeObjectSlots=(f,E,de)=>{const ne=f._ctx;for(const fe in f){if(isInternalKey(fe))continue;const we=f[fe];if(isFunction(we))E[fe]=normalizeSlot(fe,we,ne);else if(we!=null){const xe=normalizeSlotValue(we);E[fe]=()=>xe}}},normalizeVNodeSlots=(f,E)=>{const de=normalizeSlotValue(E);f.slots.default=()=>de},initSlots=(f,E)=>{if(f.vnode.shapeFlag&32){const de=E._;de?(f.slots=toRaw(E),def(E,"_",de)):normalizeObjectSlots(E,f.slots={})}else f.slots={},E&&normalizeVNodeSlots(f,E);def(f.slots,InternalObjectKey,1)},updateSlots=(f,E,de)=>{const{vnode:ne,slots:fe}=f;let we=!0,xe=EMPTY_OBJ;if(ne.shapeFlag&32){const m=E._;m?de&&m===1?we=!1:(extend(fe,E),!de&&m===1&&delete fe._):(we=!E.$stable,normalizeObjectSlots(E,fe)),xe=E}else E&&(normalizeVNodeSlots(f,E),xe={default:1});if(we)for(const m in fe)!isInternalKey(m)&&!(m in xe)&&delete fe[m]};function setRef(f,E,de,ne,fe=!1){if(isArray(f)){f.forEach((e,t)=>setRef(e,E&&(isArray(E)?E[t]:E),de,ne,fe));return}if(isAsyncWrapper(ne)&&!fe)return;const we=ne.shapeFlag&4?getExposeProxy(ne.component)||ne.component.proxy:ne.el,xe=fe?null:we,{i:m,r:Q}=f,n=E&&E.r,S=m.refs===EMPTY_OBJ?m.refs={}:m.refs,N=m.setupState;if(n!=null&&n!==Q&&(isString(n)?(S[n]=null,hasOwn(N,n)&&(N[n]=null)):isRef(n)&&(n.value=null)),isFunction(Q))callWithErrorHandling(Q,m,12,[xe,S]);else{const e=isString(Q),t=isRef(Q);if(e||t){const r=()=>{if(f.f){const z=e?hasOwn(N,Q)?N[Q]:S[Q]:Q.value;fe?isArray(z)&&remove(z,we):isArray(z)?z.includes(we)||z.push(we):e?(S[Q]=[we],hasOwn(N,Q)&&(N[Q]=S[Q])):(Q.value=[we],f.k&&(S[f.k]=Q.value))}else e?(S[Q]=xe,hasOwn(N,Q)&&(N[Q]=xe)):t&&(Q.value=xe,f.k&&(S[f.k]=xe))};xe?(r.id=-1,queuePostRenderEffect(r,de)):r()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(f){return baseCreateRenderer(f)}function baseCreateRenderer(f,E){const de=getGlobalThis();de.__VUE__=!0;const{insert:ne,remove:fe,patchProp:we,createElement:xe,createText:m,createComment:Q,setText:n,setElementText:S,parentNode:N,nextSibling:e,setScopeId:t=NOOP,insertStaticContent:r}=f,z=(R,H,ae,q=null,ce=null,ee=null,se=!1,$=null,U=!!H.dynamicChildren)=>{if(R===H)return;R&&!isSameVNodeType(R,H)&&(q=y(R),D(R,ce,ee,!0),R=null),H.patchFlag===-2&&(U=!1,H.dynamicChildren=null);const{type:K,ref:J,shapeFlag:Y}=H;switch(K){case Text:j(R,H,ae,q);break;case Comment:M(R,H,ae,q);break;case Static:R==null&&I(H,ae,q,se);break;case Fragment:V(R,H,ae,q,ce,ee,se,$,U);break;default:Y&1?i(R,H,ae,q,ce,ee,se,$,U):Y&6?k(R,H,ae,q,ce,ee,se,$,U):(Y&64||Y&128)&&K.process(R,H,ae,q,ce,ee,se,$,U,h)}J!=null&&ce&&setRef(J,R&&R.ref,ee,H||R,!H)},j=(R,H,ae,q)=>{if(R==null)ne(H.el=m(H.children),ae,q);else{const ce=H.el=R.el;H.children!==R.children&&n(ce,H.children)}},M=(R,H,ae,q)=>{R==null?ne(H.el=Q(H.children||""),ae,q):H.el=R.el},I=(R,H,ae,q)=>{[R.el,R.anchor]=r(R.children,H,ae,q,R.el,R.anchor)},d=({el:R,anchor:H},ae,q)=>{let ce;for(;R&&R!==H;)ce=e(R),ne(R,ae,q),R=ce;ne(H,ae,q)},u=({el:R,anchor:H})=>{let ae;for(;R&&R!==H;)ae=e(R),fe(R),R=ae;fe(H)},i=(R,H,ae,q,ce,ee,se,$,U)=>{se=se||H.type==="svg",R==null?F(H,ae,q,ce,ee,se,$,U):b(R,H,ce,ee,se,$,U)},F=(R,H,ae,q,ce,ee,se,$)=>{let U,K;const{type:J,props:Y,shapeFlag:ie,transition:re,dirs:Z}=R;if(U=R.el=xe(R.type,ee,Y&&Y.is,Y),ie&8?S(U,R.children):ie&16&&T(R.children,U,null,q,ce,ee&&J!=="foreignObject",se,$),Z&&invokeDirectiveHook(R,null,q,"created"),C(U,R,R.scopeId,se,q),Y){for(const le in Y)le!=="value"&&!isReservedProp(le)&&we(U,le,null,Y[le],ee,R.children,q,ce,o);"value"in Y&&we(U,"value",null,Y.value),(K=Y.onVnodeBeforeMount)&&invokeVNodeHook(K,q,R)}Z&&invokeDirectiveHook(R,null,q,"beforeMount");const he=(!ce||ce&&!ce.pendingBranch)&&re&&!re.persisted;he&&re.beforeEnter(U),ne(U,H,ae),((K=Y&&Y.onVnodeMounted)||he||Z)&&queuePostRenderEffect(()=>{K&&invokeVNodeHook(K,q,R),he&&re.enter(U),Z&&invokeDirectiveHook(R,null,q,"mounted")},ce)},C=(R,H,ae,q,ce)=>{if(ae&&t(R,ae),q)for(let ee=0;ee<q.length;ee++)t(R,q[ee]);if(ce){let ee=ce.subTree;if(H===ee){const se=ce.vnode;C(R,se,se.scopeId,se.slotScopeIds,ce.parent)}}},T=(R,H,ae,q,ce,ee,se,$,U=0)=>{for(let K=U;K<R.length;K++){const J=R[K]=$?cloneIfMounted(R[K]):normalizeVNode(R[K]);z(null,J,H,ae,q,ce,ee,se,$)}},b=(R,H,ae,q,ce,ee,se)=>{const $=H.el=R.el;let{patchFlag:U,dynamicChildren:K,dirs:J}=H;U|=R.patchFlag&16;const Y=R.props||EMPTY_OBJ,ie=H.props||EMPTY_OBJ;let re;ae&&toggleRecurse(ae,!1),(re=ie.onVnodeBeforeUpdate)&&invokeVNodeHook(re,ae,H,R),J&&invokeDirectiveHook(H,R,ae,"beforeUpdate"),ae&&toggleRecurse(ae,!0);const Z=ce&&H.type!=="foreignObject";if(K?L(R.dynamicChildren,K,$,ae,q,Z,ee):se||a(R,H,$,null,ae,q,Z,ee,!1),U>0){if(U&16)B($,H,Y,ie,ae,q,ce);else if(U&2&&Y.class!==ie.class&&we($,"class",null,ie.class,ce),U&4&&we($,"style",Y.style,ie.style,ce),U&8){const he=H.dynamicProps;for(let le=0;le<he.length;le++){const te=he[le],ue=Y[te],ge=ie[te];(ge!==ue||te==="value")&&we($,te,ue,ge,ce,R.children,ae,q,o)}}U&1&&R.children!==H.children&&S($,H.children)}else!se&&K==null&&B($,H,Y,ie,ae,q,ce);((re=ie.onVnodeUpdated)||J)&&queuePostRenderEffect(()=>{re&&invokeVNodeHook(re,ae,H,R),J&&invokeDirectiveHook(H,R,ae,"updated")},q)},L=(R,H,ae,q,ce,ee,se)=>{for(let $=0;$<H.length;$++){const U=R[$],K=H[$],J=U.el&&(U.type===Fragment||!isSameVNodeType(U,K)||U.shapeFlag&70)?N(U.el):ae;z(U,K,J,null,q,ce,ee,se,!0)}},B=(R,H,ae,q,ce,ee,se)=>{if(ae!==q){if(ae!==EMPTY_OBJ)for(const $ in ae)!isReservedProp($)&&!($ in q)&&we(R,$,ae[$],null,se,H.children,ce,ee,o);for(const $ in q){if(isReservedProp($))continue;const U=q[$],K=ae[$];U!==K&&$!=="value"&&we(R,$,K,U,se,H.children,ce,ee,o)}"value"in q&&we(R,"value",ae.value,q.value)}},V=(R,H,ae,q,ce,ee,se,$,U)=>{const K=H.el=R?R.el:m(""),J=H.anchor=R?R.anchor:m("");let{patchFlag:Y,dynamicChildren:ie,slotScopeIds:re}=H;re&&($=$?$.concat(re):re),R==null?(ne(K,ae,q),ne(J,ae,q),T(H.children,ae,J,ce,ee,se,$,U)):Y>0&&Y&64&&ie&&R.dynamicChildren?(L(R.dynamicChildren,ie,ae,ce,ee,se,$),(H.key!=null||ce&&H===ce.subTree)&&traverseStaticChildren(R,H,!0)):a(R,H,ae,J,ce,ee,se,$,U)},k=(R,H,ae,q,ce,ee,se,$,U)=>{H.slotScopeIds=$,R==null?H.shapeFlag&512?ce.ctx.activate(H,ae,q,se,U):_(H,ae,q,ce,ee,se,U):l(R,H,U)},_=(R,H,ae,q,ce,ee,se)=>{const $=R.component=createComponentInstance(R,q,ce);if(isKeepAlive(R)&&($.ctx.renderer=h),setupComponent($),$.asyncDep){if(ce&&ce.registerDep($,x),!R.el){const U=$.subTree=createVNode(Comment);M(null,U,H,ae)}return}x($,R,H,ae,ce,ee,se)},l=(R,H,ae)=>{const q=H.component=R.component;if(shouldUpdateComponent(R,H,ae))if(q.asyncDep&&!q.asyncResolved){X(q,H,ae);return}else q.next=H,invalidateJob(q.update),q.update();else H.el=R.el,q.vnode=H},x=(R,H,ae,q,ce,ee,se)=>{const $=()=>{if(R.isMounted){let{next:J,bu:Y,u:ie,parent:re,vnode:Z}=R,he=J,le;toggleRecurse(R,!1),J?(J.el=Z.el,X(R,J,se)):J=Z,Y&&invokeArrayFns(Y),(le=J.props&&J.props.onVnodeBeforeUpdate)&&invokeVNodeHook(le,re,J,Z),toggleRecurse(R,!0);const te=renderComponentRoot(R),ue=R.subTree;R.subTree=te,z(ue,te,N(ue.el),y(ue),R,ce,ee),J.el=te.el,he===null&&updateHOCHostEl(R,te.el),ie&&queuePostRenderEffect(ie,ce),(le=J.props&&J.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(le,re,J,Z),ce)}else{let J;const{el:Y,props:ie}=H,{bm:re,m:Z,parent:he}=R,le=isAsyncWrapper(H);if(toggleRecurse(R,!1),re&&invokeArrayFns(re),!le&&(J=ie&&ie.onVnodeBeforeMount)&&invokeVNodeHook(J,he,H),toggleRecurse(R,!0),Y&&W){const te=()=>{R.subTree=renderComponentRoot(R),W(Y,R.subTree,R,ce,null)};le?H.type.__asyncLoader().then(()=>!R.isUnmounted&&te()):te()}else{const te=R.subTree=renderComponentRoot(R);z(null,te,ae,q,R,ce,ee),H.el=te.el}if(Z&&queuePostRenderEffect(Z,ce),!le&&(J=ie&&ie.onVnodeMounted)){const te=H;queuePostRenderEffect(()=>invokeVNodeHook(J,he,te),ce)}(H.shapeFlag&256||he&&isAsyncWrapper(he.vnode)&&he.vnode.shapeFlag&256)&&R.a&&queuePostRenderEffect(R.a,ce),R.isMounted=!0,H=ae=q=null}},U=R.effect=new ReactiveEffect($,()=>queueJob(K),R.scope),K=R.update=()=>U.run();K.id=R.uid,toggleRecurse(R,!0),K()},X=(R,H,ae)=>{H.component=R;const q=R.vnode.props;R.vnode=H,R.next=null,updateProps(R,H.props,q,ae),updateSlots(R,H.children,ae),pauseTracking(),flushPreFlushCbs(),resetTracking()},a=(R,H,ae,q,ce,ee,se,$,U=!1)=>{const K=R&&R.children,J=R?R.shapeFlag:0,Y=H.children,{patchFlag:ie,shapeFlag:re}=H;if(ie>0){if(ie&128){P(K,Y,ae,q,ce,ee,se,$,U);return}else if(ie&256){g(K,Y,ae,q,ce,ee,se,$,U);return}}re&8?(J&16&&o(K,ce,ee),Y!==K&&S(ae,Y)):J&16?re&16?P(K,Y,ae,q,ce,ee,se,$,U):o(K,ce,ee,!0):(J&8&&S(ae,""),re&16&&T(Y,ae,q,ce,ee,se,$,U))},g=(R,H,ae,q,ce,ee,se,$,U)=>{R=R||EMPTY_ARR,H=H||EMPTY_ARR;const K=R.length,J=H.length,Y=Math.min(K,J);let ie;for(ie=0;ie<Y;ie++){const re=H[ie]=U?cloneIfMounted(H[ie]):normalizeVNode(H[ie]);z(R[ie],re,ae,null,ce,ee,se,$,U)}K>J?o(R,ce,ee,!0,!1,Y):T(H,ae,q,ce,ee,se,$,U,Y)},P=(R,H,ae,q,ce,ee,se,$,U)=>{let K=0;const J=H.length;let Y=R.length-1,ie=J-1;for(;K<=Y&&K<=ie;){const re=R[K],Z=H[K]=U?cloneIfMounted(H[K]):normalizeVNode(H[K]);if(isSameVNodeType(re,Z))z(re,Z,ae,null,ce,ee,se,$,U);else break;K++}for(;K<=Y&&K<=ie;){const re=R[Y],Z=H[ie]=U?cloneIfMounted(H[ie]):normalizeVNode(H[ie]);if(isSameVNodeType(re,Z))z(re,Z,ae,null,ce,ee,se,$,U);else break;Y--,ie--}if(K>Y){if(K<=ie){const re=ie+1,Z=re<J?H[re].el:q;for(;K<=ie;)z(null,H[K]=U?cloneIfMounted(H[K]):normalizeVNode(H[K]),ae,Z,ce,ee,se,$,U),K++}}else if(K>ie)for(;K<=Y;)D(R[K],ce,ee,!0),K++;else{const re=K,Z=K,he=new Map;for(K=Z;K<=ie;K++){const ve=H[K]=U?cloneIfMounted(H[K]):normalizeVNode(H[K]);ve.key!=null&&he.set(ve.key,K)}let le,te=0;const ue=ie-Z+1;let ge=!1,ye=0;const Ee=new Array(ue);for(K=0;K<ue;K++)Ee[K]=0;for(K=re;K<=Y;K++){const ve=R[K];if(te>=ue){D(ve,ce,ee,!0);continue}let Se;if(ve.key!=null)Se=he.get(ve.key);else for(le=Z;le<=ie;le++)if(Ee[le-Z]===0&&isSameVNodeType(ve,H[le])){Se=le;break}Se===void 0?D(ve,ce,ee,!0):(Ee[Se-Z]=K+1,Se>=ye?ye=Se:ge=!0,z(ve,H[Se],ae,null,ce,ee,se,$,U),te++)}const Oe=ge?getSequence(Ee):EMPTY_ARR;for(le=Oe.length-1,K=ue-1;K>=0;K--){const ve=Z+K,Se=H[ve],Ae=ve+1<J?H[ve+1].el:q;Ee[K]===0?z(null,Se,ae,Ae,ce,ee,se,$,U):ge&&(le<0||K!==Oe[le]?G(Se,ae,Ae,2):le--)}}},G=(R,H,ae,q,ce=null)=>{const{el:ee,type:se,transition:$,children:U,shapeFlag:K}=R;if(K&6){G(R.component.subTree,H,ae,q);return}if(K&128){R.suspense.move(H,ae,q);return}if(K&64){se.move(R,H,ae,h);return}if(se===Fragment){ne(ee,H,ae);for(let Y=0;Y<U.length;Y++)G(U[Y],H,ae,q);ne(R.anchor,H,ae);return}if(se===Static){d(R,H,ae);return}if(q!==2&&K&1&&$)if(q===0)$.beforeEnter(ee),ne(ee,H,ae),queuePostRenderEffect(()=>$.enter(ee),ce);else{const{leave:Y,delayLeave:ie,afterLeave:re}=$,Z=()=>ne(ee,H,ae),he=()=>{Y(ee,()=>{Z(),re&&re()})};ie?ie(ee,Z,he):he()}else ne(ee,H,ae)},D=(R,H,ae,q=!1,ce=!1)=>{const{type:ee,props:se,ref:$,children:U,dynamicChildren:K,shapeFlag:J,patchFlag:Y,dirs:ie}=R;if($!=null&&setRef($,null,ae,R,!0),J&256){H.ctx.deactivate(R);return}const re=J&1&&ie,Z=!isAsyncWrapper(R);let he;if(Z&&(he=se&&se.onVnodeBeforeUnmount)&&invokeVNodeHook(he,H,R),J&6)v(R.component,ae,q);else{if(J&128){R.suspense.unmount(ae,q);return}re&&invokeDirectiveHook(R,null,H,"beforeUnmount"),J&64?R.type.remove(R,H,ae,ce,h,q):K&&(ee!==Fragment||Y>0&&Y&64)?o(K,H,ae,!1,!0):(ee===Fragment&&Y&384||!ce&&J&16)&&o(U,H,ae),q&&w(R)}(Z&&(he=se&&se.onVnodeUnmounted)||re)&&queuePostRenderEffect(()=>{he&&invokeVNodeHook(he,H,R),re&&invokeDirectiveHook(R,null,H,"unmounted")},ae)},w=R=>{const{type:H,el:ae,anchor:q,transition:ce}=R;if(H===Fragment){A(ae,q);return}if(H===Static){u(R);return}const ee=()=>{fe(ae),ce&&!ce.persisted&&ce.afterLeave&&ce.afterLeave()};if(R.shapeFlag&1&&ce&&!ce.persisted){const{leave:se,delayLeave:$}=ce,U=()=>se(ae,ee);$?$(R.el,ee,U):U()}else ee()},A=(R,H)=>{let ae;for(;R!==H;)ae=e(R),fe(R),R=ae;fe(H)},v=(R,H,ae)=>{const{bum:q,scope:ce,update:ee,subTree:se,um:$}=R;q&&invokeArrayFns(q),ce.stop(),ee&&(ee.active=!1,D(se,R,H,ae)),$&&queuePostRenderEffect($,H),queuePostRenderEffect(()=>{R.isUnmounted=!0},H),H&&H.pendingBranch&&!H.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===H.pendingId&&(H.deps--,H.deps===0&&H.resolve())},o=(R,H,ae,q=!1,ce=!1,ee=0)=>{for(let se=ee;se<R.length;se++)D(R[se],H,ae,q,ce)},y=R=>R.shapeFlag&6?y(R.component.subTree):R.shapeFlag&128?R.suspense.next():e(R.anchor||R.el),c=(R,H,ae)=>{R==null?H._vnode&&D(H._vnode,null,null,!0):z(H._vnode||null,R,H,null,null,null,ae),flushPreFlushCbs(),flushPostFlushCbs(),H._vnode=R},h={p:z,um:D,m:G,r:w,mt:_,mc:T,pc:a,pbc:L,n:y,o:f};let O,W;return E&&([O,W]=E(h)),{render:c,hydrate:O,createApp:createAppAPI(c,O)}}function toggleRecurse({effect:f,update:E},de){f.allowRecurse=E.allowRecurse=de}function traverseStaticChildren(f,E,de=!1){const ne=f.children,fe=E.children;if(isArray(ne)&&isArray(fe))for(let we=0;we<ne.length;we++){const xe=ne[we];let m=fe[we];m.shapeFlag&1&&!m.dynamicChildren&&((m.patchFlag<=0||m.patchFlag===32)&&(m=fe[we]=cloneIfMounted(fe[we]),m.el=xe.el),de||traverseStaticChildren(xe,m)),m.type===Text&&(m.el=xe.el)}}function getSequence(f){const E=f.slice(),de=[0];let ne,fe,we,xe,m;const Q=f.length;for(ne=0;ne<Q;ne++){const n=f[ne];if(n!==0){if(fe=de[de.length-1],f[fe]<n){E[ne]=fe,de.push(ne);continue}for(we=0,xe=de.length-1;we<xe;)m=we+xe>>1,f[de[m]]<n?we=m+1:xe=m;n<f[de[we]]&&(we>0&&(E[ne]=de[we-1]),de[we]=ne)}}for(we=de.length,xe=de[we-1];we-- >0;)de[we]=xe,xe=E[xe];return de}const isTeleport=f=>f.__isTeleport,Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(f=!1){blockStack.push(currentBlock=f?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(f){isBlockTreeEnabled+=f}function setupBlock(f){return f.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(f),f}function createElementBlock(f,E,de,ne,fe,we){return setupBlock(createBaseVNode(f,E,de,ne,fe,we,!0))}function createBlock(f,E,de,ne,fe){return setupBlock(createVNode(f,E,de,ne,fe,!0))}function isVNode(f){return f?f.__v_isVNode===!0:!1}function isSameVNodeType(f,E){return f.type===E.type&&f.key===E.key}const InternalObjectKey="__vInternal",normalizeKey=({key:f})=>f??null,normalizeRef=({ref:f,ref_key:E,ref_for:de})=>(typeof f=="number"&&(f=""+f),f!=null?isString(f)||isRef(f)||isFunction(f)?{i:currentRenderingInstance,r:f,k:E,f:!!de}:f:null);function createBaseVNode(f,E=null,de=null,ne=0,fe=null,we=f===Fragment?0:1,xe=!1,m=!1){const Q={__v_isVNode:!0,__v_skip:!0,type:f,props:E,key:E&&normalizeKey(E),ref:E&&normalizeRef(E),scopeId:currentScopeId,slotScopeIds:null,children:de,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:we,patchFlag:ne,dynamicProps:fe,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return m?(normalizeChildren(Q,de),we&128&&f.normalize(Q)):de&&(Q.shapeFlag|=isString(de)?8:16),isBlockTreeEnabled>0&&!xe&&currentBlock&&(Q.patchFlag>0||we&6)&&Q.patchFlag!==32&&currentBlock.push(Q),Q}const createVNode=_createVNode;function _createVNode(f,E=null,de=null,ne=0,fe=null,we=!1){if((!f||f===NULL_DYNAMIC_COMPONENT)&&(f=Comment),isVNode(f)){const m=cloneVNode(f,E,!0);return de&&normalizeChildren(m,de),isBlockTreeEnabled>0&&!we&&currentBlock&&(m.shapeFlag&6?currentBlock[currentBlock.indexOf(f)]=m:currentBlock.push(m)),m.patchFlag|=-2,m}if(isClassComponent(f)&&(f=f.__vccOpts),E){E=guardReactiveProps(E);let{class:m,style:Q}=E;m&&!isString(m)&&(E.class=normalizeClass(m)),isObject(Q)&&(isProxy(Q)&&!isArray(Q)&&(Q=extend({},Q)),E.style=normalizeStyle(Q))}const xe=isString(f)?1:isSuspense(f)?128:isTeleport(f)?64:isObject(f)?4:isFunction(f)?2:0;return createBaseVNode(f,E,de,ne,fe,xe,we,!0)}function guardReactiveProps(f){return f?isProxy(f)||InternalObjectKey in f?extend({},f):f:null}function cloneVNode(f,E,de=!1){const{props:ne,ref:fe,patchFlag:we,children:xe}=f,m=E?mergeProps(ne||{},E):ne;return{__v_isVNode:!0,__v_skip:!0,type:f.type,props:m,key:m&&normalizeKey(m),ref:E&&E.ref?de&&fe?isArray(fe)?fe.concat(normalizeRef(E)):[fe,normalizeRef(E)]:normalizeRef(E):fe,scopeId:f.scopeId,slotScopeIds:f.slotScopeIds,children:xe,target:f.target,targetAnchor:f.targetAnchor,staticCount:f.staticCount,shapeFlag:f.shapeFlag,patchFlag:E&&f.type!==Fragment?we===-1?16:we|16:we,dynamicProps:f.dynamicProps,dynamicChildren:f.dynamicChildren,appContext:f.appContext,dirs:f.dirs,transition:f.transition,component:f.component,suspense:f.suspense,ssContent:f.ssContent&&cloneVNode(f.ssContent),ssFallback:f.ssFallback&&cloneVNode(f.ssFallback),el:f.el,anchor:f.anchor,ctx:f.ctx,ce:f.ce}}function createTextVNode(f=" ",E=0){return createVNode(Text,null,f,E)}function createStaticVNode(f,E){const de=createVNode(Static,null,f);return de.staticCount=E,de}function createCommentVNode(f="",E=!1){return E?(openBlock(),createBlock(Comment,null,f)):createVNode(Comment,null,f)}function normalizeVNode(f){return f==null||typeof f=="boolean"?createVNode(Comment):isArray(f)?createVNode(Fragment,null,f.slice()):typeof f=="object"?cloneIfMounted(f):createVNode(Text,null,String(f))}function cloneIfMounted(f){return f.el===null&&f.patchFlag!==-1||f.memo?f:cloneVNode(f)}function normalizeChildren(f,E){let de=0;const{shapeFlag:ne}=f;if(E==null)E=null;else if(isArray(E))de=16;else if(typeof E=="object")if(ne&65){const fe=E.default;fe&&(fe._c&&(fe._d=!1),normalizeChildren(f,fe()),fe._c&&(fe._d=!0));return}else{de=32;const fe=E._;!fe&&!(InternalObjectKey in E)?E._ctx=currentRenderingInstance:fe===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?E._=1:(E._=2,f.patchFlag|=1024))}else isFunction(E)?(E={default:E,_ctx:currentRenderingInstance},de=32):(E=String(E),ne&64?(de=16,E=[createTextVNode(E)]):de=8);f.children=E,f.shapeFlag|=de}function mergeProps(...f){const E={};for(let de=0;de<f.length;de++){const ne=f[de];for(const fe in ne)if(fe==="class")E.class!==ne.class&&(E.class=normalizeClass([E.class,ne.class]));else if(fe==="style")E.style=normalizeStyle([E.style,ne.style]);else if(isOn(fe)){const we=E[fe],xe=ne[fe];xe&&we!==xe&&!(isArray(we)&&we.includes(xe))&&(E[fe]=we?[].concat(we,xe):xe)}else fe!==""&&(E[fe]=ne[fe])}return E}function invokeVNodeHook(f,E,de,ne=null){callWithAsyncErrorHandling(f,E,7,[de,ne])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(f,E,de){const ne=f.type,fe=(E?E.appContext:f.appContext)||emptyAppContext,we={uid:uid++,vnode:f,type:ne,parent:E,appContext:fe,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:E?E.provides:Object.create(fe.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(ne,fe),emitsOptions:normalizeEmitsOptions(ne,fe),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:ne.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:de,suspenseId:de?de.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return we.ctx={_:we},we.root=E?E.root:we,we.emit=emit.bind(null,we),f.ce&&f.ce(we),we}let currentInstance=null,internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(f=>currentInstance=f),internalSetCurrentInstance=f=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(E=>E(f)):globalCurrentInstanceSetters[0](f)};const setCurrentInstance=f=>{internalSetCurrentInstance(f),f.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(f){return f.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(f,E=!1){isInSSRComponentSetup=E;const{props:de,children:ne}=f.vnode,fe=isStatefulComponent(f);initProps(f,de,fe,E),initSlots(f,ne);const we=fe?setupStatefulComponent(f,E):void 0;return isInSSRComponentSetup=!1,we}function setupStatefulComponent(f,E){const de=f.type;f.accessCache=Object.create(null),f.proxy=markRaw(new Proxy(f.ctx,PublicInstanceProxyHandlers));const{setup:ne}=de;if(ne){const fe=f.setupContext=ne.length>1?createSetupContext(f):null;setCurrentInstance(f),pauseTracking();const we=callWithErrorHandling(ne,f,0,[f.props,fe]);if(resetTracking(),unsetCurrentInstance(),isPromise(we)){if(we.then(unsetCurrentInstance,unsetCurrentInstance),E)return we.then(xe=>{handleSetupResult(f,xe,E)}).catch(xe=>{handleError(xe,f,0)});f.asyncDep=we}else handleSetupResult(f,we,E)}else finishComponentSetup(f,E)}function handleSetupResult(f,E,de){isFunction(E)?f.type.__ssrInlineRender?f.ssrRender=E:f.render=E:isObject(E)&&(f.setupState=proxyRefs(E)),finishComponentSetup(f,de)}let compile;function finishComponentSetup(f,E,de){const ne=f.type;if(!f.render){if(!E&&compile&&!ne.render){const fe=ne.template||resolveMergedOptions(f).template;if(fe){const{isCustomElement:we,compilerOptions:xe}=f.appContext.config,{delimiters:m,compilerOptions:Q}=ne,n=extend(extend({isCustomElement:we,delimiters:m},xe),Q);ne.render=compile(fe,n)}}f.render=ne.render||NOOP}setCurrentInstance(f),pauseTracking(),applyOptions(f),resetTracking(),unsetCurrentInstance()}function getAttrsProxy(f){return f.attrsProxy||(f.attrsProxy=new Proxy(f.attrs,{get(E,de){return track(f,"get","$attrs"),E[de]}}))}function createSetupContext(f){const E=de=>{f.exposed=de||{}};return{get attrs(){return getAttrsProxy(f)},slots:f.slots,emit:f.emit,expose:E}}function getExposeProxy(f){if(f.exposed)return f.exposeProxy||(f.exposeProxy=new Proxy(proxyRefs(markRaw(f.exposed)),{get(E,de){if(de in E)return E[de];if(de in publicPropertiesMap)return publicPropertiesMap[de](f)},has(E,de){return de in E||de in publicPropertiesMap}}))}function getComponentName(f,E=!0){return isFunction(f)?f.displayName||f.name:f.name||E&&f.__name}function isClassComponent(f){return isFunction(f)&&"__vccOpts"in f}const computed=(f,E)=>computed$1(f,E,isInSSRComponentSetup),ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),version="3.3.4",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(f,E,de)=>{E.insertBefore(f,de||null)},remove:f=>{const E=f.parentNode;E&&E.removeChild(f)},createElement:(f,E,de,ne)=>{const fe=E?doc.createElementNS(svgNS,f):doc.createElement(f,de?{is:de}:void 0);return f==="select"&&ne&&ne.multiple!=null&&fe.setAttribute("multiple",ne.multiple),fe},createText:f=>doc.createTextNode(f),createComment:f=>doc.createComment(f),setText:(f,E)=>{f.nodeValue=E},setElementText:(f,E)=>{f.textContent=E},parentNode:f=>f.parentNode,nextSibling:f=>f.nextSibling,querySelector:f=>doc.querySelector(f),setScopeId(f,E){f.setAttribute(E,"")},insertStaticContent(f,E,de,ne,fe,we){const xe=de?de.previousSibling:E.lastChild;if(fe&&(fe===we||fe.nextSibling))for(;E.insertBefore(fe.cloneNode(!0),de),!(fe===we||!(fe=fe.nextSibling)););else{templateContainer.innerHTML=ne?`<svg>${f}</svg>`:f;const m=templateContainer.content;if(ne){const Q=m.firstChild;for(;Q.firstChild;)m.appendChild(Q.firstChild);m.removeChild(Q)}E.insertBefore(m,de)}return[xe?xe.nextSibling:E.firstChild,de?de.previousSibling:E.lastChild]}};function patchClass(f,E,de){const ne=f._vtc;ne&&(E=(E?[E,...ne]:[...ne]).join(" ")),E==null?f.removeAttribute("class"):de?f.setAttribute("class",E):f.className=E}function patchStyle(f,E,de){const ne=f.style,fe=isString(de);if(de&&!fe){if(E&&!isString(E))for(const we in E)de[we]==null&&setStyle(ne,we,"");for(const we in de)setStyle(ne,we,de[we])}else{const we=ne.display;fe?E!==de&&(ne.cssText=de):E&&f.removeAttribute("style"),"_vod"in f&&(ne.display=we)}}const importantRE=/\s*!important$/;function setStyle(f,E,de){if(isArray(de))de.forEach(ne=>setStyle(f,E,ne));else if(de==null&&(de=""),E.startsWith("--"))f.setProperty(E,de);else{const ne=autoPrefix(f,E);importantRE.test(de)?f.setProperty(hyphenate(ne),de.replace(importantRE,""),"important"):f[ne]=de}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(f,E){const de=prefixCache[E];if(de)return de;let ne=camelize(E);if(ne!=="filter"&&ne in f)return prefixCache[E]=ne;ne=capitalize(ne);for(let fe=0;fe<prefixes.length;fe++){const we=prefixes[fe]+ne;if(we in f)return prefixCache[E]=we}return E}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(f,E,de,ne,fe){if(ne&&E.startsWith("xlink:"))de==null?f.removeAttributeNS(xlinkNS,E.slice(6,E.length)):f.setAttributeNS(xlinkNS,E,de);else{const we=isSpecialBooleanAttr(E);de==null||we&&!includeBooleanAttr(de)?f.removeAttribute(E):f.setAttribute(E,we?"":de)}}function patchDOMProp(f,E,de,ne,fe,we,xe){if(E==="innerHTML"||E==="textContent"){ne&&xe(ne,fe,we),f[E]=de??"";return}const m=f.tagName;if(E==="value"&&m!=="PROGRESS"&&!m.includes("-")){f._value=de;const n=m==="OPTION"?f.getAttribute("value"):f.value,S=de??"";n!==S&&(f.value=S),de==null&&f.removeAttribute(E);return}let Q=!1;if(de===""||de==null){const n=typeof f[E];n==="boolean"?de=includeBooleanAttr(de):de==null&&n==="string"?(de="",Q=!0):n==="number"&&(de=0,Q=!0)}try{f[E]=de}catch{}Q&&f.removeAttribute(E)}function addEventListener(f,E,de,ne){f.addEventListener(E,de,ne)}function removeEventListener(f,E,de,ne){f.removeEventListener(E,de,ne)}function patchEvent(f,E,de,ne,fe=null){const we=f._vei||(f._vei={}),xe=we[E];if(ne&&xe)xe.value=ne;else{const[m,Q]=parseName(E);if(ne){const n=we[E]=createInvoker(ne,fe);addEventListener(f,m,n,Q)}else xe&&(removeEventListener(f,m,xe,Q),we[E]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(f){let E;if(optionsModifierRE.test(f)){E={};let ne;for(;ne=f.match(optionsModifierRE);)f=f.slice(0,f.length-ne[0].length),E[ne[0].toLowerCase()]=!0}return[f[2]===":"?f.slice(3):hyphenate(f.slice(2)),E]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(f,E){const de=ne=>{if(!ne._vts)ne._vts=Date.now();else if(ne._vts<=de.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(ne,de.value),E,5,[ne])};return de.value=f,de.attached=getNow(),de}function patchStopImmediatePropagation(f,E){if(isArray(E)){const de=f.stopImmediatePropagation;return f.stopImmediatePropagation=()=>{de.call(f),f._stopped=!0},E.map(ne=>fe=>!fe._stopped&&ne&&ne(fe))}else return E}const nativeOnRE=/^on[a-z]/,patchProp=(f,E,de,ne,fe=!1,we,xe,m,Q)=>{E==="class"?patchClass(f,ne,fe):E==="style"?patchStyle(f,de,ne):isOn(E)?isModelListener(E)||patchEvent(f,E,de,ne,xe):(E[0]==="."?(E=E.slice(1),!0):E[0]==="^"?(E=E.slice(1),!1):shouldSetAsProp(f,E,ne,fe))?patchDOMProp(f,E,ne,we,xe,m,Q):(E==="true-value"?f._trueValue=ne:E==="false-value"&&(f._falseValue=ne),patchAttr(f,E,ne,fe))};function shouldSetAsProp(f,E,de,ne){return ne?!!(E==="innerHTML"||E==="textContent"||E in f&&nativeOnRE.test(E)&&isFunction(de)):E==="spellcheck"||E==="draggable"||E==="translate"||E==="form"||E==="list"&&f.tagName==="INPUT"||E==="type"&&f.tagName==="TEXTAREA"||nativeOnRE.test(E)&&isString(de)?!1:E in f}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:f=>f.stopPropagation(),prevent:f=>f.preventDefault(),self:f=>f.target!==f.currentTarget,ctrl:f=>!f.ctrlKey,shift:f=>!f.shiftKey,alt:f=>!f.altKey,meta:f=>!f.metaKey,left:f=>"button"in f&&f.button!==0,middle:f=>"button"in f&&f.button!==1,right:f=>"button"in f&&f.button!==2,exact:(f,E)=>systemModifiers.some(de=>f[`${de}Key`]&&!E.includes(de))},withModifiers=(f,E)=>(de,...ne)=>{for(let fe=0;fe<E.length;fe++){const we=modifierGuards[E[fe]];if(we&&we(de,E))return}return f(de,...ne)},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...f)=>{const E=ensureRenderer().createApp(...f),{mount:de}=E;return E.mount=ne=>{const fe=normalizeContainer(ne);if(!fe)return;const we=E._component;!isFunction(we)&&!we.render&&!we.template&&(we.template=fe.innerHTML),fe.innerHTML="";const xe=de(fe,!1,fe instanceof SVGElement);return fe instanceof Element&&(fe.removeAttribute("v-cloak"),fe.setAttribute("data-v-app","")),xe},E};function normalizeContainer(f){return isString(f)?document.querySelector(f):f}var isVue2=!1;/*!
  * pinia v2.1.3
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let activePinia;const setActivePinia=f=>activePinia=f,piniaSymbol=Symbol();function isPlainObject(f){return f&&typeof f=="object"&&Object.prototype.toString.call(f)==="[object Object]"&&typeof f.toJSON!="function"}var MutationType;(function(f){f.direct="direct",f.patchObject="patch object",f.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const f=effectScope(!0),E=f.run(()=>ref({}));let de=[],ne=[];const fe=markRaw({install(we){setActivePinia(fe),fe._a=we,we.provide(piniaSymbol,fe),we.config.globalProperties.$pinia=fe,ne.forEach(xe=>de.push(xe)),ne=[]},use(we){return!this._a&&!isVue2?ne.push(we):de.push(we),this},_p:de,_a:null,_e:f,_s:new Map,state:E});return fe}const noop=()=>{};function addSubscription(f,E,de,ne=noop){f.push(E);const fe=()=>{const we=f.indexOf(E);we>-1&&(f.splice(we,1),ne())};return!de&&getCurrentScope()&&onScopeDispose(fe),fe}function triggerSubscriptions(f,...E){f.slice().forEach(de=>{de(...E)})}const fallbackRunWithContext=f=>f();function mergeReactiveObjects(f,E){f instanceof Map&&E instanceof Map&&E.forEach((de,ne)=>f.set(ne,de)),f instanceof Set&&E instanceof Set&&E.forEach(f.add,f);for(const de in E){if(!E.hasOwnProperty(de))continue;const ne=E[de],fe=f[de];isPlainObject(fe)&&isPlainObject(ne)&&f.hasOwnProperty(de)&&!isRef(ne)&&!isReactive(ne)?f[de]=mergeReactiveObjects(fe,ne):f[de]=ne}return f}const skipHydrateSymbol=Symbol();function shouldHydrate(f){return!isPlainObject(f)||!f.hasOwnProperty(skipHydrateSymbol)}const{assign}=Object;function isComputed(f){return!!(isRef(f)&&f.effect)}function createOptionsStore(f,E,de,ne){const{state:fe,actions:we,getters:xe}=E,m=de.state.value[f];let Q;function n(){m||(de.state.value[f]=fe?fe():{});const S=toRefs(de.state.value[f]);return assign(S,we,Object.keys(xe||{}).reduce((N,e)=>(N[e]=markRaw(computed(()=>{setActivePinia(de);const t=de._s.get(f);return xe[e].call(t,t)})),N),{}))}return Q=createSetupStore(f,n,E,de,ne,!0),Q}function createSetupStore(f,E,de={},ne,fe,we){let xe;const m=assign({actions:{}},de),Q={deep:!0};let n,S,N=[],e=[],t;const r=ne.state.value[f];!we&&!r&&(ne.state.value[f]={}),ref({});let z;function j(T){let b;n=S=!1,typeof T=="function"?(T(ne.state.value[f]),b={type:MutationType.patchFunction,storeId:f,events:t}):(mergeReactiveObjects(ne.state.value[f],T),b={type:MutationType.patchObject,payload:T,storeId:f,events:t});const L=z=Symbol();nextTick().then(()=>{z===L&&(n=!0)}),S=!0,triggerSubscriptions(N,b,ne.state.value[f])}const M=we?function(){const{state:b}=de,L=b?b():{};this.$patch(B=>{assign(B,L)})}:noop;function I(){xe.stop(),N=[],e=[],ne._s.delete(f)}function d(T,b){return function(){setActivePinia(ne);const L=Array.from(arguments),B=[],V=[];function k(x){B.push(x)}function _(x){V.push(x)}triggerSubscriptions(e,{args:L,name:T,store:i,after:k,onError:_});let l;try{l=b.apply(this&&this.$id===f?this:i,L)}catch(x){throw triggerSubscriptions(V,x),x}return l instanceof Promise?l.then(x=>(triggerSubscriptions(B,x),x)).catch(x=>(triggerSubscriptions(V,x),Promise.reject(x))):(triggerSubscriptions(B,l),l)}}const u={_p:ne,$id:f,$onAction:addSubscription.bind(null,e),$patch:j,$reset:M,$subscribe(T,b={}){const L=addSubscription(N,T,b.detached,()=>B()),B=xe.run(()=>watch(()=>ne.state.value[f],V=>{(b.flush==="sync"?S:n)&&T({storeId:f,type:MutationType.direct,events:t},V)},assign({},Q,b)));return L},$dispose:I},i=reactive(u);ne._s.set(f,i);const F=ne._a&&ne._a.runWithContext||fallbackRunWithContext,C=ne._e.run(()=>(xe=effectScope(),F(()=>xe.run(E))));for(const T in C){const b=C[T];if(isRef(b)&&!isComputed(b)||isReactive(b))we||(r&&shouldHydrate(b)&&(isRef(b)?b.value=r[T]:mergeReactiveObjects(b,r[T])),ne.state.value[f][T]=b);else if(typeof b=="function"){const L=d(T,b);C[T]=L,m.actions[T]=b}}return assign(i,C),assign(toRaw(i),C),Object.defineProperty(i,"$state",{get:()=>ne.state.value[f],set:T=>{j(b=>{assign(b,T)})}}),ne._p.forEach(T=>{assign(i,xe.run(()=>T({store:i,app:ne._a,pinia:ne,options:m})))}),r&&we&&de.hydrate&&de.hydrate(i.$state,r),n=!0,S=!0,i}function defineStore(f,E,de){let ne,fe;const we=typeof E=="function";typeof f=="string"?(ne=f,fe=we?de:E):(fe=f,ne=f.id);function xe(m,Q){const n=hasInjectionContext();return m=m||(n?inject(piniaSymbol,null):null),m&&setActivePinia(m),m=activePinia,m._s.has(ne)||(we?createSetupStore(ne,E,fe,m):createOptionsStore(ne,fe,m)),m._s.get(ne)}return xe.$id=ne,xe}const useLabelsStore=defineStore("labels",()=>{const f=reactive([]);function E(...xe){for(const m of xe){const Q=JSON.stringify(m),n=nowrap(Q),S=JSON.parse(n);f.push(S)}}function de(xe,m,Q){const n=f[xe];n&&(n[m]=nowrap(Q))}function ne(xe){f.splice(xe,1)}function fe(){f.splice(0,f.length)}function we(){return f.reduce((xe,m)=>xe+=+m.packsCount,0)}return{items:f,addItem:E,updateItem:de,removeItem:ne,removeAll:fe,count:we}});function nowrap(f){return f.replace(/\b(\w+) (\w+)\/(\w+) (\w+)\b/g,"$1 $2/$3 $4")}function getAugmentedNamespace(f){if(f.__esModule)return f;var E=f.default;if(typeof E=="function"){var de=function ne(){return this instanceof ne?Reflect.construct(E,arguments,this.constructor):E.apply(this,arguments)};de.prototype=E.prototype}else de={};return Object.defineProperty(de,"__esModule",{value:!0}),Object.keys(f).forEach(function(ne){var fe=Object.getOwnPropertyDescriptor(f,ne);Object.defineProperty(de,ne,fe.get?fe:{enumerable:!0,get:function(){return f[ne]}})}),de}function commonjsRequire(f){throw new Error('Could not dynamically require "'+f+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(E,de){module.exports=E.pdfjsLib=de()})(globalThis,()=>(()=>{var __webpack_modules__=[,(f,E)=>{var Oe;Object.defineProperty(E,"__esModule",{value:!0}),E.VerbosityLevel=E.Util=E.UnknownErrorException=E.UnexpectedResponseException=E.TextRenderingMode=E.RenderingIntentFlag=E.PromiseCapability=E.PermissionFlag=E.PasswordResponses=E.PasswordException=E.PageActionEventType=E.OPS=E.MissingPDFException=E.MAX_IMAGE_SIZE_TO_CACHE=E.LINE_FACTOR=E.LINE_DESCENT_FACTOR=E.InvalidPDFException=E.ImageKind=E.IDENTITY_MATRIX=E.FormatError=E.FeatureTest=E.FONT_IDENTITY_MATRIX=E.DocumentActionEventType=E.CMapCompressionType=E.BaseException=E.BASELINE_FACTOR=E.AnnotationType=E.AnnotationReplyType=E.AnnotationPrefix=E.AnnotationMode=E.AnnotationFlag=E.AnnotationFieldFlag=E.AnnotationEditorType=E.AnnotationEditorPrefix=E.AnnotationEditorParamsType=E.AnnotationBorderStyleType=E.AnnotationActionEventType=E.AbortException=void 0,E.assert=g,E.bytesToString=W,E.createValidAbsoluteUrl=G,E.getModificationDate=he,E.getUuid=ye,E.getVerbosityLevel=l,E.info=x,E.isArrayBuffer=re,E.isArrayEqual=Z,E.isNodeJS=void 0,E.normalizeUnicode=ge,E.objectFromMap=q,E.objectSize=ae,E.setVerbosityLevel=_,E.shadow=D,E.string32=H,E.stringToBytes=R,E.stringToPDFString=J,E.stringToUTF8String=Y,E.unreachable=a,E.utf8StringToString=ie,E.warn=X;const de=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");E.isNodeJS=de;const ne=[1,0,0,1,0,0];E.IDENTITY_MATRIX=ne;const fe=[.001,0,0,.001,0,0];E.FONT_IDENTITY_MATRIX=fe;const we=1e7;E.MAX_IMAGE_SIZE_TO_CACHE=we;const xe=1.35;E.LINE_FACTOR=xe;const m=.35;E.LINE_DESCENT_FACTOR=m;const Q=m/xe;E.BASELINE_FACTOR=Q;const n={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};E.RenderingIntentFlag=n;const S={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};E.AnnotationMode=S;const N="pdfjs_internal_editor_";E.AnnotationEditorPrefix=N;const e={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};E.AnnotationEditorType=e;const t={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};E.AnnotationEditorParamsType=t;const r={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};E.PermissionFlag=r;const z={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};E.TextRenderingMode=z;const j={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};E.ImageKind=j;const M={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};E.AnnotationType=M;const I={GROUP:"Group",REPLY:"R"};E.AnnotationReplyType=I;const d={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};E.AnnotationFlag=d;const u={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};E.AnnotationFieldFlag=u;const i={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};E.AnnotationBorderStyleType=i;const F={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};E.AnnotationActionEventType=F;const C={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};E.DocumentActionEventType=C;const T={O:"PageOpen",C:"PageClose"};E.PageActionEventType=T;const b={ERRORS:0,WARNINGS:1,INFOS:5};E.VerbosityLevel=b;const L={NONE:0,BINARY:1};E.CMapCompressionType=L;const B={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};E.OPS=B;const V={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};E.PasswordResponses=V;let k=b.WARNINGS;function _(ve){Number.isInteger(ve)&&(k=ve)}function l(){return k}function x(ve){k>=b.INFOS&&console.log(`Info: ${ve}`)}function X(ve){k>=b.WARNINGS&&console.log(`Warning: ${ve}`)}function a(ve){throw new Error(ve)}function g(ve,Se){ve||a(Se)}function P(ve){switch(ve==null?void 0:ve.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function G(ve,Se=null,Ae=null){if(!ve)return null;try{if(Ae&&typeof ve=="string"){if(Ae.addDefaultProtocol&&ve.startsWith("www.")){const _e=ve.match(/\./g);(_e==null?void 0:_e.length)>=2&&(ve=`http://${ve}`)}if(Ae.tryConvertEncoding)try{ve=Y(ve)}catch{}}const ke=Se?new URL(ve,Se):new URL(ve);if(P(ke))return ke}catch{}return null}function D(ve,Se,Ae,ke=!1){return Object.defineProperty(ve,Se,{value:Ae,enumerable:!ke,configurable:!0,writable:!1}),Ae}const w=function(){function Se(Ae,ke){this.constructor===Se&&a("Cannot initialize BaseException."),this.message=Ae,this.name=ke}return Se.prototype=new Error,Se.constructor=Se,Se}();E.BaseException=w;class A extends w{constructor(Se,Ae){super(Se,"PasswordException"),this.code=Ae}}E.PasswordException=A;class v extends w{constructor(Se,Ae){super(Se,"UnknownErrorException"),this.details=Ae}}E.UnknownErrorException=v;class o extends w{constructor(Se){super(Se,"InvalidPDFException")}}E.InvalidPDFException=o;class y extends w{constructor(Se){super(Se,"MissingPDFException")}}E.MissingPDFException=y;class c extends w{constructor(Se,Ae){super(Se,"UnexpectedResponseException"),this.status=Ae}}E.UnexpectedResponseException=c;class h extends w{constructor(Se){super(Se,"FormatError")}}E.FormatError=h;class O extends w{constructor(Se){super(Se,"AbortException")}}E.AbortException=O;function W(ve){(typeof ve!="object"||(ve==null?void 0:ve.length)===void 0)&&a("Invalid argument for bytesToString");const Se=ve.length,Ae=8192;if(Se<Ae)return String.fromCharCode.apply(null,ve);const ke=[];for(let _e=0;_e<Se;_e+=Ae){const je=Math.min(_e+Ae,Se),Re=ve.subarray(_e,je);ke.push(String.fromCharCode.apply(null,Re))}return ke.join("")}function R(ve){typeof ve!="string"&&a("Invalid argument for stringToBytes");const Se=ve.length,Ae=new Uint8Array(Se);for(let ke=0;ke<Se;++ke)Ae[ke]=ve.charCodeAt(ke)&255;return Ae}function H(ve){return String.fromCharCode(ve>>24&255,ve>>16&255,ve>>8&255,ve&255)}function ae(ve){return Object.keys(ve).length}function q(ve){const Se=Object.create(null);for(const[Ae,ke]of ve)Se[Ae]=ke;return Se}function ce(){const ve=new Uint8Array(4);return ve[0]=1,new Uint32Array(ve.buffer,0,1)[0]===1}function ee(){try{return new Function(""),!0}catch{return!1}}class se{static get isLittleEndian(){return D(this,"isLittleEndian",ce())}static get isEvalSupported(){return D(this,"isEvalSupported",ee())}static get isOffscreenCanvasSupported(){return D(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?D(this,"platform",{isWin:!1,isMac:!1}):D(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Se,Ae;return D(this,"isCSSRoundSupported",(Ae=(Se=globalThis.CSS)==null?void 0:Se.supports)==null?void 0:Ae.call(Se,"width: round(1.5px, 1px)"))}}E.FeatureTest=se;const $=[...Array(256).keys()].map(ve=>ve.toString(16).padStart(2,"0"));class U{static makeHexColor(Se,Ae,ke){return`#${$[Se]}${$[Ae]}${$[ke]}`}static scaleMinMax(Se,Ae){let ke;Se[0]?(Se[0]<0&&(ke=Ae[0],Ae[0]=Ae[1],Ae[1]=ke),Ae[0]*=Se[0],Ae[1]*=Se[0],Se[3]<0&&(ke=Ae[2],Ae[2]=Ae[3],Ae[3]=ke),Ae[2]*=Se[3],Ae[3]*=Se[3]):(ke=Ae[0],Ae[0]=Ae[2],Ae[2]=ke,ke=Ae[1],Ae[1]=Ae[3],Ae[3]=ke,Se[1]<0&&(ke=Ae[2],Ae[2]=Ae[3],Ae[3]=ke),Ae[2]*=Se[1],Ae[3]*=Se[1],Se[2]<0&&(ke=Ae[0],Ae[0]=Ae[1],Ae[1]=ke),Ae[0]*=Se[2],Ae[1]*=Se[2]),Ae[0]+=Se[4],Ae[1]+=Se[4],Ae[2]+=Se[5],Ae[3]+=Se[5]}static transform(Se,Ae){return[Se[0]*Ae[0]+Se[2]*Ae[1],Se[1]*Ae[0]+Se[3]*Ae[1],Se[0]*Ae[2]+Se[2]*Ae[3],Se[1]*Ae[2]+Se[3]*Ae[3],Se[0]*Ae[4]+Se[2]*Ae[5]+Se[4],Se[1]*Ae[4]+Se[3]*Ae[5]+Se[5]]}static applyTransform(Se,Ae){const ke=Se[0]*Ae[0]+Se[1]*Ae[2]+Ae[4],_e=Se[0]*Ae[1]+Se[1]*Ae[3]+Ae[5];return[ke,_e]}static applyInverseTransform(Se,Ae){const ke=Ae[0]*Ae[3]-Ae[1]*Ae[2],_e=(Se[0]*Ae[3]-Se[1]*Ae[2]+Ae[2]*Ae[5]-Ae[4]*Ae[3])/ke,je=(-Se[0]*Ae[1]+Se[1]*Ae[0]+Ae[4]*Ae[1]-Ae[5]*Ae[0])/ke;return[_e,je]}static getAxialAlignedBoundingBox(Se,Ae){const ke=this.applyTransform(Se,Ae),_e=this.applyTransform(Se.slice(2,4),Ae),je=this.applyTransform([Se[0],Se[3]],Ae),Re=this.applyTransform([Se[2],Se[1]],Ae);return[Math.min(ke[0],_e[0],je[0],Re[0]),Math.min(ke[1],_e[1],je[1],Re[1]),Math.max(ke[0],_e[0],je[0],Re[0]),Math.max(ke[1],_e[1],je[1],Re[1])]}static inverseTransform(Se){const Ae=Se[0]*Se[3]-Se[1]*Se[2];return[Se[3]/Ae,-Se[1]/Ae,-Se[2]/Ae,Se[0]/Ae,(Se[2]*Se[5]-Se[4]*Se[3])/Ae,(Se[4]*Se[1]-Se[5]*Se[0])/Ae]}static singularValueDecompose2dScale(Se){const Ae=[Se[0],Se[2],Se[1],Se[3]],ke=Se[0]*Ae[0]+Se[1]*Ae[2],_e=Se[0]*Ae[1]+Se[1]*Ae[3],je=Se[2]*Ae[0]+Se[3]*Ae[2],Re=Se[2]*Ae[1]+Se[3]*Ae[3],be=(ke+Re)/2,Ce=Math.sqrt((ke+Re)**2-4*(ke*Re-je*_e))/2,$e=be+Ce||1,Pe=be-Ce||1;return[Math.sqrt($e),Math.sqrt(Pe)]}static normalizeRect(Se){const Ae=Se.slice(0);return Se[0]>Se[2]&&(Ae[0]=Se[2],Ae[2]=Se[0]),Se[1]>Se[3]&&(Ae[1]=Se[3],Ae[3]=Se[1]),Ae}static intersect(Se,Ae){const ke=Math.max(Math.min(Se[0],Se[2]),Math.min(Ae[0],Ae[2])),_e=Math.min(Math.max(Se[0],Se[2]),Math.max(Ae[0],Ae[2]));if(ke>_e)return null;const je=Math.max(Math.min(Se[1],Se[3]),Math.min(Ae[1],Ae[3])),Re=Math.min(Math.max(Se[1],Se[3]),Math.max(Ae[1],Ae[3]));return je>Re?null:[ke,je,_e,Re]}static bezierBoundingBox(Se,Ae,ke,_e,je,Re,be,Ce){const $e=[],Pe=[[],[]];let ze,We,ut,Le,rt,Qe,Fe,me;for(let Be=0;Be<2;++Be){if(Be===0?(We=6*Se-12*ke+6*je,ze=-3*Se+9*ke-9*je+3*be,ut=3*ke-3*Se):(We=6*Ae-12*_e+6*Re,ze=-3*Ae+9*_e-9*Re+3*Ce,ut=3*_e-3*Ae),Math.abs(ze)<1e-12){if(Math.abs(We)<1e-12)continue;Le=-ut/We,0<Le&&Le<1&&$e.push(Le);continue}Fe=We*We-4*ut*ze,me=Math.sqrt(Fe),!(Fe<0)&&(rt=(-We+me)/(2*ze),0<rt&&rt<1&&$e.push(rt),Qe=(-We-me)/(2*ze),0<Qe&&Qe<1&&$e.push(Qe))}let Te=$e.length,Ie;const De=Te;for(;Te--;)Le=$e[Te],Ie=1-Le,Pe[0][Te]=Ie*Ie*Ie*Se+3*Ie*Ie*Le*ke+3*Ie*Le*Le*je+Le*Le*Le*be,Pe[1][Te]=Ie*Ie*Ie*Ae+3*Ie*Ie*Le*_e+3*Ie*Le*Le*Re+Le*Le*Le*Ce;return Pe[0][De]=Se,Pe[1][De]=Ae,Pe[0][De+1]=be,Pe[1][De+1]=Ce,Pe[0].length=Pe[1].length=De+2,[Math.min(...Pe[0]),Math.min(...Pe[1]),Math.max(...Pe[0]),Math.max(...Pe[1])]}}E.Util=U;const K=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function J(ve){if(ve[0]>="ï"){let Ae;if(ve[0]==="þ"&&ve[1]==="ÿ"?Ae="utf-16be":ve[0]==="ÿ"&&ve[1]==="þ"?Ae="utf-16le":ve[0]==="ï"&&ve[1]==="»"&&ve[2]==="¿"&&(Ae="utf-8"),Ae)try{const ke=new TextDecoder(Ae,{fatal:!0}),_e=R(ve);return ke.decode(_e)}catch(ke){X(`stringToPDFString: "${ke}".`)}}const Se=[];for(let Ae=0,ke=ve.length;Ae<ke;Ae++){const _e=K[ve.charCodeAt(Ae)];Se.push(_e?String.fromCharCode(_e):ve.charAt(Ae))}return Se.join("")}function Y(ve){return decodeURIComponent(escape(ve))}function ie(ve){return unescape(encodeURIComponent(ve))}function re(ve){return typeof ve=="object"&&(ve==null?void 0:ve.byteLength)!==void 0}function Z(ve,Se){if(ve.length!==Se.length)return!1;for(let Ae=0,ke=ve.length;Ae<ke;Ae++)if(ve[Ae]!==Se[Ae])return!1;return!0}function he(ve=new Date){return[ve.getUTCFullYear().toString(),(ve.getUTCMonth()+1).toString().padStart(2,"0"),ve.getUTCDate().toString().padStart(2,"0"),ve.getUTCHours().toString().padStart(2,"0"),ve.getUTCMinutes().toString().padStart(2,"0"),ve.getUTCSeconds().toString().padStart(2,"0")].join("")}class le{constructor(){Me(this,Oe,!1);this.promise=new Promise((Se,Ae)=>{this.resolve=ke=>{Xe(this,Oe,!0),Se(ke)},this.reject=ke=>{Xe(this,Oe,!0),Ae(ke)}})}get settled(){return pe(this,Oe)}}Oe=new WeakMap,E.PromiseCapability=le;let te=null,ue=null;function ge(ve){return te||(te=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ue=new Map([["ﬅ","ſt"]])),ve.replaceAll(te,(Se,Ae,ke)=>Ae?Ae.normalize("NFKC"):ue.get(ke))}function ye(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const ve=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(ve);else for(let Se=0;Se<32;Se++)ve[Se]=Math.floor(Math.random()*255);return W(ve)}const Ee="pdfjs_internal_id_";E.AnnotationPrefix=Ee},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var f,de,ne,fe,ln,xe,Mn,Q,n,S,N,e,t,r,z,j,Rn,I,d,gi,i,F;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(T){if(typeof T=="string"||T instanceof URL?T={url:T}:(0,_util.isArrayBuffer)(T)&&(T={data:T}),typeof T!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!T.url&&!T.data&&!T.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const b=new PDFDocumentLoadingTask,{docId:L}=b,B=T.url?getUrlProp(T.url):null,V=T.data?getDataProp(T.data):null,k=T.httpHeaders||null,_=T.withCredentials===!0,l=T.password??null,x=T.range instanceof PDFDataRangeTransport?T.range:null,X=Number.isInteger(T.rangeChunkSize)&&T.rangeChunkSize>0?T.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let a=T.worker instanceof PDFWorker?T.worker:null;const g=T.verbosity,P=typeof T.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(T.docBaseUrl)?T.docBaseUrl:null,G=typeof T.cMapUrl=="string"?T.cMapUrl:null,D=T.cMapPacked!==!1,w=T.CMapReaderFactory||DefaultCMapReaderFactory,A=typeof T.standardFontDataUrl=="string"?T.standardFontDataUrl:null,v=T.StandardFontDataFactory||DefaultStandardFontDataFactory,o=T.stopAtErrors!==!0,y=Number.isInteger(T.maxImageSize)&&T.maxImageSize>-1?T.maxImageSize:-1,c=T.isEvalSupported!==!1,h=typeof T.isOffscreenCanvasSupported=="boolean"?T.isOffscreenCanvasSupported:!_util.isNodeJS,O=Number.isInteger(T.canvasMaxAreaInBytes)?T.canvasMaxAreaInBytes:-1,W=typeof T.disableFontFace=="boolean"?T.disableFontFace:_util.isNodeJS,R=T.fontExtraProperties===!0,H=T.enableXfa===!0,ae=T.ownerDocument||globalThis.document,q=T.disableRange===!0,ce=T.disableStream===!0,ee=T.disableAutoFetch===!0,se=T.pdfBug===!0,$=x?x.length:T.length??NaN,U=typeof T.useSystemFonts=="boolean"?T.useSystemFonts:!_util.isNodeJS&&!W,K=typeof T.useWorkerFetch=="boolean"?T.useWorkerFetch:w===_display_utils.DOMCMapReaderFactory&&v===_display_utils.DOMStandardFontDataFactory&&G&&A&&(0,_display_utils.isValidFetchUrl)(G,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(A,document.baseURI),J=T.canvasFactory||new DefaultCanvasFactory({ownerDocument:ae}),Y=T.filterFactory||new DefaultFilterFactory({docId:L,ownerDocument:ae}),ie=null;(0,_util.setVerbosityLevel)(g);const re={canvasFactory:J,filterFactory:Y};if(K||(re.cMapReaderFactory=new w({baseUrl:G,isCompressed:D}),re.standardFontDataFactory=new v({baseUrl:A})),!a){const le={verbosity:g,port:_worker_options.GlobalWorkerOptions.workerPort};a=le.port?PDFWorker.fromPort(le):new PDFWorker(le),b._worker=a}const Z={docId:L,apiVersion:"3.11.174",data:V,password:l,disableAutoFetch:ee,rangeChunkSize:X,length:$,docBaseUrl:P,enableXfa:H,evaluatorOptions:{maxImageSize:y,disableFontFace:W,ignoreErrors:o,isEvalSupported:c,isOffscreenCanvasSupported:h,canvasMaxAreaInBytes:O,fontExtraProperties:R,useSystemFonts:U,cMapUrl:K?G:null,standardFontDataUrl:K?A:null}},he={ignoreErrors:o,isEvalSupported:c,disableFontFace:W,fontExtraProperties:R,enableXfa:H,ownerDocument:ae,disableAutoFetch:ee,pdfBug:se,styleElement:ie};return a.promise.then(function(){if(b.destroyed)throw new Error("Loading aborted");const le=_fetchDocument(a,Z),te=new Promise(function(ue){let ge;x?ge=new _transport_stream.PDFDataTransportStream({length:$,initialData:x.initialData,progressiveDone:x.progressiveDone,contentDispositionFilename:x.contentDispositionFilename,disableRange:q,disableStream:ce},x):V||(ge=(Ee=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Ee):(0,_display_utils.isValidFetchUrl)(Ee.url)?new _displayFetch_stream.PDFFetchStream(Ee):new _displayNetwork.PDFNetworkStream(Ee))({url:B,length:$,httpHeaders:k,withCredentials:_,rangeChunkSize:X,disableRange:q,disableStream:ce})),ue(ge)});return Promise.all([le,te]).then(function([ue,ge]){if(b.destroyed)throw new Error("Loading aborted");const ye=new _message_handler.MessageHandler(L,ue,a.port),Ee=new WorkerTransport(ye,b,ge,he,re);b._transport=Ee,ye.send("Ready",null)})}).catch(b._capability.reject),b}async function _fetchDocument(T,b){if(T.destroyed)throw new Error("Worker was destroyed");const L=await T.messageHandler.sendWithPromise("GetDocRequest",b,b.data?[b.data.buffer]:null);if(T.destroyed)throw new Error("Worker was destroyed");return L}function getUrlProp(T){if(T instanceof URL)return T.href;try{return new URL(T,window.location).href}catch{if(_util.isNodeJS&&typeof T=="string")return T}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(T){if(_util.isNodeJS&&typeof Buffer<"u"&&T instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(T instanceof Uint8Array&&T.byteLength===T.buffer.byteLength)return T;if(typeof T=="string")return(0,_util.stringToBytes)(T);if(typeof T=="object"&&!isNaN(T==null?void 0:T.length)||(0,_util.isArrayBuffer)(T))return new Uint8Array(T);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const E=class E{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${An(E,f)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var b,L,B;this.destroyed=!0;try{(b=this._worker)!=null&&b.port&&(this._worker._pendingDestroy=!0),await((L=this._transport)==null?void 0:L.destroy())}catch(V){throw(B=this._worker)!=null&&B.port&&delete this._worker._pendingDestroy,V}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};f=new WeakMap,Me(E,f,0);let PDFDocumentLoadingTask=E;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(b,L,B=!1,V=null){this.length=b,this.initialData=L,this.progressiveDone=B,this.contentDispositionFilename=V,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(b){this._rangeListeners.push(b)}addProgressListener(b){this._progressListeners.push(b)}addProgressiveReadListener(b){this._progressiveReadListeners.push(b)}addProgressiveDoneListener(b){this._progressiveDoneListeners.push(b)}onDataRange(b,L){for(const B of this._rangeListeners)B(b,L)}onDataProgress(b,L){this._readyCapability.promise.then(()=>{for(const B of this._progressListeners)B(b,L)})}onDataProgressiveRead(b){this._readyCapability.promise.then(()=>{for(const L of this._progressiveReadListeners)L(b)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const b of this._progressiveDoneListeners)b()})}transportReady(){this._readyCapability.resolve()}requestDataRange(b,L){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(b,L){this._pdfInfo=b,this._transport=L,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(B=>{if(!B)return B;const V=[];for(const k in B)V.push(...B[k]);return V}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(b){return this._transport.getPage(b)}getPageIndex(b){return this._transport.getPageIndex(b)}getDestinations(){return this._transport.getDestinations()}getDestination(b){return this._transport.getDestination(b)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(b=!1){return this._transport.startCleanup(b||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(b,L,B,V=!1){Me(this,fe);Me(this,xe);Me(this,de,null);Me(this,ne,!1);this._pageIndex=b,this._pageInfo=L,this._transport=B,this._stats=V?new _display_utils.StatTimer:null,this._pdfBug=V,this.commonObjs=B.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:b,rotation:L=this.rotate,offsetX:B=0,offsetY:V=0,dontFlip:k=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:b,rotation:L,offsetX:B,offsetY:V,dontFlip:k})}getAnnotations({intent:b="display"}={}){const L=this._transport.getRenderingIntent(b);return this._transport.getAnnotations(this._pageIndex,L.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var b;return((b=this._transport._htmlForXfa)==null?void 0:b.children[this._pageIndex])||null}render({canvasContext:b,viewport:L,intent:B="display",annotationMode:V=_util.AnnotationMode.ENABLE,transform:k=null,background:_=null,optionalContentConfigPromise:l=null,annotationCanvasMap:x=null,pageColors:X=null,printAnnotationStorage:a=null}){var v,o;(v=this._stats)==null||v.time("Overall");const g=this._transport.getRenderingIntent(B,V,a);Xe(this,ne,!1),Ne(this,xe,Mn).call(this),l||(l=this._transport.getOptionalContentConfig());let P=this._intentStates.get(g.cacheKey);P||(P=Object.create(null),this._intentStates.set(g.cacheKey,P)),P.streamReaderCancelTimeout&&(clearTimeout(P.streamReaderCancelTimeout),P.streamReaderCancelTimeout=null);const G=!!(g.renderingIntent&_util.RenderingIntentFlag.PRINT);P.displayReadyCapability||(P.displayReadyCapability=new _util.PromiseCapability,P.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(o=this._stats)==null||o.time("Page Request"),this._pumpOperatorList(g));const D=y=>{var c,h;P.renderTasks.delete(w),(this._maybeCleanupAfterRender||G)&&Xe(this,ne,!0),Ne(this,fe,ln).call(this,!G),y?(w.capability.reject(y),this._abortOperatorList({intentState:P,reason:y instanceof Error?y:new Error(y)})):w.capability.resolve(),(c=this._stats)==null||c.timeEnd("Rendering"),(h=this._stats)==null||h.timeEnd("Overall")},w=new InternalRenderTask({callback:D,params:{canvasContext:b,viewport:L,transform:k,background:_},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:x,operatorList:P.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!G,pdfBug:this._pdfBug,pageColors:X});(P.renderTasks||(P.renderTasks=new Set)).add(w);const A=w.task;return Promise.all([P.displayReadyCapability.promise,l]).then(([y,c])=>{var h;if(this.destroyed){D();return}(h=this._stats)==null||h.time("Rendering"),w.initializeGraphics({transparency:y,optionalContentConfig:c}),w.operatorListChanged()}).catch(D),A}getOperatorList({intent:b="display",annotationMode:L=_util.AnnotationMode.ENABLE,printAnnotationStorage:B=null}={}){var x;function V(){_.operatorList.lastChunk&&(_.opListReadCapability.resolve(_.operatorList),_.renderTasks.delete(l))}const k=this._transport.getRenderingIntent(b,L,B,!0);let _=this._intentStates.get(k.cacheKey);_||(_=Object.create(null),this._intentStates.set(k.cacheKey,_));let l;return _.opListReadCapability||(l=Object.create(null),l.operatorListChanged=V,_.opListReadCapability=new _util.PromiseCapability,(_.renderTasks||(_.renderTasks=new Set)).add(l),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(x=this._stats)==null||x.time("Page Request"),this._pumpOperatorList(k)),_.opListReadCapability.promise}streamTextContent({includeMarkedContent:b=!1,disableNormalization:L=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:b===!0,disableNormalization:L===!0},{highWaterMark:100,size(V){return V.items.length}})}getTextContent(b={}){if(this._transport._htmlForXfa)return this.getXfa().then(B=>_xfa_text.XfaText.textContent(B));const L=this.streamTextContent(b);return new Promise(function(B,V){function k(){_.read().then(function({value:x,done:X}){if(X){B(l);return}Object.assign(l.styles,x.styles),l.items.push(...x.items),k()},V)}const _=L.getReader(),l={items:[],styles:Object.create(null)};k()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const b=[];for(const L of this._intentStates.values())if(this._abortOperatorList({intentState:L,reason:new Error("Page was destroyed."),force:!0}),!L.opListReadCapability)for(const B of L.renderTasks)b.push(B.completed),B.cancel();return this.objs.clear(),Xe(this,ne,!1),Ne(this,xe,Mn).call(this),Promise.all(b)}cleanup(b=!1){Xe(this,ne,!0);const L=Ne(this,fe,ln).call(this,!1);return b&&L&&this._stats&&(this._stats=new _display_utils.StatTimer),L}_startRenderPage(b,L){var V,k;const B=this._intentStates.get(L);B&&((V=this._stats)==null||V.timeEnd("Page Request"),(k=B.displayReadyCapability)==null||k.resolve(b))}_renderPageChunk(b,L){for(let B=0,V=b.length;B<V;B++)L.operatorList.fnArray.push(b.fnArray[B]),L.operatorList.argsArray.push(b.argsArray[B]);L.operatorList.lastChunk=b.lastChunk,L.operatorList.separateAnnots=b.separateAnnots;for(const B of L.renderTasks)B.operatorListChanged();b.lastChunk&&Ne(this,fe,ln).call(this,!0)}_pumpOperatorList({renderingIntent:b,cacheKey:L,annotationStorageSerializable:B}){const{map:V,transfers:k}=B,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:b,cacheKey:L,annotationStorage:V},k).getReader(),x=this._intentStates.get(L);x.streamReader=l;const X=()=>{l.read().then(({value:a,done:g})=>{if(g){x.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(a,x),X())},a=>{if(x.streamReader=null,!this._transport.destroyed){if(x.operatorList){x.operatorList.lastChunk=!0;for(const g of x.renderTasks)g.operatorListChanged();Ne(this,fe,ln).call(this,!0)}if(x.displayReadyCapability)x.displayReadyCapability.reject(a);else if(x.opListReadCapability)x.opListReadCapability.reject(a);else throw a}})};X()}_abortOperatorList({intentState:b,reason:L,force:B=!1}){if(b.streamReader){if(b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null),!B){if(b.renderTasks.size>0)return;if(L instanceof _display_utils.RenderingCancelledException){let V=RENDERING_CANCELLED_TIMEOUT;L.extraDelay>0&&L.extraDelay<1e3&&(V+=L.extraDelay),b.streamReaderCancelTimeout=setTimeout(()=>{b.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:b,reason:L,force:!0})},V);return}}if(b.streamReader.cancel(new _util.AbortException(L.message)).catch(()=>{}),b.streamReader=null,!this._transport.destroyed){for(const[V,k]of this._intentStates)if(k===b){this._intentStates.delete(V);break}this.cleanup()}}}get stats(){return this._stats}}de=new WeakMap,ne=new WeakMap,fe=new WeakSet,ln=function(b=!1){if(Ne(this,xe,Mn).call(this),!pe(this,ne)||this.destroyed)return!1;if(b)return Xe(this,de,setTimeout(()=>{Xe(this,de,null),Ne(this,fe,ln).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:L,operatorList:B}of this._intentStates.values())if(L.size>0||!B.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Xe(this,ne,!1),!0},xe=new WeakSet,Mn=function(){pe(this,de)&&(clearTimeout(pe(this,de)),Xe(this,de,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Me(this,Q,new Set);Me(this,n,Promise.resolve())}postMessage(b,L){const B={data:structuredClone(b,L?{transfer:L}:null)};pe(this,n).then(()=>{for(const V of pe(this,Q))V.call(this,B)})}addEventListener(b,L){pe(this,Q).add(L)}removeEventListener(b,L){pe(this,Q).delete(L)}terminate(){pe(this,Q).clear()}}Q=new WeakMap,n=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const T=(S=document==null?void 0:document.currentScript)==null?void 0:S.src;T&&(PDFWorkerUtil.fallbackWorkerSrc=T.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(T,b){let L;try{if(L=new URL(T),!L.origin||L.origin==="null")return!1}catch{return!1}const B=new URL(b,L);return L.origin===B.origin},PDFWorkerUtil.createCDNWrapper=function(T){const b=`importScripts("${T}");`;return URL.createObjectURL(new Blob([b]))}}const _PDFWorker=class _PDFWorker{constructor({name:T=null,port:b=null,verbosity:L=(0,_util.getVerbosityLevel)()}={}){var B;if(this.name=T,this.destroyed=!1,this.verbosity=L,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,b){if((B=pe(_PDFWorker,N))!=null&&B.has(b))throw new Error("Cannot use more than one PDFWorker per port.");(pe(_PDFWorker,N)||Xe(_PDFWorker,N,new WeakMap)).set(b,this),this._initializeFromPort(b);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(T){this._port=T,this._messageHandler=new _message_handler.MessageHandler("main","worker",T),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:T}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,T)||(T=PDFWorkerUtil.createCDNWrapper(new URL(T,window.location).href));const b=new Worker(T),L=new _message_handler.MessageHandler("main","worker",b),B=()=>{b.removeEventListener("error",V),L.destroy(),b.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},V=()=>{this._webWorker||B()};b.addEventListener("error",V),L.on("test",_=>{if(b.removeEventListener("error",V),this.destroyed){B();return}_?(this._messageHandler=L,this._port=b,this._webWorker=b,this._readyCapability.resolve(),L.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),L.destroy(),b.terminate())}),L.on("ready",_=>{if(b.removeEventListener("error",V),this.destroyed){B();return}try{k()}catch{this._setupFakeWorker()}});const k=()=>{const _=new Uint8Array;L.send("test",_,[_.buffer])};k();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(T=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const b=new LoopbackPort;this._port=b;const L=`fake${PDFWorkerUtil.fakeWorkerId++}`,B=new _message_handler.MessageHandler(L+"_worker",L,b);T.setup(B,b);const V=new _message_handler.MessageHandler(L,L+"_worker",b);this._messageHandler=V,this._readyCapability.resolve(),V.send("configure",{verbosity:this.verbosity})}).catch(T=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${T.message}".`))})}destroy(){var T;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(T=pe(_PDFWorker,N))==null||T.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(T){var L;if(!(T!=null&&T.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const b=(L=pe(this,N))==null?void 0:L.get(T.port);if(b){if(b._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return b}return new _PDFWorker(T)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var T;try{return((T=globalThis.pdfjsWorker)==null?void 0:T.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};N=new WeakMap,Me(_PDFWorker,N,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(b,L,B,V,k){Me(this,j);Me(this,e,new Map);Me(this,t,new Map);Me(this,r,new Map);Me(this,z,null);this.messageHandler=b,this.loadingTask=L,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:V.ownerDocument,styleElement:V.styleElement}),this._params=V,this.canvasFactory=k.canvasFactory,this.filterFactory=k.filterFactory,this.cMapReaderFactory=k.cMapReaderFactory,this.standardFontDataFactory=k.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=B,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(b,L=_util.AnnotationMode.ENABLE,B=null,V=!1){let k=_util.RenderingIntentFlag.DISPLAY,_=_annotation_storage.SerializableEmpty;switch(b){case"any":k=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":k=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${b}`)}switch(L){case _util.AnnotationMode.DISABLE:k+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:k+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:k+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,_=(k&_util.RenderingIntentFlag.PRINT&&B instanceof _annotation_storage.PrintAnnotationStorage?B:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${L}`)}return V&&(k+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:k,cacheKey:`${k}_${_.hash}`,annotationStorageSerializable:_}}destroy(){var B;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(B=pe(this,z))==null||B.reject(new Error("Worker was destroyed during onPassword callback"));const b=[];for(const V of pe(this,t).values())b.push(V._destroy());pe(this,t).clear(),pe(this,r).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const L=this.messageHandler.sendWithPromise("Terminate",null);return b.push(L),Promise.all(b).then(()=>{var V;this.commonObjs.clear(),this.fontLoader.clear(),pe(this,e).clear(),this.filterFactory.destroy(),(V=this._networkStream)==null||V.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:b,loadingTask:L}=this;b.on("GetReader",(B,V)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=k=>{this._lastProgress={loaded:k.loaded,total:k.total}},V.onPull=()=>{this._fullReader.read().then(function({value:k,done:_}){if(_){V.close();return}(0,_util.assert)(k instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),V.enqueue(new Uint8Array(k),1,[k])}).catch(k=>{V.error(k)})},V.onCancel=k=>{this._fullReader.cancel(k),V.ready.catch(_=>{if(!this.destroyed)throw _})}}),b.on("ReaderHeadersReady",B=>{const V=new _util.PromiseCapability,k=this._fullReader;return k.headersReady.then(()=>{var _;(!k.isStreamingSupported||!k.isRangeSupported)&&(this._lastProgress&&((_=L.onProgress)==null||_.call(L,this._lastProgress)),k.onProgress=l=>{var x;(x=L.onProgress)==null||x.call(L,{loaded:l.loaded,total:l.total})}),V.resolve({isStreamingSupported:k.isStreamingSupported,isRangeSupported:k.isRangeSupported,contentLength:k.contentLength})},V.reject),V.promise}),b.on("GetRangeReader",(B,V)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const k=this._networkStream.getRangeReader(B.begin,B.end);if(!k){V.close();return}V.onPull=()=>{k.read().then(function({value:_,done:l}){if(l){V.close();return}(0,_util.assert)(_ instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),V.enqueue(new Uint8Array(_),1,[_])}).catch(_=>{V.error(_)})},V.onCancel=_=>{k.cancel(_),V.ready.catch(l=>{if(!this.destroyed)throw l})}}),b.on("GetDoc",({pdfInfo:B})=>{this._numPages=B.numPages,this._htmlForXfa=B.htmlForXfa,delete B.htmlForXfa,L._capability.resolve(new PDFDocumentProxy(B,this))}),b.on("DocException",function(B){let V;switch(B.name){case"PasswordException":V=new _util.PasswordException(B.message,B.code);break;case"InvalidPDFException":V=new _util.InvalidPDFException(B.message);break;case"MissingPDFException":V=new _util.MissingPDFException(B.message);break;case"UnexpectedResponseException":V=new _util.UnexpectedResponseException(B.message,B.status);break;case"UnknownErrorException":V=new _util.UnknownErrorException(B.message,B.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}L._capability.reject(V)}),b.on("PasswordRequest",B=>{if(Xe(this,z,new _util.PromiseCapability),L.onPassword){const V=k=>{k instanceof Error?pe(this,z).reject(k):pe(this,z).resolve({password:k})};try{L.onPassword(V,B.code)}catch(k){pe(this,z).reject(k)}}else pe(this,z).reject(new _util.PasswordException(B.message,B.code));return pe(this,z).promise}),b.on("DataLoaded",B=>{var V;(V=L.onProgress)==null||V.call(L,{loaded:B.length,total:B.length}),this.downloadInfoCapability.resolve(B)}),b.on("StartRenderPage",B=>{if(this.destroyed)return;pe(this,t).get(B.pageIndex)._startRenderPage(B.transparency,B.cacheKey)}),b.on("commonobj",([B,V,k])=>{var _;if(!this.destroyed&&!this.commonObjs.has(B))switch(V){case"Font":const l=this._params;if("error"in k){const a=k.error;(0,_util.warn)(`Error during font loading: ${a}`),this.commonObjs.resolve(B,a);break}const x=l.pdfBug&&((_=globalThis.FontInspector)!=null&&_.enabled)?(a,g)=>globalThis.FontInspector.fontAdded(a,g):null,X=new _font_loader.FontFaceObject(k,{isEvalSupported:l.isEvalSupported,disableFontFace:l.disableFontFace,ignoreErrors:l.ignoreErrors,inspectFont:x});this.fontLoader.bind(X).catch(a=>b.sendWithPromise("FontFallback",{id:B})).finally(()=>{!l.fontExtraProperties&&X.data&&(X.data=null),this.commonObjs.resolve(B,X)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(B,k);break;default:throw new Error(`Got unknown common object type ${V}`)}}),b.on("obj",([B,V,k,_])=>{var x;if(this.destroyed)return;const l=pe(this,t).get(V);if(!l.objs.has(B))switch(k){case"Image":if(l.objs.resolve(B,_),_){let X;if(_.bitmap){const{width:a,height:g}=_;X=a*g*4}else X=((x=_.data)==null?void 0:x.length)||0;X>_util.MAX_IMAGE_SIZE_TO_CACHE&&(l._maybeCleanupAfterRender=!0)}break;case"Pattern":l.objs.resolve(B,_);break;default:throw new Error(`Got unknown object type ${k}`)}}),b.on("DocProgress",B=>{var V;this.destroyed||(V=L.onProgress)==null||V.call(L,{loaded:B.loaded,total:B.total})}),b.on("FetchBuiltInCMap",B=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(B):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),b.on("FetchStandardFontData",B=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(B):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var B;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:b,transfers:L}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:b,filename:((B=this._fullReader)==null?void 0:B.filename)??null},L).finally(()=>{this.annotationStorage.resetModified()})}getPage(b){if(!Number.isInteger(b)||b<=0||b>this._numPages)return Promise.reject(new Error("Invalid page request."));const L=b-1,B=pe(this,r).get(L);if(B)return B;const V=this.messageHandler.sendWithPromise("GetPage",{pageIndex:L}).then(k=>{if(this.destroyed)throw new Error("Transport destroyed");const _=new PDFPageProxy(L,k,this,this._params.pdfBug);return pe(this,t).set(L,_),_});return pe(this,r).set(L,V),V}getPageIndex(b){return typeof b!="object"||b===null||!Number.isInteger(b.num)||b.num<0||!Number.isInteger(b.gen)||b.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:b.num,gen:b.gen})}getAnnotations(b,L){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:b,intent:L})}getFieldObjects(){return Ne(this,j,Rn).call(this,"GetFieldObjects")}hasJSActions(){return Ne(this,j,Rn).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(b){return typeof b!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:b})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ne(this,j,Rn).call(this,"GetDocJSActions")}getPageJSActions(b){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:b})}getStructTree(b){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:b})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(b=>new _optional_content_config.OptionalContentConfig(b))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const b="GetMetadata",L=pe(this,e).get(b);if(L)return L;const B=this.messageHandler.sendWithPromise(b,null).then(V=>{var k,_;return{info:V[0],metadata:V[1]?new _metadata.Metadata(V[1]):null,contentDispositionFilename:((k=this._fullReader)==null?void 0:k.filename)??null,contentLength:((_=this._fullReader)==null?void 0:_.contentLength)??null}});return pe(this,e).set(b,B),B}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(b=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const L of pe(this,t).values())if(!L.cleanup())throw new Error(`startCleanup: Page ${L.pageNumber} is currently rendering.`);this.commonObjs.clear(),b||this.fontLoader.clear(),pe(this,e).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:b,enableXfa:L}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:b,enableXfa:L})}}e=new WeakMap,t=new WeakMap,r=new WeakMap,z=new WeakMap,j=new WeakSet,Rn=function(b,L=null){const B=pe(this,e).get(b);if(B)return B;const V=this.messageHandler.sendWithPromise(b,L);return pe(this,e).set(b,V),V};class PDFObjects{constructor(){Me(this,d);Me(this,I,Object.create(null))}get(b,L=null){if(L){const V=Ne(this,d,gi).call(this,b);return V.capability.promise.then(()=>L(V.data)),null}const B=pe(this,I)[b];if(!(B!=null&&B.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${b}.`);return B.data}has(b){const L=pe(this,I)[b];return(L==null?void 0:L.capability.settled)||!1}resolve(b,L=null){const B=Ne(this,d,gi).call(this,b);B.data=L,B.capability.resolve()}clear(){var b;for(const L in pe(this,I)){const{data:B}=pe(this,I)[L];(b=B==null?void 0:B.bitmap)==null||b.close()}Xe(this,I,Object.create(null))}}I=new WeakMap,d=new WeakSet,gi=function(b){var L;return(L=pe(this,I))[b]||(L[b]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(b){Me(this,i,null);Xe(this,i,b),this.onContinue=null}get promise(){return pe(this,i).capability.promise}cancel(b=0){pe(this,i).cancel(null,b)}get separateAnnots(){const{separateAnnots:b}=pe(this,i).operatorList;if(!b)return!1;const{annotationCanvasMap:L}=pe(this,i);return b.form||b.canvas&&(L==null?void 0:L.size)>0}}i=new WeakMap,exports.RenderTask=RenderTask;const C=class C{constructor({callback:b,params:L,objs:B,commonObjs:V,annotationCanvasMap:k,operatorList:_,pageIndex:l,canvasFactory:x,filterFactory:X,useRequestAnimationFrame:a=!1,pdfBug:g=!1,pageColors:P=null}){this.callback=b,this.params=L,this.objs=B,this.commonObjs=V,this.annotationCanvasMap=k,this.operatorListIdx=null,this.operatorList=_,this._pageIndex=l,this.canvasFactory=x,this.filterFactory=X,this._pdfBug=g,this.pageColors=P,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=a===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=L.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:b=!1,optionalContentConfig:L}){var l,x;if(this.cancelled)return;if(this._canvas){if(pe(C,F).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");pe(C,F).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:B,viewport:V,transform:k,background:_}=this.params;this.gfx=new _canvas.CanvasGraphics(B,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:L},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:k,viewport:V,transparency:b,background:_}),this.operatorListIdx=0,this.graphicsReady=!0,(x=this.graphicsReadyCallback)==null||x.call(this)}cancel(b=null,L=0){var B;this.running=!1,this.cancelled=!0,(B=this.gfx)==null||B.endDrawing(),pe(C,F).delete(this._canvas),this.callback(b||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,L))}operatorListChanged(){var b;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(b=this.stepper)==null||b.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),pe(C,F).delete(this._canvas),this.callback())))}};F=new WeakMap,Me(C,F,new WeakSet);let InternalRenderTask=C;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(f,E,de)=>{var n,S,N,is,t;Object.defineProperty(E,"__esModule",{value:!0}),E.SerializableEmpty=E.PrintAnnotationStorage=E.AnnotationStorage=void 0;var ne=de(1),fe=de(4),we=de(8);const xe=Object.freeze({map:null,hash:"",transfers:void 0});E.SerializableEmpty=xe;class m{constructor(){Me(this,N);Me(this,n,!1);Me(this,S,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(z,j){const M=pe(this,S).get(z);return M===void 0?j:Object.assign(j,M)}getRawValue(z){return pe(this,S).get(z)}remove(z){if(pe(this,S).delete(z),pe(this,S).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const j of pe(this,S).values())if(j instanceof fe.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(z,j){const M=pe(this,S).get(z);let I=!1;if(M!==void 0)for(const[d,u]of Object.entries(j))M[d]!==u&&(I=!0,M[d]=u);else I=!0,pe(this,S).set(z,j);I&&Ne(this,N,is).call(this),j instanceof fe.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(j.constructor._type)}has(z){return pe(this,S).has(z)}getAll(){return pe(this,S).size>0?(0,ne.objectFromMap)(pe(this,S)):null}setAll(z){for(const[j,M]of Object.entries(z))this.setValue(j,M)}get size(){return pe(this,S).size}resetModified(){pe(this,n)&&(Xe(this,n,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Q(this)}get serializable(){if(pe(this,S).size===0)return xe;const z=new Map,j=new we.MurmurHash3_64,M=[],I=Object.create(null);let d=!1;for(const[u,i]of pe(this,S)){const F=i instanceof fe.AnnotationEditor?i.serialize(!1,I):i;F&&(z.set(u,F),j.update(`${u}:${JSON.stringify(F)}`),d||(d=!!F.bitmap))}if(d)for(const u of z.values())u.bitmap&&M.push(u.bitmap);return z.size>0?{map:z,hash:j.hexdigest(),transfers:M}:xe}}n=new WeakMap,S=new WeakMap,N=new WeakSet,is=function(){pe(this,n)||(Xe(this,n,!0),typeof this.onSetModified=="function"&&this.onSetModified())},E.AnnotationStorage=m;class Q extends m{constructor(j){super();Me(this,t,void 0);const{map:M,hash:I,transfers:d}=j.serializable,u=structuredClone(M,d?{transfer:d}:null);Xe(this,t,{map:u,hash:I,transfers:d})}get print(){(0,ne.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return pe(this,t)}}t=new WeakMap,E.PrintAnnotationStorage=Q},(f,E,de)=>{var Q,n,S,N,e,t,r,z,j,M,I,d,u,i,F,pi,T,mi,L,xi,V,bi,_,ss,x,as,a,rs,P,yi,D,os;Object.defineProperty(E,"__esModule",{value:!0}),E.AnnotationEditor=void 0;var ne=de(5),fe=de(1),we=de(6);const A=class A{constructor(o){Me(this,F);Me(this,T);Me(this,V);Me(this,_);Me(this,x);Me(this,a);Me(this,P);Me(this,D);Me(this,Q,"");Me(this,n,!1);Me(this,S,null);Me(this,N,null);Me(this,e,null);Me(this,t,!1);Me(this,r,null);Me(this,z,this.focusin.bind(this));Me(this,j,this.focusout.bind(this));Me(this,M,!1);Me(this,I,!1);Me(this,d,!1);Dt(this,"_initialOptions",Object.create(null));Dt(this,"_uiManager",null);Dt(this,"_focusEventsAllowed",!0);Dt(this,"_l10nPromise",null);Me(this,u,!1);Me(this,i,A._zIndex++);this.constructor===A&&(0,fe.unreachable)("Cannot initialize AnnotationEditor."),this.parent=o.parent,this.id=o.id,this.width=this.height=null,this.pageIndex=o.parent.pageIndex,this.name=o.name,this.div=null,this._uiManager=o.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=o.isCentered,this._structTreeParentId=null;const{rotation:y,rawDims:{pageWidth:c,pageHeight:h,pageX:O,pageY:W}}=this.parent.viewport;this.rotation=y,this.pageRotation=(360+y-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[c,h],this.pageTranslation=[O,W];const[R,H]=this.parentDimensions;this.x=o.x/R,this.y=o.y/H,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,fe.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(o){const y=new m({id:o.parent.getNextId(),parent:o.parent,uiManager:o._uiManager});y.annotationElementId=o.annotationElementId,y.deleted=!0,y._uiManager.addToAnnotationStorage(y)}static initialize(o,y=null){if(A._l10nPromise||(A._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(h=>[h,o.get(h)]))),y!=null&&y.strings)for(const h of y.strings)A._l10nPromise.set(h,o.get(h));if(A._borderLineWidth!==-1)return;const c=getComputedStyle(document.documentElement);A._borderLineWidth=parseFloat(c.getPropertyValue("--outline-width"))||0}static updateDefaultParams(o,y){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(o){return!1}static paste(o,y){(0,fe.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return pe(this,u)}set _isDraggable(o){var y;Xe(this,u,o),(y=this.div)==null||y.classList.toggle("draggable",o)}center(){const[o,y]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*y/(o*2),this.y+=this.width*o/(y*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*y/(o*2),this.y-=this.width*o/(y*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(o){this._uiManager.addCommands(o)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=pe(this,i)}setParent(o){o!==null&&(this.pageIndex=o.pageIndex,this.pageDimensions=o.pageDimensions),this.parent=o}focusin(o){this._focusEventsAllowed&&(pe(this,M)?Xe(this,M,!1):this.parent.setSelected(this))}focusout(o){var c;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const y=o.relatedTarget;y!=null&&y.closest(`#${this.id}`)||(o.preventDefault(),(c=this.parent)!=null&&c.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(o,y,c,h){const[O,W]=this.parentDimensions;[c,h]=this.screenToPageTranslation(c,h),this.x=(o+c)/O,this.y=(y+h)/W,this.fixAndSetPosition()}translate(o,y){Ne(this,F,pi).call(this,this.parentDimensions,o,y)}translateInPage(o,y){Ne(this,F,pi).call(this,this.pageDimensions,o,y),this.div.scrollIntoView({block:"nearest"})}drag(o,y){const[c,h]=this.parentDimensions;if(this.x+=o/c,this.y+=y/h,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:ae,y:q}=this.div.getBoundingClientRect();this.parent.findNewParent(this,ae,q)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:O,y:W}=this;const[R,H]=Ne(this,T,mi).call(this);O+=R,W+=H,this.div.style.left=`${(100*O).toFixed(2)}%`,this.div.style.top=`${(100*W).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[o,y]=this.pageDimensions;let{x:c,y:h,width:O,height:W}=this;switch(O*=o,W*=y,c*=o,h*=y,this.rotation){case 0:c=Math.max(0,Math.min(o-O,c)),h=Math.max(0,Math.min(y-W,h));break;case 90:c=Math.max(0,Math.min(o-W,c)),h=Math.min(y,Math.max(O,h));break;case 180:c=Math.min(o,Math.max(O,c)),h=Math.min(y,Math.max(W,h));break;case 270:c=Math.min(o,Math.max(W,c)),h=Math.max(0,Math.min(y-O,h));break}this.x=c/=o,this.y=h/=y;const[R,H]=Ne(this,T,mi).call(this);c+=R,h+=H;const{style:ae}=this.div;ae.left=`${(100*c).toFixed(2)}%`,ae.top=`${(100*h).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(o,y){var c;return Ne(c=A,L,xi).call(c,o,y,this.parentRotation)}pageTranslationToScreen(o,y){var c;return Ne(c=A,L,xi).call(c,o,y,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:o,pageDimensions:[y,c]}=this,h=y*o,O=c*o;return fe.FeatureTest.isCSSRoundSupported?[Math.round(h),Math.round(O)]:[h,O]}setDims(o,y){var O;const[c,h]=this.parentDimensions;this.div.style.width=`${(100*o/c).toFixed(2)}%`,pe(this,t)||(this.div.style.height=`${(100*y/h).toFixed(2)}%`),(O=pe(this,S))==null||O.classList.toggle("small",o<A.SMALL_EDITOR_SIZE||y<A.SMALL_EDITOR_SIZE)}fixDims(){const{style:o}=this.div,{height:y,width:c}=o,h=c.endsWith("%"),O=!pe(this,t)&&y.endsWith("%");if(h&&O)return;const[W,R]=this.parentDimensions;h||(o.width=`${(100*parseFloat(c)/W).toFixed(2)}%`),!pe(this,t)&&!O&&(o.height=`${(100*parseFloat(y)/R).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(pe(this,S))return;const o=Xe(this,S,document.createElement("button"));o.className="altText";const y=await A._l10nPromise.get("editor_alt_text_button_label");o.textContent=y,o.setAttribute("aria-label",y),o.tabIndex="0",o.addEventListener("contextmenu",we.noContextMenu),o.addEventListener("pointerdown",c=>c.stopPropagation()),o.addEventListener("click",c=>{c.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),o.addEventListener("keydown",c=>{c.target===o&&c.key==="Enter"&&(c.preventDefault(),this._uiManager.editAltText(this))}),Ne(this,P,yi).call(this),this.div.append(o),A.SMALL_EDITOR_SIZE||(A.SMALL_EDITOR_SIZE=Math.min(128,Math.round(o.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:pe(this,Q),decorative:pe(this,n)}}set altTextData({altText:o,decorative:y}){pe(this,Q)===o&&pe(this,n)===y||(Xe(this,Q,o),Xe(this,n,y),Ne(this,P,yi).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",pe(this,z)),this.div.addEventListener("focusout",pe(this,j));const[o,y]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*y/o).toFixed(2)}%`,this.div.style.maxHeight=`${(100*o/y).toFixed(2)}%`);const[c,h]=this.getInitialTranslation();return this.translate(c,h),(0,ne.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(o){const{isMac:y}=fe.FeatureTest.platform;if(o.button!==0||o.ctrlKey&&y){o.preventDefault();return}Xe(this,M,!0),Ne(this,D,os).call(this,o)}moveInDOM(){var o;(o=this.parent)==null||o.moveEditorInDOM(this)}_setParentAndPosition(o,y,c){o.changeParent(this),this.x=y,this.y=c,this.fixAndSetPosition()}getRect(o,y){const c=this.parentScale,[h,O]=this.pageDimensions,[W,R]=this.pageTranslation,H=o/c,ae=y/c,q=this.x*h,ce=this.y*O,ee=this.width*h,se=this.height*O;switch(this.rotation){case 0:return[q+H+W,O-ce-ae-se+R,q+H+ee+W,O-ce-ae+R];case 90:return[q+ae+W,O-ce+H+R,q+ae+se+W,O-ce+H+ee+R];case 180:return[q-H-ee+W,O-ce+ae+R,q-H+W,O-ce+ae+se+R];case 270:return[q-ae-se+W,O-ce-H-ee+R,q-ae+W,O-ce-H+R];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(o,y){const[c,h,O,W]=o,R=O-c,H=W-h;switch(this.rotation){case 0:return[c,y-W,R,H];case 90:return[c,y-h,H,R];case 180:return[O,y-h,R,H];case 270:return[O,y-W,H,R];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Xe(this,d,!0)}disableEditMode(){Xe(this,d,!1)}isInEditMode(){return pe(this,d)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var o,y;(o=this.div)==null||o.addEventListener("focusin",pe(this,z)),(y=this.div)==null||y.addEventListener("focusout",pe(this,j))}serialize(o=!1,y=null){(0,fe.unreachable)("An editor must be serializable")}static deserialize(o,y,c){const h=new this.prototype.constructor({parent:y,id:y.getNextId(),uiManager:c});h.rotation=o.rotation;const[O,W]=h.pageDimensions,[R,H,ae,q]=h.getRectInCurrentCoords(o.rect,W);return h.x=R/O,h.y=H/W,h.width=ae/O,h.height=q/W,h}remove(){var o;this.div.removeEventListener("focusin",pe(this,z)),this.div.removeEventListener("focusout",pe(this,j)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(o=pe(this,S))==null||o.remove(),Xe(this,S,null),Xe(this,N,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ne(this,_,ss).call(this),pe(this,r).classList.remove("hidden"))}select(){var o;this.makeResizable(),(o=this.div)==null||o.classList.add("selectedEditor")}unselect(){var o,y,c;(o=pe(this,r))==null||o.classList.add("hidden"),(y=this.div)==null||y.classList.remove("selectedEditor"),(c=this.div)!=null&&c.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(o,y){}disableEditing(){pe(this,S)&&(pe(this,S).hidden=!0)}enableEditing(){pe(this,S)&&(pe(this,S).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return pe(this,I)}set isEditing(o){Xe(this,I,o),this.parent&&(o?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(o,y){Xe(this,t,!0);const c=o/y,{style:h}=this.div;h.aspectRatio=c,h.height="auto"}static get MIN_SIZE(){return 16}};Q=new WeakMap,n=new WeakMap,S=new WeakMap,N=new WeakMap,e=new WeakMap,t=new WeakMap,r=new WeakMap,z=new WeakMap,j=new WeakMap,M=new WeakMap,I=new WeakMap,d=new WeakMap,u=new WeakMap,i=new WeakMap,F=new WeakSet,pi=function([o,y],c,h){[c,h]=this.screenToPageTranslation(c,h),this.x+=c/o,this.y+=h/y,this.fixAndSetPosition()},T=new WeakSet,mi=function(){const[o,y]=this.parentDimensions,{_borderLineWidth:c}=A,h=c/o,O=c/y;switch(this.rotation){case 90:return[-h,O];case 180:return[h,O];case 270:return[h,-O];default:return[-h,-O]}},L=new WeakSet,xi=function(o,y,c){switch(c){case 90:return[y,-o];case 180:return[-o,-y];case 270:return[-y,o];default:return[o,y]}},V=new WeakSet,bi=function(o){switch(o){case 90:{const[y,c]=this.pageDimensions;return[0,-y/c,c/y,0]}case 180:return[-1,0,0,-1];case 270:{const[y,c]=this.pageDimensions;return[0,y/c,-c/y,0]}default:return[1,0,0,1]}},_=new WeakSet,ss=function(){if(pe(this,r))return;Xe(this,r,document.createElement("div")),pe(this,r).classList.add("resizers");const o=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||o.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const y of o){const c=document.createElement("div");pe(this,r).append(c),c.classList.add("resizer",y),c.addEventListener("pointerdown",Ne(this,x,as).bind(this,y)),c.addEventListener("contextmenu",we.noContextMenu)}this.div.prepend(pe(this,r))},x=new WeakSet,as=function(o,y){y.preventDefault();const{isMac:c}=fe.FeatureTest.platform;if(y.button!==0||y.ctrlKey&&c)return;const h=Ne(this,a,rs).bind(this,o),O=this._isDraggable;this._isDraggable=!1;const W={passive:!0,capture:!0};window.addEventListener("pointermove",h,W);const R=this.x,H=this.y,ae=this.width,q=this.height,ce=this.parent.div.style.cursor,ee=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(y.target).cursor;const se=()=>{this._isDraggable=O,window.removeEventListener("pointerup",se),window.removeEventListener("blur",se),window.removeEventListener("pointermove",h,W),this.parent.div.style.cursor=ce,this.div.style.cursor=ee;const $=this.x,U=this.y,K=this.width,J=this.height;$===R&&U===H&&K===ae&&J===q||this.addCommands({cmd:()=>{this.width=K,this.height=J,this.x=$,this.y=U;const[Y,ie]=this.parentDimensions;this.setDims(Y*K,ie*J),this.fixAndSetPosition()},undo:()=>{this.width=ae,this.height=q,this.x=R,this.y=H;const[Y,ie]=this.parentDimensions;this.setDims(Y*ae,ie*q),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",se),window.addEventListener("blur",se)},a=new WeakSet,rs=function(o,y){const[c,h]=this.parentDimensions,O=this.x,W=this.y,R=this.width,H=this.height,ae=A.MIN_SIZE/c,q=A.MIN_SIZE/h,ce=ke=>Math.round(ke*1e4)/1e4,ee=Ne(this,V,bi).call(this,this.rotation),se=(ke,_e)=>[ee[0]*ke+ee[2]*_e,ee[1]*ke+ee[3]*_e],$=Ne(this,V,bi).call(this,360-this.rotation),U=(ke,_e)=>[$[0]*ke+$[2]*_e,$[1]*ke+$[3]*_e];let K,J,Y=!1,ie=!1;switch(o){case"topLeft":Y=!0,K=(ke,_e)=>[0,0],J=(ke,_e)=>[ke,_e];break;case"topMiddle":K=(ke,_e)=>[ke/2,0],J=(ke,_e)=>[ke/2,_e];break;case"topRight":Y=!0,K=(ke,_e)=>[ke,0],J=(ke,_e)=>[0,_e];break;case"middleRight":ie=!0,K=(ke,_e)=>[ke,_e/2],J=(ke,_e)=>[0,_e/2];break;case"bottomRight":Y=!0,K=(ke,_e)=>[ke,_e],J=(ke,_e)=>[0,0];break;case"bottomMiddle":K=(ke,_e)=>[ke/2,_e],J=(ke,_e)=>[ke/2,0];break;case"bottomLeft":Y=!0,K=(ke,_e)=>[0,_e],J=(ke,_e)=>[ke,0];break;case"middleLeft":ie=!0,K=(ke,_e)=>[0,_e/2],J=(ke,_e)=>[ke,_e/2];break}const re=K(R,H),Z=J(R,H);let he=se(...Z);const le=ce(O+he[0]),te=ce(W+he[1]);let ue=1,ge=1,[ye,Ee]=this.screenToPageTranslation(y.movementX,y.movementY);if([ye,Ee]=U(ye/c,Ee/h),Y){const ke=Math.hypot(R,H);ue=ge=Math.max(Math.min(Math.hypot(Z[0]-re[0]-ye,Z[1]-re[1]-Ee)/ke,1/R,1/H),ae/R,q/H)}else ie?ue=Math.max(ae,Math.min(1,Math.abs(Z[0]-re[0]-ye)))/R:ge=Math.max(q,Math.min(1,Math.abs(Z[1]-re[1]-Ee)))/H;const Oe=ce(R*ue),ve=ce(H*ge);he=se(...J(Oe,ve));const Se=le-he[0],Ae=te-he[1];this.width=Oe,this.height=ve,this.x=Se,this.y=Ae,this.setDims(c*Oe,h*ve),this.fixAndSetPosition()},P=new WeakSet,yi=async function(){var c;const o=pe(this,S);if(!o)return;if(!pe(this,Q)&&!pe(this,n)){o.classList.remove("done"),(c=pe(this,N))==null||c.remove();return}A._l10nPromise.get("editor_alt_text_edit_button_label").then(h=>{o.setAttribute("aria-label",h)});let y=pe(this,N);if(!y){Xe(this,N,y=document.createElement("span")),y.className="tooltip",y.setAttribute("role","tooltip");const h=y.id=`alt-text-tooltip-${this.id}`;o.setAttribute("aria-describedby",h);const O=100;o.addEventListener("mouseenter",()=>{Xe(this,e,setTimeout(()=>{Xe(this,e,null),pe(this,N).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},O))}),o.addEventListener("mouseleave",()=>{var W;clearTimeout(pe(this,e)),Xe(this,e,null),(W=pe(this,N))==null||W.classList.remove("show")})}o.classList.add("done"),y.innerText=pe(this,n)?await A._l10nPromise.get("editor_alt_text_decorative_tooltip"):pe(this,Q),y.parentNode||o.append(y)},D=new WeakSet,os=function(o){if(!this._isDraggable)return;const y=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let c,h;y&&(c={passive:!0,capture:!0},h=W=>{const[R,H]=this.screenToPageTranslation(W.movementX,W.movementY);this._uiManager.dragSelectedEditors(R,H)},window.addEventListener("pointermove",h,c));const O=()=>{if(window.removeEventListener("pointerup",O),window.removeEventListener("blur",O),y&&window.removeEventListener("pointermove",h,c),Xe(this,M,!1),!this._uiManager.endDragSession()){const{isMac:W}=fe.FeatureTest.platform;o.ctrlKey&&!W||o.shiftKey||o.metaKey&&W?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",O),window.addEventListener("blur",O)},Me(A,L),Dt(A,"_borderLineWidth",-1),Dt(A,"_colorManager",new ne.ColorManager),Dt(A,"_zIndex",1),Dt(A,"SMALL_EDITOR_SIZE",0);let xe=A;E.AnnotationEditor=xe;class m extends xe{constructor(o){super(o),this.annotationElementId=o.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(f,E,de)=>{var t,r,z,j,M,wi,u,i,F,C,T,cs,B,V,k,_,l,x,X,a,g,P,G,D,w,A,v,o,y,c,h,O,W,R,H,ae,q,ce,ee,se,$,U,K,J,Y,ie,re,ls,he,Ai,te,Si,ge,Dn,Ee,vi,ve,Ci,Ae,Zt,_e,Sn,Re,hs,Ce,us,Pe,ki,We,vn,Le,Fi;Object.defineProperty(E,"__esModule",{value:!0}),E.KeyboardManager=E.CommandManager=E.ColorManager=E.AnnotationEditorUIManager=void 0,E.bindEvents=we,E.opacityToHex=xe;var ne=de(1),fe=de(6);function we(Fe,me,Te){for(const Ie of Te)me.addEventListener(Ie,Fe[Ie].bind(Fe))}function xe(Fe){return Math.round(Math.min(255,Math.max(1,255*Fe))).toString(16).padStart(2,"0")}class m{constructor(){Me(this,t,0)}getId(){return`${ne.AnnotationEditorPrefix}${An(this,t)._++}`}}t=new WeakMap;const d=class d{constructor(){Me(this,M);Me(this,r,(0,ne.getUuid)());Me(this,z,0);Me(this,j,null)}static get _isSVGFittingCanvas(){const me='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Ie=new OffscreenCanvas(1,3).getContext("2d"),De=new Image;De.src=me;const Be=De.decode().then(()=>(Ie.drawImage(De,0,0,1,1,0,0,1,3),new Uint32Array(Ie.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,ne.shadow)(this,"_isSVGFittingCanvas",Be)}async getFromFile(me){const{lastModified:Te,name:Ie,size:De,type:Be}=me;return Ne(this,M,wi).call(this,`${Te}_${Ie}_${De}_${Be}`,me)}async getFromUrl(me){return Ne(this,M,wi).call(this,me,me)}async getFromId(me){pe(this,j)||Xe(this,j,new Map);const Te=pe(this,j).get(me);return Te?Te.bitmap?(Te.refCounter+=1,Te):Te.file?this.getFromFile(Te.file):this.getFromUrl(Te.url):null}getSvgUrl(me){const Te=pe(this,j).get(me);return Te!=null&&Te.isSvg?Te.svgUrl:null}deleteId(me){pe(this,j)||Xe(this,j,new Map);const Te=pe(this,j).get(me);Te&&(Te.refCounter-=1,Te.refCounter===0&&(Te.bitmap=null))}isValidId(me){return me.startsWith(`image_${pe(this,r)}_`)}};r=new WeakMap,z=new WeakMap,j=new WeakMap,M=new WeakSet,wi=async function(me,Te){pe(this,j)||Xe(this,j,new Map);let Ie=pe(this,j).get(me);if(Ie===null)return null;if(Ie!=null&&Ie.bitmap)return Ie.refCounter+=1,Ie;try{Ie||(Ie={bitmap:null,id:`image_${pe(this,r)}_${An(this,z)._++}`,refCounter:0,isSvg:!1});let De;if(typeof Te=="string"){Ie.url=Te;const Be=await fetch(Te);if(!Be.ok)throw new Error(Be.statusText);De=await Be.blob()}else De=Ie.file=Te;if(De.type==="image/svg+xml"){const Be=d._isSVGFittingCanvas,Ue=new FileReader,Ze=new Image,Ke=new Promise((qe,tt)=>{Ze.onload=()=>{Ie.bitmap=Ze,Ie.isSvg=!0,qe()},Ue.onload=async()=>{const it=Ie.svgUrl=Ue.result;Ze.src=await Be?`${it}#svgView(preserveAspectRatio(none))`:it},Ze.onerror=Ue.onerror=tt});Ue.readAsDataURL(De),await Ke}else Ie.bitmap=await createImageBitmap(De);Ie.refCounter=1}catch(De){console.error(De),Ie=null}return pe(this,j).set(me,Ie),Ie&&pe(this,j).set(Ie.id,Ie),Ie};let Q=d;class n{constructor(me=128){Me(this,u,[]);Me(this,i,!1);Me(this,F,void 0);Me(this,C,-1);Xe(this,F,me)}add({cmd:me,undo:Te,mustExec:Ie,type:De=NaN,overwriteIfSameType:Be=!1,keepUndo:Ue=!1}){if(Ie&&me(),pe(this,i))return;const Ze={cmd:me,undo:Te,type:De};if(pe(this,C)===-1){pe(this,u).length>0&&(pe(this,u).length=0),Xe(this,C,0),pe(this,u).push(Ze);return}if(Be&&pe(this,u)[pe(this,C)].type===De){Ue&&(Ze.undo=pe(this,u)[pe(this,C)].undo),pe(this,u)[pe(this,C)]=Ze;return}const Ke=pe(this,C)+1;Ke===pe(this,F)?pe(this,u).splice(0,1):(Xe(this,C,Ke),Ke<pe(this,u).length&&pe(this,u).splice(Ke)),pe(this,u).push(Ze)}undo(){pe(this,C)!==-1&&(Xe(this,i,!0),pe(this,u)[pe(this,C)].undo(),Xe(this,i,!1),Xe(this,C,pe(this,C)-1))}redo(){pe(this,C)<pe(this,u).length-1&&(Xe(this,C,pe(this,C)+1),Xe(this,i,!0),pe(this,u)[pe(this,C)].cmd(),Xe(this,i,!1))}hasSomethingToUndo(){return pe(this,C)!==-1}hasSomethingToRedo(){return pe(this,C)<pe(this,u).length-1}destroy(){Xe(this,u,null)}}u=new WeakMap,i=new WeakMap,F=new WeakMap,C=new WeakMap,E.CommandManager=n;class S{constructor(me){Me(this,T);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Te}=ne.FeatureTest.platform;for(const[Ie,De,Be={}]of me)for(const Ue of Ie){const Ze=Ue.startsWith("mac+");Te&&Ze?(this.callbacks.set(Ue.slice(4),{callback:De,options:Be}),this.allKeys.add(Ue.split("+").at(-1))):!Te&&!Ze&&(this.callbacks.set(Ue,{callback:De,options:Be}),this.allKeys.add(Ue.split("+").at(-1)))}}exec(me,Te){if(!this.allKeys.has(Te.key))return;const Ie=this.callbacks.get(Ne(this,T,cs).call(this,Te));if(!Ie)return;const{callback:De,options:{bubbles:Be=!1,args:Ue=[],checker:Ze=null}}=Ie;Ze&&!Ze(me,Te)||(De.bind(me,...Ue)(),Be||(Te.stopPropagation(),Te.preventDefault()))}}T=new WeakSet,cs=function(me){me.altKey&&this.buffer.push("alt"),me.ctrlKey&&this.buffer.push("ctrl"),me.metaKey&&this.buffer.push("meta"),me.shiftKey&&this.buffer.push("shift"),this.buffer.push(me.key);const Te=this.buffer.join("+");return this.buffer.length=0,Te},E.KeyboardManager=S;const L=class L{get _colors(){const me=new Map([["CanvasText",null],["Canvas",null]]);return(0,fe.getColorValues)(me),(0,ne.shadow)(this,"_colors",me)}convert(me){const Te=(0,fe.getRGB)(me);if(!window.matchMedia("(forced-colors: active)").matches)return Te;for(const[Ie,De]of this._colors)if(De.every((Be,Ue)=>Be===Te[Ue]))return L._colorsMapping.get(Ie);return Te}getHexCode(me){const Te=this._colors.get(me);return Te?ne.Util.makeHexColor(...Te):me}};Dt(L,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let N=L;E.ColorManager=N;const Qe=class Qe{constructor(me,Te,Ie,De,Be,Ue){Me(this,re);Me(this,he);Me(this,te);Me(this,ge);Me(this,Ee);Me(this,ve);Me(this,Ae);Me(this,_e);Me(this,Re);Me(this,Ce);Me(this,Pe);Me(this,We);Me(this,Le);Me(this,B,null);Me(this,V,new Map);Me(this,k,new Map);Me(this,_,null);Me(this,l,null);Me(this,x,new n);Me(this,X,0);Me(this,a,new Set);Me(this,g,null);Me(this,P,null);Me(this,G,new Set);Me(this,D,null);Me(this,w,new m);Me(this,A,!1);Me(this,v,!1);Me(this,o,null);Me(this,y,ne.AnnotationEditorType.NONE);Me(this,c,new Set);Me(this,h,null);Me(this,O,this.blur.bind(this));Me(this,W,this.focus.bind(this));Me(this,R,this.copy.bind(this));Me(this,H,this.cut.bind(this));Me(this,ae,this.paste.bind(this));Me(this,q,this.keydown.bind(this));Me(this,ce,this.onEditingAction.bind(this));Me(this,ee,this.onPageChanging.bind(this));Me(this,se,this.onScaleChanging.bind(this));Me(this,$,this.onRotationChanging.bind(this));Me(this,U,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Me(this,K,[0,0]);Me(this,J,null);Me(this,Y,null);Me(this,ie,null);Xe(this,Y,me),Xe(this,ie,Te),Xe(this,_,Ie),this._eventBus=De,this._eventBus._on("editingaction",pe(this,ce)),this._eventBus._on("pagechanging",pe(this,ee)),this._eventBus._on("scalechanging",pe(this,se)),this._eventBus._on("rotationchanging",pe(this,$)),Xe(this,l,Be.annotationStorage),Xe(this,D,Be.filterFactory),Xe(this,h,Ue),this.viewParameters={realScale:fe.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const me=Qe.prototype,Te=Be=>{const{activeElement:Ue}=document;return Ue&&pe(Be,Y).contains(Ue)&&Be.hasSomethingToControl()},Ie=this.TRANSLATE_SMALL,De=this.TRANSLATE_BIG;return(0,ne.shadow)(this,"_keyboardManager",new S([[["ctrl+a","mac+meta+a"],me.selectAll],[["ctrl+z","mac+meta+z"],me.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],me.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],me.delete],[["Escape","mac+Escape"],me.unselectAll],[["ArrowLeft","mac+ArrowLeft"],me.translateSelectedEditors,{args:[-Ie,0],checker:Te}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],me.translateSelectedEditors,{args:[-De,0],checker:Te}],[["ArrowRight","mac+ArrowRight"],me.translateSelectedEditors,{args:[Ie,0],checker:Te}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],me.translateSelectedEditors,{args:[De,0],checker:Te}],[["ArrowUp","mac+ArrowUp"],me.translateSelectedEditors,{args:[0,-Ie],checker:Te}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],me.translateSelectedEditors,{args:[0,-De],checker:Te}],[["ArrowDown","mac+ArrowDown"],me.translateSelectedEditors,{args:[0,Ie],checker:Te}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],me.translateSelectedEditors,{args:[0,De],checker:Te}]]))}destroy(){Ne(this,ge,Dn).call(this),Ne(this,he,Ai).call(this),this._eventBus._off("editingaction",pe(this,ce)),this._eventBus._off("pagechanging",pe(this,ee)),this._eventBus._off("scalechanging",pe(this,se)),this._eventBus._off("rotationchanging",pe(this,$));for(const me of pe(this,k).values())me.destroy();pe(this,k).clear(),pe(this,V).clear(),pe(this,G).clear(),Xe(this,B,null),pe(this,c).clear(),pe(this,x).destroy(),pe(this,_).destroy()}get hcmFilter(){return(0,ne.shadow)(this,"hcmFilter",pe(this,h)?pe(this,D).addHCMFilter(pe(this,h).foreground,pe(this,h).background):"none")}get direction(){return(0,ne.shadow)(this,"direction",getComputedStyle(pe(this,Y)).direction)}editAltText(me){var Te;(Te=pe(this,_))==null||Te.editAltText(this,me)}onPageChanging({pageNumber:me}){Xe(this,X,me-1)}focusMainContainer(){pe(this,Y).focus()}findParent(me,Te){for(const Ie of pe(this,k).values()){const{x:De,y:Be,width:Ue,height:Ze}=Ie.div.getBoundingClientRect();if(me>=De&&me<=De+Ue&&Te>=Be&&Te<=Be+Ze)return Ie}return null}disableUserSelect(me=!1){pe(this,ie).classList.toggle("noUserSelect",me)}addShouldRescale(me){pe(this,G).add(me)}removeShouldRescale(me){pe(this,G).delete(me)}onScaleChanging({scale:me}){this.commitOrRemove(),this.viewParameters.realScale=me*fe.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Te of pe(this,G))Te.onScaleChanging()}onRotationChanging({pagesRotation:me}){this.commitOrRemove(),this.viewParameters.rotation=me}addToAnnotationStorage(me){!me.isEmpty()&&pe(this,l)&&!pe(this,l).has(me.id)&&pe(this,l).setValue(me.id,me)}blur(){if(!this.hasSelection)return;const{activeElement:me}=document;for(const Te of pe(this,c))if(Te.div.contains(me)){Xe(this,o,[Te,me]),Te._focusEventsAllowed=!1;break}}focus(){if(!pe(this,o))return;const[me,Te]=pe(this,o);Xe(this,o,null),Te.addEventListener("focusin",()=>{me._focusEventsAllowed=!0},{once:!0}),Te.focus()}addEditListeners(){Ne(this,te,Si).call(this),Ne(this,Ee,vi).call(this)}removeEditListeners(){Ne(this,ge,Dn).call(this),Ne(this,ve,Ci).call(this)}copy(me){var Ie;if(me.preventDefault(),(Ie=pe(this,B))==null||Ie.commitOrRemove(),!this.hasSelection)return;const Te=[];for(const De of pe(this,c)){const Be=De.serialize(!0);Be&&Te.push(Be)}Te.length!==0&&me.clipboardData.setData("application/pdfjs",JSON.stringify(Te))}cut(me){this.copy(me),this.delete()}paste(me){me.preventDefault();const{clipboardData:Te}=me;for(const Be of Te.items)for(const Ue of pe(this,P))if(Ue.isHandlingMimeForPasting(Be.type)){Ue.paste(Be,this.currentLayer);return}let Ie=Te.getData("application/pdfjs");if(!Ie)return;try{Ie=JSON.parse(Ie)}catch(Be){(0,ne.warn)(`paste: "${Be.message}".`);return}if(!Array.isArray(Ie))return;this.unselectAll();const De=this.currentLayer;try{const Be=[];for(const Ke of Ie){const qe=De.deserialize(Ke);if(!qe)return;Be.push(qe)}const Ue=()=>{for(const Ke of Be)Ne(this,Pe,ki).call(this,Ke);Ne(this,Le,Fi).call(this,Be)},Ze=()=>{for(const Ke of Be)Ke.remove()};this.addCommands({cmd:Ue,undo:Ze,mustExec:!0})}catch(Be){(0,ne.warn)(`paste: "${Be.message}".`)}}keydown(me){var Te;(Te=this.getActive())!=null&&Te.shouldGetKeyboardEvents()||Qe._keyboardManager.exec(this,me)}onEditingAction(me){["undo","redo","delete","selectAll"].includes(me.name)&&this[me.name]()}setEditingState(me){me?(Ne(this,re,ls).call(this),Ne(this,te,Si).call(this),Ne(this,Ee,vi).call(this),Ne(this,Ae,Zt).call(this,{isEditing:pe(this,y)!==ne.AnnotationEditorType.NONE,isEmpty:Ne(this,We,vn).call(this),hasSomethingToUndo:pe(this,x).hasSomethingToUndo(),hasSomethingToRedo:pe(this,x).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ne(this,he,Ai).call(this),Ne(this,ge,Dn).call(this),Ne(this,ve,Ci).call(this),Ne(this,Ae,Zt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(me){if(!pe(this,P)){Xe(this,P,me);for(const Te of pe(this,P))Ne(this,_e,Sn).call(this,Te.defaultPropertiesToUpdate)}}getId(){return pe(this,w).getId()}get currentLayer(){return pe(this,k).get(pe(this,X))}getLayer(me){return pe(this,k).get(me)}get currentPageIndex(){return pe(this,X)}addLayer(me){pe(this,k).set(me.pageIndex,me),pe(this,A)?me.enable():me.disable()}removeLayer(me){pe(this,k).delete(me.pageIndex)}updateMode(me,Te=null){if(pe(this,y)!==me){if(Xe(this,y,me),me===ne.AnnotationEditorType.NONE){this.setEditingState(!1),Ne(this,Ce,us).call(this);return}this.setEditingState(!0),Ne(this,Re,hs).call(this),this.unselectAll();for(const Ie of pe(this,k).values())Ie.updateMode(me);if(Te){for(const Ie of pe(this,V).values())if(Ie.annotationElementId===Te){this.setSelected(Ie),Ie.enterInEditMode();break}}}}updateToolbar(me){me!==pe(this,y)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:me})}updateParams(me,Te){if(pe(this,P)){if(me===ne.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(me);return}for(const Ie of pe(this,c))Ie.updateParams(me,Te);for(const Ie of pe(this,P))Ie.updateDefaultParams(me,Te)}}enableWaiting(me=!1){if(pe(this,v)!==me){Xe(this,v,me);for(const Te of pe(this,k).values())me?Te.disableClick():Te.enableClick(),Te.div.classList.toggle("waiting",me)}}getEditors(me){const Te=[];for(const Ie of pe(this,V).values())Ie.pageIndex===me&&Te.push(Ie);return Te}getEditor(me){return pe(this,V).get(me)}addEditor(me){pe(this,V).set(me.id,me)}removeEditor(me){var Te;pe(this,V).delete(me.id),this.unselect(me),(!me.annotationElementId||!pe(this,a).has(me.annotationElementId))&&((Te=pe(this,l))==null||Te.remove(me.id))}addDeletedAnnotationElement(me){pe(this,a).add(me.annotationElementId),me.deleted=!0}isDeletedAnnotationElement(me){return pe(this,a).has(me)}removeDeletedAnnotationElement(me){pe(this,a).delete(me.annotationElementId),me.deleted=!1}setActiveEditor(me){pe(this,B)!==me&&(Xe(this,B,me),me&&Ne(this,_e,Sn).call(this,me.propertiesToUpdate))}toggleSelected(me){if(pe(this,c).has(me)){pe(this,c).delete(me),me.unselect(),Ne(this,Ae,Zt).call(this,{hasSelectedEditor:this.hasSelection});return}pe(this,c).add(me),me.select(),Ne(this,_e,Sn).call(this,me.propertiesToUpdate),Ne(this,Ae,Zt).call(this,{hasSelectedEditor:!0})}setSelected(me){for(const Te of pe(this,c))Te!==me&&Te.unselect();pe(this,c).clear(),pe(this,c).add(me),me.select(),Ne(this,_e,Sn).call(this,me.propertiesToUpdate),Ne(this,Ae,Zt).call(this,{hasSelectedEditor:!0})}isSelected(me){return pe(this,c).has(me)}unselect(me){me.unselect(),pe(this,c).delete(me),Ne(this,Ae,Zt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return pe(this,c).size!==0}undo(){pe(this,x).undo(),Ne(this,Ae,Zt).call(this,{hasSomethingToUndo:pe(this,x).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ne(this,We,vn).call(this)})}redo(){pe(this,x).redo(),Ne(this,Ae,Zt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:pe(this,x).hasSomethingToRedo(),isEmpty:Ne(this,We,vn).call(this)})}addCommands(me){pe(this,x).add(me),Ne(this,Ae,Zt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ne(this,We,vn).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const me=[...pe(this,c)],Te=()=>{for(const De of me)De.remove()},Ie=()=>{for(const De of me)Ne(this,Pe,ki).call(this,De)};this.addCommands({cmd:Te,undo:Ie,mustExec:!0})}commitOrRemove(){var me;(me=pe(this,B))==null||me.commitOrRemove()}hasSomethingToControl(){return pe(this,B)||this.hasSelection}selectAll(){for(const me of pe(this,c))me.commit();Ne(this,Le,Fi).call(this,pe(this,V).values())}unselectAll(){if(pe(this,B)){pe(this,B).commitOrRemove();return}if(this.hasSelection){for(const me of pe(this,c))me.unselect();pe(this,c).clear(),Ne(this,Ae,Zt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(me,Te,Ie=!1){if(Ie||this.commitOrRemove(),!this.hasSelection)return;pe(this,K)[0]+=me,pe(this,K)[1]+=Te;const[De,Be]=pe(this,K),Ue=[...pe(this,c)],Ze=1e3;pe(this,J)&&clearTimeout(pe(this,J)),Xe(this,J,setTimeout(()=>{Xe(this,J,null),pe(this,K)[0]=pe(this,K)[1]=0,this.addCommands({cmd:()=>{for(const Ke of Ue)pe(this,V).has(Ke.id)&&Ke.translateInPage(De,Be)},undo:()=>{for(const Ke of Ue)pe(this,V).has(Ke.id)&&Ke.translateInPage(-De,-Be)},mustExec:!1})},Ze));for(const Ke of Ue)Ke.translateInPage(me,Te)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Xe(this,g,new Map);for(const me of pe(this,c))pe(this,g).set(me,{savedX:me.x,savedY:me.y,savedPageIndex:me.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!pe(this,g))return!1;this.disableUserSelect(!1);const me=pe(this,g);Xe(this,g,null);let Te=!1;for(const[{x:De,y:Be,pageIndex:Ue},Ze]of me)Ze.newX=De,Ze.newY=Be,Ze.newPageIndex=Ue,Te||(Te=De!==Ze.savedX||Be!==Ze.savedY||Ue!==Ze.savedPageIndex);if(!Te)return!1;const Ie=(De,Be,Ue,Ze)=>{if(pe(this,V).has(De.id)){const Ke=pe(this,k).get(Ze);Ke?De._setParentAndPosition(Ke,Be,Ue):(De.pageIndex=Ze,De.x=Be,De.y=Ue)}};return this.addCommands({cmd:()=>{for(const[De,{newX:Be,newY:Ue,newPageIndex:Ze}]of me)Ie(De,Be,Ue,Ze)},undo:()=>{for(const[De,{savedX:Be,savedY:Ue,savedPageIndex:Ze}]of me)Ie(De,Be,Ue,Ze)},mustExec:!0}),!0}dragSelectedEditors(me,Te){if(pe(this,g))for(const Ie of pe(this,g).keys())Ie.drag(me,Te)}rebuild(me){if(me.parent===null){const Te=this.getLayer(me.pageIndex);Te?(Te.changeParent(me),Te.addOrRebuild(me)):(this.addEditor(me),this.addToAnnotationStorage(me),me.rebuild())}else me.parent.addOrRebuild(me)}isActive(me){return pe(this,B)===me}getActive(){return pe(this,B)}getMode(){return pe(this,y)}get imageManager(){return(0,ne.shadow)(this,"imageManager",new Q)}};B=new WeakMap,V=new WeakMap,k=new WeakMap,_=new WeakMap,l=new WeakMap,x=new WeakMap,X=new WeakMap,a=new WeakMap,g=new WeakMap,P=new WeakMap,G=new WeakMap,D=new WeakMap,w=new WeakMap,A=new WeakMap,v=new WeakMap,o=new WeakMap,y=new WeakMap,c=new WeakMap,h=new WeakMap,O=new WeakMap,W=new WeakMap,R=new WeakMap,H=new WeakMap,ae=new WeakMap,q=new WeakMap,ce=new WeakMap,ee=new WeakMap,se=new WeakMap,$=new WeakMap,U=new WeakMap,K=new WeakMap,J=new WeakMap,Y=new WeakMap,ie=new WeakMap,re=new WeakSet,ls=function(){window.addEventListener("focus",pe(this,W)),window.addEventListener("blur",pe(this,O))},he=new WeakSet,Ai=function(){window.removeEventListener("focus",pe(this,W)),window.removeEventListener("blur",pe(this,O))},te=new WeakSet,Si=function(){window.addEventListener("keydown",pe(this,q),{capture:!0})},ge=new WeakSet,Dn=function(){window.removeEventListener("keydown",pe(this,q),{capture:!0})},Ee=new WeakSet,vi=function(){document.addEventListener("copy",pe(this,R)),document.addEventListener("cut",pe(this,H)),document.addEventListener("paste",pe(this,ae))},ve=new WeakSet,Ci=function(){document.removeEventListener("copy",pe(this,R)),document.removeEventListener("cut",pe(this,H)),document.removeEventListener("paste",pe(this,ae))},Ae=new WeakSet,Zt=function(me){Object.entries(me).some(([Ie,De])=>pe(this,U)[Ie]!==De)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(pe(this,U),me)})},_e=new WeakSet,Sn=function(me){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:me})},Re=new WeakSet,hs=function(){if(!pe(this,A)){Xe(this,A,!0);for(const me of pe(this,k).values())me.enable()}},Ce=new WeakSet,us=function(){if(this.unselectAll(),pe(this,A)){Xe(this,A,!1);for(const me of pe(this,k).values())me.disable()}},Pe=new WeakSet,ki=function(me){const Te=pe(this,k).get(me.pageIndex);Te?Te.addOrRebuild(me):this.addEditor(me)},We=new WeakSet,vn=function(){if(pe(this,V).size===0)return!0;if(pe(this,V).size===1)for(const me of pe(this,V).values())return me.isEmpty();return!1},Le=new WeakSet,Fi=function(me){pe(this,c).clear();for(const Te of me)Te.isEmpty()||(pe(this,c).add(Te),Te.select());Ne(this,Ae,Zt).call(this,{hasSelectedEditor:!0})},Dt(Qe,"TRANSLATE_SMALL",1),Dt(Qe,"TRANSLATE_BIG",10);let e=Qe;E.AnnotationEditorUIManager=e},(f,E,de)=>{var X,a,g,P,G,D,w,A,v,o,y,c,hn,O,un,R,Ti,ae,Nn,ce,Ln,se,Cn,U,kn;Object.defineProperty(E,"__esModule",{value:!0}),E.StatTimer=E.RenderingCancelledException=E.PixelsPerInch=E.PageViewport=E.PDFDateString=E.DOMStandardFontDataFactory=E.DOMSVGFactory=E.DOMFilterFactory=E.DOMCanvasFactory=E.DOMCMapReaderFactory=void 0,E.deprecated=C,E.getColorValues=V,E.getCurrentTransform=k,E.getCurrentTransformInverse=_,E.getFilenameFromUrl=M,E.getPdfFilenameFromUrl=I,E.getRGB=B,E.getXfaPageViewport=L,E.isDataScheme=z,E.isPdfFile=j,E.isValidFetchUrl=u,E.loadScript=F,E.noContextMenu=i,E.setLayerDimensions=l;var ne=de(7),fe=de(1);const we="http://www.w3.org/2000/svg",x=class x{};Dt(x,"CSS",96),Dt(x,"PDF",72),Dt(x,"PDF_TO_CSS_UNITS",x.CSS/x.PDF);let xe=x;E.PixelsPerInch=xe;class m extends ne.BaseFilterFactory{constructor({docId:ie,ownerDocument:re=globalThis.document}={}){super();Me(this,c);Me(this,O);Me(this,R);Me(this,ae);Me(this,ce);Me(this,se);Me(this,U);Me(this,X,void 0);Me(this,a,void 0);Me(this,g,void 0);Me(this,P,void 0);Me(this,G,void 0);Me(this,D,void 0);Me(this,w,void 0);Me(this,A,void 0);Me(this,v,void 0);Me(this,o,void 0);Me(this,y,0);Xe(this,g,ie),Xe(this,P,re)}addFilter(ie){if(!ie)return"none";let re=pe(this,c,hn).get(ie);if(re)return re;let Z,he,le,te;if(ie.length===1){const Ee=ie[0],Oe=new Array(256);for(let ve=0;ve<256;ve++)Oe[ve]=Ee[ve]/255;te=Z=he=le=Oe.join(",")}else{const[Ee,Oe,ve]=ie,Se=new Array(256),Ae=new Array(256),ke=new Array(256);for(let _e=0;_e<256;_e++)Se[_e]=Ee[_e]/255,Ae[_e]=Oe[_e]/255,ke[_e]=ve[_e]/255;Z=Se.join(","),he=Ae.join(","),le=ke.join(","),te=`${Z}${he}${le}`}if(re=pe(this,c,hn).get(te),re)return pe(this,c,hn).set(ie,re),re;const ue=`g_${pe(this,g)}_transfer_map_${An(this,y)._++}`,ge=`url(#${ue})`;pe(this,c,hn).set(ie,ge),pe(this,c,hn).set(te,ge);const ye=Ne(this,ae,Nn).call(this,ue);return Ne(this,se,Cn).call(this,Z,he,le,ye),ge}addHCMFilter(ie,re){var Oe;const Z=`${ie}-${re}`;if(pe(this,D)===Z)return pe(this,w);if(Xe(this,D,Z),Xe(this,w,"none"),(Oe=pe(this,G))==null||Oe.remove(),!ie||!re)return pe(this,w);const he=Ne(this,U,kn).call(this,ie);ie=fe.Util.makeHexColor(...he);const le=Ne(this,U,kn).call(this,re);if(re=fe.Util.makeHexColor(...le),pe(this,O,un).style.color="",ie==="#000000"&&re==="#ffffff"||ie===re)return pe(this,w);const te=new Array(256);for(let ve=0;ve<=255;ve++){const Se=ve/255;te[ve]=Se<=.03928?Se/12.92:((Se+.055)/1.055)**2.4}const ue=te.join(","),ge=`g_${pe(this,g)}_hcm_filter`,ye=Xe(this,A,Ne(this,ae,Nn).call(this,ge));Ne(this,se,Cn).call(this,ue,ue,ue,ye),Ne(this,R,Ti).call(this,ye);const Ee=(ve,Se)=>{const Ae=he[ve]/255,ke=le[ve]/255,_e=new Array(Se+1);for(let je=0;je<=Se;je++)_e[je]=Ae+je/Se*(ke-Ae);return _e.join(",")};return Ne(this,se,Cn).call(this,Ee(0,5),Ee(1,5),Ee(2,5),ye),Xe(this,w,`url(#${ge})`),pe(this,w)}addHighlightHCMFilter(ie,re,Z,he){var ke;const le=`${ie}-${re}-${Z}-${he}`;if(pe(this,v)===le)return pe(this,o);if(Xe(this,v,le),Xe(this,o,"none"),(ke=pe(this,A))==null||ke.remove(),!ie||!re)return pe(this,o);const[te,ue]=[ie,re].map(Ne(this,U,kn).bind(this));let ge=Math.round(.2126*te[0]+.7152*te[1]+.0722*te[2]),ye=Math.round(.2126*ue[0]+.7152*ue[1]+.0722*ue[2]),[Ee,Oe]=[Z,he].map(Ne(this,U,kn).bind(this));ye<ge&&([ge,ye,Ee,Oe]=[ye,ge,Oe,Ee]),pe(this,O,un).style.color="";const ve=(_e,je,Re)=>{const be=new Array(256),Ce=(ye-ge)/Re,$e=_e/255,Pe=(je-_e)/(255*Re);let ze=0;for(let We=0;We<=Re;We++){const ut=Math.round(ge+We*Ce),Le=$e+We*Pe;for(let rt=ze;rt<=ut;rt++)be[rt]=Le;ze=ut+1}for(let We=ze;We<256;We++)be[We]=be[ze-1];return be.join(",")},Se=`g_${pe(this,g)}_hcm_highlight_filter`,Ae=Xe(this,A,Ne(this,ae,Nn).call(this,Se));return Ne(this,R,Ti).call(this,Ae),Ne(this,se,Cn).call(this,ve(Ee[0],Oe[0],5),ve(Ee[1],Oe[1],5),ve(Ee[2],Oe[2],5),Ae),Xe(this,o,`url(#${Se})`),pe(this,o)}destroy(ie=!1){ie&&(pe(this,w)||pe(this,o))||(pe(this,a)&&(pe(this,a).parentNode.parentNode.remove(),Xe(this,a,null)),pe(this,X)&&(pe(this,X).clear(),Xe(this,X,null)),Xe(this,y,0))}}X=new WeakMap,a=new WeakMap,g=new WeakMap,P=new WeakMap,G=new WeakMap,D=new WeakMap,w=new WeakMap,A=new WeakMap,v=new WeakMap,o=new WeakMap,y=new WeakMap,c=new WeakSet,hn=function(){return pe(this,X)||Xe(this,X,new Map)},O=new WeakSet,un=function(){if(!pe(this,a)){const ie=pe(this,P).createElement("div"),{style:re}=ie;re.visibility="hidden",re.contain="strict",re.width=re.height=0,re.position="absolute",re.top=re.left=0,re.zIndex=-1;const Z=pe(this,P).createElementNS(we,"svg");Z.setAttribute("width",0),Z.setAttribute("height",0),Xe(this,a,pe(this,P).createElementNS(we,"defs")),ie.append(Z),Z.append(pe(this,a)),pe(this,P).body.append(ie)}return pe(this,a)},R=new WeakSet,Ti=function(ie){const re=pe(this,P).createElementNS(we,"feColorMatrix");re.setAttribute("type","matrix"),re.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),ie.append(re)},ae=new WeakSet,Nn=function(ie){const re=pe(this,P).createElementNS(we,"filter");return re.setAttribute("color-interpolation-filters","sRGB"),re.setAttribute("id",ie),pe(this,O,un).append(re),re},ce=new WeakSet,Ln=function(ie,re,Z){const he=pe(this,P).createElementNS(we,re);he.setAttribute("type","discrete"),he.setAttribute("tableValues",Z),ie.append(he)},se=new WeakSet,Cn=function(ie,re,Z,he){const le=pe(this,P).createElementNS(we,"feComponentTransfer");he.append(le),Ne(this,ce,Ln).call(this,le,"feFuncR",ie),Ne(this,ce,Ln).call(this,le,"feFuncG",re),Ne(this,ce,Ln).call(this,le,"feFuncB",Z)},U=new WeakSet,kn=function(ie){return pe(this,O,un).style.color=ie,B(getComputedStyle(pe(this,O,un)).getPropertyValue("color"))},E.DOMFilterFactory=m;class Q extends ne.BaseCanvasFactory{constructor({ownerDocument:Y=globalThis.document}={}){super(),this._document=Y}_createCanvas(Y,ie){const re=this._document.createElement("canvas");return re.width=Y,re.height=ie,re}}E.DOMCanvasFactory=Q;async function n(J,Y=!1){if(u(J,document.baseURI)){const ie=await fetch(J);if(!ie.ok)throw new Error(ie.statusText);return Y?new Uint8Array(await ie.arrayBuffer()):(0,fe.stringToBytes)(await ie.text())}return new Promise((ie,re)=>{const Z=new XMLHttpRequest;Z.open("GET",J,!0),Y&&(Z.responseType="arraybuffer"),Z.onreadystatechange=()=>{if(Z.readyState===XMLHttpRequest.DONE){if(Z.status===200||Z.status===0){let he;if(Y&&Z.response?he=new Uint8Array(Z.response):!Y&&Z.responseText&&(he=(0,fe.stringToBytes)(Z.responseText)),he){ie(he);return}}re(new Error(Z.statusText))}},Z.send(null)})}class S extends ne.BaseCMapReaderFactory{_fetchData(Y,ie){return n(Y,this.isCompressed).then(re=>({cMapData:re,compressionType:ie}))}}E.DOMCMapReaderFactory=S;class N extends ne.BaseStandardFontDataFactory{_fetchData(Y){return n(Y,!0)}}E.DOMStandardFontDataFactory=N;class e extends ne.BaseSVGFactory{_createSVG(Y){return document.createElementNS(we,Y)}}E.DOMSVGFactory=e;class t{constructor({viewBox:Y,scale:ie,rotation:re,offsetX:Z=0,offsetY:he=0,dontFlip:le=!1}){this.viewBox=Y,this.scale=ie,this.rotation=re,this.offsetX=Z,this.offsetY=he;const te=(Y[2]+Y[0])/2,ue=(Y[3]+Y[1])/2;let ge,ye,Ee,Oe;switch(re%=360,re<0&&(re+=360),re){case 180:ge=-1,ye=0,Ee=0,Oe=1;break;case 90:ge=0,ye=1,Ee=1,Oe=0;break;case 270:ge=0,ye=-1,Ee=-1,Oe=0;break;case 0:ge=1,ye=0,Ee=0,Oe=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}le&&(Ee=-Ee,Oe=-Oe);let ve,Se,Ae,ke;ge===0?(ve=Math.abs(ue-Y[1])*ie+Z,Se=Math.abs(te-Y[0])*ie+he,Ae=(Y[3]-Y[1])*ie,ke=(Y[2]-Y[0])*ie):(ve=Math.abs(te-Y[0])*ie+Z,Se=Math.abs(ue-Y[1])*ie+he,Ae=(Y[2]-Y[0])*ie,ke=(Y[3]-Y[1])*ie),this.transform=[ge*ie,ye*ie,Ee*ie,Oe*ie,ve-ge*ie*te-Ee*ie*ue,Se-ye*ie*te-Oe*ie*ue],this.width=Ae,this.height=ke}get rawDims(){const{viewBox:Y}=this;return(0,fe.shadow)(this,"rawDims",{pageWidth:Y[2]-Y[0],pageHeight:Y[3]-Y[1],pageX:Y[0],pageY:Y[1]})}clone({scale:Y=this.scale,rotation:ie=this.rotation,offsetX:re=this.offsetX,offsetY:Z=this.offsetY,dontFlip:he=!1}={}){return new t({viewBox:this.viewBox.slice(),scale:Y,rotation:ie,offsetX:re,offsetY:Z,dontFlip:he})}convertToViewportPoint(Y,ie){return fe.Util.applyTransform([Y,ie],this.transform)}convertToViewportRectangle(Y){const ie=fe.Util.applyTransform([Y[0],Y[1]],this.transform),re=fe.Util.applyTransform([Y[2],Y[3]],this.transform);return[ie[0],ie[1],re[0],re[1]]}convertToPdfPoint(Y,ie){return fe.Util.applyInverseTransform([Y,ie],this.transform)}}E.PageViewport=t;class r extends fe.BaseException{constructor(Y,ie=0){super(Y,"RenderingCancelledException"),this.extraDelay=ie}}E.RenderingCancelledException=r;function z(J){const Y=J.length;let ie=0;for(;ie<Y&&J[ie].trim()==="";)ie++;return J.substring(ie,ie+5).toLowerCase()==="data:"}function j(J){return typeof J=="string"&&/\.pdf$/i.test(J)}function M(J,Y=!1){return Y||([J]=J.split(/[#?]/,1)),J.substring(J.lastIndexOf("/")+1)}function I(J,Y="document.pdf"){if(typeof J!="string")return Y;if(z(J))return(0,fe.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Y;const ie=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,re=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Z=ie.exec(J);let he=re.exec(Z[1])||re.exec(Z[2])||re.exec(Z[3]);if(he&&(he=he[0],he.includes("%")))try{he=re.exec(decodeURIComponent(he))[0]}catch{}return he||Y}class d{constructor(){Dt(this,"started",Object.create(null));Dt(this,"times",[])}time(Y){Y in this.started&&(0,fe.warn)(`Timer is already running for ${Y}`),this.started[Y]=Date.now()}timeEnd(Y){Y in this.started||(0,fe.warn)(`Timer has not been started for ${Y}`),this.times.push({name:Y,start:this.started[Y],end:Date.now()}),delete this.started[Y]}toString(){const Y=[];let ie=0;for(const{name:re}of this.times)ie=Math.max(re.length,ie);for(const{name:re,start:Z,end:he}of this.times)Y.push(`${re.padEnd(ie)} ${he-Z}ms
`);return Y.join("")}}E.StatTimer=d;function u(J,Y){try{const{protocol:ie}=Y?new URL(J,Y):new URL(J);return ie==="http:"||ie==="https:"}catch{return!1}}function i(J){J.preventDefault()}function F(J,Y=!1){return new Promise((ie,re)=>{const Z=document.createElement("script");Z.src=J,Z.onload=function(he){Y&&Z.remove(),ie(he)},Z.onerror=function(){re(new Error(`Cannot load script at: ${Z.src}`))},(document.head||document.documentElement).append(Z)})}function C(J){console.log("Deprecated API usage: "+J)}let T;class b{static toDateObject(Y){if(!Y||typeof Y!="string")return null;T||(T=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ie=T.exec(Y);if(!ie)return null;const re=parseInt(ie[1],10);let Z=parseInt(ie[2],10);Z=Z>=1&&Z<=12?Z-1:0;let he=parseInt(ie[3],10);he=he>=1&&he<=31?he:1;let le=parseInt(ie[4],10);le=le>=0&&le<=23?le:0;let te=parseInt(ie[5],10);te=te>=0&&te<=59?te:0;let ue=parseInt(ie[6],10);ue=ue>=0&&ue<=59?ue:0;const ge=ie[7]||"Z";let ye=parseInt(ie[8],10);ye=ye>=0&&ye<=23?ye:0;let Ee=parseInt(ie[9],10)||0;return Ee=Ee>=0&&Ee<=59?Ee:0,ge==="-"?(le+=ye,te+=Ee):ge==="+"&&(le-=ye,te-=Ee),new Date(Date.UTC(re,Z,he,le,te,ue))}}E.PDFDateString=b;function L(J,{scale:Y=1,rotation:ie=0}){const{width:re,height:Z}=J.attributes.style,he=[0,0,parseInt(re),parseInt(Z)];return new t({viewBox:he,scale:Y,rotation:ie})}function B(J){if(J.startsWith("#")){const Y=parseInt(J.slice(1),16);return[(Y&16711680)>>16,(Y&65280)>>8,Y&255]}return J.startsWith("rgb(")?J.slice(4,-1).split(",").map(Y=>parseInt(Y)):J.startsWith("rgba(")?J.slice(5,-1).split(",").map(Y=>parseInt(Y)).slice(0,3):((0,fe.warn)(`Not a valid color format: "${J}"`),[0,0,0])}function V(J){const Y=document.createElement("span");Y.style.visibility="hidden",document.body.append(Y);for(const ie of J.keys()){Y.style.color=ie;const re=window.getComputedStyle(Y).color;J.set(ie,B(re))}Y.remove()}function k(J){const{a:Y,b:ie,c:re,d:Z,e:he,f:le}=J.getTransform();return[Y,ie,re,Z,he,le]}function _(J){const{a:Y,b:ie,c:re,d:Z,e:he,f:le}=J.getTransform().invertSelf();return[Y,ie,re,Z,he,le]}function l(J,Y,ie=!1,re=!0){if(Y instanceof t){const{pageWidth:Z,pageHeight:he}=Y.rawDims,{style:le}=J,te=fe.FeatureTest.isCSSRoundSupported,ue=`var(--scale-factor) * ${Z}px`,ge=`var(--scale-factor) * ${he}px`,ye=te?`round(${ue}, 1px)`:`calc(${ue})`,Ee=te?`round(${ge}, 1px)`:`calc(${ge})`;!ie||Y.rotation%180===0?(le.width=ye,le.height=Ee):(le.width=Ee,le.height=ye)}re&&J.setAttribute("data-main-rotation",Y.rotation)}},(f,E,de)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.BaseStandardFontDataFactory=E.BaseSVGFactory=E.BaseFilterFactory=E.BaseCanvasFactory=E.BaseCMapReaderFactory=void 0;var ne=de(1);class fe{constructor(){this.constructor===fe&&(0,ne.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(S){return"none"}addHCMFilter(S,N){return"none"}addHighlightHCMFilter(S,N,e,t){return"none"}destroy(S=!1){}}E.BaseFilterFactory=fe;class we{constructor(){this.constructor===we&&(0,ne.unreachable)("Cannot initialize BaseCanvasFactory.")}create(S,N){if(S<=0||N<=0)throw new Error("Invalid canvas size");const e=this._createCanvas(S,N);return{canvas:e,context:e.getContext("2d")}}reset(S,N,e){if(!S.canvas)throw new Error("Canvas is not specified");if(N<=0||e<=0)throw new Error("Invalid canvas size");S.canvas.width=N,S.canvas.height=e}destroy(S){if(!S.canvas)throw new Error("Canvas is not specified");S.canvas.width=0,S.canvas.height=0,S.canvas=null,S.context=null}_createCanvas(S,N){(0,ne.unreachable)("Abstract method `_createCanvas` called.")}}E.BaseCanvasFactory=we;class xe{constructor({baseUrl:S=null,isCompressed:N=!0}){this.constructor===xe&&(0,ne.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=S,this.isCompressed=N}async fetch({name:S}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!S)throw new Error("CMap name must be specified.");const N=this.baseUrl+S+(this.isCompressed?".bcmap":""),e=this.isCompressed?ne.CMapCompressionType.BINARY:ne.CMapCompressionType.NONE;return this._fetchData(N,e).catch(t=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${N}`)})}_fetchData(S,N){(0,ne.unreachable)("Abstract method `_fetchData` called.")}}E.BaseCMapReaderFactory=xe;class m{constructor({baseUrl:S=null}){this.constructor===m&&(0,ne.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=S}async fetch({filename:S}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!S)throw new Error("Font filename must be specified.");const N=`${this.baseUrl}${S}`;return this._fetchData(N).catch(e=>{throw new Error(`Unable to load font data at: ${N}`)})}_fetchData(S){(0,ne.unreachable)("Abstract method `_fetchData` called.")}}E.BaseStandardFontDataFactory=m;class Q{constructor(){this.constructor===Q&&(0,ne.unreachable)("Cannot initialize BaseSVGFactory.")}create(S,N,e=!1){if(S<=0||N<=0)throw new Error("Invalid SVG dimensions");const t=this._createSVG("svg:svg");return t.setAttribute("version","1.1"),e||(t.setAttribute("width",`${S}px`),t.setAttribute("height",`${N}px`)),t.setAttribute("preserveAspectRatio","none"),t.setAttribute("viewBox",`0 0 ${S} ${N}`),t}createElement(S){if(typeof S!="string")throw new Error("Invalid SVG element type");return this._createSVG(S)}_createSVG(S){(0,ne.unreachable)("Abstract method `_createSVG` called.")}}E.BaseSVGFactory=Q},(f,E,de)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.MurmurHash3_64=void 0;var ne=de(1);const fe=3285377520,we=4294901760,xe=65535;class m{constructor(n){this.h1=n?n&4294967295:fe,this.h2=n?n&4294967295:fe}update(n){let S,N;if(typeof n=="string"){S=new Uint8Array(n.length*2),N=0;for(let C=0,T=n.length;C<T;C++){const b=n.charCodeAt(C);b<=255?S[N++]=b:(S[N++]=b>>>8,S[N++]=b&255)}}else if((0,ne.isArrayBuffer)(n))S=n.slice(),N=S.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const e=N>>2,t=N-e*4,r=new Uint32Array(S.buffer,0,e);let z=0,j=0,M=this.h1,I=this.h2;const d=3432918353,u=461845907,i=d&xe,F=u&xe;for(let C=0;C<e;C++)C&1?(z=r[C],z=z*d&we|z*i&xe,z=z<<15|z>>>17,z=z*u&we|z*F&xe,M^=z,M=M<<13|M>>>19,M=M*5+3864292196):(j=r[C],j=j*d&we|j*i&xe,j=j<<15|j>>>17,j=j*u&we|j*F&xe,I^=j,I=I<<13|I>>>19,I=I*5+3864292196);switch(z=0,t){case 3:z^=S[e*4+2]<<16;case 2:z^=S[e*4+1]<<8;case 1:z^=S[e*4],z=z*d&we|z*i&xe,z=z<<15|z>>>17,z=z*u&we|z*F&xe,e&1?M^=z:I^=z}this.h1=M,this.h2=I}hexdigest(){let n=this.h1,S=this.h2;return n^=S>>>1,n=n*3981806797&we|n*36045&xe,S=S*4283543511&we|((S<<16|n>>>16)*2950163797&we)>>>16,n^=S>>>1,n=n*444984403&we|n*60499&xe,S=S*3301882366&we|((S<<16|n>>>16)*3120437893&we)>>>16,n^=S>>>1,(n>>>0).toString(16).padStart(8,"0")+(S>>>0).toString(16).padStart(8,"0")}}E.MurmurHash3_64=m},(f,E,de)=>{var xe;Object.defineProperty(E,"__esModule",{value:!0}),E.FontLoader=E.FontFaceObject=void 0;var ne=de(1);class fe{constructor({ownerDocument:Q=globalThis.document,styleElement:n=null}){Me(this,xe,new Set);this._document=Q,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(Q){this.nativeFontFaces.add(Q),this._document.fonts.add(Q)}removeNativeFontFace(Q){this.nativeFontFaces.delete(Q),this._document.fonts.delete(Q)}insertRule(Q){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(Q,n.cssRules.length)}clear(){for(const Q of this.nativeFontFaces)this._document.fonts.delete(Q);this.nativeFontFaces.clear(),pe(this,xe).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(Q){if(!(!Q||pe(this,xe).has(Q.loadedName))){if((0,ne.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:S,style:N}=Q,e=new FontFace(n,S,N);this.addNativeFontFace(e);try{await e.load(),pe(this,xe).add(n)}catch{(0,ne.warn)(`Cannot load system font: ${Q.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(e)}return}(0,ne.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(Q){if(Q.attached||Q.missingFile&&!Q.systemFontInfo)return;if(Q.attached=!0,Q.systemFontInfo){await this.loadSystemFont(Q.systemFontInfo);return}if(this.isFontLoadingAPISupported){const S=Q.createNativeFontFace();if(S){this.addNativeFontFace(S);try{await S.loaded}catch(N){throw(0,ne.warn)(`Failed to load font '${S.family}': '${N}'.`),Q.disableFontFace=!0,N}}return}const n=Q.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(S=>{const N=this._queueLoadingCallback(S);this._prepareFontLoadEvent(Q,N)})}}get isFontLoadingAPISupported(){var n;const Q=!!((n=this._document)!=null&&n.fonts);return(0,ne.shadow)(this,"isFontLoadingAPISupported",Q)}get isSyncFontLoadingSupported(){let Q=!1;return(ne.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(Q=!0),(0,ne.shadow)(this,"isSyncFontLoadingSupported",Q)}_queueLoadingCallback(Q){function n(){for((0,ne.assert)(!N.done,"completeRequest() cannot be called twice."),N.done=!0;S.length>0&&S[0].done;){const e=S.shift();setTimeout(e.callback,0)}}const{loadingRequests:S}=this,N={done:!1,complete:n,callback:Q};return S.push(N),N}get _loadTestFont(){const Q=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,ne.shadow)(this,"_loadTestFont",Q)}_prepareFontLoadEvent(Q,n){function S(B,V){return B.charCodeAt(V)<<24|B.charCodeAt(V+1)<<16|B.charCodeAt(V+2)<<8|B.charCodeAt(V+3)&255}function N(B,V,k,_){const l=B.substring(0,V),x=B.substring(V+k);return l+_+x}let e,t;const r=this._document.createElement("canvas");r.width=1,r.height=1;const z=r.getContext("2d");let j=0;function M(B,V){if(++j>30){(0,ne.warn)("Load test font never loaded."),V();return}if(z.font="30px "+B,z.fillText(".",0,20),z.getImageData(0,0,1,1).data[3]>0){V();return}setTimeout(M.bind(null,B,V))}const I=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=N(d,976,I.length,I);const i=16,F=1482184792;let C=S(d,i);for(e=0,t=I.length-3;e<t;e+=4)C=C-F+S(I,e)|0;e<I.length&&(C=C-F+S(I+"XXX",e)|0),d=N(d,i,4,(0,ne.string32)(C));const T=`url(data:font/opentype;base64,${btoa(d)});`,b=`@font-face {font-family:"${I}";src:${T}}`;this.insertRule(b);const L=this._document.createElement("div");L.style.visibility="hidden",L.style.width=L.style.height="10px",L.style.position="absolute",L.style.top=L.style.left="0px";for(const B of[Q.loadedName,I]){const V=this._document.createElement("span");V.textContent="Hi",V.style.fontFamily=B,L.append(V)}this._document.body.append(L),M(I,()=>{L.remove(),n.complete()})}}xe=new WeakMap,E.FontLoader=fe;class we{constructor(Q,{isEvalSupported:n=!0,disableFontFace:S=!1,ignoreErrors:N=!1,inspectFont:e=null}){this.compiledGlyphs=Object.create(null);for(const t in Q)this[t]=Q[t];this.isEvalSupported=n!==!1,this.disableFontFace=S===!0,this.ignoreErrors=N===!0,this._inspectFont=e}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let Q;if(!this.cssFontInfo)Q=new FontFace(this.loadedName,this.data,{});else{const S={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(S.style=`oblique ${this.cssFontInfo.italicAngle}deg`),Q=new FontFace(this.cssFontInfo.fontFamily,this.data,S)}return(n=this._inspectFont)==null||n.call(this,this),Q}createFontFaceRule(){var N;if(!this.data||this.disableFontFace)return null;const Q=(0,ne.bytesToString)(this.data),n=`url(data:${this.mimetype};base64,${btoa(Q)});`;let S;if(!this.cssFontInfo)S=`@font-face {font-family:"${this.loadedName}";src:${n}}`;else{let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),S=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${n}}`}return(N=this._inspectFont)==null||N.call(this,this,n),S}getPathGenerator(Q,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];let S;try{S=Q.get(this.loadedName+"_path_"+n)}catch(N){if(!this.ignoreErrors)throw N;return(0,ne.warn)(`getPathGenerator - ignoring character: "${N}".`),this.compiledGlyphs[n]=function(e,t){}}if(this.isEvalSupported&&ne.FeatureTest.isEvalSupported){const N=[];for(const e of S){const t=e.args!==void 0?e.args.join(","):"";N.push("c.",e.cmd,"(",t,`);
`)}return this.compiledGlyphs[n]=new Function("c","size",N.join(""))}return this.compiledGlyphs[n]=function(N,e){for(const t of S)t.cmd==="scale"&&(t.args=[e,-e]),N[t.cmd].apply(N,t.args)}}}E.FontFaceObject=we},(f,E,de)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.NodeStandardFontDataFactory=E.NodeFilterFactory=E.NodeCanvasFactory=E.NodeCMapReaderFactory=void 0;var ne=de(7);de(1);const fe=function(n){return new Promise((S,N)=>{require$$5.readFile(n,(t,r)=>{if(t||!r){N(new Error(t));return}S(new Uint8Array(r))})})};class we extends ne.BaseFilterFactory{}E.NodeFilterFactory=we;class xe extends ne.BaseCanvasFactory{_createCanvas(S,N){return require$$5.createCanvas(S,N)}}E.NodeCanvasFactory=xe;class m extends ne.BaseCMapReaderFactory{_fetchData(S,N){return fe(S).then(e=>({cMapData:e,compressionType:N}))}}E.NodeCMapReaderFactory=m;class Q extends ne.BaseStandardFontDataFactory{_fetchData(S){return fe(S)}}E.NodeStandardFontDataFactory=Q},(f,E,de)=>{var a,Ei,P,Ii;Object.defineProperty(E,"__esModule",{value:!0}),E.CanvasGraphics=void 0;var ne=de(1),fe=de(6),we=de(12),xe=de(13);const m=16,Q=100,n=4096,S=15,N=10,e=1e3,t=16;function r(w,A){if(w._removeMirroring)throw new Error("Context is already forwarding operations.");w.__originalSave=w.save,w.__originalRestore=w.restore,w.__originalRotate=w.rotate,w.__originalScale=w.scale,w.__originalTranslate=w.translate,w.__originalTransform=w.transform,w.__originalSetTransform=w.setTransform,w.__originalResetTransform=w.resetTransform,w.__originalClip=w.clip,w.__originalMoveTo=w.moveTo,w.__originalLineTo=w.lineTo,w.__originalBezierCurveTo=w.bezierCurveTo,w.__originalRect=w.rect,w.__originalClosePath=w.closePath,w.__originalBeginPath=w.beginPath,w._removeMirroring=()=>{w.save=w.__originalSave,w.restore=w.__originalRestore,w.rotate=w.__originalRotate,w.scale=w.__originalScale,w.translate=w.__originalTranslate,w.transform=w.__originalTransform,w.setTransform=w.__originalSetTransform,w.resetTransform=w.__originalResetTransform,w.clip=w.__originalClip,w.moveTo=w.__originalMoveTo,w.lineTo=w.__originalLineTo,w.bezierCurveTo=w.__originalBezierCurveTo,w.rect=w.__originalRect,w.closePath=w.__originalClosePath,w.beginPath=w.__originalBeginPath,delete w._removeMirroring},w.save=function(){A.save(),this.__originalSave()},w.restore=function(){A.restore(),this.__originalRestore()},w.translate=function(o,y){A.translate(o,y),this.__originalTranslate(o,y)},w.scale=function(o,y){A.scale(o,y),this.__originalScale(o,y)},w.transform=function(o,y,c,h,O,W){A.transform(o,y,c,h,O,W),this.__originalTransform(o,y,c,h,O,W)},w.setTransform=function(o,y,c,h,O,W){A.setTransform(o,y,c,h,O,W),this.__originalSetTransform(o,y,c,h,O,W)},w.resetTransform=function(){A.resetTransform(),this.__originalResetTransform()},w.rotate=function(o){A.rotate(o),this.__originalRotate(o)},w.clip=function(o){A.clip(o),this.__originalClip(o)},w.moveTo=function(v,o){A.moveTo(v,o),this.__originalMoveTo(v,o)},w.lineTo=function(v,o){A.lineTo(v,o),this.__originalLineTo(v,o)},w.bezierCurveTo=function(v,o,y,c,h,O){A.bezierCurveTo(v,o,y,c,h,O),this.__originalBezierCurveTo(v,o,y,c,h,O)},w.rect=function(v,o,y,c){A.rect(v,o,y,c),this.__originalRect(v,o,y,c)},w.closePath=function(){A.closePath(),this.__originalClosePath()},w.beginPath=function(){A.beginPath(),this.__originalBeginPath()}}class z{constructor(A){this.canvasFactory=A,this.cache=Object.create(null)}getCanvas(A,v,o){let y;return this.cache[A]!==void 0?(y=this.cache[A],this.canvasFactory.reset(y,v,o)):(y=this.canvasFactory.create(v,o),this.cache[A]=y),y}delete(A){delete this.cache[A]}clear(){for(const A in this.cache){const v=this.cache[A];this.canvasFactory.destroy(v),delete this.cache[A]}}}function j(w,A,v,o,y,c,h,O,W,R){const[H,ae,q,ce,ee,se]=(0,fe.getCurrentTransform)(w);if(ae===0&&q===0){const K=h*H+ee,J=Math.round(K),Y=O*ce+se,ie=Math.round(Y),re=(h+W)*H+ee,Z=Math.abs(Math.round(re)-J)||1,he=(O+R)*ce+se,le=Math.abs(Math.round(he)-ie)||1;return w.setTransform(Math.sign(H),0,0,Math.sign(ce),J,ie),w.drawImage(A,v,o,y,c,0,0,Z,le),w.setTransform(H,ae,q,ce,ee,se),[Z,le]}if(H===0&&ce===0){const K=O*q+ee,J=Math.round(K),Y=h*ae+se,ie=Math.round(Y),re=(O+R)*q+ee,Z=Math.abs(Math.round(re)-J)||1,he=(h+W)*ae+se,le=Math.abs(Math.round(he)-ie)||1;return w.setTransform(0,Math.sign(ae),Math.sign(q),0,J,ie),w.drawImage(A,v,o,y,c,0,0,le,Z),w.setTransform(H,ae,q,ce,ee,se),[le,Z]}w.drawImage(A,v,o,y,c,h,O,W,R);const $=Math.hypot(H,ae),U=Math.hypot(q,ce);return[$*W,U*R]}function M(w){const{width:A,height:v}=w;if(A>e||v>e)return null;const o=1e3,y=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),c=A+1;let h=new Uint8Array(c*(v+1)),O,W,R;const H=A+7&-8;let ae=new Uint8Array(H*v),q=0;for(const U of w.data){let K=128;for(;K>0;)ae[q++]=U&K?0:255,K>>=1}let ce=0;for(q=0,ae[q]!==0&&(h[0]=1,++ce),W=1;W<A;W++)ae[q]!==ae[q+1]&&(h[W]=ae[q]?2:1,++ce),q++;for(ae[q]!==0&&(h[W]=2,++ce),O=1;O<v;O++){q=O*H,R=O*c,ae[q-H]!==ae[q]&&(h[R]=ae[q]?1:8,++ce);let U=(ae[q]?4:0)+(ae[q-H]?8:0);for(W=1;W<A;W++)U=(U>>2)+(ae[q+1]?4:0)+(ae[q-H+1]?8:0),y[U]&&(h[R+W]=y[U],++ce),q++;if(ae[q-H]!==ae[q]&&(h[R+W]=ae[q]?2:4,++ce),ce>o)return null}for(q=H*(v-1),R=O*c,ae[q]!==0&&(h[R]=8,++ce),W=1;W<A;W++)ae[q]!==ae[q+1]&&(h[R+W]=ae[q]?4:8,++ce),q++;if(ae[q]!==0&&(h[R+W]=4,++ce),ce>o)return null;const ee=new Int32Array([0,c,-1,0,-c,0,0,0,1]),se=new Path2D;for(O=0;ce&&O<=v;O++){let U=O*c;const K=U+A;for(;U<K&&!h[U];)U++;if(U===K)continue;se.moveTo(U%c,O);const J=U;let Y=h[U];do{const ie=ee[Y];do U+=ie;while(!h[U]);const re=h[U];re!==5&&re!==10?(Y=re,h[U]=0):(Y=re&51*Y>>4,h[U]&=Y>>2|Y<<2),se.lineTo(U%c,U/c|0),h[U]||--ce}while(J!==U);--O}return ae=null,h=null,function(U){U.save(),U.scale(1/A,-1/v),U.translate(0,-v),U.fill(se),U.beginPath(),U.restore()}}class I{constructor(A,v){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=ne.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=ne.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=ne.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,A,v])}clone(){const A=Object.create(this);return A.clipBox=this.clipBox.slice(),A}setCurrentPoint(A,v){this.x=A,this.y=v}updatePathMinMax(A,v,o){[v,o]=ne.Util.applyTransform([v,o],A),this.minX=Math.min(this.minX,v),this.minY=Math.min(this.minY,o),this.maxX=Math.max(this.maxX,v),this.maxY=Math.max(this.maxY,o)}updateRectMinMax(A,v){const o=ne.Util.applyTransform(v,A),y=ne.Util.applyTransform(v.slice(2),A);this.minX=Math.min(this.minX,o[0],y[0]),this.minY=Math.min(this.minY,o[1],y[1]),this.maxX=Math.max(this.maxX,o[0],y[0]),this.maxY=Math.max(this.maxY,o[1],y[1])}updateScalingPathMinMax(A,v){ne.Util.scaleMinMax(A,v),this.minX=Math.min(this.minX,v[0]),this.maxX=Math.max(this.maxX,v[1]),this.minY=Math.min(this.minY,v[2]),this.maxY=Math.max(this.maxY,v[3])}updateCurvePathMinMax(A,v,o,y,c,h,O,W,R,H){const ae=ne.Util.bezierBoundingBox(v,o,y,c,h,O,W,R);if(H){H[0]=Math.min(H[0],ae[0],ae[2]),H[1]=Math.max(H[1],ae[0],ae[2]),H[2]=Math.min(H[2],ae[1],ae[3]),H[3]=Math.max(H[3],ae[1],ae[3]);return}this.updateRectMinMax(A,ae)}getPathBoundingBox(A=we.PathType.FILL,v=null){const o=[this.minX,this.minY,this.maxX,this.maxY];if(A===we.PathType.STROKE){v||(0,ne.unreachable)("Stroke bounding box must include transform.");const y=ne.Util.singularValueDecompose2dScale(v),c=y[0]*this.lineWidth/2,h=y[1]*this.lineWidth/2;o[0]-=c,o[1]-=h,o[2]+=c,o[3]+=h}return o}updateClipFromPath(){const A=ne.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(A||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(A){this.clipBox=A,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(A=we.PathType.FILL,v=null){return ne.Util.intersect(this.clipBox,this.getPathBoundingBox(A,v))}}function d(w,A){if(typeof ImageData<"u"&&A instanceof ImageData){w.putImageData(A,0,0);return}const v=A.height,o=A.width,y=v%t,c=(v-y)/t,h=y===0?c:c+1,O=w.createImageData(o,t);let W=0,R;const H=A.data,ae=O.data;let q,ce,ee,se;if(A.kind===ne.ImageKind.GRAYSCALE_1BPP){const $=H.byteLength,U=new Uint32Array(ae.buffer,0,ae.byteLength>>2),K=U.length,J=o+7>>3,Y=4294967295,ie=ne.FeatureTest.isLittleEndian?4278190080:255;for(q=0;q<h;q++){for(ee=q<c?t:y,R=0,ce=0;ce<ee;ce++){const re=$-W;let Z=0;const he=re>J?o:re*8-7,le=he&-8;let te=0,ue=0;for(;Z<le;Z+=8)ue=H[W++],U[R++]=ue&128?Y:ie,U[R++]=ue&64?Y:ie,U[R++]=ue&32?Y:ie,U[R++]=ue&16?Y:ie,U[R++]=ue&8?Y:ie,U[R++]=ue&4?Y:ie,U[R++]=ue&2?Y:ie,U[R++]=ue&1?Y:ie;for(;Z<he;Z++)te===0&&(ue=H[W++],te=128),U[R++]=ue&te?Y:ie,te>>=1}for(;R<K;)U[R++]=0;w.putImageData(O,0,q*t)}}else if(A.kind===ne.ImageKind.RGBA_32BPP){for(ce=0,se=o*t*4,q=0;q<c;q++)ae.set(H.subarray(W,W+se)),W+=se,w.putImageData(O,0,ce),ce+=t;q<h&&(se=o*y*4,ae.set(H.subarray(W,W+se)),w.putImageData(O,0,ce))}else if(A.kind===ne.ImageKind.RGB_24BPP)for(ee=t,se=o*ee,q=0;q<h;q++){for(q>=c&&(ee=y,se=o*ee),R=0,ce=se;ce--;)ae[R++]=H[W++],ae[R++]=H[W++],ae[R++]=H[W++],ae[R++]=255;w.putImageData(O,0,q*t)}else throw new Error(`bad image kind: ${A.kind}`)}function u(w,A){if(A.bitmap){w.drawImage(A.bitmap,0,0);return}const v=A.height,o=A.width,y=v%t,c=(v-y)/t,h=y===0?c:c+1,O=w.createImageData(o,t);let W=0;const R=A.data,H=O.data;for(let ae=0;ae<h;ae++){const q=ae<c?t:y;({srcPos:W}=(0,xe.convertBlackAndWhiteToRGBA)({src:R,srcPos:W,dest:H,width:o,height:q,nonBlackColor:0})),w.putImageData(O,0,ae*t)}}function i(w,A){const v=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const o of v)w[o]!==void 0&&(A[o]=w[o]);w.setLineDash!==void 0&&(A.setLineDash(w.getLineDash()),A.lineDashOffset=w.lineDashOffset)}function F(w){if(w.strokeStyle=w.fillStyle="#000000",w.fillRule="nonzero",w.globalAlpha=1,w.lineWidth=1,w.lineCap="butt",w.lineJoin="miter",w.miterLimit=10,w.globalCompositeOperation="source-over",w.font="10px sans-serif",w.setLineDash!==void 0&&(w.setLineDash([]),w.lineDashOffset=0),!ne.isNodeJS){const{filter:A}=w;A!=="none"&&A!==""&&(w.filter="none")}}function C(w,A,v,o){const y=w.length;for(let c=3;c<y;c+=4){const h=w[c];if(h===0)w[c-3]=A,w[c-2]=v,w[c-1]=o;else if(h<255){const O=255-h;w[c-3]=w[c-3]*h+A*O>>8,w[c-2]=w[c-2]*h+v*O>>8,w[c-1]=w[c-1]*h+o*O>>8}}}function T(w,A,v){const o=w.length,y=1/255;for(let c=3;c<o;c+=4){const h=v?v[w[c]]:w[c];A[c]=A[c]*h*y|0}}function b(w,A,v){const o=w.length;for(let y=3;y<o;y+=4){const c=w[y-3]*77+w[y-2]*152+w[y-1]*28;A[y]=v?A[y]*v[c>>8]>>8:A[y]*c>>16}}function L(w,A,v,o,y,c,h,O,W,R,H){const ae=!!c,q=ae?c[0]:0,ce=ae?c[1]:0,ee=ae?c[2]:0,se=y==="Luminosity"?b:T,U=Math.min(o,Math.ceil(1048576/v));for(let K=0;K<o;K+=U){const J=Math.min(U,o-K),Y=w.getImageData(O-R,K+(W-H),v,J),ie=A.getImageData(O,K+W,v,J);ae&&C(Y.data,q,ce,ee),se(Y.data,ie.data,h),A.putImageData(ie,O,K+W)}}function B(w,A,v,o){const y=o[0],c=o[1],h=o[2]-y,O=o[3]-c;h===0||O===0||(L(A.context,v,h,O,A.subtype,A.backdrop,A.transferMap,y,c,A.offsetX,A.offsetY),w.save(),w.globalAlpha=1,w.globalCompositeOperation="source-over",w.setTransform(1,0,0,1,0,0),w.drawImage(v.canvas,0,0),w.restore())}function V(w,A){const v=ne.Util.singularValueDecompose2dScale(w);v[0]=Math.fround(v[0]),v[1]=Math.fround(v[1]);const o=Math.fround((globalThis.devicePixelRatio||1)*fe.PixelsPerInch.PDF_TO_CSS_UNITS);return A!==void 0?A:v[0]<=o||v[1]<=o}const k=["butt","round","square"],_=["miter","round","bevel"],l={},x={},D=class D{constructor(A,v,o,y,c,{optionalContentConfig:h,markedContentStack:O=null},W,R){Me(this,a);Me(this,P);this.ctx=A,this.current=new I(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=v,this.objs=o,this.canvasFactory=y,this.filterFactory=c,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=O||[],this.optionalContentConfig=h,this.cachedCanvases=new z(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=W,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=R,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(A,v=null){return typeof A=="string"?A.startsWith("g_")?this.commonObjs.get(A):this.objs.get(A):v}beginDrawing({transform:A,viewport:v,transparency:o=!1,background:y=null}){const c=this.ctx.canvas.width,h=this.ctx.canvas.height,O=this.ctx.fillStyle;if(this.ctx.fillStyle=y||"#ffffff",this.ctx.fillRect(0,0,c,h),this.ctx.fillStyle=O,o){const W=this.cachedCanvases.getCanvas("transparent",c,h);this.compositeCtx=this.ctx,this.transparentCanvas=W.canvas,this.ctx=W.context,this.ctx.save(),this.ctx.transform(...(0,fe.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),F(this.ctx),A&&(this.ctx.transform(...A),this.outputScaleX=A[0],this.outputScaleY=A[0]),this.ctx.transform(...v.transform),this.viewportScale=v.scale,this.baseTransform=(0,fe.getCurrentTransform)(this.ctx)}executeOperatorList(A,v,o,y){const c=A.argsArray,h=A.fnArray;let O=v||0;const W=c.length;if(W===O)return O;const R=W-O>N&&typeof o=="function",H=R?Date.now()+S:0;let ae=0;const q=this.commonObjs,ce=this.objs;let ee;for(;;){if(y!==void 0&&O===y.nextBreakPoint)return y.breakIt(O,o),O;if(ee=h[O],ee!==ne.OPS.dependency)this[ee].apply(this,c[O]);else for(const se of c[O]){const $=se.startsWith("g_")?q:ce;if(!$.has(se))return $.get(se,o),O}if(O++,O===W)return O;if(R&&++ae>N){if(Date.now()>H)return o(),O;ae=0}}}endDrawing(){Ne(this,a,Ei).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const A of this._cachedBitmapsMap.values()){for(const v of A.values())typeof HTMLCanvasElement<"u"&&v instanceof HTMLCanvasElement&&(v.width=v.height=0);A.clear()}this._cachedBitmapsMap.clear(),Ne(this,P,Ii).call(this)}_scaleImage(A,v){const o=A.width,y=A.height;let c=Math.max(Math.hypot(v[0],v[1]),1),h=Math.max(Math.hypot(v[2],v[3]),1),O=o,W=y,R="prescale1",H,ae;for(;c>2&&O>1||h>2&&W>1;){let q=O,ce=W;c>2&&O>1&&(q=O>=16384?Math.floor(O/2)-1||1:Math.ceil(O/2),c/=O/q),h>2&&W>1&&(ce=W>=16384?Math.floor(W/2)-1||1:Math.ceil(W)/2,h/=W/ce),H=this.cachedCanvases.getCanvas(R,q,ce),ae=H.context,ae.clearRect(0,0,q,ce),ae.drawImage(A,0,0,O,W,0,0,q,ce),A=H.canvas,O=q,W=ce,R=R==="prescale1"?"prescale2":"prescale1"}return{img:A,paintWidth:O,paintHeight:W}}_createMaskCanvas(A){const v=this.ctx,{width:o,height:y}=A,c=this.current.fillColor,h=this.current.patternFill,O=(0,fe.getCurrentTransform)(v);let W,R,H,ae;if((A.bitmap||A.data)&&A.count>1){const Z=A.bitmap||A.data.buffer;R=JSON.stringify(h?O:[O.slice(0,4),c]),W=this._cachedBitmapsMap.get(Z),W||(W=new Map,this._cachedBitmapsMap.set(Z,W));const he=W.get(R);if(he&&!h){const le=Math.round(Math.min(O[0],O[2])+O[4]),te=Math.round(Math.min(O[1],O[3])+O[5]);return{canvas:he,offsetX:le,offsetY:te}}H=he}H||(ae=this.cachedCanvases.getCanvas("maskCanvas",o,y),u(ae.context,A));let q=ne.Util.transform(O,[1/o,0,0,-1/y,0,0]);q=ne.Util.transform(q,[1,0,0,1,0,-y]);const ce=ne.Util.applyTransform([0,0],q),ee=ne.Util.applyTransform([o,y],q),se=ne.Util.normalizeRect([ce[0],ce[1],ee[0],ee[1]]),$=Math.round(se[2]-se[0])||1,U=Math.round(se[3]-se[1])||1,K=this.cachedCanvases.getCanvas("fillCanvas",$,U),J=K.context,Y=Math.min(ce[0],ee[0]),ie=Math.min(ce[1],ee[1]);J.translate(-Y,-ie),J.transform(...q),H||(H=this._scaleImage(ae.canvas,(0,fe.getCurrentTransformInverse)(J)),H=H.img,W&&h&&W.set(R,H)),J.imageSmoothingEnabled=V((0,fe.getCurrentTransform)(J),A.interpolate),j(J,H,0,0,H.width,H.height,0,0,o,y),J.globalCompositeOperation="source-in";const re=ne.Util.transform((0,fe.getCurrentTransformInverse)(J),[1,0,0,1,-Y,-ie]);return J.fillStyle=h?c.getPattern(v,this,re,we.PathType.FILL):c,J.fillRect(0,0,o,y),W&&!h&&(this.cachedCanvases.delete("fillCanvas"),W.set(R,K.canvas)),{canvas:K.canvas,offsetX:Math.round(Y),offsetY:Math.round(ie)}}setLineWidth(A){A!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=A,this.ctx.lineWidth=A}setLineCap(A){this.ctx.lineCap=k[A]}setLineJoin(A){this.ctx.lineJoin=_[A]}setMiterLimit(A){this.ctx.miterLimit=A}setDash(A,v){const o=this.ctx;o.setLineDash!==void 0&&(o.setLineDash(A),o.lineDashOffset=v)}setRenderingIntent(A){}setFlatness(A){}setGState(A){for(const[v,o]of A)switch(v){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o[0],o[1]);break;case"CA":this.current.strokeAlpha=o;break;case"ca":this.current.fillAlpha=o,this.ctx.globalAlpha=o;break;case"BM":this.ctx.globalCompositeOperation=o;break;case"SMask":this.current.activeSMask=o?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(o);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const A=this.inSMaskMode;this.current.activeSMask&&!A?this.beginSMaskMode():!this.current.activeSMask&&A&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const A=this.ctx.canvas.width,v=this.ctx.canvas.height,o="smaskGroupAt"+this.groupLevel,y=this.cachedCanvases.getCanvas(o,A,v);this.suspendedCtx=this.ctx,this.ctx=y.context;const c=this.ctx;c.setTransform(...(0,fe.getCurrentTransform)(this.suspendedCtx)),i(this.suspendedCtx,c),r(c,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),i(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(A){if(!this.current.activeSMask)return;A?(A[0]=Math.floor(A[0]),A[1]=Math.floor(A[1]),A[2]=Math.ceil(A[2]),A[3]=Math.ceil(A[3])):A=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const v=this.current.activeSMask,o=this.suspendedCtx;B(o,v,this.ctx,A),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(i(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const A=this.current;this.stateStack.push(A),this.current=A.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),i(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(A,v,o,y,c,h){this.ctx.transform(A,v,o,y,c,h),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(A,v,o){const y=this.ctx,c=this.current;let h=c.x,O=c.y,W,R;const H=(0,fe.getCurrentTransform)(y),ae=H[0]===0&&H[3]===0||H[1]===0&&H[2]===0,q=ae?o.slice(0):null;for(let ce=0,ee=0,se=A.length;ce<se;ce++)switch(A[ce]|0){case ne.OPS.rectangle:h=v[ee++],O=v[ee++];const $=v[ee++],U=v[ee++],K=h+$,J=O+U;y.moveTo(h,O),$===0||U===0?y.lineTo(K,J):(y.lineTo(K,O),y.lineTo(K,J),y.lineTo(h,J)),ae||c.updateRectMinMax(H,[h,O,K,J]),y.closePath();break;case ne.OPS.moveTo:h=v[ee++],O=v[ee++],y.moveTo(h,O),ae||c.updatePathMinMax(H,h,O);break;case ne.OPS.lineTo:h=v[ee++],O=v[ee++],y.lineTo(h,O),ae||c.updatePathMinMax(H,h,O);break;case ne.OPS.curveTo:W=h,R=O,h=v[ee+4],O=v[ee+5],y.bezierCurveTo(v[ee],v[ee+1],v[ee+2],v[ee+3],h,O),c.updateCurvePathMinMax(H,W,R,v[ee],v[ee+1],v[ee+2],v[ee+3],h,O,q),ee+=6;break;case ne.OPS.curveTo2:W=h,R=O,y.bezierCurveTo(h,O,v[ee],v[ee+1],v[ee+2],v[ee+3]),c.updateCurvePathMinMax(H,W,R,h,O,v[ee],v[ee+1],v[ee+2],v[ee+3],q),h=v[ee+2],O=v[ee+3],ee+=4;break;case ne.OPS.curveTo3:W=h,R=O,h=v[ee+2],O=v[ee+3],y.bezierCurveTo(v[ee],v[ee+1],h,O,h,O),c.updateCurvePathMinMax(H,W,R,v[ee],v[ee+1],h,O,h,O,q),ee+=4;break;case ne.OPS.closePath:y.closePath();break}ae&&c.updateScalingPathMinMax(H,q),c.setCurrentPoint(h,O)}closePath(){this.ctx.closePath()}stroke(A=!0){const v=this.ctx,o=this.current.strokeColor;v.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof o=="object"&&(o!=null&&o.getPattern)?(v.save(),v.strokeStyle=o.getPattern(v,this,(0,fe.getCurrentTransformInverse)(v),we.PathType.STROKE),this.rescaleAndStroke(!1),v.restore()):this.rescaleAndStroke(!0)),A&&this.consumePath(this.current.getClippedPathBoundingBox()),v.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(A=!0){const v=this.ctx,o=this.current.fillColor,y=this.current.patternFill;let c=!1;y&&(v.save(),v.fillStyle=o.getPattern(v,this,(0,fe.getCurrentTransformInverse)(v),we.PathType.FILL),c=!0);const h=this.current.getClippedPathBoundingBox();this.contentVisible&&h!==null&&(this.pendingEOFill?(v.fill("evenodd"),this.pendingEOFill=!1):v.fill()),c&&v.restore(),A&&this.consumePath(h)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=l}eoClip(){this.pendingClip=x}beginText(){this.current.textMatrix=ne.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const A=this.pendingTextPaths,v=this.ctx;if(A===void 0){v.beginPath();return}v.save(),v.beginPath();for(const o of A)v.setTransform(...o.transform),v.translate(o.x,o.y),o.addToPath(v,o.fontSize);v.restore(),v.clip(),v.beginPath(),delete this.pendingTextPaths}setCharSpacing(A){this.current.charSpacing=A}setWordSpacing(A){this.current.wordSpacing=A}setHScale(A){this.current.textHScale=A/100}setLeading(A){this.current.leading=-A}setFont(A,v){var H;const o=this.commonObjs.get(A),y=this.current;if(!o)throw new Error(`Can't find font for ${A}`);if(y.fontMatrix=o.fontMatrix||ne.FONT_IDENTITY_MATRIX,(y.fontMatrix[0]===0||y.fontMatrix[3]===0)&&(0,ne.warn)("Invalid font matrix for font "+A),v<0?(v=-v,y.fontDirection=-1):y.fontDirection=1,this.current.font=o,this.current.fontSize=v,o.isType3Font)return;const c=o.loadedName||"sans-serif",h=((H=o.systemFontInfo)==null?void 0:H.css)||`"${c}", ${o.fallbackName}`;let O="normal";o.black?O="900":o.bold&&(O="bold");const W=o.italic?"italic":"normal";let R=v;v<m?R=m:v>Q&&(R=Q),this.current.fontSizeScale=v/R,this.ctx.font=`${W} ${O} ${R}px ${h}`}setTextRenderingMode(A){this.current.textRenderingMode=A}setTextRise(A){this.current.textRise=A}moveText(A,v){this.current.x=this.current.lineX+=A,this.current.y=this.current.lineY+=v}setLeadingMoveText(A,v){this.setLeading(-v),this.moveText(A,v)}setTextMatrix(A,v,o,y,c,h){this.current.textMatrix=[A,v,o,y,c,h],this.current.textMatrixScale=Math.hypot(A,v),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(A,v,o,y){const c=this.ctx,h=this.current,O=h.font,W=h.textRenderingMode,R=h.fontSize/h.fontSizeScale,H=W&ne.TextRenderingMode.FILL_STROKE_MASK,ae=!!(W&ne.TextRenderingMode.ADD_TO_PATH_FLAG),q=h.patternFill&&!O.missingFile;let ce;(O.disableFontFace||ae||q)&&(ce=O.getPathGenerator(this.commonObjs,A)),O.disableFontFace||q?(c.save(),c.translate(v,o),c.beginPath(),ce(c,R),y&&c.setTransform(...y),(H===ne.TextRenderingMode.FILL||H===ne.TextRenderingMode.FILL_STROKE)&&c.fill(),(H===ne.TextRenderingMode.STROKE||H===ne.TextRenderingMode.FILL_STROKE)&&c.stroke(),c.restore()):((H===ne.TextRenderingMode.FILL||H===ne.TextRenderingMode.FILL_STROKE)&&c.fillText(A,v,o),(H===ne.TextRenderingMode.STROKE||H===ne.TextRenderingMode.FILL_STROKE)&&c.strokeText(A,v,o)),ae&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,fe.getCurrentTransform)(c),x:v,y:o,fontSize:R,addToPath:ce})}get isFontSubpixelAAEnabled(){const{context:A}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);A.scale(1.5,1),A.fillText("I",0,10);const v=A.getImageData(0,0,10,10).data;let o=!1;for(let y=3;y<v.length;y+=4)if(v[y]>0&&v[y]<255){o=!0;break}return(0,ne.shadow)(this,"isFontSubpixelAAEnabled",o)}showText(A){const v=this.current,o=v.font;if(o.isType3Font)return this.showType3Text(A);const y=v.fontSize;if(y===0)return;const c=this.ctx,h=v.fontSizeScale,O=v.charSpacing,W=v.wordSpacing,R=v.fontDirection,H=v.textHScale*R,ae=A.length,q=o.vertical,ce=q?1:-1,ee=o.defaultVMetrics,se=y*v.fontMatrix[0],$=v.textRenderingMode===ne.TextRenderingMode.FILL&&!o.disableFontFace&&!v.patternFill;c.save(),c.transform(...v.textMatrix),c.translate(v.x,v.y+v.textRise),R>0?c.scale(H,-1):c.scale(H,1);let U;if(v.patternFill){c.save();const re=v.fillColor.getPattern(c,this,(0,fe.getCurrentTransformInverse)(c),we.PathType.FILL);U=(0,fe.getCurrentTransform)(c),c.restore(),c.fillStyle=re}let K=v.lineWidth;const J=v.textMatrixScale;if(J===0||K===0){const re=v.textRenderingMode&ne.TextRenderingMode.FILL_STROKE_MASK;(re===ne.TextRenderingMode.STROKE||re===ne.TextRenderingMode.FILL_STROKE)&&(K=this.getSinglePixelWidth())}else K/=J;if(h!==1&&(c.scale(h,h),K/=h),c.lineWidth=K,o.isInvalidPDFjsFont){const re=[];let Z=0;for(const he of A)re.push(he.unicode),Z+=he.width;c.fillText(re.join(""),0,0),v.x+=Z*se*H,c.restore(),this.compose();return}let Y=0,ie;for(ie=0;ie<ae;++ie){const re=A[ie];if(typeof re=="number"){Y+=ce*re*y/1e3;continue}let Z=!1;const he=(re.isSpace?W:0)+O,le=re.fontChar,te=re.accent;let ue,ge,ye=re.width;if(q){const Oe=re.vmetric||ee,ve=-(re.vmetric?Oe[1]:ye*.5)*se,Se=Oe[2]*se;ye=Oe?-Oe[0]:ye,ue=ve/h,ge=(Y+Se)/h}else ue=Y/h,ge=0;if(o.remeasure&&ye>0){const Oe=c.measureText(le).width*1e3/y*h;if(ye<Oe&&this.isFontSubpixelAAEnabled){const ve=ye/Oe;Z=!0,c.save(),c.scale(ve,1),ue/=ve}else ye!==Oe&&(ue+=(ye-Oe)/2e3*y/h)}if(this.contentVisible&&(re.isInFont||o.missingFile)){if($&&!te)c.fillText(le,ue,ge);else if(this.paintChar(le,ue,ge,U),te){const Oe=ue+y*te.offset.x/h,ve=ge-y*te.offset.y/h;this.paintChar(te.fontChar,Oe,ve,U)}}const Ee=q?ye*se-he*R:ye*se+he*R;Y+=Ee,Z&&c.restore()}q?v.y-=Y:v.x+=Y*H,c.restore(),this.compose()}showType3Text(A){const v=this.ctx,o=this.current,y=o.font,c=o.fontSize,h=o.fontDirection,O=y.vertical?1:-1,W=o.charSpacing,R=o.wordSpacing,H=o.textHScale*h,ae=o.fontMatrix||ne.FONT_IDENTITY_MATRIX,q=A.length,ce=o.textRenderingMode===ne.TextRenderingMode.INVISIBLE;let ee,se,$,U;if(!(ce||c===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,v.save(),v.transform(...o.textMatrix),v.translate(o.x,o.y),v.scale(H,h),ee=0;ee<q;++ee){if(se=A[ee],typeof se=="number"){U=O*se*c/1e3,this.ctx.translate(U,0),o.x+=U*H;continue}const K=(se.isSpace?R:0)+W,J=y.charProcOperatorList[se.operatorListId];if(!J){(0,ne.warn)(`Type3 character "${se.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=se,this.save(),v.scale(c,c),v.transform(...ae),this.executeOperatorList(J),this.restore()),$=ne.Util.applyTransform([se.width,0],ae)[0]*c+K,v.translate($,0),o.x+=$*H}v.restore(),this.processingType3=null}}setCharWidth(A,v){}setCharWidthAndBounds(A,v,o,y,c,h){this.ctx.rect(o,y,c-o,h-y),this.ctx.clip(),this.endPath()}getColorN_Pattern(A){let v;if(A[0]==="TilingPattern"){const o=A[1],y=this.baseTransform||(0,fe.getCurrentTransform)(this.ctx),c={createCanvasGraphics:h=>new D(h,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};v=new we.TilingPattern(A,o,this.ctx,c,y)}else v=this._getPattern(A[1],A[2]);return v}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(A,v,o){const y=ne.Util.makeHexColor(A,v,o);this.ctx.strokeStyle=y,this.current.strokeColor=y}setFillRGBColor(A,v,o){const y=ne.Util.makeHexColor(A,v,o);this.ctx.fillStyle=y,this.current.fillColor=y,this.current.patternFill=!1}_getPattern(A,v=null){let o;return this.cachedPatterns.has(A)?o=this.cachedPatterns.get(A):(o=(0,we.getShadingPattern)(this.getObject(A)),this.cachedPatterns.set(A,o)),v&&(o.matrix=v),o}shadingFill(A){if(!this.contentVisible)return;const v=this.ctx;this.save();const o=this._getPattern(A);v.fillStyle=o.getPattern(v,this,(0,fe.getCurrentTransformInverse)(v),we.PathType.SHADING);const y=(0,fe.getCurrentTransformInverse)(v);if(y){const{width:c,height:h}=v.canvas,[O,W,R,H]=ne.Util.getAxialAlignedBoundingBox([0,0,c,h],y);this.ctx.fillRect(O,W,R-O,H-W)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,ne.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,ne.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(A,v){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(A)&&A.length===6&&this.transform(...A),this.baseTransform=(0,fe.getCurrentTransform)(this.ctx),v)){const o=v[2]-v[0],y=v[3]-v[1];this.ctx.rect(v[0],v[1],o,y),this.current.updateRectMinMax((0,fe.getCurrentTransform)(this.ctx),v),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(A){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const v=this.ctx;A.isolated||(0,ne.info)("TODO: Support non-isolated groups."),A.knockout&&(0,ne.warn)("Knockout groups not supported.");const o=(0,fe.getCurrentTransform)(v);if(A.matrix&&v.transform(...A.matrix),!A.bbox)throw new Error("Bounding box is required.");let y=ne.Util.getAxialAlignedBoundingBox(A.bbox,(0,fe.getCurrentTransform)(v));const c=[0,0,v.canvas.width,v.canvas.height];y=ne.Util.intersect(y,c)||[0,0,0,0];const h=Math.floor(y[0]),O=Math.floor(y[1]);let W=Math.max(Math.ceil(y[2])-h,1),R=Math.max(Math.ceil(y[3])-O,1),H=1,ae=1;W>n&&(H=W/n,W=n),R>n&&(ae=R/n,R=n),this.current.startNewPathAndClipBox([0,0,W,R]);let q="groupAt"+this.groupLevel;A.smask&&(q+="_smask_"+this.smaskCounter++%2);const ce=this.cachedCanvases.getCanvas(q,W,R),ee=ce.context;ee.scale(1/H,1/ae),ee.translate(-h,-O),ee.transform(...o),A.smask?this.smaskStack.push({canvas:ce.canvas,context:ee,offsetX:h,offsetY:O,scaleX:H,scaleY:ae,subtype:A.smask.subtype,backdrop:A.smask.backdrop,transferMap:A.smask.transferMap||null,startTransformInverse:null}):(v.setTransform(1,0,0,1,0,0),v.translate(h,O),v.scale(H,ae),v.save()),i(v,ee),this.ctx=ee,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(v),this.groupLevel++}endGroup(A){if(!this.contentVisible)return;this.groupLevel--;const v=this.ctx,o=this.groupStack.pop();if(this.ctx=o,this.ctx.imageSmoothingEnabled=!1,A.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const y=(0,fe.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...y);const c=ne.Util.getAxialAlignedBoundingBox([0,0,v.canvas.width,v.canvas.height],y);this.ctx.drawImage(v.canvas,0,0),this.ctx.restore(),this.compose(c)}}beginAnnotation(A,v,o,y,c){if(Ne(this,a,Ei).call(this),F(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(v)&&v.length===4){const h=v[2]-v[0],O=v[3]-v[1];if(c&&this.annotationCanvasMap){o=o.slice(),o[4]-=v[0],o[5]-=v[1],v=v.slice(),v[0]=v[1]=0,v[2]=h,v[3]=O;const[W,R]=ne.Util.singularValueDecompose2dScale((0,fe.getCurrentTransform)(this.ctx)),{viewportScale:H}=this,ae=Math.ceil(h*this.outputScaleX*H),q=Math.ceil(O*this.outputScaleY*H);this.annotationCanvas=this.canvasFactory.create(ae,q);const{canvas:ce,context:ee}=this.annotationCanvas;this.annotationCanvasMap.set(A,ce),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ee,this.ctx.save(),this.ctx.setTransform(W,0,0,-R,0,O*R),F(this.ctx)}else F(this.ctx),this.ctx.rect(v[0],v[1],h,O),this.ctx.clip(),this.endPath()}this.current=new I(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...o),this.transform(...y)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ne(this,P,Ii).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(A){if(!this.contentVisible)return;const v=A.count;A=this.getObject(A.data,A),A.count=v;const o=this.ctx,y=this.processingType3;if(y&&(y.compiled===void 0&&(y.compiled=M(A)),y.compiled)){y.compiled(o);return}const c=this._createMaskCanvas(A),h=c.canvas;o.save(),o.setTransform(1,0,0,1,0,0),o.drawImage(h,c.offsetX,c.offsetY),o.restore(),this.compose()}paintImageMaskXObjectRepeat(A,v,o=0,y=0,c,h){if(!this.contentVisible)return;A=this.getObject(A.data,A);const O=this.ctx;O.save();const W=(0,fe.getCurrentTransform)(O);O.transform(v,o,y,c,0,0);const R=this._createMaskCanvas(A);O.setTransform(1,0,0,1,R.offsetX-W[4],R.offsetY-W[5]);for(let H=0,ae=h.length;H<ae;H+=2){const q=ne.Util.transform(W,[v,o,y,c,h[H],h[H+1]]),[ce,ee]=ne.Util.applyTransform([0,0],q);O.drawImage(R.canvas,ce,ee)}O.restore(),this.compose()}paintImageMaskXObjectGroup(A){if(!this.contentVisible)return;const v=this.ctx,o=this.current.fillColor,y=this.current.patternFill;for(const c of A){const{data:h,width:O,height:W,transform:R}=c,H=this.cachedCanvases.getCanvas("maskCanvas",O,W),ae=H.context;ae.save();const q=this.getObject(h,c);u(ae,q),ae.globalCompositeOperation="source-in",ae.fillStyle=y?o.getPattern(ae,this,(0,fe.getCurrentTransformInverse)(v),we.PathType.FILL):o,ae.fillRect(0,0,O,W),ae.restore(),v.save(),v.transform(...R),v.scale(1,-1),j(v,H.canvas,0,0,O,W,0,-1,1,1),v.restore()}this.compose()}paintImageXObject(A){if(!this.contentVisible)return;const v=this.getObject(A);if(!v){(0,ne.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(v)}paintImageXObjectRepeat(A,v,o,y){if(!this.contentVisible)return;const c=this.getObject(A);if(!c){(0,ne.warn)("Dependent image isn't ready yet");return}const h=c.width,O=c.height,W=[];for(let R=0,H=y.length;R<H;R+=2)W.push({transform:[v,0,0,o,y[R],y[R+1]],x:0,y:0,w:h,h:O});this.paintInlineImageXObjectGroup(c,W)}applyTransferMapsToCanvas(A){return this.current.transferMaps!=="none"&&(A.filter=this.current.transferMaps,A.drawImage(A.canvas,0,0),A.filter="none"),A.canvas}applyTransferMapsToBitmap(A){if(this.current.transferMaps==="none")return A.bitmap;const{bitmap:v,width:o,height:y}=A,c=this.cachedCanvases.getCanvas("inlineImage",o,y),h=c.context;return h.filter=this.current.transferMaps,h.drawImage(v,0,0),h.filter="none",c.canvas}paintInlineImageXObject(A){if(!this.contentVisible)return;const v=A.width,o=A.height,y=this.ctx;if(this.save(),!ne.isNodeJS){const{filter:O}=y;O!=="none"&&O!==""&&(y.filter="none")}y.scale(1/v,-1/o);let c;if(A.bitmap)c=this.applyTransferMapsToBitmap(A);else if(typeof HTMLElement=="function"&&A instanceof HTMLElement||!A.data)c=A;else{const W=this.cachedCanvases.getCanvas("inlineImage",v,o).context;d(W,A),c=this.applyTransferMapsToCanvas(W)}const h=this._scaleImage(c,(0,fe.getCurrentTransformInverse)(y));y.imageSmoothingEnabled=V((0,fe.getCurrentTransform)(y),A.interpolate),j(y,h.img,0,0,h.paintWidth,h.paintHeight,0,-o,v,o),this.compose(),this.restore()}paintInlineImageXObjectGroup(A,v){if(!this.contentVisible)return;const o=this.ctx;let y;if(A.bitmap)y=A.bitmap;else{const c=A.width,h=A.height,W=this.cachedCanvases.getCanvas("inlineImage",c,h).context;d(W,A),y=this.applyTransferMapsToCanvas(W)}for(const c of v)o.save(),o.transform(...c.transform),o.scale(1,-1),j(o,y,c.x,c.y,c.w,c.h,0,-1,1,1),o.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(A){}markPointProps(A,v){}beginMarkedContent(A){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(A,v){A==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(v)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(A){const v=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(A);const o=this.ctx;this.pendingClip&&(v||(this.pendingClip===x?o.clip("evenodd"):o.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),o.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const A=(0,fe.getCurrentTransform)(this.ctx);if(A[1]===0&&A[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(A[0]),Math.abs(A[3]));else{const v=Math.abs(A[0]*A[3]-A[2]*A[1]),o=Math.hypot(A[0],A[2]),y=Math.hypot(A[1],A[3]);this._cachedGetSinglePixelWidth=Math.max(o,y)/v}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:A}=this.current,{a:v,b:o,c:y,d:c}=this.ctx.getTransform();let h,O;if(o===0&&y===0){const W=Math.abs(v),R=Math.abs(c);if(W===R)if(A===0)h=O=1/W;else{const H=W*A;h=O=H<1?1/H:1}else if(A===0)h=1/W,O=1/R;else{const H=W*A,ae=R*A;h=H<1?1/H:1,O=ae<1?1/ae:1}}else{const W=Math.abs(v*c-o*y),R=Math.hypot(v,o),H=Math.hypot(y,c);if(A===0)h=H/W,O=R/W;else{const ae=A*W;h=H>ae?H/ae:1,O=R>ae?R/ae:1}}this._cachedScaleForStroking[0]=h,this._cachedScaleForStroking[1]=O}return this._cachedScaleForStroking}rescaleAndStroke(A){const{ctx:v}=this,{lineWidth:o}=this.current,[y,c]=this.getScaleForStroking();if(v.lineWidth=o||1,y===1&&c===1){v.stroke();return}const h=v.getLineDash();if(A&&v.save(),v.scale(y,c),h.length>0){const O=Math.max(y,c);v.setLineDash(h.map(W=>W/O)),v.lineDashOffset/=O}v.stroke(),A&&v.restore()}isContentVisible(){for(let A=this.markedContentStack.length-1;A>=0;A--)if(!this.markedContentStack[A].visible)return!1;return!0}};a=new WeakSet,Ei=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},P=new WeakSet,Ii=function(){if(this.pageColors){const A=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(A!=="none"){const v=this.ctx.filter;this.ctx.filter=A,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=v}}};let X=D;E.CanvasGraphics=X;for(const w in ne.OPS)X.prototype[w]!==void 0&&(X.prototype[ne.OPS[w]]=X.prototype[w])},(f,E,de)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.TilingPattern=E.PathType=void 0,E.getShadingPattern=t;var ne=de(1),fe=de(6);const we={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};E.PathType=we;function xe(M,I){if(!I)return;const d=I[2]-I[0],u=I[3]-I[1],i=new Path2D;i.rect(I[0],I[1],d,u),M.clip(i)}class m{constructor(){this.constructor===m&&(0,ne.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,ne.unreachable)("Abstract method `getPattern` called.")}}class Q extends m{constructor(I){super(),this._type=I[1],this._bbox=I[2],this._colorStops=I[3],this._p0=I[4],this._p1=I[5],this._r0=I[6],this._r1=I[7],this.matrix=null}_createGradient(I){let d;this._type==="axial"?d=I.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(d=I.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const u of this._colorStops)d.addColorStop(u[0],u[1]);return d}getPattern(I,d,u,i){let F;if(i===we.STROKE||i===we.FILL){const C=d.current.getClippedPathBoundingBox(i,(0,fe.getCurrentTransform)(I))||[0,0,0,0],T=Math.ceil(C[2]-C[0])||1,b=Math.ceil(C[3]-C[1])||1,L=d.cachedCanvases.getCanvas("pattern",T,b,!0),B=L.context;B.clearRect(0,0,B.canvas.width,B.canvas.height),B.beginPath(),B.rect(0,0,B.canvas.width,B.canvas.height),B.translate(-C[0],-C[1]),u=ne.Util.transform(u,[1,0,0,1,C[0],C[1]]),B.transform(...d.baseTransform),this.matrix&&B.transform(...this.matrix),xe(B,this._bbox),B.fillStyle=this._createGradient(B),B.fill(),F=I.createPattern(L.canvas,"no-repeat");const V=new DOMMatrix(u);F.setTransform(V)}else xe(I,this._bbox),F=this._createGradient(I);return F}}function n(M,I,d,u,i,F,C,T){const b=I.coords,L=I.colors,B=M.data,V=M.width*4;let k;b[d+1]>b[u+1]&&(k=d,d=u,u=k,k=F,F=C,C=k),b[u+1]>b[i+1]&&(k=u,u=i,i=k,k=C,C=T,T=k),b[d+1]>b[u+1]&&(k=d,d=u,u=k,k=F,F=C,C=k);const _=(b[d]+I.offsetX)*I.scaleX,l=(b[d+1]+I.offsetY)*I.scaleY,x=(b[u]+I.offsetX)*I.scaleX,X=(b[u+1]+I.offsetY)*I.scaleY,a=(b[i]+I.offsetX)*I.scaleX,g=(b[i+1]+I.offsetY)*I.scaleY;if(l>=g)return;const P=L[F],G=L[F+1],D=L[F+2],w=L[C],A=L[C+1],v=L[C+2],o=L[T],y=L[T+1],c=L[T+2],h=Math.round(l),O=Math.round(g);let W,R,H,ae,q,ce,ee,se;for(let $=h;$<=O;$++){if($<X){const ie=$<l?0:(l-$)/(l-X);W=_-(_-x)*ie,R=P-(P-w)*ie,H=G-(G-A)*ie,ae=D-(D-v)*ie}else{let ie;$>g?ie=1:X===g?ie=0:ie=(X-$)/(X-g),W=x-(x-a)*ie,R=w-(w-o)*ie,H=A-(A-y)*ie,ae=v-(v-c)*ie}let U;$<l?U=0:$>g?U=1:U=(l-$)/(l-g),q=_-(_-a)*U,ce=P-(P-o)*U,ee=G-(G-y)*U,se=D-(D-c)*U;const K=Math.round(Math.min(W,q)),J=Math.round(Math.max(W,q));let Y=V*$+K*4;for(let ie=K;ie<=J;ie++)U=(W-ie)/(W-q),U<0?U=0:U>1&&(U=1),B[Y++]=R-(R-ce)*U|0,B[Y++]=H-(H-ee)*U|0,B[Y++]=ae-(ae-se)*U|0,B[Y++]=255}}function S(M,I,d){const u=I.coords,i=I.colors;let F,C;switch(I.type){case"lattice":const T=I.verticesPerRow,b=Math.floor(u.length/T)-1,L=T-1;for(F=0;F<b;F++){let B=F*T;for(let V=0;V<L;V++,B++)n(M,d,u[B],u[B+1],u[B+T],i[B],i[B+1],i[B+T]),n(M,d,u[B+T+1],u[B+1],u[B+T],i[B+T+1],i[B+1],i[B+T])}break;case"triangles":for(F=0,C=u.length;F<C;F+=3)n(M,d,u[F],u[F+1],u[F+2],i[F],i[F+1],i[F+2]);break;default:throw new Error("illegal figure")}}class N extends m{constructor(I){super(),this._coords=I[2],this._colors=I[3],this._figures=I[4],this._bounds=I[5],this._bbox=I[7],this._background=I[8],this.matrix=null}_createMeshCanvas(I,d,u){const T=Math.floor(this._bounds[0]),b=Math.floor(this._bounds[1]),L=Math.ceil(this._bounds[2])-T,B=Math.ceil(this._bounds[3])-b,V=Math.min(Math.ceil(Math.abs(L*I[0]*1.1)),3e3),k=Math.min(Math.ceil(Math.abs(B*I[1]*1.1)),3e3),_=L/V,l=B/k,x={coords:this._coords,colors:this._colors,offsetX:-T,offsetY:-b,scaleX:1/_,scaleY:1/l},X=V+2*2,a=k+2*2,g=u.getCanvas("mesh",X,a,!1),P=g.context,G=P.createImageData(V,k);if(d){const w=G.data;for(let A=0,v=w.length;A<v;A+=4)w[A]=d[0],w[A+1]=d[1],w[A+2]=d[2],w[A+3]=255}for(const w of this._figures)S(G,w,x);return P.putImageData(G,2,2),{canvas:g.canvas,offsetX:T-2*_,offsetY:b-2*l,scaleX:_,scaleY:l}}getPattern(I,d,u,i){xe(I,this._bbox);let F;if(i===we.SHADING)F=ne.Util.singularValueDecompose2dScale((0,fe.getCurrentTransform)(I));else if(F=ne.Util.singularValueDecompose2dScale(d.baseTransform),this.matrix){const T=ne.Util.singularValueDecompose2dScale(this.matrix);F=[F[0]*T[0],F[1]*T[1]]}const C=this._createMeshCanvas(F,i===we.SHADING?null:this._background,d.cachedCanvases);return i!==we.SHADING&&(I.setTransform(...d.baseTransform),this.matrix&&I.transform(...this.matrix)),I.translate(C.offsetX,C.offsetY),I.scale(C.scaleX,C.scaleY),I.createPattern(C.canvas,"no-repeat")}}class e extends m{getPattern(){return"hotpink"}}function t(M){switch(M[0]){case"RadialAxial":return new Q(M);case"Mesh":return new N(M);case"Dummy":return new e}throw new Error(`Unknown IR type: ${M[0]}`)}const r={COLORED:1,UNCOLORED:2},j=class j{constructor(I,d,u,i,F){this.operatorList=I[2],this.matrix=I[3]||[1,0,0,1,0,0],this.bbox=I[4],this.xstep=I[5],this.ystep=I[6],this.paintType=I[7],this.tilingType=I[8],this.color=d,this.ctx=u,this.canvasGraphicsFactory=i,this.baseTransform=F}createPatternCanvas(I){const d=this.operatorList,u=this.bbox,i=this.xstep,F=this.ystep,C=this.paintType,T=this.tilingType,b=this.color,L=this.canvasGraphicsFactory;(0,ne.info)("TilingType: "+T);const B=u[0],V=u[1],k=u[2],_=u[3],l=ne.Util.singularValueDecompose2dScale(this.matrix),x=ne.Util.singularValueDecompose2dScale(this.baseTransform),X=[l[0]*x[0],l[1]*x[1]],a=this.getSizeAndScale(i,this.ctx.canvas.width,X[0]),g=this.getSizeAndScale(F,this.ctx.canvas.height,X[1]),P=I.cachedCanvases.getCanvas("pattern",a.size,g.size,!0),G=P.context,D=L.createCanvasGraphics(G);D.groupLevel=I.groupLevel,this.setFillAndStrokeStyleToContext(D,C,b);let w=B,A=V,v=k,o=_;return B<0&&(w=0,v+=Math.abs(B)),V<0&&(A=0,o+=Math.abs(V)),G.translate(-(a.scale*w),-(g.scale*A)),D.transform(a.scale,0,0,g.scale,0,0),G.save(),this.clipBbox(D,w,A,v,o),D.baseTransform=(0,fe.getCurrentTransform)(D.ctx),D.executeOperatorList(d),D.endDrawing(),{canvas:P.canvas,scaleX:a.scale,scaleY:g.scale,offsetX:w,offsetY:A}}getSizeAndScale(I,d,u){I=Math.abs(I);const i=Math.max(j.MAX_PATTERN_SIZE,d);let F=Math.ceil(I*u);return F>=i?F=i:u=F/I,{scale:u,size:F}}clipBbox(I,d,u,i,F){const C=i-d,T=F-u;I.ctx.rect(d,u,C,T),I.current.updateRectMinMax((0,fe.getCurrentTransform)(I.ctx),[d,u,i,F]),I.clip(),I.endPath()}setFillAndStrokeStyleToContext(I,d,u){const i=I.ctx,F=I.current;switch(d){case r.COLORED:const C=this.ctx;i.fillStyle=C.fillStyle,i.strokeStyle=C.strokeStyle,F.fillColor=C.fillStyle,F.strokeColor=C.strokeStyle;break;case r.UNCOLORED:const T=ne.Util.makeHexColor(u[0],u[1],u[2]);i.fillStyle=T,i.strokeStyle=T,F.fillColor=T,F.strokeColor=T;break;default:throw new ne.FormatError(`Unsupported paint type: ${d}`)}}getPattern(I,d,u,i){let F=u;i!==we.SHADING&&(F=ne.Util.transform(F,d.baseTransform),this.matrix&&(F=ne.Util.transform(F,this.matrix)));const C=this.createPatternCanvas(d);let T=new DOMMatrix(F);T=T.translate(C.offsetX,C.offsetY),T=T.scale(1/C.scaleX,1/C.scaleY);const b=I.createPattern(C.canvas,"repeat");return b.setTransform(T),b}};Dt(j,"MAX_PATTERN_SIZE",3e3);let z=j;E.TilingPattern=z},(f,E,de)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.convertBlackAndWhiteToRGBA=we,E.convertToRGBA=fe,E.grayToRGBA=m;var ne=de(1);function fe(Q){switch(Q.kind){case ne.ImageKind.GRAYSCALE_1BPP:return we(Q);case ne.ImageKind.RGB_24BPP:return xe(Q)}return null}function we({src:Q,srcPos:n=0,dest:S,width:N,height:e,nonBlackColor:t=4294967295,inverseDecode:r=!1}){const z=ne.FeatureTest.isLittleEndian?4278190080:255,[j,M]=r?[t,z]:[z,t],I=N>>3,d=N&7,u=Q.length;S=new Uint32Array(S.buffer);let i=0;for(let F=0;F<e;F++){for(const T=n+I;n<T;n++){const b=n<u?Q[n]:255;S[i++]=b&128?M:j,S[i++]=b&64?M:j,S[i++]=b&32?M:j,S[i++]=b&16?M:j,S[i++]=b&8?M:j,S[i++]=b&4?M:j,S[i++]=b&2?M:j,S[i++]=b&1?M:j}if(d===0)continue;const C=n<u?Q[n++]:255;for(let T=0;T<d;T++)S[i++]=C&1<<7-T?M:j}return{srcPos:n,destPos:i}}function xe({src:Q,srcPos:n=0,dest:S,destPos:N=0,width:e,height:t}){let r=0;const z=Q.length>>2,j=new Uint32Array(Q.buffer,n,z);if(ne.FeatureTest.isLittleEndian){for(;r<z-2;r+=3,N+=4){const M=j[r],I=j[r+1],d=j[r+2];S[N]=M|4278190080,S[N+1]=M>>>24|I<<8|4278190080,S[N+2]=I>>>16|d<<16|4278190080,S[N+3]=d>>>8|4278190080}for(let M=r*4,I=Q.length;M<I;M+=3)S[N++]=Q[M]|Q[M+1]<<8|Q[M+2]<<16|4278190080}else{for(;r<z-2;r+=3,N+=4){const M=j[r],I=j[r+1],d=j[r+2];S[N]=M|255,S[N+1]=M<<24|I>>>8|255,S[N+2]=I<<16|d>>>16|255,S[N+3]=d<<8|255}for(let M=r*4,I=Q.length;M<I;M+=3)S[N++]=Q[M]<<24|Q[M+1]<<16|Q[M+2]<<8|255}return{srcPos:n,destPos:N}}function m(Q,n){if(ne.FeatureTest.isLittleEndian)for(let S=0,N=Q.length;S<N;S++)n[S]=Q[S]*65793|4278190080;else for(let S=0,N=Q.length;S<N;S++)n[S]=Q[S]*16843008|255}},(f,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.GlobalWorkerOptions=void 0;const de=Object.create(null);E.GlobalWorkerOptions=de,de.workerPort=null,de.workerSrc=""},(f,E,de)=>{var Q,ds,S,fs,e,Bn;Object.defineProperty(E,"__esModule",{value:!0}),E.MessageHandler=void 0;var ne=de(1);const fe={UNKNOWN:0,DATA:1,ERROR:2},we={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function xe(r){switch(r instanceof Error||typeof r=="object"&&r!==null||(0,ne.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new ne.AbortException(r.message);case"MissingPDFException":return new ne.MissingPDFException(r.message);case"PasswordException":return new ne.PasswordException(r.message,r.code);case"UnexpectedResponseException":return new ne.UnexpectedResponseException(r.message,r.status);case"UnknownErrorException":return new ne.UnknownErrorException(r.message,r.details);default:return new ne.UnknownErrorException(r.message,r.toString())}}class m{constructor(z,j,M){Me(this,Q);Me(this,S);Me(this,e);this.sourceName=z,this.targetName=j,this.comObj=M,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=I=>{const d=I.data;if(d.targetName!==this.sourceName)return;if(d.stream){Ne(this,S,fs).call(this,d);return}if(d.callback){const i=d.callbackId,F=this.callbackCapabilities[i];if(!F)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],d.callback===fe.DATA)F.resolve(d.data);else if(d.callback===fe.ERROR)F.reject(xe(d.reason));else throw new Error("Unexpected callback case");return}const u=this.actionHandler[d.action];if(!u)throw new Error(`Unknown action from worker: ${d.action}`);if(d.callbackId){const i=this.sourceName,F=d.sourceName;new Promise(function(C){C(u(d.data))}).then(function(C){M.postMessage({sourceName:i,targetName:F,callback:fe.DATA,callbackId:d.callbackId,data:C})},function(C){M.postMessage({sourceName:i,targetName:F,callback:fe.ERROR,callbackId:d.callbackId,reason:xe(C)})});return}if(d.streamId){Ne(this,Q,ds).call(this,d);return}u(d.data)},M.addEventListener("message",this._onComObjOnMessage)}on(z,j){const M=this.actionHandler;if(M[z])throw new Error(`There is already an actionName called "${z}"`);M[z]=j}send(z,j,M){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:z,data:j},M)}sendWithPromise(z,j,M){const I=this.callbackId++,d=new ne.PromiseCapability;this.callbackCapabilities[I]=d;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:z,callbackId:I,data:j},M)}catch(u){d.reject(u)}return d.promise}sendWithStream(z,j,M,I){const d=this.streamId++,u=this.sourceName,i=this.targetName,F=this.comObj;return new ReadableStream({start:C=>{const T=new ne.PromiseCapability;return this.streamControllers[d]={controller:C,startCall:T,pullCall:null,cancelCall:null,isClosed:!1},F.postMessage({sourceName:u,targetName:i,action:z,streamId:d,data:j,desiredSize:C.desiredSize},I),T.promise},pull:C=>{const T=new ne.PromiseCapability;return this.streamControllers[d].pullCall=T,F.postMessage({sourceName:u,targetName:i,stream:we.PULL,streamId:d,desiredSize:C.desiredSize}),T.promise},cancel:C=>{(0,ne.assert)(C instanceof Error,"cancel must have a valid reason");const T=new ne.PromiseCapability;return this.streamControllers[d].cancelCall=T,this.streamControllers[d].isClosed=!0,F.postMessage({sourceName:u,targetName:i,stream:we.CANCEL,streamId:d,reason:xe(C)}),T.promise}},M)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Q=new WeakSet,ds=function(z){const j=z.streamId,M=this.sourceName,I=z.sourceName,d=this.comObj,u=this,i=this.actionHandler[z.action],F={enqueue(C,T=1,b){if(this.isCancelled)return;const L=this.desiredSize;this.desiredSize-=T,L>0&&this.desiredSize<=0&&(this.sinkCapability=new ne.PromiseCapability,this.ready=this.sinkCapability.promise),d.postMessage({sourceName:M,targetName:I,stream:we.ENQUEUE,streamId:j,chunk:C},b)},close(){this.isCancelled||(this.isCancelled=!0,d.postMessage({sourceName:M,targetName:I,stream:we.CLOSE,streamId:j}),delete u.streamSinks[j])},error(C){(0,ne.assert)(C instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,d.postMessage({sourceName:M,targetName:I,stream:we.ERROR,streamId:j,reason:xe(C)}))},sinkCapability:new ne.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:z.desiredSize,ready:null};F.sinkCapability.resolve(),F.ready=F.sinkCapability.promise,this.streamSinks[j]=F,new Promise(function(C){C(i(z.data,F))}).then(function(){d.postMessage({sourceName:M,targetName:I,stream:we.START_COMPLETE,streamId:j,success:!0})},function(C){d.postMessage({sourceName:M,targetName:I,stream:we.START_COMPLETE,streamId:j,reason:xe(C)})})},S=new WeakSet,fs=function(z){const j=z.streamId,M=this.sourceName,I=z.sourceName,d=this.comObj,u=this.streamControllers[j],i=this.streamSinks[j];switch(z.stream){case we.START_COMPLETE:z.success?u.startCall.resolve():u.startCall.reject(xe(z.reason));break;case we.PULL_COMPLETE:z.success?u.pullCall.resolve():u.pullCall.reject(xe(z.reason));break;case we.PULL:if(!i){d.postMessage({sourceName:M,targetName:I,stream:we.PULL_COMPLETE,streamId:j,success:!0});break}i.desiredSize<=0&&z.desiredSize>0&&i.sinkCapability.resolve(),i.desiredSize=z.desiredSize,new Promise(function(F){var C;F((C=i.onPull)==null?void 0:C.call(i))}).then(function(){d.postMessage({sourceName:M,targetName:I,stream:we.PULL_COMPLETE,streamId:j,success:!0})},function(F){d.postMessage({sourceName:M,targetName:I,stream:we.PULL_COMPLETE,streamId:j,reason:xe(F)})});break;case we.ENQUEUE:if((0,ne.assert)(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(z.chunk);break;case we.CLOSE:if((0,ne.assert)(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),Ne(this,e,Bn).call(this,u,j);break;case we.ERROR:(0,ne.assert)(u,"error should have stream controller"),u.controller.error(xe(z.reason)),Ne(this,e,Bn).call(this,u,j);break;case we.CANCEL_COMPLETE:z.success?u.cancelCall.resolve():u.cancelCall.reject(xe(z.reason)),Ne(this,e,Bn).call(this,u,j);break;case we.CANCEL:if(!i)break;new Promise(function(F){var C;F((C=i.onCancel)==null?void 0:C.call(i,xe(z.reason)))}).then(function(){d.postMessage({sourceName:M,targetName:I,stream:we.CANCEL_COMPLETE,streamId:j,success:!0})},function(F){d.postMessage({sourceName:M,targetName:I,stream:we.CANCEL_COMPLETE,streamId:j,reason:xe(F)})}),i.sinkCapability.reject(xe(z.reason)),i.isCancelled=!0,delete this.streamSinks[j];break;default:throw new Error("Unexpected stream case")}},e=new WeakSet,Bn=async function(z,j){var M,I,d;await Promise.allSettled([(M=z.startCall)==null?void 0:M.promise,(I=z.pullCall)==null?void 0:I.promise,(d=z.cancelCall)==null?void 0:d.promise]),delete this.streamControllers[j]},E.MessageHandler=m},(f,E,de)=>{var we,xe;Object.defineProperty(E,"__esModule",{value:!0}),E.Metadata=void 0;var ne=de(1);class fe{constructor({parsedData:Q,rawData:n}){Me(this,we,void 0);Me(this,xe,void 0);Xe(this,we,Q),Xe(this,xe,n)}getRaw(){return pe(this,xe)}get(Q){return pe(this,we).get(Q)??null}getAll(){return(0,ne.objectFromMap)(pe(this,we))}has(Q){return pe(this,we).has(Q)}}we=new WeakMap,xe=new WeakMap,E.Metadata=fe},(f,E,de)=>{var Q,n,S,N,e,t,Oi;Object.defineProperty(E,"__esModule",{value:!0}),E.OptionalContentConfig=void 0;var ne=de(1),fe=de(8);const we=Symbol("INTERNAL");class xe{constructor(j,M){Me(this,Q,!0);this.name=j,this.intent=M}get visible(){return pe(this,Q)}_setVisible(j,M){j!==we&&(0,ne.unreachable)("Internal method `_setVisible` called."),Xe(this,Q,M)}}Q=new WeakMap;class m{constructor(j){Me(this,t);Me(this,n,null);Me(this,S,new Map);Me(this,N,null);Me(this,e,null);if(this.name=null,this.creator=null,j!==null){this.name=j.name,this.creator=j.creator,Xe(this,e,j.order);for(const M of j.groups)pe(this,S).set(M.id,new xe(M.name,M.intent));if(j.baseState==="OFF")for(const M of pe(this,S).values())M._setVisible(we,!1);for(const M of j.on)pe(this,S).get(M)._setVisible(we,!0);for(const M of j.off)pe(this,S).get(M)._setVisible(we,!1);Xe(this,N,this.getHash())}}isVisible(j){if(pe(this,S).size===0)return!0;if(!j)return(0,ne.warn)("Optional content group not defined."),!0;if(j.type==="OCG")return pe(this,S).has(j.id)?pe(this,S).get(j.id).visible:((0,ne.warn)(`Optional content group not found: ${j.id}`),!0);if(j.type==="OCMD"){if(j.expression)return Ne(this,t,Oi).call(this,j.expression);if(!j.policy||j.policy==="AnyOn"){for(const M of j.ids){if(!pe(this,S).has(M))return(0,ne.warn)(`Optional content group not found: ${M}`),!0;if(pe(this,S).get(M).visible)return!0}return!1}else if(j.policy==="AllOn"){for(const M of j.ids){if(!pe(this,S).has(M))return(0,ne.warn)(`Optional content group not found: ${M}`),!0;if(!pe(this,S).get(M).visible)return!1}return!0}else if(j.policy==="AnyOff"){for(const M of j.ids){if(!pe(this,S).has(M))return(0,ne.warn)(`Optional content group not found: ${M}`),!0;if(!pe(this,S).get(M).visible)return!0}return!1}else if(j.policy==="AllOff"){for(const M of j.ids){if(!pe(this,S).has(M))return(0,ne.warn)(`Optional content group not found: ${M}`),!0;if(pe(this,S).get(M).visible)return!1}return!0}return(0,ne.warn)(`Unknown optional content policy ${j.policy}.`),!0}return(0,ne.warn)(`Unknown group type ${j.type}.`),!0}setVisibility(j,M=!0){if(!pe(this,S).has(j)){(0,ne.warn)(`Optional content group not found: ${j}`);return}pe(this,S).get(j)._setVisible(we,!!M),Xe(this,n,null)}get hasInitialVisibility(){return pe(this,N)===null||this.getHash()===pe(this,N)}getOrder(){return pe(this,S).size?pe(this,e)?pe(this,e).slice():[...pe(this,S).keys()]:null}getGroups(){return pe(this,S).size>0?(0,ne.objectFromMap)(pe(this,S)):null}getGroup(j){return pe(this,S).get(j)||null}getHash(){if(pe(this,n)!==null)return pe(this,n);const j=new fe.MurmurHash3_64;for(const[M,I]of pe(this,S))j.update(`${M}:${I.visible}`);return Xe(this,n,j.hexdigest())}}n=new WeakMap,S=new WeakMap,N=new WeakMap,e=new WeakMap,t=new WeakSet,Oi=function(j){const M=j.length;if(M<2)return!0;const I=j[0];for(let d=1;d<M;d++){const u=j[d];let i;if(Array.isArray(u))i=Ne(this,t,Oi).call(this,u);else if(pe(this,S).has(u))i=pe(this,S).get(u).visible;else return(0,ne.warn)(`Optional content group not found: ${u}`),!0;switch(I){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return I==="And"},E.OptionalContentConfig=m},(f,E,de)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.PDFDataTransportStream=void 0;var ne=de(1),fe=de(6);class we{constructor({length:n,initialData:S,progressiveDone:N=!1,contentDispositionFilename:e=null,disableRange:t=!1,disableStream:r=!1},z){if((0,ne.assert)(z,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=N,this._contentDispositionFilename=e,(S==null?void 0:S.length)>0){const j=S instanceof Uint8Array&&S.byteLength===S.buffer.byteLength?S.buffer:new Uint8Array(S).buffer;this._queuedChunks.push(j)}this._pdfDataRangeTransport=z,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=n,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((j,M)=>{this._onReceiveData({begin:j,chunk:M})}),this._pdfDataRangeTransport.addProgressListener((j,M)=>{this._onProgress({loaded:j,total:M})}),this._pdfDataRangeTransport.addProgressiveReadListener(j=>{this._onReceiveData({chunk:j})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:n,chunk:S}){const N=S instanceof Uint8Array&&S.byteLength===S.buffer.byteLength?S.buffer:new Uint8Array(S).buffer;if(n===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(N):this._queuedChunks.push(N);else{const e=this._rangeReaders.some(function(t){return t._begin!==n?!1:(t._enqueue(N),!0)});(0,ne.assert)(e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var n;return((n=this._fullRequestReader)==null?void 0:n._loaded)??0}_onProgress(n){var S,N,e,t;n.total===void 0?(N=(S=this._rangeReaders[0])==null?void 0:S.onProgress)==null||N.call(S,{loaded:n.loaded}):(t=(e=this._fullRequestReader)==null?void 0:e.onProgress)==null||t.call(e,{loaded:n.loaded,total:n.total})}_onProgressiveDone(){var n;(n=this._fullRequestReader)==null||n.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(n){const S=this._rangeReaders.indexOf(n);S>=0&&this._rangeReaders.splice(S,1)}getFullReader(){(0,ne.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const n=this._queuedChunks;return this._queuedChunks=null,new xe(this,n,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(n,S){if(S<=this._progressiveDataLength)return null;const N=new m(this,n,S);return this._pdfDataRangeTransport.requestDataRange(n,S),this._rangeReaders.push(N),N}cancelAllRequests(n){var S;(S=this._fullRequestReader)==null||S.cancel(n);for(const N of this._rangeReaders.slice(0))N.cancel(n);this._pdfDataRangeTransport.abort()}}E.PDFDataTransportStream=we;class xe{constructor(n,S,N=!1,e=null){this._stream=n,this._done=N||!1,this._filename=(0,fe.isPdfFile)(e)?e:null,this._queuedChunks=S||[],this._loaded=0;for(const t of this._queuedChunks)this._loaded+=t.byteLength;this._requests=[],this._headersReady=Promise.resolve(),n._fullRequestReader=this,this.onProgress=null}_enqueue(n){this._done||(this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunks.push(n),this._loaded+=n.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const n=new ne.PromiseCapability;return this._requests.push(n),n.promise}cancel(n){this._done=!0;for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class m{constructor(n,S,N){this._stream=n,this._begin=S,this._end=N,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(n){if(!this._done){if(this._requests.length===0)this._queuedChunk=n;else{this._requests.shift().resolve({value:n,done:!1});for(const N of this._requests)N.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const S=this._queuedChunk;return this._queuedChunk=null,{value:S,done:!1}}if(this._done)return{value:void 0,done:!0};const n=new ne.PromiseCapability;return this._requests.push(n),n.promise}cancel(n){this._done=!0;for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(f,E,de)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.PDFFetchStream=void 0;var ne=de(1),fe=de(20);function we(N,e,t){return{method:"GET",headers:N,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function xe(N){const e=new Headers;for(const t in N){const r=N[t];r!==void 0&&e.append(t,r)}return e}function m(N){return N instanceof Uint8Array?N.buffer:N instanceof ArrayBuffer?N:((0,ne.warn)(`getArrayBuffer - unexpected data format: ${N}`),new Uint8Array(N).buffer)}class Q{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return(0,ne.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new n(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new S(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}E.PDFFetchStream=Q;class n{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=new ne.PromiseCapability,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=xe(this._stream.httpHeaders);const r=t.url;fetch(r,we(this._headers,this._withCredentials,this._abortController)).then(z=>{if(!(0,fe.validateResponseStatus)(z.status))throw(0,fe.createResponseStatusError)(z.status,r);this._reader=z.body.getReader(),this._headersCapability.resolve();const j=d=>z.headers.get(d),{allowRangeRequests:M,suggestedLength:I}=(0,fe.validateRangeRequestCapabilities)({getResponseHeader:j,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=M,this._contentLength=I||this._contentLength,this._filename=(0,fe.extractFilenameFromHeader)(j),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ne.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:m(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class S{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const z=e.source;this._withCredentials=z.withCredentials||!1,this._readCapability=new ne.PromiseCapability,this._isStreamingSupported=!z.disableStream,this._abortController=new AbortController,this._headers=xe(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${r-1}`);const j=z.url;fetch(j,we(this._headers,this._withCredentials,this._abortController)).then(M=>{if(!(0,fe.validateResponseStatus)(M.status))throw(0,fe.createResponseStatusError)(M.status,j);this._readCapability.resolve(),this._reader=M.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:m(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}},(f,E,de)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.createResponseStatusError=Q,E.extractFilenameFromHeader=m,E.validateRangeRequestCapabilities=xe,E.validateResponseStatus=n;var ne=de(1),fe=de(21),we=de(6);function xe({getResponseHeader:S,isHttp:N,rangeChunkSize:e,disableRange:t}){const r={allowRangeRequests:!1,suggestedLength:void 0},z=parseInt(S("Content-Length"),10);return!Number.isInteger(z)||(r.suggestedLength=z,z<=2*e)||t||!N||S("Accept-Ranges")!=="bytes"||(S("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function m(S){const N=S("Content-Disposition");if(N){let e=(0,fe.getFilenameFromContentDispositionHeader)(N);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if((0,we.isPdfFile)(e))return e}return null}function Q(S,N){return S===404||S===0&&N.startsWith("file:")?new ne.MissingPDFException('Missing PDF "'+N+'".'):new ne.UnexpectedResponseException(`Unexpected server response (${S}) while retrieving PDF "${N}".`,S)}function n(S){return S===200||S===206}},(f,E,de)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.getFilenameFromContentDispositionHeader=fe;var ne=de(1);function fe(we){let xe=!0,m=Q("filename\\*","i").exec(we);if(m){m=m[1];let z=e(m);return z=unescape(z),z=t(z),z=r(z),S(z)}if(m=N(we),m){const z=r(m);return S(z)}if(m=Q("filename","i").exec(we),m){m=m[1];let z=e(m);return z=r(z),S(z)}function Q(z,j){return new RegExp("(?:^|;)\\s*"+z+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',j)}function n(z,j){if(z){if(!/^[\x00-\xFF]+$/.test(j))return j;try{const M=new TextDecoder(z,{fatal:!0}),I=(0,ne.stringToBytes)(j);j=M.decode(I),xe=!1}catch{}}return j}function S(z){return xe&&/[\x80-\xff]/.test(z)&&(z=n("utf-8",z),xe&&(z=n("iso-8859-1",z))),z}function N(z){const j=[];let M;const I=Q("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(M=I.exec(z))!==null;){let[,u,i,F]=M;if(u=parseInt(u,10),u in j){if(u===0)break;continue}j[u]=[i,F]}const d=[];for(let u=0;u<j.length&&u in j;++u){let[i,F]=j[u];F=e(F),i&&(F=unescape(F),u===0&&(F=t(F))),d.push(F)}return d.join("")}function e(z){if(z.startsWith('"')){const j=z.slice(1).split('\\"');for(let M=0;M<j.length;++M){const I=j[M].indexOf('"');I!==-1&&(j[M]=j[M].slice(0,I),j.length=M+1),j[M]=j[M].replaceAll(/\\(.)/g,"$1")}z=j.join('"')}return z}function t(z){const j=z.indexOf("'");if(j===-1)return z;const M=z.slice(0,j),d=z.slice(j+1).replace(/^[^']*'/,"");return n(M,d)}function r(z){return!z.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(z)?z:z.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(j,M,I,d){if(I==="q"||I==="Q")return d=d.replaceAll("_"," "),d=d.replaceAll(/=([0-9a-fA-F]{2})/g,function(u,i){return String.fromCharCode(parseInt(i,16))}),n(M,d);try{d=atob(d)}catch{}return n(M,d)})}return""}},(f,E,de)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.PDFNetworkStream=void 0;var ne=de(1),fe=de(20);const we=200,xe=206;function m(e){const t=e.response;return typeof t!="string"?t:(0,ne.stringToBytes)(t).buffer}class Q{constructor(t,r={}){this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&r.httpHeaders||Object.create(null),this.withCredentials=r.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,r,z){const j={begin:t,end:r};for(const M in z)j[M]=z[M];return this.request(j)}requestFull(t){return this.request(t)}request(t){const r=new XMLHttpRequest,z=this.currXhrId++,j=this.pendingRequests[z]={xhr:r};r.open("GET",this.url),r.withCredentials=this.withCredentials;for(const M in this.httpHeaders){const I=this.httpHeaders[M];I!==void 0&&r.setRequestHeader(M,I)}return this.isHttp&&"begin"in t&&"end"in t?(r.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),j.expectedStatus=xe):j.expectedStatus=we,r.responseType="arraybuffer",t.onError&&(r.onerror=function(M){t.onError(r.status)}),r.onreadystatechange=this.onStateChange.bind(this,z),r.onprogress=this.onProgress.bind(this,z),j.onHeadersReceived=t.onHeadersReceived,j.onDone=t.onDone,j.onError=t.onError,j.onProgress=t.onProgress,r.send(null),z}onProgress(t,r){var j;const z=this.pendingRequests[t];z&&((j=z.onProgress)==null||j.call(z,r))}onStateChange(t,r){var u,i,F;const z=this.pendingRequests[t];if(!z)return;const j=z.xhr;if(j.readyState>=2&&z.onHeadersReceived&&(z.onHeadersReceived(),delete z.onHeadersReceived),j.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],j.status===0&&this.isHttp){(u=z.onError)==null||u.call(z,j.status);return}const M=j.status||we;if(!(M===we&&z.expectedStatus===xe)&&M!==z.expectedStatus){(i=z.onError)==null||i.call(z,j.status);return}const d=m(j);if(M===xe){const C=j.getResponseHeader("Content-Range"),T=/bytes (\d+)-(\d+)\/(\d+)/.exec(C);z.onDone({begin:parseInt(T[1],10),chunk:d})}else d?z.onDone({begin:0,chunk:d}):(F=z.onError)==null||F.call(z,j.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const r=this.pendingRequests[t].xhr;delete this.pendingRequests[t],r.abort()}}class n{constructor(t){this._source=t,this._manager=new Q(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const r=this._rangeRequestReaders.indexOf(t);r>=0&&this._rangeRequestReaders.splice(r,1)}getFullReader(){return(0,ne.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new S(this._manager,this._source),this._fullRequestReader}getRangeReader(t,r){const z=new N(this._manager,t,r);return z.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(z),z}cancelAllRequests(t){var r;(r=this._fullRequestReader)==null||r.cancel(t);for(const z of this._rangeRequestReaders.slice(0))z.cancel(t)}}E.PDFNetworkStream=n;class S{constructor(t,r){this._manager=t;const z={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=r.url,this._fullRequestId=t.requestFull(z),this._headersReceivedCapability=new ne.PromiseCapability,this._disableRange=r.disableRange||!1,this._contentLength=r.length,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,r=this._manager.getRequestXhr(t),z=I=>r.getResponseHeader(I),{allowRangeRequests:j,suggestedLength:M}=(0,fe.validateRangeRequestCapabilities)({getResponseHeader:z,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});j&&(this._isRangeSupported=!0),this._contentLength=M||this._contentLength,this._filename=(0,fe.extractFilenameFromHeader)(z),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=(0,fe.createResponseStatusError)(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const r of this._requests)r.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var r;(r=this.onProgress)==null||r.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=new ne.PromiseCapability;return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class N{constructor(t,r,z){this._manager=t;const j={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(r,z,j),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const r=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:r,done:!1}):this._queuedChunk=r,this._done=!0;for(const z of this._requests)z.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=(0,fe.createResponseStatusError)(t,this._url);for(const r of this._requests)r.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var r;this.isStreamingSupported||(r=this.onProgress)==null||r.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const r=this._queuedChunk;return this._queuedChunk=null,{value:r,done:!1}}if(this._done)return{value:void 0,done:!0};const t=new ne.PromiseCapability;return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(f,E,de)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.PDFNodeStream=void 0;var ne=de(1),fe=de(20);const we=/^file:\/\/\/[a-zA-Z]:\//;function xe(z){const j=require$$5,M=j.parse(z);return M.protocol==="file:"||M.host?M:/^[a-z]:[/\\]/i.test(z)?j.parse(`file:///${z}`):(M.host||(M.protocol="file:"),M)}class m{constructor(j){this.source=j,this.url=xe(j.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&j.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var j;return((j=this._fullRequestReader)==null?void 0:j._loaded)??0}getFullReader(){return(0,ne.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new t(this):new N(this),this._fullRequestReader}getRangeReader(j,M){if(M<=this._progressiveDataLength)return null;const I=this.isFsUrl?new r(this,j,M):new e(this,j,M);return this._rangeRequestReaders.push(I),I}cancelAllRequests(j){var M;(M=this._fullRequestReader)==null||M.cancel(j);for(const I of this._rangeRequestReaders.slice(0))I.cancel(j)}}E.PDFNodeStream=m;class Q{constructor(j){this._url=j.url,this._done=!1,this._storedError=null,this.onProgress=null;const M=j.source;this._contentLength=M.length,this._loaded=0,this._filename=null,this._disableRange=M.disableRange||!1,this._rangeChunkSize=M.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!M.disableStream,this._isRangeSupported=!M.disableRange,this._readableStream=null,this._readCapability=new ne.PromiseCapability,this._headersCapability=new ne.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var I;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const j=this._readableStream.read();return j===null?(this._readCapability=new ne.PromiseCapability,this.read()):(this._loaded+=j.length,(I=this.onProgress)==null||I.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(j).buffer,done:!1})}cancel(j){if(!this._readableStream){this._error(j);return}this._readableStream.destroy(j)}_error(j){this._storedError=j,this._readCapability.resolve()}_setReadableStream(j){this._readableStream=j,j.on("readable",()=>{this._readCapability.resolve()}),j.on("end",()=>{j.destroy(),this._done=!0,this._readCapability.resolve()}),j.on("error",M=>{this._error(M)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ne.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class n{constructor(j){this._url=j.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new ne.PromiseCapability;const M=j.source;this._isStreamingSupported=!M.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var I;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const j=this._readableStream.read();return j===null?(this._readCapability=new ne.PromiseCapability,this.read()):(this._loaded+=j.length,(I=this.onProgress)==null||I.call(this,{loaded:this._loaded}),{value:new Uint8Array(j).buffer,done:!1})}cancel(j){if(!this._readableStream){this._error(j);return}this._readableStream.destroy(j)}_error(j){this._storedError=j,this._readCapability.resolve()}_setReadableStream(j){this._readableStream=j,j.on("readable",()=>{this._readCapability.resolve()}),j.on("end",()=>{j.destroy(),this._done=!0,this._readCapability.resolve()}),j.on("error",M=>{this._error(M)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function S(z,j){return{protocol:z.protocol,auth:z.auth,host:z.hostname,port:z.port,path:z.path,method:"GET",headers:j}}class N extends Q{constructor(j){super(j);const M=I=>{if(I.statusCode===404){const F=new ne.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=F,this._headersCapability.reject(F);return}this._headersCapability.resolve(),this._setReadableStream(I);const d=F=>this._readableStream.headers[F.toLowerCase()],{allowRangeRequests:u,suggestedLength:i}=(0,fe.validateRangeRequestCapabilities)({getResponseHeader:d,isHttp:j.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=i||this._contentLength,this._filename=(0,fe.extractFilenameFromHeader)(d)};if(this._request=null,this._url.protocol==="http:"){const I=require$$5;this._request=I.request(S(this._url,j.httpHeaders),M)}else{const I=require$$5;this._request=I.request(S(this._url,j.httpHeaders),M)}this._request.on("error",I=>{this._storedError=I,this._headersCapability.reject(I)}),this._request.end()}}class e extends n{constructor(j,M,I){super(j),this._httpHeaders={};for(const u in j.httpHeaders){const i=j.httpHeaders[u];i!==void 0&&(this._httpHeaders[u]=i)}this._httpHeaders.Range=`bytes=${M}-${I-1}`;const d=u=>{if(u.statusCode===404){const i=new ne.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=i;return}this._setReadableStream(u)};if(this._request=null,this._url.protocol==="http:"){const u=require$$5;this._request=u.request(S(this._url,this._httpHeaders),d)}else{const u=require$$5;this._request=u.request(S(this._url,this._httpHeaders),d)}this._request.on("error",u=>{this._storedError=u}),this._request.end()}}class t extends Q{constructor(j){super(j);let M=decodeURIComponent(this._url.path);we.test(this._url.href)&&(M=M.replace(/^\//,""));const I=require$$5;I.lstat(M,(d,u)=>{if(d){d.code==="ENOENT"&&(d=new ne.MissingPDFException(`Missing PDF "${M}".`)),this._storedError=d,this._headersCapability.reject(d);return}this._contentLength=u.size,this._setReadableStream(I.createReadStream(M)),this._headersCapability.resolve()})}}class r extends n{constructor(j,M,I){super(j);let d=decodeURIComponent(this._url.path);we.test(this._url.href)&&(d=d.replace(/^\//,""));const u=require$$5;this._setReadableStream(u.createReadStream(d,{start:M,end:I-1}))}}},(f,E,de)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.SVGGraphics=void 0;var ne=de(6),fe=de(1);const we={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},xe="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/1999/xlink",Q=["butt","round","square"],n=["miter","round","bevel"],S=function(u,i="",F=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!F)return URL.createObjectURL(new Blob([u],{type:i}));const C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let T=`data:${i};base64,`;for(let b=0,L=u.length;b<L;b+=3){const B=u[b]&255,V=u[b+1]&255,k=u[b+2]&255,_=B>>2,l=(B&3)<<4|V>>4,x=b+1<L?(V&15)<<2|k>>6:64,X=b+2<L?k&63:64;T+=C[_]+C[l]+C[x]+C[X]}return T},N=function(){const u=new Uint8Array([137,80,78,71,13,10,26,10]),i=12,F=new Int32Array(256);for(let k=0;k<256;k++){let _=k;for(let l=0;l<8;l++)_=_&1?3988292384^_>>1&2147483647:_>>1&2147483647;F[k]=_}function C(k,_,l){let x=-1;for(let X=_;X<l;X++){const a=(x^k[X])&255,g=F[a];x=x>>>8^g}return x^-1}function T(k,_,l,x){let X=x;const a=_.length;l[X]=a>>24&255,l[X+1]=a>>16&255,l[X+2]=a>>8&255,l[X+3]=a&255,X+=4,l[X]=k.charCodeAt(0)&255,l[X+1]=k.charCodeAt(1)&255,l[X+2]=k.charCodeAt(2)&255,l[X+3]=k.charCodeAt(3)&255,X+=4,l.set(_,X),X+=_.length;const g=C(l,x+4,X);l[X]=g>>24&255,l[X+1]=g>>16&255,l[X+2]=g>>8&255,l[X+3]=g&255}function b(k,_,l){let x=1,X=0;for(let a=_;a<l;++a)x=(x+(k[a]&255))%65521,X=(X+x)%65521;return X<<16|x}function L(k){if(!fe.isNodeJS)return B(k);try{const _=parseInt(process.versions.node)>=8?k:Buffer.from(k),l=require$$5.deflateSync(_,{level:9});return l instanceof Uint8Array?l:new Uint8Array(l)}catch(_){(0,fe.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+_)}return B(k)}function B(k){let _=k.length;const l=65535,x=Math.ceil(_/l),X=new Uint8Array(2+_+x*5+4);let a=0;X[a++]=120,X[a++]=156;let g=0;for(;_>l;)X[a++]=0,X[a++]=255,X[a++]=255,X[a++]=0,X[a++]=0,X.set(k.subarray(g,g+l),a),a+=l,g+=l,_-=l;X[a++]=1,X[a++]=_&255,X[a++]=_>>8&255,X[a++]=~_&65535&255,X[a++]=(~_&65535)>>8&255,X.set(k.subarray(g),a),a+=k.length-g;const P=b(k,0,k.length);return X[a++]=P>>24&255,X[a++]=P>>16&255,X[a++]=P>>8&255,X[a++]=P&255,X}function V(k,_,l,x){const X=k.width,a=k.height;let g,P,G;const D=k.data;switch(_){case fe.ImageKind.GRAYSCALE_1BPP:P=0,g=1,G=X+7>>3;break;case fe.ImageKind.RGB_24BPP:P=2,g=8,G=X*3;break;case fe.ImageKind.RGBA_32BPP:P=6,g=8,G=X*4;break;default:throw new Error("invalid format")}const w=new Uint8Array((1+G)*a);let A=0,v=0;for(let W=0;W<a;++W)w[A++]=0,w.set(D.subarray(v,v+G),A),v+=G,A+=G;if(_===fe.ImageKind.GRAYSCALE_1BPP&&x){A=0;for(let W=0;W<a;W++){A++;for(let R=0;R<G;R++)w[A++]^=255}}const o=new Uint8Array([X>>24&255,X>>16&255,X>>8&255,X&255,a>>24&255,a>>16&255,a>>8&255,a&255,g,P,0,0,0]),y=L(w),c=u.length+i*3+o.length+y.length,h=new Uint8Array(c);let O=0;return h.set(u,O),O+=u.length,T("IHDR",o,h,O),O+=i+o.length,T("IDATA",y,h,O),O+=i+y.length,T("IEND",new Uint8Array(0),h,O),S(h,"image/png",l)}return function(_,l,x){const X=_.kind===void 0?fe.ImageKind.GRAYSCALE_1BPP:_.kind;return V(_,X,l,x)}}();class e{constructor(){this.fontSizeScale=1,this.fontWeight=we.fontWeight,this.fontSize=0,this.textMatrix=fe.IDENTITY_MATRIX,this.fontMatrix=fe.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=fe.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=we.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(i,F){this.x=i,this.y=F}}function t(u){let i=[];const F=[];for(const C of u){if(C.fn==="save"){i.push({fnId:92,fn:"group",items:[]}),F.push(i),i=i.at(-1).items;continue}C.fn==="restore"?i=F.pop():i.push(C)}return i}function r(u){if(Number.isInteger(u))return u.toString();const i=u.toFixed(10);let F=i.length-1;if(i[F]!=="0")return i;do F--;while(i[F]==="0");return i.substring(0,i[F]==="."?F:F+1)}function z(u){if(u[4]===0&&u[5]===0){if(u[1]===0&&u[2]===0)return u[0]===1&&u[3]===1?"":`scale(${r(u[0])} ${r(u[3])})`;if(u[0]===u[3]&&u[1]===-u[2]){const i=Math.acos(u[0])*180/Math.PI;return`rotate(${r(i)})`}}else if(u[0]===1&&u[1]===0&&u[2]===0&&u[3]===1)return`translate(${r(u[4])} ${r(u[5])})`;return`matrix(${r(u[0])} ${r(u[1])} ${r(u[2])} ${r(u[3])} ${r(u[4])} ${r(u[5])})`}let j=0,M=0,I=0;class d{constructor(i,F,C=!1){(0,ne.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new ne.DOMSVGFactory,this.current=new e,this.transformMatrix=fe.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=i,this.objs=F,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!C,this._operatorIdMapping=[];for(const T in fe.OPS)this._operatorIdMapping[fe.OPS[T]]=T}getObject(i,F=null){return typeof i=="string"?i.startsWith("g_")?this.commonObjs.get(i):this.objs.get(i):F}save(){this.transformStack.push(this.transformMatrix);const i=this.current;this.extraStack.push(i),this.current=i.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(i){this.save(),this.executeOpTree(i),this.restore()}loadDependencies(i){const F=i.fnArray,C=i.argsArray;for(let T=0,b=F.length;T<b;T++)if(F[T]===fe.OPS.dependency)for(const L of C[T]){const B=L.startsWith("g_")?this.commonObjs:this.objs,V=new Promise(k=>{B.get(L,k)});this.current.dependencies.push(V)}return Promise.all(this.current.dependencies)}transform(i,F,C,T,b,L){const B=[i,F,C,T,b,L];this.transformMatrix=fe.Util.transform(this.transformMatrix,B),this.tgrp=null}getSVG(i,F){this.viewport=F;const C=this._initialize(F);return this.loadDependencies(i).then(()=>(this.transformMatrix=fe.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(i)),C))}convertOpList(i){const F=this._operatorIdMapping,C=i.argsArray,T=i.fnArray,b=[];for(let L=0,B=T.length;L<B;L++){const V=T[L];b.push({fnId:V,fn:F[V],args:C[L]})}return t(b)}executeOpTree(i){for(const F of i){const C=F.fn,T=F.fnId,b=F.args;switch(T|0){case fe.OPS.beginText:this.beginText();break;case fe.OPS.dependency:break;case fe.OPS.setLeading:this.setLeading(b);break;case fe.OPS.setLeadingMoveText:this.setLeadingMoveText(b[0],b[1]);break;case fe.OPS.setFont:this.setFont(b);break;case fe.OPS.showText:this.showText(b[0]);break;case fe.OPS.showSpacedText:this.showText(b[0]);break;case fe.OPS.endText:this.endText();break;case fe.OPS.moveText:this.moveText(b[0],b[1]);break;case fe.OPS.setCharSpacing:this.setCharSpacing(b[0]);break;case fe.OPS.setWordSpacing:this.setWordSpacing(b[0]);break;case fe.OPS.setHScale:this.setHScale(b[0]);break;case fe.OPS.setTextMatrix:this.setTextMatrix(b[0],b[1],b[2],b[3],b[4],b[5]);break;case fe.OPS.setTextRise:this.setTextRise(b[0]);break;case fe.OPS.setTextRenderingMode:this.setTextRenderingMode(b[0]);break;case fe.OPS.setLineWidth:this.setLineWidth(b[0]);break;case fe.OPS.setLineJoin:this.setLineJoin(b[0]);break;case fe.OPS.setLineCap:this.setLineCap(b[0]);break;case fe.OPS.setMiterLimit:this.setMiterLimit(b[0]);break;case fe.OPS.setFillRGBColor:this.setFillRGBColor(b[0],b[1],b[2]);break;case fe.OPS.setStrokeRGBColor:this.setStrokeRGBColor(b[0],b[1],b[2]);break;case fe.OPS.setStrokeColorN:this.setStrokeColorN(b);break;case fe.OPS.setFillColorN:this.setFillColorN(b);break;case fe.OPS.shadingFill:this.shadingFill(b[0]);break;case fe.OPS.setDash:this.setDash(b[0],b[1]);break;case fe.OPS.setRenderingIntent:this.setRenderingIntent(b[0]);break;case fe.OPS.setFlatness:this.setFlatness(b[0]);break;case fe.OPS.setGState:this.setGState(b[0]);break;case fe.OPS.fill:this.fill();break;case fe.OPS.eoFill:this.eoFill();break;case fe.OPS.stroke:this.stroke();break;case fe.OPS.fillStroke:this.fillStroke();break;case fe.OPS.eoFillStroke:this.eoFillStroke();break;case fe.OPS.clip:this.clip("nonzero");break;case fe.OPS.eoClip:this.clip("evenodd");break;case fe.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case fe.OPS.paintImageXObject:this.paintImageXObject(b[0]);break;case fe.OPS.paintInlineImageXObject:this.paintInlineImageXObject(b[0]);break;case fe.OPS.paintImageMaskXObject:this.paintImageMaskXObject(b[0]);break;case fe.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(b[0],b[1]);break;case fe.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case fe.OPS.closePath:this.closePath();break;case fe.OPS.closeStroke:this.closeStroke();break;case fe.OPS.closeFillStroke:this.closeFillStroke();break;case fe.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case fe.OPS.nextLine:this.nextLine();break;case fe.OPS.transform:this.transform(b[0],b[1],b[2],b[3],b[4],b[5]);break;case fe.OPS.constructPath:this.constructPath(b[0],b[1]);break;case fe.OPS.endPath:this.endPath();break;case 92:this.group(F.items);break;default:(0,fe.warn)(`Unimplemented operator ${C}`);break}}}setWordSpacing(i){this.current.wordSpacing=i}setCharSpacing(i){this.current.charSpacing=i}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(i,F,C,T,b,L){const B=this.current;B.textMatrix=B.lineMatrix=[i,F,C,T,b,L],B.textMatrixScale=Math.hypot(i,F),B.x=B.lineX=0,B.y=B.lineY=0,B.xcoords=[],B.ycoords=[],B.tspan=this.svgFactory.createElement("svg:tspan"),B.tspan.setAttributeNS(null,"font-family",B.fontFamily),B.tspan.setAttributeNS(null,"font-size",`${r(B.fontSize)}px`),B.tspan.setAttributeNS(null,"y",r(-B.y)),B.txtElement=this.svgFactory.createElement("svg:text"),B.txtElement.append(B.tspan)}beginText(){const i=this.current;i.x=i.lineX=0,i.y=i.lineY=0,i.textMatrix=fe.IDENTITY_MATRIX,i.lineMatrix=fe.IDENTITY_MATRIX,i.textMatrixScale=1,i.tspan=this.svgFactory.createElement("svg:tspan"),i.txtElement=this.svgFactory.createElement("svg:text"),i.txtgrp=this.svgFactory.createElement("svg:g"),i.xcoords=[],i.ycoords=[]}moveText(i,F){const C=this.current;C.x=C.lineX+=i,C.y=C.lineY+=F,C.xcoords=[],C.ycoords=[],C.tspan=this.svgFactory.createElement("svg:tspan"),C.tspan.setAttributeNS(null,"font-family",C.fontFamily),C.tspan.setAttributeNS(null,"font-size",`${r(C.fontSize)}px`),C.tspan.setAttributeNS(null,"y",r(-C.y))}showText(i){const F=this.current,C=F.font,T=F.fontSize;if(T===0)return;const b=F.fontSizeScale,L=F.charSpacing,B=F.wordSpacing,V=F.fontDirection,k=F.textHScale*V,_=C.vertical,l=_?1:-1,x=C.defaultVMetrics,X=T*F.fontMatrix[0];let a=0;for(const G of i){if(G===null){a+=V*B;continue}else if(typeof G=="number"){a+=l*G*T/1e3;continue}const D=(G.isSpace?B:0)+L,w=G.fontChar;let A,v,o=G.width;if(_){let c;const h=G.vmetric||x;c=G.vmetric?h[1]:o*.5,c=-c*X;const O=h[2]*X;o=h?-h[0]:o,A=c/b,v=(a+O)/b}else A=a/b,v=0;(G.isInFont||C.missingFile)&&(F.xcoords.push(F.x+A),_&&F.ycoords.push(-F.y+v),F.tspan.textContent+=w);const y=_?o*X-D*V:o*X+D*V;a+=y}F.tspan.setAttributeNS(null,"x",F.xcoords.map(r).join(" ")),_?F.tspan.setAttributeNS(null,"y",F.ycoords.map(r).join(" ")):F.tspan.setAttributeNS(null,"y",r(-F.y)),_?F.y-=a:F.x+=a*k,F.tspan.setAttributeNS(null,"font-family",F.fontFamily),F.tspan.setAttributeNS(null,"font-size",`${r(F.fontSize)}px`),F.fontStyle!==we.fontStyle&&F.tspan.setAttributeNS(null,"font-style",F.fontStyle),F.fontWeight!==we.fontWeight&&F.tspan.setAttributeNS(null,"font-weight",F.fontWeight);const g=F.textRenderingMode&fe.TextRenderingMode.FILL_STROKE_MASK;if(g===fe.TextRenderingMode.FILL||g===fe.TextRenderingMode.FILL_STROKE?(F.fillColor!==we.fillColor&&F.tspan.setAttributeNS(null,"fill",F.fillColor),F.fillAlpha<1&&F.tspan.setAttributeNS(null,"fill-opacity",F.fillAlpha)):F.textRenderingMode===fe.TextRenderingMode.ADD_TO_PATH?F.tspan.setAttributeNS(null,"fill","transparent"):F.tspan.setAttributeNS(null,"fill","none"),g===fe.TextRenderingMode.STROKE||g===fe.TextRenderingMode.FILL_STROKE){const G=1/(F.textMatrixScale||1);this._setStrokeAttributes(F.tspan,G)}let P=F.textMatrix;F.textRise!==0&&(P=P.slice(),P[5]+=F.textRise),F.txtElement.setAttributeNS(null,"transform",`${z(P)} scale(${r(k)}, -1)`),F.txtElement.setAttributeNS(xe,"xml:space","preserve"),F.txtElement.append(F.tspan),F.txtgrp.append(F.txtElement),this._ensureTransformGroup().append(F.txtElement)}setLeadingMoveText(i,F){this.setLeading(-F),this.moveText(i,F)}addFontStyle(i){if(!i.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const F=S(i.data,i.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${i.loadedName}"; src: url(${F}); }
`}setFont(i){const F=this.current,C=this.commonObjs.get(i[0]);let T=i[1];F.font=C,this.embedFonts&&!C.missingFile&&!this.embeddedFonts[C.loadedName]&&(this.addFontStyle(C),this.embeddedFonts[C.loadedName]=C),F.fontMatrix=C.fontMatrix||fe.FONT_IDENTITY_MATRIX;let b="normal";C.black?b="900":C.bold&&(b="bold");const L=C.italic?"italic":"normal";T<0?(T=-T,F.fontDirection=-1):F.fontDirection=1,F.fontSize=T,F.fontFamily=C.loadedName,F.fontWeight=b,F.fontStyle=L,F.tspan=this.svgFactory.createElement("svg:tspan"),F.tspan.setAttributeNS(null,"y",r(-F.y)),F.xcoords=[],F.ycoords=[]}endText(){var F;const i=this.current;i.textRenderingMode&fe.TextRenderingMode.ADD_TO_PATH_FLAG&&((F=i.txtElement)!=null&&F.hasChildNodes())&&(i.element=i.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(i){i>0&&(this.current.lineWidth=i)}setLineCap(i){this.current.lineCap=Q[i]}setLineJoin(i){this.current.lineJoin=n[i]}setMiterLimit(i){this.current.miterLimit=i}setStrokeAlpha(i){this.current.strokeAlpha=i}setStrokeRGBColor(i,F,C){this.current.strokeColor=fe.Util.makeHexColor(i,F,C)}setFillAlpha(i){this.current.fillAlpha=i}setFillRGBColor(i,F,C){this.current.fillColor=fe.Util.makeHexColor(i,F,C),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(i){this.current.strokeColor=this._makeColorN_Pattern(i)}setFillColorN(i){this.current.fillColor=this._makeColorN_Pattern(i)}shadingFill(i){const{width:F,height:C}=this.viewport,T=fe.Util.inverseTransform(this.transformMatrix),[b,L,B,V]=fe.Util.getAxialAlignedBoundingBox([0,0,F,C],T),k=this.svgFactory.createElement("svg:rect");k.setAttributeNS(null,"x",b),k.setAttributeNS(null,"y",L),k.setAttributeNS(null,"width",B-b),k.setAttributeNS(null,"height",V-L),k.setAttributeNS(null,"fill",this._makeShadingPattern(i)),this.current.fillAlpha<1&&k.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(k)}_makeColorN_Pattern(i){return i[0]==="TilingPattern"?this._makeTilingPattern(i):this._makeShadingPattern(i)}_makeTilingPattern(i){const F=i[1],C=i[2],T=i[3]||fe.IDENTITY_MATRIX,[b,L,B,V]=i[4],k=i[5],_=i[6],l=i[7],x=`shading${I++}`,[X,a,g,P]=fe.Util.normalizeRect([...fe.Util.applyTransform([b,L],T),...fe.Util.applyTransform([B,V],T)]),[G,D]=fe.Util.singularValueDecompose2dScale(T),w=k*G,A=_*D,v=this.svgFactory.createElement("svg:pattern");v.setAttributeNS(null,"id",x),v.setAttributeNS(null,"patternUnits","userSpaceOnUse"),v.setAttributeNS(null,"width",w),v.setAttributeNS(null,"height",A),v.setAttributeNS(null,"x",`${X}`),v.setAttributeNS(null,"y",`${a}`);const o=this.svg,y=this.transformMatrix,c=this.current.fillColor,h=this.current.strokeColor,O=this.svgFactory.create(g-X,P-a);if(this.svg=O,this.transformMatrix=T,l===2){const W=fe.Util.makeHexColor(...F);this.current.fillColor=W,this.current.strokeColor=W}return this.executeOpTree(this.convertOpList(C)),this.svg=o,this.transformMatrix=y,this.current.fillColor=c,this.current.strokeColor=h,v.append(O.childNodes[0]),this.defs.append(v),`url(#${x})`}_makeShadingPattern(i){switch(typeof i=="string"&&(i=this.objs.get(i)),i[0]){case"RadialAxial":const F=`shading${I++}`,C=i[3];let T;switch(i[1]){case"axial":const b=i[4],L=i[5];T=this.svgFactory.createElement("svg:linearGradient"),T.setAttributeNS(null,"id",F),T.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),T.setAttributeNS(null,"x1",b[0]),T.setAttributeNS(null,"y1",b[1]),T.setAttributeNS(null,"x2",L[0]),T.setAttributeNS(null,"y2",L[1]);break;case"radial":const B=i[4],V=i[5],k=i[6],_=i[7];T=this.svgFactory.createElement("svg:radialGradient"),T.setAttributeNS(null,"id",F),T.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),T.setAttributeNS(null,"cx",V[0]),T.setAttributeNS(null,"cy",V[1]),T.setAttributeNS(null,"r",_),T.setAttributeNS(null,"fx",B[0]),T.setAttributeNS(null,"fy",B[1]),T.setAttributeNS(null,"fr",k);break;default:throw new Error(`Unknown RadialAxial type: ${i[1]}`)}for(const b of C){const L=this.svgFactory.createElement("svg:stop");L.setAttributeNS(null,"offset",b[0]),L.setAttributeNS(null,"stop-color",b[1]),T.append(L)}return this.defs.append(T),`url(#${F})`;case"Mesh":return(0,fe.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${i[0]}`)}}setDash(i,F){this.current.dashArray=i,this.current.dashPhase=F}constructPath(i,F){const C=this.current;let T=C.x,b=C.y,L=[],B=0;for(const V of i)switch(V|0){case fe.OPS.rectangle:T=F[B++],b=F[B++];const k=F[B++],_=F[B++],l=T+k,x=b+_;L.push("M",r(T),r(b),"L",r(l),r(b),"L",r(l),r(x),"L",r(T),r(x),"Z");break;case fe.OPS.moveTo:T=F[B++],b=F[B++],L.push("M",r(T),r(b));break;case fe.OPS.lineTo:T=F[B++],b=F[B++],L.push("L",r(T),r(b));break;case fe.OPS.curveTo:T=F[B+4],b=F[B+5],L.push("C",r(F[B]),r(F[B+1]),r(F[B+2]),r(F[B+3]),r(T),r(b)),B+=6;break;case fe.OPS.curveTo2:L.push("C",r(T),r(b),r(F[B]),r(F[B+1]),r(F[B+2]),r(F[B+3])),T=F[B+2],b=F[B+3],B+=4;break;case fe.OPS.curveTo3:T=F[B+2],b=F[B+3],L.push("C",r(F[B]),r(F[B+1]),r(T),r(b),r(T),r(b)),B+=4;break;case fe.OPS.closePath:L.push("Z");break}L=L.join(" "),C.path&&i.length>0&&i[0]!==fe.OPS.rectangle&&i[0]!==fe.OPS.moveTo?L=C.path.getAttributeNS(null,"d")+L:(C.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(C.path)),C.path.setAttributeNS(null,"d",L),C.path.setAttributeNS(null,"fill","none"),C.element=C.path,C.setCurrentPoint(T,b)}endPath(){const i=this.current;if(i.path=null,!this.pendingClip)return;if(!i.element){this.pendingClip=null;return}const F=`clippath${j++}`,C=this.svgFactory.createElement("svg:clipPath");C.setAttributeNS(null,"id",F),C.setAttributeNS(null,"transform",z(this.transformMatrix));const T=i.element.cloneNode(!0);if(this.pendingClip==="evenodd"?T.setAttributeNS(null,"clip-rule","evenodd"):T.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,C.append(T),this.defs.append(C),i.activeClipUrl){i.clipGroup=null;for(const b of this.extraStack)b.clipGroup=null;C.setAttributeNS(null,"clip-path",i.activeClipUrl)}i.activeClipUrl=`url(#${F})`,this.tgrp=null}clip(i){this.pendingClip=i}closePath(){const i=this.current;if(i.path){const F=`${i.path.getAttributeNS(null,"d")}Z`;i.path.setAttributeNS(null,"d",F)}}setLeading(i){this.current.leading=-i}setTextRise(i){this.current.textRise=i}setTextRenderingMode(i){this.current.textRenderingMode=i}setHScale(i){this.current.textHScale=i/100}setRenderingIntent(i){}setFlatness(i){}setGState(i){for(const[F,C]of i)switch(F){case"LW":this.setLineWidth(C);break;case"LC":this.setLineCap(C);break;case"LJ":this.setLineJoin(C);break;case"ML":this.setMiterLimit(C);break;case"D":this.setDash(C[0],C[1]);break;case"RI":this.setRenderingIntent(C);break;case"FL":this.setFlatness(C);break;case"Font":this.setFont(C);break;case"CA":this.setStrokeAlpha(C);break;case"ca":this.setFillAlpha(C);break;default:(0,fe.warn)(`Unimplemented graphic state operator ${F}`);break}}fill(){const i=this.current;i.element&&(i.element.setAttributeNS(null,"fill",i.fillColor),i.element.setAttributeNS(null,"fill-opacity",i.fillAlpha),this.endPath())}stroke(){const i=this.current;i.element&&(this._setStrokeAttributes(i.element),i.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(i,F=1){const C=this.current;let T=C.dashArray;F!==1&&T.length>0&&(T=T.map(function(b){return F*b})),i.setAttributeNS(null,"stroke",C.strokeColor),i.setAttributeNS(null,"stroke-opacity",C.strokeAlpha),i.setAttributeNS(null,"stroke-miterlimit",r(C.miterLimit)),i.setAttributeNS(null,"stroke-linecap",C.lineCap),i.setAttributeNS(null,"stroke-linejoin",C.lineJoin),i.setAttributeNS(null,"stroke-width",r(F*C.lineWidth)+"px"),i.setAttributeNS(null,"stroke-dasharray",T.map(r).join(" ")),i.setAttributeNS(null,"stroke-dashoffset",r(F*C.dashPhase)+"px")}eoFill(){var i;(i=this.current.element)==null||i.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var i;(i=this.current.element)==null||i.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"width","1px"),i.setAttributeNS(null,"height","1px"),i.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(i)}paintImageXObject(i){const F=this.getObject(i);if(!F){(0,fe.warn)(`Dependent image with object ID ${i} is not ready yet`);return}this.paintInlineImageXObject(F)}paintInlineImageXObject(i,F){const C=i.width,T=i.height,b=N(i,this.forceDataSchema,!!F),L=this.svgFactory.createElement("svg:rect");L.setAttributeNS(null,"x","0"),L.setAttributeNS(null,"y","0"),L.setAttributeNS(null,"width",r(C)),L.setAttributeNS(null,"height",r(T)),this.current.element=L,this.clip("nonzero");const B=this.svgFactory.createElement("svg:image");B.setAttributeNS(m,"xlink:href",b),B.setAttributeNS(null,"x","0"),B.setAttributeNS(null,"y",r(-T)),B.setAttributeNS(null,"width",r(C)+"px"),B.setAttributeNS(null,"height",r(T)+"px"),B.setAttributeNS(null,"transform",`scale(${r(1/C)} ${r(-1/T)})`),F?F.append(B):this._ensureTransformGroup().append(B)}paintImageMaskXObject(i){const F=this.getObject(i.data,i);if(F.bitmap){(0,fe.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const C=this.current,T=F.width,b=F.height,L=C.fillColor;C.maskId=`mask${M++}`;const B=this.svgFactory.createElement("svg:mask");B.setAttributeNS(null,"id",C.maskId);const V=this.svgFactory.createElement("svg:rect");V.setAttributeNS(null,"x","0"),V.setAttributeNS(null,"y","0"),V.setAttributeNS(null,"width",r(T)),V.setAttributeNS(null,"height",r(b)),V.setAttributeNS(null,"fill",L),V.setAttributeNS(null,"mask",`url(#${C.maskId})`),this.defs.append(B),this._ensureTransformGroup().append(V),this.paintInlineImageXObject(F,B)}paintFormXObjectBegin(i,F){if(Array.isArray(i)&&i.length===6&&this.transform(i[0],i[1],i[2],i[3],i[4],i[5]),F){const C=F[2]-F[0],T=F[3]-F[1],b=this.svgFactory.createElement("svg:rect");b.setAttributeNS(null,"x",F[0]),b.setAttributeNS(null,"y",F[1]),b.setAttributeNS(null,"width",r(C)),b.setAttributeNS(null,"height",r(T)),this.current.element=b,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(i){const F=this.svgFactory.create(i.width,i.height),C=this.svgFactory.createElement("svg:defs");F.append(C),this.defs=C;const T=this.svgFactory.createElement("svg:g");return T.setAttributeNS(null,"transform",z(i.transform)),F.append(T),this.svg=T,F}_ensureClipGroup(){if(!this.current.clipGroup){const i=this.svgFactory.createElement("svg:g");i.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(i),this.current.clipGroup=i}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",z(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}E.SVGGraphics=d},(f,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.XfaText=void 0;class de{static textContent(fe){const we=[],xe={items:we,styles:Object.create(null)};function m(Q){var N;if(!Q)return;let n=null;const S=Q.name;if(S==="#text")n=Q.value;else if(de.shouldBuildText(S))(N=Q==null?void 0:Q.attributes)!=null&&N.textContent?n=Q.attributes.textContent:Q.value&&(n=Q.value);else return;if(n!==null&&we.push({str:n}),!!Q.children)for(const e of Q.children)m(e)}return m(fe),xe}static shouldBuildText(fe){return!(fe==="textarea"||fe==="input"||fe==="option"||fe==="select")}}E.XfaText=de},(f,E,de)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.TextLayerRenderTask=void 0,E.renderTextLayer=z,E.updateTextLayer=j;var ne=de(1),fe=de(6);const we=1e5,xe=30,m=.8,Q=new Map;function n(M,I){let d;if(I&&ne.FeatureTest.isOffscreenCanvasSupported)d=new OffscreenCanvas(M,M).getContext("2d",{alpha:!1});else{const u=document.createElement("canvas");u.width=u.height=M,d=u.getContext("2d",{alpha:!1})}return d}function S(M,I){const d=Q.get(M);if(d)return d;const u=n(xe,I);u.font=`${xe}px ${M}`;const i=u.measureText("");let F=i.fontBoundingBoxAscent,C=Math.abs(i.fontBoundingBoxDescent);if(F){const b=F/(F+C);return Q.set(M,b),u.canvas.width=u.canvas.height=0,b}u.strokeStyle="red",u.clearRect(0,0,xe,xe),u.strokeText("g",0,0);let T=u.getImageData(0,0,xe,xe).data;C=0;for(let b=T.length-1-3;b>=0;b-=4)if(T[b]>0){C=Math.ceil(b/4/xe);break}u.clearRect(0,0,xe,xe),u.strokeText("A",0,xe),T=u.getImageData(0,0,xe,xe).data,F=0;for(let b=0,L=T.length;b<L;b+=4)if(T[b]>0){F=xe-Math.floor(b/4/xe);break}if(u.canvas.width=u.canvas.height=0,F){const b=F/(F+C);return Q.set(M,b),b}return Q.set(M,m),m}function N(M,I,d){const u=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:I.str!=="",hasEOL:I.hasEOL,fontSize:0};M._textDivs.push(u);const F=ne.Util.transform(M._transform,I.transform);let C=Math.atan2(F[1],F[0]);const T=d[I.fontName];T.vertical&&(C+=Math.PI/2);const b=Math.hypot(F[2],F[3]),L=b*S(T.fontFamily,M._isOffscreenCanvasSupported);let B,V;C===0?(B=F[4],V=F[5]-L):(B=F[4]+L*Math.sin(C),V=F[5]-L*Math.cos(C));const k="calc(var(--scale-factor)*",_=u.style;M._container===M._rootContainer?(_.left=`${(100*B/M._pageWidth).toFixed(2)}%`,_.top=`${(100*V/M._pageHeight).toFixed(2)}%`):(_.left=`${k}${B.toFixed(2)}px)`,_.top=`${k}${V.toFixed(2)}px)`),_.fontSize=`${k}${b.toFixed(2)}px)`,_.fontFamily=T.fontFamily,i.fontSize=b,u.setAttribute("role","presentation"),u.textContent=I.str,u.dir=I.dir,M._fontInspectorEnabled&&(u.dataset.fontName=I.fontName),C!==0&&(i.angle=C*(180/Math.PI));let l=!1;if(I.str.length>1)l=!0;else if(I.str!==" "&&I.transform[0]!==I.transform[3]){const x=Math.abs(I.transform[0]),X=Math.abs(I.transform[3]);x!==X&&Math.max(x,X)/Math.min(x,X)>1.5&&(l=!0)}l&&(i.canvasWidth=T.vertical?I.height:I.width),M._textDivProperties.set(u,i),M._isReadableStream&&M._layoutText(u)}function e(M){const{div:I,scale:d,properties:u,ctx:i,prevFontSize:F,prevFontFamily:C}=M,{style:T}=I;let b="";if(u.canvasWidth!==0&&u.hasText){const{fontFamily:L}=T,{canvasWidth:B,fontSize:V}=u;(F!==V||C!==L)&&(i.font=`${V*d}px ${L}`,M.prevFontSize=V,M.prevFontFamily=L);const{width:k}=i.measureText(I.textContent);k>0&&(b=`scaleX(${B*d/k})`)}u.angle!==0&&(b=`rotate(${u.angle}deg) ${b}`),b.length>0&&(T.transform=b)}function t(M){if(M._canceled)return;const I=M._textDivs,d=M._capability;if(I.length>we){d.resolve();return}if(!M._isReadableStream)for(const i of I)M._layoutText(i);d.resolve()}class r{constructor({textContentSource:I,container:d,viewport:u,textDivs:i,textDivProperties:F,textContentItemsStr:C,isOffscreenCanvasSupported:T}){var k;this._textContentSource=I,this._isReadableStream=I instanceof ReadableStream,this._container=this._rootContainer=d,this._textDivs=i||[],this._textContentItemsStr=C||[],this._isOffscreenCanvasSupported=T,this._fontInspectorEnabled=!!((k=globalThis.FontInspector)!=null&&k.enabled),this._reader=null,this._textDivProperties=F||new WeakMap,this._canceled=!1,this._capability=new ne.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:u.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:n(0,T)};const{pageWidth:b,pageHeight:L,pageX:B,pageY:V}=u.rawDims;this._transform=[1,0,0,-1,-B,V+L],this._pageWidth=b,this._pageHeight=L,(0,fe.setLayerDimensions)(d,u),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new ne.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new ne.AbortException("TextLayer task cancelled."))}_processItems(I,d){for(const u of I){if(u.str===void 0){if(u.type==="beginMarkedContentProps"||u.type==="beginMarkedContent"){const i=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),u.id!==null&&this._container.setAttribute("id",`${u.id}`),i.append(this._container)}else u.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(u.str),N(this,u,d)}}_layoutText(I){const d=this._layoutTextParams.properties=this._textDivProperties.get(I);if(this._layoutTextParams.div=I,e(this._layoutTextParams),d.hasText&&this._container.append(I),d.hasEOL){const u=document.createElement("br");u.setAttribute("role","presentation"),this._container.append(u)}}_render(){const I=new ne.PromiseCapability;let d=Object.create(null);if(this._isReadableStream){const u=()=>{this._reader.read().then(({value:i,done:F})=>{if(F){I.resolve();return}Object.assign(d,i.styles),this._processItems(i.items,d),u()},I.reject)};this._reader=this._textContentSource.getReader(),u()}else if(this._textContentSource){const{items:u,styles:i}=this._textContentSource;this._processItems(u,i),I.resolve()}else throw new Error('No "textContentSource" parameter specified.');I.promise.then(()=>{d=null,t(this)},this._capability.reject)}}E.TextLayerRenderTask=r;function z(M){!M.textContentSource&&(M.textContent||M.textContentStream)&&((0,fe.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),M.textContentSource=M.textContent||M.textContentStream);const{container:I,viewport:d}=M,u=getComputedStyle(I),i=u.getPropertyValue("visibility"),F=parseFloat(u.getPropertyValue("--scale-factor"));i==="visible"&&(!F||Math.abs(F-d.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const C=new r(M);return C._render(),C}function j({container:M,viewport:I,textDivs:d,textDivProperties:u,isOffscreenCanvasSupported:i,mustRotate:F=!0,mustRescale:C=!0}){if(F&&(0,fe.setLayerDimensions)(M,{rotation:I.rotation}),C){const T=n(0,i),L={prevFontSize:null,prevFontFamily:null,div:null,scale:I.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:T};for(const B of d)L.properties=u.get(B),L.div=B,e(L)}}},(f,E,de)=>{var S,N,e,t,r,z,j,M,I,d,u,Pi,F,$n,T,_i,L,Mi;Object.defineProperty(E,"__esModule",{value:!0}),E.AnnotationEditorLayer=void 0;var ne=de(1),fe=de(4),we=de(28),xe=de(33),m=de(6),Q=de(34);const V=class V{constructor({uiManager:_,pageIndex:l,div:x,accessibilityManager:X,annotationLayer:a,viewport:g,l10n:P}){Me(this,u);Me(this,F);Me(this,T);Me(this,L);Me(this,S,void 0);Me(this,N,!1);Me(this,e,null);Me(this,t,this.pointerup.bind(this));Me(this,r,this.pointerdown.bind(this));Me(this,z,new Map);Me(this,j,!1);Me(this,M,!1);Me(this,I,!1);Me(this,d,void 0);const G=[we.FreeTextEditor,xe.InkEditor,Q.StampEditor];if(!V._initialized){V._initialized=!0;for(const D of G)D.initialize(P)}_.registerEditorTypes(G),Xe(this,d,_),this.pageIndex=l,this.div=x,Xe(this,S,X),Xe(this,e,a),this.viewport=g,pe(this,d).addLayer(this)}get isEmpty(){return pe(this,z).size===0}updateToolbar(_){pe(this,d).updateToolbar(_)}updateMode(_=pe(this,d).getMode()){Ne(this,L,Mi).call(this),_===ne.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),_!==ne.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",_===ne.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",_===ne.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",_===ne.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(_){if(!_&&pe(this,d).getMode()!==ne.AnnotationEditorType.INK)return;if(!_){for(const x of pe(this,z).values())if(x.isEmpty()){x.setInBackground();return}}Ne(this,F,$n).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(_){pe(this,d).setEditingState(_)}addCommands(_){pe(this,d).addCommands(_)}enable(){this.div.style.pointerEvents="auto";const _=new Set;for(const x of pe(this,z).values())x.enableEditing(),x.annotationElementId&&_.add(x.annotationElementId);if(!pe(this,e))return;const l=pe(this,e).getEditableAnnotations();for(const x of l){if(x.hide(),pe(this,d).isDeletedAnnotationElement(x.data.id)||_.has(x.data.id))continue;const X=this.deserialize(x);X&&(this.addOrRebuild(X),X.enableEditing())}}disable(){var l;Xe(this,I,!0),this.div.style.pointerEvents="none";const _=new Set;for(const x of pe(this,z).values()){if(x.disableEditing(),!x.annotationElementId||x.serialize()!==null){_.add(x.annotationElementId);continue}(l=this.getEditableAnnotation(x.annotationElementId))==null||l.show(),x.remove()}if(pe(this,e)){const x=pe(this,e).getEditableAnnotations();for(const X of x){const{id:a}=X.data;_.has(a)||pe(this,d).isDeletedAnnotationElement(a)||X.show()}}Ne(this,L,Mi).call(this),this.isEmpty&&(this.div.hidden=!0),Xe(this,I,!1)}getEditableAnnotation(_){var l;return((l=pe(this,e))==null?void 0:l.getEditableAnnotation(_))||null}setActiveEditor(_){pe(this,d).getActive()!==_&&pe(this,d).setActiveEditor(_)}enableClick(){this.div.addEventListener("pointerdown",pe(this,r)),this.div.addEventListener("pointerup",pe(this,t))}disableClick(){this.div.removeEventListener("pointerdown",pe(this,r)),this.div.removeEventListener("pointerup",pe(this,t))}attach(_){pe(this,z).set(_.id,_);const{annotationElementId:l}=_;l&&pe(this,d).isDeletedAnnotationElement(l)&&pe(this,d).removeDeletedAnnotationElement(_)}detach(_){var l;pe(this,z).delete(_.id),(l=pe(this,S))==null||l.removePointerInTextLayer(_.contentDiv),!pe(this,I)&&_.annotationElementId&&pe(this,d).addDeletedAnnotationElement(_)}remove(_){this.detach(_),pe(this,d).removeEditor(_),_.div.contains(document.activeElement)&&setTimeout(()=>{pe(this,d).focusMainContainer()},0),_.div.remove(),_.isAttachedToDOM=!1,pe(this,M)||this.addInkEditorIfNeeded(!1)}changeParent(_){var l;_.parent!==this&&(_.annotationElementId&&(pe(this,d).addDeletedAnnotationElement(_.annotationElementId),fe.AnnotationEditor.deleteAnnotationElement(_),_.annotationElementId=null),this.attach(_),(l=_.parent)==null||l.detach(_),_.setParent(this),_.div&&_.isAttachedToDOM&&(_.div.remove(),this.div.append(_.div)))}add(_){if(this.changeParent(_),pe(this,d).addEditor(_),this.attach(_),!_.isAttachedToDOM){const l=_.render();this.div.append(l),_.isAttachedToDOM=!0}_.fixAndSetPosition(),_.onceAdded(),pe(this,d).addToAnnotationStorage(_)}moveEditorInDOM(_){var x;if(!_.isAttachedToDOM)return;const{activeElement:l}=document;_.div.contains(l)&&(_._focusEventsAllowed=!1,setTimeout(()=>{_.div.contains(document.activeElement)?_._focusEventsAllowed=!0:(_.div.addEventListener("focusin",()=>{_._focusEventsAllowed=!0},{once:!0}),l.focus())},0)),_._structTreeParentId=(x=pe(this,S))==null?void 0:x.moveElementInDOM(this.div,_.div,_.contentDiv,!0)}addOrRebuild(_){_.needsToBeRebuilt()?_.rebuild():this.add(_)}addUndoableEditor(_){const l=()=>_._uiManager.rebuild(_),x=()=>{_.remove()};this.addCommands({cmd:l,undo:x,mustExec:!1})}getNextId(){return pe(this,d).getId()}pasteEditor(_,l){pe(this,d).updateToolbar(_),pe(this,d).updateMode(_);const{offsetX:x,offsetY:X}=Ne(this,T,_i).call(this),a=this.getNextId(),g=Ne(this,u,Pi).call(this,{parent:this,id:a,x,y:X,uiManager:pe(this,d),isCentered:!0,...l});g&&this.add(g)}deserialize(_){switch(_.annotationType??_.annotationEditorType){case ne.AnnotationEditorType.FREETEXT:return we.FreeTextEditor.deserialize(_,this,pe(this,d));case ne.AnnotationEditorType.INK:return xe.InkEditor.deserialize(_,this,pe(this,d));case ne.AnnotationEditorType.STAMP:return Q.StampEditor.deserialize(_,this,pe(this,d))}return null}addNewEditor(){Ne(this,F,$n).call(this,Ne(this,T,_i).call(this),!0)}setSelected(_){pe(this,d).setSelected(_)}toggleSelected(_){pe(this,d).toggleSelected(_)}isSelected(_){return pe(this,d).isSelected(_)}unselect(_){pe(this,d).unselect(_)}pointerup(_){const{isMac:l}=ne.FeatureTest.platform;if(!(_.button!==0||_.ctrlKey&&l)&&_.target===this.div&&pe(this,j)){if(Xe(this,j,!1),!pe(this,N)){Xe(this,N,!0);return}if(pe(this,d).getMode()===ne.AnnotationEditorType.STAMP){pe(this,d).unselectAll();return}Ne(this,F,$n).call(this,_,!1)}}pointerdown(_){if(pe(this,j)){Xe(this,j,!1);return}const{isMac:l}=ne.FeatureTest.platform;if(_.button!==0||_.ctrlKey&&l||_.target!==this.div)return;Xe(this,j,!0);const x=pe(this,d).getActive();Xe(this,N,!x||x.isEmpty())}findNewParent(_,l,x){const X=pe(this,d).findParent(l,x);return X===null||X===this?!1:(X.changeParent(_),!0)}destroy(){var _,l;((_=pe(this,d).getActive())==null?void 0:_.parent)===this&&(pe(this,d).commitOrRemove(),pe(this,d).setActiveEditor(null));for(const x of pe(this,z).values())(l=pe(this,S))==null||l.removePointerInTextLayer(x.contentDiv),x.setParent(null),x.isAttachedToDOM=!1,x.div.remove();this.div=null,pe(this,z).clear(),pe(this,d).removeLayer(this)}render({viewport:_}){this.viewport=_,(0,m.setLayerDimensions)(this.div,_);for(const l of pe(this,d).getEditors(this.pageIndex))this.add(l);this.updateMode()}update({viewport:_}){pe(this,d).commitOrRemove(),this.viewport=_,(0,m.setLayerDimensions)(this.div,{rotation:_.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:_,pageHeight:l}=this.viewport.rawDims;return[_,l]}};S=new WeakMap,N=new WeakMap,e=new WeakMap,t=new WeakMap,r=new WeakMap,z=new WeakMap,j=new WeakMap,M=new WeakMap,I=new WeakMap,d=new WeakMap,u=new WeakSet,Pi=function(_){switch(pe(this,d).getMode()){case ne.AnnotationEditorType.FREETEXT:return new we.FreeTextEditor(_);case ne.AnnotationEditorType.INK:return new xe.InkEditor(_);case ne.AnnotationEditorType.STAMP:return new Q.StampEditor(_)}return null},F=new WeakSet,$n=function(_,l){const x=this.getNextId(),X=Ne(this,u,Pi).call(this,{parent:this,id:x,x:_.offsetX,y:_.offsetY,uiManager:pe(this,d),isCentered:l});return X&&this.add(X),X},T=new WeakSet,_i=function(){const{x:_,y:l,width:x,height:X}=this.div.getBoundingClientRect(),a=Math.max(0,_),g=Math.max(0,l),P=Math.min(window.innerWidth,_+x),G=Math.min(window.innerHeight,l+X),D=(a+P)/2-_,w=(g+G)/2-l,[A,v]=this.viewport.rotation%180===0?[D,w]:[w,D];return{offsetX:A,offsetY:v}},L=new WeakSet,Mi=function(){Xe(this,M,!0);for(const _ of pe(this,z).values())_.isEmpty()&&_.remove();Xe(this,M,!1)},Dt(V,"_initialized",!1);let n=V;E.AnnotationEditorLayer=n},(f,E,de)=>{var Q,n,S,N,e,t,r,z,j,M,gs,d,ps,i,ms,C,Fn,b,Ri,B,xs,k,Di;Object.defineProperty(E,"__esModule",{value:!0}),E.FreeTextEditor=void 0;var ne=de(1),fe=de(5),we=de(4),xe=de(29);const l=class l extends we.AnnotationEditor{constructor(a){super({...a,name:"freeTextEditor"});Me(this,M);Me(this,d);Me(this,i);Me(this,C);Me(this,b);Me(this,B);Me(this,k);Me(this,Q,this.editorDivBlur.bind(this));Me(this,n,this.editorDivFocus.bind(this));Me(this,S,this.editorDivInput.bind(this));Me(this,N,this.editorDivKeydown.bind(this));Me(this,e,void 0);Me(this,t,"");Me(this,r,`${this.id}-editor`);Me(this,z,void 0);Me(this,j,null);Xe(this,e,a.color||l._defaultColor||we.AnnotationEditor._defaultLineColor),Xe(this,z,a.fontSize||l._defaultFontSize)}static get _keyboardManager(){const a=l.prototype,g=D=>D.isEmpty(),P=fe.AnnotationEditorUIManager.TRANSLATE_SMALL,G=fe.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,ne.shadow)(this,"_keyboardManager",new fe.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],a.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],a.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],a._translateEmpty,{args:[-P,0],checker:g}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],a._translateEmpty,{args:[-G,0],checker:g}],[["ArrowRight","mac+ArrowRight"],a._translateEmpty,{args:[P,0],checker:g}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],a._translateEmpty,{args:[G,0],checker:g}],[["ArrowUp","mac+ArrowUp"],a._translateEmpty,{args:[0,-P],checker:g}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],a._translateEmpty,{args:[0,-G],checker:g}],[["ArrowDown","mac+ArrowDown"],a._translateEmpty,{args:[0,P],checker:g}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],a._translateEmpty,{args:[0,G],checker:g}]]))}static initialize(a){we.AnnotationEditor.initialize(a,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const g=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(g.getPropertyValue("--freetext-padding"))}static updateDefaultParams(a,g){switch(a){case ne.AnnotationEditorParamsType.FREETEXT_SIZE:l._defaultFontSize=g;break;case ne.AnnotationEditorParamsType.FREETEXT_COLOR:l._defaultColor=g;break}}updateParams(a,g){switch(a){case ne.AnnotationEditorParamsType.FREETEXT_SIZE:Ne(this,M,gs).call(this,g);break;case ne.AnnotationEditorParamsType.FREETEXT_COLOR:Ne(this,d,ps).call(this,g);break}}static get defaultPropertiesToUpdate(){return[[ne.AnnotationEditorParamsType.FREETEXT_SIZE,l._defaultFontSize],[ne.AnnotationEditorParamsType.FREETEXT_COLOR,l._defaultColor||we.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[ne.AnnotationEditorParamsType.FREETEXT_SIZE,pe(this,z)],[ne.AnnotationEditorParamsType.FREETEXT_COLOR,pe(this,e)]]}_translateEmpty(a,g){this._uiManager.translateSelectedEditors(a,g,!0)}getInitialTranslation(){const a=this.parentScale;return[-l._internalPadding*a,-(l._internalPadding+pe(this,z))*a]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(ne.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",pe(this,N)),this.editorDiv.addEventListener("focus",pe(this,n)),this.editorDiv.addEventListener("blur",pe(this,Q)),this.editorDiv.addEventListener("input",pe(this,S)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",pe(this,r)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",pe(this,N)),this.editorDiv.removeEventListener("focus",pe(this,n)),this.editorDiv.removeEventListener("blur",pe(this,Q)),this.editorDiv.removeEventListener("input",pe(this,S)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(a){this._focusEventsAllowed&&(super.focusin(a),a.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var a;if(this.width){Ne(this,k,Di).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(a=this._initialOptions)!=null&&a.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const a=pe(this,t),g=Xe(this,t,Ne(this,i,ms).call(this).trimEnd());if(a===g)return;const P=G=>{if(Xe(this,t,G),!G){this.remove();return}Ne(this,b,Ri).call(this),this._uiManager.rebuild(this),Ne(this,C,Fn).call(this)};this.addCommands({cmd:()=>{P(g)},undo:()=>{P(a)},mustExec:!1}),Ne(this,C,Fn).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(a){this.enterInEditMode()}keydown(a){a.target===this.div&&a.key==="Enter"&&(this.enterInEditMode(),a.preventDefault())}editorDivKeydown(a){l._keyboardManager.exec(this,a)}editorDivFocus(a){this.isEditing=!0}editorDivBlur(a){this.isEditing=!1}editorDivInput(a){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let a,g;this.width&&(a=this.x,g=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",pe(this,r)),this.enableEditing(),we.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(G=>{var D;return(D=this.editorDiv)==null?void 0:D.setAttribute("aria-label",G)}),we.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(G=>{var D;return(D=this.editorDiv)==null?void 0:D.setAttribute("default-content",G)}),this.editorDiv.contentEditable=!0;const{style:P}=this.editorDiv;if(P.fontSize=`calc(${pe(this,z)}px * var(--scale-factor))`,P.color=pe(this,e),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,fe.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[G,D]=this.parentDimensions;if(this.annotationElementId){const{position:w}=pe(this,j);let[A,v]=this.getInitialTranslation();[A,v]=this.pageTranslationToScreen(A,v);const[o,y]=this.pageDimensions,[c,h]=this.pageTranslation;let O,W;switch(this.rotation){case 0:O=a+(w[0]-c)/o,W=g+this.height-(w[1]-h)/y;break;case 90:O=a+(w[0]-c)/o,W=g-(w[1]-h)/y,[A,v]=[v,-A];break;case 180:O=a-this.width+(w[0]-c)/o,W=g-(w[1]-h)/y,[A,v]=[-A,-v];break;case 270:O=a+(w[0]-c-this.height*y)/o,W=g+(w[1]-h-this.width*o)/y,[A,v]=[-v,A];break}this.setAt(O*G,W*D,A,v)}else this.setAt(a*G,g*D,this.width*G,this.height*D);Ne(this,b,Ri).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(a,g,P){let G=null;if(a instanceof xe.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:w,fontColor:A},rect:v,rotation:o,id:y},textContent:c,textPosition:h,parent:{page:{pageNumber:O}}}=a;if(!c||c.length===0)return null;G=a={annotationType:ne.AnnotationEditorType.FREETEXT,color:Array.from(A),fontSize:w,value:c.join(`
`),position:h,pageIndex:O-1,rect:v,rotation:o,id:y,deleted:!1}}const D=super.deserialize(a,g,P);return Xe(D,z,a.fontSize),Xe(D,e,ne.Util.makeHexColor(...a.color)),Xe(D,t,a.value),D.annotationElementId=a.id||null,Xe(D,j,G),D}serialize(a=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const g=l._internalPadding*this.parentScale,P=this.getRect(g,g),G=we.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:pe(this,e)),D={annotationType:ne.AnnotationEditorType.FREETEXT,color:G,fontSize:pe(this,z),value:pe(this,t),pageIndex:this.pageIndex,rect:P,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return a?D:this.annotationElementId&&!Ne(this,B,xs).call(this,D)?null:(D.id=this.annotationElementId,D)}};Q=new WeakMap,n=new WeakMap,S=new WeakMap,N=new WeakMap,e=new WeakMap,t=new WeakMap,r=new WeakMap,z=new WeakMap,j=new WeakMap,M=new WeakSet,gs=function(a){const g=G=>{this.editorDiv.style.fontSize=`calc(${G}px * var(--scale-factor))`,this.translate(0,-(G-pe(this,z))*this.parentScale),Xe(this,z,G),Ne(this,C,Fn).call(this)},P=pe(this,z);this.addCommands({cmd:()=>{g(a)},undo:()=>{g(P)},mustExec:!0,type:ne.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},d=new WeakSet,ps=function(a){const g=pe(this,e);this.addCommands({cmd:()=>{Xe(this,e,this.editorDiv.style.color=a)},undo:()=>{Xe(this,e,this.editorDiv.style.color=g)},mustExec:!0,type:ne.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},i=new WeakSet,ms=function(){const a=this.editorDiv.getElementsByTagName("div");if(a.length===0)return this.editorDiv.innerText;const g=[];for(const P of a)g.push(P.innerText.replace(/\r\n?|\n/,""));return g.join(`
`)},C=new WeakSet,Fn=function(){const[a,g]=this.parentDimensions;let P;if(this.isAttachedToDOM)P=this.div.getBoundingClientRect();else{const{currentLayer:G,div:D}=this,w=D.style.display;D.style.display="hidden",G.div.append(this.div),P=D.getBoundingClientRect(),D.remove(),D.style.display=w}this.rotation%180===this.parentRotation%180?(this.width=P.width/a,this.height=P.height/g):(this.width=P.height/a,this.height=P.width/g),this.fixAndSetPosition()},b=new WeakSet,Ri=function(){if(this.editorDiv.replaceChildren(),!!pe(this,t))for(const a of pe(this,t).split(`
`)){const g=document.createElement("div");g.append(a?document.createTextNode(a):document.createElement("br")),this.editorDiv.append(g)}},B=new WeakSet,xs=function(a){const{value:g,fontSize:P,color:G,rect:D,pageIndex:w}=pe(this,j);return a.value!==g||a.fontSize!==P||a.rect.some((A,v)=>Math.abs(A-D[v])>=1)||a.color.some((A,v)=>A!==G[v])||a.pageIndex!==w},k=new WeakSet,Di=function(a=!1){if(!this.annotationElementId)return;if(Ne(this,C,Fn).call(this),!a&&(this.width===0||this.height===0)){setTimeout(()=>Ne(this,k,Di).call(this,!0),0);return}const g=l._internalPadding*this.parentScale;pe(this,j).rect=this.getRect(g,g)},Dt(l,"_freeTextDefaultContent",""),Dt(l,"_internalPadding",0),Dt(l,"_defaultColor",null),Dt(l,"_defaultFontSize",10),Dt(l,"_type","freetext");let m=l;E.FreeTextEditor=m},(f,E,de)=>{var v,y,an,h,bs,W,R,H,ae,q,ce,ee,se,$,U,K,J,Y,ie,re,Z,he,le,ys,ue,jn,ye,Ni,Oe,Li,Se,Ae,ke,_e,je,Re,be,Bi,$e,Pe,ze,We,ws,Le,$i;Object.defineProperty(E,"__esModule",{value:!0}),E.StampAnnotationElement=E.InkAnnotationElement=E.FreeTextAnnotationElement=E.AnnotationLayer=void 0;var ne=de(1),fe=de(6),we=de(3),xe=de(30),m=de(31),Q=de(32);const n=1e3,S=9,N=new WeakSet;function e(Qe){return{width:Qe[2]-Qe[0],height:Qe[3]-Qe[1]}}class t{static create(Fe){switch(Fe.data.annotationType){case ne.AnnotationType.LINK:return new z(Fe);case ne.AnnotationType.TEXT:return new j(Fe);case ne.AnnotationType.WIDGET:switch(Fe.data.fieldType){case"Tx":return new I(Fe);case"Btn":return Fe.data.radioButton?new i(Fe):Fe.data.checkBox?new u(Fe):new F(Fe);case"Ch":return new C(Fe);case"Sig":return new d(Fe)}return new M(Fe);case ne.AnnotationType.POPUP:return new T(Fe);case ne.AnnotationType.FREETEXT:return new L(Fe);case ne.AnnotationType.LINE:return new B(Fe);case ne.AnnotationType.SQUARE:return new V(Fe);case ne.AnnotationType.CIRCLE:return new k(Fe);case ne.AnnotationType.POLYLINE:return new _(Fe);case ne.AnnotationType.CARET:return new x(Fe);case ne.AnnotationType.INK:return new X(Fe);case ne.AnnotationType.POLYGON:return new l(Fe);case ne.AnnotationType.HIGHLIGHT:return new a(Fe);case ne.AnnotationType.UNDERLINE:return new g(Fe);case ne.AnnotationType.SQUIGGLY:return new P(Fe);case ne.AnnotationType.STRIKEOUT:return new G(Fe);case ne.AnnotationType.STAMP:return new D(Fe);case ne.AnnotationType.FILEATTACHMENT:return new w(Fe);default:return new r(Fe)}}}const o=class o{constructor(Fe,{isRenderable:me=!1,ignoreBorder:Te=!1,createQuadrilaterals:Ie=!1}={}){Me(this,v,!1);this.isRenderable=me,this.data=Fe.data,this.layer=Fe.layer,this.linkService=Fe.linkService,this.downloadManager=Fe.downloadManager,this.imageResourcesPath=Fe.imageResourcesPath,this.renderForms=Fe.renderForms,this.svgFactory=Fe.svgFactory,this.annotationStorage=Fe.annotationStorage,this.enableScripting=Fe.enableScripting,this.hasJSActions=Fe.hasJSActions,this._fieldObjects=Fe.fieldObjects,this.parent=Fe.parent,me&&(this.container=this._createContainer(Te)),Ie&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Fe,contentsObj:me,richText:Te}){return!!(Fe!=null&&Fe.str||me!=null&&me.str||Te!=null&&Te.str)}get hasPopupData(){return o._hasPopupData(this.data)}_createContainer(Fe){const{data:me,parent:{page:Te,viewport:Ie}}=this,De=document.createElement("section");De.setAttribute("data-annotation-id",me.id),this instanceof M||(De.tabIndex=n),De.style.zIndex=this.parent.zIndex++,this.data.popupRef&&De.setAttribute("aria-haspopup","dialog"),me.noRotate&&De.classList.add("norotate");const{pageWidth:Be,pageHeight:Ue,pageX:Ze,pageY:Ke}=Ie.rawDims;if(!me.rect||this instanceof T){const{rotation:dt}=me;return!me.hasOwnCanvas&&dt!==0&&this.setRotation(dt,De),De}const{width:qe,height:tt}=e(me.rect),it=ne.Util.normalizeRect([me.rect[0],Te.view[3]-me.rect[1]+Te.view[1],me.rect[2],Te.view[3]-me.rect[3]+Te.view[1]]);if(!Fe&&me.borderStyle.width>0){De.style.borderWidth=`${me.borderStyle.width}px`;const dt=me.borderStyle.horizontalCornerRadius,ct=me.borderStyle.verticalCornerRadius;if(dt>0||ct>0){const It=`calc(${dt}px * var(--scale-factor)) / calc(${ct}px * var(--scale-factor))`;De.style.borderRadius=It}else if(this instanceof i){const It=`calc(${qe}px * var(--scale-factor)) / calc(${tt}px * var(--scale-factor))`;De.style.borderRadius=It}switch(me.borderStyle.style){case ne.AnnotationBorderStyleType.SOLID:De.style.borderStyle="solid";break;case ne.AnnotationBorderStyleType.DASHED:De.style.borderStyle="dashed";break;case ne.AnnotationBorderStyleType.BEVELED:(0,ne.warn)("Unimplemented border style: beveled");break;case ne.AnnotationBorderStyleType.INSET:(0,ne.warn)("Unimplemented border style: inset");break;case ne.AnnotationBorderStyleType.UNDERLINE:De.style.borderBottomStyle="solid";break}const wt=me.borderColor||null;wt?(Xe(this,v,!0),De.style.borderColor=ne.Util.makeHexColor(wt[0]|0,wt[1]|0,wt[2]|0)):De.style.borderWidth=0}De.style.left=`${100*(it[0]-Ze)/Be}%`,De.style.top=`${100*(it[1]-Ke)/Ue}%`;const{rotation:ot}=me;return me.hasOwnCanvas||ot===0?(De.style.width=`${100*qe/Be}%`,De.style.height=`${100*tt/Ue}%`):this.setRotation(ot,De),De}setRotation(Fe,me=this.container){if(!this.data.rect)return;const{pageWidth:Te,pageHeight:Ie}=this.parent.viewport.rawDims,{width:De,height:Be}=e(this.data.rect);let Ue,Ze;Fe%180===0?(Ue=100*De/Te,Ze=100*Be/Ie):(Ue=100*Be/Te,Ze=100*De/Ie),me.style.width=`${Ue}%`,me.style.height=`${Ze}%`,me.setAttribute("data-main-rotation",(360-Fe)%360)}get _commonActions(){const Fe=(me,Te,Ie)=>{const De=Ie.detail[me],Be=De[0],Ue=De.slice(1);Ie.target.style[Te]=xe.ColorConverters[`${Be}_HTML`](Ue),this.annotationStorage.setValue(this.data.id,{[Te]:xe.ColorConverters[`${Be}_rgb`](Ue)})};return(0,ne.shadow)(this,"_commonActions",{display:me=>{const{display:Te}=me.detail,Ie=Te%2===1;this.container.style.visibility=Ie?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Ie,noPrint:Te===1||Te===2})},print:me=>{this.annotationStorage.setValue(this.data.id,{noPrint:!me.detail.print})},hidden:me=>{const{hidden:Te}=me.detail;this.container.style.visibility=Te?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Te,noView:Te})},focus:me=>{setTimeout(()=>me.target.focus({preventScroll:!1}),0)},userName:me=>{me.target.title=me.detail.userName},readonly:me=>{me.target.disabled=me.detail.readonly},required:me=>{this._setRequired(me.target,me.detail.required)},bgColor:me=>{Fe("bgColor","backgroundColor",me)},fillColor:me=>{Fe("fillColor","backgroundColor",me)},fgColor:me=>{Fe("fgColor","color",me)},textColor:me=>{Fe("textColor","color",me)},borderColor:me=>{Fe("borderColor","borderColor",me)},strokeColor:me=>{Fe("strokeColor","borderColor",me)},rotation:me=>{const Te=me.detail.rotation;this.setRotation(Te),this.annotationStorage.setValue(this.data.id,{rotation:Te})}})}_dispatchEventFromSandbox(Fe,me){const Te=this._commonActions;for(const Ie of Object.keys(me.detail)){const De=Fe[Ie]||Te[Ie];De==null||De(me)}}_setDefaultPropertiesFromJS(Fe){if(!this.enableScripting)return;const me=this.annotationStorage.getRawValue(this.data.id);if(!me)return;const Te=this._commonActions;for(const[Ie,De]of Object.entries(me)){const Be=Te[Ie];if(Be){const Ue={detail:{[Ie]:De},target:Fe};Be(Ue),delete me[Ie]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Fe}=this.data;if(!Fe)return;const[me,Te,Ie,De]=this.data.rect;if(Fe.length===1){const[,{x:ct,y:wt},{x:It,y:Ye}]=Fe[0];if(Ie===ct&&De===wt&&me===It&&Te===Ye)return}const{style:Be}=this.container;let Ue;if(pe(this,v)){const{borderColor:ct,borderWidth:wt}=Be;Be.borderWidth=0,Ue=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${ct}" stroke-width="${wt}">`],this.container.classList.add("hasBorder")}const Ze=Ie-me,Ke=De-Te,{svgFactory:qe}=this,tt=qe.createElement("svg");tt.classList.add("quadrilateralsContainer"),tt.setAttribute("width",0),tt.setAttribute("height",0);const it=qe.createElement("defs");tt.append(it);const ot=qe.createElement("clipPath"),dt=`clippath_${this.data.id}`;ot.setAttribute("id",dt),ot.setAttribute("clipPathUnits","objectBoundingBox"),it.append(ot);for(const[,{x:ct,y:wt},{x:It,y:Ye}]of Fe){const Ve=qe.createElement("rect"),et=(It-me)/Ze,at=(De-wt)/Ke,lt=(ct-It)/Ze,bt=(wt-Ye)/Ke;Ve.setAttribute("x",et),Ve.setAttribute("y",at),Ve.setAttribute("width",lt),Ve.setAttribute("height",bt),ot.append(Ve),Ue==null||Ue.push(`<rect vector-effect="non-scaling-stroke" x="${et}" y="${at}" width="${lt}" height="${bt}"/>`)}pe(this,v)&&(Ue.push("</g></svg>')"),Be.backgroundImage=Ue.join("")),this.container.append(tt),this.container.style.clipPath=`url(#${dt})`}_createPopup(){const{container:Fe,data:me}=this;Fe.setAttribute("aria-haspopup","dialog");const Te=new T({data:{color:me.color,titleObj:me.titleObj,modificationDate:me.modificationDate,contentsObj:me.contentsObj,richText:me.richText,parentRect:me.rect,borderStyle:0,id:`popup_${me.id}`,rotation:me.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Te.render())}render(){(0,ne.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Fe,me=null){const Te=[];if(this._fieldObjects){const Ie=this._fieldObjects[Fe];if(Ie)for(const{page:De,id:Be,exportValues:Ue}of Ie){if(De===-1||Be===me)continue;const Ze=typeof Ue=="string"?Ue:null,Ke=document.querySelector(`[data-element-id="${Be}"]`);if(Ke&&!N.has(Ke)){(0,ne.warn)(`_getElementsByName - element not allowed: ${Be}`);continue}Te.push({id:Be,exportValue:Ze,domElement:Ke})}return Te}for(const Ie of document.getElementsByName(Fe)){const{exportValue:De}=Ie,Be=Ie.getAttribute("data-element-id");Be!==me&&N.has(Ie)&&Te.push({id:Be,exportValue:De,domElement:Ie})}return Te}show(){var Fe;this.container&&(this.container.hidden=!1),(Fe=this.popup)==null||Fe.maybeShow()}hide(){var Fe;this.container&&(this.container.hidden=!0),(Fe=this.popup)==null||Fe.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Fe=this.getElementsToTriggerPopup();if(Array.isArray(Fe))for(const me of Fe)me.classList.add("highlightArea");else Fe.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Fe,data:{id:me}}=this;this.container.addEventListener("dblclick",()=>{var Te;(Te=this.linkService.eventBus)==null||Te.dispatch("switchannotationeditormode",{source:this,mode:Fe,editId:me})})}};v=new WeakMap;let r=o;class z extends r{constructor(me,Te=null){super(me,{isRenderable:!0,ignoreBorder:!!(Te!=null&&Te.ignoreBorder),createQuadrilaterals:!0});Me(this,y);Me(this,h);this.isTooltipOnly=me.data.isTooltipOnly}render(){const{data:me,linkService:Te}=this,Ie=document.createElement("a");Ie.setAttribute("data-element-id",me.id);let De=!1;return me.url?(Te.addLinkAttributes(Ie,me.url,me.newWindow),De=!0):me.action?(this._bindNamedAction(Ie,me.action),De=!0):me.attachment?(this._bindAttachment(Ie,me.attachment),De=!0):me.setOCGState?(Ne(this,h,bs).call(this,Ie,me.setOCGState),De=!0):me.dest?(this._bindLink(Ie,me.dest),De=!0):(me.actions&&(me.actions.Action||me.actions["Mouse Up"]||me.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Ie,me),De=!0),me.resetForm?(this._bindResetFormAction(Ie,me.resetForm),De=!0):this.isTooltipOnly&&!De&&(this._bindLink(Ie,""),De=!0)),this.container.classList.add("linkAnnotation"),De&&this.container.append(Ie),this.container}_bindLink(me,Te){me.href=this.linkService.getDestinationHash(Te),me.onclick=()=>(Te&&this.linkService.goToDestination(Te),!1),(Te||Te==="")&&Ne(this,y,an).call(this)}_bindNamedAction(me,Te){me.href=this.linkService.getAnchorUrl(""),me.onclick=()=>(this.linkService.executeNamedAction(Te),!1),Ne(this,y,an).call(this)}_bindAttachment(me,Te){me.href=this.linkService.getAnchorUrl(""),me.onclick=()=>{var Ie;return(Ie=this.downloadManager)==null||Ie.openOrDownloadData(this.container,Te.content,Te.filename),!1},Ne(this,y,an).call(this)}_bindJSAction(me,Te){me.href=this.linkService.getAnchorUrl("");const Ie=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const De of Object.keys(Te.actions)){const Be=Ie.get(De);Be&&(me[Be]=()=>{var Ue;return(Ue=this.linkService.eventBus)==null||Ue.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Te.id,name:De}}),!1})}me.onclick||(me.onclick=()=>!1),Ne(this,y,an).call(this)}_bindResetFormAction(me,Te){const Ie=me.onclick;if(Ie||(me.href=this.linkService.getAnchorUrl("")),Ne(this,y,an).call(this),!this._fieldObjects){(0,ne.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Ie||(me.onclick=()=>!1);return}me.onclick=()=>{var tt;Ie==null||Ie();const{fields:De,refs:Be,include:Ue}=Te,Ze=[];if(De.length!==0||Be.length!==0){const it=new Set(Be);for(const ot of De){const dt=this._fieldObjects[ot]||[];for(const{id:ct}of dt)it.add(ct)}for(const ot of Object.values(this._fieldObjects))for(const dt of ot)it.has(dt.id)===Ue&&Ze.push(dt)}else for(const it of Object.values(this._fieldObjects))Ze.push(...it);const Ke=this.annotationStorage,qe=[];for(const it of Ze){const{id:ot}=it;switch(qe.push(ot),it.type){case"text":{const ct=it.defaultValue||"";Ke.setValue(ot,{value:ct});break}case"checkbox":case"radiobutton":{const ct=it.defaultValue===it.exportValues;Ke.setValue(ot,{value:ct});break}case"combobox":case"listbox":{const ct=it.defaultValue||"";Ke.setValue(ot,{value:ct});break}default:continue}const dt=document.querySelector(`[data-element-id="${ot}"]`);if(dt){if(!N.has(dt)){(0,ne.warn)(`_bindResetFormAction - element not allowed: ${ot}`);continue}}else continue;dt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((tt=this.linkService.eventBus)==null||tt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:qe,name:"ResetForm"}})),!1}}}y=new WeakSet,an=function(){this.container.setAttribute("data-internal-link","")},h=new WeakSet,bs=function(me,Te){me.href=this.linkService.getAnchorUrl(""),me.onclick=()=>(this.linkService.executeSetOCGState(Te),!1),Ne(this,y,an).call(this)};class j extends r{constructor(Fe){super(Fe,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Fe=document.createElement("img");return Fe.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Fe.alt="[{{type}} Annotation]",Fe.dataset.l10nId="text_annotation_type",Fe.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Fe),this.container}}class M extends r{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Fe){var me;this.data.hasOwnCanvas&&(((me=Fe.previousSibling)==null?void 0:me.nodeName)==="CANVAS"&&(Fe.previousSibling.hidden=!0),Fe.hidden=!1)}_getKeyModifier(Fe){const{isWin:me,isMac:Te}=ne.FeatureTest.platform;return me&&Fe.ctrlKey||Te&&Fe.metaKey}_setEventListener(Fe,me,Te,Ie,De){Te.includes("mouse")?Fe.addEventListener(Te,Be=>{var Ue;(Ue=this.linkService.eventBus)==null||Ue.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Ie,value:De(Be),shift:Be.shiftKey,modifier:this._getKeyModifier(Be)}})}):Fe.addEventListener(Te,Be=>{var Ue;if(Te==="blur"){if(!me.focused||!Be.relatedTarget)return;me.focused=!1}else if(Te==="focus"){if(me.focused)return;me.focused=!0}De&&((Ue=this.linkService.eventBus)==null||Ue.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Ie,value:De(Be)}}))})}_setEventListeners(Fe,me,Te,Ie){var De,Be,Ue;for(const[Ze,Ke]of Te)(Ke==="Action"||(De=this.data.actions)!=null&&De[Ke])&&((Ke==="Focus"||Ke==="Blur")&&(me||(me={focused:!1})),this._setEventListener(Fe,me,Ze,Ke,Ie),Ke==="Focus"&&!((Be=this.data.actions)!=null&&Be.Blur)?this._setEventListener(Fe,me,"blur","Blur",null):Ke==="Blur"&&!((Ue=this.data.actions)!=null&&Ue.Focus)&&this._setEventListener(Fe,me,"focus","Focus",null))}_setBackgroundColor(Fe){const me=this.data.backgroundColor||null;Fe.style.backgroundColor=me===null?"transparent":ne.Util.makeHexColor(me[0],me[1],me[2])}_setTextStyle(Fe){const me=["left","center","right"],{fontColor:Te}=this.data.defaultAppearanceData,Ie=this.data.defaultAppearanceData.fontSize||S,De=Fe.style;let Be;const Ue=2,Ze=Ke=>Math.round(10*Ke)/10;if(this.data.multiLine){const Ke=Math.abs(this.data.rect[3]-this.data.rect[1]-Ue),qe=Math.round(Ke/(ne.LINE_FACTOR*Ie))||1,tt=Ke/qe;Be=Math.min(Ie,Ze(tt/ne.LINE_FACTOR))}else{const Ke=Math.abs(this.data.rect[3]-this.data.rect[1]-Ue);Be=Math.min(Ie,Ze(Ke/ne.LINE_FACTOR))}De.fontSize=`calc(${Be}px * var(--scale-factor))`,De.color=ne.Util.makeHexColor(Te[0],Te[1],Te[2]),this.data.textAlignment!==null&&(De.textAlign=me[this.data.textAlignment])}_setRequired(Fe,me){me?Fe.setAttribute("required",!0):Fe.removeAttribute("required"),Fe.setAttribute("aria-required",me)}}class I extends M{constructor(Fe){const me=Fe.renderForms||!Fe.data.hasAppearance&&!!Fe.data.fieldValue;super(Fe,{isRenderable:me})}setPropertyOnSiblings(Fe,me,Te,Ie){const De=this.annotationStorage;for(const Be of this._getElementsByName(Fe.name,Fe.id))Be.domElement&&(Be.domElement[me]=Te),De.setValue(Be.id,{[Ie]:Te})}render(){var Ie,De;const Fe=this.annotationStorage,me=this.data.id;this.container.classList.add("textWidgetAnnotation");let Te=null;if(this.renderForms){const Be=Fe.getValue(me,{value:this.data.fieldValue});let Ue=Be.value||"";const Ze=Fe.getValue(me,{charLimit:this.data.maxLen}).charLimit;Ze&&Ue.length>Ze&&(Ue=Ue.slice(0,Ze));let Ke=Be.formattedValue||((Ie=this.data.textContent)==null?void 0:Ie.join(`
`))||null;Ke&&this.data.comb&&(Ke=Ke.replaceAll(/\s+/g,""));const qe={userValue:Ue,formattedValue:Ke,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Te=document.createElement("textarea"),Te.textContent=Ke??Ue,this.data.doNotScroll&&(Te.style.overflowY="hidden")):(Te=document.createElement("input"),Te.type="text",Te.setAttribute("value",Ke??Ue),this.data.doNotScroll&&(Te.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Te.hidden=!0),N.add(Te),Te.setAttribute("data-element-id",me),Te.disabled=this.data.readOnly,Te.name=this.data.fieldName,Te.tabIndex=n,this._setRequired(Te,this.data.required),Ze&&(Te.maxLength=Ze),Te.addEventListener("input",it=>{Fe.setValue(me,{value:it.target.value}),this.setPropertyOnSiblings(Te,"value",it.target.value,"value"),qe.formattedValue=null}),Te.addEventListener("resetform",it=>{const ot=this.data.defaultFieldValue??"";Te.value=qe.userValue=ot,qe.formattedValue=null});let tt=it=>{const{formattedValue:ot}=qe;ot!=null&&(it.target.value=ot),it.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Te.addEventListener("focus",ot=>{if(qe.focused)return;const{target:dt}=ot;qe.userValue&&(dt.value=qe.userValue),qe.lastCommittedValue=dt.value,qe.commitKey=1,qe.focused=!0}),Te.addEventListener("updatefromsandbox",ot=>{this.showElementAndHideCanvas(ot.target);const dt={value(ct){qe.userValue=ct.detail.value??"",Fe.setValue(me,{value:qe.userValue.toString()}),ct.target.value=qe.userValue},formattedValue(ct){const{formattedValue:wt}=ct.detail;qe.formattedValue=wt,wt!=null&&ct.target!==document.activeElement&&(ct.target.value=wt),Fe.setValue(me,{formattedValue:wt})},selRange(ct){ct.target.setSelectionRange(...ct.detail.selRange)},charLimit:ct=>{var Ve;const{charLimit:wt}=ct.detail,{target:It}=ct;if(wt===0){It.removeAttribute("maxLength");return}It.setAttribute("maxLength",wt);let Ye=qe.userValue;!Ye||Ye.length<=wt||(Ye=Ye.slice(0,wt),It.value=qe.userValue=Ye,Fe.setValue(me,{value:Ye}),(Ve=this.linkService.eventBus)==null||Ve.dispatch("dispatcheventinsandbox",{source:this,detail:{id:me,name:"Keystroke",value:Ye,willCommit:!0,commitKey:1,selStart:It.selectionStart,selEnd:It.selectionEnd}}))}};this._dispatchEventFromSandbox(dt,ot)}),Te.addEventListener("keydown",ot=>{var wt;qe.commitKey=1;let dt=-1;if(ot.key==="Escape"?dt=0:ot.key==="Enter"&&!this.data.multiLine?dt=2:ot.key==="Tab"&&(qe.commitKey=3),dt===-1)return;const{value:ct}=ot.target;qe.lastCommittedValue!==ct&&(qe.lastCommittedValue=ct,qe.userValue=ct,(wt=this.linkService.eventBus)==null||wt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:me,name:"Keystroke",value:ct,willCommit:!0,commitKey:dt,selStart:ot.target.selectionStart,selEnd:ot.target.selectionEnd}}))});const it=tt;tt=null,Te.addEventListener("blur",ot=>{var ct;if(!qe.focused||!ot.relatedTarget)return;qe.focused=!1;const{value:dt}=ot.target;qe.userValue=dt,qe.lastCommittedValue!==dt&&((ct=this.linkService.eventBus)==null||ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:me,name:"Keystroke",value:dt,willCommit:!0,commitKey:qe.commitKey,selStart:ot.target.selectionStart,selEnd:ot.target.selectionEnd}})),it(ot)}),(De=this.data.actions)!=null&&De.Keystroke&&Te.addEventListener("beforeinput",ot=>{var at;qe.lastCommittedValue=null;const{data:dt,target:ct}=ot,{value:wt,selectionStart:It,selectionEnd:Ye}=ct;let Ve=It,et=Ye;switch(ot.inputType){case"deleteWordBackward":{const lt=wt.substring(0,It).match(/\w*[^\w]*$/);lt&&(Ve-=lt[0].length);break}case"deleteWordForward":{const lt=wt.substring(It).match(/^[^\w]*\w*/);lt&&(et+=lt[0].length);break}case"deleteContentBackward":It===Ye&&(Ve-=1);break;case"deleteContentForward":It===Ye&&(et+=1);break}ot.preventDefault(),(at=this.linkService.eventBus)==null||at.dispatch("dispatcheventinsandbox",{source:this,detail:{id:me,name:"Keystroke",value:wt,change:dt||"",willCommit:!1,selStart:Ve,selEnd:et}})}),this._setEventListeners(Te,qe,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ot=>ot.target.value)}if(tt&&Te.addEventListener("blur",tt),this.data.comb){const ot=(this.data.rect[2]-this.data.rect[0])/Ze;Te.classList.add("comb"),Te.style.letterSpacing=`calc(${ot}px * var(--scale-factor) - 1ch)`}}else Te=document.createElement("div"),Te.textContent=this.data.fieldValue,Te.style.verticalAlign="middle",Te.style.display="table-cell";return this._setTextStyle(Te),this._setBackgroundColor(Te),this._setDefaultPropertiesFromJS(Te),this.container.append(Te),this.container}}class d extends M{constructor(Fe){super(Fe,{isRenderable:!!Fe.data.hasOwnCanvas})}}class u extends M{constructor(Fe){super(Fe,{isRenderable:Fe.renderForms})}render(){const Fe=this.annotationStorage,me=this.data,Te=me.id;let Ie=Fe.getValue(Te,{value:me.exportValue===me.fieldValue}).value;typeof Ie=="string"&&(Ie=Ie!=="Off",Fe.setValue(Te,{value:Ie})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const De=document.createElement("input");return N.add(De),De.setAttribute("data-element-id",Te),De.disabled=me.readOnly,this._setRequired(De,this.data.required),De.type="checkbox",De.name=me.fieldName,Ie&&De.setAttribute("checked",!0),De.setAttribute("exportValue",me.exportValue),De.tabIndex=n,De.addEventListener("change",Be=>{const{name:Ue,checked:Ze}=Be.target;for(const Ke of this._getElementsByName(Ue,Te)){const qe=Ze&&Ke.exportValue===me.exportValue;Ke.domElement&&(Ke.domElement.checked=qe),Fe.setValue(Ke.id,{value:qe})}Fe.setValue(Te,{value:Ze})}),De.addEventListener("resetform",Be=>{const Ue=me.defaultFieldValue||"Off";Be.target.checked=Ue===me.exportValue}),this.enableScripting&&this.hasJSActions&&(De.addEventListener("updatefromsandbox",Be=>{const Ue={value(Ze){Ze.target.checked=Ze.detail.value!=="Off",Fe.setValue(Te,{value:Ze.target.checked})}};this._dispatchEventFromSandbox(Ue,Be)}),this._setEventListeners(De,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Be=>Be.target.checked)),this._setBackgroundColor(De),this._setDefaultPropertiesFromJS(De),this.container.append(De),this.container}}class i extends M{constructor(Fe){super(Fe,{isRenderable:Fe.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Fe=this.annotationStorage,me=this.data,Te=me.id;let Ie=Fe.getValue(Te,{value:me.fieldValue===me.buttonValue}).value;typeof Ie=="string"&&(Ie=Ie!==me.buttonValue,Fe.setValue(Te,{value:Ie}));const De=document.createElement("input");if(N.add(De),De.setAttribute("data-element-id",Te),De.disabled=me.readOnly,this._setRequired(De,this.data.required),De.type="radio",De.name=me.fieldName,Ie&&De.setAttribute("checked",!0),De.tabIndex=n,De.addEventListener("change",Be=>{const{name:Ue,checked:Ze}=Be.target;for(const Ke of this._getElementsByName(Ue,Te))Fe.setValue(Ke.id,{value:!1});Fe.setValue(Te,{value:Ze})}),De.addEventListener("resetform",Be=>{const Ue=me.defaultFieldValue;Be.target.checked=Ue!=null&&Ue===me.buttonValue}),this.enableScripting&&this.hasJSActions){const Be=me.buttonValue;De.addEventListener("updatefromsandbox",Ue=>{const Ze={value:Ke=>{const qe=Be===Ke.detail.value;for(const tt of this._getElementsByName(Ke.target.name)){const it=qe&&tt.id===Te;tt.domElement&&(tt.domElement.checked=it),Fe.setValue(tt.id,{value:it})}}};this._dispatchEventFromSandbox(Ze,Ue)}),this._setEventListeners(De,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ue=>Ue.target.checked)}return this._setBackgroundColor(De),this._setDefaultPropertiesFromJS(De),this.container.append(De),this.container}}class F extends z{constructor(Fe){super(Fe,{ignoreBorder:Fe.data.hasAppearance})}render(){const Fe=super.render();Fe.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Fe.title=this.data.alternativeText);const me=Fe.lastChild;return this.enableScripting&&this.hasJSActions&&me&&(this._setDefaultPropertiesFromJS(me),me.addEventListener("updatefromsandbox",Te=>{this._dispatchEventFromSandbox({},Te)})),Fe}}class C extends M{constructor(Fe){super(Fe,{isRenderable:Fe.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Fe=this.annotationStorage,me=this.data.id,Te=Fe.getValue(me,{value:this.data.fieldValue}),Ie=document.createElement("select");N.add(Ie),Ie.setAttribute("data-element-id",me),Ie.disabled=this.data.readOnly,this._setRequired(Ie,this.data.required),Ie.name=this.data.fieldName,Ie.tabIndex=n;let De=this.data.combo&&this.data.options.length>0;this.data.combo||(Ie.size=this.data.options.length,this.data.multiSelect&&(Ie.multiple=!0)),Ie.addEventListener("resetform",qe=>{const tt=this.data.defaultFieldValue;for(const it of Ie.options)it.selected=it.value===tt});for(const qe of this.data.options){const tt=document.createElement("option");tt.textContent=qe.displayValue,tt.value=qe.exportValue,Te.value.includes(qe.exportValue)&&(tt.setAttribute("selected",!0),De=!1),Ie.append(tt)}let Be=null;if(De){const qe=document.createElement("option");qe.value=" ",qe.setAttribute("hidden",!0),qe.setAttribute("selected",!0),Ie.prepend(qe),Be=()=>{qe.remove(),Ie.removeEventListener("input",Be),Be=null},Ie.addEventListener("input",Be)}const Ue=qe=>{const tt=qe?"value":"textContent",{options:it,multiple:ot}=Ie;return ot?Array.prototype.filter.call(it,dt=>dt.selected).map(dt=>dt[tt]):it.selectedIndex===-1?null:it[it.selectedIndex][tt]};let Ze=Ue(!1);const Ke=qe=>{const tt=qe.target.options;return Array.prototype.map.call(tt,it=>({displayValue:it.textContent,exportValue:it.value}))};return this.enableScripting&&this.hasJSActions?(Ie.addEventListener("updatefromsandbox",qe=>{const tt={value(it){Be==null||Be();const ot=it.detail.value,dt=new Set(Array.isArray(ot)?ot:[ot]);for(const ct of Ie.options)ct.selected=dt.has(ct.value);Fe.setValue(me,{value:Ue(!0)}),Ze=Ue(!1)},multipleSelection(it){Ie.multiple=!0},remove(it){const ot=Ie.options,dt=it.detail.remove;ot[dt].selected=!1,Ie.remove(dt),ot.length>0&&Array.prototype.findIndex.call(ot,wt=>wt.selected)===-1&&(ot[0].selected=!0),Fe.setValue(me,{value:Ue(!0),items:Ke(it)}),Ze=Ue(!1)},clear(it){for(;Ie.length!==0;)Ie.remove(0);Fe.setValue(me,{value:null,items:[]}),Ze=Ue(!1)},insert(it){const{index:ot,displayValue:dt,exportValue:ct}=it.detail.insert,wt=Ie.children[ot],It=document.createElement("option");It.textContent=dt,It.value=ct,wt?wt.before(It):Ie.append(It),Fe.setValue(me,{value:Ue(!0),items:Ke(it)}),Ze=Ue(!1)},items(it){const{items:ot}=it.detail;for(;Ie.length!==0;)Ie.remove(0);for(const dt of ot){const{displayValue:ct,exportValue:wt}=dt,It=document.createElement("option");It.textContent=ct,It.value=wt,Ie.append(It)}Ie.options.length>0&&(Ie.options[0].selected=!0),Fe.setValue(me,{value:Ue(!0),items:Ke(it)}),Ze=Ue(!1)},indices(it){const ot=new Set(it.detail.indices);for(const dt of it.target.options)dt.selected=ot.has(dt.index);Fe.setValue(me,{value:Ue(!0)}),Ze=Ue(!1)},editable(it){it.target.disabled=!it.detail.editable}};this._dispatchEventFromSandbox(tt,qe)}),Ie.addEventListener("input",qe=>{var it;const tt=Ue(!0);Fe.setValue(me,{value:tt}),qe.preventDefault(),(it=this.linkService.eventBus)==null||it.dispatch("dispatcheventinsandbox",{source:this,detail:{id:me,name:"Keystroke",value:Ze,changeEx:tt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Ie,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],qe=>qe.target.value)):Ie.addEventListener("input",function(qe){Fe.setValue(me,{value:Ue(!0)})}),this.data.combo&&this._setTextStyle(Ie),this._setBackgroundColor(Ie),this._setDefaultPropertiesFromJS(Ie),this.container.append(Ie),this.container}}class T extends r{constructor(Fe){const{data:me,elements:Te}=Fe;super(Fe,{isRenderable:r._hasPopupData(me)}),this.elements=Te}render(){this.container.classList.add("popupAnnotation");const Fe=new b({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),me=[];for(const Te of this.elements)Te.popup=Fe,me.push(Te.data.id),Te.addHighlightArea();return this.container.setAttribute("aria-controls",me.map(Te=>`${ne.AnnotationPrefix}${Te}`).join(",")),this.container}}class b{constructor({container:Fe,color:me,elements:Te,titleObj:Ie,modificationDate:De,contentsObj:Be,richText:Ue,parent:Ze,rect:Ke,parentRect:qe,open:tt}){Me(this,le);Me(this,ue);Me(this,ye);Me(this,Oe);Me(this,W,null);Me(this,R,Ne(this,le,ys).bind(this));Me(this,H,Ne(this,Oe,Li).bind(this));Me(this,ae,Ne(this,ye,Ni).bind(this));Me(this,q,Ne(this,ue,jn).bind(this));Me(this,ce,null);Me(this,ee,null);Me(this,se,null);Me(this,$,null);Me(this,U,null);Me(this,K,null);Me(this,J,!1);Me(this,Y,null);Me(this,ie,null);Me(this,re,null);Me(this,Z,null);Me(this,he,!1);var ot;Xe(this,ee,Fe),Xe(this,Z,Ie),Xe(this,se,Be),Xe(this,re,Ue),Xe(this,U,Ze),Xe(this,ce,me),Xe(this,ie,Ke),Xe(this,K,qe),Xe(this,$,Te);const it=fe.PDFDateString.toDateObject(De);it&&Xe(this,W,Ze.l10n.get("annotation_date_string",{date:it.toLocaleDateString(),time:it.toLocaleTimeString()})),this.trigger=Te.flatMap(dt=>dt.getElementsToTriggerPopup());for(const dt of this.trigger)dt.addEventListener("click",pe(this,q)),dt.addEventListener("mouseenter",pe(this,ae)),dt.addEventListener("mouseleave",pe(this,H)),dt.classList.add("popupTriggerArea");for(const dt of Te)(ot=dt.container)==null||ot.addEventListener("keydown",pe(this,R));pe(this,ee).hidden=!0,tt&&Ne(this,ue,jn).call(this)}render(){if(pe(this,Y))return;const{page:{view:Fe},viewport:{rawDims:{pageWidth:me,pageHeight:Te,pageX:Ie,pageY:De}}}=pe(this,U),Be=Xe(this,Y,document.createElement("div"));if(Be.className="popup",pe(this,ce)){const Ve=Be.style.outlineColor=ne.Util.makeHexColor(...pe(this,ce));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Be.style.backgroundColor=`color-mix(in srgb, ${Ve} 30%, white)`:Be.style.backgroundColor=ne.Util.makeHexColor(...pe(this,ce).map(at=>Math.floor(.7*(255-at)+at)))}const Ue=document.createElement("span");Ue.className="header";const Ze=document.createElement("h1");if(Ue.append(Ze),{dir:Ze.dir,str:Ze.textContent}=pe(this,Z),Be.append(Ue),pe(this,W)){const Ve=document.createElement("span");Ve.classList.add("popupDate"),pe(this,W).then(et=>{Ve.textContent=et}),Ue.append(Ve)}const Ke=pe(this,se),qe=pe(this,re);if(qe!=null&&qe.str&&(!(Ke!=null&&Ke.str)||Ke.str===qe.str))Q.XfaLayer.render({xfaHtml:qe.html,intent:"richText",div:Be}),Be.lastChild.classList.add("richText","popupContent");else{const Ve=this._formatContents(Ke);Be.append(Ve)}let tt=!!pe(this,K),it=tt?pe(this,K):pe(this,ie);for(const Ve of pe(this,$))if(!it||ne.Util.intersect(Ve.data.rect,it)!==null){it=Ve.data.rect,tt=!0;break}const ot=ne.Util.normalizeRect([it[0],Fe[3]-it[1]+Fe[1],it[2],Fe[3]-it[3]+Fe[1]]),dt=5,ct=tt?it[2]-it[0]+dt:0,wt=ot[0]+ct,It=ot[1],{style:Ye}=pe(this,ee);Ye.left=`${100*(wt-Ie)/me}%`,Ye.top=`${100*(It-De)/Te}%`,pe(this,ee).append(Be)}_formatContents({str:Fe,dir:me}){const Te=document.createElement("p");Te.classList.add("popupContent"),Te.dir=me;const Ie=Fe.split(/(?:\r\n?|\n)/);for(let De=0,Be=Ie.length;De<Be;++De){const Ue=Ie[De];Te.append(document.createTextNode(Ue)),De<Be-1&&Te.append(document.createElement("br"))}return Te}forceHide(){Xe(this,he,this.isVisible),pe(this,he)&&(pe(this,ee).hidden=!0)}maybeShow(){pe(this,he)&&(Xe(this,he,!1),pe(this,ee).hidden=!1)}get isVisible(){return pe(this,ee).hidden===!1}}W=new WeakMap,R=new WeakMap,H=new WeakMap,ae=new WeakMap,q=new WeakMap,ce=new WeakMap,ee=new WeakMap,se=new WeakMap,$=new WeakMap,U=new WeakMap,K=new WeakMap,J=new WeakMap,Y=new WeakMap,ie=new WeakMap,re=new WeakMap,Z=new WeakMap,he=new WeakMap,le=new WeakSet,ys=function(Fe){Fe.altKey||Fe.shiftKey||Fe.ctrlKey||Fe.metaKey||(Fe.key==="Enter"||Fe.key==="Escape"&&pe(this,J))&&Ne(this,ue,jn).call(this)},ue=new WeakSet,jn=function(){Xe(this,J,!pe(this,J)),pe(this,J)?(Ne(this,ye,Ni).call(this),pe(this,ee).addEventListener("click",pe(this,q)),pe(this,ee).addEventListener("keydown",pe(this,R))):(Ne(this,Oe,Li).call(this),pe(this,ee).removeEventListener("click",pe(this,q)),pe(this,ee).removeEventListener("keydown",pe(this,R)))},ye=new WeakSet,Ni=function(){pe(this,Y)||this.render(),this.isVisible?pe(this,J)&&pe(this,ee).classList.add("focused"):(pe(this,ee).hidden=!1,pe(this,ee).style.zIndex=parseInt(pe(this,ee).style.zIndex)+1e3)},Oe=new WeakSet,Li=function(){pe(this,ee).classList.remove("focused"),!(pe(this,J)||!this.isVisible)&&(pe(this,ee).hidden=!0,pe(this,ee).style.zIndex=parseInt(pe(this,ee).style.zIndex)-1e3)};class L extends r{constructor(Fe){super(Fe,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Fe.data.textContent,this.textPosition=Fe.data.textPosition,this.annotationEditorType=ne.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Fe=document.createElement("div");Fe.classList.add("annotationTextContent"),Fe.setAttribute("role","comment");for(const me of this.textContent){const Te=document.createElement("span");Te.textContent=me,Fe.append(Te)}this.container.append(Fe)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}E.FreeTextAnnotationElement=L;class B extends r{constructor(me){super(me,{isRenderable:!0,ignoreBorder:!0});Me(this,Se,null)}render(){this.container.classList.add("lineAnnotation");const me=this.data,{width:Te,height:Ie}=e(me.rect),De=this.svgFactory.create(Te,Ie,!0),Be=Xe(this,Se,this.svgFactory.createElement("svg:line"));return Be.setAttribute("x1",me.rect[2]-me.lineCoordinates[0]),Be.setAttribute("y1",me.rect[3]-me.lineCoordinates[1]),Be.setAttribute("x2",me.rect[2]-me.lineCoordinates[2]),Be.setAttribute("y2",me.rect[3]-me.lineCoordinates[3]),Be.setAttribute("stroke-width",me.borderStyle.width||1),Be.setAttribute("stroke","transparent"),Be.setAttribute("fill","transparent"),De.append(Be),this.container.append(De),!me.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return pe(this,Se)}addHighlightArea(){this.container.classList.add("highlightArea")}}Se=new WeakMap;class V extends r{constructor(me){super(me,{isRenderable:!0,ignoreBorder:!0});Me(this,Ae,null)}render(){this.container.classList.add("squareAnnotation");const me=this.data,{width:Te,height:Ie}=e(me.rect),De=this.svgFactory.create(Te,Ie,!0),Be=me.borderStyle.width,Ue=Xe(this,Ae,this.svgFactory.createElement("svg:rect"));return Ue.setAttribute("x",Be/2),Ue.setAttribute("y",Be/2),Ue.setAttribute("width",Te-Be),Ue.setAttribute("height",Ie-Be),Ue.setAttribute("stroke-width",Be||1),Ue.setAttribute("stroke","transparent"),Ue.setAttribute("fill","transparent"),De.append(Ue),this.container.append(De),!me.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return pe(this,Ae)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ae=new WeakMap;class k extends r{constructor(me){super(me,{isRenderable:!0,ignoreBorder:!0});Me(this,ke,null)}render(){this.container.classList.add("circleAnnotation");const me=this.data,{width:Te,height:Ie}=e(me.rect),De=this.svgFactory.create(Te,Ie,!0),Be=me.borderStyle.width,Ue=Xe(this,ke,this.svgFactory.createElement("svg:ellipse"));return Ue.setAttribute("cx",Te/2),Ue.setAttribute("cy",Ie/2),Ue.setAttribute("rx",Te/2-Be/2),Ue.setAttribute("ry",Ie/2-Be/2),Ue.setAttribute("stroke-width",Be||1),Ue.setAttribute("stroke","transparent"),Ue.setAttribute("fill","transparent"),De.append(Ue),this.container.append(De),!me.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return pe(this,ke)}addHighlightArea(){this.container.classList.add("highlightArea")}}ke=new WeakMap;class _ extends r{constructor(me){super(me,{isRenderable:!0,ignoreBorder:!0});Me(this,_e,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const me=this.data,{width:Te,height:Ie}=e(me.rect),De=this.svgFactory.create(Te,Ie,!0);let Be=[];for(const Ze of me.vertices){const Ke=Ze.x-me.rect[0],qe=me.rect[3]-Ze.y;Be.push(Ke+","+qe)}Be=Be.join(" ");const Ue=Xe(this,_e,this.svgFactory.createElement(this.svgElementName));return Ue.setAttribute("points",Be),Ue.setAttribute("stroke-width",me.borderStyle.width||1),Ue.setAttribute("stroke","transparent"),Ue.setAttribute("fill","transparent"),De.append(Ue),this.container.append(De),!me.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return pe(this,_e)}addHighlightArea(){this.container.classList.add("highlightArea")}}_e=new WeakMap;class l extends _{constructor(Fe){super(Fe),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class x extends r{constructor(Fe){super(Fe,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class X extends r{constructor(me){super(me,{isRenderable:!0,ignoreBorder:!0});Me(this,je,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=ne.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const me=this.data,{width:Te,height:Ie}=e(me.rect),De=this.svgFactory.create(Te,Ie,!0);for(const Be of me.inkLists){let Ue=[];for(const Ke of Be){const qe=Ke.x-me.rect[0],tt=me.rect[3]-Ke.y;Ue.push(`${qe},${tt}`)}Ue=Ue.join(" ");const Ze=this.svgFactory.createElement(this.svgElementName);pe(this,je).push(Ze),Ze.setAttribute("points",Ue),Ze.setAttribute("stroke-width",me.borderStyle.width||1),Ze.setAttribute("stroke","transparent"),Ze.setAttribute("fill","transparent"),!me.popupRef&&this.hasPopupData&&this._createPopup(),De.append(Ze)}return this.container.append(De),this.container}getElementsToTriggerPopup(){return pe(this,je)}addHighlightArea(){this.container.classList.add("highlightArea")}}je=new WeakMap,E.InkAnnotationElement=X;class a extends r{constructor(Fe){super(Fe,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class g extends r{constructor(Fe){super(Fe,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class P extends r{constructor(Fe){super(Fe,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class G extends r{constructor(Fe){super(Fe,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class D extends r{constructor(Fe){super(Fe,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}E.StampAnnotationElement=D;class w extends r{constructor(me){var De;super(me,{isRenderable:!0});Me(this,be);Me(this,Re,null);const{filename:Te,content:Ie}=this.data.file;this.filename=(0,fe.getFilenameFromUrl)(Te,!0),this.content=Ie,(De=this.linkService.eventBus)==null||De.dispatch("fileattachmentannotation",{source:this,filename:Te,content:Ie})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:me,data:Te}=this;let Ie;Te.hasAppearance||Te.fillAlpha===0?Ie=document.createElement("div"):(Ie=document.createElement("img"),Ie.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Te.name)?"paperclip":"pushpin"}.svg`,Te.fillAlpha&&Te.fillAlpha<1&&(Ie.style=`filter: opacity(${Math.round(Te.fillAlpha*100)}%);`)),Ie.addEventListener("dblclick",Ne(this,be,Bi).bind(this)),Xe(this,Re,Ie);const{isMac:De}=ne.FeatureTest.platform;return me.addEventListener("keydown",Be=>{Be.key==="Enter"&&(De?Be.metaKey:Be.ctrlKey)&&Ne(this,be,Bi).call(this)}),!Te.popupRef&&this.hasPopupData?this._createPopup():Ie.classList.add("popupTriggerArea"),me.append(Ie),me}getElementsToTriggerPopup(){return pe(this,Re)}addHighlightArea(){this.container.classList.add("highlightArea")}}Re=new WeakMap,be=new WeakSet,Bi=function(){var me;(me=this.downloadManager)==null||me.openOrDownloadData(this.container,this.content,this.filename)};class A{constructor({div:Fe,accessibilityManager:me,annotationCanvasMap:Te,l10n:Ie,page:De,viewport:Be}){Me(this,We);Me(this,Le);Me(this,$e,null);Me(this,Pe,null);Me(this,ze,new Map);this.div=Fe,Xe(this,$e,me),Xe(this,Pe,Te),this.l10n=Ie,this.page=De,this.viewport=Be,this.zIndex=0,this.l10n||(this.l10n=m.NullL10n)}async render(Fe){const{annotations:me}=Fe,Te=this.div;(0,fe.setLayerDimensions)(Te,this.viewport);const Ie=new Map,De={data:null,layer:Te,linkService:Fe.linkService,downloadManager:Fe.downloadManager,imageResourcesPath:Fe.imageResourcesPath||"",renderForms:Fe.renderForms!==!1,svgFactory:new fe.DOMSVGFactory,annotationStorage:Fe.annotationStorage||new we.AnnotationStorage,enableScripting:Fe.enableScripting===!0,hasJSActions:Fe.hasJSActions,fieldObjects:Fe.fieldObjects,parent:this,elements:null};for(const Be of me){if(Be.noHTML)continue;const Ue=Be.annotationType===ne.AnnotationType.POPUP;if(Ue){const qe=Ie.get(Be.id);if(!qe)continue;De.elements=qe}else{const{width:qe,height:tt}=e(Be.rect);if(qe<=0||tt<=0)continue}De.data=Be;const Ze=t.create(De);if(!Ze.isRenderable)continue;if(!Ue&&Be.popupRef){const qe=Ie.get(Be.popupRef);qe?qe.push(Ze):Ie.set(Be.popupRef,[Ze])}Ze.annotationEditorType>0&&pe(this,ze).set(Ze.data.id,Ze);const Ke=Ze.render();Be.hidden&&(Ke.style.visibility="hidden"),Ne(this,We,ws).call(this,Ke,Be.id)}Ne(this,Le,$i).call(this),await this.l10n.translate(Te)}update({viewport:Fe}){const me=this.div;this.viewport=Fe,(0,fe.setLayerDimensions)(me,{rotation:Fe.rotation}),Ne(this,Le,$i).call(this),me.hidden=!1}getEditableAnnotations(){return Array.from(pe(this,ze).values())}getEditableAnnotation(Fe){return pe(this,ze).get(Fe)}}$e=new WeakMap,Pe=new WeakMap,ze=new WeakMap,We=new WeakSet,ws=function(Fe,me){var Ie;const Te=Fe.firstChild||Fe;Te.id=`${ne.AnnotationPrefix}${me}`,this.div.append(Fe),(Ie=pe(this,$e))==null||Ie.moveElementInDOM(this.div,Fe,Te,!1)},Le=new WeakSet,$i=function(){if(!pe(this,Pe))return;const Fe=this.div;for(const[me,Te]of pe(this,Pe)){const Ie=Fe.querySelector(`[data-annotation-id="${me}"]`);if(!Ie)continue;const{firstChild:De}=Ie;De?De.nodeName==="CANVAS"?De.replaceWith(Te):De.before(Te):Ie.append(Te)}pe(this,Pe).clear()},E.AnnotationLayer=A},(f,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.ColorConverters=void 0;function de(we){return Math.floor(Math.max(0,Math.min(1,we))*255).toString(16).padStart(2,"0")}function ne(we){return Math.max(0,Math.min(255,255*we))}class fe{static CMYK_G([xe,m,Q,n]){return["G",1-Math.min(1,.3*xe+.59*Q+.11*m+n)]}static G_CMYK([xe]){return["CMYK",0,0,0,1-xe]}static G_RGB([xe]){return["RGB",xe,xe,xe]}static G_rgb([xe]){return xe=ne(xe),[xe,xe,xe]}static G_HTML([xe]){const m=de(xe);return`#${m}${m}${m}`}static RGB_G([xe,m,Q]){return["G",.3*xe+.59*m+.11*Q]}static RGB_rgb(xe){return xe.map(ne)}static RGB_HTML(xe){return`#${xe.map(de).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([xe,m,Q,n]){return["RGB",1-Math.min(1,xe+n),1-Math.min(1,Q+n),1-Math.min(1,m+n)]}static CMYK_rgb([xe,m,Q,n]){return[ne(1-Math.min(1,xe+n)),ne(1-Math.min(1,Q+n)),ne(1-Math.min(1,m+n))]}static CMYK_HTML(xe){const m=this.CMYK_RGB(xe).slice(1);return this.RGB_HTML(m)}static RGB_CMYK([xe,m,Q]){const n=1-xe,S=1-m,N=1-Q,e=Math.min(n,S,N);return["CMYK",n,S,N,e]}}E.ColorConverters=fe},(f,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.NullL10n=void 0,E.getL10nFallback=ne;const de={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};de.print_progress_percent="{{progress}}%";function ne(xe,m){switch(xe){case"find_match_count":xe=`find_match_count[${m.total===1?"one":"other"}]`;break;case"find_match_count_limit":xe=`find_match_count_limit[${m.limit===1?"one":"other"}]`;break}return de[xe]||""}function fe(xe,m){return m?xe.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(Q,n)=>n in m?m[n]:"{{"+n+"}}"):xe}const we={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(xe,m=null,Q=ne(xe,m)){return fe(Q,m)},async translate(xe){}};E.NullL10n=we},(f,E,de)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.XfaLayer=void 0;var ne=de(25);class fe{static setupStorage(xe,m,Q,n,S){const N=n.getValue(m,{value:null});switch(Q.name){case"textarea":if(N.value!==null&&(xe.textContent=N.value),S==="print")break;xe.addEventListener("input",e=>{n.setValue(m,{value:e.target.value})});break;case"input":if(Q.attributes.type==="radio"||Q.attributes.type==="checkbox"){if(N.value===Q.attributes.xfaOn?xe.setAttribute("checked",!0):N.value===Q.attributes.xfaOff&&xe.removeAttribute("checked"),S==="print")break;xe.addEventListener("change",e=>{n.setValue(m,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(N.value!==null&&xe.setAttribute("value",N.value),S==="print")break;xe.addEventListener("input",e=>{n.setValue(m,{value:e.target.value})})}break;case"select":if(N.value!==null){xe.setAttribute("value",N.value);for(const e of Q.children)e.attributes.value===N.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}xe.addEventListener("input",e=>{const t=e.target.options,r=t.selectedIndex===-1?"":t[t.selectedIndex].value;n.setValue(m,{value:r})});break}}static setAttributes({html:xe,element:m,storage:Q=null,intent:n,linkService:S}){const{attributes:N}=m,e=xe instanceof HTMLAnchorElement;N.type==="radio"&&(N.name=`${N.name}-${n}`);for(const[t,r]of Object.entries(N))if(r!=null)switch(t){case"class":r.length&&xe.setAttribute(t,r.join(" "));break;case"dataId":break;case"id":xe.setAttribute("data-element-id",r);break;case"style":Object.assign(xe.style,r);break;case"textContent":xe.textContent=r;break;default:(!e||t!=="href"&&t!=="newWindow")&&xe.setAttribute(t,r)}e&&S.addLinkAttributes(xe,N.href,N.newWindow),Q&&N.dataId&&this.setupStorage(xe,N.dataId,m,Q)}static render(xe){var z;const m=xe.annotationStorage,Q=xe.linkService,n=xe.xfaHtml,S=xe.intent||"display",N=document.createElement(n.name);n.attributes&&this.setAttributes({html:N,element:n,intent:S,linkService:Q});const e=[[n,-1,N]],t=xe.div;if(t.append(N),xe.viewport){const j=`matrix(${xe.viewport.transform.join(",")})`;t.style.transform=j}S!=="richText"&&t.setAttribute("class","xfaLayer xfaFont");const r=[];for(;e.length>0;){const[j,M,I]=e.at(-1);if(M+1===j.children.length){e.pop();continue}const d=j.children[++e.at(-1)[1]];if(d===null)continue;const{name:u}=d;if(u==="#text"){const F=document.createTextNode(d.value);r.push(F),I.append(F);continue}const i=(z=d==null?void 0:d.attributes)!=null&&z.xmlns?document.createElementNS(d.attributes.xmlns,u):document.createElement(u);if(I.append(i),d.attributes&&this.setAttributes({html:i,element:d,storage:m,intent:S,linkService:Q}),d.children&&d.children.length>0)e.push([d,-1,i]);else if(d.value){const F=document.createTextNode(d.value);ne.XfaText.shouldBuildText(u)&&r.push(F),i.append(F)}}for(const j of t.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))j.setAttribute("readOnly",!0);return{textDivs:r}}static update(xe){const m=`matrix(${xe.viewport.transform.join(",")})`;xe.div.style.transform=m,xe.div.hidden=!1}}E.XfaLayer=fe},(f,E,de)=>{var n,S,N,e,t,r,z,j,M,I,d,u,i,F,C,As,b,Ss,B,vs,k,Cs,l,ji,X,ks,g,Ui,G,Fs,w,Ts,v,Es,y,Is,h,Os,W,tn,H,Hi,q,Un,ee,Hn,$,dn,K,Xi,Y,Xn,re,Ps,he,zi,te,_s,ge,Ms,Ee,Wi,ve,zn,Ae,fn;Object.defineProperty(E,"__esModule",{value:!0}),E.InkEditor=void 0;var ne=de(1),fe=de(4),we=de(29),xe=de(6),m=de(5);const _e=class _e extends fe.AnnotationEditor{constructor(be){super({...be,name:"inkEditor"});Me(this,C);Me(this,b);Me(this,B);Me(this,k);Me(this,l);Me(this,X);Me(this,g);Me(this,G);Me(this,w);Me(this,v);Me(this,y);Me(this,h);Me(this,W);Me(this,H);Me(this,q);Me(this,ee);Me(this,$);Me(this,K);Me(this,Y);Me(this,ge);Me(this,Ee);Me(this,ve);Me(this,Ae);Me(this,n,0);Me(this,S,0);Me(this,N,this.canvasPointermove.bind(this));Me(this,e,this.canvasPointerleave.bind(this));Me(this,t,this.canvasPointerup.bind(this));Me(this,r,this.canvasPointerdown.bind(this));Me(this,z,new Path2D);Me(this,j,!1);Me(this,M,!1);Me(this,I,!1);Me(this,d,null);Me(this,u,0);Me(this,i,0);Me(this,F,null);this.color=be.color||null,this.thickness=be.thickness||null,this.opacity=be.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(be){fe.AnnotationEditor.initialize(be,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(be,Ce){switch(be){case ne.AnnotationEditorParamsType.INK_THICKNESS:_e._defaultThickness=Ce;break;case ne.AnnotationEditorParamsType.INK_COLOR:_e._defaultColor=Ce;break;case ne.AnnotationEditorParamsType.INK_OPACITY:_e._defaultOpacity=Ce/100;break}}updateParams(be,Ce){switch(be){case ne.AnnotationEditorParamsType.INK_THICKNESS:Ne(this,C,As).call(this,Ce);break;case ne.AnnotationEditorParamsType.INK_COLOR:Ne(this,b,Ss).call(this,Ce);break;case ne.AnnotationEditorParamsType.INK_OPACITY:Ne(this,B,vs).call(this,Ce);break}}static get defaultPropertiesToUpdate(){return[[ne.AnnotationEditorParamsType.INK_THICKNESS,_e._defaultThickness],[ne.AnnotationEditorParamsType.INK_COLOR,_e._defaultColor||fe.AnnotationEditor._defaultLineColor],[ne.AnnotationEditorParamsType.INK_OPACITY,Math.round(_e._defaultOpacity*100)]]}get propertiesToUpdate(){return[[ne.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||_e._defaultThickness],[ne.AnnotationEditorParamsType.INK_COLOR,this.color||_e._defaultColor||fe.AnnotationEditor._defaultLineColor],[ne.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??_e._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Ne(this,q,Un).call(this),Ne(this,ee,Hn).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ne(this,$,dn).call(this)),Ne(this,Ae,fn).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,pe(this,d).disconnect(),Xe(this,d,null),super.remove())}setParent(be){!this.parent&&be?this._uiManager.removeShouldRescale(this):this.parent&&be===null&&this._uiManager.addShouldRescale(this),super.setParent(be)}onScaleChanging(){const[be,Ce]=this.parentDimensions,$e=this.width*be,Pe=this.height*Ce;this.setDimensions($e,Pe)}enableEditMode(){pe(this,j)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",pe(this,r)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",pe(this,r)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){pe(this,j)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Xe(this,j,!0),this.div.classList.add("disabled"),Ne(this,Ae,fn).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(be){this._focusEventsAllowed&&(super.focusin(be),this.enableEditMode())}canvasPointerdown(be){be.button!==0||!this.isInEditMode()||pe(this,j)||(this.setInForeground(),be.preventDefault(),be.type!=="mouse"&&this.div.focus(),Ne(this,X,ks).call(this,be.offsetX,be.offsetY))}canvasPointermove(be){be.preventDefault(),Ne(this,g,Ui).call(this,be.offsetX,be.offsetY)}canvasPointerup(be){be.preventDefault(),Ne(this,H,Hi).call(this,be)}canvasPointerleave(be){Ne(this,H,Hi).call(this,be)}get isResizable(){return!this.isEmpty()&&pe(this,j)}render(){if(this.div)return this.div;let be,Ce;this.width&&(be=this.x,Ce=this.y),super.render(),fe.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(ut=>{var Le;return(Le=this.div)==null?void 0:Le.setAttribute("aria-label",ut)});const[$e,Pe,ze,We]=Ne(this,k,Cs).call(this);if(this.setAt($e,Pe,0,0),this.setDims(ze,We),Ne(this,q,Un).call(this),this.width){const[ut,Le]=this.parentDimensions;this.setAspectRatio(this.width*ut,this.height*Le),this.setAt(be*ut,Ce*Le,this.width*ut,this.height*Le),Xe(this,I,!0),Ne(this,$,dn).call(this),this.setDims(this.width*ut,this.height*Le),Ne(this,W,tn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ne(this,ee,Hn).call(this),this.div}setDimensions(be,Ce){const $e=Math.round(be),Pe=Math.round(Ce);if(pe(this,u)===$e&&pe(this,i)===Pe)return;Xe(this,u,$e),Xe(this,i,Pe),this.canvas.style.visibility="hidden";const[ze,We]=this.parentDimensions;this.width=be/ze,this.height=Ce/We,this.fixAndSetPosition(),pe(this,j)&&Ne(this,K,Xi).call(this,be,Ce),Ne(this,$,dn).call(this),Ne(this,W,tn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(be,Ce,$e){var De,Be,Ue;if(be instanceof we.InkAnnotationElement)return null;const Pe=super.deserialize(be,Ce,$e);Pe.thickness=be.thickness,Pe.color=ne.Util.makeHexColor(...be.color),Pe.opacity=be.opacity;const[ze,We]=Pe.pageDimensions,ut=Pe.width*ze,Le=Pe.height*We,rt=Pe.parentScale,Qe=be.thickness/2;Xe(Pe,j,!0),Xe(Pe,u,Math.round(ut)),Xe(Pe,i,Math.round(Le));const{paths:Fe,rect:me,rotation:Te}=be;for(let{bezier:Ze}of Fe){Ze=Ne(De=_e,te,_s).call(De,Ze,me,Te);const Ke=[];Pe.paths.push(Ke);let qe=rt*(Ze[0]-Qe),tt=rt*(Ze[1]-Qe);for(let ot=2,dt=Ze.length;ot<dt;ot+=6){const ct=rt*(Ze[ot]-Qe),wt=rt*(Ze[ot+1]-Qe),It=rt*(Ze[ot+2]-Qe),Ye=rt*(Ze[ot+3]-Qe),Ve=rt*(Ze[ot+4]-Qe),et=rt*(Ze[ot+5]-Qe);Ke.push([[qe,tt],[ct,wt],[It,Ye],[Ve,et]]),qe=Ve,tt=et}const it=Ne(this,re,Ps).call(this,Ke);Pe.bezierPath2D.push(it)}const Ie=Ne(Be=Pe,Ee,Wi).call(Be);return Xe(Pe,S,Math.max(fe.AnnotationEditor.MIN_SIZE,Ie[2]-Ie[0])),Xe(Pe,n,Math.max(fe.AnnotationEditor.MIN_SIZE,Ie[3]-Ie[1])),Ne(Ue=Pe,K,Xi).call(Ue,ut,Le),Pe}serialize(){if(this.isEmpty())return null;const be=this.getRect(0,0),Ce=fe.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:ne.AnnotationEditorType.INK,color:Ce,thickness:this.thickness,opacity:this.opacity,paths:Ne(this,ge,Ms).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,be),pageIndex:this.pageIndex,rect:be,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};n=new WeakMap,S=new WeakMap,N=new WeakMap,e=new WeakMap,t=new WeakMap,r=new WeakMap,z=new WeakMap,j=new WeakMap,M=new WeakMap,I=new WeakMap,d=new WeakMap,u=new WeakMap,i=new WeakMap,F=new WeakMap,C=new WeakSet,As=function(be){const Ce=this.thickness;this.addCommands({cmd:()=>{this.thickness=be,Ne(this,Ae,fn).call(this)},undo:()=>{this.thickness=Ce,Ne(this,Ae,fn).call(this)},mustExec:!0,type:ne.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},b=new WeakSet,Ss=function(be){const Ce=this.color;this.addCommands({cmd:()=>{this.color=be,Ne(this,W,tn).call(this)},undo:()=>{this.color=Ce,Ne(this,W,tn).call(this)},mustExec:!0,type:ne.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},B=new WeakSet,vs=function(be){be/=100;const Ce=this.opacity;this.addCommands({cmd:()=>{this.opacity=be,Ne(this,W,tn).call(this)},undo:()=>{this.opacity=Ce,Ne(this,W,tn).call(this)},mustExec:!0,type:ne.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},k=new WeakSet,Cs=function(){const{parentRotation:be,parentDimensions:[Ce,$e]}=this;switch(be){case 90:return[0,$e,$e,Ce];case 180:return[Ce,$e,Ce,$e];case 270:return[Ce,0,$e,Ce];default:return[0,0,Ce,$e]}},l=new WeakSet,ji=function(){const{ctx:be,color:Ce,opacity:$e,thickness:Pe,parentScale:ze,scaleFactor:We}=this;be.lineWidth=Pe*ze/We,be.lineCap="round",be.lineJoin="round",be.miterLimit=10,be.strokeStyle=`${Ce}${(0,m.opacityToHex)($e)}`},X=new WeakSet,ks=function(be,Ce){this.canvas.addEventListener("contextmenu",xe.noContextMenu),this.canvas.addEventListener("pointerleave",pe(this,e)),this.canvas.addEventListener("pointermove",pe(this,N)),this.canvas.addEventListener("pointerup",pe(this,t)),this.canvas.removeEventListener("pointerdown",pe(this,r)),this.isEditing=!0,pe(this,I)||(Xe(this,I,!0),Ne(this,$,dn).call(this),this.thickness||(this.thickness=_e._defaultThickness),this.color||(this.color=_e._defaultColor||fe.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=_e._defaultOpacity)),this.currentPath.push([be,Ce]),Xe(this,M,!1),Ne(this,l,ji).call(this),Xe(this,F,()=>{Ne(this,v,Es).call(this),pe(this,F)&&window.requestAnimationFrame(pe(this,F))}),window.requestAnimationFrame(pe(this,F))},g=new WeakSet,Ui=function(be,Ce){const[$e,Pe]=this.currentPath.at(-1);if(this.currentPath.length>1&&be===$e&&Ce===Pe)return;const ze=this.currentPath;let We=pe(this,z);if(ze.push([be,Ce]),Xe(this,M,!0),ze.length<=2){We.moveTo(...ze[0]),We.lineTo(be,Ce);return}ze.length===3&&(Xe(this,z,We=new Path2D),We.moveTo(...ze[0])),Ne(this,y,Is).call(this,We,...ze.at(-3),...ze.at(-2),be,Ce)},G=new WeakSet,Fs=function(){if(this.currentPath.length===0)return;const be=this.currentPath.at(-1);pe(this,z).lineTo(...be)},w=new WeakSet,Ts=function(be,Ce){Xe(this,F,null),be=Math.min(Math.max(be,0),this.canvas.width),Ce=Math.min(Math.max(Ce,0),this.canvas.height),Ne(this,g,Ui).call(this,be,Ce),Ne(this,G,Fs).call(this);let $e;if(this.currentPath.length!==1)$e=Ne(this,h,Os).call(this);else{const Le=[be,Ce];$e=[[Le,Le.slice(),Le.slice(),Le]]}const Pe=pe(this,z),ze=this.currentPath;this.currentPath=[],Xe(this,z,new Path2D);const We=()=>{this.allRawPaths.push(ze),this.paths.push($e),this.bezierPath2D.push(Pe),this.rebuild()},ut=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ne(this,q,Un).call(this),Ne(this,ee,Hn).call(this)),Ne(this,Ae,fn).call(this))};this.addCommands({cmd:We,undo:ut,mustExec:!0})},v=new WeakSet,Es=function(){if(!pe(this,M))return;Xe(this,M,!1);const be=Math.ceil(this.thickness*this.parentScale),Ce=this.currentPath.slice(-3),$e=Ce.map(We=>We[0]),Pe=Ce.map(We=>We[1]);Math.min(...$e)-be,Math.max(...$e)+be,Math.min(...Pe)-be,Math.max(...Pe)+be;const{ctx:ze}=this;ze.save(),ze.clearRect(0,0,this.canvas.width,this.canvas.height);for(const We of this.bezierPath2D)ze.stroke(We);ze.stroke(pe(this,z)),ze.restore()},y=new WeakSet,Is=function(be,Ce,$e,Pe,ze,We,ut){const Le=(Ce+Pe)/2,rt=($e+ze)/2,Qe=(Pe+We)/2,Fe=(ze+ut)/2;be.bezierCurveTo(Le+2*(Pe-Le)/3,rt+2*(ze-rt)/3,Qe+2*(Pe-Qe)/3,Fe+2*(ze-Fe)/3,Qe,Fe)},h=new WeakSet,Os=function(){const be=this.currentPath;if(be.length<=2)return[[be[0],be[0],be.at(-1),be.at(-1)]];const Ce=[];let $e,[Pe,ze]=be[0];for($e=1;$e<be.length-2;$e++){const[me,Te]=be[$e],[Ie,De]=be[$e+1],Be=(me+Ie)/2,Ue=(Te+De)/2,Ze=[Pe+2*(me-Pe)/3,ze+2*(Te-ze)/3],Ke=[Be+2*(me-Be)/3,Ue+2*(Te-Ue)/3];Ce.push([[Pe,ze],Ze,Ke,[Be,Ue]]),[Pe,ze]=[Be,Ue]}const[We,ut]=be[$e],[Le,rt]=be[$e+1],Qe=[Pe+2*(We-Pe)/3,ze+2*(ut-ze)/3],Fe=[Le+2*(We-Le)/3,rt+2*(ut-rt)/3];return Ce.push([[Pe,ze],Qe,Fe,[Le,rt]]),Ce},W=new WeakSet,tn=function(){if(this.isEmpty()){Ne(this,Y,Xn).call(this);return}Ne(this,l,ji).call(this);const{canvas:be,ctx:Ce}=this;Ce.setTransform(1,0,0,1,0,0),Ce.clearRect(0,0,be.width,be.height),Ne(this,Y,Xn).call(this);for(const $e of this.bezierPath2D)Ce.stroke($e)},H=new WeakSet,Hi=function(be){this.canvas.removeEventListener("pointerleave",pe(this,e)),this.canvas.removeEventListener("pointermove",pe(this,N)),this.canvas.removeEventListener("pointerup",pe(this,t)),this.canvas.addEventListener("pointerdown",pe(this,r)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",xe.noContextMenu)},10),Ne(this,w,Ts).call(this,be.offsetX,be.offsetY),this.addToAnnotationStorage(),this.setInBackground()},q=new WeakSet,Un=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",fe.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(be=>{var Ce;return(Ce=this.canvas)==null?void 0:Ce.setAttribute("aria-label",be)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ee=new WeakSet,Hn=function(){Xe(this,d,new ResizeObserver(be=>{const Ce=be[0].contentRect;Ce.width&&Ce.height&&this.setDimensions(Ce.width,Ce.height)})),pe(this,d).observe(this.div)},$=new WeakSet,dn=function(){if(!pe(this,I))return;const[be,Ce]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*be),this.canvas.height=Math.ceil(this.height*Ce),Ne(this,Y,Xn).call(this)},K=new WeakSet,Xi=function(be,Ce){const $e=Ne(this,ve,zn).call(this),Pe=(be-$e)/pe(this,S),ze=(Ce-$e)/pe(this,n);this.scaleFactor=Math.min(Pe,ze)},Y=new WeakSet,Xn=function(){const be=Ne(this,ve,zn).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+be,this.translationY*this.scaleFactor+be)},re=new WeakSet,Ps=function(be){const Ce=new Path2D;for(let $e=0,Pe=be.length;$e<Pe;$e++){const[ze,We,ut,Le]=be[$e];$e===0&&Ce.moveTo(...ze),Ce.bezierCurveTo(We[0],We[1],ut[0],ut[1],Le[0],Le[1])}return Ce},he=new WeakSet,zi=function(be,Ce,$e){const[Pe,ze,We,ut]=Ce;switch($e){case 0:for(let Le=0,rt=be.length;Le<rt;Le+=2)be[Le]+=Pe,be[Le+1]=ut-be[Le+1];break;case 90:for(let Le=0,rt=be.length;Le<rt;Le+=2){const Qe=be[Le];be[Le]=be[Le+1]+Pe,be[Le+1]=Qe+ze}break;case 180:for(let Le=0,rt=be.length;Le<rt;Le+=2)be[Le]=We-be[Le],be[Le+1]+=ze;break;case 270:for(let Le=0,rt=be.length;Le<rt;Le+=2){const Qe=be[Le];be[Le]=We-be[Le+1],be[Le+1]=ut-Qe}break;default:throw new Error("Invalid rotation")}return be},te=new WeakSet,_s=function(be,Ce,$e){const[Pe,ze,We,ut]=Ce;switch($e){case 0:for(let Le=0,rt=be.length;Le<rt;Le+=2)be[Le]-=Pe,be[Le+1]=ut-be[Le+1];break;case 90:for(let Le=0,rt=be.length;Le<rt;Le+=2){const Qe=be[Le];be[Le]=be[Le+1]-ze,be[Le+1]=Qe-Pe}break;case 180:for(let Le=0,rt=be.length;Le<rt;Le+=2)be[Le]=We-be[Le],be[Le+1]-=ze;break;case 270:for(let Le=0,rt=be.length;Le<rt;Le+=2){const Qe=be[Le];be[Le]=ut-be[Le+1],be[Le+1]=We-Qe}break;default:throw new Error("Invalid rotation")}return be},ge=new WeakSet,Ms=function(be,Ce,$e,Pe){var rt,Qe;const ze=[],We=this.thickness/2,ut=be*Ce+We,Le=be*$e+We;for(const Fe of this.paths){const me=[],Te=[];for(let Ie=0,De=Fe.length;Ie<De;Ie++){const[Be,Ue,Ze,Ke]=Fe[Ie],qe=be*Be[0]+ut,tt=be*Be[1]+Le,it=be*Ue[0]+ut,ot=be*Ue[1]+Le,dt=be*Ze[0]+ut,ct=be*Ze[1]+Le,wt=be*Ke[0]+ut,It=be*Ke[1]+Le;Ie===0&&(me.push(qe,tt),Te.push(qe,tt)),me.push(it,ot,dt,ct,wt,It),Te.push(it,ot),Ie===De-1&&Te.push(wt,It)}ze.push({bezier:Ne(rt=_e,he,zi).call(rt,me,Pe,this.rotation),points:Ne(Qe=_e,he,zi).call(Qe,Te,Pe,this.rotation)})}return ze},Ee=new WeakSet,Wi=function(){let be=1/0,Ce=-1/0,$e=1/0,Pe=-1/0;for(const ze of this.paths)for(const[We,ut,Le,rt]of ze){const Qe=ne.Util.bezierBoundingBox(...We,...ut,...Le,...rt);be=Math.min(be,Qe[0]),$e=Math.min($e,Qe[1]),Ce=Math.max(Ce,Qe[2]),Pe=Math.max(Pe,Qe[3])}return[be,$e,Ce,Pe]},ve=new WeakSet,zn=function(){return pe(this,j)?Math.ceil(this.thickness*this.parentScale):0},Ae=new WeakSet,fn=function(be=!1){if(this.isEmpty())return;if(!pe(this,j)){Ne(this,W,tn).call(this);return}const Ce=Ne(this,Ee,Wi).call(this),$e=Ne(this,ve,zn).call(this);Xe(this,S,Math.max(fe.AnnotationEditor.MIN_SIZE,Ce[2]-Ce[0])),Xe(this,n,Math.max(fe.AnnotationEditor.MIN_SIZE,Ce[3]-Ce[1]));const Pe=Math.ceil($e+pe(this,S)*this.scaleFactor),ze=Math.ceil($e+pe(this,n)*this.scaleFactor),[We,ut]=this.parentDimensions;this.width=Pe/We,this.height=ze/ut,this.setAspectRatio(Pe,ze);const Le=this.translationX,rt=this.translationY;this.translationX=-Ce[0],this.translationY=-Ce[1],Ne(this,$,dn).call(this),Ne(this,W,tn).call(this),Xe(this,u,Pe),Xe(this,i,ze),this.setDims(Pe,ze);const Qe=be?$e/this.scaleFactor/2:0;this.translate(Le-this.translationX-Qe,rt-this.translationY-Qe)},Me(_e,re),Me(_e,he),Me(_e,te),Dt(_e,"_defaultColor",null),Dt(_e,"_defaultOpacity",1),Dt(_e,"_defaultThickness",1),Dt(_e,"_type","ink");let Q=_e;E.InkEditor=Q},(f,E,de)=>{var Q,n,S,N,e,t,r,z,j,M,I,Tn,u,En,F,Wn,T,Gi,L,Rs,V,Ds,_,Vi,x,Gn,a,Ns;Object.defineProperty(E,"__esModule",{value:!0}),E.StampEditor=void 0;var ne=de(1),fe=de(4),we=de(6),xe=de(29);const P=class P extends fe.AnnotationEditor{constructor(w){super({...w,name:"stampEditor"});Me(this,I);Me(this,u);Me(this,F);Me(this,T);Me(this,L);Me(this,V);Me(this,_);Me(this,x);Me(this,a);Me(this,Q,null);Me(this,n,null);Me(this,S,null);Me(this,N,null);Me(this,e,null);Me(this,t,null);Me(this,r,null);Me(this,z,null);Me(this,j,!1);Me(this,M,!1);Xe(this,N,w.bitmapUrl),Xe(this,e,w.bitmapFile)}static initialize(w){fe.AnnotationEditor.initialize(w)}static get supportedTypes(){const w=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,ne.shadow)(this,"supportedTypes",w.map(A=>`image/${A}`))}static get supportedTypesStr(){return(0,ne.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(w){return this.supportedTypes.includes(w)}static paste(w,A){A.pasteEditor(ne.AnnotationEditorType.STAMP,{bitmapFile:w.getAsFile()})}remove(){var w,A;pe(this,n)&&(Xe(this,Q,null),this._uiManager.imageManager.deleteId(pe(this,n)),(w=pe(this,t))==null||w.remove(),Xe(this,t,null),(A=pe(this,r))==null||A.disconnect(),Xe(this,r,null)),super.remove()}rebuild(){if(!this.parent){pe(this,n)&&Ne(this,F,Wn).call(this);return}super.rebuild(),this.div!==null&&(pe(this,n)&&Ne(this,F,Wn).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(pe(this,S)||pe(this,Q)||pe(this,N)||pe(this,e))}get isResizable(){return!0}render(){if(this.div)return this.div;let w,A;if(this.width&&(w=this.x,A=this.y),super.render(),this.div.hidden=!0,pe(this,Q)?Ne(this,T,Gi).call(this):Ne(this,F,Wn).call(this),this.width){const[v,o]=this.parentDimensions;this.setAt(w*v,A*o,this.width*v,this.height*o)}return this.div}static deserialize(w,A,v){if(w instanceof xe.StampAnnotationElement)return null;const o=super.deserialize(w,A,v),{rect:y,bitmapUrl:c,bitmapId:h,isSvg:O,accessibilityData:W}=w;h&&v.imageManager.isValidId(h)?Xe(o,n,h):Xe(o,N,c),Xe(o,j,O);const[R,H]=o.pageDimensions;return o.width=(y[2]-y[0])/R,o.height=(y[3]-y[1])/H,W&&(o.altTextData=W),o}serialize(w=!1,A=null){if(this.isEmpty())return null;const v={annotationType:ne.AnnotationEditorType.STAMP,bitmapId:pe(this,n),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:pe(this,j),structTreeParentId:this._structTreeParentId};if(w)return v.bitmapUrl=Ne(this,x,Gn).call(this,!0),v.accessibilityData=this.altTextData,v;const{decorative:o,altText:y}=this.altTextData;if(!o&&y&&(v.accessibilityData={type:"Figure",alt:y}),A===null)return v;A.stamps||(A.stamps=new Map);const c=pe(this,j)?(v.rect[2]-v.rect[0])*(v.rect[3]-v.rect[1]):null;if(!A.stamps.has(pe(this,n)))A.stamps.set(pe(this,n),{area:c,serialized:v}),v.bitmap=Ne(this,x,Gn).call(this,!1);else if(pe(this,j)){const h=A.stamps.get(pe(this,n));c>h.area&&(h.area=c,h.serialized.bitmap.close(),h.serialized.bitmap=Ne(this,x,Gn).call(this,!1))}return v}};Q=new WeakMap,n=new WeakMap,S=new WeakMap,N=new WeakMap,e=new WeakMap,t=new WeakMap,r=new WeakMap,z=new WeakMap,j=new WeakMap,M=new WeakMap,I=new WeakSet,Tn=function(w,A=!1){if(!w){this.remove();return}Xe(this,Q,w.bitmap),A||(Xe(this,n,w.id),Xe(this,j,w.isSvg)),Ne(this,T,Gi).call(this)},u=new WeakSet,En=function(){Xe(this,S,null),this._uiManager.enableWaiting(!1),pe(this,t)&&this.div.focus()},F=new WeakSet,Wn=function(){if(pe(this,n)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(pe(this,n)).then(A=>Ne(this,I,Tn).call(this,A,!0)).finally(()=>Ne(this,u,En).call(this));return}if(pe(this,N)){const A=pe(this,N);Xe(this,N,null),this._uiManager.enableWaiting(!0),Xe(this,S,this._uiManager.imageManager.getFromUrl(A).then(v=>Ne(this,I,Tn).call(this,v)).finally(()=>Ne(this,u,En).call(this)));return}if(pe(this,e)){const A=pe(this,e);Xe(this,e,null),this._uiManager.enableWaiting(!0),Xe(this,S,this._uiManager.imageManager.getFromFile(A).then(v=>Ne(this,I,Tn).call(this,v)).finally(()=>Ne(this,u,En).call(this)));return}const w=document.createElement("input");w.type="file",w.accept=P.supportedTypesStr,Xe(this,S,new Promise(A=>{w.addEventListener("change",async()=>{if(!w.files||w.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const v=await this._uiManager.imageManager.getFromFile(w.files[0]);Ne(this,I,Tn).call(this,v)}A()}),w.addEventListener("cancel",()=>{this.remove(),A()})}).finally(()=>Ne(this,u,En).call(this))),w.click()},T=new WeakSet,Gi=function(){const{div:w}=this;let{width:A,height:v}=pe(this,Q);const[o,y]=this.pageDimensions,c=.75;if(this.width)A=this.width*o,v=this.height*y;else if(A>c*o||v>c*y){const R=Math.min(c*o/A,c*y/v);A*=R,v*=R}const[h,O]=this.parentDimensions;this.setDims(A*h/o,v*O/y),this._uiManager.enableWaiting(!1);const W=Xe(this,t,document.createElement("canvas"));w.append(W),w.hidden=!1,Ne(this,_,Vi).call(this,A,v),Ne(this,a,Ns).call(this),pe(this,M)||(this.parent.addUndoableEditor(this),Xe(this,M,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},L=new WeakSet,Rs=function(w,A){var c;const[v,o]=this.parentDimensions;this.width=w/v,this.height=A/o,this.setDims(w,A),(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,pe(this,z)!==null&&clearTimeout(pe(this,z)),Xe(this,z,setTimeout(()=>{Xe(this,z,null),Ne(this,_,Vi).call(this,w,A)},200))},V=new WeakSet,Ds=function(w,A){const{width:v,height:o}=pe(this,Q);let y=v,c=o,h=pe(this,Q);for(;y>2*w||c>2*A;){const O=y,W=c;y>2*w&&(y=y>=16384?Math.floor(y/2)-1:Math.ceil(y/2)),c>2*A&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const R=new OffscreenCanvas(y,c);R.getContext("2d").drawImage(h,0,0,O,W,0,0,y,c),h=R.transferToImageBitmap()}return h},_=new WeakSet,Vi=function(w,A){w=Math.ceil(w),A=Math.ceil(A);const v=pe(this,t);if(!v||v.width===w&&v.height===A)return;v.width=w,v.height=A;const o=pe(this,j)?pe(this,Q):Ne(this,V,Ds).call(this,w,A),y=v.getContext("2d");y.filter=this._uiManager.hcmFilter,y.drawImage(o,0,0,o.width,o.height,0,0,w,A)},x=new WeakSet,Gn=function(w){if(w){if(pe(this,j)){const o=this._uiManager.imageManager.getSvgUrl(pe(this,n));if(o)return o}const A=document.createElement("canvas");return{width:A.width,height:A.height}=pe(this,Q),A.getContext("2d").drawImage(pe(this,Q),0,0),A.toDataURL()}if(pe(this,j)){const[A,v]=this.pageDimensions,o=Math.round(this.width*A*we.PixelsPerInch.PDF_TO_CSS_UNITS),y=Math.round(this.height*v*we.PixelsPerInch.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(o,y);return c.getContext("2d").drawImage(pe(this,Q),0,0,pe(this,Q).width,pe(this,Q).height,0,0,o,y),c.transferToImageBitmap()}return structuredClone(pe(this,Q))},a=new WeakSet,Ns=function(){Xe(this,r,new ResizeObserver(w=>{const A=w[0].contentRect;A.width&&A.height&&Ne(this,L,Rs).call(this,A.width,A.height)})),pe(this,r).observe(this.div)},Dt(P,"_type","stamp");let m=P;E.StampEditor=m}],__webpack_module_cache__={};function __w_pdfjs_require__(f){var E=__webpack_module_cache__[f];if(E!==void 0)return E.exports;var de=__webpack_module_cache__[f]={exports:{}};return __webpack_modules__[f](de,de.exports,__w_pdfjs_require__),de.exports}var __webpack_exports__={};return(()=>{var f=__webpack_exports__;Object.defineProperty(f,"__esModule",{value:!0}),Object.defineProperty(f,"AbortException",{enumerable:!0,get:function(){return E.AbortException}}),Object.defineProperty(f,"AnnotationEditorLayer",{enumerable:!0,get:function(){return we.AnnotationEditorLayer}}),Object.defineProperty(f,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return E.AnnotationEditorParamsType}}),Object.defineProperty(f,"AnnotationEditorType",{enumerable:!0,get:function(){return E.AnnotationEditorType}}),Object.defineProperty(f,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return xe.AnnotationEditorUIManager}}),Object.defineProperty(f,"AnnotationLayer",{enumerable:!0,get:function(){return m.AnnotationLayer}}),Object.defineProperty(f,"AnnotationMode",{enumerable:!0,get:function(){return E.AnnotationMode}}),Object.defineProperty(f,"CMapCompressionType",{enumerable:!0,get:function(){return E.CMapCompressionType}}),Object.defineProperty(f,"DOMSVGFactory",{enumerable:!0,get:function(){return ne.DOMSVGFactory}}),Object.defineProperty(f,"FeatureTest",{enumerable:!0,get:function(){return E.FeatureTest}}),Object.defineProperty(f,"GlobalWorkerOptions",{enumerable:!0,get:function(){return Q.GlobalWorkerOptions}}),Object.defineProperty(f,"ImageKind",{enumerable:!0,get:function(){return E.ImageKind}}),Object.defineProperty(f,"InvalidPDFException",{enumerable:!0,get:function(){return E.InvalidPDFException}}),Object.defineProperty(f,"MissingPDFException",{enumerable:!0,get:function(){return E.MissingPDFException}}),Object.defineProperty(f,"OPS",{enumerable:!0,get:function(){return E.OPS}}),Object.defineProperty(f,"PDFDataRangeTransport",{enumerable:!0,get:function(){return de.PDFDataRangeTransport}}),Object.defineProperty(f,"PDFDateString",{enumerable:!0,get:function(){return ne.PDFDateString}}),Object.defineProperty(f,"PDFWorker",{enumerable:!0,get:function(){return de.PDFWorker}}),Object.defineProperty(f,"PasswordResponses",{enumerable:!0,get:function(){return E.PasswordResponses}}),Object.defineProperty(f,"PermissionFlag",{enumerable:!0,get:function(){return E.PermissionFlag}}),Object.defineProperty(f,"PixelsPerInch",{enumerable:!0,get:function(){return ne.PixelsPerInch}}),Object.defineProperty(f,"PromiseCapability",{enumerable:!0,get:function(){return E.PromiseCapability}}),Object.defineProperty(f,"RenderingCancelledException",{enumerable:!0,get:function(){return ne.RenderingCancelledException}}),Object.defineProperty(f,"SVGGraphics",{enumerable:!0,get:function(){return de.SVGGraphics}}),Object.defineProperty(f,"UnexpectedResponseException",{enumerable:!0,get:function(){return E.UnexpectedResponseException}}),Object.defineProperty(f,"Util",{enumerable:!0,get:function(){return E.Util}}),Object.defineProperty(f,"VerbosityLevel",{enumerable:!0,get:function(){return E.VerbosityLevel}}),Object.defineProperty(f,"XfaLayer",{enumerable:!0,get:function(){return n.XfaLayer}}),Object.defineProperty(f,"build",{enumerable:!0,get:function(){return de.build}}),Object.defineProperty(f,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return E.createValidAbsoluteUrl}}),Object.defineProperty(f,"getDocument",{enumerable:!0,get:function(){return de.getDocument}}),Object.defineProperty(f,"getFilenameFromUrl",{enumerable:!0,get:function(){return ne.getFilenameFromUrl}}),Object.defineProperty(f,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return ne.getPdfFilenameFromUrl}}),Object.defineProperty(f,"getXfaPageViewport",{enumerable:!0,get:function(){return ne.getXfaPageViewport}}),Object.defineProperty(f,"isDataScheme",{enumerable:!0,get:function(){return ne.isDataScheme}}),Object.defineProperty(f,"isPdfFile",{enumerable:!0,get:function(){return ne.isPdfFile}}),Object.defineProperty(f,"loadScript",{enumerable:!0,get:function(){return ne.loadScript}}),Object.defineProperty(f,"noContextMenu",{enumerable:!0,get:function(){return ne.noContextMenu}}),Object.defineProperty(f,"normalizeUnicode",{enumerable:!0,get:function(){return E.normalizeUnicode}}),Object.defineProperty(f,"renderTextLayer",{enumerable:!0,get:function(){return fe.renderTextLayer}}),Object.defineProperty(f,"setLayerDimensions",{enumerable:!0,get:function(){return ne.setLayerDimensions}}),Object.defineProperty(f,"shadow",{enumerable:!0,get:function(){return E.shadow}}),Object.defineProperty(f,"updateTextLayer",{enumerable:!0,get:function(){return fe.updateTextLayer}}),Object.defineProperty(f,"version",{enumerable:!0,get:function(){return de.version}});var E=__w_pdfjs_require__(1),de=__w_pdfjs_require__(2),ne=__w_pdfjs_require__(6),fe=__w_pdfjs_require__(26),we=__w_pdfjs_require__(27),xe=__w_pdfjs_require__(5),m=__w_pdfjs_require__(29),Q=__w_pdfjs_require__(14),n=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports,pdf_worker={exports:{}};(function(f,E){(function(ne,fe){f.exports=ne.pdfjsWorker=fe()})(globalThis,()=>(()=>{var de=[,(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.WorkerTask=m.WorkerMessageHandler=void 0;var n=Q(2),S=Q(3),N=Q(4),e=Q(6),t=Q(10),r=Q(68),z=Q(73),j=Q(104),M=Q(105),I=Q(72);class d{constructor(C){this.name=C,this.terminated=!1,this._capability=new n.PromiseCapability}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}m.WorkerTask=d;class u{static setup(C,T){let b=!1;C.on("test",function(L){b||(b=!0,C.send("test",L instanceof Uint8Array))}),C.on("configure",function(L){(0,n.setVerbosityLevel)(L.verbosity)}),C.on("GetDocRequest",function(L){return u.createDocumentHandler(L,T)})}static createDocumentHandler(C,T){let b,L=!1,B=null;const V=new Set,k=(0,n.getVerbosityLevel)(),{docId:_,apiVersion:l}=C,x="3.11.174";if(l!==x)throw new Error(`The API version "${l}" does not match the Worker version "${x}".`);const X=[];for(const o in[])X.push(o);if(X.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+X.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");const a=_+"_worker";let g=new j.MessageHandler(a,_,T);function P(){if(L)throw new Error("Worker was terminated")}function G(o){V.add(o)}function D(o){o.finish(),V.delete(o)}async function w(o){await b.ensureDoc("checkHeader"),await b.ensureDoc("parseStartXRef"),await b.ensureDoc("parse",[o]),await b.ensureDoc("checkFirstPage",[o]),await b.ensureDoc("checkLastPage",[o]);const y=await b.ensureDoc("isPureXfa");if(y){const W=new d("loadXfaFonts");G(W),await Promise.all([b.loadXfaFonts(g,W).catch(R=>{}).then(()=>D(W)),b.loadXfaImages()])}const[c,h]=await Promise.all([b.ensureDoc("numPages"),b.ensureDoc("fingerprints")]),O=y?await b.ensureDoc("htmlForXfa"):null;return{numPages:c,fingerprints:h,htmlForXfa:O}}function A({data:o,password:y,disableAutoFetch:c,rangeChunkSize:h,length:O,docBaseUrl:W,enableXfa:R,evaluatorOptions:H}){const ae={source:null,disableAutoFetch:c,docBaseUrl:W,docId:_,enableXfa:R,evaluatorOptions:H,handler:g,length:O,password:y,rangeChunkSize:h},q=new n.PromiseCapability;let ce;if(o){try{ae.source=o,ce=new e.LocalPdfManager(ae),q.resolve(ce)}catch(J){q.reject(J)}return q.promise}let ee,se=[];try{ee=new M.PDFWorkerStream(g)}catch(J){return q.reject(J),q.promise}const $=ee.getFullReader();$.headersReady.then(function(){if($.isRangeSupported){ae.source=ee,ae.length=$.contentLength,ae.disableAutoFetch||(ae.disableAutoFetch=$.isStreamingSupported),ce=new e.NetworkPdfManager(ae);for(const J of se)ce.sendProgressiveData(J);se=[],q.resolve(ce),B=null}}).catch(function(J){q.reject(J),B=null});let U=0;const K=function(){const J=(0,S.arrayBuffersToBytes)(se);O&&J.length!==O&&(0,n.warn)("reported HTTP length is different from actual");try{ae.source=J,ce=new e.LocalPdfManager(ae),q.resolve(ce)}catch(Y){q.reject(Y)}se=[]};return new Promise(function(J,Y){const ie=function({value:re,done:Z}){try{if(P(),Z){ce||K(),B=null;return}U+=re.byteLength,$.isStreamingSupported||g.send("DocProgress",{loaded:U,total:Math.max(U,$.contentLength||0)}),ce?ce.sendProgressiveData(re):se.push(re),$.read().then(ie,Y)}catch(he){Y(he)}};$.read().then(ie,Y)}).catch(function(J){q.reject(J),B=null}),B=function(J){ee.cancelAllRequests(J)},q.promise}function v(o){function y(O){P(),g.send("GetDoc",{pdfInfo:O})}function c(O){if(P(),O instanceof n.PasswordException){const W=new d(`PasswordException: response ${O.code}`);G(W),g.sendWithPromise("PasswordRequest",O).then(function({password:R}){D(W),b.updatePassword(R),h()}).catch(function(){D(W),g.send("DocException",O)})}else O instanceof n.InvalidPDFException||O instanceof n.MissingPDFException||O instanceof n.UnexpectedResponseException||O instanceof n.UnknownErrorException?g.send("DocException",O):g.send("DocException",new n.UnknownErrorException(O.message,O.toString()))}function h(){P(),w(!1).then(y,function(O){if(P(),!(O instanceof S.XRefParseException)){c(O);return}b.requestLoadedStream().then(function(){P(),w(!0).then(y,c)})})}P(),A(o).then(function(O){if(L)throw O.terminate(new n.AbortException("Worker was terminated.")),new Error("Worker was terminated");b=O,b.requestLoadedStream(!0).then(W=>{g.send("DataLoaded",{length:W.bytes.byteLength})})}).then(h,c)}return g.on("GetPage",function(o){return b.getPage(o.pageIndex).then(function(y){return Promise.all([b.ensure(y,"rotate"),b.ensure(y,"ref"),b.ensure(y,"userUnit"),b.ensure(y,"view")]).then(function([c,h,O,W]){return{rotate:c,ref:h,userUnit:O,view:W}})})}),g.on("GetPageIndex",function(o){const y=N.Ref.get(o.num,o.gen);return b.ensureCatalog("getPageIndex",[y])}),g.on("GetDestinations",function(o){return b.ensureCatalog("destinations")}),g.on("GetDestination",function(o){return b.ensureCatalog("getDestination",[o.id])}),g.on("GetPageLabels",function(o){return b.ensureCatalog("pageLabels")}),g.on("GetPageLayout",function(o){return b.ensureCatalog("pageLayout")}),g.on("GetPageMode",function(o){return b.ensureCatalog("pageMode")}),g.on("GetViewerPreferences",function(o){return b.ensureCatalog("viewerPreferences")}),g.on("GetOpenAction",function(o){return b.ensureCatalog("openAction")}),g.on("GetAttachments",function(o){return b.ensureCatalog("attachments")}),g.on("GetDocJSActions",function(o){return b.ensureCatalog("jsActions")}),g.on("GetPageJSActions",function({pageIndex:o}){return b.getPage(o).then(function(y){return b.ensure(y,"jsActions")})}),g.on("GetOutline",function(o){return b.ensureCatalog("documentOutline")}),g.on("GetOptionalContentConfig",function(o){return b.ensureCatalog("optionalContentConfig")}),g.on("GetPermissions",function(o){return b.ensureCatalog("permissions")}),g.on("GetMetadata",function(o){return Promise.all([b.ensureDoc("documentInfo"),b.ensureCatalog("metadata")])}),g.on("GetMarkInfo",function(o){return b.ensureCatalog("markInfo")}),g.on("GetData",function(o){return b.requestLoadedStream().then(function(y){return y.bytes})}),g.on("GetAnnotations",function({pageIndex:o,intent:y}){return b.getPage(o).then(function(c){const h=new d(`GetAnnotations: page ${o}`);return G(h),c.getAnnotationsData(g,h,y).then(O=>(D(h),O),O=>{throw D(h),O})})}),g.on("GetFieldObjects",function(o){return b.ensureDoc("fieldObjects")}),g.on("HasJSActions",function(o){return b.ensureDoc("hasJSActions")}),g.on("GetCalculationOrderIds",function(o){return b.ensureDoc("calculationOrderIds")}),g.on("SaveDocument",async function({isPureXfa:o,numPages:y,annotationStorage:c,filename:h}){const O=[b.requestLoadedStream(),b.ensureCatalog("acroForm"),b.ensureCatalog("acroFormRef"),b.ensureDoc("startXRef"),b.ensureDoc("xref"),b.ensureDoc("linearization"),b.ensureCatalog("structTreeRoot")],W=[],R=o?null:(0,S.getNewAnnotationsMap)(c),[H,ae,q,ce,ee,se,$]=await Promise.all(O),U=ee.trailer.getRaw("Root")||null;let K;if(R){$?await $.canUpdateStructTree({pdfManager:b,newAnnotationsByPage:R})&&(K=$):await I.StructTreeRoot.canCreateStructureTree({catalogRef:U,pdfManager:b,newAnnotationsByPage:R})&&(K=null);const ue=t.AnnotationFactory.generateImages(c.values(),ee,b.evaluatorOptions.isOffscreenCanvasSupported),ge=K===void 0?W:[];for(const[ye,Ee]of R)ge.push(b.getPage(ye).then(Oe=>{const ve=new d(`Save (editor): page ${ye}`);return Oe.saveNewAnnotations(g,ve,Ee,ue).finally(function(){D(ve)})}));K===null?W.push(Promise.all(ge).then(async ye=>(await I.StructTreeRoot.createStructureTree({newAnnotationsByPage:R,xref:ee,catalogRef:U,pdfManager:b,newRefs:ye}),ye))):K&&W.push(Promise.all(ge).then(async ye=>(await K.updateStructureTree({newAnnotationsByPage:R,pdfManager:b,newRefs:ye}),ye)))}if(o)W.push(b.serializeXfaData(c));else for(let ue=0;ue<y;ue++)W.push(b.getPage(ue).then(function(ge){const ye=new d(`Save: page ${ue}`);return ge.save(g,ye,c).finally(function(){D(ye)})}));const J=await Promise.all(W);let Y=[],ie=null;if(o){if(ie=J[0],!ie)return H.bytes}else if(Y=J.flat(2),Y.length===0)return H.bytes;const re=q&&ae instanceof N.Dict&&Y.some(ue=>ue.needAppearances),Z=ae instanceof N.Dict&&ae.get("XFA")||null;let he=null,le=!1;if(Array.isArray(Z)){for(let ue=0,ge=Z.length;ue<ge;ue+=2)Z[ue]==="datasets"&&(he=Z[ue+1],le=!0);he===null&&(he=ee.getNewTemporaryRef())}else Z&&(0,n.warn)("Unsupported XFA type.");let te=Object.create(null);if(ee.trailer){const ue=Object.create(null),ge=ee.trailer.get("Info")||null;ge instanceof N.Dict&&ge.forEach((ye,Ee)=>{typeof Ee=="string"&&(ue[ye]=(0,n.stringToPDFString)(Ee))}),te={rootRef:U,encryptRef:ee.trailer.getRaw("Encrypt")||null,newRef:ee.getNewTemporaryRef(),infoRef:ee.trailer.getRaw("Info")||null,info:ue,fileIds:ee.trailer.get("ID")||null,startXRef:se?ce:ee.lastXRefStreamPos??ce,filename:h}}return(0,z.incrementalUpdate)({originalData:H.bytes,xrefInfo:te,newRefs:Y,xref:ee,hasXfa:!!Z,xfaDatasetsRef:he,hasXfaDatasetsEntry:le,needAppearances:re,acroFormRef:q,acroForm:ae,xfaData:ie}).finally(()=>{ee.resetNewTemporaryRef()})}),g.on("GetOperatorList",function(o,y){const c=o.pageIndex;b.getPage(c).then(function(h){const O=new d(`GetOperatorList: page ${c}`);G(O);const W=k>=n.VerbosityLevel.INFOS?Date.now():0;h.getOperatorList({handler:g,sink:y,task:O,intent:o.intent,cacheKey:o.cacheKey,annotationStorage:o.annotationStorage}).then(function(R){D(O),W&&(0,n.info)(`page=${c+1} - getOperatorList: time=${Date.now()-W}ms, len=${R.length}`),y.close()},function(R){D(O),!O.terminated&&y.error(R)})})}),g.on("GetTextContent",function(o,y){const{pageIndex:c,includeMarkedContent:h,disableNormalization:O}=o;b.getPage(c).then(function(W){const R=new d("GetTextContent: page "+c);G(R);const H=k>=n.VerbosityLevel.INFOS?Date.now():0;W.extractTextContent({handler:g,task:R,sink:y,includeMarkedContent:h,disableNormalization:O}).then(function(){D(R),H&&(0,n.info)(`page=${c+1} - getTextContent: time=${Date.now()-H}ms`),y.close()},function(ae){D(R),!R.terminated&&y.error(ae)})})}),g.on("GetStructTree",function(o){return b.getPage(o.pageIndex).then(function(y){return b.ensure(y,"getStructTree")})}),g.on("FontFallback",function(o){return b.fontFallback(o.id,g)}),g.on("Cleanup",function(o){return b.cleanup(!0)}),g.on("Terminate",function(o){L=!0;const y=[];if(b){b.terminate(new n.AbortException("Worker was terminated."));const c=b.cleanup();y.push(c),b=null}else(0,r.clearGlobalCaches)();B&&B(new n.AbortException("Worker was terminated."));for(const c of V)y.push(c.finished),c.terminate();return Promise.all(y).then(function(){g.destroy(),g=null})}),g.on("Ready",function(o){v(C),C=null}),a}static initializeFromPort(C){const T=new j.MessageHandler("worker","main",C);u.setup(T,C),T.send("ready",null)}}m.WorkerMessageHandler=u;function i(F){return typeof F.postMessage=="function"&&"onmessage"in F}typeof window>"u"&&!n.isNodeJS&&typeof self<"u"&&i(self)&&u.initializeFromPort(self)},(xe,m)=>{var je;Object.defineProperty(m,"__esModule",{value:!0}),m.VerbosityLevel=m.Util=m.UnknownErrorException=m.UnexpectedResponseException=m.TextRenderingMode=m.RenderingIntentFlag=m.PromiseCapability=m.PermissionFlag=m.PasswordResponses=m.PasswordException=m.PageActionEventType=m.OPS=m.MissingPDFException=m.MAX_IMAGE_SIZE_TO_CACHE=m.LINE_FACTOR=m.LINE_DESCENT_FACTOR=m.InvalidPDFException=m.ImageKind=m.IDENTITY_MATRIX=m.FormatError=m.FeatureTest=m.FONT_IDENTITY_MATRIX=m.DocumentActionEventType=m.CMapCompressionType=m.BaseException=m.BASELINE_FACTOR=m.AnnotationType=m.AnnotationReplyType=m.AnnotationPrefix=m.AnnotationMode=m.AnnotationFlag=m.AnnotationFieldFlag=m.AnnotationEditorType=m.AnnotationEditorPrefix=m.AnnotationEditorParamsType=m.AnnotationBorderStyleType=m.AnnotationActionEventType=m.AbortException=void 0,m.assert=v,m.bytesToString=ee,m.createValidAbsoluteUrl=y,m.getModificationDate=Ee,m.getUuid=ke,m.getVerbosityLevel=G,m.info=D,m.isArrayBuffer=ge,m.isArrayEqual=ye,m.isNodeJS=void 0,m.normalizeUnicode=Ae,m.objectFromMap=K,m.objectSize=U,m.setVerbosityLevel=P,m.shadow=c,m.string32=$,m.stringToBytes=se,m.stringToPDFString=le,m.stringToUTF8String=te,m.unreachable=A,m.utf8StringToString=ue,m.warn=w;const Q=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");m.isNodeJS=Q;const n=[1,0,0,1,0,0];m.IDENTITY_MATRIX=n;const S=[.001,0,0,.001,0,0];m.FONT_IDENTITY_MATRIX=S;const N=1e7;m.MAX_IMAGE_SIZE_TO_CACHE=N;const e=1.35;m.LINE_FACTOR=e;const t=.35;m.LINE_DESCENT_FACTOR=t;const r=t/e;m.BASELINE_FACTOR=r;const z={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};m.RenderingIntentFlag=z;const j={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};m.AnnotationMode=j;const M="pdfjs_internal_editor_";m.AnnotationEditorPrefix=M;const I={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};m.AnnotationEditorType=I;const d={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};m.AnnotationEditorParamsType=d;const u={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};m.PermissionFlag=u;const i={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};m.TextRenderingMode=i;const F={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};m.ImageKind=F;const C={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};m.AnnotationType=C;const T={GROUP:"Group",REPLY:"R"};m.AnnotationReplyType=T;const b={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};m.AnnotationFlag=b;const L={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};m.AnnotationFieldFlag=L;const B={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};m.AnnotationBorderStyleType=B;const V={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};m.AnnotationActionEventType=V;const k={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};m.DocumentActionEventType=k;const _={O:"PageOpen",C:"PageClose"};m.PageActionEventType=_;const l={ERRORS:0,WARNINGS:1,INFOS:5};m.VerbosityLevel=l;const x={NONE:0,BINARY:1};m.CMapCompressionType=x;const X={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};m.OPS=X;const a={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};m.PasswordResponses=a;let g=l.WARNINGS;function P(Re){Number.isInteger(Re)&&(g=Re)}function G(){return g}function D(Re){g>=l.INFOS&&console.log(`Info: ${Re}`)}function w(Re){g>=l.WARNINGS&&console.log(`Warning: ${Re}`)}function A(Re){throw new Error(Re)}function v(Re,be){Re||A(be)}function o(Re){switch(Re==null?void 0:Re.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function y(Re,be=null,Ce=null){if(!Re)return null;try{if(Ce&&typeof Re=="string"){if(Ce.addDefaultProtocol&&Re.startsWith("www.")){const Pe=Re.match(/\./g);(Pe==null?void 0:Pe.length)>=2&&(Re=`http://${Re}`)}if(Ce.tryConvertEncoding)try{Re=te(Re)}catch{}}const $e=be?new URL(Re,be):new URL(Re);if(o($e))return $e}catch{}return null}function c(Re,be,Ce,$e=!1){return Object.defineProperty(Re,be,{value:Ce,enumerable:!$e,configurable:!0,writable:!1}),Ce}const h=function(){function be(Ce,$e){this.constructor===be&&A("Cannot initialize BaseException."),this.message=Ce,this.name=$e}return be.prototype=new Error,be.constructor=be,be}();m.BaseException=h;class O extends h{constructor(be,Ce){super(be,"PasswordException"),this.code=Ce}}m.PasswordException=O;class W extends h{constructor(be,Ce){super(be,"UnknownErrorException"),this.details=Ce}}m.UnknownErrorException=W;class R extends h{constructor(be){super(be,"InvalidPDFException")}}m.InvalidPDFException=R;class H extends h{constructor(be){super(be,"MissingPDFException")}}m.MissingPDFException=H;class ae extends h{constructor(be,Ce){super(be,"UnexpectedResponseException"),this.status=Ce}}m.UnexpectedResponseException=ae;class q extends h{constructor(be){super(be,"FormatError")}}m.FormatError=q;class ce extends h{constructor(be){super(be,"AbortException")}}m.AbortException=ce;function ee(Re){(typeof Re!="object"||(Re==null?void 0:Re.length)===void 0)&&A("Invalid argument for bytesToString");const be=Re.length,Ce=8192;if(be<Ce)return String.fromCharCode.apply(null,Re);const $e=[];for(let Pe=0;Pe<be;Pe+=Ce){const ze=Math.min(Pe+Ce,be),We=Re.subarray(Pe,ze);$e.push(String.fromCharCode.apply(null,We))}return $e.join("")}function se(Re){typeof Re!="string"&&A("Invalid argument for stringToBytes");const be=Re.length,Ce=new Uint8Array(be);for(let $e=0;$e<be;++$e)Ce[$e]=Re.charCodeAt($e)&255;return Ce}function $(Re){return String.fromCharCode(Re>>24&255,Re>>16&255,Re>>8&255,Re&255)}function U(Re){return Object.keys(Re).length}function K(Re){const be=Object.create(null);for(const[Ce,$e]of Re)be[Ce]=$e;return be}function J(){const Re=new Uint8Array(4);return Re[0]=1,new Uint32Array(Re.buffer,0,1)[0]===1}function Y(){try{return new Function(""),!0}catch{return!1}}class ie{static get isLittleEndian(){return c(this,"isLittleEndian",J())}static get isEvalSupported(){return c(this,"isEvalSupported",Y())}static get isOffscreenCanvasSupported(){return c(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?c(this,"platform",{isWin:!1,isMac:!1}):c(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var be,Ce;return c(this,"isCSSRoundSupported",(Ce=(be=globalThis.CSS)==null?void 0:be.supports)==null?void 0:Ce.call(be,"width: round(1.5px, 1px)"))}}m.FeatureTest=ie;const re=[...Array(256).keys()].map(Re=>Re.toString(16).padStart(2,"0"));class Z{static makeHexColor(be,Ce,$e){return`#${re[be]}${re[Ce]}${re[$e]}`}static scaleMinMax(be,Ce){let $e;be[0]?(be[0]<0&&($e=Ce[0],Ce[0]=Ce[1],Ce[1]=$e),Ce[0]*=be[0],Ce[1]*=be[0],be[3]<0&&($e=Ce[2],Ce[2]=Ce[3],Ce[3]=$e),Ce[2]*=be[3],Ce[3]*=be[3]):($e=Ce[0],Ce[0]=Ce[2],Ce[2]=$e,$e=Ce[1],Ce[1]=Ce[3],Ce[3]=$e,be[1]<0&&($e=Ce[2],Ce[2]=Ce[3],Ce[3]=$e),Ce[2]*=be[1],Ce[3]*=be[1],be[2]<0&&($e=Ce[0],Ce[0]=Ce[1],Ce[1]=$e),Ce[0]*=be[2],Ce[1]*=be[2]),Ce[0]+=be[4],Ce[1]+=be[4],Ce[2]+=be[5],Ce[3]+=be[5]}static transform(be,Ce){return[be[0]*Ce[0]+be[2]*Ce[1],be[1]*Ce[0]+be[3]*Ce[1],be[0]*Ce[2]+be[2]*Ce[3],be[1]*Ce[2]+be[3]*Ce[3],be[0]*Ce[4]+be[2]*Ce[5]+be[4],be[1]*Ce[4]+be[3]*Ce[5]+be[5]]}static applyTransform(be,Ce){const $e=be[0]*Ce[0]+be[1]*Ce[2]+Ce[4],Pe=be[0]*Ce[1]+be[1]*Ce[3]+Ce[5];return[$e,Pe]}static applyInverseTransform(be,Ce){const $e=Ce[0]*Ce[3]-Ce[1]*Ce[2],Pe=(be[0]*Ce[3]-be[1]*Ce[2]+Ce[2]*Ce[5]-Ce[4]*Ce[3])/$e,ze=(-be[0]*Ce[1]+be[1]*Ce[0]+Ce[4]*Ce[1]-Ce[5]*Ce[0])/$e;return[Pe,ze]}static getAxialAlignedBoundingBox(be,Ce){const $e=this.applyTransform(be,Ce),Pe=this.applyTransform(be.slice(2,4),Ce),ze=this.applyTransform([be[0],be[3]],Ce),We=this.applyTransform([be[2],be[1]],Ce);return[Math.min($e[0],Pe[0],ze[0],We[0]),Math.min($e[1],Pe[1],ze[1],We[1]),Math.max($e[0],Pe[0],ze[0],We[0]),Math.max($e[1],Pe[1],ze[1],We[1])]}static inverseTransform(be){const Ce=be[0]*be[3]-be[1]*be[2];return[be[3]/Ce,-be[1]/Ce,-be[2]/Ce,be[0]/Ce,(be[2]*be[5]-be[4]*be[3])/Ce,(be[4]*be[1]-be[5]*be[0])/Ce]}static singularValueDecompose2dScale(be){const Ce=[be[0],be[2],be[1],be[3]],$e=be[0]*Ce[0]+be[1]*Ce[2],Pe=be[0]*Ce[1]+be[1]*Ce[3],ze=be[2]*Ce[0]+be[3]*Ce[2],We=be[2]*Ce[1]+be[3]*Ce[3],ut=($e+We)/2,Le=Math.sqrt(($e+We)**2-4*($e*We-ze*Pe))/2,rt=ut+Le||1,Qe=ut-Le||1;return[Math.sqrt(rt),Math.sqrt(Qe)]}static normalizeRect(be){const Ce=be.slice(0);return be[0]>be[2]&&(Ce[0]=be[2],Ce[2]=be[0]),be[1]>be[3]&&(Ce[1]=be[3],Ce[3]=be[1]),Ce}static intersect(be,Ce){const $e=Math.max(Math.min(be[0],be[2]),Math.min(Ce[0],Ce[2])),Pe=Math.min(Math.max(be[0],be[2]),Math.max(Ce[0],Ce[2]));if($e>Pe)return null;const ze=Math.max(Math.min(be[1],be[3]),Math.min(Ce[1],Ce[3])),We=Math.min(Math.max(be[1],be[3]),Math.max(Ce[1],Ce[3]));return ze>We?null:[$e,ze,Pe,We]}static bezierBoundingBox(be,Ce,$e,Pe,ze,We,ut,Le){const rt=[],Qe=[[],[]];let Fe,me,Te,Ie,De,Be,Ue,Ze;for(let it=0;it<2;++it){if(it===0?(me=6*be-12*$e+6*ze,Fe=-3*be+9*$e-9*ze+3*ut,Te=3*$e-3*be):(me=6*Ce-12*Pe+6*We,Fe=-3*Ce+9*Pe-9*We+3*Le,Te=3*Pe-3*Ce),Math.abs(Fe)<1e-12){if(Math.abs(me)<1e-12)continue;Ie=-Te/me,0<Ie&&Ie<1&&rt.push(Ie);continue}Ue=me*me-4*Te*Fe,Ze=Math.sqrt(Ue),!(Ue<0)&&(De=(-me+Ze)/(2*Fe),0<De&&De<1&&rt.push(De),Be=(-me-Ze)/(2*Fe),0<Be&&Be<1&&rt.push(Be))}let Ke=rt.length,qe;const tt=Ke;for(;Ke--;)Ie=rt[Ke],qe=1-Ie,Qe[0][Ke]=qe*qe*qe*be+3*qe*qe*Ie*$e+3*qe*Ie*Ie*ze+Ie*Ie*Ie*ut,Qe[1][Ke]=qe*qe*qe*Ce+3*qe*qe*Ie*Pe+3*qe*Ie*Ie*We+Ie*Ie*Ie*Le;return Qe[0][tt]=be,Qe[1][tt]=Ce,Qe[0][tt+1]=ut,Qe[1][tt+1]=Le,Qe[0].length=Qe[1].length=tt+2,[Math.min(...Qe[0]),Math.min(...Qe[1]),Math.max(...Qe[0]),Math.max(...Qe[1])]}}m.Util=Z;const he=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function le(Re){if(Re[0]>="ï"){let Ce;if(Re[0]==="þ"&&Re[1]==="ÿ"?Ce="utf-16be":Re[0]==="ÿ"&&Re[1]==="þ"?Ce="utf-16le":Re[0]==="ï"&&Re[1]==="»"&&Re[2]==="¿"&&(Ce="utf-8"),Ce)try{const $e=new TextDecoder(Ce,{fatal:!0}),Pe=se(Re);return $e.decode(Pe)}catch($e){w(`stringToPDFString: "${$e}".`)}}const be=[];for(let Ce=0,$e=Re.length;Ce<$e;Ce++){const Pe=he[Re.charCodeAt(Ce)];be.push(Pe?String.fromCharCode(Pe):Re.charAt(Ce))}return be.join("")}function te(Re){return decodeURIComponent(escape(Re))}function ue(Re){return unescape(encodeURIComponent(Re))}function ge(Re){return typeof Re=="object"&&(Re==null?void 0:Re.byteLength)!==void 0}function ye(Re,be){if(Re.length!==be.length)return!1;for(let Ce=0,$e=Re.length;Ce<$e;Ce++)if(Re[Ce]!==be[Ce])return!1;return!0}function Ee(Re=new Date){return[Re.getUTCFullYear().toString(),(Re.getUTCMonth()+1).toString().padStart(2,"0"),Re.getUTCDate().toString().padStart(2,"0"),Re.getUTCHours().toString().padStart(2,"0"),Re.getUTCMinutes().toString().padStart(2,"0"),Re.getUTCSeconds().toString().padStart(2,"0")].join("")}class Oe{constructor(){Me(this,je,!1);this.promise=new Promise((be,Ce)=>{this.resolve=$e=>{Xe(this,je,!0),be($e)},this.reject=$e=>{Xe(this,je,!0),Ce($e)}})}get settled(){return pe(this,je)}}je=new WeakMap,m.PromiseCapability=Oe;let ve=null,Se=null;function Ae(Re){return ve||(ve=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Se=new Map([["ﬅ","ſt"]])),Re.replaceAll(ve,(be,Ce,$e)=>Ce?Ce.normalize("NFKC"):Se.get($e))}function ke(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Re=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Re);else for(let be=0;be<32;be++)Re[be]=Math.floor(Math.random()*255);return ee(Re)}const _e="pdfjs_internal_id_";m.AnnotationPrefix=_e},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.XRefParseException=m.XRefEntryException=m.ParserEOFException=m.PDF_VERSION_REGEXP=m.MissingDataException=void 0,m.arrayBuffersToBytes=I,m.collectActions=l,m.encodeToXmlString=X,m.escapePDFName=V,m.escapeString=k,m.getInheritableProperty=d,m.getLookupTableFactory=t,m.getNewAnnotationsMap=D,m.getRotationMatrix=o,m.isAscii=w,m.isWhiteSpace=L,m.log2=F,m.numberToString=G,m.parseXFAPath=B,m.readInt8=C,m.readUint16=T,m.readUint32=b,m.recoverJsURL=P,m.stringToUTF16HexString=A,m.stringToUTF16String=v,m.toRomanNumerals=i,m.validateCSSFont=g,m.validateFontName=a;var n=Q(2),S=Q(4),N=Q(5);const e=/^[1-9]\.\d$/;m.PDF_VERSION_REGEXP=e;function t(y){let c;return function(){return y&&(c=Object.create(null),y(c),y=null),c}}class r extends n.BaseException{constructor(c,h){super(`Missing data [${c}, ${h})`,"MissingDataException"),this.begin=c,this.end=h}}m.MissingDataException=r;class z extends n.BaseException{constructor(c){super(c,"ParserEOFException")}}m.ParserEOFException=z;class j extends n.BaseException{constructor(c){super(c,"XRefEntryException")}}m.XRefEntryException=j;class M extends n.BaseException{constructor(c){super(c,"XRefParseException")}}m.XRefParseException=M;function I(y){const c=y.length;if(c===0)return new Uint8Array(0);if(c===1)return new Uint8Array(y[0]);let h=0;for(let R=0;R<c;R++)h+=y[R].byteLength;const O=new Uint8Array(h);let W=0;for(let R=0;R<c;R++){const H=new Uint8Array(y[R]);O.set(H,W),W+=H.byteLength}return O}function d({dict:y,key:c,getArray:h=!1,stopWhenFound:O=!0}){let W;const R=new S.RefSet;for(;y instanceof S.Dict&&!(y.objId&&R.has(y.objId));){y.objId&&R.put(y.objId);const H=h?y.getArray(c):y.get(c);if(H!==void 0){if(O)return H;(W||(W=[])).push(H)}y=y.get("Parent")}return W}const u=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function i(y,c=!1){(0,n.assert)(Number.isInteger(y)&&y>0,"The number should be a positive integer.");const h=[];let O;for(;y>=1e3;)y-=1e3,h.push("M");O=y/100|0,y%=100,h.push(u[O]),O=y/10|0,y%=10,h.push(u[10+O]),h.push(u[20+y]);const W=h.join("");return c?W.toLowerCase():W}function F(y){return y<=0?0:Math.ceil(Math.log2(y))}function C(y,c){return y[c]<<24>>24}function T(y,c){return y[c]<<8|y[c+1]}function b(y,c){return(y[c]<<24|y[c+1]<<16|y[c+2]<<8|y[c+3])>>>0}function L(y){return y===32||y===9||y===13||y===10}function B(y){const c=/(.+)\[(\d+)\]$/;return y.split(".").map(h=>{const O=h.match(c);return O?{name:O[1],pos:parseInt(O[2],10)}:{name:h,pos:0}})}function V(y){const c=[];let h=0;for(let O=0,W=y.length;O<W;O++){const R=y.charCodeAt(O);(R<33||R>126||R===35||R===40||R===41||R===60||R===62||R===91||R===93||R===123||R===125||R===47||R===37)&&(h<O&&c.push(y.substring(h,O)),c.push(`#${R.toString(16)}`),h=O+1)}return c.length===0?y:(h<y.length&&c.push(y.substring(h,y.length)),c.join(""))}function k(y){return y.replaceAll(/([()\\\n\r])/g,c=>c===`
`?"\\n":c==="\r"?"\\r":`\\${c}`)}function _(y,c,h,O){if(!y)return;let W=null;if(y instanceof S.Ref){if(O.has(y))return;W=y,O.put(W),y=c.fetch(y)}if(Array.isArray(y))for(const R of y)_(R,c,h,O);else if(y instanceof S.Dict){if((0,S.isName)(y.get("S"),"JavaScript")){const R=y.get("JS");let H;R instanceof N.BaseStream?H=R.getString():typeof R=="string"&&(H=R),H&&(H=(0,n.stringToPDFString)(H).replaceAll("\0","")),H&&h.push(H)}_(y.getRaw("Next"),c,h,O)}W&&O.remove(W)}function l(y,c,h){const O=Object.create(null),W=d({dict:c,key:"AA",stopWhenFound:!1});if(W)for(let R=W.length-1;R>=0;R--){const H=W[R];if(H instanceof S.Dict)for(const ae of H.getKeys()){const q=h[ae];if(!q)continue;const ce=H.getRaw(ae),ee=new S.RefSet,se=[];_(ce,y,se,ee),se.length>0&&(O[q]=se)}}if(c.has("A")){const R=c.get("A"),H=new S.RefSet,ae=[];_(R,y,ae,H),ae.length>0&&(O.Action=ae)}return(0,n.objectSize)(O)>0?O:null}const x={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function X(y){const c=[];let h=0;for(let O=0,W=y.length;O<W;O++){const R=y.codePointAt(O);if(32<=R&&R<=126){const H=x[R];H&&(h<O&&c.push(y.substring(h,O)),c.push(H),h=O+1)}else h<O&&c.push(y.substring(h,O)),c.push(`&#x${R.toString(16).toUpperCase()};`),R>55295&&(R<57344||R>65533)&&O++,h=O+1}return c.length===0?y:(h<y.length&&c.push(y.substring(h,y.length)),c.join(""))}function a(y,c=!1){const h=/^("|').*("|')$/.exec(y);if(h&&h[1]===h[2]){if(new RegExp(`[^\\\\]${h[1]}`).test(y.slice(1,-1)))return c&&(0,n.warn)(`FontFamily contains unescaped ${h[1]}: ${y}.`),!1}else for(const O of y.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(O)||!/^[\w-\\]+$/.test(O))return c&&(0,n.warn)(`FontFamily contains invalid <custom-ident>: ${y}.`),!1;return!0}function g(y){const c="14",h="400",O=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:W,fontWeight:R,italicAngle:H}=y;if(!a(W,!0))return!1;const ae=R?R.toString():"";y.fontWeight=O.has(ae)?ae:h;const q=parseFloat(H);return y.italicAngle=isNaN(q)||q<-90||q>90?c:H.toString(),!0}function P(y){const c=["app.launchURL","window.open","xfa.host.gotoURL"],O=new RegExp("^\\s*("+c.join("|").replaceAll(".","\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(y);if(O!=null&&O[2]){const W=O[2];let R=!1;return O[3]==="true"&&O[1]==="app.launchURL"&&(R=!0),{url:W,newWindow:R}}return null}function G(y){if(Number.isInteger(y))return y.toString();const c=Math.round(y*100);return c%100===0?(c/100).toString():c%10===0?y.toFixed(1):y.toFixed(2)}function D(y){if(!y)return null;const c=new Map;for(const[h,O]of y){if(!h.startsWith(n.AnnotationEditorPrefix))continue;let W=c.get(O.pageIndex);W||(W=[],c.set(O.pageIndex,W)),W.push(O)}return c.size>0?c:null}function w(y){return/^[\x00-\x7F]*$/.test(y)}function A(y){const c=[];for(let h=0,O=y.length;h<O;h++){const W=y.charCodeAt(h);c.push((W>>8&255).toString(16).padStart(2,"0"),(W&255).toString(16).padStart(2,"0"))}return c.join("")}function v(y,c=!1){const h=[];c&&h.push("þÿ");for(let O=0,W=y.length;O<W;O++){const R=y.charCodeAt(O);h.push(String.fromCharCode(R>>8&255),String.fromCharCode(R&255))}return h.join("")}function o(y,c,h){switch(y){case 90:return[0,1,-1,0,c,0];case 180:return[-1,0,0,-1,c,h];case 270:return[0,-1,1,0,0,h];default:throw new Error("Invalid rotation")}}},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.RefSetCache=m.RefSet=m.Ref=m.Name=m.EOF=m.Dict=m.Cmd=m.CIRCULAR_REF=void 0,m.clearPrimitiveCaches=z,m.isCmd=T,m.isDict=b,m.isName=C,m.isRefsEqual=L;var n=Q(2);const S=Symbol("CIRCULAR_REF");m.CIRCULAR_REF=S;const N=Symbol("EOF");m.EOF=N;let e=Object.create(null),t=Object.create(null),r=Object.create(null);function z(){e=Object.create(null),t=Object.create(null),r=Object.create(null)}class j{constructor(V){this.name=V}static get(V){return t[V]||(t[V]=new j(V))}}m.Name=j;class M{constructor(V){this.cmd=V}static get(V){return e[V]||(e[V]=new M(V))}}m.Cmd=M;const I=function(){return I};class d{constructor(V=null){this._map=Object.create(null),this.xref=V,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=I}assignXref(V){this.xref=V}get size(){return Object.keys(this._map).length}get(V,k,_){let l=this._map[V];return l===void 0&&k!==void 0&&(l=this._map[k],l===void 0&&_!==void 0&&(l=this._map[_])),l instanceof u&&this.xref?this.xref.fetch(l,this.suppressEncryption):l}async getAsync(V,k,_){let l=this._map[V];return l===void 0&&k!==void 0&&(l=this._map[k],l===void 0&&_!==void 0&&(l=this._map[_])),l instanceof u&&this.xref?this.xref.fetchAsync(l,this.suppressEncryption):l}getArray(V,k,_){let l=this._map[V];if(l===void 0&&k!==void 0&&(l=this._map[k],l===void 0&&_!==void 0&&(l=this._map[_])),l instanceof u&&this.xref&&(l=this.xref.fetch(l,this.suppressEncryption)),Array.isArray(l)){l=l.slice();for(let x=0,X=l.length;x<X;x++)l[x]instanceof u&&this.xref&&(l[x]=this.xref.fetch(l[x],this.suppressEncryption))}return l}getRaw(V){return this._map[V]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(V,k){this._map[V]=k}has(V){return this._map[V]!==void 0}forEach(V){for(const k in this._map)V(k,this.get(k))}static get empty(){const V=new d(null);return V.set=(k,_)=>{(0,n.unreachable)("Should not call `set` on the empty dictionary.")},(0,n.shadow)(this,"empty",V)}static merge({xref:V,dictArray:k,mergeSubDicts:_=!1}){const l=new d(V),x=new Map;for(const X of k)if(X instanceof d)for(const[a,g]of Object.entries(X._map)){let P=x.get(a);if(P===void 0)P=[],x.set(a,P);else if(!_||!(g instanceof d))continue;P.push(g)}for(const[X,a]of x){if(a.length===1||!(a[0]instanceof d)){l._map[X]=a[0];continue}const g=new d(V);for(const P of a)for(const[G,D]of Object.entries(P._map))g._map[G]===void 0&&(g._map[G]=D);g.size>0&&(l._map[X]=g)}return x.clear(),l.size>0?l:d.empty}clone(){const V=new d(this.xref);for(const k of this.getKeys())V.set(k,this.getRaw(k));return V}}m.Dict=d;class u{constructor(V,k){this.num=V,this.gen=k}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static fromString(V){const k=r[V];if(k)return k;const _=/^(\d+)R(\d*)$/.exec(V);return!_||_[1]==="0"?null:r[V]=new u(parseInt(_[1]),_[2]?parseInt(_[2]):0)}static get(V,k){const _=k===0?`${V}R`:`${V}R${k}`;return r[_]||(r[_]=new u(V,k))}}m.Ref=u;class i{constructor(V=null){this._set=new Set(V==null?void 0:V._set)}has(V){return this._set.has(V.toString())}put(V){this._set.add(V.toString())}remove(V){this._set.delete(V.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}m.RefSet=i;class F{constructor(){this._map=new Map}get size(){return this._map.size}get(V){return this._map.get(V.toString())}has(V){return this._map.has(V.toString())}put(V,k){this._map.set(V.toString(),k)}putAlias(V,k){this._map.set(V.toString(),this.get(k))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}m.RefSetCache=F;function C(B,V){return B instanceof j&&(V===void 0||B.name===V)}function T(B,V){return B instanceof M&&(V===void 0||B.cmd===V)}function b(B,V){return B instanceof d&&(V===void 0||C(B.get("Type"),V))}function L(B,V){return B.num===V.num&&B.gen===V.gen}},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.BaseStream=void 0;var n=Q(2);class S{constructor(){this.constructor===S&&(0,n.unreachable)("Cannot initialize BaseStream.")}get length(){(0,n.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,n.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,n.shadow)(this,"isDataLoaded",!0)}getByte(){(0,n.unreachable)("Abstract method `getByte` called")}getBytes(e){(0,n.unreachable)("Abstract method `getBytes` called")}peekByte(){const e=this.getByte();return e!==-1&&this.pos--,e}peekBytes(e){const t=this.getBytes(e);return this.pos-=t.length,t}getUint16(){const e=this.getByte(),t=this.getByte();return e===-1||t===-1?-1:(e<<8)+t}getInt32(){const e=this.getByte(),t=this.getByte(),r=this.getByte(),z=this.getByte();return(e<<24)+(t<<16)+(r<<8)+z}getByteRange(e,t){(0,n.unreachable)("Abstract method `getByteRange` called")}getString(e){return(0,n.bytesToString)(this.getBytes(e))}skip(e){this.pos+=e||1}reset(){(0,n.unreachable)("Abstract method `reset` called")}moveStart(){(0,n.unreachable)("Abstract method `moveStart` called")}makeSubStream(e,t,r=null){(0,n.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}m.BaseStream=S},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.NetworkPdfManager=m.LocalPdfManager=void 0;var n=Q(2),S=Q(7),N=Q(3),e=Q(9),t=Q(8);function r(I){if(I){const d=(0,n.createValidAbsoluteUrl)(I);if(d)return d.href;(0,n.warn)(`Invalid absolute docBaseUrl: "${I}".`)}return null}class z{constructor(d){var u;this.constructor===z&&(0,n.unreachable)("Cannot initialize BasePdfManager."),this._docBaseUrl=r(d.docBaseUrl),this._docId=d.docId,this._password=d.password,this.enableXfa=d.enableXfa,(u=d.evaluatorOptions).isOffscreenCanvasSupported&&(u.isOffscreenCanvasSupported=n.FeatureTest.isOffscreenCanvasSupported),this.evaluatorOptions=d.evaluatorOptions}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){return this._docBaseUrl}get catalog(){return this.pdfDocument.catalog}ensureDoc(d,u){return this.ensure(this.pdfDocument,d,u)}ensureXRef(d,u){return this.ensure(this.pdfDocument.xref,d,u)}ensureCatalog(d,u){return this.ensure(this.pdfDocument.catalog,d,u)}getPage(d){return this.pdfDocument.getPage(d)}fontFallback(d,u){return this.pdfDocument.fontFallback(d,u)}loadXfaFonts(d,u){return this.pdfDocument.loadXfaFonts(d,u)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(d){return this.pdfDocument.serializeXfaData(d)}cleanup(d=!1){return this.pdfDocument.cleanup(d)}async ensure(d,u,i){(0,n.unreachable)("Abstract method `ensure` called")}requestRange(d,u){(0,n.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(d=!1){(0,n.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(d){(0,n.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(d){this._password=d}terminate(d){(0,n.unreachable)("Abstract method `terminate` called")}}class j extends z{constructor(d){super(d);const u=new t.Stream(d.source);this.pdfDocument=new e.PDFDocument(this,u),this._loadedStreamPromise=Promise.resolve(u)}async ensure(d,u,i){const F=d[u];return typeof F=="function"?F.apply(d,i):F}requestRange(d,u){return Promise.resolve()}requestLoadedStream(d=!1){return this._loadedStreamPromise}terminate(d){}}m.LocalPdfManager=j;class M extends z{constructor(d){super(d),this.streamManager=new S.ChunkedStreamManager(d.source,{msgHandler:d.handler,length:d.length,disableAutoFetch:d.disableAutoFetch,rangeChunkSize:d.rangeChunkSize}),this.pdfDocument=new e.PDFDocument(this,this.streamManager.getStream())}async ensure(d,u,i){try{const F=d[u];return typeof F=="function"?F.apply(d,i):F}catch(F){if(!(F instanceof N.MissingDataException))throw F;return await this.requestRange(F.begin,F.end),this.ensure(d,u,i)}}requestRange(d,u){return this.streamManager.requestRange(d,u)}requestLoadedStream(d=!1){return this.streamManager.requestAllChunks(d)}sendProgressiveData(d){this.streamManager.onReceiveData({chunk:d})}terminate(d){this.streamManager.abort(d)}}m.NetworkPdfManager=M},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.ChunkedStreamManager=m.ChunkedStream=void 0;var n=Q(3),S=Q(2),N=Q(8);class e extends N.Stream{constructor(z,j,M){super(new Uint8Array(z),0,z,null),this.chunkSize=j,this._loadedChunks=new Set,this.numChunks=Math.ceil(z/j),this.manager=M,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const z=[];for(let j=0,M=this.numChunks;j<M;++j)this._loadedChunks.has(j)||z.push(j);return z}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(z,j){const M=this.chunkSize;if(z%M!==0)throw new Error(`Bad begin offset: ${z}`);const I=z+j.byteLength;if(I%M!==0&&I!==this.bytes.length)throw new Error(`Bad end offset: ${I}`);this.bytes.set(new Uint8Array(j),z);const d=Math.floor(z/M),u=Math.floor((I-1)/M)+1;for(let i=d;i<u;++i)this._loadedChunks.add(i)}onReceiveProgressiveData(z){let j=this.progressiveDataLength;const M=Math.floor(j/this.chunkSize);this.bytes.set(new Uint8Array(z),j),j+=z.byteLength,this.progressiveDataLength=j;const I=j>=this.end?this.numChunks:Math.floor(j/this.chunkSize);for(let d=M;d<I;++d)this._loadedChunks.add(d)}ensureByte(z){if(z<this.progressiveDataLength)return;const j=Math.floor(z/this.chunkSize);if(!(j>this.numChunks)&&j!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(j))throw new n.MissingDataException(z,z+1);this.lastSuccessfulEnsureByteChunk=j}}ensureRange(z,j){if(z>=j||j<=this.progressiveDataLength)return;const M=Math.floor(z/this.chunkSize);if(M>this.numChunks)return;const I=Math.min(Math.floor((j-1)/this.chunkSize)+1,this.numChunks);for(let d=M;d<I;++d)if(!this._loadedChunks.has(d))throw new n.MissingDataException(z,j)}nextEmptyChunk(z){const j=this.numChunks;for(let M=0;M<j;++M){const I=(z+M)%j;if(!this._loadedChunks.has(I))return I}return null}hasChunk(z){return this._loadedChunks.has(z)}getByte(){const z=this.pos;return z>=this.end?-1:(z>=this.progressiveDataLength&&this.ensureByte(z),this.bytes[this.pos++])}getBytes(z){const j=this.bytes,M=this.pos,I=this.end;if(!z)return I>this.progressiveDataLength&&this.ensureRange(M,I),j.subarray(M,I);let d=M+z;return d>I&&(d=I),d>this.progressiveDataLength&&this.ensureRange(M,d),this.pos=d,j.subarray(M,d)}getByteRange(z,j){return z<0&&(z=0),j>this.end&&(j=this.end),j>this.progressiveDataLength&&this.ensureRange(z,j),this.bytes.subarray(z,j)}makeSubStream(z,j,M=null){j?z+j>this.progressiveDataLength&&this.ensureRange(z,z+j):z>=this.progressiveDataLength&&this.ensureByte(z);function I(){}I.prototype=Object.create(this),I.prototype.getMissingChunks=function(){const u=this.chunkSize,i=Math.floor(this.start/u),F=Math.floor((this.end-1)/u)+1,C=[];for(let T=i;T<F;++T)this._loadedChunks.has(T)||C.push(T);return C},Object.defineProperty(I.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const d=new I;return d.pos=d.start=z,d.end=z+j||this.end,d.dict=M,d}getBaseStreams(){return[this]}}m.ChunkedStream=e;class t{constructor(z,j){this.length=j.length,this.chunkSize=j.rangeChunkSize,this.stream=new e(this.length,this.chunkSize,this),this.pdfNetworkStream=z,this.disableAutoFetch=j.disableAutoFetch,this.msgHandler=j.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=new S.PromiseCapability}sendRequest(z,j){const M=this.pdfNetworkStream.getRangeReader(z,j);M.isStreamingSupported||(M.onProgress=this.onProgress.bind(this));let I=[],d=0;return new Promise((u,i)=>{const F=({value:C,done:T})=>{try{if(T){const b=(0,n.arrayBuffersToBytes)(I);I=null,u(b);return}d+=C.byteLength,M.isStreamingSupported&&this.onProgress({loaded:d}),I.push(C),M.read().then(F,i)}catch(b){i(b)}};M.read().then(F,i)}).then(u=>{this.aborted||this.onReceiveData({chunk:u,begin:z})})}requestAllChunks(z=!1){if(!z){const j=this.stream.getMissingChunks();this._requestChunks(j)}return this._loadedStreamCapability.promise}_requestChunks(z){const j=this.currRequestId++,M=new Set;this._chunksNeededByRequest.set(j,M);for(const u of z)this.stream.hasChunk(u)||M.add(u);if(M.size===0)return Promise.resolve();const I=new S.PromiseCapability;this._promisesByRequest.set(j,I);const d=[];for(const u of M){let i=this._requestsByChunk.get(u);i||(i=[],this._requestsByChunk.set(u,i),d.push(u)),i.push(j)}if(d.length>0){const u=this.groupChunks(d);for(const i of u){const F=i.beginChunk*this.chunkSize,C=Math.min(i.endChunk*this.chunkSize,this.length);this.sendRequest(F,C).catch(I.reject)}}return I.promise.catch(u=>{if(!this.aborted)throw u})}getStream(){return this.stream}requestRange(z,j){j=Math.min(j,this.length);const M=this.getBeginChunk(z),I=this.getEndChunk(j),d=[];for(let u=M;u<I;++u)d.push(u);return this._requestChunks(d)}requestRanges(z=[]){const j=[];for(const M of z){const I=this.getBeginChunk(M.begin),d=this.getEndChunk(M.end);for(let u=I;u<d;++u)j.includes(u)||j.push(u)}return j.sort(function(M,I){return M-I}),this._requestChunks(j)}groupChunks(z){const j=[];let M=-1,I=-1;for(let d=0,u=z.length;d<u;++d){const i=z[d];M<0&&(M=i),I>=0&&I+1!==i&&(j.push({beginChunk:M,endChunk:I+1}),M=i),d+1===z.length&&j.push({beginChunk:M,endChunk:i+1}),I=i}return j}onProgress(z){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+z.loaded,total:this.length})}onReceiveData(z){const j=z.chunk,M=z.begin===void 0,I=M?this.progressiveDataLength:z.begin,d=I+j.byteLength,u=Math.floor(I/this.chunkSize),i=d<this.length?Math.floor(d/this.chunkSize):Math.ceil(d/this.chunkSize);M?(this.stream.onReceiveProgressiveData(j),this.progressiveDataLength=d):this.stream.onReceiveData(I,j),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const F=[];for(let C=u;C<i;++C){const T=this._requestsByChunk.get(C);if(T){this._requestsByChunk.delete(C);for(const b of T){const L=this._chunksNeededByRequest.get(b);L.has(C)&&L.delete(C),!(L.size>0)&&F.push(b)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let C;if(this.stream.numChunksLoaded===1){const T=this.stream.numChunks-1;this.stream.hasChunk(T)||(C=T)}else C=this.stream.nextEmptyChunk(i);Number.isInteger(C)&&this._requestChunks([C])}for(const C of F){const T=this._promisesByRequest.get(C);this._promisesByRequest.delete(C),T.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(z){this._loadedStreamCapability.reject(z)}getBeginChunk(z){return Math.floor(z/this.chunkSize)}getEndChunk(z){return Math.floor((z-1)/this.chunkSize)+1}abort(z){var j;this.aborted=!0,(j=this.pdfNetworkStream)==null||j.cancelAllRequests(z);for(const M of this._promisesByRequest.values())M.reject(z)}}m.ChunkedStreamManager=t},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.StringStream=m.Stream=m.NullStream=void 0;var n=Q(5),S=Q(2);class N extends n.BaseStream{constructor(z,j,M,I){super(),this.bytes=z instanceof Uint8Array?z:new Uint8Array(z),this.start=j||0,this.pos=this.start,this.end=j+M||this.bytes.length,this.dict=I}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(z){const j=this.bytes,M=this.pos,I=this.end;if(!z)return j.subarray(M,I);let d=M+z;return d>I&&(d=I),this.pos=d,j.subarray(M,d)}getByteRange(z,j){return z<0&&(z=0),j>this.end&&(j=this.end),this.bytes.subarray(z,j)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(z,j,M=null){return new N(this.bytes.buffer,z,j,M)}}m.Stream=N;class e extends N{constructor(z){super((0,S.stringToBytes)(z))}}m.StringStream=e;class t extends N{constructor(){super(new Uint8Array(0))}}m.NullStream=t},(xe,m,Q)=>{var w,qi,v,Ki;Object.defineProperty(m,"__esModule",{value:!0}),m.Page=m.PDFDocument=void 0;var n=Q(2),S=Q(10),N=Q(3),e=Q(4),t=Q(51),r=Q(5),z=Q(74),j=Q(66),M=Q(68),I=Q(102),d=Q(16),u=Q(8),i=Q(76),F=Q(64),C=Q(13),T=Q(18),b=Q(72),L=Q(73),B=Q(77),V=Q(103);const k=1,_=[0,0,612,792];class l{constructor({pdfManager:c,xref:h,pageIndex:O,pageDict:W,ref:R,globalIdFactory:H,fontCache:ae,builtInCMapCache:q,standardFontDataCache:ce,globalImageCache:ee,systemFontCache:se,nonBlendModesSet:$,xfaFactory:U}){Me(this,w);this.pdfManager=c,this.pageIndex=O,this.pageDict=W,this.xref=h,this.ref=R,this.fontCache=ae,this.builtInCMapCache=q,this.standardFontDataCache=ce,this.globalImageCache=ee,this.systemFontCache=se,this.nonBlendModesSet=$,this.evaluatorOptions=c.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=U;const K={obj:0};this._localIdFactory=class extends H{static createObjId(){return`p${O}_${++K.obj}`}static getPageObjId(){return`p${R.toString()}`}}}_getInheritableProperty(c,h=!1){const O=(0,N.getInheritableProperty)({dict:this.pageDict,key:c,getArray:h,stopWhenFound:!1});return Array.isArray(O)?O.length===1||!(O[0]instanceof e.Dict)?O[0]:e.Dict.merge({xref:this.xref,dictArray:O}):O}get content(){return this.pageDict.getArray("Contents")}get resources(){const c=this._getInheritableProperty("Resources");return(0,n.shadow)(this,"resources",c instanceof e.Dict?c:e.Dict.empty)}_getBoundingBox(c){if(this.xfaData)return this.xfaData.bbox;let h=this._getInheritableProperty(c,!0);if(Array.isArray(h)&&h.length===4){if(h=n.Util.normalizeRect(h),h[2]-h[0]>0&&h[3]-h[1]>0)return h;(0,n.warn)(`Empty, or invalid, /${c} entry.`)}return null}get mediaBox(){return(0,n.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||_)}get cropBox(){return(0,n.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let c=this.pageDict.get("UserUnit");return(typeof c!="number"||c<=0)&&(c=k),(0,n.shadow)(this,"userUnit",c)}get view(){const{cropBox:c,mediaBox:h}=this;if(c!==h&&!(0,n.isArrayEqual)(c,h)){const O=n.Util.intersect(c,h);if(O&&O[2]-O[0]>0&&O[3]-O[1]>0)return(0,n.shadow)(this,"view",O);(0,n.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,n.shadow)(this,"view",h)}get rotate(){let c=this._getInheritableProperty("Rotate")||0;return c%90!==0?c=0:c>=360?c%=360:c<0&&(c=(c%360+360)%360),(0,n.shadow)(this,"rotate",c)}_onSubStreamError(c,h){if(this.evaluatorOptions.ignoreErrors){(0,n.warn)(`getContentStream - ignoring sub-stream (${h}): "${c}".`);return}throw c}getContentStream(){return this.pdfManager.ensure(this,"content").then(c=>c instanceof r.BaseStream?c:Array.isArray(c)?new T.StreamsSequenceStream(c,this._onSubStreamError.bind(this)):new u.NullStream)}get xfaData(){return(0,n.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}async saveNewAnnotations(c,h,O,W){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const R=new C.PartialEvaluator({xref:this.xref,handler:c,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),H=new e.RefSet,ae=new e.RefSet;Ne(this,w,qi).call(this,O,H,ae);const q=this.pageDict,ce=this.annotations.filter(K=>!(K instanceof e.Ref&&H.has(K))),ee=await S.AnnotationFactory.saveNewAnnotations(R,h,O,W);for(const{ref:K}of ee.annotations)K instanceof e.Ref&&!ae.has(K)&&ce.push(K);const se=q.get("Annots");q.set("Annots",ce);const $=[];await(0,L.writeObject)(this.ref,q,$,this.xref),se&&q.set("Annots",se);const U=ee.dependencies;return U.push({ref:this.ref,data:$.join("")},...ee.annotations),U}save(c,h,O){const W=new C.PartialEvaluator({xref:this.xref,handler:c,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(R){const H=[];for(const ae of R)ae.mustBePrinted(O)&&H.push(ae.save(W,h,O).catch(function(q){return(0,n.warn)(`save - ignoring annotation data during "${h.name}" task: "${q}".`),null}));return Promise.all(H).then(function(ae){return ae.filter(q=>!!q)})})}loadResources(c){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new i.ObjectLoader(this.resources,c,this.xref).load())}getOperatorList({handler:c,sink:h,task:O,intent:W,cacheKey:R,annotationStorage:H=null}){const ae=this.getContentStream(),q=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),ce=new C.PartialEvaluator({xref:this.xref,handler:c,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),ee=this.xfaFactory?null:(0,N.getNewAnnotationsMap)(H);let se=null,$=Promise.resolve(null);if(ee){const J=ee.get(this.pageIndex);if(J){const Y=this.pdfManager.ensureDoc("annotationGlobals");let ie;const re=new Set;for(const{bitmapId:he,bitmap:le}of J)he&&!le&&!re.has(he)&&re.add(he);const{isOffscreenCanvasSupported:Z}=this.evaluatorOptions;if(re.size>0){const he=J.slice();for(const[le,te]of H)le.startsWith(n.AnnotationEditorPrefix)&&te.bitmap&&re.has(te.bitmapId)&&he.push(te);ie=S.AnnotationFactory.generateImages(he,this.xref,Z)}else ie=S.AnnotationFactory.generateImages(J,this.xref,Z);se=new e.RefSet,Ne(this,w,qi).call(this,J,se,null),$=Y.then(he=>he?S.AnnotationFactory.printNewAnnotations(he,ce,O,J,ie):null)}}const K=Promise.all([ae,q]).then(([J])=>{const Y=new F.OperatorList(W,h);return c.send("StartRenderPage",{transparency:ce.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:R}),ce.getOperatorList({stream:J,task:O,resources:this.resources,operatorList:Y}).then(function(){return Y})});return Promise.all([K,this._parsedAnnotations,$]).then(function([J,Y,ie]){if(ie){Y=Y.filter(ue=>!(ue.ref&&se.has(ue.ref)));for(let ue=0,ge=ie.length;ue<ge;ue++){const ye=ie[ue];if(ye.refToReplace){const Ee=Y.findIndex(Oe=>Oe.ref&&(0,e.isRefsEqual)(Oe.ref,ye.refToReplace));Ee>=0&&(Y.splice(Ee,1,ye),ie.splice(ue--,1),ge--)}}Y=Y.concat(ie)}if(Y.length===0||W&n.RenderingIntentFlag.ANNOTATIONS_DISABLE)return J.flush(!0),{length:J.totalLength};const re=!!(W&n.RenderingIntentFlag.ANNOTATIONS_FORMS),Z=!!(W&n.RenderingIntentFlag.ANY),he=!!(W&n.RenderingIntentFlag.DISPLAY),le=!!(W&n.RenderingIntentFlag.PRINT),te=[];for(const ue of Y)(Z||he&&ue.mustBeViewed(H,re)||le&&ue.mustBePrinted(H))&&te.push(ue.getOperatorList(ce,O,W,re,H).catch(function(ge){return(0,n.warn)(`getOperatorList - ignoring annotation data during "${O.name}" task: "${ge}".`),{opList:null,separateForm:!1,separateCanvas:!1}}));return Promise.all(te).then(function(ue){let ge=!1,ye=!1;for(const{opList:Ee,separateForm:Oe,separateCanvas:ve}of ue)J.addOpList(Ee),ge||(ge=Oe),ye||(ye=ve);return J.flush(!0,{form:ge,canvas:ye}),{length:J.totalLength}})})}extractTextContent({handler:c,task:h,includeMarkedContent:O,disableNormalization:W,sink:R}){const H=this.getContentStream(),ae=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([H,ae]).then(([ce])=>new C.PartialEvaluator({xref:this.xref,handler:c,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}).getTextContent({stream:ce,task:h,resources:this.resources,includeMarkedContent:O,disableNormalization:W,sink:R,viewBox:this.view}))}async getStructTree(){const c=await this.pdfManager.ensureCatalog("structTreeRoot");return c?(await this._parsedAnnotations,(await this.pdfManager.ensure(this,"_parseStructTree",[c])).serializable):null}_parseStructTree(c){const h=new b.StructTreePage(c,this.pageDict);return h.parse(this.ref),h}async getAnnotationsData(c,h,O){const W=await this._parsedAnnotations;if(W.length===0)return W;const R=[],H=[];let ae;const q=!!(O&n.RenderingIntentFlag.ANY),ce=!!(O&n.RenderingIntentFlag.DISPLAY),ee=!!(O&n.RenderingIntentFlag.PRINT);for(const se of W){const $=q||ce&&se.viewable;($||ee&&se.printable)&&R.push(se.data),se.hasTextContent&&$&&(ae||(ae=new C.PartialEvaluator({xref:this.xref,handler:c,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions})),H.push(se.extractTextContent(ae,h,[-1/0,-1/0,1/0,1/0]).catch(function(U){(0,n.warn)(`getAnnotationsData - ignoring textContent during "${h.name}" task: "${U}".`)})))}return await Promise.all(H),R}get annotations(){const c=this._getInheritableProperty("Annots");return(0,n.shadow)(this,"annotations",Array.isArray(c)?c:[])}get _parsedAnnotations(){const c=this.pdfManager.ensure(this,"annotations").then(async h=>{if(h.length===0)return h;const O=await this.pdfManager.ensureDoc("annotationGlobals");if(!O)return[];const W=[];for(const ae of h)W.push(S.AnnotationFactory.create(this.xref,ae,O,this._localIdFactory,!1,this.ref).catch(function(q){return(0,n.warn)(`_parsedAnnotations: "${q}".`),null}));const R=[];let H;for(const ae of await Promise.all(W))if(ae){if(ae instanceof S.PopupAnnotation){(H||(H=[])).push(ae);continue}R.push(ae)}return H&&R.push(...H),R});return(0,n.shadow)(this,"_parsedAnnotations",c)}get jsActions(){const c=(0,N.collectActions)(this.xref,this.pageDict,n.PageActionEventType);return(0,n.shadow)(this,"jsActions",c)}}w=new WeakSet,qi=function(c,h,O){for(const W of c)if(W.id){const R=e.Ref.fromString(W.id);if(!R){(0,n.warn)(`A non-linked annotation cannot be modified: ${W.id}`);continue}if(W.deleted){h.put(R);continue}O==null||O.put(R),W.ref=R,delete W.id}},m.Page=l;const x=new Uint8Array([37,80,68,70,45]),X=new Uint8Array([115,116,97,114,116,120,114,101,102]),a=new Uint8Array([101,110,100,111,98,106]),g=1024,P="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0";function G(y,c,h=1024,O=!1){const W=c.length,R=y.peekBytes(h),H=R.length-W;if(H<=0)return!1;if(O){const ae=W-1;let q=R.length-1;for(;q>=ae;){let ce=0;for(;ce<W&&R[q-ce]===c[ae-ce];)ce++;if(ce>=W)return y.pos+=q-ae,!0;q--}}else{let ae=0;for(;ae<=H;){let q=0;for(;q<W&&R[ae+q]===c[q];)q++;if(q>=W)return y.pos+=ae,!0;ae++}}return!1}class D{constructor(c,h){Me(this,v);if(h.length<=0)throw new n.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=c,this.stream=h,this.xref=new V.XRef(h,c),this._pagePromises=new Map,this._version=null;const O={font:0};this._globalIdFactory=class{static getDocId(){return`g_${c.docId}`}static createFontId(){return`f${++O.font}`}static createObjId(){(0,n.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,n.unreachable)("Abstract method `getPageObjId` called.")}}}parse(c){this.xref.parse(c),this.catalog=new j.Catalog(this.pdfManager,this.xref)}get linearization(){let c=null;try{c=d.Linearization.create(this.stream)}catch(h){if(h instanceof N.MissingDataException)throw h;(0,n.info)(h)}return(0,n.shadow)(this,"linearization",c)}get startXRef(){const c=this.stream;let h=0;if(this.linearization)c.reset(),G(c,a)&&(h=c.pos+6-c.start);else{const W=X.length;let R=!1,H=c.end;for(;!R&&H>0;)H-=1024-W,H<0&&(H=0),c.pos=H,R=G(c,X,1024,!0);if(R){c.skip(9);let ae;do ae=c.getByte();while((0,N.isWhiteSpace)(ae));let q="";for(;ae>=32&&ae<=57;)q+=String.fromCharCode(ae),ae=c.getByte();h=parseInt(q,10),isNaN(h)&&(h=0)}}return(0,n.shadow)(this,"startXRef",h)}checkHeader(){const c=this.stream;if(c.reset(),!G(c,x))return;c.moveStart(),c.skip(x.length);let h="",O;for(;(O=c.getByte())>32&&h.length<7;)h+=String.fromCharCode(O);N.PDF_VERSION_REGEXP.test(h)?this._version=h:(0,n.warn)(`Invalid PDF header version: ${h}`)}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let c=0;return this.catalog.hasActualNumPages?c=this.catalog.numPages:this.xfaFactory?c=this.xfaFactory.getNumPages():this.linearization?c=this.linearization.numPages:c=this.catalog.numPages,(0,n.shadow)(this,"numPages",c)}_hasOnlyDocumentSignatures(c,h=0){return Array.isArray(c)?c.every(W=>{if(W=this.xref.fetchIfRef(W),!(W instanceof e.Dict))return!1;if(W.has("Kids"))return++h>10?((0,n.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(W.get("Kids"),h);const R=(0,e.isName)(W.get("FT"),"Sig"),H=W.get("Rect"),ae=Array.isArray(H)&&H.every(q=>q===0);return R&&ae}):!1}get _xfaStreams(){const c=this.catalog.acroForm;if(!c)return null;const h=c.get("XFA"),O={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(h instanceof r.BaseStream&&!h.isEmpty)return O["xdp:xdp"]=h,O;if(!Array.isArray(h)||h.length===0)return null;for(let W=0,R=h.length;W<R;W+=2){let H;if(W===0?H="xdp:xdp":W===R-2?H="/xdp:xdp":H=h[W],!O.hasOwnProperty(H))continue;const ae=this.xref.fetchIfRef(h[W+1]);!(ae instanceof r.BaseStream)||ae.isEmpty||(O[H]=ae)}return O}get xfaDatasets(){const c=this._xfaStreams;if(!c)return(0,n.shadow)(this,"xfaDatasets",null);for(const h of["datasets","xdp:xdp"]){const O=c[h];if(O)try{const W=(0,n.stringToUTF8String)(O.getString()),R={[h]:W};return(0,n.shadow)(this,"xfaDatasets",new I.DatasetReader(R))}catch{(0,n.warn)("XFA - Invalid utf-8 string.");break}}return(0,n.shadow)(this,"xfaDatasets",null)}get xfaData(){const c=this._xfaStreams;if(!c)return null;const h=Object.create(null);for(const[O,W]of Object.entries(c))if(W)try{h[O]=(0,n.stringToUTF8String)(W.getString())}catch{return(0,n.warn)("XFA - Invalid utf-8 string."),null}return h}get xfaFactory(){let c;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(c=this.xfaData),(0,n.shadow)(this,"xfaFactory",c?new B.XFAFactory(c):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const c=await this.pdfManager.ensureCatalog("xfaImages");if(!c)return;const h=c.getKeys();await new i.ObjectLoader(c,h,this.xref).load();const W=new Map;for(const R of h){const H=c.get(R);H instanceof r.BaseStream&&W.set(R,H.getBytes())}this.xfaFactory.setImages(W)}async loadXfaFonts(c,h){const O=await this.pdfManager.ensureCatalog("acroForm");if(!O)return;const W=await O.getAsync("DR");if(!(W instanceof e.Dict))return;await new i.ObjectLoader(W,["Font"],this.xref).load();const H=W.get("Font");if(!(H instanceof e.Dict))return;const ae=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);ae.useSystemFonts=!1;const q=new C.PartialEvaluator({xref:this.xref,handler:c,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:ae}),ce=new F.OperatorList,ee=[],se={get font(){return ee.at(-1)},set font(Y){ee.push(Y)},clone(){return this}},$=new Map;H.forEach((Y,ie)=>{$.set(Y,ie)});const U=[];for(const[Y,ie]of $){const re=ie.get("FontDescriptor");if(!(re instanceof e.Dict))continue;let Z=re.get("FontFamily");Z=Z.replaceAll(/[ ]+(\d)/g,"$1");const he=re.get("FontWeight"),le=-re.get("ItalicAngle"),te={fontFamily:Z,fontWeight:he,italicAngle:le};(0,N.validateCSSFont)(te)&&U.push(q.handleSetFont(W,[e.Name.get(Y),1],null,ce,h,se,null,te).catch(function(ue){return(0,n.warn)(`loadXfaFonts: "${ue}".`),null}))}await Promise.all(U);const K=this.xfaFactory.setFonts(ee);if(!K)return;ae.ignoreErrors=!0,U.length=0,ee.length=0;const J=new Set;for(const Y of K)(0,t.getXfaFontName)(`${Y}-Regular`)||J.add(Y);J.size&&K.push("PdfJS-Fallback");for(const Y of K)if(!J.has(Y))for(const ie of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const re=`${Y}-${ie.name}`,Z=(0,t.getXfaFontDict)(re);U.push(q.handleSetFont(W,[e.Name.get(re),1],null,ce,h,se,Z,{fontFamily:Y,fontWeight:ie.fontWeight,italicAngle:ie.italicAngle}).catch(function(he){return(0,n.warn)(`loadXfaFonts: "${he}".`),null}))}await Promise.all(U),this.xfaFactory.appendFonts(ee,J)}async serializeXfaData(c){return this.xfaFactory?this.xfaFactory.serializeData(c):null}get version(){return this.catalog.version||this._version}get formInfo(){const c={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},h=this.catalog.acroForm;if(!h)return(0,n.shadow)(this,"formInfo",c);try{const O=h.get("Fields"),W=Array.isArray(O)&&O.length>0;c.hasFields=W;const R=h.get("XFA");c.hasXfa=Array.isArray(R)&&R.length>0||R instanceof r.BaseStream&&!R.isEmpty;const ae=!!(h.get("SigFlags")&1),q=ae&&this._hasOnlyDocumentSignatures(O);c.hasAcroForm=W&&!q,c.hasSignatures=ae}catch(O){if(O instanceof N.MissingDataException)throw O;(0,n.warn)(`Cannot fetch form information: "${O}".`)}return(0,n.shadow)(this,"formInfo",c)}get documentInfo(){const c={PDFFormatVersion:this.version,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let h;try{h=this.xref.trailer.get("Info")}catch(O){if(O instanceof N.MissingDataException)throw O;(0,n.info)("The document information dictionary is invalid.")}if(!(h instanceof e.Dict))return(0,n.shadow)(this,"documentInfo",c);for(const O of h.getKeys()){const W=h.get(O);switch(O){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof W=="string"){c[O]=(0,n.stringToPDFString)(W);continue}break;case"Trapped":if(W instanceof e.Name){c[O]=W;continue}break;default:let R;switch(typeof W){case"string":R=(0,n.stringToPDFString)(W);break;case"number":case"boolean":R=W;break;default:W instanceof e.Name&&(R=W);break}if(R===void 0){(0,n.warn)(`Bad value, for custom key "${O}", in Info: ${W}.`);continue}c.Custom||(c.Custom=Object.create(null)),c.Custom[O]=R;continue}(0,n.warn)(`Bad value, for key "${O}", in Info: ${W}.`)}return(0,n.shadow)(this,"documentInfo",c)}get fingerprints(){function c(H){return typeof H=="string"&&H.length>0&&H!==P}function h(H){const ae=[];for(const q of H){const ce=q.toString(16);ae.push(ce.padStart(2,"0"))}return ae.join("")}const O=this.xref.trailer.get("ID");let W,R;return Array.isArray(O)&&c(O[0])?(W=(0,n.stringToBytes)(O[0]),O[1]!==O[0]&&c(O[1])&&(R=(0,n.stringToBytes)(O[1]))):W=(0,z.calculateMD5)(this.stream.getByteRange(0,g),0,g),(0,n.shadow)(this,"fingerprints",[h(W),R?h(R):null])}async _getLinearizationPage(c){const{catalog:h,linearization:O,xref:W}=this,R=e.Ref.get(O.objectNumberFirst,0);try{const H=await W.fetchAsync(R);if(H instanceof e.Dict){let ae=H.getRaw("Type");if(ae instanceof e.Ref&&(ae=await W.fetchAsync(ae)),(0,e.isName)(ae,"Page")||!H.has("Type")&&!H.has("Kids"))return h.pageKidsCountCache.has(R)||h.pageKidsCountCache.put(R,1),h.pageIndexCache.has(R)||h.pageIndexCache.put(R,0),[H,R]}throw new n.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(H){return(0,n.warn)(`_getLinearizationPage: "${H.message}".`),h.getPageDict(c)}}getPage(c){const h=this._pagePromises.get(c);if(h)return h;const{catalog:O,linearization:W,xfaFactory:R}=this;let H;return R?H=Promise.resolve([e.Dict.empty,null]):(W==null?void 0:W.pageFirst)===c?H=this._getLinearizationPage(c):H=O.getPageDict(c),H=H.then(([ae,q])=>new l({pdfManager:this.pdfManager,xref:this.xref,pageIndex:c,pageDict:ae,ref:q,globalIdFactory:this._globalIdFactory,fontCache:O.fontCache,builtInCMapCache:O.builtInCMapCache,standardFontDataCache:O.standardFontDataCache,globalImageCache:O.globalImageCache,systemFontCache:O.systemFontCache,nonBlendModesSet:O.nonBlendModesSet,xfaFactory:R})),this._pagePromises.set(c,H),H}async checkFirstPage(c=!1){if(!c)try{await this.getPage(0)}catch(h){if(h instanceof N.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new N.XRefParseException}}async checkLastPage(c=!1){const{catalog:h,pdfManager:O}=this;h.setActualNumPages();let W;try{if(await Promise.all([O.ensureDoc("xfaFactory"),O.ensureDoc("linearization"),O.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?W=this.linearization.numPages:W=h.numPages,Number.isInteger(W)){if(W<=1)return}else throw new n.FormatError("Page count is not an integer.");await this.getPage(W-1)}catch(R){if(this._pagePromises.delete(W-1),await this.cleanup(),R instanceof N.XRefEntryException&&!c)throw new N.XRefParseException;(0,n.warn)(`checkLastPage - invalid /Pages tree /Count: ${W}.`);let H;try{H=await h.getAllPageDicts(c)}catch(ae){if(ae instanceof N.XRefEntryException&&!c)throw new N.XRefParseException;h.setActualNumPages(1);return}for(const[ae,[q,ce]]of H){let ee;q instanceof Error?(ee=Promise.reject(q),ee.catch(()=>{})):ee=Promise.resolve(new l({pdfManager:O,xref:this.xref,pageIndex:ae,pageDict:q,ref:ce,globalIdFactory:this._globalIdFactory,fontCache:h.fontCache,builtInCMapCache:h.builtInCMapCache,standardFontDataCache:h.standardFontDataCache,globalImageCache:h.globalImageCache,systemFontCache:h.systemFontCache,nonBlendModesSet:h.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(ae,ee)}h.setActualNumPages(H.size)}}fontFallback(c,h){return this.catalog.fontFallback(c,h)}async cleanup(c=!1){return this.catalog?this.catalog.cleanup(c):(0,M.clearGlobalCaches)()}get fieldObjects(){if(!this.formInfo.hasFields)return(0,n.shadow)(this,"fieldObjects",Promise.resolve(null));const c=this.pdfManager.ensureDoc("annotationGlobals").then(async h=>{if(!h)return null;const O=Object.create(null),W=new Map;for(const H of this.catalog.acroForm.get("Fields"))Ne(this,v,Ki).call(this,"",H,W,h);const R=[];for(const[H,ae]of W)R.push(Promise.all(ae).then(q=>{q=q.filter(ce=>!!ce),q.length>0&&(O[H]=q)}));return await Promise.all(R),O});return(0,n.shadow)(this,"fieldObjects",c)}get hasJSActions(){const c=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,n.shadow)(this,"hasJSActions",c)}async _parseHasJSActions(){const[c,h]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return c?!0:h?Object.values(h).some(O=>O.some(W=>W.actions!==null)):!1}get calculationOrderIds(){const c=this.catalog.acroForm;if(!(c!=null&&c.has("CO")))return(0,n.shadow)(this,"calculationOrderIds",null);const h=c.get("CO");if(!Array.isArray(h)||h.length===0)return(0,n.shadow)(this,"calculationOrderIds",null);const O=[];for(const W of h)W instanceof e.Ref&&O.push(W.toString());return O.length===0?(0,n.shadow)(this,"calculationOrderIds",null):(0,n.shadow)(this,"calculationOrderIds",O)}get annotationGlobals(){return(0,n.shadow)(this,"annotationGlobals",S.AnnotationFactory.createGlobals(this.pdfManager))}}v=new WeakSet,Ki=function(c,h,O,W){const R=this.xref.fetchIfRef(h);if(R.has("T")){const H=(0,n.stringToPDFString)(R.get("T"));c=c===""?H:`${c}.${H}`}if(O.has(c)||O.set(c,[]),O.get(c).push(S.AnnotationFactory.create(this.xref,h,W,this._localIdFactory,!0,null).then(H=>H==null?void 0:H.getFieldObject()).catch(function(H){return(0,n.warn)(`#collectFieldObjects: "${H}".`),null})),R.has("Kids"))for(const H of R.get("Kids"))Ne(this,v,Ki).call(this,c,H,O,W)},m.PDFDocument=D},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PopupAnnotation=m.MarkupAnnotation=m.AnnotationFactory=m.AnnotationBorderStyle=m.Annotation=void 0,m.getQuadPoints=B;var n=Q(2),S=Q(3),N=Q(11),e=Q(4),t=Q(8),r=Q(5),z=Q(60),j=Q(66),M=Q(12),I=Q(69),d=Q(26),u=Q(76),i=Q(64),F=Q(73),C=Q(77);class T{static createGlobals($){return Promise.all([$.ensureCatalog("acroForm"),$.ensureDoc("xfaDatasets"),$.ensureCatalog("structTreeRoot"),$.ensureCatalog("baseUrl"),$.ensureCatalog("attachments")]).then(([U,K,J,Y,ie])=>({pdfManager:$,acroForm:U instanceof e.Dict?U:e.Dict.empty,xfaDatasets:K,structTreeRoot:J,baseUrl:Y,attachments:ie}),U=>((0,n.warn)(`createGlobals: "${U}".`),null))}static async create($,U,K,J,Y,ie){const re=Y?await this._getPageIndex($,U,K.pdfManager):null;return K.pdfManager.ensure(this,"_create",[$,U,K,J,Y,re,ie])}static _create($,U,K,J,Y=!1,ie=null,re=null){const Z=$.fetchIfRef(U);if(!(Z instanceof e.Dict))return;const{acroForm:he,pdfManager:le}=K,te=U instanceof e.Ref?U.toString():`annot_${J.createObjId()}`;let ue=Z.get("Subtype");ue=ue instanceof e.Name?ue.name:null;const ge={xref:$,ref:U,dict:Z,subtype:ue,id:te,annotationGlobals:K,collectFields:Y,needAppearances:!Y&&he.get("NeedAppearances")===!0,pageIndex:ie,evaluatorOptions:le.evaluatorOptions,pageRef:re};switch(ue){case"Link":return new D(ge);case"Text":return new G(ge);case"Widget":let ye=(0,S.getInheritableProperty)({dict:Z,key:"FT"});switch(ye=ye instanceof e.Name?ye.name:null,ye){case"Tx":return new X(ge);case"Btn":return new a(ge);case"Ch":return new g(ge);case"Sig":return new P(ge)}return(0,n.warn)(`Unimplemented widget field type "${ye}", falling back to base field type.`),new x(ge);case"Popup":return new w(ge);case"FreeText":return new A(ge);case"Line":return new v(ge);case"Square":return new o(ge);case"Circle":return new y(ge);case"PolyLine":return new c(ge);case"Polygon":return new h(ge);case"Caret":return new O(ge);case"Ink":return new W(ge);case"Highlight":return new R(ge);case"Underline":return new H(ge);case"Squiggly":return new ae(ge);case"StrikeOut":return new q(ge);case"Stamp":return new ce(ge);case"FileAttachment":return new ee(ge);default:return Y||(ue?(0,n.warn)(`Unimplemented annotation type "${ue}", falling back to base annotation.`):(0,n.warn)("Annotation is missing the required /Subtype.")),new k(ge)}}static async _getPageIndex($,U,K){try{const J=await $.fetchIfRefAsync(U);if(!(J instanceof e.Dict))return-1;const Y=J.getRaw("P");if(Y instanceof e.Ref)try{return await K.ensureCatalog("getPageIndex",[Y])}catch(re){(0,n.info)(`_getPageIndex -- not a valid page reference: "${re}".`)}if(J.has("Kids"))return-1;const ie=await K.ensureDoc("numPages");for(let re=0;re<ie;re++){const Z=await K.getPage(re),he=await K.ensure(Z,"annotations");for(const le of he)if(le instanceof e.Ref&&(0,e.isRefsEqual)(le,U))return re}}catch(J){(0,n.warn)(`_getPageIndex: "${J}".`)}return-1}static generateImages($,U,K){if(!K)return(0,n.warn)("generateImages: OffscreenCanvas is not supported, cannot save or print some annotations with images."),null;let J;for(const{bitmapId:Y,bitmap:ie}of $)ie&&(J||(J=new Map),J.set(Y,ce.createImage(ie,U)));return J}static async saveNewAnnotations($,U,K,J){const Y=$.xref;let ie;const re=[],Z=[],{isOffscreenCanvasSupported:he}=$.options;for(const le of K)if(!le.deleted)switch(le.annotationType){case n.AnnotationEditorType.FREETEXT:if(!ie){const ue=new e.Dict(Y);ue.set("BaseFont",e.Name.get("Helvetica")),ue.set("Type",e.Name.get("Font")),ue.set("Subtype",e.Name.get("Type1")),ue.set("Encoding",e.Name.get("WinAnsiEncoding"));const ge=[];ie=Y.getNewTemporaryRef(),await(0,F.writeObject)(ie,ue,ge,Y),re.push({ref:ie,data:ge.join("")})}Z.push(A.createNewAnnotation(Y,le,re,{evaluator:$,task:U,baseFontRef:ie}));break;case n.AnnotationEditorType.INK:Z.push(W.createNewAnnotation(Y,le,re));break;case n.AnnotationEditorType.STAMP:if(!he)break;const te=await J.get(le.bitmapId);if(te.imageStream){const{imageStream:ue,smaskStream:ge}=te,ye=[];if(ge){const Oe=Y.getNewTemporaryRef();await(0,F.writeObject)(Oe,ge,ye,Y),re.push({ref:Oe,data:ye.join("")}),ue.dict.set("SMask",Oe),ye.length=0}const Ee=te.imageRef=Y.getNewTemporaryRef();await(0,F.writeObject)(Ee,ue,ye,Y),re.push({ref:Ee,data:ye.join("")}),te.imageStream=te.smaskStream=null}Z.push(ce.createNewAnnotation(Y,le,re,{image:te}));break}return{annotations:await Promise.all(Z),dependencies:re}}static async printNewAnnotations($,U,K,J,Y){if(!J)return null;const{options:ie,xref:re}=U,Z=[];for(const he of J)if(!he.deleted)switch(he.annotationType){case n.AnnotationEditorType.FREETEXT:Z.push(A.createNewPrintAnnotation($,re,he,{evaluator:U,task:K,evaluatorOptions:ie}));break;case n.AnnotationEditorType.INK:Z.push(W.createNewPrintAnnotation($,re,he,{evaluatorOptions:ie}));break;case n.AnnotationEditorType.STAMP:if(!ie.isOffscreenCanvasSupported)break;const le=await Y.get(he.bitmapId);if(le.imageStream){const{imageStream:te,smaskStream:ue}=le;ue&&te.dict.set("SMask",ue),le.imageRef=new d.JpegStream(te,te.length),le.imageStream=le.smaskStream=null}Z.push(ce.createNewPrintAnnotation($,re,he,{image:le,evaluatorOptions:ie}));break}return Promise.all(Z)}}m.AnnotationFactory=T;function b(se,$=new Uint8ClampedArray(3)){if(!Array.isArray(se))return $;const U=$||new Uint8ClampedArray(3);switch(se.length){case 0:return null;case 1:return M.ColorSpace.singletons.gray.getRgbItem(se,0,U,0),U;case 3:return M.ColorSpace.singletons.rgb.getRgbItem(se,0,U,0),U;case 4:return M.ColorSpace.singletons.cmyk.getRgbItem(se,0,U,0),U;default:return $}}function L(se){return Array.from(se,$=>$/255)}function B(se,$){const U=se.getArray("QuadPoints");if(!Array.isArray(U)||U.length===0||U.length%8>0)return null;const K=[];for(let J=0,Y=U.length/8;J<Y;J++){let ie=1/0,re=-1/0,Z=1/0,he=-1/0;for(let le=J*8,te=J*8+8;le<te;le+=2){const ue=U[le],ge=U[le+1];ie=Math.min(ue,ie),re=Math.max(ue,re),Z=Math.min(ge,Z),he=Math.max(ge,he)}if($!==null&&(ie<$[0]||re>$[2]||Z<$[1]||he>$[3]))return null;K.push([{x:ie,y:he},{x:re,y:he},{x:ie,y:Z},{x:re,y:Z}])}return K}function V(se,$,U){const[K,J,Y,ie]=n.Util.getAxialAlignedBoundingBox($,U);if(K===Y||J===ie)return[1,0,0,1,se[0],se[1]];const re=(se[2]-se[0])/(Y-K),Z=(se[3]-se[1])/(ie-J);return[re,0,0,Z,se[0]-K*re,se[1]-J*Z]}class k{constructor($){const{dict:U,xref:K,annotationGlobals:J}=$;this.setTitle(U.get("T")),this.setContents(U.get("Contents")),this.setModificationDate(U.get("M")),this.setFlags(U.get("F")),this.setRectangle(U.getArray("Rect")),this.setColor(U.getArray("C")),this.setBorderStyle(U),this.setAppearance(U),this.setOptionalContent(U);const Y=U.get("MK");this.setBorderAndBackgroundColors(Y),this.setRotation(Y,U),this.ref=$.ref instanceof e.Ref?$.ref:null,this._streams=[],this.appearance&&this._streams.push(this.appearance);const ie=!!(this.flags&n.AnnotationFlag.LOCKED),re=!!(this.flags&n.AnnotationFlag.LOCKEDCONTENTS);if(J.structTreeRoot){let Z=U.get("StructParent");Z=Number.isInteger(Z)&&Z>=0?Z:-1,J.structTreeRoot.addAnnotationIdToPage($.pageRef,Z)}if(this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:$.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:$.subtype,hasOwnCanvas:!1,noRotate:!!(this.flags&n.AnnotationFlag.NOROTATE),noHTML:ie&&re},$.collectFields){const Z=U.get("Kids");if(Array.isArray(Z)){const he=[];for(const le of Z)le instanceof e.Ref&&he.push(le.toString());he.length!==0&&(this.data.kidIds=he)}this.data.actions=(0,S.collectActions)(K,U,n.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(U),this.data.pageIndex=$.pageIndex}this._isOffscreenCanvasSupported=$.evaluatorOptions.isOffscreenCanvasSupported,this._fallbackFontDict=null,this._needAppearances=!1}_hasFlag($,U){return!!($&U)}_isViewable($){return!this._hasFlag($,n.AnnotationFlag.INVISIBLE)&&!this._hasFlag($,n.AnnotationFlag.NOVIEW)}_isPrintable($){return this._hasFlag($,n.AnnotationFlag.PRINT)&&!this._hasFlag($,n.AnnotationFlag.HIDDEN)&&!this._hasFlag($,n.AnnotationFlag.INVISIBLE)}mustBeViewed($,U){var J;const K=(J=$==null?void 0:$.get(this.data.id))==null?void 0:J.noView;return K!==void 0?!K:this.viewable&&!this._hasFlag(this.flags,n.AnnotationFlag.HIDDEN)}mustBePrinted($){var K;const U=(K=$==null?void 0:$.get(this.data.id))==null?void 0:K.noPrint;return U!==void 0?!U:this.printable}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper($){const U=typeof $=="string"?(0,n.stringToPDFString)($):"",K=U&&(0,z.bidi)(U).dir==="rtl"?"rtl":"ltr";return{str:U,dir:K}}setDefaultAppearance($){const{dict:U,annotationGlobals:K}=$,J=(0,S.getInheritableProperty)({dict:U,key:"DA"})||K.acroForm.get("DA");this._defaultAppearance=typeof J=="string"?J:"",this.data.defaultAppearanceData=(0,N.parseDefaultAppearance)(this._defaultAppearance)}setTitle($){this._title=this._parseStringHelper($)}setContents($){this._contents=this._parseStringHelper($)}setModificationDate($){this.modificationDate=typeof $=="string"?$:null}setFlags($){this.flags=Number.isInteger($)&&$>0?$:0}hasFlag($){return this._hasFlag(this.flags,$)}setRectangle($){this.rectangle=Array.isArray($)&&$.length===4?n.Util.normalizeRect($):[0,0,0,0]}setColor($){this.color=b($)}setLineEndings($){if(this.lineEndings=["None","None"],Array.isArray($)&&$.length===2)for(let U=0;U<2;U++){const K=$[U];if(K instanceof e.Name)switch(K.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[U]=K.name;continue}(0,n.warn)(`Ignoring invalid lineEnding: ${K}`)}}setRotation($,U){this.rotation=0;let K=$ instanceof e.Dict?$.get("R")||0:U.get("Rotate")||0;Number.isInteger(K)&&K!==0&&(K%=360,K<0&&(K+=360),K%90===0&&(this.rotation=K))}setBorderAndBackgroundColors($){$ instanceof e.Dict?(this.borderColor=b($.getArray("BC"),null),this.backgroundColor=b($.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle($){if(this.borderStyle=new _,$ instanceof e.Dict)if($.has("BS")){const U=$.get("BS"),K=U.get("Type");(!K||(0,e.isName)(K,"Border"))&&(this.borderStyle.setWidth(U.get("W"),this.rectangle),this.borderStyle.setStyle(U.get("S")),this.borderStyle.setDashArray(U.getArray("D")))}else if($.has("Border")){const U=$.getArray("Border");Array.isArray(U)&&U.length>=3&&(this.borderStyle.setHorizontalCornerRadius(U[0]),this.borderStyle.setVerticalCornerRadius(U[1]),this.borderStyle.setWidth(U[2],this.rectangle),U.length===4&&this.borderStyle.setDashArray(U[3],!0))}else this.borderStyle.setWidth(0)}setAppearance($){this.appearance=null;const U=$.get("AP");if(!(U instanceof e.Dict))return;const K=U.get("N");if(K instanceof r.BaseStream){this.appearance=K;return}if(!(K instanceof e.Dict))return;const J=$.get("AS");if(!(J instanceof e.Name)||!K.has(J.name))return;const Y=K.get(J.name);Y instanceof r.BaseStream&&(this.appearance=Y)}setOptionalContent($){this.oc=null;const U=$.get("OC");U instanceof e.Name?(0,n.warn)("setOptionalContent: Support for /Name-entry is not implemented."):U instanceof e.Dict&&(this.oc=U)}loadResources($,U){return U.dict.getAsync("Resources").then(K=>K?new u.ObjectLoader(K,$,K.xref).load().then(function(){return K}):void 0)}async getOperatorList($,U,K,J,Y){const ie=this.data;let re=this.appearance;const Z=!!(this.data.hasOwnCanvas&&K&n.RenderingIntentFlag.DISPLAY);if(!re){if(!Z)return{opList:new i.OperatorList,separateForm:!1,separateCanvas:!1};re=new t.StringStream(""),re.dict=new e.Dict}const he=re.dict,le=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],re),te=he.getArray("BBox")||[0,0,1,1],ue=he.getArray("Matrix")||[1,0,0,1,0,0],ge=V(ie.rect,te,ue),ye=new i.OperatorList;let Ee;return this.oc&&(Ee=await $.parseMarkedContentProps(this.oc,null)),Ee!==void 0&&ye.addOp(n.OPS.beginMarkedContentProps,["OC",Ee]),ye.addOp(n.OPS.beginAnnotation,[ie.id,ie.rect,ge,ue,Z]),await $.getOperatorList({stream:re,task:U,resources:le,operatorList:ye,fallbackFontDict:this._fallbackFontDict}),ye.addOp(n.OPS.endAnnotation,[]),Ee!==void 0&&ye.addOp(n.OPS.endMarkedContent,[]),this.reset(),{opList:ye,separateForm:!1,separateCanvas:Z}}async save($,U,K){return null}get hasTextContent(){return!1}async extractTextContent($,U,K){if(!this.appearance)return;const J=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),Y=[],ie=[];let re=null;const Z={desiredSize:Math.Infinity,ready:!0,enqueue(he,le){for(const te of he.items)te.str!==void 0&&(re||(re=te.transform.slice(-2)),ie.push(te.str),te.hasEOL&&(Y.push(ie.join("")),ie.length=0))}};if(await $.getTextContent({stream:this.appearance,task:U,resources:J,includeMarkedContent:!0,sink:Z,viewBox:K}),this.reset(),ie.length&&Y.push(ie.join("")),Y.length>1||Y[0]){const he=this.appearance.dict,le=he.getArray("BBox")||[0,0,1,1],te=he.getArray("Matrix")||[1,0,0,1,0,0],ue=this.data.rect,ge=V(ue,le,te);ge[4]-=ue[0],ge[5]-=ue[1],re=n.Util.applyTransform(re,ge),re=n.Util.applyTransform(re,te),this.data.textPosition=re,this.data.textContent=Y}}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const $ of this._streams)$.reset()}_constructFieldName($){if(!$.has("T")&&!$.has("Parent"))return(0,n.warn)("Unknown field name, falling back to empty field name."),"";if(!$.has("Parent"))return(0,n.stringToPDFString)($.get("T"));const U=[];$.has("T")&&U.unshift((0,n.stringToPDFString)($.get("T")));let K=$;const J=new e.RefSet;for($.objId&&J.put($.objId);K.has("Parent")&&(K=K.get("Parent"),!(!(K instanceof e.Dict)||K.objId&&J.has(K.objId)));)K.objId&&J.put(K.objId),K.has("T")&&U.unshift((0,n.stringToPDFString)(K.get("T")));return U.join(".")}}m.Annotation=k;class _{constructor(){this.width=1,this.style=n.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth($,U=[0,0,0,0]){if($ instanceof e.Name){this.width=0;return}if(typeof $=="number"){if($>0){const K=(U[2]-U[0])/2,J=(U[3]-U[1])/2;K>0&&J>0&&($>K||$>J)&&((0,n.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${$}`),$=1)}this.width=$}}setStyle($){if($ instanceof e.Name)switch($.name){case"S":this.style=n.AnnotationBorderStyleType.SOLID;break;case"D":this.style=n.AnnotationBorderStyleType.DASHED;break;case"B":this.style=n.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=n.AnnotationBorderStyleType.INSET;break;case"U":this.style=n.AnnotationBorderStyleType.UNDERLINE;break}}setDashArray($,U=!1){if(Array.isArray($)&&$.length>0){let K=!0,J=!0;for(const Y of $)if(+Y>=0)Y>0&&(J=!1);else{K=!1;break}K&&!J?(this.dashArray=$,U&&this.setStyle(e.Name.get("D"))):this.width=0}else $&&(this.width=0)}setHorizontalCornerRadius($){Number.isInteger($)&&(this.horizontalCornerRadius=$)}setVerticalCornerRadius($){Number.isInteger($)&&(this.verticalCornerRadius=$)}}m.AnnotationBorderStyle=_;class l extends k{constructor($){super($);const{dict:U}=$;if(U.has("IRT")){const J=U.getRaw("IRT");this.data.inReplyTo=J instanceof e.Ref?J.toString():null;const Y=U.get("RT");this.data.replyType=Y instanceof e.Name?Y.name:n.AnnotationReplyType.REPLY}let K=null;if(this.data.replyType===n.AnnotationReplyType.GROUP){const J=U.get("IRT");this.setTitle(J.get("T")),this.data.titleObj=this._title,this.setContents(J.get("Contents")),this.data.contentsObj=this._contents,J.has("CreationDate")?(this.setCreationDate(J.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,J.has("M")?(this.setModificationDate(J.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,K=J.getRaw("Popup"),J.has("C")?(this.setColor(J.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(U.get("CreationDate")),this.data.creationDate=this.creationDate,K=U.getRaw("Popup"),U.has("C")||(this.data.color=null);this.data.popupRef=K instanceof e.Ref?K.toString():null,U.has("RC")&&(this.data.richText=C.XFAFactory.getRichTextAsHtml(U.get("RC")))}setCreationDate($){this.creationDate=typeof $=="string"?$:null}_setDefaultAppearance({xref:$,extra:U,strokeColor:K,fillColor:J,blendMode:Y,strokeAlpha:ie,fillAlpha:re,pointsCallback:Z}){let he=Number.MAX_VALUE,le=Number.MAX_VALUE,te=Number.MIN_VALUE,ue=Number.MIN_VALUE;const ge=["q"];U&&ge.push(U),K&&ge.push(`${K[0]} ${K[1]} ${K[2]} RG`),J&&ge.push(`${J[0]} ${J[1]} ${J[2]} rg`);let ye=this.data.quadPoints;ye||(ye=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const Re of ye){const[be,Ce,$e,Pe]=Z(ge,Re);he=Math.min(he,be),te=Math.max(te,Ce),le=Math.min(le,$e),ue=Math.max(ue,Pe)}ge.push("Q");const Ee=new e.Dict($),Oe=new e.Dict($);Oe.set("Subtype",e.Name.get("Form"));const ve=new t.StringStream(ge.join(" "));ve.dict=Oe,Ee.set("Fm0",ve);const Se=new e.Dict($);Y&&Se.set("BM",e.Name.get(Y)),typeof ie=="number"&&Se.set("CA",ie),typeof re=="number"&&Se.set("ca",re);const Ae=new e.Dict($);Ae.set("GS0",Se);const ke=new e.Dict($);ke.set("ExtGState",Ae),ke.set("XObject",Ee);const _e=new e.Dict($);_e.set("Resources",ke);const je=this.data.rect=[he,le,te,ue];_e.set("BBox",je),this.appearance=new t.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=_e,this._streams.push(this.appearance,ve)}static async createNewAnnotation($,U,K,J){const Y=U.ref||(U.ref=$.getNewTemporaryRef()),ie=await this.createNewAppearanceStream(U,$,J),re=[];let Z;if(ie){const he=$.getNewTemporaryRef();Z=this.createNewDict(U,$,{apRef:he}),await(0,F.writeObject)(he,ie,re,$),K.push({ref:he,data:re.join("")})}else Z=this.createNewDict(U,$,{});return Number.isInteger(U.parentTreeId)&&Z.set("StructParent",U.parentTreeId),re.length=0,await(0,F.writeObject)(Y,Z,re,$),{ref:Y,data:re.join("")}}static async createNewPrintAnnotation($,U,K,J){const Y=await this.createNewAppearanceStream(K,U,J),ie=this.createNewDict(K,U,{ap:Y}),re=new this.prototype.constructor({dict:ie,xref:U,annotationGlobals:$,evaluatorOptions:J.evaluatorOptions});return K.ref&&(re.ref=re.refToReplace=K.ref),re}}m.MarkupAnnotation=l;class x extends k{constructor($){var ue;super($);const{dict:U,xref:K,annotationGlobals:J}=$,Y=this.data;this._needAppearances=$.needAppearances,Y.annotationType=n.AnnotationType.WIDGET,Y.fieldName===void 0&&(Y.fieldName=this._constructFieldName(U)),Y.actions===void 0&&(Y.actions=(0,S.collectActions)(K,U,n.AnnotationActionEventType));let ie=(0,S.getInheritableProperty)({dict:U,key:"V",getArray:!0});Y.fieldValue=this._decodeFormValue(ie);const re=(0,S.getInheritableProperty)({dict:U,key:"DV",getArray:!0});if(Y.defaultFieldValue=this._decodeFormValue(re),ie===void 0&&J.xfaDatasets){const ge=this._title.str;ge&&(this._hasValueFromXFA=!0,Y.fieldValue=ie=J.xfaDatasets.getValue(ge))}ie===void 0&&Y.defaultFieldValue!==null&&(Y.fieldValue=Y.defaultFieldValue),Y.alternativeText=(0,n.stringToPDFString)(U.get("TU")||""),this.setDefaultAppearance($),Y.hasAppearance||(Y.hasAppearance=this._needAppearances&&Y.fieldValue!==void 0&&Y.fieldValue!==null);const Z=(0,S.getInheritableProperty)({dict:U,key:"FT"});Y.fieldType=Z instanceof e.Name?Z.name:null;const he=(0,S.getInheritableProperty)({dict:U,key:"DR"}),le=J.acroForm.get("DR"),te=(ue=this.appearance)==null?void 0:ue.dict.get("Resources");this._fieldResources={localResources:he,acroFormResources:le,appearanceResources:te,mergedResources:e.Dict.merge({xref:K,dictArray:[he,te,le],mergeSubDicts:!0})},Y.fieldFlags=(0,S.getInheritableProperty)({dict:U,key:"Ff"}),(!Number.isInteger(Y.fieldFlags)||Y.fieldFlags<0)&&(Y.fieldFlags=0),Y.readOnly=this.hasFieldFlag(n.AnnotationFieldFlag.READONLY),Y.required=this.hasFieldFlag(n.AnnotationFieldFlag.REQUIRED),Y.hidden=this._hasFlag(Y.annotationFlags,n.AnnotationFlag.HIDDEN)||this._hasFlag(Y.annotationFlags,n.AnnotationFlag.NOVIEW)}_decodeFormValue($){return Array.isArray($)?$.filter(U=>typeof U=="string").map(U=>(0,n.stringToPDFString)(U)):$ instanceof e.Name?(0,n.stringToPDFString)($.name):typeof $=="string"?(0,n.stringToPDFString)($):null}hasFieldFlag($){return!!(this.data.fieldFlags&$)}_isViewable($){return!this._hasFlag($,n.AnnotationFlag.INVISIBLE)}mustBeViewed($,U){return U?this.viewable:super.mustBeViewed($,U)&&!this._hasFlag(this.flags,n.AnnotationFlag.NOVIEW)}getRotationMatrix($){var Y;let U=(Y=$==null?void 0:$.get(this.data.id))==null?void 0:Y.rotation;if(U===void 0&&(U=this.rotation),U===0)return n.IDENTITY_MATRIX;const K=this.data.rect[2]-this.data.rect[0],J=this.data.rect[3]-this.data.rect[1];return(0,S.getRotationMatrix)(U,K,J)}getBorderAndBackgroundAppearances($){var re;let U=(re=$==null?void 0:$.get(this.data.id))==null?void 0:re.rotation;if(U===void 0&&(U=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const K=this.data.rect[2]-this.data.rect[0],J=this.data.rect[3]-this.data.rect[1],Y=U===0||U===180?`0 0 ${K} ${J} re`:`0 0 ${J} ${K} re`;let ie="";if(this.backgroundColor&&(ie=`${(0,N.getPdfColor)(this.backgroundColor,!0)} ${Y} f `),this.borderColor){const Z=this.borderStyle.width||1;ie+=`${Z} w ${(0,N.getPdfColor)(this.borderColor,!1)} ${Y} S `}return ie}async getOperatorList($,U,K,J,Y){if(J&&!(this instanceof P)&&!this.data.noHTML&&!this.data.hasOwnCanvas)return{opList:new i.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList($,U,K,J,Y);const ie=await this._getAppearance($,U,K,Y);if(this.appearance&&ie===null)return super.getOperatorList($,U,K,J,Y);const re=new i.OperatorList;if(!this._defaultAppearance||ie===null)return{opList:re,separateForm:!1,separateCanvas:!1};const Z=!!(this.data.hasOwnCanvas&&K&n.RenderingIntentFlag.DISPLAY),he=[1,0,0,1,0,0],le=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],te=V(this.data.rect,le,he);let ue;this.oc&&(ue=await $.parseMarkedContentProps(this.oc,null)),ue!==void 0&&re.addOp(n.OPS.beginMarkedContentProps,["OC",ue]),re.addOp(n.OPS.beginAnnotation,[this.data.id,this.data.rect,te,this.getRotationMatrix(Y),Z]);const ge=new t.StringStream(ie);return await $.getOperatorList({stream:ge,task:U,resources:this._fieldResources.mergedResources,operatorList:re}),re.addOp(n.OPS.endAnnotation,[]),ue!==void 0&&re.addOp(n.OPS.endMarkedContent,[]),{opList:re,separateForm:!1,separateCanvas:Z}}_getMKDict($){const U=new e.Dict(null);return $&&U.set("R",$),this.borderColor&&U.set("BC",L(this.borderColor)),this.backgroundColor&&U.set("BG",L(this.backgroundColor)),U.size>0?U:null}amendSavedDict($,U){}async save($,U,K){const J=K==null?void 0:K.get(this.data.id);let Y=J==null?void 0:J.value,ie=J==null?void 0:J.rotation;if(Y===this.data.fieldValue||Y===void 0){if(!this._hasValueFromXFA&&ie===void 0)return null;Y||(Y=this.data.fieldValue)}if(ie===void 0&&!this._hasValueFromXFA&&Array.isArray(Y)&&Array.isArray(this.data.fieldValue)&&Y.length===this.data.fieldValue.length&&Y.every((ve,Se)=>ve===this.data.fieldValue[Se]))return null;ie===void 0&&(ie=this.rotation);let re=null;if(!this._needAppearances&&(re=await this._getAppearance($,U,n.RenderingIntentFlag.SAVE,K),re===null))return null;let Z=!1;re!=null&&re.needAppearances&&(Z=!0,re=null);const{xref:he}=$,le=he.fetchIfRef(this.ref);if(!(le instanceof e.Dict))return null;const te=new e.Dict(he);for(const ve of le.getKeys())ve!=="AP"&&te.set(ve,le.getRaw(ve));const ue={path:this.data.fieldName,value:Y},ge=ve=>(0,S.isAscii)(ve)?ve:(0,S.stringToUTF16String)(ve,!0);te.set("V",Array.isArray(Y)?Y.map(ge):ge(Y)),this.amendSavedDict(K,te);const ye=this._getMKDict(ie);ye&&te.set("MK",ye);const Ee=[],Oe=[{ref:this.ref,data:"",xfa:ue,needAppearances:Z}];if(re!==null){const ve=he.getNewTemporaryRef(),Se=new e.Dict(he);te.set("AP",Se),Se.set("N",ve);const Ae=this._getSaveFieldResources(he),ke=new t.StringStream(re),_e=ke.dict=new e.Dict(he);_e.set("Subtype",e.Name.get("Form")),_e.set("Resources",Ae),_e.set("BBox",[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]]);const je=this.getRotationMatrix(K);je!==n.IDENTITY_MATRIX&&_e.set("Matrix",je),await(0,F.writeObject)(ve,ke,Ee,he),Oe.push({ref:ve,data:Ee.join(""),xfa:null,needAppearances:!1}),Ee.length=0}return te.set("M",`D:${(0,n.getModificationDate)()}`),await(0,F.writeObject)(this.ref,te,Ee,he),Oe[0].data=Ee.join(""),Oe}async _getAppearance($,U,K,J){if(this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD))return null;const ie=J==null?void 0:J.get(this.data.id);let re,Z;if(ie&&(re=ie.formattedValue||ie.value,Z=ie.rotation),Z===void 0&&re===void 0&&!this._needAppearances&&(!this._hasValueFromXFA||this.appearance))return null;const he=this.getBorderAndBackgroundAppearances(J);if(re===void 0&&(re=this.data.fieldValue,!re))return`/Tx BMC q ${he}Q EMC`;if(Array.isArray(re)&&re.length===1&&(re=re[0]),(0,n.assert)(typeof re=="string","Expected `value` to be a string."),re=re.trim(),this.data.combo){const ze=this.data.options.find(({exportValue:We})=>re===We);re=(ze==null?void 0:ze.displayValue)||re}if(re==="")return`/Tx BMC q ${he}Q EMC`;Z===void 0&&(Z=this.rotation);let le=-1,te;this.data.multiLine?(te=re.split(/\r\n?|\n/).map(ze=>ze.normalize("NFC")),le=te.length):te=[re.replace(/\r\n?|\n/,"").normalize("NFC")];const ue=1,ge=2;let ye=this.data.rect[3]-this.data.rect[1],Ee=this.data.rect[2]-this.data.rect[0];(Z===90||Z===270)&&([Ee,ye]=[ye,Ee]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,N.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));let Oe=await x._getFontData($,U,this.data.defaultAppearanceData,this._fieldResources.mergedResources),ve,Se,Ae;const ke=[];let _e=!1;for(const ze of te){const We=Oe.encodeString(ze);We.length>1&&(_e=!0),ke.push(We.join(""))}if(_e&&K&n.RenderingIntentFlag.SAVE)return{needAppearances:!0};if(_e&&this._isOffscreenCanvasSupported){const ze=this.data.comb?"monospace":"sans-serif",We=new N.FakeUnicodeFont($.xref,ze),ut=We.createFontResources(te.join("")),Le=ut.getRaw("Font");if(this._fieldResources.mergedResources.has("Font")){const Fe=this._fieldResources.mergedResources.get("Font");for(const me of Le.getKeys())Fe.set(me,Le.getRaw(me))}else this._fieldResources.mergedResources.set("Font",Le);const rt=We.fontName.name;Oe=await x._getFontData($,U,{fontName:rt,fontSize:0},ut);for(let Fe=0,me=ke.length;Fe<me;Fe++)ke[Fe]=(0,S.stringToUTF16String)(te[Fe]);const Qe=Object.assign(Object.create(null),this.data.defaultAppearanceData);this.data.defaultAppearanceData.fontSize=0,this.data.defaultAppearanceData.fontName=rt,[ve,Se,Ae]=this._computeFontSize(ye-2*ue,Ee-2*ge,re,Oe,le),this.data.defaultAppearanceData=Qe}else this._isOffscreenCanvasSupported||(0,n.warn)("_getAppearance: OffscreenCanvas is not supported, annotation may not render correctly."),[ve,Se,Ae]=this._computeFontSize(ye-2*ue,Ee-2*ge,re,Oe,le);let je=Oe.descent;isNaN(je)?je=n.BASELINE_FACTOR*Ae:je=Math.max(n.BASELINE_FACTOR*Ae,Math.abs(je)*Se);const Re=Math.min(Math.floor((ye-Se)/2),ue),be=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(ve,ke,Oe,Se,Ee,ye,be,ge,Re,je,Ae,J);if(this.data.comb)return this._getCombAppearance(ve,Oe,ke[0],Se,Ee,ye,ge,Re,je,Ae,J);const Ce=Re+je;if(be===0||be>2)return`/Tx BMC q ${he}BT `+ve+` 1 0 0 1 ${(0,S.numberToString)(ge)} ${(0,S.numberToString)(Ce)} Tm (${(0,S.escapeString)(ke[0])}) Tj ET Q EMC`;const $e={shift:0},Pe=this._renderText(ke[0],Oe,Se,Ee,be,$e,ge,Ce);return`/Tx BMC q ${he}BT `+ve+` 1 0 0 1 0 0 Tm ${Pe} ET Q EMC`}static async _getFontData($,U,K,J){const Y=new i.OperatorList,ie={font:null,clone(){return this}},{fontName:re,fontSize:Z}=K;return await $.handleSetFont(J,[re&&e.Name.get(re),Z],null,Y,U,ie,null),ie.font}_getTextWidth($,U){return U.charsToGlyphs($).reduce((K,J)=>K+J.width,0)/1e3}_computeFontSize($,U,K,J,Y){let{fontSize:ie}=this.data.defaultAppearanceData,re=(ie||12)*n.LINE_FACTOR,Z=Math.round($/re);if(!ie){const he=ue=>Math.floor(ue*100)/100;if(Y===-1){const ue=this._getTextWidth(K,J);ie=he(Math.min($/n.LINE_FACTOR,ue>U?U/ue:1/0)),Z=1}else{const ue=K.split(/\r\n?|\n/),ge=[];for(const Ee of ue){const Oe=J.encodeString(Ee).join(""),ve=J.charsToGlyphs(Oe),Se=J.getCharPositions(Oe);ge.push({line:Oe,glyphs:ve,positions:Se})}const ye=Ee=>{let Oe=0;for(const ve of ge){const Se=this._splitLine(null,J,Ee,U,ve);if(Oe+=Se.length*Ee,Oe>$)return!0}return!1};for(Z=Math.max(Z,Y);;){if(re=$/Z,ie=he(re/n.LINE_FACTOR),ye(ie)){Z++;continue}break}}const{fontName:le,fontColor:te}=this.data.defaultAppearanceData;this._defaultAppearance=(0,N.createDefaultAppearance)({fontSize:ie,fontName:le,fontColor:te})}return[this._defaultAppearance,ie,$/Z]}_renderText($,U,K,J,Y,ie,re,Z){let he;if(Y===1){const te=this._getTextWidth($,U)*K;he=(J-te)/2}else if(Y===2){const te=this._getTextWidth($,U)*K;he=J-te-re}else he=re;const le=(0,S.numberToString)(he-ie.shift);return ie.shift=he,Z=(0,S.numberToString)(Z),`${le} ${Z} Td (${(0,S.escapeString)($)}) Tj`}_getSaveFieldResources($){var ie;const{localResources:U,appearanceResources:K,acroFormResources:J}=this._fieldResources,Y=(ie=this.data.defaultAppearanceData)==null?void 0:ie.fontName;if(!Y)return U||e.Dict.empty;for(const re of[U,K])if(re instanceof e.Dict){const Z=re.get("Font");if(Z instanceof e.Dict&&Z.has(Y))return re}if(J instanceof e.Dict){const re=J.get("Font");if(re instanceof e.Dict&&re.has(Y)){const Z=new e.Dict($);Z.set(Y,re.getRaw(Y));const he=new e.Dict($);return he.set("Font",Z),e.Dict.merge({xref:$,dictArray:[he,U],mergeSubDicts:!0})}}return U||e.Dict.empty}getFieldObject(){return null}}class X extends x{constructor($){super($),this.data.hasOwnCanvas=this.data.readOnly&&!this.data.noHTML,this._hasText=!0;const U=$.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let K=(0,S.getInheritableProperty)({dict:U,key:"Q"});(!Number.isInteger(K)||K<0||K>2)&&(K=null),this.data.textAlignment=K;let J=(0,S.getInheritableProperty)({dict:U,key:"MaxLen"});(!Number.isInteger(J)||J<0)&&(J=0),this.data.maxLen=J,this.data.multiLine=this.hasFieldFlag(n.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(n.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(n.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(n.AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(n.AnnotationFieldFlag.DONOTSCROLL)}get hasTextContent(){return!!this.appearance&&!this._needAppearances}_getCombAppearance($,U,K,J,Y,ie,re,Z,he,le,te){const ue=Y/this.data.maxLen,ge=this.getBorderAndBackgroundAppearances(te),ye=[],Ee=U.getCharPositions(K);for(const[ve,Se]of Ee)ye.push(`(${(0,S.escapeString)(K.substring(ve,Se))}) Tj`);const Oe=ye.join(` ${(0,S.numberToString)(ue)} 0 Td `);return`/Tx BMC q ${ge}BT `+$+` 1 0 0 1 ${(0,S.numberToString)(re)} ${(0,S.numberToString)(Z+he)} Tm ${Oe} ET Q EMC`}_getMultilineAppearance($,U,K,J,Y,ie,re,Z,he,le,te,ue){const ge=[],ye=Y-2*Z,Ee={shift:0};for(let Se=0,Ae=U.length;Se<Ae;Se++){const ke=U[Se],_e=this._splitLine(ke,K,J,ye);for(let je=0,Re=_e.length;je<Re;je++){const be=_e[je],Ce=Se===0&&je===0?-he-(te-le):-te;ge.push(this._renderText(be,K,J,Y,re,Ee,Z,Ce))}}const Oe=this.getBorderAndBackgroundAppearances(ue),ve=ge.join(`
`);return`/Tx BMC q ${Oe}BT `+$+` 1 0 0 1 0 ${(0,S.numberToString)(ie)} Tm ${ve} ET Q EMC`}_splitLine($,U,K,J,Y={}){$=Y.line||$;const ie=Y.glyphs||U.charsToGlyphs($);if(ie.length<=1)return[$];const re=Y.positions||U.getCharPositions($),Z=K/1e3,he=[];let le=-1,te=-1,ue=-1,ge=0,ye=0;for(let Ee=0,Oe=ie.length;Ee<Oe;Ee++){const[ve,Se]=re[Ee],Ae=ie[Ee],ke=Ae.width*Z;Ae.unicode===" "?ye+ke>J?(he.push($.substring(ge,ve)),ge=ve,ye=ke,le=-1,ue=-1):(ye+=ke,le=ve,te=Se,ue=Ee):ye+ke>J?le!==-1?(he.push($.substring(ge,te)),ge=te,Ee=ue+1,le=-1,ye=0):(he.push($.substring(ge,ve)),ge=ve,ye=ke):ye+=ke}return ge<$.length&&he.push($.substring(ge,$.length)),he}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class a extends x{constructor($){super($),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(n.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(n.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox($):this.data.radioButton?this._processRadioButton($):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton($)):(0,n.warn)("Invalid field flags for button widget annotation")}async getOperatorList($,U,K,J,Y){if(this.data.pushButton)return super.getOperatorList($,U,K,!1,Y);let ie=null,re=null;if(Y){const he=Y.get(this.data.id);ie=he?he.value:null,re=he?he.rotation:null}if(ie===null&&this.appearance)return super.getOperatorList($,U,K,J,Y);ie==null&&(ie=this.data.checkBox?this.data.fieldValue===this.data.exportValue:this.data.fieldValue===this.data.buttonValue);const Z=ie?this.checkedAppearance:this.uncheckedAppearance;if(Z){const he=this.appearance,le=Z.dict.getArray("Matrix")||n.IDENTITY_MATRIX;re&&Z.dict.set("Matrix",this.getRotationMatrix(Y)),this.appearance=Z;const te=super.getOperatorList($,U,K,J,Y);return this.appearance=he,Z.dict.set("Matrix",le),te}return{opList:new i.OperatorList,separateForm:!1,separateCanvas:!1}}async save($,U,K){return this.data.checkBox?this._saveCheckbox($,U,K):this.data.radioButton?this._saveRadioButton($,U,K):null}async _saveCheckbox($,U,K){if(!K)return null;const J=K.get(this.data.id);let Y=J==null?void 0:J.rotation,ie=J==null?void 0:J.value;if(Y===void 0&&(ie===void 0||this.data.fieldValue===this.data.exportValue===ie))return null;const re=$.xref.fetchIfRef(this.ref);if(!(re instanceof e.Dict))return null;Y===void 0&&(Y=this.rotation),ie===void 0&&(ie=this.data.fieldValue===this.data.exportValue);const Z={path:this.data.fieldName,value:ie?this.data.exportValue:""},he=e.Name.get(ie?this.data.exportValue:"Off");re.set("V",he),re.set("AS",he),re.set("M",`D:${(0,n.getModificationDate)()}`);const le=this._getMKDict(Y);le&&re.set("MK",le);const te=[];return await(0,F.writeObject)(this.ref,re,te,$.xref),[{ref:this.ref,data:te.join(""),xfa:Z}]}async _saveRadioButton($,U,K){if(!K)return null;const J=K.get(this.data.id);let Y=J==null?void 0:J.rotation,ie=J==null?void 0:J.value;if(Y===void 0&&(ie===void 0||this.data.fieldValue===this.data.buttonValue===ie))return null;const re=$.xref.fetchIfRef(this.ref);if(!(re instanceof e.Dict))return null;ie===void 0&&(ie=this.data.fieldValue===this.data.buttonValue),Y===void 0&&(Y=this.rotation);const Z={path:this.data.fieldName,value:ie?this.data.buttonValue:""},he=e.Name.get(ie?this.data.buttonValue:"Off"),le=[];let te=null;if(ie)if(this.parent instanceof e.Ref){const ye=$.xref.fetch(this.parent);ye.set("V",he),await(0,F.writeObject)(this.parent,ye,le,$.xref),te=le.join(""),le.length=0}else this.parent instanceof e.Dict&&this.parent.set("V",he);re.set("AS",he),re.set("M",`D:${(0,n.getModificationDate)()}`);const ue=this._getMKDict(Y);ue&&re.set("MK",ue),await(0,F.writeObject)(this.ref,re,le,$.xref);const ge=[{ref:this.ref,data:le.join(""),xfa:Z}];return te&&ge.push({ref:this.parent,data:te,xfa:null}),ge}_getDefaultCheckedAppearance($,U){const K=this.data.rect[2]-this.data.rect[0],J=this.data.rect[3]-this.data.rect[1],Y=[0,0,K,J],ie=.8,re=Math.min(K,J)*ie;let Z,he;U==="check"?(Z={width:.755*re,height:.705*re},he="3"):U==="disc"?(Z={width:.791*re,height:.705*re},he="l"):(0,n.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${U}`);const le=(0,S.numberToString)((K-Z.width)/2),te=(0,S.numberToString)((J-Z.height)/2),ue=`q BT /PdfJsZaDb ${re} Tf 0 g ${le} ${te} Td (${he}) Tj ET Q`,ge=new e.Dict($.xref);ge.set("FormType",1),ge.set("Subtype",e.Name.get("Form")),ge.set("Type",e.Name.get("XObject")),ge.set("BBox",Y),ge.set("Matrix",[1,0,0,1,0,0]),ge.set("Length",ue.length);const ye=new e.Dict($.xref),Ee=new e.Dict($.xref);Ee.set("PdfJsZaDb",this.fallbackFontDict),ye.set("Font",Ee),ge.set("Resources",ye),this.checkedAppearance=new t.StringStream(ue),this.checkedAppearance.dict=ge,this._streams.push(this.checkedAppearance)}_processCheckBox($){const U=$.dict.get("AP");if(!(U instanceof e.Dict))return;const K=U.get("N");if(!(K instanceof e.Dict))return;const J=this._decodeFormValue($.dict.get("AS"));typeof J=="string"&&(this.data.fieldValue=J);const Y=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",ie=K.getKeys();if(ie.length===0)ie.push("Off",Y);else if(ie.length===1)ie[0]==="Off"?ie.push(Y):ie.unshift("Off");else if(ie.includes(Y))ie.length=0,ie.push("Off",Y);else{const he=ie.find(le=>le!=="Off");ie.length=0,ie.push("Off",he)}ie.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=ie[1];const re=K.get(this.data.exportValue);this.checkedAppearance=re instanceof r.BaseStream?re:null;const Z=K.get("Off");this.uncheckedAppearance=Z instanceof r.BaseStream?Z:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance($,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processRadioButton($){this.data.fieldValue=this.data.buttonValue=null;const U=$.dict.get("Parent");if(U instanceof e.Dict){this.parent=$.dict.getRaw("Parent");const re=U.get("V");re instanceof e.Name&&(this.data.fieldValue=this._decodeFormValue(re))}const K=$.dict.get("AP");if(!(K instanceof e.Dict))return;const J=K.get("N");if(!(J instanceof e.Dict))return;for(const re of J.getKeys())if(re!=="Off"){this.data.buttonValue=this._decodeFormValue(re);break}const Y=J.get(this.data.buttonValue);this.checkedAppearance=Y instanceof r.BaseStream?Y:null;const ie=J.get("Off");this.uncheckedAppearance=ie instanceof r.BaseStream?ie:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance($,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processPushButton($){const{dict:U,annotationGlobals:K}=$;if(!U.has("A")&&!U.has("AA")&&!this.data.alternativeText){(0,n.warn)("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!U.has("A")&&!U.has("AA"),j.Catalog.parseDestDictionary({destDict:U,resultObj:this.data,docBaseUrl:K.baseUrl,docAttachments:K.attachments})}getFieldObject(){let $="button",U;return this.data.checkBox?($="checkbox",U=this.data.exportValue):this.data.radioButton&&($="radiobutton",U=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:U,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:$}}get fallbackFontDict(){const $=new e.Dict;return $.set("BaseFont",e.Name.get("ZapfDingbats")),$.set("Type",e.Name.get("FallbackType")),$.set("Subtype",e.Name.get("FallbackType")),$.set("Encoding",e.Name.get("ZapfDingbatsEncoding")),(0,n.shadow)(this,"fallbackFontDict",$)}}class g extends x{constructor($){super($);const{dict:U,xref:K}=$;this.indices=U.getArray("I"),this.hasIndices=Array.isArray(this.indices)&&this.indices.length>0,this.data.options=[];const J=(0,S.getInheritableProperty)({dict:U,key:"Opt"});if(Array.isArray(J))for(let Y=0,ie=J.length;Y<ie;Y++){const re=K.fetchIfRef(J[Y]),Z=Array.isArray(re);this.data.options[Y]={exportValue:this._decodeFormValue(Z?K.fetchIfRef(re[0]):re),displayValue:this._decodeFormValue(Z?K.fetchIfRef(re[1]):re)}}if(!this.hasIndices)typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]);else{this.data.fieldValue=[];const Y=this.data.options.length;for(const ie of this.indices)Number.isInteger(ie)&&ie>=0&&ie<Y&&this.data.fieldValue.push(this.data.options[ie].exportValue)}this.data.combo=this.hasFieldFlag(n.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(n.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const $=this.data.combo?"combobox":"listbox",U=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:U,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:$}}amendSavedDict($,U){var ie;if(!this.hasIndices)return;let K=(ie=$==null?void 0:$.get(this.data.id))==null?void 0:ie.value;Array.isArray(K)||(K=[K]);const J=[],{options:Y}=this.data;for(let re=0,Z=0,he=Y.length;re<he;re++)Y[re].exportValue===K[Z]&&(J.push(re),Z+=1);U.set("I",J)}async _getAppearance($,U,K,J){if(this.data.combo)return super._getAppearance($,U,K,J);let Y,ie;const re=J==null?void 0:J.get(this.data.id);if(re&&(ie=re.rotation,Y=re.value),ie===void 0&&Y===void 0&&!this._needAppearances)return null;Y===void 0?Y=this.data.fieldValue:Array.isArray(Y)||(Y=[Y]);const Z=1,he=2;let le=this.data.rect[3]-this.data.rect[1],te=this.data.rect[2]-this.data.rect[0];(ie===90||ie===270)&&([te,le]=[le,te]);const ue=this.data.options.length,ge=[];for(let be=0;be<ue;be++){const{exportValue:Ce}=this.data.options[be];Y.includes(Ce)&&ge.push(be)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,N.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const ye=await x._getFontData($,U,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let Ee,{fontSize:Oe}=this.data.defaultAppearanceData;if(Oe)Ee=this._defaultAppearance;else{const be=(le-Z)/ue;let Ce=-1,$e;for(const{displayValue:Pe}of this.data.options){const ze=this._getTextWidth(Pe,ye);ze>Ce&&(Ce=ze,$e=Pe)}[Ee,Oe]=this._computeFontSize(be,te-2*he,$e,ye,-1)}const ve=Oe*n.LINE_FACTOR,Se=(ve-Oe)/2,Ae=Math.floor(le/ve);let ke=0;if(ge.length>0){const be=Math.min(...ge),Ce=Math.max(...ge);ke=Math.max(0,Ce-Ae+1),ke>be&&(ke=be)}const _e=Math.min(ke+Ae+1,ue),je=["/Tx BMC q",`1 1 ${te} ${le} re W n`];if(ge.length){je.push("0.600006 0.756866 0.854904 rg");for(const be of ge)ke<=be&&be<_e&&je.push(`1 ${le-(be-ke+1)*ve} ${te} ${ve} re f`)}je.push("BT",Ee,`1 0 0 1 0 ${le} Tm`);const Re={shift:0};for(let be=ke;be<_e;be++){const{displayValue:Ce}=this.data.options[be],$e=be===ke?Se:0;je.push(this._renderText(Ce,ye,Oe,te,0,Re,he,-ve+$e))}return je.push("ET Q EMC"),je.join(`
`)}}class P extends x{constructor($){super($),this.data.fieldValue=null,this.data.hasOwnCanvas=this.data.noRotate}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class G extends l{constructor($){super($),this.data.noRotate=!0,this.data.hasOwnCanvas=this.data.noRotate;const{dict:K}=$;this.data.annotationType=n.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=K.has("Name")?K.get("Name").name:"Note"),K.has("State")?(this.data.state=K.get("State")||null,this.data.stateModel=K.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class D extends k{constructor($){var Y;super($);const{dict:U,annotationGlobals:K}=$;this.data.annotationType=n.AnnotationType.LINK;const J=B(U,this.rectangle);J&&(this.data.quadPoints=J),(Y=this.data).borderColor||(Y.borderColor=this.data.color),j.Catalog.parseDestDictionary({destDict:U,resultObj:this.data,docBaseUrl:K.baseUrl,docAttachments:K.attachments})}}class w extends k{constructor($){super($);const{dict:U}=$;this.data.annotationType=n.AnnotationType.POPUP,(this.data.rect[0]===this.data.rect[2]||this.data.rect[1]===this.data.rect[3])&&(this.data.rect=null);let K=U.get("Parent");if(!K){(0,n.warn)("Popup annotation has a missing or invalid parent annotation.");return}const J=K.getArray("Rect");this.data.parentRect=Array.isArray(J)&&J.length===4?n.Util.normalizeRect(J):null;const Y=K.get("RT");if((0,e.isName)(Y,n.AnnotationReplyType.GROUP)&&(K=K.get("IRT")),K.has("M")?(this.setModificationDate(K.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,K.has("C")?(this.setColor(K.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const ie=K.get("F");this._isViewable(ie)&&this.setFlags(ie)}this.setTitle(K.get("T")),this.data.titleObj=this._title,this.setContents(K.get("Contents")),this.data.contentsObj=this._contents,K.has("RC")&&(this.data.richText=C.XFAFactory.getRichTextAsHtml(K.get("RC"))),this.data.open=!!U.get("Open")}}m.PopupAnnotation=w;class A extends l{constructor($){var J;super($),this.data.hasOwnCanvas=!0;const{evaluatorOptions:U,xref:K}=$;if(this.data.annotationType=n.AnnotationType.FREETEXT,this.setDefaultAppearance($),this.appearance){const{fontColor:Y,fontSize:ie}=(0,N.parseAppearanceStream)(this.appearance,U,K);this.data.defaultAppearanceData.fontColor=Y,this.data.defaultAppearanceData.fontSize=ie||10}else if(this._isOffscreenCanvasSupported){const Y=$.dict.get("CA"),ie=new N.FakeUnicodeFont(K,"sans-serif");(J=this.data.defaultAppearanceData).fontSize||(J.fontSize=10);const{fontColor:re,fontSize:Z}=this.data.defaultAppearanceData;this.appearance=ie.createAppearance(this._contents.str,this.rectangle,this.rotation,Z,re,Y),this._streams.push(this.appearance,N.FakeUnicodeFont.toUnicodeStream)}else(0,n.warn)("FreeTextAnnotation: OffscreenCanvas is not supported, annotation may not render correctly.")}get hasTextContent(){return!!this.appearance}static createNewDict($,U,{apRef:K,ap:J}){const{color:Y,fontSize:ie,rect:re,rotation:Z,user:he,value:le}=$,te=new e.Dict(U);te.set("Type",e.Name.get("Annot")),te.set("Subtype",e.Name.get("FreeText")),te.set("CreationDate",`D:${(0,n.getModificationDate)()}`),te.set("Rect",re);const ue=`/Helv ${ie} Tf ${(0,N.getPdfColor)(Y,!0)}`;if(te.set("DA",ue),te.set("Contents",(0,S.isAscii)(le)?le:(0,S.stringToUTF16String)(le,!0)),te.set("F",4),te.set("Border",[0,0,0]),te.set("Rotate",Z),he&&te.set("T",(0,S.isAscii)(he)?he:(0,S.stringToUTF16String)(he,!0)),K||J){const ge=new e.Dict(U);te.set("AP",ge),K?ge.set("N",K):ge.set("N",J)}return te}static async createNewAppearanceStream($,U,K){const{baseFontRef:J,evaluator:Y,task:ie}=K,{color:re,fontSize:Z,rect:he,rotation:le,value:te}=$,ue=new e.Dict(U),ge=new e.Dict(U);if(J)ge.set("Helv",J);else{const Ue=new e.Dict(U);Ue.set("BaseFont",e.Name.get("Helvetica")),Ue.set("Type",e.Name.get("Font")),Ue.set("Subtype",e.Name.get("Type1")),Ue.set("Encoding",e.Name.get("WinAnsiEncoding")),ge.set("Helv",Ue)}ue.set("Font",ge);const ye=await x._getFontData(Y,ie,{fontName:"Helv",fontSize:Z},ue),[Ee,Oe,ve,Se]=he;let Ae=ve-Ee,ke=Se-Oe;le%180!==0&&([Ae,ke]=[ke,Ae]);const _e=te.split(`
`),je=Z/1e3;let Re=-1/0;const be=[];for(let Ue of _e){const Ze=ye.encodeString(Ue);if(Ze.length>1)return null;Ue=Ze.join(""),be.push(Ue);let Ke=0;const qe=ye.charsToGlyphs(Ue);for(const tt of qe)Ke+=tt.width*je;Re=Math.max(Re,Ke)}let Ce=1;Re>Ae&&(Ce=Ae/Re);let $e=1;const Pe=n.LINE_FACTOR*Z,ze=(n.LINE_FACTOR-n.LINE_DESCENT_FACTOR)*Z,We=Pe*_e.length;We>ke&&($e=ke/We);const ut=Math.min(Ce,$e),Le=Z*ut;let rt,Qe,Fe;switch(le){case 0:Fe=[1,0,0,1],Qe=[he[0],he[1],Ae,ke],rt=[he[0],he[3]-ze];break;case 90:Fe=[0,1,-1,0],Qe=[he[1],-he[2],Ae,ke],rt=[he[1],-he[0]-ze];break;case 180:Fe=[-1,0,0,-1],Qe=[-he[2],-he[3],Ae,ke],rt=[-he[2],-he[1]-ze];break;case 270:Fe=[0,-1,1,0],Qe=[-he[3],he[0],Ae,ke],rt=[-he[3],he[2]-ze];break}const me=["q",`${Fe.join(" ")} 0 0 cm`,`${Qe.join(" ")} re W n`,"BT",`${(0,N.getPdfColor)(re,!0)}`,`0 Tc /Helv ${(0,S.numberToString)(Le)} Tf`];me.push(`${rt.join(" ")} Td (${(0,S.escapeString)(be[0])}) Tj`);const Te=(0,S.numberToString)(Pe);for(let Ue=1,Ze=be.length;Ue<Ze;Ue++){const Ke=be[Ue];me.push(`0 -${Te} Td (${(0,S.escapeString)(Ke)}) Tj`)}me.push("ET","Q");const Ie=me.join(`
`),De=new e.Dict(U);De.set("FormType",1),De.set("Subtype",e.Name.get("Form")),De.set("Type",e.Name.get("XObject")),De.set("BBox",he),De.set("Resources",ue),De.set("Matrix",[1,0,0,1,-he[0],-he[1]]);const Be=new t.StringStream(Ie);return Be.dict=De,Be}}class v extends l{constructor($){super($);const{dict:U,xref:K}=$;this.data.annotationType=n.AnnotationType.LINE,this.data.hasOwnCanvas=this.data.noRotate;const J=U.getArray("L");if(this.data.lineCoordinates=n.Util.normalizeRect(J),this.setLineEndings(U.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const Y=this.color?L(this.color):[0,0,0],ie=U.get("CA"),re=b(U.getArray("IC"),null),Z=re?L(re):null,he=Z?ie:null,le=this.borderStyle.width||1,te=2*le,ue=[this.data.lineCoordinates[0]-te,this.data.lineCoordinates[1]-te,this.data.lineCoordinates[2]+te,this.data.lineCoordinates[3]+te];n.Util.intersect(this.rectangle,ue)||(this.rectangle=ue),this._setDefaultAppearance({xref:K,extra:`${le} w`,strokeColor:Y,fillColor:Z,strokeAlpha:ie,fillAlpha:he,pointsCallback:(ge,ye)=>(ge.push(`${J[0]} ${J[1]} m`,`${J[2]} ${J[3]} l`,"S"),[ye[0].x-le,ye[1].x+le,ye[3].y-le,ye[1].y+le])})}}}class o extends l{constructor($){super($);const{dict:U,xref:K}=$;if(this.data.annotationType=n.AnnotationType.SQUARE,this.data.hasOwnCanvas=this.data.noRotate,!this.appearance){const J=this.color?L(this.color):[0,0,0],Y=U.get("CA"),ie=b(U.getArray("IC"),null),re=ie?L(ie):null,Z=re?Y:null;if(this.borderStyle.width===0&&!re)return;this._setDefaultAppearance({xref:K,extra:`${this.borderStyle.width} w`,strokeColor:J,fillColor:re,strokeAlpha:Y,fillAlpha:Z,pointsCallback:(he,le)=>{const te=le[2].x+this.borderStyle.width/2,ue=le[2].y+this.borderStyle.width/2,ge=le[3].x-le[2].x-this.borderStyle.width,ye=le[1].y-le[3].y-this.borderStyle.width;return he.push(`${te} ${ue} ${ge} ${ye} re`),re?he.push("B"):he.push("S"),[le[0].x,le[1].x,le[3].y,le[1].y]}})}}}class y extends l{constructor($){super($);const{dict:U,xref:K}=$;if(this.data.annotationType=n.AnnotationType.CIRCLE,!this.appearance){const J=this.color?L(this.color):[0,0,0],Y=U.get("CA"),ie=b(U.getArray("IC"),null),re=ie?L(ie):null,Z=re?Y:null;if(this.borderStyle.width===0&&!re)return;const he=4/3*Math.tan(Math.PI/(2*4));this._setDefaultAppearance({xref:K,extra:`${this.borderStyle.width} w`,strokeColor:J,fillColor:re,strokeAlpha:Y,fillAlpha:Z,pointsCallback:(le,te)=>{const ue=te[0].x+this.borderStyle.width/2,ge=te[0].y-this.borderStyle.width/2,ye=te[3].x-this.borderStyle.width/2,Ee=te[3].y+this.borderStyle.width/2,Oe=ue+(ye-ue)/2,ve=ge+(Ee-ge)/2,Se=(ye-ue)/2*he,Ae=(Ee-ge)/2*he;return le.push(`${Oe} ${Ee} m`,`${Oe+Se} ${Ee} ${ye} ${ve+Ae} ${ye} ${ve} c`,`${ye} ${ve-Ae} ${Oe+Se} ${ge} ${Oe} ${ge} c`,`${Oe-Se} ${ge} ${ue} ${ve-Ae} ${ue} ${ve} c`,`${ue} ${ve+Ae} ${Oe-Se} ${Ee} ${Oe} ${Ee} c`,"h"),re?le.push("B"):le.push("S"),[te[0].x,te[1].x,te[3].y,te[1].y]}})}}}class c extends l{constructor($){super($);const{dict:U,xref:K}=$;this.data.annotationType=n.AnnotationType.POLYLINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.vertices=[],this instanceof h||(this.setLineEndings(U.getArray("LE")),this.data.lineEndings=this.lineEndings);const J=U.getArray("Vertices");if(Array.isArray(J)){for(let Y=0,ie=J.length;Y<ie;Y+=2)this.data.vertices.push({x:J[Y],y:J[Y+1]});if(!this.appearance){const Y=this.color?L(this.color):[0,0,0],ie=U.get("CA"),re=this.borderStyle.width||1,Z=2*re,he=[1/0,1/0,-1/0,-1/0];for(const le of this.data.vertices)he[0]=Math.min(he[0],le.x-Z),he[1]=Math.min(he[1],le.y-Z),he[2]=Math.max(he[2],le.x+Z),he[3]=Math.max(he[3],le.y+Z);n.Util.intersect(this.rectangle,he)||(this.rectangle=he),this._setDefaultAppearance({xref:K,extra:`${re} w`,strokeColor:Y,strokeAlpha:ie,pointsCallback:(le,te)=>{const ue=this.data.vertices;for(let ge=0,ye=ue.length;ge<ye;ge++)le.push(`${ue[ge].x} ${ue[ge].y} ${ge===0?"m":"l"}`);return le.push("S"),[te[0].x,te[1].x,te[3].y,te[1].y]}})}}}}class h extends c{constructor($){super($),this.data.annotationType=n.AnnotationType.POLYGON}}class O extends l{constructor($){super($),this.data.annotationType=n.AnnotationType.CARET}}class W extends l{constructor($){super($),this.data.hasOwnCanvas=this.data.noRotate;const{dict:U,xref:K}=$;this.data.annotationType=n.AnnotationType.INK,this.data.inkLists=[];const J=U.getArray("InkList");if(Array.isArray(J)){for(let Y=0,ie=J.length;Y<ie;++Y){this.data.inkLists.push([]);for(let re=0,Z=J[Y].length;re<Z;re+=2)this.data.inkLists[Y].push({x:K.fetchIfRef(J[Y][re]),y:K.fetchIfRef(J[Y][re+1])})}if(!this.appearance){const Y=this.color?L(this.color):[0,0,0],ie=U.get("CA"),re=this.borderStyle.width||1,Z=2*re,he=[1/0,1/0,-1/0,-1/0];for(const le of this.data.inkLists)for(const te of le)he[0]=Math.min(he[0],te.x-Z),he[1]=Math.min(he[1],te.y-Z),he[2]=Math.max(he[2],te.x+Z),he[3]=Math.max(he[3],te.y+Z);n.Util.intersect(this.rectangle,he)||(this.rectangle=he),this._setDefaultAppearance({xref:K,extra:`${re} w`,strokeColor:Y,strokeAlpha:ie,pointsCallback:(le,te)=>{for(const ue of this.data.inkLists){for(let ge=0,ye=ue.length;ge<ye;ge++)le.push(`${ue[ge].x} ${ue[ge].y} ${ge===0?"m":"l"}`);le.push("S")}return[te[0].x,te[1].x,te[3].y,te[1].y]}})}}}static createNewDict($,U,{apRef:K,ap:J}){const{color:Y,opacity:ie,paths:re,rect:Z,rotation:he,thickness:le}=$,te=new e.Dict(U);te.set("Type",e.Name.get("Annot")),te.set("Subtype",e.Name.get("Ink")),te.set("CreationDate",`D:${(0,n.getModificationDate)()}`),te.set("Rect",Z),te.set("InkList",re.map(ye=>ye.points)),te.set("F",4),te.set("Rotate",he);const ue=new e.Dict(U);te.set("BS",ue),ue.set("W",le),te.set("C",Array.from(Y,ye=>ye/255)),te.set("CA",ie);const ge=new e.Dict(U);return te.set("AP",ge),K?ge.set("N",K):ge.set("N",J),te}static async createNewAppearanceStream($,U,K){const{color:J,rect:Y,paths:ie,thickness:re,opacity:Z}=$,he=[`${re} w 1 J 1 j`,`${(0,N.getPdfColor)(J,!1)}`];Z!==1&&he.push("/R0 gs");const le=[];for(const{bezier:ye}of ie){le.length=0,le.push(`${(0,S.numberToString)(ye[0])} ${(0,S.numberToString)(ye[1])} m`);for(let Ee=2,Oe=ye.length;Ee<Oe;Ee+=6){const ve=ye.slice(Ee,Ee+6).map(S.numberToString).join(" ");le.push(`${ve} c`)}le.push("S"),he.push(le.join(`
`))}const te=he.join(`
`),ue=new e.Dict(U);if(ue.set("FormType",1),ue.set("Subtype",e.Name.get("Form")),ue.set("Type",e.Name.get("XObject")),ue.set("BBox",Y),ue.set("Length",te.length),Z!==1){const ye=new e.Dict(U),Ee=new e.Dict(U),Oe=new e.Dict(U);Oe.set("CA",Z),Oe.set("Type",e.Name.get("ExtGState")),Ee.set("R0",Oe),ye.set("ExtGState",Ee),ue.set("Resources",ye)}const ge=new t.StringStream(te);return ge.dict=ue,ge}}class R extends l{constructor($){var Y;super($);const{dict:U,xref:K}=$;if(this.data.annotationType=n.AnnotationType.HIGHLIGHT,this.data.quadPoints=B(U,null)){const ie=(Y=this.appearance)==null?void 0:Y.dict.get("Resources");if(!this.appearance||!(ie!=null&&ie.has("ExtGState"))){this.appearance&&(0,n.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const re=this.color?L(this.color):[1,1,0],Z=U.get("CA");this._setDefaultAppearance({xref:K,fillColor:re,blendMode:"Multiply",fillAlpha:Z,pointsCallback:(he,le)=>(he.push(`${le[0].x} ${le[0].y} m`,`${le[1].x} ${le[1].y} l`,`${le[3].x} ${le[3].y} l`,`${le[2].x} ${le[2].y} l`,"f"),[le[0].x,le[1].x,le[3].y,le[1].y])})}}else this.data.popupRef=null}}class H extends l{constructor($){super($);const{dict:U,xref:K}=$;if(this.data.annotationType=n.AnnotationType.UNDERLINE,this.data.quadPoints=B(U,null)){if(!this.appearance){const Y=this.color?L(this.color):[0,0,0],ie=U.get("CA");this._setDefaultAppearance({xref:K,extra:"[] 0 d 0.571 w",strokeColor:Y,strokeAlpha:ie,pointsCallback:(re,Z)=>(re.push(`${Z[2].x} ${Z[2].y+1.3} m`,`${Z[3].x} ${Z[3].y+1.3} l`,"S"),[Z[0].x,Z[1].x,Z[3].y,Z[1].y])})}}else this.data.popupRef=null}}class ae extends l{constructor($){super($);const{dict:U,xref:K}=$;if(this.data.annotationType=n.AnnotationType.SQUIGGLY,this.data.quadPoints=B(U,null)){if(!this.appearance){const Y=this.color?L(this.color):[0,0,0],ie=U.get("CA");this._setDefaultAppearance({xref:K,extra:"[] 0 d 1 w",strokeColor:Y,strokeAlpha:ie,pointsCallback:(re,Z)=>{const he=(Z[0].y-Z[2].y)/6;let le=he,te=Z[2].x;const ue=Z[2].y,ge=Z[3].x;re.push(`${te} ${ue+le} m`);do te+=2,le=le===0?he:0,re.push(`${te} ${ue+le} l`);while(te<ge);return re.push("S"),[Z[2].x,ge,ue-2*he,ue+2*he]}})}}else this.data.popupRef=null}}class q extends l{constructor($){super($);const{dict:U,xref:K}=$;if(this.data.annotationType=n.AnnotationType.STRIKEOUT,this.data.quadPoints=B(U,null)){if(!this.appearance){const Y=this.color?L(this.color):[0,0,0],ie=U.get("CA");this._setDefaultAppearance({xref:K,extra:"[] 0 d 1 w",strokeColor:Y,strokeAlpha:ie,pointsCallback:(re,Z)=>(re.push(`${(Z[0].x+Z[2].x)/2} ${(Z[0].y+Z[2].y)/2} m`,`${(Z[1].x+Z[3].x)/2} ${(Z[1].y+Z[3].y)/2} l`,"S"),[Z[0].x,Z[1].x,Z[3].y,Z[1].y])})}}else this.data.popupRef=null}}class ce extends l{constructor($){super($),this.data.annotationType=n.AnnotationType.STAMP,this.data.hasOwnCanvas=this.data.noRotate}static async createImage($,U){const{width:K,height:J}=$,Y=new OffscreenCanvas(K,J),ie=Y.getContext("2d",{alpha:!0});ie.drawImage($,0,0);const re=ie.getImageData(0,0,K,J).data,Z=new Uint32Array(re.buffer),he=Z.some(n.FeatureTest.isLittleEndian?Oe=>Oe>>>24!==255:Oe=>(Oe&255)!==255);he&&(ie.fillStyle="white",ie.fillRect(0,0,K,J),ie.drawImage($,0,0));const le=Y.convertToBlob({type:"image/jpeg",quality:1}).then(Oe=>Oe.arrayBuffer()),te=e.Name.get("XObject"),ue=e.Name.get("Image"),ge=new e.Dict(U);ge.set("Type",te),ge.set("Subtype",ue),ge.set("BitsPerComponent",8),ge.set("ColorSpace",e.Name.get("DeviceRGB")),ge.set("Filter",e.Name.get("DCTDecode")),ge.set("BBox",[0,0,K,J]),ge.set("Width",K),ge.set("Height",J);let ye=null;if(he){const Oe=new Uint8Array(Z.length);if(n.FeatureTest.isLittleEndian)for(let Se=0,Ae=Z.length;Se<Ae;Se++)Oe[Se]=Z[Se]>>>24;else for(let Se=0,Ae=Z.length;Se<Ae;Se++)Oe[Se]=Z[Se]&255;const ve=new e.Dict(U);ve.set("Type",te),ve.set("Subtype",ue),ve.set("BitsPerComponent",8),ve.set("ColorSpace",e.Name.get("DeviceGray")),ve.set("Width",K),ve.set("Height",J),ye=new t.Stream(Oe,0,0,ve)}return{imageStream:new t.Stream(await le,0,0,ge),smaskStream:ye,width:K,height:J}}static createNewDict($,U,{apRef:K,ap:J}){const{rect:Y,rotation:ie,user:re}=$,Z=new e.Dict(U);if(Z.set("Type",e.Name.get("Annot")),Z.set("Subtype",e.Name.get("Stamp")),Z.set("CreationDate",`D:${(0,n.getModificationDate)()}`),Z.set("Rect",Y),Z.set("F",4),Z.set("Border",[0,0,0]),Z.set("Rotate",ie),re&&Z.set("T",(0,S.isAscii)(re)?re:(0,S.stringToUTF16String)(re,!0)),K||J){const he=new e.Dict(U);Z.set("AP",he),K?he.set("N",K):he.set("N",J)}return Z}static async createNewAppearanceStream($,U,K){const{rotation:J}=$,{imageRef:Y,width:ie,height:re}=K.image,Z=new e.Dict(U),he=new e.Dict(U);Z.set("XObject",he),he.set("Im0",Y);const le=`q ${ie} 0 0 ${re} 0 0 cm /Im0 Do Q`,te=new e.Dict(U);if(te.set("FormType",1),te.set("Subtype",e.Name.get("Form")),te.set("Type",e.Name.get("XObject")),te.set("BBox",[0,0,ie,re]),te.set("Resources",Z),J){const ge=(0,S.getRotationMatrix)(J,ie,re);te.set("Matrix",ge)}const ue=new t.StringStream(le);return ue.dict=te,ue}}class ee extends l{constructor($){super($);const{dict:U,xref:K}=$,J=new I.FileSpec(U.get("FS"),K);this.data.annotationType=n.AnnotationType.FILEATTACHMENT,this.data.hasOwnCanvas=this.data.noRotate,this.data.file=J.serializable;const Y=U.get("Name");this.data.name=Y instanceof e.Name?(0,n.stringToPDFString)(Y.name):"PushPin";const ie=U.get("ca");this.data.fillAlpha=typeof ie=="number"&&ie>=0&&ie<=1?ie:null}}},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.FakeUnicodeFont=void 0,m.createDefaultAppearance=F,m.getPdfColor=i,m.parseAppearanceStream=u,m.parseDefaultAppearance=I;var n=Q(4),S=Q(3),N=Q(2),e=Q(12),t=Q(13),r=Q(59),z=Q(57),j=Q(8);class M extends t.EvaluatorPreprocessor{constructor(b){super(new j.StringStream(b))}parse(){const b={fn:0,args:[]},L={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;b.args.length=0,!!this.read(b);){if(this.savedStatesDepth!==0)continue;const{fn:B,args:V}=b;switch(B|0){case N.OPS.setFont:const[k,_]=V;k instanceof n.Name&&(L.fontName=k.name),typeof _=="number"&&_>0&&(L.fontSize=_);break;case N.OPS.setFillRGBColor:e.ColorSpace.singletons.rgb.getRgbItem(V,0,L.fontColor,0);break;case N.OPS.setFillGray:e.ColorSpace.singletons.gray.getRgbItem(V,0,L.fontColor,0);break;case N.OPS.setFillCMYKColor:e.ColorSpace.singletons.cmyk.getRgbItem(V,0,L.fontColor,0);break}}}catch(B){(0,N.warn)(`parseDefaultAppearance - ignoring errors: "${B}".`)}return L}}function I(T){return new M(T).parse()}class d extends t.EvaluatorPreprocessor{constructor(b,L,B){var V;super(b),this.stream=b,this.evaluatorOptions=L,this.xref=B,this.resources=(V=b.dict)==null?void 0:V.get("Resources")}parse(){const b={fn:0,args:[]};let L={scaleFactor:1,fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3),fillColorSpace:e.ColorSpace.singletons.gray},B=!1;const V=[];try{for(;b.args.length=0,!(B||!this.read(b));){const{fn:k,args:_}=b;switch(k|0){case N.OPS.save:V.push({scaleFactor:L.scaleFactor,fontSize:L.fontSize,fontName:L.fontName,fontColor:L.fontColor.slice(),fillColorSpace:L.fillColorSpace});break;case N.OPS.restore:L=V.pop()||L;break;case N.OPS.setTextMatrix:L.scaleFactor*=Math.hypot(_[0],_[1]);break;case N.OPS.setFont:const[l,x]=_;l instanceof n.Name&&(L.fontName=l.name),typeof x=="number"&&x>0&&(L.fontSize=x*L.scaleFactor);break;case N.OPS.setFillColorSpace:L.fillColorSpace=e.ColorSpace.parse({cs:_[0],xref:this.xref,resources:this.resources,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:this._localColorSpaceCache});break;case N.OPS.setFillColor:L.fillColorSpace.getRgbItem(_,0,L.fontColor,0);break;case N.OPS.setFillRGBColor:e.ColorSpace.singletons.rgb.getRgbItem(_,0,L.fontColor,0);break;case N.OPS.setFillGray:e.ColorSpace.singletons.gray.getRgbItem(_,0,L.fontColor,0);break;case N.OPS.setFillCMYKColor:e.ColorSpace.singletons.cmyk.getRgbItem(_,0,L.fontColor,0);break;case N.OPS.showText:case N.OPS.showSpacedText:case N.OPS.nextLineShowText:case N.OPS.nextLineSetSpacingShowText:B=!0;break}}}catch(k){(0,N.warn)(`parseAppearanceStream - ignoring errors: "${k}".`)}return this.stream.reset(),delete L.scaleFactor,delete L.fillColorSpace,L}get _localColorSpaceCache(){return(0,N.shadow)(this,"_localColorSpaceCache",new r.LocalColorSpaceCache)}get _pdfFunctionFactory(){const b=new z.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.evaluatorOptions.isEvalSupported});return(0,N.shadow)(this,"_pdfFunctionFactory",b)}}function u(T,b,L){return new d(T,b,L).parse()}function i(T,b){if(T[0]===T[1]&&T[1]===T[2]){const L=T[0]/255;return`${(0,S.numberToString)(L)} ${b?"g":"G"}`}return Array.from(T,L=>(0,S.numberToString)(L/255)).join(" ")+` ${b?"rg":"RG"}`}function F({fontSize:T,fontName:b,fontColor:L}){return`/${(0,S.escapePDFName)(b)} ${T} Tf ${i(L,!0)}`}class C{constructor(b,L){this.xref=b,this.widths=null,this.firstChar=1/0,this.lastChar=-1/0,this.fontFamily=L;const B=new OffscreenCanvas(1,1);this.ctxMeasure=B.getContext("2d"),C._fontNameId||(C._fontNameId=1),this.fontName=n.Name.get(`InvalidPDFjsFont_${L}_${C._fontNameId++}`)}get toUnicodeRef(){if(!C._toUnicodeRef){const b=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo
<< /Registry (Adobe)
/Ordering (UCS) /Supplement 0 >> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000> <FFFF>
endcodespacerange
1 beginbfrange
<0000> <FFFF> <0000>
endbfrange
endcmap CMapName currentdict /CMap defineresource pop end end`,L=C.toUnicodeStream=new j.StringStream(b),B=new n.Dict(this.xref);L.dict=B,B.set("Length",b.length),C._toUnicodeRef=this.xref.getNewPersistentRef(L)}return C._toUnicodeRef}get fontDescriptorRef(){if(!C._fontDescriptorRef){const b=new n.Dict(this.xref);b.set("Type",n.Name.get("FontDescriptor")),b.set("FontName",this.fontName),b.set("FontFamily","MyriadPro Regular"),b.set("FontBBox",[0,0,0,0]),b.set("FontStretch",n.Name.get("Normal")),b.set("FontWeight",400),b.set("ItalicAngle",0),C._fontDescriptorRef=this.xref.getNewPersistentRef(b)}return C._fontDescriptorRef}get descendantFontRef(){const b=new n.Dict(this.xref);b.set("BaseFont",this.fontName),b.set("Type",n.Name.get("Font")),b.set("Subtype",n.Name.get("CIDFontType0")),b.set("CIDToGIDMap",n.Name.get("Identity")),b.set("FirstChar",this.firstChar),b.set("LastChar",this.lastChar),b.set("FontDescriptor",this.fontDescriptorRef),b.set("DW",1e3);const L=[],B=[...this.widths.entries()].sort();let V=null,k=null;for(const[l,x]of B){if(!V){V=l,k=[x];continue}l===V+k.length?k.push(x):(L.push(V,k),V=l,k=[x])}V&&L.push(V,k),b.set("W",L);const _=new n.Dict(this.xref);return _.set("Ordering","Identity"),_.set("Registry","Adobe"),_.set("Supplement",0),b.set("CIDSystemInfo",_),this.xref.getNewPersistentRef(b)}get baseFontRef(){const b=new n.Dict(this.xref);return b.set("BaseFont",this.fontName),b.set("Type",n.Name.get("Font")),b.set("Subtype",n.Name.get("Type0")),b.set("Encoding",n.Name.get("Identity-H")),b.set("DescendantFonts",[this.descendantFontRef]),b.set("ToUnicode",this.toUnicodeRef),this.xref.getNewPersistentRef(b)}get resources(){const b=new n.Dict(this.xref),L=new n.Dict(this.xref);return L.set(this.fontName.name,this.baseFontRef),b.set("Font",L),b}_createContext(){return this.widths=new Map,this.ctxMeasure.font=`1000px ${this.fontFamily}`,this.ctxMeasure}createFontResources(b){const L=this._createContext();for(const B of b.split(/\r\n?|\n/))for(const V of B.split("")){const k=V.charCodeAt(0);if(this.widths.has(k))continue;const _=L.measureText(V),l=Math.ceil(_.width);this.widths.set(k,l),this.firstChar=Math.min(k,this.firstChar),this.lastChar=Math.max(k,this.lastChar)}return this.resources}createAppearance(b,L,B,V,k,_){const l=this._createContext(),x=[];let X=-1/0;for(const ee of b.split(/\r\n?|\n/)){x.push(ee);const se=l.measureText(ee).width;X=Math.max(X,se);for(const $ of ee.split("")){const U=$.charCodeAt(0);let K=this.widths.get(U);if(K===void 0){const J=l.measureText($);K=Math.ceil(J.width),this.widths.set(U,K),this.firstChar=Math.min(U,this.firstChar),this.lastChar=Math.max(U,this.lastChar)}}}X*=V/1e3;const[a,g,P,G]=L;let D=P-a,w=G-g;B%180!==0&&([D,w]=[w,D]);let A=1;X>D&&(A=D/X);let v=1;const o=N.LINE_FACTOR*V,y=N.LINE_DESCENT_FACTOR*V,c=o*x.length;c>w&&(v=w/c);const h=Math.min(A,v),O=V*h,W=["q",`0 0 ${(0,S.numberToString)(D)} ${(0,S.numberToString)(w)} re W n`,"BT",`1 0 0 1 0 ${(0,S.numberToString)(w+y)} Tm 0 Tc ${i(k,!0)}`,`/${this.fontName.name} ${(0,S.numberToString)(O)} Tf`],{resources:R}=this;if(_=typeof _=="number"&&_>=0&&_<=1?_:1,_!==1){W.push("/R0 gs");const ee=new n.Dict(this.xref),se=new n.Dict(this.xref);se.set("ca",_),se.set("CA",_),se.set("Type",n.Name.get("ExtGState")),ee.set("R0",se),R.set("ExtGState",ee)}const H=(0,S.numberToString)(o);for(const ee of x)W.push(`0 -${H} Td <${(0,S.stringToUTF16HexString)(ee)}> Tj`);W.push("ET","Q");const ae=W.join(`
`),q=new n.Dict(this.xref);if(q.set("Subtype",n.Name.get("Form")),q.set("Type",n.Name.get("XObject")),q.set("BBox",[0,0,D,w]),q.set("Length",ae.length),q.set("Resources",R),B){const ee=(0,S.getRotationMatrix)(B,D,w);q.set("Matrix",ee)}const ce=new j.StringStream(ae);return ce.dict=q,ce}}m.FakeUnicodeFont=C},(xe,m,Q)=>{var T,Yi,L,Ji,V,k,_,l,x,X,a,g,P,gn,D,Ls,A,Bs,o,Vn,c,pn,O,mn,R,$s,ae,js,ce,Us,se,Zi,K,qn,Y,Kn,re,Qi;Object.defineProperty(m,"__esModule",{value:!0}),m.ColorSpace=void 0;var n=Q(2),S=Q(4),N=Q(5),e=Q(3);function t(he,le,te,ue,ge,ye,Ee){Ee=Ee!==1?0:Ee;const ve=te/ge,Se=ue/ye;let Ae=0,ke;const _e=new Uint16Array(ge),je=te*3;for(let Re=0;Re<ge;Re++)_e[Re]=Math.floor(Re*ve)*3;for(let Re=0;Re<ye;Re++){const be=Math.floor(Re*Se)*je;for(let Ce=0;Ce<ge;Ce++)ke=be+_e[Ce],le[Ae++]=he[ke++],le[Ae++]=he[ke++],le[Ae++]=he[ke++],Ae+=Ee}}class r{constructor(le,te){this.constructor===r&&(0,n.unreachable)("Cannot initialize ColorSpace."),this.name=le,this.numComps=te}getRgb(le,te){const ue=new Uint8ClampedArray(3);return this.getRgbItem(le,te,ue,0),ue}getRgbItem(le,te,ue,ge){(0,n.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(le,te,ue,ge,ye,Ee,Oe){(0,n.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(le,te){(0,n.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(le){return!1}isDefaultDecode(le,te){return r.isDefaultDecode(le,this.numComps)}fillRgb(le,te,ue,ge,ye,Ee,Oe,ve,Se){const Ae=te*ue;let ke=null;const _e=1<<Oe,je=ue!==ye||te!==ge;if(this.isPassthrough(Oe))ke=ve;else if(this.numComps===1&&Ae>_e&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const Re=Oe<=8?new Uint8Array(_e):new Uint16Array(_e);for(let Ce=0;Ce<_e;Ce++)Re[Ce]=Ce;const be=new Uint8ClampedArray(_e*3);if(this.getRgbBuffer(Re,0,_e,be,0,Oe,0),je){ke=new Uint8Array(Ae*3);let Ce=0;for(let $e=0;$e<Ae;++$e){const Pe=ve[$e]*3;ke[Ce++]=be[Pe],ke[Ce++]=be[Pe+1],ke[Ce++]=be[Pe+2]}}else{let Ce=0;for(let $e=0;$e<Ae;++$e){const Pe=ve[$e]*3;le[Ce++]=be[Pe],le[Ce++]=be[Pe+1],le[Ce++]=be[Pe+2],Ce+=Se}}}else je?(ke=new Uint8ClampedArray(Ae*3),this.getRgbBuffer(ve,0,Ae,ke,0,Oe,0)):this.getRgbBuffer(ve,0,ge*Ee,le,0,Oe,Se);if(ke)if(je)t(ke,le,te,ue,ge,ye,Se);else{let Re=0,be=0;for(let Ce=0,$e=ge*Ee;Ce<$e;Ce++)le[Re++]=ke[be++],le[Re++]=ke[be++],le[Re++]=ke[be++],Re+=Se}}get usesZeroToOneRange(){return(0,n.shadow)(this,"usesZeroToOneRange",!0)}static _cache(le,te,ue,ge){if(!ue)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!ge)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let ye,Ee;le instanceof S.Ref&&(Ee=le,le=te.fetch(le)),le instanceof S.Name&&(ye=le.name),(ye||Ee)&&ue.set(ye,Ee,ge)}static getCached(le,te,ue){if(!ue)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(le instanceof S.Ref){const ge=ue.getByRef(le);if(ge)return ge;try{le=te.fetch(le)}catch(ye){if(ye instanceof e.MissingDataException)throw ye}}if(le instanceof S.Name){const ge=ue.getByName(le.name);if(ge)return ge}return null}static async parseAsync({cs:le,xref:te,resources:ue=null,pdfFunctionFactory:ge,localColorSpaceCache:ye}){const Ee=this._parse(le,te,ue,ge);return this._cache(le,te,ye,Ee),Ee}static parse({cs:le,xref:te,resources:ue=null,pdfFunctionFactory:ge,localColorSpaceCache:ye}){const Ee=this.getCached(le,te,ye);if(Ee)return Ee;const Oe=this._parse(le,te,ue,ge);return this._cache(le,te,ye,Oe),Oe}static _parse(le,te,ue=null,ge){if(le=te.fetchIfRef(le),le instanceof S.Name)switch(le.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new j(null);default:if(ue instanceof S.Dict){const ye=ue.get("ColorSpace");if(ye instanceof S.Dict){const Ee=ye.get(le.name);if(Ee){if(Ee instanceof S.Name)return this._parse(Ee,te,ue,ge);le=Ee;break}}}throw new n.FormatError(`Unrecognized ColorSpace: ${le.name}`)}if(Array.isArray(le)){const ye=te.fetchIfRef(le[0]).name;let Ee,Oe,ve,Se,Ae,ke;switch(ye){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return Ee=te.fetchIfRef(le[1]),Se=Ee.getArray("WhitePoint"),Ae=Ee.getArray("BlackPoint"),ke=Ee.get("Gamma"),new i(Se,Ae,ke);case"CalRGB":Ee=te.fetchIfRef(le[1]),Se=Ee.getArray("WhitePoint"),Ae=Ee.getArray("BlackPoint"),ke=Ee.getArray("Gamma");const _e=Ee.getArray("Matrix");return new F(Se,Ae,ke,_e);case"ICCBased":const Re=te.fetchIfRef(le[1]).dict;Oe=Re.get("N");const be=Re.get("Alternate");if(be){const ut=this._parse(be,te,ue,ge);if(ut.numComps===Oe)return ut;(0,n.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(Oe===1)return this.singletons.gray;if(Oe===3)return this.singletons.rgb;if(Oe===4)return this.singletons.cmyk;break;case"Pattern":return ve=le[1]||null,ve&&(ve=this._parse(ve,te,ue,ge)),new j(ve);case"I":case"Indexed":ve=this._parse(le[1],te,ue,ge);const Ce=te.fetchIfRef(le[2])+1,$e=te.fetchIfRef(le[3]);return new M(ve,Ce,$e);case"Separation":case"DeviceN":const Pe=te.fetchIfRef(le[1]);Oe=Array.isArray(Pe)?Pe.length:1,ve=this._parse(le[2],te,ue,ge);const ze=ge.create(le[3]);return new z(Oe,ve,ze);case"Lab":Ee=te.fetchIfRef(le[1]),Se=Ee.getArray("WhitePoint"),Ae=Ee.getArray("BlackPoint");const We=Ee.getArray("Range");return new C(Se,Ae,We);default:throw new n.FormatError(`Unimplemented ColorSpace object: ${ye}`)}}throw new n.FormatError(`Unrecognized ColorSpace object: ${le}`)}static isDefaultDecode(le,te){if(!Array.isArray(le))return!0;if(te*2!==le.length)return(0,n.warn)("The decode map is not the correct length"),!0;for(let ue=0,ge=le.length;ue<ge;ue+=2)if(le[ue]!==0||le[ue+1]!==1)return!1;return!0}static get singletons(){return(0,n.shadow)(this,"singletons",{get gray(){return(0,n.shadow)(this,"gray",new I)},get rgb(){return(0,n.shadow)(this,"rgb",new d)},get cmyk(){return(0,n.shadow)(this,"cmyk",new u)}})}}m.ColorSpace=r;class z extends r{constructor(le,te,ue){super("Alternate",le),this.base=te,this.tintFn=ue,this.tmpBuf=new Float32Array(te.numComps)}getRgbItem(le,te,ue,ge){const ye=this.tmpBuf;this.tintFn(le,te,ye,0),this.base.getRgbItem(ye,0,ue,ge)}getRgbBuffer(le,te,ue,ge,ye,Ee,Oe){const ve=this.tintFn,Se=this.base,Ae=1/((1<<Ee)-1),ke=Se.numComps,_e=Se.usesZeroToOneRange,je=(Se.isPassthrough(8)||!_e)&&Oe===0;let Re=je?ye:0;const be=je?ge:new Uint8ClampedArray(ke*ue),Ce=this.numComps,$e=new Float32Array(Ce),Pe=new Float32Array(ke);let ze,We;for(ze=0;ze<ue;ze++){for(We=0;We<Ce;We++)$e[We]=le[te++]*Ae;if(ve($e,0,Pe,0),_e)for(We=0;We<ke;We++)be[Re++]=Pe[We]*255;else Se.getRgbItem(Pe,0,be,Re),Re+=ke}je||Se.getRgbBuffer(be,0,ue,ge,ye,8,Oe)}getOutputLength(le,te){return this.base.getOutputLength(le*this.base.numComps/this.numComps,te)}}class j extends r{constructor(le){super("Pattern",null),this.base=le}isDefaultDecode(le,te){(0,n.unreachable)("Should not call PatternCS.isDefaultDecode")}}class M extends r{constructor(le,te,ue){super("Indexed",1),this.base=le,this.highVal=te;const ge=le.numComps*te;if(this.lookup=new Uint8Array(ge),ue instanceof N.BaseStream){const ye=ue.getBytes(ge);this.lookup.set(ye)}else if(typeof ue=="string")for(let ye=0;ye<ge;++ye)this.lookup[ye]=ue.charCodeAt(ye)&255;else throw new n.FormatError(`IndexedCS - unrecognized lookup table: ${ue}`)}getRgbItem(le,te,ue,ge){const ye=this.base.numComps,Ee=le[te]*ye;this.base.getRgbBuffer(this.lookup,Ee,1,ue,ge,8,0)}getRgbBuffer(le,te,ue,ge,ye,Ee,Oe){const ve=this.base,Se=ve.numComps,Ae=ve.getOutputLength(Se,Oe),ke=this.lookup;for(let _e=0;_e<ue;++_e){const je=le[te++]*Se;ve.getRgbBuffer(ke,je,1,ge,ye,8,Oe),ye+=Ae}}getOutputLength(le,te){return this.base.getOutputLength(le*this.base.numComps,te)}isDefaultDecode(le,te){return Array.isArray(le)?le.length!==2?((0,n.warn)("Decode map length is not correct"),!0):!Number.isInteger(te)||te<1?((0,n.warn)("Bits per component is not correct"),!0):le[0]===0&&le[1]===(1<<te)-1:!0}}class I extends r{constructor(){super("DeviceGray",1)}getRgbItem(le,te,ue,ge){const ye=le[te]*255;ue[ge]=ue[ge+1]=ue[ge+2]=ye}getRgbBuffer(le,te,ue,ge,ye,Ee,Oe){const ve=255/((1<<Ee)-1);let Se=te,Ae=ye;for(let ke=0;ke<ue;++ke){const _e=ve*le[Se++];ge[Ae++]=_e,ge[Ae++]=_e,ge[Ae++]=_e,Ae+=Oe}}getOutputLength(le,te){return le*(3+te)}}class d extends r{constructor(){super("DeviceRGB",3)}getRgbItem(le,te,ue,ge){ue[ge]=le[te]*255,ue[ge+1]=le[te+1]*255,ue[ge+2]=le[te+2]*255}getRgbBuffer(le,te,ue,ge,ye,Ee,Oe){if(Ee===8&&Oe===0){ge.set(le.subarray(te,te+ue*3),ye);return}const ve=255/((1<<Ee)-1);let Se=te,Ae=ye;for(let ke=0;ke<ue;++ke)ge[Ae++]=ve*le[Se++],ge[Ae++]=ve*le[Se++],ge[Ae++]=ve*le[Se++],Ae+=Oe}getOutputLength(le,te){return le*(3+te)/3|0}isPassthrough(le){return le===8}}class u extends r{constructor(){super("DeviceCMYK",4);Me(this,T)}getRgbItem(te,ue,ge,ye){Ne(this,T,Yi).call(this,te,ue,1,ge,ye)}getRgbBuffer(te,ue,ge,ye,Ee,Oe,ve){const Se=1/((1<<Oe)-1);for(let Ae=0;Ae<ge;Ae++)Ne(this,T,Yi).call(this,te,ue,Se,ye,Ee),ue+=4,Ee+=3+ve}getOutputLength(te,ue){return te/4*(3+ue)|0}}T=new WeakSet,Yi=function(te,ue,ge,ye,Ee){const Oe=te[ue]*ge,ve=te[ue+1]*ge,Se=te[ue+2]*ge,Ae=te[ue+3]*ge;ye[Ee]=255+Oe*(-4.387332384609988*Oe+54.48615194189176*ve+18.82290502165302*Se+212.25662451639585*Ae+-285.2331026137004)+ve*(1.7149763477362134*ve-5.6096736904047315*Se+-17.873870861415444*Ae-5.497006427196366)+Se*(-2.5217340131683033*Se-21.248923337353073*Ae+17.5119270841813)+Ae*(-21.86122147463605*Ae-189.48180835922747),ye[Ee+1]=255+Oe*(8.841041422036149*Oe+60.118027045597366*ve+6.871425592049007*Se+31.159100130055922*Ae+-79.2970844816548)+ve*(-15.310361306967817*ve+17.575251261109482*Se+131.35250912493976*Ae-190.9453302588951)+Se*(4.444339102852739*Se+9.8632861493405*Ae-24.86741582555878)+Ae*(-20.737325471181034*Ae-187.80453709719578),ye[Ee+2]=255+Oe*(.8842522430003296*Oe+8.078677503112928*ve+30.89978309703729*Se-.23883238689178934*Ae+-14.183576799673286)+ve*(10.49593273432072*ve+63.02378494754052*Se+50.606957656360734*Ae-112.23884253719248)+Se*(.03296041114873217*Se+115.60384449646641*Ae+-193.58209356861505)+Ae*(-22.33816807309886*Ae-180.12613974708367)};class i extends r{constructor(te,ue,ge){super("CalGray",1);Me(this,L);if(!te)throw new n.FormatError("WhitePoint missing - required for color space CalGray");if([this.XW,this.YW,this.ZW]=te,[this.XB,this.YB,this.ZB]=ue||[0,0,0],this.G=ge||1,this.XW<0||this.ZW<0||this.YW!==1)throw new n.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,n.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&(0,n.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,n.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(te,ue,ge,ye){Ne(this,L,Ji).call(this,te,ue,ge,ye,1)}getRgbBuffer(te,ue,ge,ye,Ee,Oe,ve){const Se=1/((1<<Oe)-1);for(let Ae=0;Ae<ge;++Ae)Ne(this,L,Ji).call(this,te,ue,ye,Ee,Se),ue+=1,Ee+=3+ve}getOutputLength(te,ue){return te*(3+ue)}}L=new WeakSet,Ji=function(te,ue,ge,ye,Ee){const ve=(te[ue]*Ee)**this.G,Se=this.YW*ve,Ae=Math.max(295.8*Se**.3333333333333333-40.8,0);ge[ye]=Ae,ge[ye+1]=Ae,ge[ye+2]=Ae};const U=class U extends r{constructor(te,ue,ge,ye){super("CalRGB",3);Me(this,P);Me(this,D);Me(this,A);Me(this,o);Me(this,c);Me(this,O);Me(this,R);Me(this,ae);Me(this,ce);Me(this,se);if(!te)throw new n.FormatError("WhitePoint missing - required for color space CalRGB");const[Ee,Oe,ve]=this.whitePoint=te,[Se,Ae,ke]=this.blackPoint=ue||new Float32Array(3);if([this.GR,this.GG,this.GB]=ge||new Float32Array([1,1,1]),[this.MXA,this.MYA,this.MZA,this.MXB,this.MYB,this.MZB,this.MXC,this.MYC,this.MZC]=ye||new Float32Array([1,0,0,0,1,0,0,0,1]),Ee<0||ve<0||Oe!==1)throw new n.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(Se<0||Ae<0||ke<0)&&((0,n.info)(`Invalid BlackPoint for ${this.name} [${Se}, ${Ae}, ${ke}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,n.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(te,ue,ge,ye){Ne(this,se,Zi).call(this,te,ue,ge,ye,1)}getRgbBuffer(te,ue,ge,ye,Ee,Oe,ve){const Se=1/((1<<Oe)-1);for(let Ae=0;Ae<ge;++Ae)Ne(this,se,Zi).call(this,te,ue,ye,Ee,Se),ue+=3,Ee+=3+ve}getOutputLength(te,ue){return te*(3+ue)/3|0}};V=new WeakMap,k=new WeakMap,_=new WeakMap,l=new WeakMap,x=new WeakMap,X=new WeakMap,a=new WeakMap,g=new WeakMap,P=new WeakSet,gn=function(te,ue,ge){ge[0]=te[0]*ue[0]+te[1]*ue[1]+te[2]*ue[2],ge[1]=te[3]*ue[0]+te[4]*ue[1]+te[5]*ue[2],ge[2]=te[6]*ue[0]+te[7]*ue[1]+te[8]*ue[2]},D=new WeakSet,Ls=function(te,ue,ge){ge[0]=ue[0]*1/te[0],ge[1]=ue[1]*1/te[1],ge[2]=ue[2]*1/te[2]},A=new WeakSet,Bs=function(te,ue,ge){ge[0]=ue[0]*.95047/te[0],ge[1]=ue[1]*1/te[1],ge[2]=ue[2]*1.08883/te[2]},o=new WeakSet,Vn=function(te){return te<=.0031308?Ne(this,c,pn).call(this,0,1,12.92*te):te>=.99554525?1:Ne(this,c,pn).call(this,0,1,1.055*te**.4166666666666667-.055)},c=new WeakSet,pn=function(te,ue,ge){return Math.max(te,Math.min(ue,ge))},O=new WeakSet,mn=function(te){return te<0?-Ne(this,O,mn).call(this,-te):te>8?((te+16)/116)**3:te*pe(U,g)},R=new WeakSet,$s=function(te,ue,ge){if(te[0]===0&&te[1]===0&&te[2]===0){ge[0]=ue[0],ge[1]=ue[1],ge[2]=ue[2];return}const ye=Ne(this,O,mn).call(this,0),Ee=ye,Oe=Ne(this,O,mn).call(this,te[0]),ve=ye,Se=Ne(this,O,mn).call(this,te[1]),Ae=ye,ke=Ne(this,O,mn).call(this,te[2]),_e=(1-Ee)/(1-Oe),je=1-_e,Re=(1-ve)/(1-Se),be=1-Re,Ce=(1-Ae)/(1-ke),$e=1-Ce;ge[0]=ue[0]*_e+je,ge[1]=ue[1]*Re+be,ge[2]=ue[2]*Ce+$e},ae=new WeakSet,js=function(te,ue,ge){if(te[0]===1&&te[2]===1){ge[0]=ue[0],ge[1]=ue[1],ge[2]=ue[2];return}const ye=ge;Ne(this,P,gn).call(this,pe(U,V),ue,ye);const Ee=pe(U,x);Ne(this,D,Ls).call(this,te,ye,Ee),Ne(this,P,gn).call(this,pe(U,k),Ee,ge)},ce=new WeakSet,Us=function(te,ue,ge){const ye=ge;Ne(this,P,gn).call(this,pe(U,V),ue,ye);const Ee=pe(U,x);Ne(this,A,Bs).call(this,te,ye,Ee),Ne(this,P,gn).call(this,pe(U,k),Ee,ge)},se=new WeakSet,Zi=function(te,ue,ge,ye,Ee){const Oe=Ne(this,c,pn).call(this,0,1,te[ue]*Ee),ve=Ne(this,c,pn).call(this,0,1,te[ue+1]*Ee),Se=Ne(this,c,pn).call(this,0,1,te[ue+2]*Ee),Ae=Oe===1?1:Oe**this.GR,ke=ve===1?1:ve**this.GG,_e=Se===1?1:Se**this.GB,je=this.MXA*Ae+this.MXB*ke+this.MXC*_e,Re=this.MYA*Ae+this.MYB*ke+this.MYC*_e,be=this.MZA*Ae+this.MZB*ke+this.MZC*_e,Ce=pe(U,X);Ce[0]=je,Ce[1]=Re,Ce[2]=be;const $e=pe(U,a);Ne(this,ae,js).call(this,this.whitePoint,Ce,$e);const Pe=pe(U,X);Ne(this,R,$s).call(this,this.blackPoint,$e,Pe);const ze=pe(U,a);Ne(this,ce,Us).call(this,pe(U,l),Pe,ze);const We=pe(U,X);Ne(this,P,gn).call(this,pe(U,_),ze,We),ge[ye]=Ne(this,o,Vn).call(this,We[0])*255,ge[ye+1]=Ne(this,o,Vn).call(this,We[1])*255,ge[ye+2]=Ne(this,o,Vn).call(this,We[2])*255},Me(U,V,new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296])),Me(U,k,new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867])),Me(U,_,new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252])),Me(U,l,new Float32Array([1,1,1])),Me(U,x,new Float32Array(3)),Me(U,X,new Float32Array(3)),Me(U,a,new Float32Array(3)),Me(U,g,.0011070564598794539);let F=U;class C extends r{constructor(te,ue,ge){super("Lab",3);Me(this,K);Me(this,Y);Me(this,re);if(!te)throw new n.FormatError("WhitePoint missing - required for color space Lab");if([this.XW,this.YW,this.ZW]=te,[this.amin,this.amax,this.bmin,this.bmax]=ge||[-100,100,-100,100],[this.XB,this.YB,this.ZB]=ue||[0,0,0],this.XW<0||this.ZW<0||this.YW!==1)throw new n.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,n.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,n.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(te,ue,ge,ye){Ne(this,re,Qi).call(this,te,ue,!1,ge,ye)}getRgbBuffer(te,ue,ge,ye,Ee,Oe,ve){const Se=(1<<Oe)-1;for(let Ae=0;Ae<ge;Ae++)Ne(this,re,Qi).call(this,te,ue,Se,ye,Ee),ue+=3,Ee+=3+ve}getOutputLength(te,ue){return te*(3+ue)/3|0}isDefaultDecode(te,ue){return!0}get usesZeroToOneRange(){return(0,n.shadow)(this,"usesZeroToOneRange",!1)}}K=new WeakSet,qn=function(te){return te>=.20689655172413793?te**3:.12841854934601665*(te-.13793103448275862)},Y=new WeakSet,Kn=function(te,ue,ge,ye){return ge+te*(ye-ge)/ue},re=new WeakSet,Qi=function(te,ue,ge,ye,Ee){let Oe=te[ue],ve=te[ue+1],Se=te[ue+2];ge!==!1&&(Oe=Ne(this,Y,Kn).call(this,Oe,ge,0,100),ve=Ne(this,Y,Kn).call(this,ve,ge,this.amin,this.amax),Se=Ne(this,Y,Kn).call(this,Se,ge,this.bmin,this.bmax)),ve>this.amax?ve=this.amax:ve<this.amin&&(ve=this.amin),Se>this.bmax?Se=this.bmax:Se<this.bmin&&(Se=this.bmin);const Ae=(Oe+16)/116,ke=Ae+ve/500,_e=Ae-Se/200,je=this.XW*Ne(this,K,qn).call(this,ke),Re=this.YW*Ne(this,K,qn).call(this,Ae),be=this.ZW*Ne(this,K,qn).call(this,_e);let Ce,$e,Pe;this.ZW<1?(Ce=je*3.1339+Re*-1.617+be*-.4906,$e=je*-.9785+Re*1.916+be*.0333,Pe=je*.072+Re*-.229+be*1.4057):(Ce=je*3.2406+Re*-1.5372+be*-.4986,$e=je*-.9689+Re*1.8758+be*.0415,Pe=je*.0557+Re*-.204+be*1.057),ye[Ee]=Math.sqrt(Ce)*255,ye[Ee+1]=Math.sqrt($e)*255,ye[Ee+2]=Math.sqrt(Pe)*255}},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PartialEvaluator=m.EvaluatorPreprocessor=void 0;var n=Q(2),S=Q(14),N=Q(4),e=Q(34),t=Q(37),r=Q(41),z=Q(50),j=Q(51),M=Q(42),I=Q(57),d=Q(16),u=Q(59),i=Q(8),F=Q(5),C=Q(60),T=Q(12),b=Q(18),L=Q(38),B=Q(61),V=Q(39),k=Q(45),_=Q(40),l=Q(62),x=Q(63),X=Q(64),a=Q(65);const g=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,isOffscreenCanvasSupported:!1,canvasMaxAreaInBytes:-1,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),P={TILING:1,SHADING:2},G=10,D=Promise.resolve();function w(ae,q=!1){if(Array.isArray(ae)){for(const ce of ae){const ee=w(ce,!0);if(ee)return ee}return(0,n.warn)(`Unsupported blend mode Array: ${ae}`),"source-over"}if(!(ae instanceof N.Name))return q?null:"source-over";switch(ae.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return q?null:((0,n.warn)(`Unsupported blend mode: ${ae.name}`),"source-over")}function A(ae){var q;ae.fn===n.OPS.paintImageMaskXObject&&((q=ae.args[0])==null?void 0:q.count)>0&&ae.args[0].count++}const R=class R{constructor(){this.reset()}check(){return++this.checked<R.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+R.TIME_SLOT_DURATION_MS,this.checked=0}};Dt(R,"TIME_SLOT_DURATION_MS",20),Dt(R,"CHECK_TIME_EVERY",100);let v=R;class o{constructor({xref:q,handler:ce,pageIndex:ee,idFactory:se,fontCache:$,builtInCMapCache:U,standardFontDataCache:K,globalImageCache:J,systemFontCache:Y,options:ie=null}){this.xref=q,this.handler=ce,this.pageIndex=ee,this.idFactory=se,this.fontCache=$,this.builtInCMapCache=U,this.standardFontDataCache=K,this.globalImageCache=J,this.systemFontCache=Y,this.options=ie||g,this.parsingType3Font=!1,this._regionalImageCache=new u.RegionalImageCache,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this),l.ImageResizer.setMaxArea(this.options.canvasMaxAreaInBytes)}get _pdfFunctionFactory(){const q=new I.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,n.shadow)(this,"_pdfFunctionFactory",q)}clone(q=null){const ce=Object.create(this);return ce.options=Object.assign(Object.create(null),this.options,q),ce}hasBlendModes(q,ce){if(!(q instanceof N.Dict)||q.objId&&ce.has(q.objId))return!1;const ee=new N.RefSet(ce);q.objId&&ee.put(q.objId);const se=[q],$=this.xref;for(;se.length;){const U=se.shift(),K=U.get("ExtGState");if(K instanceof N.Dict)for(let Y of K.getRawValues()){if(Y instanceof N.Ref){if(ee.has(Y))continue;try{Y=$.fetch(Y)}catch(re){ee.put(Y),(0,n.info)(`hasBlendModes - ignoring ExtGState: "${re}".`);continue}}if(!(Y instanceof N.Dict))continue;Y.objId&&ee.put(Y.objId);const ie=Y.get("BM");if(ie instanceof N.Name){if(ie.name!=="Normal")return!0;continue}if(ie!==void 0&&Array.isArray(ie)){for(const re of ie)if(re instanceof N.Name&&re.name!=="Normal")return!0}}const J=U.get("XObject");if(J instanceof N.Dict)for(let Y of J.getRawValues()){if(Y instanceof N.Ref){if(ee.has(Y))continue;try{Y=$.fetch(Y)}catch(re){ee.put(Y),(0,n.info)(`hasBlendModes - ignoring XObject: "${re}".`);continue}}if(!(Y instanceof F.BaseStream))continue;Y.dict.objId&&ee.put(Y.dict.objId);const ie=Y.dict.get("Resources");ie instanceof N.Dict&&(ie.objId&&ee.has(ie.objId)||(se.push(ie),ie.objId&&ee.put(ie.objId)))}}for(const U of ee)ce.put(U);return!1}async fetchBuiltInCMap(q){const ce=this.builtInCMapCache.get(q);if(ce)return ce;let ee;if(this.options.cMapUrl!==null){const se=`${this.options.cMapUrl}${q}.bcmap`,$=await fetch(se);if(!$.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${se}" with "${$.statusText}".`);ee={cMapData:new Uint8Array(await $.arrayBuffer()),compressionType:n.CMapCompressionType.BINARY}}else ee=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:q});return ee.compressionType!==n.CMapCompressionType.NONE&&this.builtInCMapCache.set(q,ee),ee}async fetchStandardFontData(q){const ce=this.standardFontDataCache.get(q);if(ce)return new i.Stream(ce);if(this.options.useSystemFonts&&q!=="Symbol"&&q!=="ZapfDingbats")return null;const ee=(0,r.getFontNameToFileMap)(),se=ee[q];let $;if(this.options.standardFontDataUrl!==null){const U=`${this.options.standardFontDataUrl}${se}`,K=await fetch(U);K.ok?$=await K.arrayBuffer():(0,n.warn)(`fetchStandardFontData: failed to fetch file "${U}" with "${K.statusText}".`)}else try{$=await this.handler.sendWithPromise("FetchStandardFontData",{filename:se})}catch(U){(0,n.warn)(`fetchStandardFontData: failed to fetch file "${se}" with "${U}".`)}return $?(this.standardFontDataCache.set(q,$),new i.Stream($)):null}async buildFormXObject(q,ce,ee,se,$,U,K){const J=ce.dict,Y=J.getArray("Matrix");let ie=J.getArray("BBox");ie=Array.isArray(ie)&&ie.length===4?n.Util.normalizeRect(ie):null;let re,Z;J.has("OC")&&(re=await this.parseMarkedContentProps(J.get("OC"),q)),re!==void 0&&se.addOp(n.OPS.beginMarkedContentProps,["OC",re]);const he=J.get("Group");if(he){Z={matrix:Y,bbox:ie,smask:ee,isolated:!1,knockout:!1};const te=he.get("S");let ue=null;if((0,N.isName)(te,"Transparency")&&(Z.isolated=he.get("I")||!1,Z.knockout=he.get("K")||!1,he.has("CS"))){const ge=he.getRaw("CS"),ye=T.ColorSpace.getCached(ge,this.xref,K);ye?ue=ye:ue=await this.parseColorSpace({cs:ge,resources:q,localColorSpaceCache:K})}ee!=null&&ee.backdrop&&(ue||(ue=T.ColorSpace.singletons.rgb),ee.backdrop=ue.getRgb(ee.backdrop,0)),se.addOp(n.OPS.beginGroup,[Z])}const le=he?[Y,null]:[Y,ie];return se.addOp(n.OPS.paintFormXObjectBegin,le),this.getOperatorList({stream:ce,task:$,resources:J.get("Resources")||q,operatorList:se,initialState:U}).then(function(){se.addOp(n.OPS.paintFormXObjectEnd,[]),he&&se.addOp(n.OPS.endGroup,[Z]),re!==void 0&&se.addOp(n.OPS.endMarkedContent,[])})}_sendImgData(q,ce,ee=!1){const se=ce?[ce.bitmap||ce.data.buffer]:null;return this.parsingType3Font||ee?this.handler.send("commonobj",[q,"Image",ce],se):this.handler.send("obj",[q,this.pageIndex,"Image",ce],se)}async buildPaintImageXObject({resources:q,image:ce,isInline:ee=!1,operatorList:se,cacheKey:$,localImageCache:U,localColorSpaceCache:K}){const J=ce.dict,Y=J.objId,ie=J.get("W","Width"),re=J.get("H","Height");if(!(ie&&typeof ie=="number")||!(re&&typeof re=="number")){(0,n.warn)("Image dimensions are missing, or not numbers.");return}const Z=this.options.maxImageSize;if(Z!==-1&&ie*re>Z){const Oe="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){(0,n.warn)(Oe);return}throw new Error(Oe)}let he;J.has("OC")&&(he=await this.parseMarkedContentProps(J.get("OC"),q));const le=J.get("IM","ImageMask")||!1;let te,ue;if(le){const Oe=J.get("I","Interpolate"),ve=ie+7>>3,Se=ce.getBytes(ve*re),Ae=J.getArray("D","Decode");if(this.parsingType3Font){if(te=a.PDFImage.createRawMask({imgArray:Se,width:ie,height:re,imageIsFromDecodeStream:ce instanceof b.DecodeStream,inverseDecode:(Ae==null?void 0:Ae[0])>0,interpolate:Oe}),te.cached=!!$,ue=[te],se.addImageOps(n.OPS.paintImageMaskXObject,ue,he),$){const _e={fn:n.OPS.paintImageMaskXObject,args:ue,optionalContent:he};U.set($,Y,_e),Y&&this._regionalImageCache.set(null,Y,_e)}return}if(te=await a.PDFImage.createMask({imgArray:Se,width:ie,height:re,imageIsFromDecodeStream:ce instanceof b.DecodeStream,inverseDecode:(Ae==null?void 0:Ae[0])>0,interpolate:Oe,isOffscreenCanvasSupported:this.options.isOffscreenCanvasSupported}),te.isSingleOpaquePixel){if(se.addImageOps(n.OPS.paintSolidColorImageMask,[],he),$){const _e={fn:n.OPS.paintSolidColorImageMask,args:[],optionalContent:he};U.set($,Y,_e),Y&&this._regionalImageCache.set(null,Y,_e)}return}const ke=`mask_${this.idFactory.createObjId()}`;if(se.addDependency(ke),this._sendImgData(ke,te),ue=[{data:ke,width:te.width,height:te.height,interpolate:te.interpolate,count:1}],se.addImageOps(n.OPS.paintImageMaskXObject,ue,he),$){const _e={fn:n.OPS.paintImageMaskXObject,args:ue,optionalContent:he};U.set($,Y,_e),Y&&this._regionalImageCache.set(null,Y,_e)}return}const ge=200;if(ee&&!J.has("SMask")&&!J.has("Mask")&&ie+re<ge){te=await new a.PDFImage({xref:this.xref,res:q,image:ce,isInline:ee,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:K}).createImageData(!0,!1),se.isOffscreenCanvasSupported=this.options.isOffscreenCanvasSupported,se.addImageOps(n.OPS.paintInlineImageXObject,[te],he);return}let ye=`img_${this.idFactory.createObjId()}`,Ee=!1;if(this.parsingType3Font?ye=`${this.idFactory.getDocId()}_type3_${ye}`:Y&&(Ee=this.globalImageCache.shouldCache(Y,this.pageIndex),Ee&&(ye=`${this.idFactory.getDocId()}_${ye}`)),se.addDependency(ye),ue=[ye,ie,re],a.PDFImage.buildImage({xref:this.xref,res:q,image:ce,isInline:ee,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:K}).then(async Oe=>{if(te=await Oe.createImageData(!1,this.options.isOffscreenCanvasSupported),$&&Y&&Ee){const ve=te.bitmap?te.width*te.height*4:te.data.length;this.globalImageCache.addByteSize(Y,ve)}return this._sendImgData(ye,te,Ee)}).catch(Oe=>((0,n.warn)(`Unable to decode image "${ye}": "${Oe}".`),this._sendImgData(ye,null,Ee))),se.addImageOps(n.OPS.paintImageXObject,ue,he),$){const Oe={fn:n.OPS.paintImageXObject,args:ue,optionalContent:he};U.set($,Y,Oe),Y&&(this._regionalImageCache.set(null,Y,Oe),Ee&&((0,n.assert)(!ee,"Cannot cache an inline image globally."),this.globalImageCache.setData(Y,{objId:ye,fn:n.OPS.paintImageXObject,args:ue,optionalContent:he,byteSize:0})))}}handleSMask(q,ce,ee,se,$,U){const K=q.get("G"),J={subtype:q.get("S").name,backdrop:q.get("BC")},Y=q.get("TR");if((0,I.isPDFFunction)(Y)){const ie=this._pdfFunctionFactory.create(Y),re=new Uint8Array(256),Z=new Float32Array(1);for(let he=0;he<256;he++)Z[0]=he/255,ie(Z,0,Z,0),re[he]=Z[0]*255|0;J.transferMap=re}return this.buildFormXObject(ce,K,J,ee,se,$.state.clone(),U)}handleTransferFunction(q){let ce;if(Array.isArray(q))ce=q;else if((0,I.isPDFFunction)(q))ce=[q];else return null;const ee=[];let se=0,$=0;for(const U of ce){const K=this.xref.fetchIfRef(U);if(se++,(0,N.isName)(K,"Identity")){ee.push(null);continue}else if(!(0,I.isPDFFunction)(K))return null;const J=this._pdfFunctionFactory.create(K),Y=new Uint8Array(256),ie=new Float32Array(1);for(let re=0;re<256;re++)ie[0]=re/255,J(ie,0,ie,0),Y[re]=ie[0]*255|0;ee.push(Y),$++}return!(se===1||se===4)||$===0?null:ee}handleTilingType(q,ce,ee,se,$,U,K,J){const Y=new X.OperatorList,ie=N.Dict.merge({xref:this.xref,dictArray:[$.get("Resources"),ee]});return this.getOperatorList({stream:se,task:K,resources:ie,operatorList:Y}).then(function(){const re=Y.getIR(),Z=(0,z.getTilingPatternIR)(re,$,ce);U.addDependencies(Y.dependencies),U.addOp(q,Z),$.objId&&J.set(null,$.objId,{operatorListIR:re,dict:$})}).catch(re=>{if(!(re instanceof n.AbortException)){if(this.options.ignoreErrors){(0,n.warn)(`handleTilingType - ignoring pattern: "${re}".`);return}throw re}})}handleSetFont(q,ce,ee,se,$,U,K=null,J=null){const Y=(ce==null?void 0:ce[0])instanceof N.Name?ce[0].name:null;return this.loadFont(Y,ee,q,K,J).then(ie=>ie.font.isType3Font?ie.loadType3Data(this,q,$).then(function(){return se.addDependencies(ie.type3Dependencies),ie}).catch(re=>new y({loadedName:"g_font_error",font:new e.ErrorFont(`Type3 font load error: ${re}`),dict:ie.font,evaluatorOptions:this.options})):ie).then(ie=>(U.font=ie.font,ie.send(this.handler),ie.loadedName))}handleText(q,ce){const ee=ce.font,se=ee.charsToGlyphs(q);return ee.data&&(ce.textRenderingMode&n.TextRenderingMode.ADD_TO_PATH_FLAG||ce.fillColorSpace.name==="Pattern"||ee.disableFontFace||this.options.disableFontFace)&&o.buildFontPaths(ee,se,this.handler,this.options),se}ensureStateFont(q){if(q.font)return;const ce=new n.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){(0,n.warn)(`ensureStateFont: "${ce}".`);return}throw ce}async setGState({resources:q,gState:ce,operatorList:ee,cacheKey:se,task:$,stateManager:U,localGStateCache:K,localColorSpaceCache:J}){const Y=ce.objId;let ie=!0;const re=[];let Z=Promise.resolve();for(const he of ce.getKeys()){const le=ce.get(he);switch(he){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":re.push([he,le]);break;case"Font":ie=!1,Z=Z.then(()=>this.handleSetFont(q,null,le[0],ee,$,U.state).then(function(ue){ee.addDependency(ue),re.push([he,[ue,le[1]]])}));break;case"BM":re.push([he,w(le)]);break;case"SMask":if((0,N.isName)(le,"None")){re.push([he,!1]);break}le instanceof N.Dict?(ie=!1,Z=Z.then(()=>this.handleSMask(le,q,ee,$,U,J)),re.push([he,!0])):(0,n.warn)("Unsupported SMask type");break;case"TR":const te=this.handleTransferFunction(le);re.push([he,te]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,n.info)("graphic state operator "+he);break;default:(0,n.info)("Unknown graphic state operator "+he);break}}return Z.then(function(){re.length>0&&ee.addOp(n.OPS.setGState,[re]),ie&&K.set(se,Y,re)})}loadFont(q,ce,ee,se=null,$=null){const U=async()=>new y({loadedName:"g_font_error",font:new e.ErrorFont(`Font "${q}" is not available.`),dict:ce,evaluatorOptions:this.options});let K;if(ce)ce instanceof N.Ref&&(K=ce);else{const le=ee.get("Font");le&&(K=le.getRaw(q))}if(K){if(this.parsingType3Font&&this.type3FontRefs.has(K))return U();if(this.fontCache.has(K))return this.fontCache.get(K);ce=this.xref.fetchIfRef(K)}if(!(ce instanceof N.Dict)){if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,n.warn)(`Font "${q}" is not available.`),U();(0,n.warn)(`Font "${q}" is not available -- attempting to fallback to a default font.`),ce=se||o.fallbackFontDict}if(ce.cacheKey&&this.fontCache.has(ce.cacheKey))return this.fontCache.get(ce.cacheKey);const J=new n.PromiseCapability;let Y;try{Y=this.preEvaluateFont(ce),Y.cssFontInfo=$}catch(le){return(0,n.warn)(`loadFont - preEvaluateFont failed: "${le}".`),U()}const{descriptor:ie,hash:re}=Y,Z=K instanceof N.Ref;let he;if(re&&ie instanceof N.Dict){const le=ie.fontAliases||(ie.fontAliases=Object.create(null));if(le[re]){const te=le[re].aliasRef;if(Z&&te&&this.fontCache.has(te))return this.fontCache.putAlias(K,te),this.fontCache.get(K)}else le[re]={fontID:this.idFactory.createFontId()};Z&&(le[re].aliasRef=K),he=le[re].fontID}else he=this.idFactory.createFontId();return(0,n.assert)(he==null?void 0:he.startsWith("f"),'The "fontID" must be (correctly) defined.'),Z?this.fontCache.put(K,J.promise):(ce.cacheKey=`cacheKey_${he}`,this.fontCache.put(ce.cacheKey,J.promise)),ce.loadedName=`${this.idFactory.getDocId()}_${he}`,this.translateFont(Y).then(le=>{J.resolve(new y({loadedName:ce.loadedName,font:le,dict:ce,evaluatorOptions:this.options}))}).catch(le=>{(0,n.warn)(`loadFont - translateFont failed: "${le}".`),J.resolve(new y({loadedName:ce.loadedName,font:new e.ErrorFont(le instanceof Error?le.message:le),dict:ce,evaluatorOptions:this.options}))}),J.promise}buildPath(q,ce,ee,se=!1){const $=q.length-1;if(ee||(ee=[]),$<0||q.fnArray[$]!==n.OPS.constructPath){se&&((0,n.warn)(`Encountered path operator "${ce}" inside of a text object.`),q.addOp(n.OPS.save,null));let U;switch(ce){case n.OPS.rectangle:const K=ee[0]+ee[2],J=ee[1]+ee[3];U=[Math.min(ee[0],K),Math.max(ee[0],K),Math.min(ee[1],J),Math.max(ee[1],J)];break;case n.OPS.moveTo:case n.OPS.lineTo:U=[ee[0],ee[0],ee[1],ee[1]];break;default:U=[1/0,-1/0,1/0,-1/0];break}q.addOp(n.OPS.constructPath,[[ce],ee,U]),se&&q.addOp(n.OPS.restore,null)}else{const U=q.argsArray[$];U[0].push(ce),U[1].push(...ee);const K=U[2];switch(ce){case n.OPS.rectangle:const J=ee[0]+ee[2],Y=ee[1]+ee[3];K[0]=Math.min(K[0],ee[0],J),K[1]=Math.max(K[1],ee[0],J),K[2]=Math.min(K[2],ee[1],Y),K[3]=Math.max(K[3],ee[1],Y);break;case n.OPS.moveTo:case n.OPS.lineTo:K[0]=Math.min(K[0],ee[0]),K[1]=Math.max(K[1],ee[0]),K[2]=Math.min(K[2],ee[1]),K[3]=Math.max(K[3],ee[1]);break}}}parseColorSpace({cs:q,resources:ce,localColorSpaceCache:ee}){return T.ColorSpace.parseAsync({cs:q,xref:this.xref,resources:ce,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:ee}).catch(se=>{if(se instanceof n.AbortException)return null;if(this.options.ignoreErrors)return(0,n.warn)(`parseColorSpace - ignoring ColorSpace: "${se}".`),null;throw se})}parseShading({shading:q,resources:ce,localColorSpaceCache:ee,localShadingPatternCache:se}){let $=se.get(q);if(!$){var U=z.Pattern.parseShading(q,this.xref,ce,this._pdfFunctionFactory,ee);const K=U.getIR();$=`pattern_${this.idFactory.createObjId()}`,this.parsingType3Font&&($=`${this.idFactory.getDocId()}_type3_${$}`),se.set(q,$),this.parsingType3Font?this.handler.send("commonobj",[$,"Pattern",K]):this.handler.send("obj",[$,this.pageIndex,"Pattern",K])}return $}handleColorN(q,ce,ee,se,$,U,K,J,Y,ie){const re=ee.pop();if(re instanceof N.Name){const Z=$.getRaw(re.name),he=Z instanceof N.Ref&&Y.getByRef(Z);if(he)try{const te=se.base?se.base.getRgb(ee,0):null,ue=(0,z.getTilingPatternIR)(he.operatorListIR,he.dict,te);q.addOp(ce,ue);return}catch{}const le=this.xref.fetchIfRef(Z);if(le){const te=le instanceof F.BaseStream?le.dict:le,ue=te.get("PatternType");if(ue===P.TILING){const ge=se.base?se.base.getRgb(ee,0):null;return this.handleTilingType(ce,ge,U,le,te,q,K,Y)}else if(ue===P.SHADING){const ge=te.get("Shading"),ye=te.getArray("Matrix"),Ee=this.parseShading({shading:ge,resources:U,localColorSpaceCache:J,localShadingPatternCache:ie});q.addOp(ce,["Shading",Ee,ye]);return}throw new n.FormatError(`Unknown PatternType: ${ue}`)}}throw new n.FormatError(`Unknown PatternName: ${re}`)}_parseVisibilityExpression(q,ce,ee){if(++ce>10){(0,n.warn)("Visibility expression is too deeply nested");return}const $=q.length,U=this.xref.fetchIfRef(q[0]);if($<2||!(U instanceof N.Name)){(0,n.warn)("Invalid visibility expression");return}switch(U.name){case"And":case"Or":case"Not":ee.push(U.name);break;default:(0,n.warn)(`Invalid operator ${U.name} in visibility expression`);return}for(let K=1;K<$;K++){const J=q[K],Y=this.xref.fetchIfRef(J);if(Array.isArray(Y)){const ie=[];ee.push(ie),this._parseVisibilityExpression(Y,ce,ie)}else J instanceof N.Ref&&ee.push(J.toString())}}async parseMarkedContentProps(q,ce){var $;let ee;if(q instanceof N.Name)ee=ce.get("Properties").get(q.name);else if(q instanceof N.Dict)ee=q;else throw new n.FormatError("Optional content properties malformed.");const se=($=ee.get("Type"))==null?void 0:$.name;if(se==="OCG")return{type:se,id:ee.objId};if(se==="OCMD"){const U=ee.get("VE");if(Array.isArray(U)){const J=[];if(this._parseVisibilityExpression(U,0,J),J.length>0)return{type:"OCMD",expression:J}}const K=ee.get("OCGs");if(Array.isArray(K)||K instanceof N.Dict){const J=[];if(Array.isArray(K))for(const Y of K)J.push(Y.toString());else J.push(K.objId);return{type:se,ids:J,policy:ee.get("P")instanceof N.Name?ee.get("P").name:null,expression:null}}else if(K instanceof N.Ref)return{type:se,id:K.toString()}}return null}getOperatorList({stream:q,task:ce,resources:ee,operatorList:se,initialState:$=null,fallbackFontDict:U=null}){if(ee||(ee=N.Dict.empty),$||($=new O),!se)throw new Error('getOperatorList: missing "operatorList" parameter');const K=this,J=this.xref;let Y=!1;const ie=new u.LocalImageCache,re=new u.LocalColorSpaceCache,Z=new u.LocalGStateCache,he=new u.LocalTilingPatternCache,le=new Map,te=ee.get("XObject")||N.Dict.empty,ue=ee.get("Pattern")||N.Dict.empty,ge=new c($),ye=new W(q,J,ge),Ee=new v;function Oe(ve){for(let Se=0,Ae=ye.savedStatesDepth;Se<Ae;Se++)se.addOp(n.OPS.restore,[])}return new Promise(function ve(Se,Ae){const ke=function(Fe){Promise.all([Fe,se.ready]).then(function(){try{ve(Se,Ae)}catch(me){Ae(me)}},Ae)};ce.ensureNotTerminated(),Ee.reset();const _e={};let je,Re,be,Ce,$e,Pe;for(;!(je=Ee.check())&&(_e.args=null,!!ye.read(_e));){let Fe=_e.args,me=_e.fn;switch(me|0){case n.OPS.paintXObject:if(Pe=Fe[0]instanceof N.Name,$e=Fe[0].name,Pe){const Ie=ie.getByName($e);if(Ie){se.addImageOps(Ie.fn,Ie.args,Ie.optionalContent),A(Ie),Fe=null;continue}}ke(new Promise(function(Ie,De){if(!Pe)throw new n.FormatError("XObject must be referred to by name.");let Be=te.getRaw($e);if(Be instanceof N.Ref){const Ze=ie.getByRef(Be)||K._regionalImageCache.getByRef(Be);if(Ze){se.addImageOps(Ze.fn,Ze.args,Ze.optionalContent),A(Ze),Ie();return}const Ke=K.globalImageCache.getData(Be,K.pageIndex);if(Ke){se.addDependency(Ke.objId),se.addImageOps(Ke.fn,Ke.args,Ke.optionalContent),Ie();return}Be=J.fetch(Be)}if(!(Be instanceof F.BaseStream))throw new n.FormatError("XObject should be a stream");const Ue=Be.dict.get("Subtype");if(!(Ue instanceof N.Name))throw new n.FormatError("XObject should have a Name subtype");if(Ue.name==="Form"){ge.save(),K.buildFormXObject(ee,Be,null,se,ce,ge.state.clone(),re).then(function(){ge.restore(),Ie()},De);return}else if(Ue.name==="Image"){K.buildPaintImageXObject({resources:ee,image:Be,operatorList:se,cacheKey:$e,localImageCache:ie,localColorSpaceCache:re}).then(Ie,De);return}else if(Ue.name==="PS")(0,n.info)("Ignored XObject subtype PS");else throw new n.FormatError(`Unhandled XObject subtype ${Ue.name}`);Ie()}).catch(function(Ie){if(!(Ie instanceof n.AbortException)){if(K.options.ignoreErrors){(0,n.warn)(`getOperatorList - ignoring XObject: "${Ie}".`);return}throw Ie}}));return;case n.OPS.setFont:var ze=Fe[1];ke(K.handleSetFont(ee,Fe,null,se,ce,ge.state,U).then(function(Ie){se.addDependency(Ie),se.addOp(n.OPS.setFont,[Ie,ze])}));return;case n.OPS.beginText:Y=!0;break;case n.OPS.endText:Y=!1;break;case n.OPS.endInlineImage:var We=Fe[0].cacheKey;if(We){const Ie=ie.getByName(We);if(Ie){se.addImageOps(Ie.fn,Ie.args,Ie.optionalContent),A(Ie),Fe=null;continue}}ke(K.buildPaintImageXObject({resources:ee,image:Fe[0],isInline:!0,operatorList:se,cacheKey:We,localImageCache:ie,localColorSpaceCache:re}));return;case n.OPS.showText:if(!ge.state.font){K.ensureStateFont(ge.state);continue}Fe[0]=K.handleText(Fe[0],ge.state);break;case n.OPS.showSpacedText:if(!ge.state.font){K.ensureStateFont(ge.state);continue}var ut=[],Le=ge.state;for(const Ie of Fe[0])typeof Ie=="string"?ut.push(...K.handleText(Ie,Le)):typeof Ie=="number"&&ut.push(Ie);Fe[0]=ut,me=n.OPS.showText;break;case n.OPS.nextLineShowText:if(!ge.state.font){K.ensureStateFont(ge.state);continue}se.addOp(n.OPS.nextLine),Fe[0]=K.handleText(Fe[0],ge.state),me=n.OPS.showText;break;case n.OPS.nextLineSetSpacingShowText:if(!ge.state.font){K.ensureStateFont(ge.state);continue}se.addOp(n.OPS.nextLine),se.addOp(n.OPS.setWordSpacing,[Fe.shift()]),se.addOp(n.OPS.setCharSpacing,[Fe.shift()]),Fe[0]=K.handleText(Fe[0],ge.state),me=n.OPS.showText;break;case n.OPS.setTextRenderingMode:ge.state.textRenderingMode=Fe[0];break;case n.OPS.setFillColorSpace:{const Ie=T.ColorSpace.getCached(Fe[0],J,re);if(Ie){ge.state.fillColorSpace=Ie;continue}ke(K.parseColorSpace({cs:Fe[0],resources:ee,localColorSpaceCache:re}).then(function(De){De&&(ge.state.fillColorSpace=De)}));return}case n.OPS.setStrokeColorSpace:{const Ie=T.ColorSpace.getCached(Fe[0],J,re);if(Ie){ge.state.strokeColorSpace=Ie;continue}ke(K.parseColorSpace({cs:Fe[0],resources:ee,localColorSpaceCache:re}).then(function(De){De&&(ge.state.strokeColorSpace=De)}));return}case n.OPS.setFillColor:Ce=ge.state.fillColorSpace,Fe=Ce.getRgb(Fe,0),me=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeColor:Ce=ge.state.strokeColorSpace,Fe=Ce.getRgb(Fe,0),me=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillGray:ge.state.fillColorSpace=T.ColorSpace.singletons.gray,Fe=T.ColorSpace.singletons.gray.getRgb(Fe,0),me=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeGray:ge.state.strokeColorSpace=T.ColorSpace.singletons.gray,Fe=T.ColorSpace.singletons.gray.getRgb(Fe,0),me=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillCMYKColor:ge.state.fillColorSpace=T.ColorSpace.singletons.cmyk,Fe=T.ColorSpace.singletons.cmyk.getRgb(Fe,0),me=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeCMYKColor:ge.state.strokeColorSpace=T.ColorSpace.singletons.cmyk,Fe=T.ColorSpace.singletons.cmyk.getRgb(Fe,0),me=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillRGBColor:ge.state.fillColorSpace=T.ColorSpace.singletons.rgb,Fe=T.ColorSpace.singletons.rgb.getRgb(Fe,0);break;case n.OPS.setStrokeRGBColor:ge.state.strokeColorSpace=T.ColorSpace.singletons.rgb,Fe=T.ColorSpace.singletons.rgb.getRgb(Fe,0);break;case n.OPS.setFillColorN:if(Ce=ge.state.fillColorSpace,Ce.name==="Pattern"){ke(K.handleColorN(se,n.OPS.setFillColorN,Fe,Ce,ue,ee,ce,re,he,le));return}Fe=Ce.getRgb(Fe,0),me=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeColorN:if(Ce=ge.state.strokeColorSpace,Ce.name==="Pattern"){ke(K.handleColorN(se,n.OPS.setStrokeColorN,Fe,Ce,ue,ee,ce,re,he,le));return}Fe=Ce.getRgb(Fe,0),me=n.OPS.setStrokeRGBColor;break;case n.OPS.shadingFill:var rt=ee.get("Shading");if(!rt)throw new n.FormatError("No shading resource found");var Qe=rt.get(Fe[0].name);if(!Qe)throw new n.FormatError("No shading object found");Fe=[K.parseShading({shading:Qe,resources:ee,localColorSpaceCache:re,localShadingPatternCache:le})],me=n.OPS.shadingFill;break;case n.OPS.setGState:if(Pe=Fe[0]instanceof N.Name,$e=Fe[0].name,Pe){const Ie=Z.getByName($e);if(Ie){Ie.length>0&&se.addOp(n.OPS.setGState,[Ie]),Fe=null;continue}}ke(new Promise(function(Ie,De){if(!Pe)throw new n.FormatError("GState must be referred to by name.");const Be=ee.get("ExtGState");if(!(Be instanceof N.Dict))throw new n.FormatError("ExtGState should be a dictionary.");const Ue=Be.get($e);if(!(Ue instanceof N.Dict))throw new n.FormatError("GState should be a dictionary.");K.setGState({resources:ee,gState:Ue,operatorList:se,cacheKey:$e,task:ce,stateManager:ge,localGStateCache:Z,localColorSpaceCache:re}).then(Ie,De)}).catch(function(Ie){if(!(Ie instanceof n.AbortException)){if(K.options.ignoreErrors){(0,n.warn)(`getOperatorList - ignoring ExtGState: "${Ie}".`);return}throw Ie}}));return;case n.OPS.moveTo:case n.OPS.lineTo:case n.OPS.curveTo:case n.OPS.curveTo2:case n.OPS.curveTo3:case n.OPS.closePath:case n.OPS.rectangle:K.buildPath(se,me,Fe,Y);continue;case n.OPS.markPoint:case n.OPS.markPointProps:case n.OPS.beginCompat:case n.OPS.endCompat:continue;case n.OPS.beginMarkedContentProps:if(!(Fe[0]instanceof N.Name)){(0,n.warn)(`Expected name for beginMarkedContentProps arg0=${Fe[0]}`);continue}if(Fe[0].name==="OC"){ke(K.parseMarkedContentProps(Fe[1],ee).then(Ie=>{se.addOp(n.OPS.beginMarkedContentProps,["OC",Ie])}).catch(Ie=>{if(!(Ie instanceof n.AbortException)){if(K.options.ignoreErrors){(0,n.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${Ie}".`);return}throw Ie}}));return}Fe=[Fe[0].name,Fe[1]instanceof N.Dict?Fe[1].get("MCID"):null];break;case n.OPS.beginMarkedContent:case n.OPS.endMarkedContent:default:if(Fe!==null){for(Re=0,be=Fe.length;Re<be&&!(Fe[Re]instanceof N.Dict);Re++);if(Re<be){(0,n.warn)("getOperatorList - ignoring operator: "+me);continue}}}se.addOp(me,Fe)}if(je){ke(D);return}Oe(),Se()}).catch(ve=>{if(!(ve instanceof n.AbortException)){if(this.options.ignoreErrors){(0,n.warn)(`getOperatorList - ignoring errors during "${ce.name}" task: "${ve}".`),Oe();return}throw ve}})}getTextContent({stream:q,task:ce,resources:ee,stateManager:se=null,includeMarkedContent:$=!1,sink:U,seenStyles:K=new Set,viewBox:J,markedContentData:Y=null,disableNormalization:ie=!1}){ee||(ee=N.Dict.empty),se||(se=new c(new h)),$&&(Y||(Y={level:0}));const re={items:[],styles:Object.create(null)},Z={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},he=[" "," "];let le=0;function te(Ke){const qe=(le+1)%2,tt=he[le]!==" "&&he[qe]===" ";return he[le]=Ke,le=qe,tt}function ue(){return he[le]!==" "&&he[(le+1)%2]===" "}function ge(){he[0]=he[1]=" ",le=0}const ye=.102,Ee=.03,Oe=-.2,ve=.102,Se=.6,Ae=.25,ke=this,_e=this.xref,je=[];let Re=null;const be=new u.LocalImageCache,Ce=new u.LocalGStateCache,$e=new W(q,_e,se);let Pe;function ze({width:Ke=0,height:qe=0,transform:tt=Z.prevTransform,fontName:it=Z.fontName}){re.items.push({str:" ",dir:"ltr",width:Ke,height:qe,transform:tt,fontName:it,hasEOL:!1})}function We(){const Ke=Pe.font,qe=[Pe.fontSize*Pe.textHScale,0,0,Pe.fontSize,0,Pe.textRise];if(Ke.isType3Font&&(Pe.fontSize<=1||Ke.isCharBBox)&&!(0,n.isArrayEqual)(Pe.fontMatrix,n.FONT_IDENTITY_MATRIX)){const tt=Ke.bbox[3]-Ke.bbox[1];tt>0&&(qe[3]*=tt*Pe.fontMatrix[3])}return n.Util.transform(Pe.ctm,n.Util.transform(Pe.textMatrix,qe))}function ut(){if(Z.initialized)return Z;const{font:Ke,loadedName:qe}=Pe;K.has(qe)||(K.add(qe),re.styles[qe]={fontFamily:Ke.fallbackName,ascent:Ke.ascent,descent:Ke.descent,vertical:Ke.vertical}),Z.fontName=qe;const tt=Z.transform=We();Ke.vertical?(Z.width=Z.totalWidth=Math.hypot(tt[0],tt[1]),Z.height=Z.totalHeight=0,Z.vertical=!0):(Z.width=Z.totalWidth=0,Z.height=Z.totalHeight=Math.hypot(tt[2],tt[3]),Z.vertical=!1);const it=Math.hypot(Pe.textLineMatrix[0],Pe.textLineMatrix[1]),ot=Math.hypot(Pe.ctm[0],Pe.ctm[1]);Z.textAdvanceScale=ot*it;const{fontSize:dt}=Pe;return Z.trackingSpaceMin=dt*ye,Z.notASpace=dt*Ee,Z.negativeSpaceMax=dt*Oe,Z.spaceInFlowMin=dt*ve,Z.spaceInFlowMax=dt*Se,Z.hasEOL=!1,Z.initialized=!0,Z}function Le(){if(!Z.initialized)return;const Ke=Math.hypot(Pe.textLineMatrix[0],Pe.textLineMatrix[1]),tt=Math.hypot(Pe.ctm[0],Pe.ctm[1])*Ke;tt!==Z.textAdvanceScale&&(Z.vertical?(Z.totalHeight+=Z.height*Z.textAdvanceScale,Z.height=0):(Z.totalWidth+=Z.width*Z.textAdvanceScale,Z.width=0),Z.textAdvanceScale=tt)}function rt(Ke){let qe=Ke.str.join("");ie||(qe=(0,n.normalizeUnicode)(qe));const tt=(0,C.bidi)(qe,-1,Ke.vertical);return{str:tt.str,dir:tt.dir,width:Math.abs(Ke.totalWidth),height:Math.abs(Ke.totalHeight),transform:Ke.transform,fontName:Ke.fontName,hasEOL:Ke.hasEOL}}function Qe(Ke,qe){return ke.loadFont(Ke,qe,ee).then(function(tt){return tt.font.isType3Font?tt.loadType3Data(ke,ee,ce).catch(function(){}).then(function(){return tt}):tt}).then(function(tt){Pe.loadedName=tt.loadedName,Pe.font=tt.font,Pe.fontMatrix=tt.font.fontMatrix||n.FONT_IDENTITY_MATRIX})}function Fe(Ke,qe,tt){const it=Math.hypot(tt[0],tt[1]);return[(tt[0]*Ke+tt[1]*qe)/it,(tt[2]*Ke+tt[3]*qe)/it]}function me(Ke){var Ve;const qe=We();let tt=qe[4],it=qe[5];if((Ve=Pe.font)!=null&&Ve.vertical){if(tt<J[0]||tt>J[2]||it+Ke<J[1]||it>J[3])return!1}else if(tt+Ke<J[0]||tt>J[2]||it<J[1]||it>J[3])return!1;if(!Pe.font||!Z.prevTransform)return!0;let ot=Z.prevTransform[4],dt=Z.prevTransform[5];if(ot===tt&&dt===it)return!0;let ct=-1;switch(qe[0]&&qe[1]===0&&qe[2]===0?ct=qe[0]>0?0:180:qe[1]&&qe[0]===0&&qe[3]===0&&(ct=qe[1]>0?90:270),ct){case 0:break;case 90:[tt,it]=[it,tt],[ot,dt]=[dt,ot];break;case 180:[tt,it,ot,dt]=[-tt,-it,-ot,-dt];break;case 270:[tt,it]=[-it,-tt],[ot,dt]=[-dt,-ot];break;default:[tt,it]=Fe(tt,it,qe),[ot,dt]=Fe(ot,dt,Z.prevTransform)}if(Pe.font.vertical){const et=(dt-it)/Z.textAdvanceScale,at=tt-ot,lt=Math.sign(Z.height);return et<lt*Z.negativeSpaceMax?Math.abs(at)>.5*Z.width?(Ie(),!0):(ge(),Be(),!0):Math.abs(at)>Z.width?(Ie(),!0):(et<=lt*Z.notASpace&&ge(),et<=lt*Z.trackingSpaceMin?ue()?(ge(),Be(),ze({height:Math.abs(et)})):Z.height+=et:De(et,Z.prevTransform,lt)||(Z.str.length===0?(ge(),ze({height:Math.abs(et)})):Z.height+=et),Math.abs(at)>Z.width*Ae&&Be(),!0)}const wt=(tt-ot)/Z.textAdvanceScale,It=it-dt,Ye=Math.sign(Z.width);return wt<Ye*Z.negativeSpaceMax?Math.abs(It)>.5*Z.height?(Ie(),!0):(ge(),Be(),!0):Math.abs(It)>Z.height?(Ie(),!0):(wt<=Ye*Z.notASpace&&ge(),wt<=Ye*Z.trackingSpaceMin?ue()?(ge(),Be(),ze({width:Math.abs(wt)})):Z.width+=wt:De(wt,Z.prevTransform,Ye)||(Z.str.length===0?(ge(),ze({width:Math.abs(wt)})):Z.width+=wt),Math.abs(It)>Z.height*Ae&&Be(),!0)}function Te({chars:Ke,extraSpacing:qe}){const tt=Pe.font;if(!Ke){const dt=Pe.charSpacing+qe;dt&&(tt.vertical?Pe.translateTextMatrix(0,-dt):Pe.translateTextMatrix(dt*Pe.textHScale,0));return}const it=tt.charsToGlyphs(Ke),ot=Pe.fontMatrix[0]*Pe.fontSize;for(let dt=0,ct=it.length;dt<ct;dt++){const wt=it[dt],{category:It}=wt;if(It.isInvisibleFormatMark)continue;let Ye=Pe.charSpacing+(dt+1===ct?qe:0),Ve=wt.width;tt.vertical&&(Ve=wt.vmetric?wt.vmetric[0]:-Ve);let et=Ve*ot;if(It.isWhitespace){tt.vertical?(Ye+=-et+Pe.wordSpacing,Pe.translateTextMatrix(0,-Ye)):(Ye+=et+Pe.wordSpacing,Pe.translateTextMatrix(Ye*Pe.textHScale,0)),te(" ");continue}if(!It.isZeroWidthDiacritic&&!me(et)){tt.vertical?Pe.translateTextMatrix(0,et):Pe.translateTextMatrix(et*Pe.textHScale,0);continue}const at=ut();It.isZeroWidthDiacritic&&(et=0),tt.vertical?(Pe.translateTextMatrix(0,et),et=Math.abs(et),at.height+=et):(et*=Pe.textHScale,Pe.translateTextMatrix(et,0),at.width+=et),et&&(at.prevTransform=We());const lt=wt.unicode;te(lt)&&at.str.push(" "),at.str.push(lt),Ye&&(tt.vertical?Pe.translateTextMatrix(0,-Ye):Pe.translateTextMatrix(Ye*Pe.textHScale,0))}}function Ie(){ge(),Z.initialized?(Z.hasEOL=!0,Be()):re.items.push({str:"",dir:"ltr",width:0,height:0,transform:We(),fontName:Pe.loadedName,hasEOL:!0})}function De(Ke,qe,tt){if(tt*Z.spaceInFlowMin<=Ke&&Ke<=tt*Z.spaceInFlowMax)return Z.initialized&&(ge(),Z.str.push(" ")),!1;const it=Z.fontName;let ot=0;return Z.vertical&&(ot=Ke,Ke=0),Be(),ge(),ze({width:Math.abs(Ke),height:Math.abs(ot),transform:qe||We(),fontName:it}),!0}function Be(){!Z.initialized||!Z.str||(Z.vertical?Z.totalHeight+=Z.height*Z.textAdvanceScale:Z.totalWidth+=Z.width*Z.textAdvanceScale,re.items.push(rt(Z)),Z.initialized=!1,Z.str.length=0)}function Ue(Ke=!1){const qe=re.items.length;qe!==0&&(Ke&&qe<G||(U.enqueue(re,qe),re.items=[],re.styles=Object.create(null)))}const Ze=new v;return new Promise(function Ke(qe,tt){const it=function(et){Ue(!0),Promise.all([et,U.ready]).then(function(){try{Ke(qe,tt)}catch(at){tt(at)}},tt)};ce.ensureNotTerminated(),Ze.reset();const ot={};let dt,ct=[];for(;!(dt=Ze.check())&&(ct.length=0,ot.args=ct,!!$e.read(ot));){const et=Pe;Pe=se.state;const at=ot.fn;switch(ct=ot.args,at|0){case n.OPS.setFont:var wt=ct[0].name,It=ct[1];if(Pe.font&&wt===Pe.fontName&&It===Pe.fontSize)break;Be(),Pe.fontName=wt,Pe.fontSize=It,it(Qe(wt,null));return;case n.OPS.setTextRise:Pe.textRise=ct[0];break;case n.OPS.setHScale:Pe.textHScale=ct[0]/100;break;case n.OPS.setLeading:Pe.leading=ct[0];break;case n.OPS.moveText:Pe.translateTextLineMatrix(ct[0],ct[1]),Pe.textMatrix=Pe.textLineMatrix.slice();break;case n.OPS.setLeadingMoveText:Pe.leading=-ct[1],Pe.translateTextLineMatrix(ct[0],ct[1]),Pe.textMatrix=Pe.textLineMatrix.slice();break;case n.OPS.nextLine:Pe.carriageReturn();break;case n.OPS.setTextMatrix:Pe.setTextMatrix(ct[0],ct[1],ct[2],ct[3],ct[4],ct[5]),Pe.setTextLineMatrix(ct[0],ct[1],ct[2],ct[3],ct[4],ct[5]),Le();break;case n.OPS.setCharSpacing:Pe.charSpacing=ct[0];break;case n.OPS.setWordSpacing:Pe.wordSpacing=ct[0];break;case n.OPS.beginText:Pe.textMatrix=n.IDENTITY_MATRIX.slice(),Pe.textLineMatrix=n.IDENTITY_MATRIX.slice();break;case n.OPS.showSpacedText:if(!se.state.font){ke.ensureStateFont(se.state);continue}const lt=(Pe.font.vertical?1:-1)*Pe.fontSize/1e3,bt=ct[0];for(let ht=0,st=bt.length;ht<st;ht++){const pt=bt[ht];if(typeof pt=="string")je.push(pt);else if(typeof pt=="number"&&pt!==0){const Ct=je.join("");je.length=0,Te({chars:Ct,extraSpacing:pt*lt})}}if(je.length>0){const ht=je.join("");je.length=0,Te({chars:ht,extraSpacing:0})}break;case n.OPS.showText:if(!se.state.font){ke.ensureStateFont(se.state);continue}Te({chars:ct[0],extraSpacing:0});break;case n.OPS.nextLineShowText:if(!se.state.font){ke.ensureStateFont(se.state);continue}Pe.carriageReturn(),Te({chars:ct[0],extraSpacing:0});break;case n.OPS.nextLineSetSpacingShowText:if(!se.state.font){ke.ensureStateFont(se.state);continue}Pe.wordSpacing=ct[0],Pe.charSpacing=ct[1],Pe.carriageReturn(),Te({chars:ct[2],extraSpacing:0});break;case n.OPS.paintXObject:Be(),Re||(Re=ee.get("XObject")||N.Dict.empty);var Ye=ct[0]instanceof N.Name,Ve=ct[0].name;if(Ye&&be.getByName(Ve))break;it(new Promise(function(ht,st){if(!Ye)throw new n.FormatError("XObject must be referred to by name.");let pt=Re.getRaw(Ve);if(pt instanceof N.Ref){if(be.getByRef(pt)){ht();return}if(ke.globalImageCache.getData(pt,ke.pageIndex)){ht();return}pt=_e.fetch(pt)}if(!(pt instanceof F.BaseStream))throw new n.FormatError("XObject should be a stream");const Ct=pt.dict.get("Subtype");if(!(Ct instanceof N.Name))throw new n.FormatError("XObject should have a Name subtype");if(Ct.name!=="Form"){be.set(Ve,pt.dict.objId,!0),ht();return}const Mt=se.state.clone(),St=new c(Mt),vt=pt.dict.getArray("Matrix");Array.isArray(vt)&&vt.length===6&&St.transform(vt),Ue();const Ot={enqueueInvoked:!1,enqueue(mt,kt){this.enqueueInvoked=!0,U.enqueue(mt,kt)},get desiredSize(){return U.desiredSize},get ready(){return U.ready}};ke.getTextContent({stream:pt,task:ce,resources:pt.dict.get("Resources")||ee,stateManager:St,includeMarkedContent:$,sink:Ot,seenStyles:K,viewBox:J,markedContentData:Y,disableNormalization:ie}).then(function(){Ot.enqueueInvoked||be.set(Ve,pt.dict.objId,!0),ht()},st)}).catch(function(ht){if(!(ht instanceof n.AbortException)){if(ke.options.ignoreErrors){(0,n.warn)(`getTextContent - ignoring XObject: "${ht}".`);return}throw ht}}));return;case n.OPS.setGState:if(Ye=ct[0]instanceof N.Name,Ve=ct[0].name,Ye&&Ce.getByName(Ve))break;it(new Promise(function(ht,st){if(!Ye)throw new n.FormatError("GState must be referred to by name.");const pt=ee.get("ExtGState");if(!(pt instanceof N.Dict))throw new n.FormatError("ExtGState should be a dictionary.");const Ct=pt.get(Ve);if(!(Ct instanceof N.Dict))throw new n.FormatError("GState should be a dictionary.");const Mt=Ct.get("Font");if(!Mt){Ce.set(Ve,Ct.objId,!0),ht();return}Be(),Pe.fontName=null,Pe.fontSize=Mt[1],Qe(null,Mt[0]).then(ht,st)}).catch(function(ht){if(!(ht instanceof n.AbortException)){if(ke.options.ignoreErrors){(0,n.warn)(`getTextContent - ignoring ExtGState: "${ht}".`);return}throw ht}}));return;case n.OPS.beginMarkedContent:Be(),$&&(Y.level++,re.items.push({type:"beginMarkedContent",tag:ct[0]instanceof N.Name?ct[0].name:null}));break;case n.OPS.beginMarkedContentProps:if(Be(),$){Y.level++;let ht=null;ct[1]instanceof N.Dict&&(ht=ct[1].get("MCID")),re.items.push({type:"beginMarkedContentProps",id:Number.isInteger(ht)?`${ke.idFactory.getPageObjId()}_mc${ht}`:null,tag:ct[0]instanceof N.Name?ct[0].name:null})}break;case n.OPS.endMarkedContent:if(Be(),$){if(Y.level===0)break;Y.level--,re.items.push({type:"endMarkedContent"})}break;case n.OPS.restore:et&&(et.font!==Pe.font||et.fontSize!==Pe.fontSize||et.fontName!==Pe.fontName)&&Be();break}if(re.items.length>=U.desiredSize){dt=!0;break}}if(dt){it(D);return}Be(),Ue(),qe()}).catch(Ke=>{if(!(Ke instanceof n.AbortException)){if(this.options.ignoreErrors){(0,n.warn)(`getTextContent - ignoring errors during "${ce.name}" task: "${Ke}".`),Be(),Ue();return}throw Ke}})}extractDataStructures(q,ce,ee){const se=this.xref;let $;const U=this.readToUnicode(ee.toUnicode||q.get("ToUnicode")||ce.get("ToUnicode"));if(ee.composite){const Z=q.get("CIDSystemInfo");Z instanceof N.Dict&&(ee.cidSystemInfo={registry:(0,n.stringToPDFString)(Z.get("Registry")),ordering:(0,n.stringToPDFString)(Z.get("Ordering")),supplement:Z.get("Supplement")});try{const he=q.get("CIDToGIDMap");he instanceof F.BaseStream&&($=he.getBytes())}catch(he){if(!this.options.ignoreErrors)throw he;(0,n.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${he}".`)}}const K=[];let J=null,Y;if(q.has("Encoding")){if(Y=q.get("Encoding"),Y instanceof N.Dict){if(J=Y.get("BaseEncoding"),J=J instanceof N.Name?J.name:null,Y.has("Differences")){const Z=Y.get("Differences");let he=0;for(const le of Z){const te=se.fetchIfRef(le);if(typeof te=="number")he=te;else if(te instanceof N.Name)K[he++]=te.name;else throw new n.FormatError(`Invalid entry in 'Differences' array: ${te}`)}}}else if(Y instanceof N.Name)J=Y.name;else{const Z="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new n.FormatError(Z);(0,n.warn)(Z)}J!=="MacRomanEncoding"&&J!=="MacExpertEncoding"&&J!=="WinAnsiEncoding"&&(J=null)}const ie=!ee.file||ee.isInternalFont,re=(0,r.getSymbolsFonts)()[ee.name];if(J&&ie&&re&&(J=null),J)ee.defaultEncoding=(0,t.getEncoding)(J);else{const Z=!!(ee.flags&L.FontFlags.Symbolic),he=!!(ee.flags&L.FontFlags.Nonsymbolic);Y=t.StandardEncoding,ee.type==="TrueType"&&!he&&(Y=t.WinAnsiEncoding),(Z||re)&&(Y=t.MacRomanEncoding,ie&&(/Symbol/i.test(ee.name)?Y=t.SymbolSetEncoding:/Dingbats/i.test(ee.name)?Y=t.ZapfDingbatsEncoding:/Wingdings/i.test(ee.name)&&(Y=t.WinAnsiEncoding))),ee.defaultEncoding=Y}return ee.differences=K,ee.baseEncodingName=J,ee.hasEncoding=!!J||K.length>0,ee.dict=q,U.then(Z=>(ee.toUnicode=Z,this.buildToUnicode(ee))).then(Z=>(ee.toUnicode=Z,$&&(ee.cidToGidMap=this.readCidToGidMap($,Z)),ee))}_simpleFontToUnicode(q,ce=!1){(0,n.assert)(!q.composite,"Must be a simple font.");const ee=[],se=q.defaultEncoding.slice(),$=q.baseEncodingName,U=q.differences;for(const J in U){const Y=U[J];Y!==".notdef"&&(se[J]=Y)}const K=(0,V.getGlyphsUnicode)();for(const J in se){let Y=se[J];if(Y==="")continue;let ie=K[Y];if(ie!==void 0){ee[J]=String.fromCharCode(ie);continue}let re=0;switch(Y[0]){case"G":Y.length===3&&(re=parseInt(Y.substring(1),16));break;case"g":Y.length===5&&(re=parseInt(Y.substring(1),16));break;case"C":case"c":if(Y.length>=3&&Y.length<=4){const Z=Y.substring(1);if(ce){re=parseInt(Z,16);break}if(re=+Z,Number.isNaN(re)&&Number.isInteger(parseInt(Z,16)))return this._simpleFontToUnicode(q,!0)}break;case"u":ie=(0,_.getUnicodeForGlyph)(Y,K),ie!==-1&&(re=ie);break;default:switch(Y){case"f_h":case"f_t":case"T_h":ee[J]=Y.replaceAll("_","");continue}break}if(re>0&&re<=1114111&&Number.isInteger(re)){if($&&re===+J){const Z=(0,t.getEncoding)($);if(Z&&(Y=Z[J])){ee[J]=String.fromCharCode(K[Y]);continue}}ee[J]=String.fromCodePoint(re)}}return ee}async buildToUnicode(q){var ce;if(q.hasIncludedToUnicodeMap=((ce=q.toUnicode)==null?void 0:ce.length)>0,q.hasIncludedToUnicodeMap)return!q.composite&&q.hasEncoding&&(q.fallbackToUnicode=this._simpleFontToUnicode(q)),q.toUnicode;if(!q.composite)return new M.ToUnicodeMap(this._simpleFontToUnicode(q));if(q.composite&&(q.cMap.builtInCMap&&!(q.cMap instanceof S.IdentityCMap)||q.cidSystemInfo.registry==="Adobe"&&(q.cidSystemInfo.ordering==="GB1"||q.cidSystemInfo.ordering==="CNS1"||q.cidSystemInfo.ordering==="Japan1"||q.cidSystemInfo.ordering==="Korea1"))){const{registry:ee,ordering:se}=q.cidSystemInfo,$=N.Name.get(`${ee}-${se}-UCS2`),U=await S.CMapFactory.create({encoding:$,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),K=[],J=[];return q.cMap.forEach(function(Y,ie){if(ie>65535)throw new n.FormatError("Max size of CID is 65,535");const re=U.lookup(ie);if(re){J.length=0;for(let Z=0,he=re.length;Z<he;Z+=2)J.push((re.charCodeAt(Z)<<8)+re.charCodeAt(Z+1));K[Y]=String.fromCharCode(...J)}}),new M.ToUnicodeMap(K)}return new M.IdentityToUnicodeMap(q.firstChar,q.lastChar)}readToUnicode(q){return q?q instanceof N.Name?S.CMapFactory.create({encoding:q,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(ce){return ce instanceof S.IdentityCMap?new M.IdentityToUnicodeMap(0,65535):new M.ToUnicodeMap(ce.getMap())}):q instanceof F.BaseStream?S.CMapFactory.create({encoding:q,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(ce){if(ce instanceof S.IdentityCMap)return new M.IdentityToUnicodeMap(0,65535);const ee=new Array(ce.length);return ce.forEach(function(se,$){if(typeof $=="number"){ee[se]=String.fromCodePoint($);return}const U=[];for(let K=0;K<$.length;K+=2){const J=$.charCodeAt(K)<<8|$.charCodeAt(K+1);if((J&63488)!==55296){U.push(J);continue}K+=2;const Y=$.charCodeAt(K)<<8|$.charCodeAt(K+1);U.push(((J&1023)<<10)+(Y&1023)+65536)}ee[se]=String.fromCodePoint(...U)}),new M.ToUnicodeMap(ee)},ce=>{if(ce instanceof n.AbortException)return null;if(this.options.ignoreErrors)return(0,n.warn)(`readToUnicode - ignoring ToUnicode data: "${ce}".`),null;throw ce}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(q,ce){const ee=[];for(let se=0,$=q.length;se<$;se++){const U=q[se++]<<8|q[se],K=se>>1;U===0&&!ce.has(K)||(ee[K]=U)}return ee}extractWidths(q,ce,ee){const se=this.xref;let $=[],U=0;const K=[];let J,Y,ie,re,Z,he,le,te;if(ee.composite){if(U=q.has("DW")?q.get("DW"):1e3,te=q.get("W"),te)for(Y=0,ie=te.length;Y<ie;Y++)if(he=se.fetchIfRef(te[Y++]),le=se.fetchIfRef(te[Y]),Array.isArray(le))for(re=0,Z=le.length;re<Z;re++)$[he++]=se.fetchIfRef(le[re]);else{const ye=se.fetchIfRef(te[++Y]);for(re=he;re<=le;re++)$[re]=ye}if(ee.vertical){let ye=q.getArray("DW2")||[880,-1e3];if(J=[ye[1],U*.5,ye[0]],ye=q.get("W2"),ye)for(Y=0,ie=ye.length;Y<ie;Y++)if(he=se.fetchIfRef(ye[Y++]),le=se.fetchIfRef(ye[Y]),Array.isArray(le))for(re=0,Z=le.length;re<Z;re++)K[he++]=[se.fetchIfRef(le[re++]),se.fetchIfRef(le[re++]),se.fetchIfRef(le[re])];else{const Ee=[se.fetchIfRef(ye[++Y]),se.fetchIfRef(ye[++Y]),se.fetchIfRef(ye[++Y])];for(re=he;re<=le;re++)K[re]=Ee}}}else{const ye=ee.firstChar;if(te=q.get("Widths"),te){for(re=ye,Y=0,ie=te.length;Y<ie;Y++)$[re++]=se.fetchIfRef(te[Y]);U=parseFloat(ce.get("MissingWidth"))||0}else{const Ee=q.get("BaseFont");if(Ee instanceof N.Name){const Oe=this.getBaseFontMetrics(Ee.name);$=this.buildCharCodeToWidth(Oe.widths,ee),U=Oe.defaultWidth}}}let ue=!0,ge=U;for(const ye in $){const Ee=$[ye];if(Ee){if(!ge){ge=Ee;continue}if(ge!==Ee){ue=!1;break}}}ue?ee.flags|=L.FontFlags.FixedPitch:ee.flags&=~L.FontFlags.FixedPitch,ee.defaultWidth=U,ee.widths=$,ee.defaultVMetrics=J,ee.vmetrics=K}isSerifFont(q){const ce=q.split("-")[0];return ce in(0,r.getSerifFonts)()||/serif/gi.test(ce)}getBaseFontMetrics(q){let ce=0,ee=Object.create(null),se=!1,U=(0,r.getStdFontMap)()[q]||q;const K=(0,k.getMetrics)();U in K||(U=this.isSerifFont(q)?"Times-Roman":"Helvetica");const J=K[U];return typeof J=="number"?(ce=J,se=!0):ee=J(),{defaultWidth:ce,monospace:se,widths:ee}}buildCharCodeToWidth(q,ce){const ee=Object.create(null),se=ce.differences,$=ce.defaultEncoding;for(let U=0;U<256;U++){if(U in se&&q[se[U]]){ee[U]=q[se[U]];continue}if(U in $&&q[$[U]]){ee[U]=q[$[U]];continue}}return ee}preEvaluateFont(q){const ce=q;let ee=q.get("Subtype");if(!(ee instanceof N.Name))throw new n.FormatError("invalid font Subtype");let se=!1,$,U;if(ee.name==="Type0"){const ie=q.get("DescendantFonts");if(!ie)throw new n.FormatError("Descendant fonts are not specified");if(q=Array.isArray(ie)?this.xref.fetchIfRef(ie[0]):ie,!(q instanceof N.Dict))throw new n.FormatError("Descendant font is not a dictionary.");if(ee=q.get("Subtype"),!(ee instanceof N.Name))throw new n.FormatError("invalid font Subtype");se=!0}const K=q.get("FirstChar")||0,J=q.get("LastChar")||(se?65535:255),Y=q.get("FontDescriptor");if(Y){$=new x.MurmurHash3_64;const ie=ce.getRaw("Encoding");if(ie instanceof N.Name)$.update(ie.name);else if(ie instanceof N.Ref)$.update(ie.toString());else if(ie instanceof N.Dict){for(const Z of ie.getRawValues())if(Z instanceof N.Name)$.update(Z.name);else if(Z instanceof N.Ref)$.update(Z.toString());else if(Array.isArray(Z)){const he=Z.length,le=new Array(he);for(let te=0;te<he;te++){const ue=Z[te];ue instanceof N.Name?le[te]=ue.name:(typeof ue=="number"||ue instanceof N.Ref)&&(le[te]=ue.toString())}$.update(le.join())}}if($.update(`${K}-${J}`),U=q.get("ToUnicode")||ce.get("ToUnicode"),U instanceof F.BaseStream){const Z=U.str||U,he=Z.buffer?new Uint8Array(Z.buffer.buffer,0,Z.bufferLength):new Uint8Array(Z.bytes.buffer,Z.start,Z.end-Z.start);$.update(he)}else U instanceof N.Name&&$.update(U.name);const re=q.get("Widths")||ce.get("Widths");if(Array.isArray(re)){const Z=[];for(const he of re)(typeof he=="number"||he instanceof N.Ref)&&Z.push(he.toString());$.update(Z.join())}if(se){$.update("compositeFont");const Z=q.get("W")||ce.get("W");if(Array.isArray(Z)){const le=[];for(const te of Z)if(typeof te=="number"||te instanceof N.Ref)le.push(te.toString());else if(Array.isArray(te)){const ue=[];for(const ge of te)(typeof ge=="number"||ge instanceof N.Ref)&&ue.push(ge.toString());le.push(`[${ue.join()}]`)}$.update(le.join())}const he=q.getRaw("CIDToGIDMap")||ce.getRaw("CIDToGIDMap");he instanceof N.Name?$.update(he.name):he instanceof N.Ref?$.update(he.toString()):he instanceof F.BaseStream&&$.update(he.peekBytes())}}return{descriptor:Y,dict:q,baseDict:ce,composite:se,type:ee.name,firstChar:K,lastChar:J,toUnicode:U,hash:$?$.hexdigest():""}}async translateFont({descriptor:q,dict:ce,baseDict:ee,composite:se,type:$,firstChar:U,lastChar:K,toUnicode:J,cssFontInfo:Y}){const ie=$==="Type3";let re;if(!q)if(ie)q=new N.Dict(null),q.set("FontName",N.Name.get($)),q.set("FontBBox",ce.getArray("FontBBox")||[0,0,0,0]);else{let ke=ce.get("BaseFont");if(!(ke instanceof N.Name))throw new n.FormatError("Base font is not specified");ke=ke.name.replaceAll(/[,_]/g,"-");const _e=this.getBaseFontMetrics(ke),je=ke.split("-")[0],Re=(this.isSerifFont(je)?L.FontFlags.Serif:0)|(_e.monospace?L.FontFlags.FixedPitch:0)|((0,r.getSymbolsFonts)()[je]?L.FontFlags.Symbolic:L.FontFlags.Nonsymbolic);re={type:$,name:ke,loadedName:ee.loadedName,systemFontInfo:null,widths:_e.widths,defaultWidth:_e.defaultWidth,isSimulatedFlags:!0,flags:Re,firstChar:U,lastChar:K,toUnicode:J,xHeight:0,capHeight:0,italicAngle:0,isType3Font:ie};const be=ce.get("Widths"),Ce=(0,r.getStandardFontName)(ke);let $e=null;return Ce&&($e=await this.fetchStandardFontData(Ce),re.isInternalFont=!!$e),!re.isInternalFont&&this.options.useSystemFonts&&(re.systemFontInfo=(0,B.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,ke,Ce)),this.extractDataStructures(ce,ce,re).then(Pe=>{if(be){const ze=[];let We=U;for(const ut of be)ze[We++]=this.xref.fetchIfRef(ut);Pe.widths=ze}else Pe.widths=this.buildCharCodeToWidth(_e.widths,Pe);return new e.Font(ke,$e,Pe)})}let Z=q.get("FontName"),he=ce.get("BaseFont");typeof Z=="string"&&(Z=N.Name.get(Z)),typeof he=="string"&&(he=N.Name.get(he));const le=Z==null?void 0:Z.name,te=he==null?void 0:he.name;if(!ie&&le!==te&&((0,n.info)(`The FontDescriptor's FontName is "${le}" but should be the same as the Font's BaseFont "${te}".`),le&&te&&(te.startsWith(le)||!(0,r.isKnownFontName)(le)&&(0,r.isKnownFontName)(te))&&(Z=null)),Z||(Z=he),!(Z instanceof N.Name))throw new n.FormatError("invalid font name");let ue,ge,ye,Ee,Oe;try{ue=q.get("FontFile","FontFile2","FontFile3")}catch(ke){if(!this.options.ignoreErrors)throw ke;(0,n.warn)(`translateFont - fetching "${Z.name}" font file: "${ke}".`),ue=new i.NullStream}let ve=!1,Se=null,Ae=null;if(ue){if(ue.dict){const ke=ue.dict.get("Subtype");ke instanceof N.Name&&(ge=ke.name),ye=ue.dict.get("Length1"),Ee=ue.dict.get("Length2"),Oe=ue.dict.get("Length3")}}else if(Y){const ke=(0,j.getXfaFontName)(Z.name);ke&&(Y.fontFamily=`${Y.fontFamily}-PdfJS-XFA`,Y.metrics=ke.metrics||null,Se=ke.factors||null,ue=await this.fetchStandardFontData(ke.name),ve=!!ue,ee=ce=(0,j.getXfaFontDict)(Z.name),se=!0)}else if(!ie){const ke=(0,r.getStandardFontName)(Z.name);ke&&(ue=await this.fetchStandardFontData(ke),ve=!!ue),!ve&&this.options.useSystemFonts&&(Ae=(0,B.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,Z.name,ke))}if(re={type:$,name:Z.name,subtype:ge,file:ue,length1:ye,length2:Ee,length3:Oe,isInternalFont:ve,loadedName:ee.loadedName,composite:se,fixedPitch:!1,fontMatrix:ce.getArray("FontMatrix")||n.FONT_IDENTITY_MATRIX,firstChar:U,lastChar:K,toUnicode:J,bbox:q.getArray("FontBBox")||ce.getArray("FontBBox"),ascent:q.get("Ascent"),descent:q.get("Descent"),xHeight:q.get("XHeight")||0,capHeight:q.get("CapHeight")||0,flags:q.get("Flags"),italicAngle:q.get("ItalicAngle")||0,isType3Font:ie,cssFontInfo:Y,scaleFactors:Se,systemFontInfo:Ae},se){const ke=ee.get("Encoding");ke instanceof N.Name&&(re.cidEncoding=ke.name);const _e=await S.CMapFactory.create({encoding:ke,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});re.cMap=_e,re.vertical=re.cMap.vertical}return this.extractDataStructures(ce,ee,re).then(ke=>(this.extractWidths(ce,q,ke),new e.Font(Z.name,ue,ke)))}static buildFontPaths(q,ce,ee,se){function $(U){const K=`${q.loadedName}_path_${U}`;try{if(q.renderer.hasBuiltPath(U))return;ee.send("commonobj",[K,"FontPath",q.renderer.getPathJs(U)])}catch(J){if(se.ignoreErrors){(0,n.warn)(`buildFontPaths - ignoring ${K} glyph: "${J}".`);return}throw J}}for(const U of ce){$(U.fontChar);const K=U.accent;K!=null&&K.fontChar&&$(K.fontChar)}}static get fallbackFontDict(){const q=new N.Dict;return q.set("BaseFont",N.Name.get("Helvetica")),q.set("Type",N.Name.get("FallbackType")),q.set("Subtype",N.Name.get("FallbackType")),q.set("Encoding",N.Name.get("WinAnsiEncoding")),(0,n.shadow)(this,"fallbackFontDict",q)}}m.PartialEvaluator=o;class y{constructor({loadedName:q,font:ce,dict:ee,evaluatorOptions:se}){this.loadedName=q,this.font=ce,this.dict=ee,this._evaluatorOptions=se||g,this.type3Loaded=null,this.type3Dependencies=ce.isType3Font?new Set:null,this.sent=!1}send(q){this.sent||(this.sent=!0,q.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(q){this.font.data&&(this.font.disableFontFace=!0,o.buildFontPaths(this.font,this.font.glyphCacheValues,q,this._evaluatorOptions))}loadType3Data(q,ce,ee){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const se=q.clone({ignoreErrors:!1});se.parsingType3Font=!0;const $=new N.RefSet(q.type3FontRefs);this.dict.objId&&!$.has(this.dict.objId)&&$.put(this.dict.objId),se.type3FontRefs=$;const U=this.font,K=this.type3Dependencies;let J=Promise.resolve();const Y=this.dict.get("CharProcs"),ie=this.dict.get("Resources")||ce,re=Object.create(null),Z=n.Util.normalizeRect(U.bbox||[0,0,0,0]),he=Z[2]-Z[0],le=Z[3]-Z[1],te=Math.hypot(he,le);for(const ue of Y.getKeys())J=J.then(()=>{const ge=Y.get(ue),ye=new X.OperatorList;return se.getOperatorList({stream:ge,task:ee,resources:ie,operatorList:ye}).then(()=>{ye.fnArray[0]===n.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(ye,te),re[ue]=ye.getIR();for(const Ee of ye.dependencies)K.add(Ee)}).catch(function(Ee){(0,n.warn)(`Type3 font resource "${ue}" is not available.`);const Oe=new X.OperatorList;re[ue]=Oe.getIR()})});return this.type3Loaded=J.then(()=>{U.charProcOperatorList=re,this._bbox&&(U.isCharBBox=!0,U.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(q,ce=NaN){const ee=n.Util.normalizeRect(q.argsArray[0].slice(2)),se=ee[2]-ee[0],$=ee[3]-ee[1],U=Math.hypot(se,$);se===0||$===0?(q.fnArray.splice(0,1),q.argsArray.splice(0,1)):(ce===0||Math.round(U/ce)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],ee[0]),this._bbox[1]=Math.min(this._bbox[1],ee[1]),this._bbox[2]=Math.max(this._bbox[2],ee[2]),this._bbox[3]=Math.max(this._bbox[3],ee[3]));let K=0,J=q.length;for(;K<J;){switch(q.fnArray[K]){case n.OPS.setCharWidthAndBounds:break;case n.OPS.setStrokeColorSpace:case n.OPS.setFillColorSpace:case n.OPS.setStrokeColor:case n.OPS.setStrokeColorN:case n.OPS.setFillColor:case n.OPS.setFillColorN:case n.OPS.setStrokeGray:case n.OPS.setFillGray:case n.OPS.setStrokeRGBColor:case n.OPS.setFillRGBColor:case n.OPS.setStrokeCMYKColor:case n.OPS.setFillCMYKColor:case n.OPS.shadingFill:case n.OPS.setRenderingIntent:q.fnArray.splice(K,1),q.argsArray.splice(K,1),J--;continue;case n.OPS.setGState:const[Y]=q.argsArray[K];let ie=0,re=Y.length;for(;ie<re;){const[Z]=Y[ie];switch(Z){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":Y.splice(ie,1),re--;continue}ie++}break}K++}}}class c{constructor(q=new O){this.state=q,this.stateStack=[]}save(){const q=this.state;this.stateStack.push(this.state),this.state=q.clone()}restore(){const q=this.stateStack.pop();q&&(this.state=q)}transform(q){this.state.ctm=n.Util.transform(this.state.ctm,q)}}class h{constructor(){this.ctm=new Float32Array(n.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.loadedName=null,this.font=null,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.textMatrix=n.IDENTITY_MATRIX.slice(),this.textLineMatrix=n.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(q,ce,ee,se,$,U){const K=this.textMatrix;K[0]=q,K[1]=ce,K[2]=ee,K[3]=se,K[4]=$,K[5]=U}setTextLineMatrix(q,ce,ee,se,$,U){const K=this.textLineMatrix;K[0]=q,K[1]=ce,K[2]=ee,K[3]=se,K[4]=$,K[5]=U}translateTextMatrix(q,ce){const ee=this.textMatrix;ee[4]=ee[0]*q+ee[2]*ce+ee[4],ee[5]=ee[1]*q+ee[3]*ce+ee[5]}translateTextLineMatrix(q,ce){const ee=this.textLineMatrix;ee[4]=ee[0]*q+ee[2]*ce+ee[4],ee[5]=ee[1]*q+ee[3]*ce+ee[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const q=Object.create(this);return q.textMatrix=this.textMatrix.slice(),q.textLineMatrix=this.textLineMatrix.slice(),q.fontMatrix=this.fontMatrix.slice(),q}}class O{constructor(){this.ctm=new Float32Array(n.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=n.TextRenderingMode.FILL,this.fillColorSpace=T.ColorSpace.singletons.gray,this.strokeColorSpace=T.ColorSpace.singletons.gray}clone(){return Object.create(this)}}const H=class H{static get opMap(){return(0,n.shadow)(this,"opMap",{w:{id:n.OPS.setLineWidth,numArgs:1,variableArgs:!1},J:{id:n.OPS.setLineCap,numArgs:1,variableArgs:!1},j:{id:n.OPS.setLineJoin,numArgs:1,variableArgs:!1},M:{id:n.OPS.setMiterLimit,numArgs:1,variableArgs:!1},d:{id:n.OPS.setDash,numArgs:2,variableArgs:!1},ri:{id:n.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},i:{id:n.OPS.setFlatness,numArgs:1,variableArgs:!1},gs:{id:n.OPS.setGState,numArgs:1,variableArgs:!1},q:{id:n.OPS.save,numArgs:0,variableArgs:!1},Q:{id:n.OPS.restore,numArgs:0,variableArgs:!1},cm:{id:n.OPS.transform,numArgs:6,variableArgs:!1},m:{id:n.OPS.moveTo,numArgs:2,variableArgs:!1},l:{id:n.OPS.lineTo,numArgs:2,variableArgs:!1},c:{id:n.OPS.curveTo,numArgs:6,variableArgs:!1},v:{id:n.OPS.curveTo2,numArgs:4,variableArgs:!1},y:{id:n.OPS.curveTo3,numArgs:4,variableArgs:!1},h:{id:n.OPS.closePath,numArgs:0,variableArgs:!1},re:{id:n.OPS.rectangle,numArgs:4,variableArgs:!1},S:{id:n.OPS.stroke,numArgs:0,variableArgs:!1},s:{id:n.OPS.closeStroke,numArgs:0,variableArgs:!1},f:{id:n.OPS.fill,numArgs:0,variableArgs:!1},F:{id:n.OPS.fill,numArgs:0,variableArgs:!1},"f*":{id:n.OPS.eoFill,numArgs:0,variableArgs:!1},B:{id:n.OPS.fillStroke,numArgs:0,variableArgs:!1},"B*":{id:n.OPS.eoFillStroke,numArgs:0,variableArgs:!1},b:{id:n.OPS.closeFillStroke,numArgs:0,variableArgs:!1},"b*":{id:n.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},n:{id:n.OPS.endPath,numArgs:0,variableArgs:!1},W:{id:n.OPS.clip,numArgs:0,variableArgs:!1},"W*":{id:n.OPS.eoClip,numArgs:0,variableArgs:!1},BT:{id:n.OPS.beginText,numArgs:0,variableArgs:!1},ET:{id:n.OPS.endText,numArgs:0,variableArgs:!1},Tc:{id:n.OPS.setCharSpacing,numArgs:1,variableArgs:!1},Tw:{id:n.OPS.setWordSpacing,numArgs:1,variableArgs:!1},Tz:{id:n.OPS.setHScale,numArgs:1,variableArgs:!1},TL:{id:n.OPS.setLeading,numArgs:1,variableArgs:!1},Tf:{id:n.OPS.setFont,numArgs:2,variableArgs:!1},Tr:{id:n.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},Ts:{id:n.OPS.setTextRise,numArgs:1,variableArgs:!1},Td:{id:n.OPS.moveText,numArgs:2,variableArgs:!1},TD:{id:n.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},Tm:{id:n.OPS.setTextMatrix,numArgs:6,variableArgs:!1},"T*":{id:n.OPS.nextLine,numArgs:0,variableArgs:!1},Tj:{id:n.OPS.showText,numArgs:1,variableArgs:!1},TJ:{id:n.OPS.showSpacedText,numArgs:1,variableArgs:!1},"'":{id:n.OPS.nextLineShowText,numArgs:1,variableArgs:!1},'"':{id:n.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},d0:{id:n.OPS.setCharWidth,numArgs:2,variableArgs:!1},d1:{id:n.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},CS:{id:n.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},cs:{id:n.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},SC:{id:n.OPS.setStrokeColor,numArgs:4,variableArgs:!0},SCN:{id:n.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},sc:{id:n.OPS.setFillColor,numArgs:4,variableArgs:!0},scn:{id:n.OPS.setFillColorN,numArgs:33,variableArgs:!0},G:{id:n.OPS.setStrokeGray,numArgs:1,variableArgs:!1},g:{id:n.OPS.setFillGray,numArgs:1,variableArgs:!1},RG:{id:n.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},rg:{id:n.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},K:{id:n.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},k:{id:n.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},sh:{id:n.OPS.shadingFill,numArgs:1,variableArgs:!1},BI:{id:n.OPS.beginInlineImage,numArgs:0,variableArgs:!1},ID:{id:n.OPS.beginImageData,numArgs:0,variableArgs:!1},EI:{id:n.OPS.endInlineImage,numArgs:1,variableArgs:!1},Do:{id:n.OPS.paintXObject,numArgs:1,variableArgs:!1},MP:{id:n.OPS.markPoint,numArgs:1,variableArgs:!1},DP:{id:n.OPS.markPointProps,numArgs:2,variableArgs:!1},BMC:{id:n.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},BDC:{id:n.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},EMC:{id:n.OPS.endMarkedContent,numArgs:0,variableArgs:!1},BX:{id:n.OPS.beginCompat,numArgs:0,variableArgs:!1},EX:{id:n.OPS.endCompat,numArgs:0,variableArgs:!1},BM:null,BD:null,true:null,fa:null,fal:null,fals:null,false:null,nu:null,nul:null,null:null})}constructor(q,ce,ee=new c){this.parser=new d.Parser({lexer:new d.Lexer(q,H.opMap),xref:ce}),this.stateManager=ee,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(q){let ce=q.args;for(;;){const ee=this.parser.getObj();if(ee instanceof N.Cmd){const se=ee.cmd,$=H.opMap[se];if(!$){(0,n.warn)(`Unknown command "${se}".`);continue}const U=$.id,K=$.numArgs;let J=ce!==null?ce.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=U>=n.OPS.moveTo&&U<=n.OPS.endPath,$.variableArgs)J>K&&(0,n.info)(`Command ${se}: expected [0, ${K}] args, but received ${J} args.`);else{if(J!==K){const Y=this.nonProcessedArgs;for(;J>K;)Y.push(ce.shift()),J--;for(;J<K&&Y.length!==0;)ce===null&&(ce=[]),ce.unshift(Y.pop()),J++}if(J<K){const Y=`command ${se}: expected ${K} args, but received ${J} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>H.MAX_INVALID_PATH_OPS)throw new n.FormatError(`Invalid ${Y}`);(0,n.warn)(`Skipping ${Y}`),ce!==null&&(ce.length=0);continue}}return this.preprocessCommand(U,ce),q.fn=U,q.args=ce,!0}if(ee===N.EOF)return!1;if(ee!==null&&(ce===null&&(ce=[]),ce.push(ee),ce.length>33))throw new n.FormatError("Too many arguments")}}preprocessCommand(q,ce){switch(q|0){case n.OPS.save:this.stateManager.save();break;case n.OPS.restore:this.stateManager.restore();break;case n.OPS.transform:this.stateManager.transform(ce);break}}};Dt(H,"MAX_INVALID_PATH_OPS",10);let W=H;m.EvaluatorPreprocessor=W},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.IdentityCMap=m.CMapFactory=m.CMap=void 0;var n=Q(2),S=Q(4),N=Q(5),e=Q(15),t=Q(16),r=Q(3),z=Q(8);const j=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],M=2**24-1;class I{constructor(g=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=g}addCodespaceRange(g,P,G){this.codespaceRanges[g-1].push(P,G),this.numCodespaceRanges++}mapCidRange(g,P,G){if(P-g>M)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;g<=P;)this._map[g++]=G++}mapBfRange(g,P,G){if(P-g>M)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const D=G.length-1;for(;g<=P;){this._map[g++]=G;const w=G.charCodeAt(D)+1;if(w>255){G=G.substring(0,D-1)+String.fromCharCode(G.charCodeAt(D-1)+1)+"\0";continue}G=G.substring(0,D)+String.fromCharCode(w)}}mapBfRangeToArray(g,P,G){if(P-g>M)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const D=G.length;let w=0;for(;g<=P&&w<D;)this._map[g]=G[w++],++g}mapOne(g,P){this._map[g]=P}lookup(g){return this._map[g]}contains(g){return this._map[g]!==void 0}forEach(g){const P=this._map,G=P.length;if(G<=65536)for(let D=0;D<G;D++)P[D]!==void 0&&g(D,P[D]);else for(const D in P)g(D,P[D])}charCodeOf(g){const P=this._map;if(P.length<=65536)return P.indexOf(g);for(const G in P)if(P[G]===g)return G|0;return-1}getMap(){return this._map}readCharCode(g,P,G){let D=0;const w=this.codespaceRanges;for(let A=0,v=w.length;A<v;A++){D=(D<<8|g.charCodeAt(P+A))>>>0;const o=w[A];for(let y=0,c=o.length;y<c;){const h=o[y++],O=o[y++];if(D>=h&&D<=O){G.charcode=D,G.length=A+1;return}}}G.charcode=0,G.length=1}getCharCodeLength(g){const P=this.codespaceRanges;for(let G=0,D=P.length;G<D;G++){const w=P[G];for(let A=0,v=w.length;A<v;){const o=w[A++],y=w[A++];if(g>=o&&g<=y)return G+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let g=0;g<65536;g++)if(this._map[g]!==g)return!1;return!0}}m.CMap=I;class d extends I{constructor(g,P){super(),this.vertical=g,this.addCodespaceRange(P,0,65535)}mapCidRange(g,P,G){(0,n.unreachable)("should not call mapCidRange")}mapBfRange(g,P,G){(0,n.unreachable)("should not call mapBfRange")}mapBfRangeToArray(g,P,G){(0,n.unreachable)("should not call mapBfRangeToArray")}mapOne(g,P){(0,n.unreachable)("should not call mapCidOne")}lookup(g){return Number.isInteger(g)&&g<=65535?g:void 0}contains(g){return Number.isInteger(g)&&g<=65535}forEach(g){for(let P=0;P<=65535;P++)g(P,P)}charCodeOf(g){return Number.isInteger(g)&&g<=65535?g:-1}getMap(){const g=new Array(65536);for(let P=0;P<=65535;P++)g[P]=P;return g}get length(){return 65536}get isIdentityCMap(){(0,n.unreachable)("should not access .isIdentityCMap")}}m.IdentityCMap=d;function u(a){let g=0;for(let P=0;P<a.length;P++)g=g<<8|a.charCodeAt(P);return g>>>0}function i(a){if(typeof a!="string")throw new n.FormatError("Malformed CMap: expected string.")}function F(a){if(!Number.isInteger(a))throw new n.FormatError("Malformed CMap: expected int.")}function C(a,g){for(;;){let P=g.getObj();if(P===S.EOF)break;if((0,S.isCmd)(P,"endbfchar"))return;i(P);const G=u(P);P=g.getObj(),i(P);const D=P;a.mapOne(G,D)}}function T(a,g){for(;;){let P=g.getObj();if(P===S.EOF)break;if((0,S.isCmd)(P,"endbfrange"))return;i(P);const G=u(P);P=g.getObj(),i(P);const D=u(P);if(P=g.getObj(),Number.isInteger(P)||typeof P=="string"){const w=Number.isInteger(P)?String.fromCharCode(P):P;a.mapBfRange(G,D,w)}else if((0,S.isCmd)(P,"[")){P=g.getObj();const w=[];for(;!(0,S.isCmd)(P,"]")&&P!==S.EOF;)w.push(P),P=g.getObj();a.mapBfRangeToArray(G,D,w)}else break}throw new n.FormatError("Invalid bf range.")}function b(a,g){for(;;){let P=g.getObj();if(P===S.EOF)break;if((0,S.isCmd)(P,"endcidchar"))return;i(P);const G=u(P);P=g.getObj(),F(P);const D=P;a.mapOne(G,D)}}function L(a,g){for(;;){let P=g.getObj();if(P===S.EOF)break;if((0,S.isCmd)(P,"endcidrange"))return;i(P);const G=u(P);P=g.getObj(),i(P);const D=u(P);P=g.getObj(),F(P);const w=P;a.mapCidRange(G,D,w)}}function B(a,g){for(;;){let P=g.getObj();if(P===S.EOF)break;if((0,S.isCmd)(P,"endcodespacerange"))return;if(typeof P!="string")break;const G=u(P);if(P=g.getObj(),typeof P!="string")break;const D=u(P);a.addCodespaceRange(P.length,G,D)}throw new n.FormatError("Invalid codespace range.")}function V(a,g){const P=g.getObj();Number.isInteger(P)&&(a.vertical=!!P)}function k(a,g){const P=g.getObj();P instanceof S.Name&&(a.name=P.name)}async function _(a,g,P,G){let D,w;e:for(;;)try{const A=g.getObj();if(A===S.EOF)break;if(A instanceof S.Name)A.name==="WMode"?V(a,g):A.name==="CMapName"&&k(a,g),D=A;else if(A instanceof S.Cmd)switch(A.cmd){case"endcmap":break e;case"usecmap":D instanceof S.Name&&(w=D.name);break;case"begincodespacerange":B(a,g);break;case"beginbfchar":C(a,g);break;case"begincidchar":b(a,g);break;case"beginbfrange":T(a,g);break;case"begincidrange":L(a,g);break}}catch(A){if(A instanceof r.MissingDataException)throw A;(0,n.warn)("Invalid cMap data: "+A);continue}return!G&&w&&(G=w),G?l(a,P,G):a}async function l(a,g,P){if(a.useCMap=await x(P,g),a.numCodespaceRanges===0){const G=a.useCMap.codespaceRanges;for(let D=0;D<G.length;D++)a.codespaceRanges[D]=G[D].slice();a.numCodespaceRanges=a.useCMap.numCodespaceRanges}return a.useCMap.forEach(function(G,D){a.contains(G)||a.mapOne(G,a.useCMap.lookup(G))}),a}async function x(a,g){if(a==="Identity-H")return new d(!1,2);if(a==="Identity-V")return new d(!0,2);if(!j.includes(a))throw new Error("Unknown CMap name: "+a);if(!g)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:P,compressionType:G}=await g(a),D=new I(!0);if(G===n.CMapCompressionType.BINARY)return new e.BinaryCMapReader().process(P,D,w=>l(D,g,w));if(G===n.CMapCompressionType.NONE){const w=new t.Lexer(new z.Stream(P));return _(D,w,g,null)}throw new Error(`Invalid CMap "compressionType" value: ${G}`)}class X{static async create({encoding:g,fetchBuiltInCMap:P,useCMap:G}){if(g instanceof S.Name)return x(g.name,P);if(g instanceof N.BaseStream){const D=await _(new I,new t.Lexer(g),P,G);return D.isIdentityCMap?x(D.name,P):D}throw new Error("Encoding required.")}}m.CMapFactory=X},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.BinaryCMapReader=void 0;var n=Q(2);function S(I,d){let u=0;for(let i=0;i<=d;i++)u=u<<8|I[i];return u>>>0}function N(I,d){return d===1?String.fromCharCode(I[0],I[1]):d===3?String.fromCharCode(I[0],I[1],I[2],I[3]):String.fromCharCode(...I.subarray(0,d+1))}function e(I,d,u){let i=0;for(let F=u;F>=0;F--)i+=I[F]+d[F],I[F]=i&255,i>>=8}function t(I,d){let u=1;for(let i=d;i>=0&&u>0;i--)u+=I[i],I[i]=u&255,u>>=8}const r=16,z=19;class j{constructor(d){this.buffer=d,this.pos=0,this.end=d.length,this.tmpBuf=new Uint8Array(z)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let d=0,u;do{const i=this.readByte();if(i<0)throw new n.FormatError("unexpected EOF in bcmap");u=!(i&128),d=d<<7|i&127}while(!u);return d}readSigned(){const d=this.readNumber();return d&1?~(d>>>1):d>>>1}readHex(d,u){d.set(this.buffer.subarray(this.pos,this.pos+u+1)),this.pos+=u+1}readHexNumber(d,u){let i;const F=this.tmpBuf;let C=0;do{const B=this.readByte();if(B<0)throw new n.FormatError("unexpected EOF in bcmap");i=!(B&128),F[C++]=B&127}while(!i);let T=u,b=0,L=0;for(;T>=0;){for(;L<8&&F.length>0;)b|=F[--C]<<L,L+=7;d[T]=b&255,T--,b>>=8,L-=8}}readHexSigned(d,u){this.readHexNumber(d,u);const i=d[u]&1?255:0;let F=0;for(let C=0;C<=u;C++)F=(F&1)<<8|d[C],d[C]=F>>1^i}readString(){const d=this.readNumber(),u=new Array(d);for(let i=0;i<d;i++)u[i]=this.readNumber();return String.fromCharCode(...u)}}class M{async process(d,u,i){const F=new j(d),C=F.readByte();u.vertical=!!(C&1);let T=null;const b=new Uint8Array(r),L=new Uint8Array(r),B=new Uint8Array(r),V=new Uint8Array(r),k=new Uint8Array(r);let _,l;for(;(l=F.readByte())>=0;){const x=l>>5;if(x===7){switch(l&31){case 0:F.readString();break;case 1:T=F.readString();break}continue}const X=!!(l&16),a=l&15;if(a+1>r)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const g=1,P=F.readNumber();switch(x){case 0:F.readHex(b,a),F.readHexNumber(L,a),e(L,b,a),u.addCodespaceRange(a+1,S(b,a),S(L,a));for(let G=1;G<P;G++)t(L,a),F.readHexNumber(b,a),e(b,L,a),F.readHexNumber(L,a),e(L,b,a),u.addCodespaceRange(a+1,S(b,a),S(L,a));break;case 1:F.readHex(b,a),F.readHexNumber(L,a),e(L,b,a),F.readNumber();for(let G=1;G<P;G++)t(L,a),F.readHexNumber(b,a),e(b,L,a),F.readHexNumber(L,a),e(L,b,a),F.readNumber();break;case 2:F.readHex(B,a),_=F.readNumber(),u.mapOne(S(B,a),_);for(let G=1;G<P;G++)t(B,a),X||(F.readHexNumber(k,a),e(B,k,a)),_=F.readSigned()+(_+1),u.mapOne(S(B,a),_);break;case 3:F.readHex(b,a),F.readHexNumber(L,a),e(L,b,a),_=F.readNumber(),u.mapCidRange(S(b,a),S(L,a),_);for(let G=1;G<P;G++)t(L,a),X?b.set(L):(F.readHexNumber(b,a),e(b,L,a)),F.readHexNumber(L,a),e(L,b,a),_=F.readNumber(),u.mapCidRange(S(b,a),S(L,a),_);break;case 4:F.readHex(B,g),F.readHex(V,a),u.mapOne(S(B,g),N(V,a));for(let G=1;G<P;G++)t(B,g),X||(F.readHexNumber(k,g),e(B,k,g)),t(V,a),F.readHexSigned(k,a),e(V,k,a),u.mapOne(S(B,g),N(V,a));break;case 5:F.readHex(b,g),F.readHexNumber(L,g),e(L,b,g),F.readHex(V,a),u.mapBfRange(S(b,g),S(L,g),N(V,a));for(let G=1;G<P;G++)t(L,g),X?b.set(L):(F.readHexNumber(b,g),e(b,L,g)),F.readHexNumber(L,g),e(L,b,g),F.readHex(V,a),u.mapBfRange(S(b,g),S(L,g),N(V,a));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${x}`)}}return T?i(T):u}}m.BinaryCMapReader=M},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.Parser=m.Linearization=m.Lexer=void 0;var n=Q(2),S=Q(4),N=Q(3),e=Q(8),t=Q(17),r=Q(19),z=Q(20),j=Q(22),M=Q(23),I=Q(26),d=Q(29),u=Q(31),i=Q(32),F=Q(33);const C=1e3;function T(_){const l=[],x=_.length;let X=0;for(;X<x-1;)l.push(_[X++]<<8|_[X++]);return X<x&&l.push(_[X]),x+"_"+String.fromCharCode.apply(null,l)}class b{constructor({lexer:l,xref:x,allowStreams:X=!1,recoveryMode:a=!1}){this.lexer=l,this.xref=x,this.allowStreams=X,this.recoveryMode=a,this.imageCache=Object.create(null),this._imageId=0,this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof S.Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(l){if(l instanceof N.MissingDataException)throw l;return!1}}getObj(l=null){const x=this.buf1;if(this.shift(),x instanceof S.Cmd)switch(x.cmd){case"BI":return this.makeInlineImage(l);case"[":const X=[];for(;!(0,S.isCmd)(this.buf1,"]")&&this.buf1!==S.EOF;)X.push(this.getObj(l));if(this.buf1===S.EOF){if(this.recoveryMode)return X;throw new N.ParserEOFException("End of file inside array.")}return this.shift(),X;case"<<":const a=new S.Dict(this.xref);for(;!(0,S.isCmd)(this.buf1,">>")&&this.buf1!==S.EOF;){if(!(this.buf1 instanceof S.Name)){(0,n.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const g=this.buf1.name;if(this.shift(),this.buf1===S.EOF)break;a.set(g,this.getObj(l))}if(this.buf1===S.EOF){if(this.recoveryMode)return a;throw new N.ParserEOFException("End of file inside dictionary.")}return(0,S.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(a,l):a:(this.shift(),a);default:return x}if(Number.isInteger(x)){if(Number.isInteger(this.buf1)&&(0,S.isCmd)(this.buf2,"R")){const X=S.Ref.get(x,this.buf1);return this.shift(),this.shift(),X}return x}return typeof x=="string"&&l?l.decryptString(x):x}findDefaultInlineStreamEnd(l){const{knownCommands:D}=this.lexer,w=l.pos,A=15;let v=0,o,y;for(;(o=l.getByte())!==-1;)if(v===0)v=o===69?1:0;else if(v===1)v=o===73?2:0;else if(o===32||o===10||o===13){y=l.pos;const h=l.peekBytes(A),O=h.length;if(O===0)break;for(let H=0;H<O;H++)if(o=h[H],!(o===0&&h[H+1]!==0)&&o!==10&&o!==13&&(o<32||o>127)){v=0;break}if(v!==2)continue;if(!D){(0,n.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");continue}const W=new V(new e.Stream(h.slice()),D);W._hexStringWarn=()=>{};let R=0;for(;;){const H=W.getObj();if(H===S.EOF){v=0;break}if(H instanceof S.Cmd){const ae=D[H.cmd];if(ae){if(ae.variableArgs?R<=ae.numArgs:R===ae.numArgs)break}else{v=0;break}R=0;continue}R++}if(v===2)break}else v=0;o===-1&&((0,n.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),y&&((0,n.warn)('... trying to recover by using the last "EI" occurrence.'),l.skip(-(l.pos-y))));let c=4;return l.skip(-c),o=l.peekByte(),l.skip(c),(0,N.isWhiteSpace)(o)||c--,l.pos-c-w}findDCTDecodeInlineStreamEnd(l){const x=l.pos;let X=!1,a,g;for(;(a=l.getByte())!==-1;)if(a===255){switch(l.getByte()){case 0:break;case 255:l.skip(-1);break;case 217:X=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:g=l.getUint16(),g>2?l.skip(g-2):l.skip(-2);break}if(X)break}const P=l.pos-x;return a===-1?((0,n.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),l.skip(-P),this.findDefaultInlineStreamEnd(l)):(this.inlineStreamSkipEI(l),P)}findASCII85DecodeInlineStreamEnd(l){const a=l.pos;let g;for(;(g=l.getByte())!==-1;)if(g===126){const G=l.pos;for(g=l.peekByte();(0,N.isWhiteSpace)(g);)l.skip(),g=l.peekByte();if(g===62){l.skip();break}if(l.pos>G){const D=l.peekBytes(2);if(D[0]===69&&D[1]===73)break}}const P=l.pos-a;return g===-1?((0,n.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),l.skip(-P),this.findDefaultInlineStreamEnd(l)):(this.inlineStreamSkipEI(l),P)}findASCIIHexDecodeInlineStreamEnd(l){const X=l.pos;let a;for(;(a=l.getByte())!==-1&&a!==62;);const g=l.pos-X;return a===-1?((0,n.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),l.skip(-g),this.findDefaultInlineStreamEnd(l)):(this.inlineStreamSkipEI(l),g)}inlineStreamSkipEI(l){let a=0,g;for(;(g=l.getByte())!==-1;)if(a===0)a=g===69?1:0;else if(a===1)a=g===73?2:0;else if(a===2)break}makeInlineImage(l){const x=this.lexer,X=x.stream,a=Object.create(null);let g;for(;!(0,S.isCmd)(this.buf1,"ID")&&this.buf1!==S.EOF;){if(!(this.buf1 instanceof S.Name))throw new n.FormatError("Dictionary key must be a name object");const y=this.buf1.name;if(this.shift(),this.buf1===S.EOF)break;a[y]=this.getObj(l)}x.beginInlineImagePos!==-1&&(g=X.pos-x.beginInlineImagePos);const P=this.xref.fetchIfRef(a.F||a.Filter);let G;if(P instanceof S.Name)G=P.name;else if(Array.isArray(P)){const y=this.xref.fetchIfRef(P[0]);y instanceof S.Name&&(G=y.name)}const D=X.pos;let w;switch(G){case"DCT":case"DCTDecode":w=this.findDCTDecodeInlineStreamEnd(X);break;case"A85":case"ASCII85Decode":w=this.findASCII85DecodeInlineStreamEnd(X);break;case"AHx":case"ASCIIHexDecode":w=this.findASCIIHexDecodeInlineStreamEnd(X);break;default:w=this.findDefaultInlineStreamEnd(X)}let A;if(w<C&&g>0){const y=X.pos;X.pos=x.beginInlineImagePos,A=T(X.getBytes(g+w)),X.pos=y;const c=this.imageCache[A];if(c!==void 0)return this.buf2=S.Cmd.get("EI"),this.shift(),c.reset(),c}const v=new S.Dict(this.xref);for(const y in a)v.set(y,a[y]);let o=X.makeSubStream(D,w,v);return l&&(o=l.createStream(o,w)),o=this.filter(o,v,w),o.dict=v,A!==void 0&&(o.cacheKey=`inline_img_${++this._imageId}`,this.imageCache[A]=o),this.buf2=S.Cmd.get("EI"),this.shift(),o}_findStreamLength(l,x){const{stream:X}=this.lexer;X.pos=l;const a=2048,g=x.length;for(;X.pos<X.end;){const P=X.peekBytes(a),G=P.length-g;if(G<=0)break;let D=0;for(;D<G;){let w=0;for(;w<g&&P[D+w]===x[w];)w++;if(w>=g)return X.pos+=D,X.pos-l;D++}X.pos+=G}return-1}makeStream(l,x){const X=this.lexer;let a=X.stream;X.skipToNextLine();const g=a.pos-1;let P=l.get("Length");if(Number.isInteger(P)||((0,n.info)(`Bad length "${P&&P.toString()}" in stream.`),P=0),a.pos=g+P,X.nextChar(),this.tryShift()&&(0,S.isCmd)(this.buf2,"endstream"))this.shift();else{const G=new Uint8Array([101,110,100,115,116,114,101,97,109]);let D=this._findStreamLength(g,G);if(D<0){for(let A=1;A<=1;A++){const v=G.length-A,o=G.slice(0,v),y=this._findStreamLength(g,o);if(y>=0){const c=a.peekBytes(v+1)[v];if(!(0,N.isWhiteSpace)(c))break;(0,n.info)(`Found "${(0,n.bytesToString)(o)}" when searching for endstream command.`),D=y;break}}if(D<0)throw new n.FormatError("Missing endstream command.")}P=D,X.nextChar(),this.shift(),this.shift()}return this.shift(),a=a.makeSubStream(g,P,l),x&&(a=x.createStream(a,P)),a=this.filter(a,l,P),a.dict=l,a}filter(l,x,X){let a=x.get("F","Filter"),g=x.get("DP","DecodeParms");if(a instanceof S.Name)return Array.isArray(g)&&(0,n.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(l,a.name,X,g);let P=X;if(Array.isArray(a)){const G=a,D=g;for(let w=0,A=G.length;w<A;++w){if(a=this.xref.fetchIfRef(G[w]),!(a instanceof S.Name))throw new n.FormatError(`Bad filter name "${a}"`);g=null,Array.isArray(D)&&w in D&&(g=this.xref.fetchIfRef(D[w])),l=this.makeFilter(l,a.name,P,g),P=null}}return l}makeFilter(l,x,X,a){if(X===0)return(0,n.warn)(`Empty "${x}" stream.`),new e.NullStream;try{switch(x){case"Fl":case"FlateDecode":return a?new i.PredictorStream(new j.FlateStream(l,X),X,a):new j.FlateStream(l,X);case"LZW":case"LZWDecode":let g=1;return a?(a.has("EarlyChange")&&(g=a.get("EarlyChange")),new i.PredictorStream(new u.LZWStream(l,X,g),X,a)):new u.LZWStream(l,X,g);case"DCT":case"DCTDecode":return new I.JpegStream(l,X,a);case"JPX":case"JPXDecode":return new d.JpxStream(l,X,a);case"A85":case"ASCII85Decode":return new t.Ascii85Stream(l,X);case"AHx":case"ASCIIHexDecode":return new r.AsciiHexStream(l,X);case"CCF":case"CCITTFaxDecode":return new z.CCITTFaxStream(l,X,a);case"RL":case"RunLengthDecode":return new F.RunLengthStream(l,X);case"JBIG2Decode":return new M.Jbig2Stream(l,X,a)}return(0,n.warn)(`Filter "${x}" is not supported.`),l}catch(g){if(g instanceof N.MissingDataException)throw g;return(0,n.warn)(`Invalid stream: "${g}"`),new e.NullStream}}}m.Parser=b;const L=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function B(_){return _>=48&&_<=57?_&15:_>=65&&_<=70||_>=97&&_<=102?(_&15)+9:-1}class V{constructor(l,x=null){this.stream=l,this.nextChar(),this.strBuf=[],this.knownCommands=x,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let l=this.currentChar,x=!1,X=0,a=1;if(l===45?(a=-1,l=this.nextChar(),l===45&&(l=this.nextChar())):l===43&&(l=this.nextChar()),l===10||l===13)do l=this.nextChar();while(l===10||l===13);if(l===46&&(X=10,l=this.nextChar()),l<48||l>57){const D=`Invalid number: ${String.fromCharCode(l)} (charCode ${l})`;if((0,N.isWhiteSpace)(l)||l===-1)return(0,n.info)(`Lexer.getNumber - "${D}".`),0;throw new n.FormatError(D)}let g=l-48,P=0,G=1;for(;(l=this.nextChar())>=0;)if(l>=48&&l<=57){const D=l-48;x?P=P*10+D:(X!==0&&(X*=10),g=g*10+D)}else if(l===46)if(X===0)X=1;else break;else if(l===45)(0,n.warn)("Badly formatted number: minus sign in the middle");else if(l===69||l===101){if(l=this.peekChar(),l===43||l===45)G=l===45?-1:1,this.nextChar();else if(l<48||l>57)break;x=!0}else break;return X!==0&&(g/=X),x&&(g*=10**(G*P)),a*g}getString(){let l=1,x=!1;const X=this.strBuf;X.length=0;let a=this.nextChar();for(;;){let g=!1;switch(a|0){case-1:(0,n.warn)("Unterminated string"),x=!0;break;case 40:++l,X.push("(");break;case 41:--l===0?(this.nextChar(),x=!0):X.push(")");break;case 92:switch(a=this.nextChar(),a){case-1:(0,n.warn)("Unterminated string"),x=!0;break;case 110:X.push(`
`);break;case 114:X.push("\r");break;case 116:X.push("	");break;case 98:X.push("\b");break;case 102:X.push("\f");break;case 92:case 40:case 41:X.push(String.fromCharCode(a));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let P=a&15;a=this.nextChar(),g=!0,a>=48&&a<=55&&(P=(P<<3)+(a&15),a=this.nextChar(),a>=48&&a<=55&&(g=!1,P=(P<<3)+(a&15))),X.push(String.fromCharCode(P));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:X.push(String.fromCharCode(a));break}break;default:X.push(String.fromCharCode(a));break}if(x)break;g||(a=this.nextChar())}return X.join("")}getName(){let l,x;const X=this.strBuf;for(X.length=0;(l=this.nextChar())>=0&&!L[l];)if(l===35){if(l=this.nextChar(),L[l]){(0,n.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),X.push("#");break}const a=B(l);if(a!==-1){x=l,l=this.nextChar();const g=B(l);if(g===-1){if((0,n.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(l)}) in hexadecimal number.`),X.push("#",String.fromCharCode(x)),L[l])break;X.push(String.fromCharCode(l));continue}X.push(String.fromCharCode(a<<4|g))}else X.push("#",String.fromCharCode(l))}else X.push(String.fromCharCode(l));return X.length>127&&(0,n.warn)(`Name token is longer than allowed by the spec: ${X.length}`),S.Name.get(X.join(""))}_hexStringWarn(l){if(this._hexStringNumWarn++===5){(0,n.warn)("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||(0,n.warn)(`getHexString - ignoring invalid character: ${l}`)}getHexString(){const l=this.strBuf;l.length=0;let x=this.currentChar,X=!0,a,g;for(this._hexStringNumWarn=0;;)if(x<0){(0,n.warn)("Unterminated hex string");break}else if(x===62){this.nextChar();break}else if(L[x]===1){x=this.nextChar();continue}else{if(X){if(a=B(x),a===-1){this._hexStringWarn(x),x=this.nextChar();continue}}else{if(g=B(x),g===-1){this._hexStringWarn(x),x=this.nextChar();continue}l.push(String.fromCharCode(a<<4|g))}X=!X,x=this.nextChar()}return l.join("")}getObj(){let l=!1,x=this.currentChar;for(;;){if(x<0)return S.EOF;if(l)(x===10||x===13)&&(l=!1);else if(x===37)l=!0;else if(L[x]!==1)break;x=this.nextChar()}switch(x|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),S.Cmd.get("[");case 93:return this.nextChar(),S.Cmd.get("]");case 60:return x=this.nextChar(),x===60?(this.nextChar(),S.Cmd.get("<<")):this.getHexString();case 62:return x=this.nextChar(),x===62?(this.nextChar(),S.Cmd.get(">>")):S.Cmd.get(">");case 123:return this.nextChar(),S.Cmd.get("{");case 125:return this.nextChar(),S.Cmd.get("}");case 41:throw this.nextChar(),new n.FormatError(`Illegal character: ${x}`)}let X=String.fromCharCode(x);if(x<32||x>127){const P=this.peekChar();if(P>=32&&P<=127)return this.nextChar(),S.Cmd.get(X)}const a=this.knownCommands;let g=(a==null?void 0:a[X])!==void 0;for(;(x=this.nextChar())>=0&&!L[x];){const P=X+String.fromCharCode(x);if(g&&a[P]===void 0)break;if(X.length===128)throw new n.FormatError(`Command token too long: ${X.length}`);X=P,g=(a==null?void 0:a[X])!==void 0}return X==="true"?!0:X==="false"?!1:X==="null"?null:(X==="BI"&&(this.beginInlineImagePos=this.stream.pos),S.Cmd.get(X))}skipToNextLine(){let l=this.currentChar;for(;l>=0;){if(l===13){l=this.nextChar(),l===10&&this.nextChar();break}else if(l===10){this.nextChar();break}l=this.nextChar()}}}m.Lexer=V;class k{static create(l){function x(v,o,y=!1){const c=v.get(o);if(Number.isInteger(c)&&(y?c>=0:c>0))return c;throw new Error(`The "${o}" parameter in the linearization dictionary is invalid.`)}function X(v){const o=v.get("H");let y;if(Array.isArray(o)&&((y=o.length)===2||y===4)){for(let c=0;c<y;c++){const h=o[c];if(!(Number.isInteger(h)&&h>0))throw new Error(`Hint (${c}) in the linearization dictionary is invalid.`)}return o}throw new Error("Hint array in the linearization dictionary is invalid.")}const a=new b({lexer:new V(l),xref:null}),g=a.getObj(),P=a.getObj(),G=a.getObj(),D=a.getObj();let w,A;if(Number.isInteger(g)&&Number.isInteger(P)&&(0,S.isCmd)(G,"obj")&&D instanceof S.Dict&&typeof(w=D.get("Linearized"))=="number"&&w>0){if((A=x(D,"L"))!==l.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:A,hints:X(D),objectNumberFirst:x(D,"O"),endFirst:x(D,"E"),numPages:x(D,"N"),mainXRefEntriesOffset:x(D,"T"),pageFirst:D.has("P")?x(D,"P",!0):0}}}m.Linearization=k},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.Ascii85Stream=void 0;var n=Q(18),S=Q(3);class N extends n.DecodeStream{constructor(t,r){r&&(r*=.8),super(r),this.str=t,this.dict=t.dict,this.input=new Uint8Array(5)}readBlock(){const j=this.str;let M=j.getByte();for(;(0,S.isWhiteSpace)(M);)M=j.getByte();if(M===-1||M===126){this.eof=!0;return}const I=this.bufferLength;let d,u;if(M===122){for(d=this.ensureBuffer(I+4),u=0;u<4;++u)d[I+u]=0;this.bufferLength+=4}else{const i=this.input;for(i[0]=M,u=1;u<5;++u){for(M=j.getByte();(0,S.isWhiteSpace)(M);)M=j.getByte();if(i[u]=M,M===-1||M===126)break}if(d=this.ensureBuffer(I+u-1),this.bufferLength+=u-1,u<5){for(;u<5;++u)i[u]=117;this.eof=!0}let F=0;for(u=0;u<5;++u)F=F*85+(i[u]-33);for(u=3;u>=0;--u)d[I+u]=F&255,F>>=8}}}m.Ascii85Stream=N},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.StreamsSequenceStream=m.DecodeStream=void 0;var n=Q(5),S=Q(8);const N=new Uint8Array(0);class e extends n.BaseStream{constructor(z){if(super(),this._rawMinBufferLength=z||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=N,this.minBufferLength=512,z)for(;this.minBufferLength<z;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(z){const j=this.buffer;if(z<=j.byteLength)return j;let M=this.minBufferLength;for(;M<z;)M*=2;const I=new Uint8Array(M);return I.set(j),this.buffer=I}getByte(){const z=this.pos;for(;this.bufferLength<=z;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(z){const j=this.pos;let M;if(z){for(this.ensureBuffer(j+z),M=j+z;!this.eof&&this.bufferLength<M;)this.readBlock();const I=this.bufferLength;M>I&&(M=I)}else{for(;!this.eof;)this.readBlock();M=this.bufferLength}return this.pos=M,this.buffer.subarray(j,M)}reset(){this.pos=0}makeSubStream(z,j,M=null){if(j===void 0)for(;!this.eof;)this.readBlock();else{const I=z+j;for(;this.bufferLength<=I&&!this.eof;)this.readBlock()}return new S.Stream(this.buffer,z,j,M)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}m.DecodeStream=e;class t extends e{constructor(z,j=null){let M=0;for(const I of z)M+=I instanceof e?I._rawMinBufferLength:I.length;super(M),this.streams=z,this._onError=j}readBlock(){var i;const z=this.streams;if(z.length===0){this.eof=!0;return}const j=z.shift();let M;try{M=j.getBytes()}catch(F){if(this._onError){this._onError(F,(i=j.dict)==null?void 0:i.objId);return}throw F}const I=this.bufferLength,d=I+M.length;this.ensureBuffer(d).set(M,I),this.bufferLength=d}getBaseStreams(){const z=[];for(const j of this.streams){const M=j.getBaseStreams();M&&z.push(...M)}return z.length>0?z:null}}m.StreamsSequenceStream=t},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.AsciiHexStream=void 0;var n=Q(18);class S extends n.DecodeStream{constructor(e,t){t&&(t*=.5),super(t),this.str=e,this.dict=e.dict,this.firstDigit=-1}readBlock(){const t=this.str.getBytes(8e3);if(!t.length){this.eof=!0;return}const r=t.length+1>>1,z=this.ensureBuffer(this.bufferLength+r);let j=this.bufferLength,M=this.firstDigit;for(const I of t){let d;if(I>=48&&I<=57)d=I&15;else if(I>=65&&I<=70||I>=97&&I<=102)d=(I&15)+9;else if(I===62){this.eof=!0;break}else continue;M<0?M=d:(z[j++]=M<<4|d,M=-1)}M>=0&&this.eof&&(z[j++]=M<<4,M=-1),this.firstDigit=M,this.bufferLength=j}}m.AsciiHexStream=S},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.CCITTFaxStream=void 0;var n=Q(21),S=Q(18),N=Q(4);class e extends S.DecodeStream{constructor(r,z,j){super(z),this.str=r,this.dict=r.dict,j instanceof N.Dict||(j=N.Dict.empty);const M={next(){return r.getByte()}};this.ccittFaxDecoder=new n.CCITTFaxDecoder(M,{K:j.get("K"),EndOfLine:j.get("EndOfLine"),EncodedByteAlign:j.get("EncodedByteAlign"),Columns:j.get("Columns"),Rows:j.get("Rows"),EndOfBlock:j.get("EndOfBlock"),BlackIs1:j.get("BlackIs1")})}readBlock(){for(;!this.eof;){const r=this.ccittFaxDecoder.readNextChar();if(r===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=r}}}m.CCITTFaxStream=e},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.CCITTFaxDecoder=void 0;var n=Q(2);const S=-2,N=-1,e=0,t=1,r=2,z=3,j=4,M=5,I=6,d=7,u=8,i=[[-1,-1],[-1,-1],[7,u],[7,d],[6,I],[6,I],[6,M],[6,M],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,j],[3,j],[3,j],[3,j],[3,j],[3,j],[3,j],[3,j],[3,j],[3,j],[3,j],[3,j],[3,j],[3,j],[3,j],[3,j],[3,z],[3,z],[3,z],[3,z],[3,z],[3,z],[3,z],[3,z],[3,z],[3,z],[3,z],[3,z],[3,z],[3,z],[3,z],[3,z],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r],[1,r]],F=[[-1,-1],[12,S],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],C=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],T=[[-1,-1],[-1,-1],[12,S],[12,S],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],b=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],L=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class B{constructor(k,_={}){if(!k||typeof k.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=k,this.eof=!1,this.encoding=_.K||0,this.eoline=_.EndOfLine||!1,this.byteAlign=_.EncodedByteAlign||!1,this.columns=_.Columns||1728,this.rows=_.Rows||0,this.eoblock=_.EndOfBlock??!0,this.black=_.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let l;for(;(l=this._lookBits(12))===0;)this._eatBits(1);l===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const k=this.refLine,_=this.codingLine,l=this.columns;let x,X,a,g;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let G,D,w;if(this.nextLine2D){for(g=0;_[g]<l;++g)k[g]=_[g];for(k[g++]=l,k[g]=l,_[0]=0,this.codingPos=0,x=0,X=0;_[this.codingPos]<l;)switch(G=this._getTwoDimCode(),G){case e:this._addPixels(k[x+1],X),k[x+1]<l&&(x+=2);break;case t:if(G=D=0,X){do G+=w=this._getBlackCode();while(w>=64);do D+=w=this._getWhiteCode();while(w>=64)}else{do G+=w=this._getWhiteCode();while(w>=64);do D+=w=this._getBlackCode();while(w>=64)}for(this._addPixels(_[this.codingPos]+G,X),_[this.codingPos]<l&&this._addPixels(_[this.codingPos]+D,X^1);k[x]<=_[this.codingPos]&&k[x]<l;)x+=2;break;case d:if(this._addPixels(k[x]+3,X),X^=1,_[this.codingPos]<l)for(++x;k[x]<=_[this.codingPos]&&k[x]<l;)x+=2;break;case M:if(this._addPixels(k[x]+2,X),X^=1,_[this.codingPos]<l)for(++x;k[x]<=_[this.codingPos]&&k[x]<l;)x+=2;break;case z:if(this._addPixels(k[x]+1,X),X^=1,_[this.codingPos]<l)for(++x;k[x]<=_[this.codingPos]&&k[x]<l;)x+=2;break;case r:if(this._addPixels(k[x],X),X^=1,_[this.codingPos]<l)for(++x;k[x]<=_[this.codingPos]&&k[x]<l;)x+=2;break;case u:if(this._addPixelsNeg(k[x]-3,X),X^=1,_[this.codingPos]<l)for(x>0?--x:++x;k[x]<=_[this.codingPos]&&k[x]<l;)x+=2;break;case I:if(this._addPixelsNeg(k[x]-2,X),X^=1,_[this.codingPos]<l)for(x>0?--x:++x;k[x]<=_[this.codingPos]&&k[x]<l;)x+=2;break;case j:if(this._addPixelsNeg(k[x]-1,X),X^=1,_[this.codingPos]<l)for(x>0?--x:++x;k[x]<=_[this.codingPos]&&k[x]<l;)x+=2;break;case N:this._addPixels(l,0),this.eof=!0;break;default:(0,n.info)("bad 2d code"),this._addPixels(l,0),this.err=!0}}else for(_[0]=0,this.codingPos=0,X=0;_[this.codingPos]<l;){if(G=0,X)do G+=w=this._getBlackCode();while(w>=64);else do G+=w=this._getWhiteCode();while(w>=64);this._addPixels(_[this.codingPos]+G,X),X^=1}let A=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(G=this._lookBits(12),this.eoline)for(;G!==N&&G!==1;)this._eatBits(1),G=this._lookBits(12);else for(;G===0;)this._eatBits(1),G=this._lookBits(12);G===1?(this._eatBits(12),A=!0):G===N&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&A&&this.byteAlign){if(G=this._lookBits(12),G===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(g=0;g<4;++g)G=this._lookBits(12),G!==1&&(0,n.info)("bad rtc code: "+G),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(G=this._lookBits(13),G===N)return this.eof=!0,-1;if(G>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(G&1))}this.outputBits=_[0]>0?_[this.codingPos=0]:_[this.codingPos=1],this.row++}let P;if(this.outputBits>=8)P=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&_[this.codingPos]<l&&(this.codingPos++,this.outputBits=_[this.codingPos]-_[this.codingPos-1]);else{a=8,P=0;do{if(typeof this.outputBits!="number")throw new n.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>a?(P<<=a,this.codingPos&1||(P|=255>>8-a),this.outputBits-=a,a=0):(P<<=this.outputBits,this.codingPos&1||(P|=255>>8-this.outputBits),a-=this.outputBits,this.outputBits=0,_[this.codingPos]<l?(this.codingPos++,this.outputBits=_[this.codingPos]-_[this.codingPos-1]):a>0&&(P<<=a,a=0))}while(a)}return this.black&&(P^=255),P}_addPixels(k,_){const l=this.codingLine;let x=this.codingPos;k>l[x]&&(k>this.columns&&((0,n.info)("row is wrong length"),this.err=!0,k=this.columns),x&1^_&&++x,l[x]=k),this.codingPos=x}_addPixelsNeg(k,_){const l=this.codingLine;let x=this.codingPos;if(k>l[x])k>this.columns&&((0,n.info)("row is wrong length"),this.err=!0,k=this.columns),x&1^_&&++x,l[x]=k;else if(k<l[x]){for(k<0&&((0,n.info)("invalid code"),this.err=!0,k=0);x>0&&k<l[x-1];)--x;l[x]=k}this.codingPos=x}_findTableCode(k,_,l,x){const X=x||0;for(let a=k;a<=_;++a){let g=this._lookBits(a);if(g===N)return[!0,1,!1];if(a<_&&(g<<=_-a),!X||g>=X){const P=l[g-X];if(P[0]===a)return this._eatBits(a),[!0,P[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let k=0,_;if(this.eoblock){if(k=this._lookBits(7),_=i[k],(_==null?void 0:_[0])>0)return this._eatBits(_[0]),_[1]}else{const l=this._findTableCode(1,7,i);if(l[0]&&l[2])return l[1]}return(0,n.info)("Bad two dim code"),N}_getWhiteCode(){let k=0,_;if(this.eoblock){if(k=this._lookBits(12),k===N)return 1;if(_=k>>5?C[k>>3]:F[k],_[0]>0)return this._eatBits(_[0]),_[1]}else{let l=this._findTableCode(1,9,C);if(l[0]||(l=this._findTableCode(11,12,F),l[0]))return l[1]}return(0,n.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let k,_;if(this.eoblock){if(k=this._lookBits(13),k===N)return 1;if(k>>7?!(k>>9)&&k>>7?_=b[(k>>1)-64]:_=L[k>>7]:_=T[k],_[0]>0)return this._eatBits(_[0]),_[1]}else{let l=this._findTableCode(2,6,L);if(l[0]||(l=this._findTableCode(7,12,b,64),l[0])||(l=this._findTableCode(10,13,T),l[0]))return l[1]}return(0,n.info)("bad black code"),this._eatBits(1),1}_lookBits(k){let _;for(;this.inputBits<k;){if((_=this.source.next())===-1)return this.inputBits===0?N:this.inputBuf<<k-this.inputBits&65535>>16-k;this.inputBuf=this.inputBuf<<8|_,this.inputBits+=8}return this.inputBuf>>this.inputBits-k&65535>>16-k}_eatBits(k){(this.inputBits-=k)<0&&(this.inputBits=0)}}m.CCITTFaxDecoder=B},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.FlateStream=void 0;var n=Q(18),S=Q(2);const N=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),t=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),r=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],z=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class j extends n.DecodeStream{constructor(I,d){super(d),this.str=I,this.dict=I.dict;const u=I.getByte(),i=I.getByte();if(u===-1||i===-1)throw new S.FormatError(`Invalid header in flate stream: ${u}, ${i}`);if((u&15)!==8)throw new S.FormatError(`Unknown compression method in flate stream: ${u}, ${i}`);if(((u<<8)+i)%31!==0)throw new S.FormatError(`Bad FCHECK in flate stream: ${u}, ${i}`);if(i&32)throw new S.FormatError(`FDICT bit set in flate stream: ${u}, ${i}`);this.codeSize=0,this.codeBuf=0}getBits(I){const d=this.str;let u=this.codeSize,i=this.codeBuf,F;for(;u<I;){if((F=d.getByte())===-1)throw new S.FormatError("Bad encoding in flate stream");i|=F<<u,u+=8}return F=i&(1<<I)-1,this.codeBuf=i>>I,this.codeSize=u-=I,F}getCode(I){const d=this.str,u=I[0],i=I[1];let F=this.codeSize,C=this.codeBuf,T;for(;F<i&&(T=d.getByte())!==-1;)C|=T<<F,F+=8;const b=u[C&(1<<i)-1],L=b>>16,B=b&65535;if(L<1||F<L)throw new S.FormatError("Bad encoding in flate stream");return this.codeBuf=C>>L,this.codeSize=F-L,B}generateHuffmanTable(I){const d=I.length;let u=0,i;for(i=0;i<d;++i)I[i]>u&&(u=I[i]);const F=1<<u,C=new Int32Array(F);for(let T=1,b=0,L=2;T<=u;++T,b<<=1,L<<=1)for(let B=0;B<d;++B)if(I[B]===T){let V=0,k=b;for(i=0;i<T;++i)V=V<<1|k&1,k>>=1;for(i=V;i<F;i+=L)C[i]=T<<16|B;++b}return[C,u]}readBlock(){let I,d;const u=this.str;let i=this.getBits(3);if(i&1&&(this.eof=!0),i>>=1,i===0){let L;if((L=u.getByte())===-1)throw new S.FormatError("Bad block header in flate stream");let B=L;if((L=u.getByte())===-1)throw new S.FormatError("Bad block header in flate stream");if(B|=L<<8,(L=u.getByte())===-1)throw new S.FormatError("Bad block header in flate stream");let V=L;if((L=u.getByte())===-1)throw new S.FormatError("Bad block header in flate stream");if(V|=L<<8,V!==(~B&65535)&&(B!==0||V!==0))throw new S.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const k=this.bufferLength,_=k+B;if(I=this.ensureBuffer(_),this.bufferLength=_,B===0)u.peekByte()===-1&&(this.eof=!0);else{const l=u.getBytes(B);I.set(l,k),l.length<B&&(this.eof=!0)}return}let F,C;if(i===1)F=r,C=z;else if(i===2){const L=this.getBits(5)+257,B=this.getBits(5)+1,V=this.getBits(4)+4,k=new Uint8Array(N.length);let _;for(_=0;_<V;++_)k[N[_]]=this.getBits(3);const l=this.generateHuffmanTable(k);d=0,_=0;const x=L+B,X=new Uint8Array(x);let a,g,P;for(;_<x;){const G=this.getCode(l);if(G===16)a=2,g=3,P=d;else if(G===17)a=3,g=3,P=d=0;else if(G===18)a=7,g=11,P=d=0;else{X[_++]=d=G;continue}let D=this.getBits(a)+g;for(;D-- >0;)X[_++]=P}F=this.generateHuffmanTable(X.subarray(0,L)),C=this.generateHuffmanTable(X.subarray(L,x))}else throw new S.FormatError("Unknown block type in flate stream");I=this.buffer;let T=I?I.length:0,b=this.bufferLength;for(;;){let L=this.getCode(F);if(L<256){b+1>=T&&(I=this.ensureBuffer(b+1),T=I.length),I[b++]=L;continue}if(L===256){this.bufferLength=b;return}L-=257,L=e[L];let B=L>>16;B>0&&(B=this.getBits(B)),d=(L&65535)+B,L=this.getCode(C),L=t[L],B=L>>16,B>0&&(B=this.getBits(B));const V=(L&65535)+B;b+d>=T&&(I=this.ensureBuffer(b+d),T=I.length);for(let k=0;k<d;++k,++b)I[b]=I[b-V]}}}m.FlateStream=j},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.Jbig2Stream=void 0;var n=Q(5),S=Q(18),N=Q(4),e=Q(24),t=Q(2);class r extends S.DecodeStream{constructor(j,M,I){super(M),this.stream=j,this.dict=j.dict,this.maybeLength=M,this.params=I}get bytes(){return(0,t.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(j){}readBlock(){if(this.eof)return;const j=new e.Jbig2Image,M=[];if(this.params instanceof N.Dict){const u=this.params.get("JBIG2Globals");if(u instanceof n.BaseStream){const i=u.getBytes();M.push({data:i,start:0,end:i.length})}}M.push({data:this.bytes,start:0,end:this.bytes.length});const I=j.parseChunks(M),d=I.length;for(let u=0;u<d;u++)I[u]^=255;this.buffer=I,this.bufferLength=d,this.eof=!0}}m.Jbig2Stream=r},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.Jbig2Image=void 0;var n=Q(2),S=Q(3),N=Q(25),e=Q(21);class t extends n.BaseException{constructor(se){super(`JBIG2 error: ${se}`,"Jbig2Error")}}class r{getContexts(se){return se in this?this[se]:this[se]=new Int8Array(65536)}}class z{constructor(se,$,U){this.data=se,this.start=$,this.end=U}get decoder(){const se=new N.ArithmeticDecoder(this.data,this.start,this.end);return(0,n.shadow)(this,"decoder",se)}get contextCache(){const se=new r;return(0,n.shadow)(this,"contextCache",se)}}const j=2**31-1,M=-(2**31);function I(ee,se,$){const U=ee.getContexts(se);let K=1;function J(Z){let he=0;for(let le=0;le<Z;le++){const te=$.readBit(U,K);K=K<256?K<<1|te:(K<<1|te)&511|256,he=he<<1|te}return he>>>0}const Y=J(1),ie=J(1)?J(1)?J(1)?J(1)?J(1)?J(32)+4436:J(12)+340:J(8)+84:J(6)+20:J(4)+4:J(2);let re;return Y===0?re=ie:ie>0&&(re=-ie),re>=M&&re<=j?re:null}function d(ee,se,$){const U=ee.getContexts("IAID");let K=1;for(let J=0;J<$;J++){const Y=se.readBit(U,K);K=K<<1|Y}return $<31?K&(1<<$)-1:K&2147483647}const u=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],i=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],F=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],C=[39717,1941,229,405],T=[32,8];function b(ee,se,$){const U=$.decoder,K=$.contextCache.getContexts("GB"),J=[];let Y,ie,re,Z,he,le,te;const ue=31735;for(ie=0;ie<se;ie++)for(he=J[ie]=new Uint8Array(ee),le=ie<1?he:J[ie-1],te=ie<2?he:J[ie-2],Y=te[0]<<13|te[1]<<12|te[2]<<11|le[0]<<7|le[1]<<6|le[2]<<5|le[3]<<4,re=0;re<ee;re++)he[re]=Z=U.readBit(K,Y),Y=(Y&ue)<<1|(re+3<ee?te[re+3]<<11:0)|(re+4<ee?le[re+4]<<4:0)|Z;return J}function L(ee,se,$,U,K,J,Y,ie){if(ee){const De=new O(ie.data,ie.start,ie.end);return q(De,se,$,!1)}if(U===0&&!J&&!K&&Y.length===4&&Y[0].x===3&&Y[0].y===-1&&Y[1].x===-3&&Y[1].y===-1&&Y[2].x===2&&Y[2].y===-2&&Y[3].x===-2&&Y[3].y===-2)return b(se,$,ie);const re=!!J,Z=i[U].concat(Y);Z.sort(function(De,Be){return De.y-Be.y||De.x-Be.x});const he=Z.length,le=new Int8Array(he),te=new Int8Array(he),ue=[];let ge=0,ye=0,Ee=0,Oe=0,ve,Se;for(Se=0;Se<he;Se++)le[Se]=Z[Se].x,te[Se]=Z[Se].y,ye=Math.min(ye,Z[Se].x),Ee=Math.max(Ee,Z[Se].x),Oe=Math.min(Oe,Z[Se].y),Se<he-1&&Z[Se].y===Z[Se+1].y&&Z[Se].x===Z[Se+1].x-1?ge|=1<<he-1-Se:ue.push(Se);const Ae=ue.length,ke=new Int8Array(Ae),_e=new Int8Array(Ae),je=new Uint16Array(Ae);for(ve=0;ve<Ae;ve++)Se=ue[ve],ke[ve]=Z[Se].x,_e[ve]=Z[Se].y,je[ve]=1<<he-1-Se;const Re=-ye,be=-Oe,Ce=se-Ee,$e=C[U];let Pe=new Uint8Array(se);const ze=[],We=ie.decoder,ut=ie.contextCache.getContexts("GB");let Le=0,rt,Qe,Fe,me=0,Te,Ie;for(let De=0;De<$;De++){if(K){const Be=We.readBit(ut,$e);if(Le^=Be,Le){ze.push(Pe);continue}}for(Pe=new Uint8Array(Pe),ze.push(Pe),rt=0;rt<se;rt++){if(re&&J[De][rt]){Pe[rt]=0;continue}if(rt>=Re&&rt<Ce&&De>=be)for(me=me<<1&ge,Se=0;Se<Ae;Se++)Qe=De+_e[Se],Fe=rt+ke[Se],Te=ze[Qe][Fe],Te&&(Te=je[Se],me|=Te);else for(me=0,Ie=he-1,Se=0;Se<he;Se++,Ie--)Fe=rt+le[Se],Fe>=0&&Fe<se&&(Qe=De+te[Se],Qe>=0&&(Te=ze[Qe][Fe],Te&&(me|=Te<<Ie)));const Be=We.readBit(ut,me);Pe[rt]=Be}}return ze}function B(ee,se,$,U,K,J,Y,ie,re){let Z=F[$].coding;$===0&&(Z=Z.concat([ie[0]]));const he=Z.length,le=new Int32Array(he),te=new Int32Array(he);let ue;for(ue=0;ue<he;ue++)le[ue]=Z[ue].x,te[ue]=Z[ue].y;let ge=F[$].reference;$===0&&(ge=ge.concat([ie[1]]));const ye=ge.length,Ee=new Int32Array(ye),Oe=new Int32Array(ye);for(ue=0;ue<ye;ue++)Ee[ue]=ge[ue].x,Oe[ue]=ge[ue].y;const ve=U[0].length,Se=U.length,Ae=T[$],ke=[],_e=re.decoder,je=re.contextCache.getContexts("GR");let Re=0;for(let be=0;be<se;be++){if(Y){const $e=_e.readBit(je,Ae);if(Re^=$e,Re)throw new t("prediction is not supported")}const Ce=new Uint8Array(ee);ke.push(Ce);for(let $e=0;$e<ee;$e++){let Pe,ze,We=0;for(ue=0;ue<he;ue++)Pe=be+te[ue],ze=$e+le[ue],Pe<0||ze<0||ze>=ee?We<<=1:We=We<<1|ke[Pe][ze];for(ue=0;ue<ye;ue++)Pe=be+Oe[ue]-J,ze=$e+Ee[ue]-K,Pe<0||Pe>=Se||ze<0||ze>=ve?We<<=1:We=We<<1|U[Pe][ze];const ut=_e.readBit(je,We);Ce[$e]=ut}}return ke}function V(ee,se,$,U,K,J,Y,ie,re,Z,he,le){if(ee&&se)throw new t("symbol refinement with Huffman is not supported");const te=[];let ue=0,ge=(0,S.log2)($.length+U);const ye=he.decoder,Ee=he.contextCache;let Oe,ve;for(ee&&(Oe=h(1),ve=[],ge=Math.max(ge,1));te.length<U;){const be=ee?J.tableDeltaHeight.decode(le):I(Ee,"IADH",ye);ue+=be;let Ce=0,$e=0;const Pe=ee?ve.length:0;for(;;){const ze=ee?J.tableDeltaWidth.decode(le):I(Ee,"IADW",ye);if(ze===null)break;Ce+=ze,$e+=Ce;let We;if(se){const ut=I(Ee,"IAAI",ye);if(ut>1)We=k(ee,se,Ce,ue,0,ut,1,$.concat(te),ge,0,0,1,0,J,re,Z,he,0,le);else{const Le=d(Ee,ye,ge),rt=I(Ee,"IARDX",ye),Qe=I(Ee,"IARDY",ye),Fe=Le<$.length?$[Le]:te[Le-$.length];We=B(Ce,ue,re,Fe,rt,Qe,!1,Z,he)}te.push(We)}else ee?ve.push(Ce):(We=L(!1,Ce,ue,Y,!1,null,ie,he),te.push(We))}if(ee&&!se){const ze=J.tableBitmapSize.decode(le);le.byteAlign();let We;if(ze===0)We=ae(le,$e,ue);else{const Le=le.end,rt=le.position+ze;le.end=rt,We=q(le,$e,ue,!1),le.end=Le,le.position=rt}const ut=ve.length;if(Pe===ut-1)te.push(We);else{let Le,rt,Qe=0,Fe,me,Te;for(Le=Pe;Le<ut;Le++){for(me=ve[Le],Fe=Qe+me,Te=[],rt=0;rt<ue;rt++)Te.push(We[rt].subarray(Qe,Fe));te.push(Te),Qe=Fe}}}}const Se=[],Ae=[];let ke=!1,_e,je;const Re=$.length+U;for(;Ae.length<Re;){let be=ee?Oe.decode(le):I(Ee,"IAEX",ye);for(;be--;)Ae.push(ke);ke=!ke}for(_e=0,je=$.length;_e<je;_e++)Ae[_e]&&Se.push($[_e]);for(let be=0;be<U;_e++,be++)Ae[_e]&&Se.push(te[be]);return Se}function k(ee,se,$,U,K,J,Y,ie,re,Z,he,le,te,ue,ge,ye,Ee,Oe,ve){if(ee&&se)throw new t("refinement with Huffman is not supported");const Se=[];let Ae,ke;for(Ae=0;Ae<U;Ae++){if(ke=new Uint8Array($),K)for(let Ce=0;Ce<$;Ce++)ke[Ce]=K;Se.push(ke)}const _e=Ee.decoder,je=Ee.contextCache;let Re=ee?-ue.tableDeltaT.decode(ve):-I(je,"IADT",_e),be=0;for(Ae=0;Ae<J;){const Ce=ee?ue.tableDeltaT.decode(ve):I(je,"IADT",_e);Re+=Ce;const $e=ee?ue.tableFirstS.decode(ve):I(je,"IAFS",_e);be+=$e;let Pe=be;do{let ze=0;Y>1&&(ze=ee?ve.readBits(Oe):I(je,"IAIT",_e));const We=Y*Re+ze,ut=ee?ue.symbolIDTable.decode(ve):d(je,_e,re),Le=se&&(ee?ve.readBit():I(je,"IARI",_e));let rt=ie[ut],Qe=rt[0].length,Fe=rt.length;if(Le){const Ze=I(je,"IARDW",_e),Ke=I(je,"IARDH",_e),qe=I(je,"IARDX",_e),tt=I(je,"IARDY",_e);Qe+=Ze,Fe+=Ke,rt=B(Qe,Fe,ge,rt,(Ze>>1)+qe,(Ke>>1)+tt,!1,ye,Ee)}const me=We-(le&1?0:Fe-1),Te=Pe-(le&2?Qe-1:0);let Ie,De,Be;if(Z){for(Ie=0;Ie<Fe;Ie++){if(ke=Se[Te+Ie],!ke)continue;Be=rt[Ie];const Ze=Math.min($-me,Qe);switch(te){case 0:for(De=0;De<Ze;De++)ke[me+De]|=Be[De];break;case 2:for(De=0;De<Ze;De++)ke[me+De]^=Be[De];break;default:throw new t(`operator ${te} is not supported`)}}Pe+=Fe-1}else{for(De=0;De<Fe;De++)if(ke=Se[me+De],!!ke)switch(Be=rt[De],te){case 0:for(Ie=0;Ie<Qe;Ie++)ke[Te+Ie]|=Be[Ie];break;case 2:for(Ie=0;Ie<Qe;Ie++)ke[Te+Ie]^=Be[Ie];break;default:throw new t(`operator ${te} is not supported`)}Pe+=Qe-1}Ae++;const Ue=ee?ue.tableDeltaS.decode(ve):I(je,"IADS",_e);if(Ue===null)break;Pe+=Ue+he}while(!0)}return Se}function _(ee,se,$,U,K,J){const Y=[];ee||(Y.push({x:-se,y:0}),K===0&&Y.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const ie=(U+1)*se,re=L(ee,ie,$,K,!1,null,Y,J),Z=[];for(let he=0;he<=U;he++){const le=[],te=se*he,ue=te+se;for(let ge=0;ge<$;ge++)le.push(re[ge].subarray(te,ue));Z.push(le)}return Z}function l(ee,se,$,U,K,J,Y,ie,re,Z,he,le,te,ue,ge){if(Y)throw new t("skip is not supported");if(ie!==0)throw new t(`operator "${ie}" is not supported in halftone region`);const Ee=[];let Oe,ve,Se;for(Oe=0;Oe<K;Oe++){if(Se=new Uint8Array(U),J)for(ve=0;ve<U;ve++)Se[ve]=J;Ee.push(Se)}const Ae=se.length,ke=se[0],_e=ke[0].length,je=ke.length,Re=(0,S.log2)(Ae),be=[];ee||(be.push({x:$<=1?3:2,y:-1}),$===0&&be.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const Ce=[];let $e,Pe;for(ee&&($e=new O(ge.data,ge.start,ge.end)),Oe=Re-1;Oe>=0;Oe--)ee?Pe=q($e,re,Z,!0):Pe=L(!1,re,Z,$,!1,null,be,ge),Ce[Oe]=Pe;let ze,We,ut,Le,rt,Qe,Fe,me,Te;for(ze=0;ze<Z;ze++)for(We=0;We<re;We++){for(ut=0,Le=0,ve=Re-1;ve>=0;ve--)ut^=Ce[ve][ze][We],Le|=ut<<ve;if(rt=se[Le],Qe=he+ze*ue+We*te>>8,Fe=le+ze*te-We*ue>>8,Qe>=0&&Qe+_e<=U&&Fe>=0&&Fe+je<=K)for(Oe=0;Oe<je;Oe++)for(Te=Ee[Fe+Oe],me=rt[Oe],ve=0;ve<_e;ve++)Te[Qe+ve]|=me[ve];else{let Ie,De;for(Oe=0;Oe<je;Oe++)if(De=Fe+Oe,!(De<0||De>=K))for(Te=Ee[De],me=rt[Oe],ve=0;ve<_e;ve++)Ie=Qe+ve,Ie>=0&&Ie<U&&(Te[Ie]|=me[ve])}}return Ee}function x(ee,se){const $={};$.number=(0,S.readUint32)(ee,se);const U=ee[se+4],K=U&63;if(!u[K])throw new t("invalid segment type: "+K);$.type=K,$.typeName=u[K],$.deferredNonRetain=!!(U&128);const J=!!(U&64),Y=ee[se+5];let ie=Y>>5&7;const re=[Y&31];let Z=se+6;if(Y===7){ie=(0,S.readUint32)(ee,Z-1)&536870911,Z+=3;let ge=ie+7>>3;for(re[0]=ee[Z++];--ge>0;)re.push(ee[Z++])}else if(Y===5||Y===6)throw new t("invalid referred-to flags");$.retainBits=re;let he=4;$.number<=256?he=1:$.number<=65536&&(he=2);const le=[];let te,ue;for(te=0;te<ie;te++){let ge;he===1?ge=ee[Z]:he===2?ge=(0,S.readUint16)(ee,Z):ge=(0,S.readUint32)(ee,Z),le.push(ge),Z+=he}if($.referredTo=le,J?($.pageAssociation=(0,S.readUint32)(ee,Z),Z+=4):$.pageAssociation=ee[Z++],$.length=(0,S.readUint32)(ee,Z),Z+=4,$.length===4294967295)if(K===38){const ge=a(ee,Z),Ee=!!(ee[Z+g]&1),Oe=6,ve=new Uint8Array(Oe);for(Ee||(ve[0]=255,ve[1]=172),ve[2]=ge.height>>>24&255,ve[3]=ge.height>>16&255,ve[4]=ge.height>>8&255,ve[5]=ge.height&255,te=Z,ue=ee.length;te<ue;te++){let Se=0;for(;Se<Oe&&ve[Se]===ee[te+Se];)Se++;if(Se===Oe){$.length=te+Oe;break}}if($.length===4294967295)throw new t("segment end was not found")}else throw new t("invalid unknown segment length");return $.headerEnd=Z,$}function X(ee,se,$,U){const K=[];let J=$;for(;J<U;){const Y=x(se,J);J=Y.headerEnd;const ie={header:Y,data:se};if(ee.randomAccess||(ie.start=J,J+=Y.length,ie.end=J),K.push(ie),Y.type===51)break}if(ee.randomAccess)for(let Y=0,ie=K.length;Y<ie;Y++)K[Y].start=J,J+=K[Y].header.length,K[Y].end=J;return K}function a(ee,se){return{width:(0,S.readUint32)(ee,se),height:(0,S.readUint32)(ee,se+4),x:(0,S.readUint32)(ee,se+8),y:(0,S.readUint32)(ee,se+12),combinationOperator:ee[se+16]&7}}const g=17;function P(ee,se){const $=ee.header,U=ee.data,K=ee.end;let J=ee.start,Y,ie,re,Z;switch($.type){case 0:const le={},te=(0,S.readUint16)(U,J);if(le.huffman=!!(te&1),le.refinement=!!(te&2),le.huffmanDHSelector=te>>2&3,le.huffmanDWSelector=te>>4&3,le.bitmapSizeSelector=te>>6&1,le.aggregationInstancesSelector=te>>7&1,le.bitmapCodingContextUsed=!!(te&256),le.bitmapCodingContextRetained=!!(te&512),le.template=te>>10&3,le.refinementTemplate=te>>12&1,J+=2,!le.huffman){for(Z=le.template===0?4:1,ie=[],re=0;re<Z;re++)ie.push({x:(0,S.readInt8)(U,J),y:(0,S.readInt8)(U,J+1)}),J+=2;le.at=ie}if(le.refinement&&!le.refinementTemplate){for(ie=[],re=0;re<2;re++)ie.push({x:(0,S.readInt8)(U,J),y:(0,S.readInt8)(U,J+1)}),J+=2;le.refinementAt=ie}le.numberOfExportedSymbols=(0,S.readUint32)(U,J),J+=4,le.numberOfNewSymbols=(0,S.readUint32)(U,J),J+=4,Y=[le,$.number,$.referredTo,U,J,K];break;case 6:case 7:const ue={};ue.info=a(U,J),J+=g;const ge=(0,S.readUint16)(U,J);if(J+=2,ue.huffman=!!(ge&1),ue.refinement=!!(ge&2),ue.logStripSize=ge>>2&3,ue.stripSize=1<<ue.logStripSize,ue.referenceCorner=ge>>4&3,ue.transposed=!!(ge&64),ue.combinationOperator=ge>>7&3,ue.defaultPixelValue=ge>>9&1,ue.dsOffset=ge<<17>>27,ue.refinementTemplate=ge>>15&1,ue.huffman){const je=(0,S.readUint16)(U,J);J+=2,ue.huffmanFS=je&3,ue.huffmanDS=je>>2&3,ue.huffmanDT=je>>4&3,ue.huffmanRefinementDW=je>>6&3,ue.huffmanRefinementDH=je>>8&3,ue.huffmanRefinementDX=je>>10&3,ue.huffmanRefinementDY=je>>12&3,ue.huffmanRefinementSizeSelector=!!(je&16384)}if(ue.refinement&&!ue.refinementTemplate){for(ie=[],re=0;re<2;re++)ie.push({x:(0,S.readInt8)(U,J),y:(0,S.readInt8)(U,J+1)}),J+=2;ue.refinementAt=ie}ue.numberOfSymbolInstances=(0,S.readUint32)(U,J),J+=4,Y=[ue,$.referredTo,U,J,K];break;case 16:const ye={},Ee=U[J++];ye.mmr=!!(Ee&1),ye.template=Ee>>1&3,ye.patternWidth=U[J++],ye.patternHeight=U[J++],ye.maxPatternIndex=(0,S.readUint32)(U,J),J+=4,Y=[ye,$.number,U,J,K];break;case 22:case 23:const Oe={};Oe.info=a(U,J),J+=g;const ve=U[J++];Oe.mmr=!!(ve&1),Oe.template=ve>>1&3,Oe.enableSkip=!!(ve&8),Oe.combinationOperator=ve>>4&7,Oe.defaultPixelValue=ve>>7&1,Oe.gridWidth=(0,S.readUint32)(U,J),J+=4,Oe.gridHeight=(0,S.readUint32)(U,J),J+=4,Oe.gridOffsetX=(0,S.readUint32)(U,J)&4294967295,J+=4,Oe.gridOffsetY=(0,S.readUint32)(U,J)&4294967295,J+=4,Oe.gridVectorX=(0,S.readUint16)(U,J),J+=2,Oe.gridVectorY=(0,S.readUint16)(U,J),J+=2,Y=[Oe,$.referredTo,U,J,K];break;case 38:case 39:const Se={};Se.info=a(U,J),J+=g;const Ae=U[J++];if(Se.mmr=!!(Ae&1),Se.template=Ae>>1&3,Se.prediction=!!(Ae&8),!Se.mmr){for(Z=Se.template===0?4:1,ie=[],re=0;re<Z;re++)ie.push({x:(0,S.readInt8)(U,J),y:(0,S.readInt8)(U,J+1)}),J+=2;Se.at=ie}Y=[Se,U,J,K];break;case 48:const ke={width:(0,S.readUint32)(U,J),height:(0,S.readUint32)(U,J+4),resolutionX:(0,S.readUint32)(U,J+8),resolutionY:(0,S.readUint32)(U,J+12)};ke.height===4294967295&&delete ke.height;const _e=U[J+16];(0,S.readUint16)(U,J+17),ke.lossless=!!(_e&1),ke.refinement=!!(_e&2),ke.defaultPixelValue=_e>>2&1,ke.combinationOperator=_e>>3&3,ke.requiresBuffer=!!(_e&32),ke.combinationOperatorOverride=!!(_e&64),Y=[ke];break;case 49:break;case 50:break;case 51:break;case 53:Y=[$.number,U,J,K];break;case 62:break;default:throw new t(`segment type ${$.typeName}(${$.type}) is not implemented`)}const he="on"+$.typeName;he in se&&se[he].apply(se,Y)}function G(ee,se){for(let $=0,U=ee.length;$<U;$++)P(ee[$],se)}function D(ee){const se=new w;for(let $=0,U=ee.length;$<U;$++){const K=ee[$],J=X({},K.data,K.start,K.end);G(J,se)}return se.buffer}class w{onPageInformation(se){this.currentPageInfo=se;const $=se.width+7>>3,U=new Uint8ClampedArray($*se.height);se.defaultPixelValue&&U.fill(255),this.buffer=U}drawBitmap(se,$){const U=this.currentPageInfo,K=se.width,J=se.height,Y=U.width+7>>3,ie=U.combinationOperatorOverride?se.combinationOperator:U.combinationOperator,re=this.buffer,Z=128>>(se.x&7);let he=se.y*Y+(se.x>>3),le,te,ue,ge;switch(ie){case 0:for(le=0;le<J;le++){for(ue=Z,ge=he,te=0;te<K;te++)$[le][te]&&(re[ge]|=ue),ue>>=1,ue||(ue=128,ge++);he+=Y}break;case 2:for(le=0;le<J;le++){for(ue=Z,ge=he,te=0;te<K;te++)$[le][te]&&(re[ge]^=ue),ue>>=1,ue||(ue=128,ge++);he+=Y}break;default:throw new t(`operator ${ie} is not supported`)}}onImmediateGenericRegion(se,$,U,K){const J=se.info,Y=new z($,U,K),ie=L(se.mmr,J.width,J.height,se.template,se.prediction,null,se.at,Y);this.drawBitmap(J,ie)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(se,$,U,K,J,Y){let ie,re;se.huffman&&(ie=H(se,U,this.customTables),re=new O(K,J,Y));let Z=this.symbols;Z||(this.symbols=Z={});const he=[];for(const te of U){const ue=Z[te];ue&&he.push(...ue)}const le=new z(K,J,Y);Z[$]=V(se.huffman,se.refinement,he,se.numberOfNewSymbols,se.numberOfExportedSymbols,ie,se.template,se.at,se.refinementTemplate,se.refinementAt,le,re)}onImmediateTextRegion(se,$,U,K,J){const Y=se.info;let ie,re;const Z=this.symbols,he=[];for(const ge of $){const ye=Z[ge];ye&&he.push(...ye)}const le=(0,S.log2)(he.length);se.huffman&&(re=new O(U,K,J),ie=R(se,$,this.customTables,he.length,re));const te=new z(U,K,J),ue=k(se.huffman,se.refinement,Y.width,Y.height,se.defaultPixelValue,se.numberOfSymbolInstances,se.stripSize,he,le,se.transposed,se.dsOffset,se.referenceCorner,se.combinationOperator,ie,se.refinementTemplate,se.refinementAt,te,se.logStripSize,re);this.drawBitmap(Y,ue)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(se,$,U,K,J){let Y=this.patterns;Y||(this.patterns=Y={});const ie=new z(U,K,J);Y[$]=_(se.mmr,se.patternWidth,se.patternHeight,se.maxPatternIndex,se.template,ie)}onImmediateHalftoneRegion(se,$,U,K,J){const Y=this.patterns[$[0]],ie=se.info,re=new z(U,K,J),Z=l(se.mmr,Y,se.template,ie.width,ie.height,se.defaultPixelValue,se.enableSkip,se.combinationOperator,se.gridWidth,se.gridHeight,se.gridOffsetX,se.gridOffsetY,se.gridVectorX,se.gridVectorY,re);this.drawBitmap(ie,Z)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(se,$,U,K){let J=this.customTables;J||(this.customTables=J={}),J[se]=y($,U,K)}}class A{constructor(se){se.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=se[0],this.rangeLength=0,this.prefixCode=se[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=se[0],this.prefixLength=se[1],this.rangeLength=se[2],this.prefixCode=se[3],this.isLowerRange=se[4]==="lower")}}class v{constructor(se){this.children=[],se?(this.isLeaf=!0,this.rangeLength=se.rangeLength,this.rangeLow=se.rangeLow,this.isLowerRange=se.isLowerRange,this.isOOB=se.isOOB):this.isLeaf=!1}buildTree(se,$){const U=se.prefixCode>>$&1;if($<=0)this.children[U]=new v(se);else{let K=this.children[U];K||(this.children[U]=K=new v(null)),K.buildTree(se,$-1)}}decodeNode(se){if(this.isLeaf){if(this.isOOB)return null;const U=se.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-U:U)}const $=this.children[se.readBit()];if(!$)throw new t("invalid Huffman data");return $.decodeNode(se)}}class o{constructor(se,$){$||this.assignPrefixCodes(se),this.rootNode=new v(null);for(let U=0,K=se.length;U<K;U++){const J=se[U];J.prefixLength>0&&this.rootNode.buildTree(J,J.prefixLength-1)}}decode(se){return this.rootNode.decodeNode(se)}assignPrefixCodes(se){const $=se.length;let U=0;for(let he=0;he<$;he++)U=Math.max(U,se[he].prefixLength);const K=new Uint32Array(U+1);for(let he=0;he<$;he++)K[se[he].prefixLength]++;let J=1,Y=0,ie,re,Z;for(K[0]=0;J<=U;){for(Y=Y+K[J-1]<<1,ie=Y,re=0;re<$;)Z=se[re],Z.prefixLength===J&&(Z.prefixCode=ie,ie++),re++;J++}}}function y(ee,se,$){const U=ee[se],K=(0,S.readUint32)(ee,se+1)&4294967295,J=(0,S.readUint32)(ee,se+5)&4294967295,Y=new O(ee,se+9,$),ie=(U>>1&7)+1,re=(U>>4&7)+1,Z=[];let he,le,te=K;do he=Y.readBits(ie),le=Y.readBits(re),Z.push(new A([te,he,le,0])),te+=1<<le;while(te<J);return he=Y.readBits(ie),Z.push(new A([K-1,he,32,0,"lower"])),he=Y.readBits(ie),Z.push(new A([J,he,32,0])),U&1&&(he=Y.readBits(ie),Z.push(new A([he,0]))),new o(Z,!1)}const c={};function h(ee){let se=c[ee];if(se)return se;let $;switch(ee){case 1:$=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:$=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:$=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:$=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:$=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:$=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:$=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:$=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:$=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:$=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:$=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:$=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:$=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:$=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:$=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new t(`standard table B.${ee} does not exist`)}for(let U=0,K=$.length;U<K;U++)$[U]=new A($[U]);return se=new o($,!0),c[ee]=se,se}class O{constructor(se,$,U){this.data=se,this.start=$,this.end=U,this.position=$,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new t("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const se=this.currentByte>>this.shift&1;return this.shift--,se}readBits(se){let $=0,U;for(U=se-1;U>=0;U--)$|=this.readBit()<<U;return $}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function W(ee,se,$){let U=0;for(let K=0,J=se.length;K<J;K++){const Y=$[se[K]];if(Y){if(ee===U)return Y;U++}}throw new t("can't find custom Huffman table")}function R(ee,se,$,U,K){const J=[];for(let te=0;te<=34;te++){const ue=K.readBits(4);J.push(new A([te,ue,0,0]))}const Y=new o(J,!1);J.length=0;for(let te=0;te<U;){const ue=Y.decode(K);if(ue>=32){let ge,ye,Ee;switch(ue){case 32:if(te===0)throw new t("no previous value in symbol ID table");ye=K.readBits(2)+3,ge=J[te-1].prefixLength;break;case 33:ye=K.readBits(3)+3,ge=0;break;case 34:ye=K.readBits(7)+11,ge=0;break;default:throw new t("invalid code length in symbol ID table")}for(Ee=0;Ee<ye;Ee++)J.push(new A([te,ge,0,0])),te++}else J.push(new A([te,ue,0,0])),te++}K.byteAlign();const ie=new o(J,!1);let re=0,Z,he,le;switch(ee.huffmanFS){case 0:case 1:Z=h(ee.huffmanFS+6);break;case 3:Z=W(re,se,$),re++;break;default:throw new t("invalid Huffman FS selector")}switch(ee.huffmanDS){case 0:case 1:case 2:he=h(ee.huffmanDS+8);break;case 3:he=W(re,se,$),re++;break;default:throw new t("invalid Huffman DS selector")}switch(ee.huffmanDT){case 0:case 1:case 2:le=h(ee.huffmanDT+11);break;case 3:le=W(re,se,$),re++;break;default:throw new t("invalid Huffman DT selector")}if(ee.refinement)throw new t("refinement with Huffman is not supported");return{symbolIDTable:ie,tableFirstS:Z,tableDeltaS:he,tableDeltaT:le}}function H(ee,se,$){let U=0,K,J;switch(ee.huffmanDHSelector){case 0:case 1:K=h(ee.huffmanDHSelector+4);break;case 3:K=W(U,se,$),U++;break;default:throw new t("invalid Huffman DH selector")}switch(ee.huffmanDWSelector){case 0:case 1:J=h(ee.huffmanDWSelector+2);break;case 3:J=W(U,se,$),U++;break;default:throw new t("invalid Huffman DW selector")}let Y,ie;return ee.bitmapSizeSelector?(Y=W(U,se,$),U++):Y=h(1),ee.aggregationInstancesSelector?ie=W(U,se,$):ie=h(1),{tableDeltaHeight:K,tableDeltaWidth:J,tableBitmapSize:Y,tableAggregateInstances:ie}}function ae(ee,se,$){const U=[];for(let K=0;K<$;K++){const J=new Uint8Array(se);U.push(J);for(let Y=0;Y<se;Y++)J[Y]=ee.readBit();ee.byteAlign()}return U}function q(ee,se,$,U){const K={K:-1,Columns:se,Rows:$,BlackIs1:!0,EndOfBlock:U},J=new e.CCITTFaxDecoder(ee,K),Y=[];let ie,re=!1;for(let Z=0;Z<$;Z++){const he=new Uint8Array(se);Y.push(he);let le=-1;for(let te=0;te<se;te++)le<0&&(ie=J.readNextChar(),ie===-1&&(ie=0,re=!0),le=7),he[te]=ie>>le&1,le--}if(U&&!re)for(let he=0;he<5&&J.readNextChar()!==-1;he++);return Y}class ce{parseChunks(se){return D(se)}parse(se){throw new Error("Not implemented: Jbig2Image.parse")}}m.Jbig2Image=ce},(xe,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.ArithmeticDecoder=void 0;const Q=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class n{constructor(N,e,t){this.data=N,this.bp=e,this.dataEnd=t,this.chigh=N[e],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const N=this.data;let e=this.bp;N[e]===255?N[e+1]>143?(this.clow+=65280,this.ct=8):(e++,this.clow+=N[e]<<9,this.ct=7,this.bp=e):(e++,this.clow+=e<this.dataEnd?N[e]<<8:65280,this.ct=8,this.bp=e),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(N,e){let t=N[e]>>1,r=N[e]&1;const z=Q[t],j=z.qe;let M,I=this.a-j;if(this.chigh<j)I<j?(I=j,M=r,t=z.nmps):(I=j,M=1^r,z.switchFlag===1&&(r=M),t=z.nlps);else{if(this.chigh-=j,I&32768)return this.a=I,r;I<j?(M=1^r,z.switchFlag===1&&(r=M),t=z.nlps):(M=r,t=z.nmps)}do this.ct===0&&this.byteIn(),I<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(!(I&32768));return this.a=I,N[e]=t<<1|r,M}}m.ArithmeticDecoder=n},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.JpegStream=void 0;var n=Q(18),S=Q(4),N=Q(27),e=Q(2);class t extends n.DecodeStream{constructor(z,j,M){let I;for(;(I=z.getByte())!==-1;)if(I===255){z.skip(-1);break}super(j),this.stream=z,this.dict=z.dict,this.maybeLength=j,this.params=M}get bytes(){return(0,e.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(z){}readBlock(){if(this.eof)return;const z={decodeTransform:void 0,colorTransform:void 0},j=this.dict.getArray("D","Decode");if((this.forceRGBA||this.forceRGB)&&Array.isArray(j)){const d=this.dict.get("BPC","BitsPerComponent")||8,u=j.length,i=new Int32Array(u);let F=!1;const C=(1<<d)-1;for(let T=0;T<u;T+=2)i[T]=(j[T+1]-j[T])*256|0,i[T+1]=j[T]*C|0,(i[T]!==256||i[T+1]!==0)&&(F=!0);F&&(z.decodeTransform=i)}if(this.params instanceof S.Dict){const d=this.params.get("ColorTransform");Number.isInteger(d)&&(z.colorTransform=d)}const M=new N.JpegImage(z);M.parse(this.bytes);const I=M.getData({width:this.drawWidth,height:this.drawHeight,forceRGBA:this.forceRGBA,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=I,this.bufferLength=I.length,this.eof=!0}}m.JpegStream=t},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.JpegImage=void 0;var n=Q(2),S=Q(28),N=Q(3);class e extends n.BaseException{constructor(x){super(`JPEG error: ${x}`,"JpegError")}}class t extends n.BaseException{constructor(x,X){super(x,"DNLMarkerError"),this.scanLines=X}}class r extends n.BaseException{constructor(x){super(x,"EOIMarkerError")}}const z=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),j=4017,M=799,I=3406,d=2276,u=1567,i=3784,F=5793,C=2896;function T(l,x){let X=0,a,g,P=16;for(;P>0&&!l[P-1];)P--;const G=[{children:[],index:0}];let D=G[0],w;for(a=0;a<P;a++){for(g=0;g<l[a];g++){for(D=G.pop(),D.children[D.index]=x[X];D.index>0;)D=G.pop();for(D.index++,G.push(D);G.length<=a;)G.push(w={children:[],index:0}),D.children[D.index]=w.children,D=w;X++}a+1<P&&(G.push(w={children:[],index:0}),D.children[D.index]=w.children,D=w)}return G[0].children}function b(l,x,X){return 64*((l.blocksPerLine+1)*x+X)}function L(l,x,X,a,g,P,G,D,w,A=!1){const v=X.mcusPerLine,o=X.progressive,y=x;let c=0,h=0;function O(){if(h>0)return h--,c>>h&1;if(c=l[x++],c===255){const Ae=l[x++];if(Ae){if(Ae===220&&A){x+=2;const ke=(0,N.readUint16)(l,x);if(x+=2,ke>0&&ke!==X.scanLines)throw new t("Found DNL marker (0xFFDC) while parsing scan data",ke)}else if(Ae===217){if(A){const ke=J*(X.precision===8?8:0);if(ke>0&&Math.round(X.scanLines/ke)>=5)throw new t("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",ke)}throw new r("Found EOI marker (0xFFD9) while parsing scan data")}throw new e(`unexpected marker ${(c<<8|Ae).toString(16)}`)}}return h=7,c>>>7}function W(Ae){let ke=Ae;for(;;){switch(ke=ke[O()],typeof ke){case"number":return ke;case"object":continue}throw new e("invalid huffman sequence")}}function R(Ae){let ke=0;for(;Ae>0;)ke=ke<<1|O(),Ae--;return ke}function H(Ae){if(Ae===1)return O()===1?1:-1;const ke=R(Ae);return ke>=1<<Ae-1?ke:ke+(-1<<Ae)+1}function ae(Ae,ke){const _e=W(Ae.huffmanTableDC),je=_e===0?0:H(_e);Ae.blockData[ke]=Ae.pred+=je;let Re=1;for(;Re<64;){const be=W(Ae.huffmanTableAC),Ce=be&15,$e=be>>4;if(Ce===0){if($e<15)break;Re+=16;continue}Re+=$e;const Pe=z[Re];Ae.blockData[ke+Pe]=H(Ce),Re++}}function q(Ae,ke){const _e=W(Ae.huffmanTableDC),je=_e===0?0:H(_e)<<w;Ae.blockData[ke]=Ae.pred+=je}function ce(Ae,ke){Ae.blockData[ke]|=O()<<w}let ee=0;function se(Ae,ke){if(ee>0){ee--;return}let _e=P;const je=G;for(;_e<=je;){const Re=W(Ae.huffmanTableAC),be=Re&15,Ce=Re>>4;if(be===0){if(Ce<15){ee=R(Ce)+(1<<Ce)-1;break}_e+=16;continue}_e+=Ce;const $e=z[_e];Ae.blockData[ke+$e]=H(be)*(1<<w),_e++}}let $=0,U;function K(Ae,ke){let _e=P;const je=G;let Re=0,be,Ce;for(;_e<=je;){const $e=ke+z[_e],Pe=Ae.blockData[$e]<0?-1:1;switch($){case 0:if(Ce=W(Ae.huffmanTableAC),be=Ce&15,Re=Ce>>4,be===0)Re<15?(ee=R(Re)+(1<<Re),$=4):(Re=16,$=1);else{if(be!==1)throw new e("invalid ACn encoding");U=H(be),$=Re?2:3}continue;case 1:case 2:Ae.blockData[$e]?Ae.blockData[$e]+=Pe*(O()<<w):(Re--,Re===0&&($=$===2?3:0));break;case 3:Ae.blockData[$e]?Ae.blockData[$e]+=Pe*(O()<<w):(Ae.blockData[$e]=U<<w,$=0);break;case 4:Ae.blockData[$e]&&(Ae.blockData[$e]+=Pe*(O()<<w));break}_e++}$===4&&(ee--,ee===0&&($=0))}let J=0;function Y(Ae,ke,_e,je,Re){const be=_e/v|0,Ce=_e%v;J=be*Ae.v+je;const $e=Ce*Ae.h+Re,Pe=b(Ae,J,$e);ke(Ae,Pe)}function ie(Ae,ke,_e){J=_e/Ae.blocksPerLine|0;const je=_e%Ae.blocksPerLine,Re=b(Ae,J,je);ke(Ae,Re)}const re=a.length;let Z,he,le,te,ue,ge;o?P===0?ge=D===0?q:ce:ge=D===0?se:K:ge=ae;let ye=0,Ee;const Oe=re===1?a[0].blocksPerLine*a[0].blocksPerColumn:v*X.mcusPerColumn;let ve,Se;for(;ye<=Oe;){const Ae=g?Math.min(Oe-ye,g):Oe;if(Ae>0){for(he=0;he<re;he++)a[he].pred=0;if(ee=0,re===1)for(Z=a[0],ue=0;ue<Ae;ue++)ie(Z,ge,ye),ye++;else for(ue=0;ue<Ae;ue++){for(he=0;he<re;he++)for(Z=a[he],ve=Z.h,Se=Z.v,le=0;le<Se;le++)for(te=0;te<ve;te++)Y(Z,ge,ye,le,te);ye++}}if(h=0,Ee=k(l,x),!Ee)break;if(Ee.invalid){const ke=Ae>0?"unexpected":"excessive";(0,n.warn)(`decodeScan - ${ke} MCU data, current marker is: ${Ee.invalid}`),x=Ee.offset}if(Ee.marker>=65488&&Ee.marker<=65495)x+=2;else break}return x-y}function B(l,x,X){const a=l.quantizationTable,g=l.blockData;let P,G,D,w,A,v,o,y,c,h,O,W,R,H,ae,q,ce;if(!a)throw new e("missing required Quantization Table.");for(let ee=0;ee<64;ee+=8){if(c=g[x+ee],h=g[x+ee+1],O=g[x+ee+2],W=g[x+ee+3],R=g[x+ee+4],H=g[x+ee+5],ae=g[x+ee+6],q=g[x+ee+7],c*=a[ee],!(h|O|W|R|H|ae|q)){ce=F*c+512>>10,X[ee]=ce,X[ee+1]=ce,X[ee+2]=ce,X[ee+3]=ce,X[ee+4]=ce,X[ee+5]=ce,X[ee+6]=ce,X[ee+7]=ce;continue}h*=a[ee+1],O*=a[ee+2],W*=a[ee+3],R*=a[ee+4],H*=a[ee+5],ae*=a[ee+6],q*=a[ee+7],P=F*c+128>>8,G=F*R+128>>8,D=O,w=ae,A=C*(h-q)+128>>8,y=C*(h+q)+128>>8,v=W<<4,o=H<<4,P=P+G+1>>1,G=P-G,ce=D*i+w*u+128>>8,D=D*u-w*i+128>>8,w=ce,A=A+o+1>>1,o=A-o,y=y+v+1>>1,v=y-v,P=P+w+1>>1,w=P-w,G=G+D+1>>1,D=G-D,ce=A*d+y*I+2048>>12,A=A*I-y*d+2048>>12,y=ce,ce=v*M+o*j+2048>>12,v=v*j-o*M+2048>>12,o=ce,X[ee]=P+y,X[ee+7]=P-y,X[ee+1]=G+o,X[ee+6]=G-o,X[ee+2]=D+v,X[ee+5]=D-v,X[ee+3]=w+A,X[ee+4]=w-A}for(let ee=0;ee<8;++ee){if(c=X[ee],h=X[ee+8],O=X[ee+16],W=X[ee+24],R=X[ee+32],H=X[ee+40],ae=X[ee+48],q=X[ee+56],!(h|O|W|R|H|ae|q)){ce=F*c+8192>>14,ce<-2040?ce=0:ce>=2024?ce=255:ce=ce+2056>>4,g[x+ee]=ce,g[x+ee+8]=ce,g[x+ee+16]=ce,g[x+ee+24]=ce,g[x+ee+32]=ce,g[x+ee+40]=ce,g[x+ee+48]=ce,g[x+ee+56]=ce;continue}P=F*c+2048>>12,G=F*R+2048>>12,D=O,w=ae,A=C*(h-q)+2048>>12,y=C*(h+q)+2048>>12,v=W,o=H,P=(P+G+1>>1)+4112,G=P-G,ce=D*i+w*u+2048>>12,D=D*u-w*i+2048>>12,w=ce,A=A+o+1>>1,o=A-o,y=y+v+1>>1,v=y-v,P=P+w+1>>1,w=P-w,G=G+D+1>>1,D=G-D,ce=A*d+y*I+2048>>12,A=A*I-y*d+2048>>12,y=ce,ce=v*M+o*j+2048>>12,v=v*j-o*M+2048>>12,o=ce,c=P+y,q=P-y,h=G+o,ae=G-o,O=D+v,H=D-v,W=w+A,R=w-A,c<16?c=0:c>=4080?c=255:c>>=4,h<16?h=0:h>=4080?h=255:h>>=4,O<16?O=0:O>=4080?O=255:O>>=4,W<16?W=0:W>=4080?W=255:W>>=4,R<16?R=0:R>=4080?R=255:R>>=4,H<16?H=0:H>=4080?H=255:H>>=4,ae<16?ae=0:ae>=4080?ae=255:ae>>=4,q<16?q=0:q>=4080?q=255:q>>=4,g[x+ee]=c,g[x+ee+8]=h,g[x+ee+16]=O,g[x+ee+24]=W,g[x+ee+32]=R,g[x+ee+40]=H,g[x+ee+48]=ae,g[x+ee+56]=q}}function V(l,x){const X=x.blocksPerLine,a=x.blocksPerColumn,g=new Int16Array(64);for(let P=0;P<a;P++)for(let G=0;G<X;G++){const D=b(x,P,G);B(x,D,g)}return x.blockData}function k(l,x,X=x){const a=l.length-1;let g=X<x?X:x;if(x>=a)return null;const P=(0,N.readUint16)(l,x);if(P>=65472&&P<=65534)return{invalid:null,marker:P,offset:x};let G=(0,N.readUint16)(l,g);for(;!(G>=65472&&G<=65534);){if(++g>=a)return null;G=(0,N.readUint16)(l,g)}return{invalid:P.toString(16),marker:G,offset:g}}class _{constructor({decodeTransform:x=null,colorTransform:X=-1}={}){this._decodeTransform=x,this._colorTransform=X}parse(x,{dnlScanLines:X=null}={}){function a(){const O=(0,N.readUint16)(x,P);P+=2;let W=P+O-2;const R=k(x,W,P);R!=null&&R.invalid&&((0,n.warn)("readDataBlock - incorrect length, current marker is: "+R.invalid),W=R.offset);const H=x.subarray(P,W);return P+=H.length,H}function g(O){const W=Math.ceil(O.samplesPerLine/8/O.maxH),R=Math.ceil(O.scanLines/8/O.maxV);for(const H of O.components){const ae=Math.ceil(Math.ceil(O.samplesPerLine/8)*H.h/O.maxH),q=Math.ceil(Math.ceil(O.scanLines/8)*H.v/O.maxV),ce=W*H.h,se=64*(R*H.v)*(ce+1);H.blockData=new Int16Array(se),H.blocksPerLine=ae,H.blocksPerColumn=q}O.mcusPerLine=W,O.mcusPerColumn=R}let P=0,G=null,D=null,w,A,v=0;const o=[],y=[],c=[];let h=(0,N.readUint16)(x,P);if(P+=2,h!==65496)throw new e("SOI not found");h=(0,N.readUint16)(x,P),P+=2;e:for(;h!==65497;){let O,W,R;switch(h){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const H=a();h===65504&&H[0]===74&&H[1]===70&&H[2]===73&&H[3]===70&&H[4]===0&&(G={version:{major:H[5],minor:H[6]},densityUnits:H[7],xDensity:H[8]<<8|H[9],yDensity:H[10]<<8|H[11],thumbWidth:H[12],thumbHeight:H[13],thumbData:H.subarray(14,14+3*H[12]*H[13])}),h===65518&&H[0]===65&&H[1]===100&&H[2]===111&&H[3]===98&&H[4]===101&&(D={version:H[5]<<8|H[6],flags0:H[7]<<8|H[8],flags1:H[9]<<8|H[10],transformCode:H[11]});break;case 65499:const ae=(0,N.readUint16)(x,P);P+=2;const q=ae+P-2;let ce;for(;P<q;){const te=x[P++],ue=new Uint16Array(64);if(te>>4)if(te>>4===1)for(W=0;W<64;W++)ce=z[W],ue[ce]=(0,N.readUint16)(x,P),P+=2;else throw new e("DQT - invalid table spec");else for(W=0;W<64;W++)ce=z[W],ue[ce]=x[P++];o[te&15]=ue}break;case 65472:case 65473:case 65474:if(w)throw new e("Only single frame JPEGs supported");P+=2,w={},w.extended=h===65473,w.progressive=h===65474,w.precision=x[P++];const ee=(0,N.readUint16)(x,P);P+=2,w.scanLines=X||ee,w.samplesPerLine=(0,N.readUint16)(x,P),P+=2,w.components=[],w.componentIds={};const se=x[P++];let $=0,U=0;for(O=0;O<se;O++){const te=x[P],ue=x[P+1]>>4,ge=x[P+1]&15;$<ue&&($=ue),U<ge&&(U=ge);const ye=x[P+2];R=w.components.push({h:ue,v:ge,quantizationId:ye,quantizationTable:null}),w.componentIds[te]=R-1,P+=3}w.maxH=$,w.maxV=U,g(w);break;case 65476:const K=(0,N.readUint16)(x,P);for(P+=2,O=2;O<K;){const te=x[P++],ue=new Uint8Array(16);let ge=0;for(W=0;W<16;W++,P++)ge+=ue[W]=x[P];const ye=new Uint8Array(ge);for(W=0;W<ge;W++,P++)ye[W]=x[P];O+=17+ge,(te>>4?y:c)[te&15]=T(ue,ye)}break;case 65501:P+=2,A=(0,N.readUint16)(x,P),P+=2;break;case 65498:const J=++v===1&&!X;P+=2;const Y=x[P++],ie=[];for(O=0;O<Y;O++){const te=x[P++],ue=w.componentIds[te],ge=w.components[ue];ge.index=te;const ye=x[P++];ge.huffmanTableDC=c[ye>>4],ge.huffmanTableAC=y[ye&15],ie.push(ge)}const re=x[P++],Z=x[P++],he=x[P++];try{const te=L(x,P,w,ie,A,re,Z,he>>4,he&15,J);P+=te}catch(te){if(te instanceof t)return(0,n.warn)(`${te.message} -- attempting to re-parse the JPEG image.`),this.parse(x,{dnlScanLines:te.scanLines});if(te instanceof r){(0,n.warn)(`${te.message} -- ignoring the rest of the image data.`);break e}throw te}break;case 65500:P+=4;break;case 65535:x[P]!==255&&P--;break;default:const le=k(x,P-2,P-3);if(le!=null&&le.invalid){(0,n.warn)("JpegImage.parse - unexpected data, current marker is: "+le.invalid),P=le.offset;break}if(!le||P>=x.length-1){(0,n.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new e("JpegImage.parse - unknown marker: "+h.toString(16))}h=(0,N.readUint16)(x,P),P+=2}this.width=w.samplesPerLine,this.height=w.scanLines,this.jfif=G,this.adobe=D,this.components=[];for(const O of w.components){const W=o[O.quantizationId];W&&(O.quantizationTable=W),this.components.push({index:O.index,output:V(w,O),scaleX:O.h/w.maxH,scaleY:O.v/w.maxV,blocksPerLine:O.blocksPerLine,blocksPerColumn:O.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(x,X,a=!1){const g=this.width/x,P=this.height/X;let G,D,w,A,v,o,y,c,h,O,W=0,R;const H=this.components.length,ae=x*X*H,q=new Uint8ClampedArray(ae),ce=new Uint32Array(x),ee=4294967288;let se;for(y=0;y<H;y++){if(G=this.components[y],D=G.scaleX*g,w=G.scaleY*P,W=y,R=G.output,A=G.blocksPerLine+1<<3,D!==se){for(v=0;v<x;v++)c=0|v*D,ce[v]=(c&ee)<<3|c&7;se=D}for(o=0;o<X;o++)for(c=0|o*w,O=A*(c&ee)|(c&7)<<3,v=0;v<x;v++)q[W]=R[O+ce[v]],W+=H}let $=this._decodeTransform;if(!a&&H===4&&!$&&($=new Int32Array([-256,255,-256,255,-256,255,-256,255])),$)for(y=0;y<ae;)for(c=0,h=0;c<H;c++,y++,h+=2)q[y]=(q[y]*$[h]>>8)+$[h+1];return q}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(x){let X,a,g;for(let P=0,G=x.length;P<G;P+=3)X=x[P],a=x[P+1],g=x[P+2],x[P]=X-179.456+1.402*g,x[P+1]=X+135.459-.344*a-.714*g,x[P+2]=X-226.816+1.772*a;return x}_convertYccToRgba(x,X){for(let a=0,g=0,P=x.length;a<P;a+=3,g+=4){const G=x[a],D=x[a+1],w=x[a+2];X[g]=G-179.456+1.402*w,X[g+1]=G+135.459-.344*D-.714*w,X[g+2]=G-226.816+1.772*D,X[g+3]=255}return X}_convertYcckToRgb(x){let X,a,g,P,G=0;for(let D=0,w=x.length;D<w;D+=4)X=x[D],a=x[D+1],g=x[D+2],P=x[D+3],x[G++]=-122.67195406894+a*(-660635669420364e-19*a+.000437130475926232*g-54080610064599e-18*X+.00048449797120281*P-.154362151871126)+g*(-.000957964378445773*g+.000817076911346625*X-.00477271405408747*P+1.53380253221734)+X*(.000961250184130688*X-.00266257332283933*P+.48357088451265)+P*(-.000336197177618394*P+.484791561490776),x[G++]=107.268039397724+a*(219927104525741e-19*a-.000640992018297945*g+.000659397001245577*X+.000426105652938837*P-.176491792462875)+g*(-.000778269941513683*g+.00130872261408275*X+.000770482631801132*P-.151051492775562)+X*(.00126935368114843*X-.00265090189010898*P+.25802910206845)+P*(-.000318913117588328*P-.213742400323665),x[G++]=-20.810012546947+a*(-.000570115196973677*a-263409051004589e-19*g+.0020741088115012*X-.00288260236853442*P+.814272968359295)+g*(-153496057440975e-19*g-.000132689043961446*X+.000560833691242812*P-.195152027534049)+X*(.00174418132927582*X-.00255243321439347*P+.116935020465145)+P*(-.000343531996510555*P+.24165260232407);return x.subarray(0,G)}_convertYcckToRgba(x){for(let X=0,a=x.length;X<a;X+=4){const g=x[X],P=x[X+1],G=x[X+2],D=x[X+3];x[X]=-122.67195406894+P*(-660635669420364e-19*P+.000437130475926232*G-54080610064599e-18*g+.00048449797120281*D-.154362151871126)+G*(-.000957964378445773*G+.000817076911346625*g-.00477271405408747*D+1.53380253221734)+g*(.000961250184130688*g-.00266257332283933*D+.48357088451265)+D*(-.000336197177618394*D+.484791561490776),x[X+1]=107.268039397724+P*(219927104525741e-19*P-.000640992018297945*G+.000659397001245577*g+.000426105652938837*D-.176491792462875)+G*(-.000778269941513683*G+.00130872261408275*g+.000770482631801132*D-.151051492775562)+g*(.00126935368114843*g-.00265090189010898*D+.25802910206845)+D*(-.000318913117588328*D-.213742400323665),x[X+2]=-20.810012546947+P*(-.000570115196973677*P-263409051004589e-19*G+.0020741088115012*g-.00288260236853442*D+.814272968359295)+G*(-153496057440975e-19*G-.000132689043961446*g+.000560833691242812*D-.195152027534049)+g*(.00174418132927582*g-.00255243321439347*D+.116935020465145)+D*(-.000343531996510555*D+.24165260232407),x[X+3]=255}return x}_convertYcckToCmyk(x){let X,a,g;for(let P=0,G=x.length;P<G;P+=4)X=x[P],a=x[P+1],g=x[P+2],x[P]=434.456-X-1.402*g,x[P+1]=119.541-X+.344*a+.714*g,x[P+2]=481.816-X-1.772*a;return x}_convertCmykToRgb(x){let X,a,g,P,G=0;for(let D=0,w=x.length;D<w;D+=4)X=x[D],a=x[D+1],g=x[D+2],P=x[D+3],x[G++]=255+X*(-6747147073602441e-20*X+.0008379262121013727*a+.0002894718188643294*g+.003264231057537806*P-1.1185611867203937)+a*(26374107616089405e-21*a-8626949158638572e-20*g-.0002748769067499491*P-.02155688794978967)+g*(-3878099212869363e-20*g-.0003267808279485286*P+.0686742238595345)-P*(.0003361971776183937*P+.7430659151342254),x[G++]=255+X*(.00013596372813588848*X+.000924537132573585*a+.00010567359618683593*g+.0004791864687436512*P-.3109689587515875)+a*(-.00023545346108370344*a+.0002702845253534714*g+.0020200308977307156*P-.7488052167015494)+g*(6834815998235662e-20*g+.00015168452363460973*P-.09751927774728933)-P*(.0003189131175883281*P+.7364883807733168),x[G++]=255+X*(13598650411385307e-21*X+.00012423956175490851*a+.0004751985097583589*g-36729317476630422e-22*P-.05562186980264034)+a*(.00016141380598724676*a+.0009692239130725186*g+.0007782692450036253*P-.44015232367526463)+g*(5068882914068769e-22*g+.0017778369011375071*P-.7591454649749609)-P*(.0003435319965105553*P+.7063770186160144);return x.subarray(0,G)}_convertCmykToRgba(x){for(let X=0,a=x.length;X<a;X+=4){const g=x[X],P=x[X+1],G=x[X+2],D=x[X+3];x[X]=255+g*(-6747147073602441e-20*g+.0008379262121013727*P+.0002894718188643294*G+.003264231057537806*D-1.1185611867203937)+P*(26374107616089405e-21*P-8626949158638572e-20*G-.0002748769067499491*D-.02155688794978967)+G*(-3878099212869363e-20*G-.0003267808279485286*D+.0686742238595345)-D*(.0003361971776183937*D+.7430659151342254),x[X+1]=255+g*(.00013596372813588848*g+.000924537132573585*P+.00010567359618683593*G+.0004791864687436512*D-.3109689587515875)+P*(-.00023545346108370344*P+.0002702845253534714*G+.0020200308977307156*D-.7488052167015494)+G*(6834815998235662e-20*G+.00015168452363460973*D-.09751927774728933)-D*(.0003189131175883281*D+.7364883807733168),x[X+2]=255+g*(13598650411385307e-21*g+.00012423956175490851*P+.0004751985097583589*G-36729317476630422e-22*D-.05562186980264034)+P*(.00016141380598724676*P+.0009692239130725186*G+.0007782692450036253*D-.44015232367526463)+G*(5068882914068769e-22*G+.0017778369011375071*D-.7591454649749609)-D*(.0003435319965105553*D+.7063770186160144),x[X+3]=255}return x}getData({width:x,height:X,forceRGBA:a=!1,forceRGB:g=!1,isSourcePDF:P=!1}){if(this.numComponents>4)throw new e("Unsupported color mode");const G=this._getLinearizedBlockData(x,X,P);if(this.numComponents===1&&(a||g)){const D=G.length*(a?4:3),w=new Uint8ClampedArray(D);let A=0;if(a)(0,S.grayToRGBA)(G,new Uint32Array(w.buffer));else for(const v of G)w[A++]=v,w[A++]=v,w[A++]=v;return w}else if(this.numComponents===3&&this._isColorConversionNeeded){if(a){const D=new Uint8ClampedArray(G.length/3*4);return this._convertYccToRgba(G,D)}return this._convertYccToRgb(G)}else if(this.numComponents===4){if(this._isColorConversionNeeded)return a?this._convertYcckToRgba(G):g?this._convertYcckToRgb(G):this._convertYcckToCmyk(G);if(a)return this._convertCmykToRgba(G);if(g)return this._convertCmykToRgb(G)}return G}}m.JpegImage=_},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.convertBlackAndWhiteToRGBA=N,m.convertToRGBA=S,m.grayToRGBA=t;var n=Q(2);function S(r){switch(r.kind){case n.ImageKind.GRAYSCALE_1BPP:return N(r);case n.ImageKind.RGB_24BPP:return e(r)}return null}function N({src:r,srcPos:z=0,dest:j,width:M,height:I,nonBlackColor:d=4294967295,inverseDecode:u=!1}){const i=n.FeatureTest.isLittleEndian?4278190080:255,[F,C]=u?[d,i]:[i,d],T=M>>3,b=M&7,L=r.length;j=new Uint32Array(j.buffer);let B=0;for(let V=0;V<I;V++){for(const _=z+T;z<_;z++){const l=z<L?r[z]:255;j[B++]=l&128?C:F,j[B++]=l&64?C:F,j[B++]=l&32?C:F,j[B++]=l&16?C:F,j[B++]=l&8?C:F,j[B++]=l&4?C:F,j[B++]=l&2?C:F,j[B++]=l&1?C:F}if(b===0)continue;const k=z<L?r[z++]:255;for(let _=0;_<b;_++)j[B++]=k&1<<7-_?C:F}return{srcPos:z,destPos:B}}function e({src:r,srcPos:z=0,dest:j,destPos:M=0,width:I,height:d}){let u=0;const i=r.length>>2,F=new Uint32Array(r.buffer,z,i);if(n.FeatureTest.isLittleEndian){for(;u<i-2;u+=3,M+=4){const C=F[u],T=F[u+1],b=F[u+2];j[M]=C|4278190080,j[M+1]=C>>>24|T<<8|4278190080,j[M+2]=T>>>16|b<<16|4278190080,j[M+3]=b>>>8|4278190080}for(let C=u*4,T=r.length;C<T;C+=3)j[M++]=r[C]|r[C+1]<<8|r[C+2]<<16|4278190080}else{for(;u<i-2;u+=3,M+=4){const C=F[u],T=F[u+1],b=F[u+2];j[M]=C|255,j[M+1]=C<<24|T>>>8|255,j[M+2]=T<<16|b>>>16|255,j[M+3]=b<<8|255}for(let C=u*4,T=r.length;C<T;C+=3)j[M++]=r[C]<<24|r[C+1]<<16|r[C+2]<<8|255}return{srcPos:z,destPos:M}}function t(r,z){if(n.FeatureTest.isLittleEndian)for(let j=0,M=r.length;j<M;j++)z[j]=r[j]*65793|4278190080;else for(let j=0,M=r.length;j<M;j++)z[j]=r[j]*16843008|255}},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.JpxStream=void 0;var n=Q(18),S=Q(30),N=Q(2);class e extends n.DecodeStream{constructor(r,z,j){super(z),this.stream=r,this.dict=r.dict,this.maybeLength=z,this.params=j}get bytes(){return(0,N.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(r){}readBlock(){if(this.eof)return;const r=new S.JpxImage;r.parse(this.bytes);const z=r.width,j=r.height,M=r.componentsCount,I=r.tiles.length;if(I===1)this.buffer=r.tiles[0].items;else{const d=new Uint8ClampedArray(z*j*M);for(let u=0;u<I;u++){const i=r.tiles[u],F=i.width,C=i.height,T=i.left,b=i.top,L=i.items;let B=0,V=(z*b+T)*M;const k=z*M,_=F*M;for(let l=0;l<C;l++){const x=L.subarray(B,B+_);d.set(x,V),B+=_,V+=k}}this.buffer=d}this.bufferLength=this.buffer.length,this.eof=!0}}m.JpxStream=e},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.JpxImage=void 0;var n=Q(2),S=Q(3),N=Q(25);class e extends n.BaseException{constructor(o){super(`JPX error: ${o}`,"JpxError")}}const t={LL:0,LH:1,HL:1,HH:2};class r{constructor(){this.failOnCorruptedImage=!1}parse(o){if((0,S.readUint16)(o,0)===65359){this.parseCodestream(o,0,o.length);return}const c=o.length;let h=0;for(;h<c;){let O=8,W=(0,S.readUint32)(o,h);const R=(0,S.readUint32)(o,h+4);if(h+=O,W===1&&(W=(0,S.readUint32)(o,h)*4294967296+(0,S.readUint32)(o,h+4),h+=8,O+=8),W===0&&(W=c-h+O),W<O)throw new e("Invalid box field size");const H=W-O;let ae=!0;switch(R){case 1785737832:ae=!1;break;case 1668246642:const q=o[h];if(q===1){const ee=(0,S.readUint32)(o,h+3);switch(ee){case 16:case 17:case 18:break;default:(0,n.warn)("Unknown colorspace "+ee);break}}else q===2&&(0,n.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(o,h,h+H);break;case 1783636e3:(0,S.readUint32)(o,h)!==218793738&&(0,n.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const ce=String.fromCharCode(R>>24&255,R>>16&255,R>>8&255,R&255);(0,n.warn)(`Unsupported header type ${R} (${ce}).`);break}ae&&(h+=H)}}parseImageProperties(o){let y=o.getByte();for(;y>=0;){const c=y;if(y=o.getByte(),(c<<8|y)===65361){o.skip(4);const O=o.getInt32()>>>0,W=o.getInt32()>>>0,R=o.getInt32()>>>0,H=o.getInt32()>>>0;o.skip(16);const ae=o.getUint16();this.width=O-R,this.height=W-H,this.componentsCount=ae,this.bitsPerComponent=8;return}}throw new e("No size marker found in JPX stream")}parseCodestream(o,y,c){const h={};let O=!1;try{let W=y;for(;W+1<c;){const R=(0,S.readUint16)(o,W);W+=2;let H=0,ae,q,ce,ee,se,$;switch(R){case 65359:h.mainHeader=!0;break;case 65497:break;case 65361:H=(0,S.readUint16)(o,W);const U={};U.Xsiz=(0,S.readUint32)(o,W+4),U.Ysiz=(0,S.readUint32)(o,W+8),U.XOsiz=(0,S.readUint32)(o,W+12),U.YOsiz=(0,S.readUint32)(o,W+16),U.XTsiz=(0,S.readUint32)(o,W+20),U.YTsiz=(0,S.readUint32)(o,W+24),U.XTOsiz=(0,S.readUint32)(o,W+28),U.YTOsiz=(0,S.readUint32)(o,W+32);const K=(0,S.readUint16)(o,W+36);U.Csiz=K;const J=[];ae=W+38;for(let ue=0;ue<K;ue++){const ge={precision:(o[ae]&127)+1,isSigned:!!(o[ae]&128),XRsiz:o[ae+1],YRsiz:o[ae+2]};ae+=3,z(ge,U),J.push(ge)}h.SIZ=U,h.components=J,j(h,J),h.QCC=[],h.COC=[];break;case 65372:H=(0,S.readUint16)(o,W);const Y={};switch(ae=W+2,q=o[ae++],q&31){case 0:ee=8,se=!0;break;case 1:ee=16,se=!1;break;case 2:ee=16,se=!0;break;default:throw new Error("Invalid SQcd value "+q)}for(Y.noQuantization=ee===8,Y.scalarExpounded=se,Y.guardBits=q>>5,ce=[];ae<H+W;){const ue={};ee===8?(ue.epsilon=o[ae++]>>3,ue.mu=0):(ue.epsilon=o[ae]>>3,ue.mu=(o[ae]&7)<<8|o[ae+1],ae+=2),ce.push(ue)}Y.SPqcds=ce,h.mainHeader?h.QCD=Y:(h.currentTile.QCD=Y,h.currentTile.QCC=[]);break;case 65373:H=(0,S.readUint16)(o,W);const ie={};ae=W+2;let re;switch(h.SIZ.Csiz<257?re=o[ae++]:(re=(0,S.readUint16)(o,ae),ae+=2),q=o[ae++],q&31){case 0:ee=8,se=!0;break;case 1:ee=16,se=!1;break;case 2:ee=16,se=!0;break;default:throw new Error("Invalid SQcd value "+q)}for(ie.noQuantization=ee===8,ie.scalarExpounded=se,ie.guardBits=q>>5,ce=[];ae<H+W;){const ue={};ee===8?(ue.epsilon=o[ae++]>>3,ue.mu=0):(ue.epsilon=o[ae]>>3,ue.mu=(o[ae]&7)<<8|o[ae+1],ae+=2),ce.push(ue)}ie.SPqcds=ce,h.mainHeader?h.QCC[re]=ie:h.currentTile.QCC[re]=ie;break;case 65362:H=(0,S.readUint16)(o,W);const Z={};ae=W+2;const he=o[ae++];Z.entropyCoderWithCustomPrecincts=!!(he&1),Z.sopMarkerUsed=!!(he&2),Z.ephMarkerUsed=!!(he&4),Z.progressionOrder=o[ae++],Z.layersCount=(0,S.readUint16)(o,ae),ae+=2,Z.multipleComponentTransform=o[ae++],Z.decompositionLevelsCount=o[ae++],Z.xcb=(o[ae++]&15)+2,Z.ycb=(o[ae++]&15)+2;const le=o[ae++];if(Z.selectiveArithmeticCodingBypass=!!(le&1),Z.resetContextProbabilities=!!(le&2),Z.terminationOnEachCodingPass=!!(le&4),Z.verticallyStripe=!!(le&8),Z.predictableTermination=!!(le&16),Z.segmentationSymbolUsed=!!(le&32),Z.reversibleTransformation=o[ae++],Z.entropyCoderWithCustomPrecincts){const ue=[];for(;ae<H+W;){const ge=o[ae++];ue.push({PPx:ge&15,PPy:ge>>4})}Z.precinctsSizes=ue}const te=[];Z.selectiveArithmeticCodingBypass&&te.push("selectiveArithmeticCodingBypass"),Z.terminationOnEachCodingPass&&te.push("terminationOnEachCodingPass"),Z.verticallyStripe&&te.push("verticallyStripe"),Z.predictableTermination&&te.push("predictableTermination"),te.length>0&&(O=!0,(0,n.warn)(`JPX: Unsupported COD options (${te.join(", ")}).`)),h.mainHeader?h.COD=Z:(h.currentTile.COD=Z,h.currentTile.COC=[]);break;case 65424:H=(0,S.readUint16)(o,W),$={},$.index=(0,S.readUint16)(o,W+2),$.length=(0,S.readUint32)(o,W+4),$.dataEnd=$.length+W-2,$.partIndex=o[W+8],$.partsCount=o[W+9],h.mainHeader=!1,$.partIndex===0&&($.COD=h.COD,$.COC=h.COC.slice(0),$.QCD=h.QCD,$.QCC=h.QCC.slice(0)),h.currentTile=$;break;case 65427:$=h.currentTile,$.partIndex===0&&(X(h,$.index),V(h)),H=$.dataEnd-W,k(h,o,W,H);break;case 65363:(0,n.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:H=(0,S.readUint16)(o,W);break;default:throw new Error("Unknown codestream code: "+R.toString(16))}W+=H}}catch(W){if(O||this.failOnCorruptedImage)throw new e(W.message);(0,n.warn)(`JPX: Trying to recover from: "${W.message}".`)}this.tiles=x(h),this.width=h.SIZ.Xsiz-h.SIZ.XOsiz,this.height=h.SIZ.Ysiz-h.SIZ.YOsiz,this.componentsCount=h.SIZ.Csiz}}m.JpxImage=r;function z(v,o){v.x0=Math.ceil(o.XOsiz/v.XRsiz),v.x1=Math.ceil(o.Xsiz/v.XRsiz),v.y0=Math.ceil(o.YOsiz/v.YRsiz),v.y1=Math.ceil(o.Ysiz/v.YRsiz),v.width=v.x1-v.x0,v.height=v.y1-v.y0}function j(v,o){const y=v.SIZ,c=[];let h;const O=Math.ceil((y.Xsiz-y.XTOsiz)/y.XTsiz),W=Math.ceil((y.Ysiz-y.YTOsiz)/y.YTsiz);for(let H=0;H<W;H++)for(let ae=0;ae<O;ae++)h={},h.tx0=Math.max(y.XTOsiz+ae*y.XTsiz,y.XOsiz),h.ty0=Math.max(y.YTOsiz+H*y.YTsiz,y.YOsiz),h.tx1=Math.min(y.XTOsiz+(ae+1)*y.XTsiz,y.Xsiz),h.ty1=Math.min(y.YTOsiz+(H+1)*y.YTsiz,y.Ysiz),h.width=h.tx1-h.tx0,h.height=h.ty1-h.ty0,h.components=[],c.push(h);v.tiles=c;const R=y.Csiz;for(let H=0,ae=R;H<ae;H++){const q=o[H];for(let ce=0,ee=c.length;ce<ee;ce++){const se={};h=c[ce],se.tcx0=Math.ceil(h.tx0/q.XRsiz),se.tcy0=Math.ceil(h.ty0/q.YRsiz),se.tcx1=Math.ceil(h.tx1/q.XRsiz),se.tcy1=Math.ceil(h.ty1/q.YRsiz),se.width=se.tcx1-se.tcx0,se.height=se.tcy1-se.tcy0,h.components[H]=se}}}function M(v,o,y){const c=o.codingStyleParameters,h={};return c.entropyCoderWithCustomPrecincts?(h.PPx=c.precinctsSizes[y].PPx,h.PPy=c.precinctsSizes[y].PPy):(h.PPx=15,h.PPy=15),h.xcb_=y>0?Math.min(c.xcb,h.PPx-1):Math.min(c.xcb,h.PPx),h.ycb_=y>0?Math.min(c.ycb,h.PPy-1):Math.min(c.ycb,h.PPy),h}function I(v,o,y){const c=1<<y.PPx,h=1<<y.PPy,O=o.resLevel===0,W=1<<y.PPx+(O?0:-1),R=1<<y.PPy+(O?0:-1),H=o.trx1>o.trx0?Math.ceil(o.trx1/c)-Math.floor(o.trx0/c):0,ae=o.try1>o.try0?Math.ceil(o.try1/h)-Math.floor(o.try0/h):0,q=H*ae;o.precinctParameters={precinctWidth:c,precinctHeight:h,numprecinctswide:H,numprecinctshigh:ae,numprecincts:q,precinctWidthInSubband:W,precinctHeightInSubband:R}}function d(v,o,y){const c=y.xcb_,h=y.ycb_,O=1<<c,W=1<<h,R=o.tbx0>>c,H=o.tby0>>h,ae=o.tbx1+O-1>>c,q=o.tby1+W-1>>h,ce=o.resolution.precinctParameters,ee=[],se=[];let $,U,K,J;for(U=H;U<q;U++)for($=R;$<ae;$++){K={cbx:$,cby:U,tbx0:O*$,tby0:W*U,tbx1:O*($+1),tby1:W*(U+1)},K.tbx0_=Math.max(o.tbx0,K.tbx0),K.tby0_=Math.max(o.tby0,K.tby0),K.tbx1_=Math.min(o.tbx1,K.tbx1),K.tby1_=Math.min(o.tby1,K.tby1);const Y=Math.floor((K.tbx0_-o.tbx0)/ce.precinctWidthInSubband),ie=Math.floor((K.tby0_-o.tby0)/ce.precinctHeightInSubband);if(J=Y+ie*ce.numprecinctswide,K.precinctNumber=J,K.subbandType=o.type,K.Lblock=3,K.tbx1_<=K.tbx0_||K.tby1_<=K.tby0_)continue;ee.push(K);let re=se[J];re!==void 0?($<re.cbxMin?re.cbxMin=$:$>re.cbxMax&&(re.cbxMax=$),U<re.cbyMin?re.cbxMin=U:U>re.cbyMax&&(re.cbyMax=U)):se[J]=re={cbxMin:$,cbyMin:U,cbxMax:$,cbyMax:U},K.precinct=re}o.codeblockParameters={codeblockWidth:c,codeblockHeight:h,numcodeblockwide:ae-R+1,numcodeblockhigh:q-H+1},o.codeblocks=ee,o.precincts=se}function u(v,o,y){const c=[],h=v.subbands;for(let O=0,W=h.length;O<W;O++){const H=h[O].codeblocks;for(let ae=0,q=H.length;ae<q;ae++){const ce=H[ae];ce.precinctNumber===o&&c.push(ce)}}return{layerNumber:y,codeblocks:c}}function i(v){const o=v.SIZ,y=v.currentTile.index,c=v.tiles[y],h=c.codingStyleDefaultParameters.layersCount,O=o.Csiz;let W=0;for(let ce=0;ce<O;ce++)W=Math.max(W,c.components[ce].codingStyleParameters.decompositionLevelsCount);let R=0,H=0,ae=0,q=0;this.nextPacket=function(){for(;R<h;R++){for(;H<=W;H++){for(;ae<O;ae++){const ee=c.components[ae];if(H>ee.codingStyleParameters.decompositionLevelsCount)continue;const se=ee.resolutions[H],$=se.precinctParameters.numprecincts;for(;q<$;){const U=u(se,q,R);return q++,U}q=0}ae=0}H=0}throw new e("Out of packets")}}function F(v){const o=v.SIZ,y=v.currentTile.index,c=v.tiles[y],h=c.codingStyleDefaultParameters.layersCount,O=o.Csiz;let W=0;for(let ce=0;ce<O;ce++)W=Math.max(W,c.components[ce].codingStyleParameters.decompositionLevelsCount);let R=0,H=0,ae=0,q=0;this.nextPacket=function(){for(;R<=W;R++){for(;H<h;H++){for(;ae<O;ae++){const ee=c.components[ae];if(R>ee.codingStyleParameters.decompositionLevelsCount)continue;const se=ee.resolutions[R],$=se.precinctParameters.numprecincts;for(;q<$;){const U=u(se,q,H);return q++,U}q=0}ae=0}H=0}throw new e("Out of packets")}}function C(v){const o=v.SIZ,y=v.currentTile.index,c=v.tiles[y],h=c.codingStyleDefaultParameters.layersCount,O=o.Csiz;let W,R,H,ae,q=0;for(H=0;H<O;H++){const ee=c.components[H];q=Math.max(q,ee.codingStyleParameters.decompositionLevelsCount)}const ce=new Int32Array(q+1);for(R=0;R<=q;++R){let ee=0;for(H=0;H<O;++H){const se=c.components[H].resolutions;R<se.length&&(ee=Math.max(ee,se[R].precinctParameters.numprecincts))}ce[R]=ee}W=0,R=0,H=0,ae=0,this.nextPacket=function(){for(;R<=q;R++){for(;ae<ce[R];ae++){for(;H<O;H++){const se=c.components[H];if(R>se.codingStyleParameters.decompositionLevelsCount)continue;const $=se.resolutions[R],U=$.precinctParameters.numprecincts;if(!(ae>=U)){for(;W<h;){const K=u($,ae,W);return W++,K}W=0}}H=0}ae=0}throw new e("Out of packets")}}function T(v){const o=v.SIZ,y=v.currentTile.index,c=v.tiles[y],h=c.codingStyleDefaultParameters.layersCount,O=o.Csiz,W=B(c),R=W;let H=0,ae=0,q=0,ce=0,ee=0;this.nextPacket=function(){for(;ee<R.maxNumHigh;ee++){for(;ce<R.maxNumWide;ce++){for(;q<O;q++){const $=c.components[q],U=$.codingStyleParameters.decompositionLevelsCount;for(;ae<=U;ae++){const K=$.resolutions[ae],J=W.components[q].resolutions[ae],Y=L(ce,ee,J,R,K);if(Y!==null){for(;H<h;){const ie=u(K,Y,H);return H++,ie}H=0}}ae=0}q=0}ce=0}throw new e("Out of packets")}}function b(v){const o=v.SIZ,y=v.currentTile.index,c=v.tiles[y],h=c.codingStyleDefaultParameters.layersCount,O=o.Csiz,W=B(c);let R=0,H=0,ae=0,q=0,ce=0;this.nextPacket=function(){for(;ae<O;++ae){const se=c.components[ae],$=W.components[ae],U=se.codingStyleParameters.decompositionLevelsCount;for(;ce<$.maxNumHigh;ce++){for(;q<$.maxNumWide;q++){for(;H<=U;H++){const K=se.resolutions[H],J=$.resolutions[H],Y=L(q,ce,J,$,K);if(Y!==null){for(;R<h;){const ie=u(K,Y,R);return R++,ie}R=0}}H=0}q=0}ce=0}throw new e("Out of packets")}}function L(v,o,y,c,h){const O=v*c.minWidth,W=o*c.minHeight;if(O%y.width!==0||W%y.height!==0)return null;const R=W/y.width*h.precinctParameters.numprecinctswide;return O/y.height+R}function B(v){const o=v.components.length;let y=Number.MAX_VALUE,c=Number.MAX_VALUE,h=0,O=0;const W=new Array(o);for(let R=0;R<o;R++){const H=v.components[R],ae=H.codingStyleParameters.decompositionLevelsCount,q=new Array(ae+1);let ce=Number.MAX_VALUE,ee=Number.MAX_VALUE,se=0,$=0,U=1;for(let K=ae;K>=0;--K){const J=H.resolutions[K],Y=U*J.precinctParameters.precinctWidth,ie=U*J.precinctParameters.precinctHeight;ce=Math.min(ce,Y),ee=Math.min(ee,ie),se=Math.max(se,J.precinctParameters.numprecinctswide),$=Math.max($,J.precinctParameters.numprecinctshigh),q[K]={width:Y,height:ie},U<<=1}y=Math.min(y,ce),c=Math.min(c,ee),h=Math.max(h,se),O=Math.max(O,$),W[R]={resolutions:q,minWidth:ce,minHeight:ee,maxNumWide:se,maxNumHigh:$}}return{components:W,minWidth:y,minHeight:c,maxNumWide:h,maxNumHigh:O}}function V(v){const o=v.SIZ,y=v.currentTile.index,c=v.tiles[y],h=o.Csiz;for(let W=0;W<h;W++){const R=c.components[W],H=R.codingStyleParameters.decompositionLevelsCount,ae=[],q=[];for(let ce=0;ce<=H;ce++){const ee=M(v,R,ce),se={},$=1<<H-ce;se.trx0=Math.ceil(R.tcx0/$),se.try0=Math.ceil(R.tcy0/$),se.trx1=Math.ceil(R.tcx1/$),se.try1=Math.ceil(R.tcy1/$),se.resLevel=ce,I(v,se,ee),ae.push(se);let U;if(ce===0)U={},U.type="LL",U.tbx0=Math.ceil(R.tcx0/$),U.tby0=Math.ceil(R.tcy0/$),U.tbx1=Math.ceil(R.tcx1/$),U.tby1=Math.ceil(R.tcy1/$),U.resolution=se,d(v,U,ee),q.push(U),se.subbands=[U];else{const K=1<<H-ce+1,J=[];U={},U.type="HL",U.tbx0=Math.ceil(R.tcx0/K-.5),U.tby0=Math.ceil(R.tcy0/K),U.tbx1=Math.ceil(R.tcx1/K-.5),U.tby1=Math.ceil(R.tcy1/K),U.resolution=se,d(v,U,ee),q.push(U),J.push(U),U={},U.type="LH",U.tbx0=Math.ceil(R.tcx0/K),U.tby0=Math.ceil(R.tcy0/K-.5),U.tbx1=Math.ceil(R.tcx1/K),U.tby1=Math.ceil(R.tcy1/K-.5),U.resolution=se,d(v,U,ee),q.push(U),J.push(U),U={},U.type="HH",U.tbx0=Math.ceil(R.tcx0/K-.5),U.tby0=Math.ceil(R.tcy0/K-.5),U.tbx1=Math.ceil(R.tcx1/K-.5),U.tby1=Math.ceil(R.tcy1/K-.5),U.resolution=se,d(v,U,ee),q.push(U),J.push(U),se.subbands=J}}R.resolutions=ae,R.subbands=q}const O=c.codingStyleDefaultParameters.progressionOrder;switch(O){case 0:c.packetsIterator=new i(v);break;case 1:c.packetsIterator=new F(v);break;case 2:c.packetsIterator=new C(v);break;case 3:c.packetsIterator=new T(v);break;case 4:c.packetsIterator=new b(v);break;default:throw new e(`Unsupported progression order ${O}`)}}function k(v,o,y,c){let h=0,O,W=0,R=!1;function H(Y){for(;W<Y;){const ie=o[y+h];h++,R?(O=O<<7|ie,W+=7,R=!1):(O=O<<8|ie,W+=8),ie===255&&(R=!0)}return W-=Y,O>>>W&(1<<Y)-1}function ae(Y){return o[y+h-1]===255&&o[y+h]===Y?(q(1),!0):o[y+h]===255&&o[y+h+1]===Y?(q(2),!0):!1}function q(Y){h+=Y}function ce(){W=0,R&&(h++,R=!1)}function ee(){if(H(1)===0)return 1;if(H(1)===0)return 2;let Y=H(2);return Y<3?Y+3:(Y=H(5),Y<31?Y+6:(Y=H(7),Y+37))}const se=v.currentTile.index,$=v.tiles[se],U=v.COD.sopMarkerUsed,K=v.COD.ephMarkerUsed,J=$.packetsIterator;for(;h<c;){ce(),U&&ae(145)&&q(4);const Y=J.nextPacket();if(!H(1))continue;const ie=Y.layerNumber,re=[];let Z;for(let he=0,le=Y.codeblocks.length;he<le;he++){Z=Y.codeblocks[he];let te=Z.precinct;const ue=Z.cbx-te.cbxMin,ge=Z.cby-te.cbyMin;let ye=!1,Ee=!1,Oe,ve;if(Z.included!==void 0)ye=!!H(1);else{te=Z.precinct;let je;if(te.inclusionTree!==void 0)je=te.inclusionTree;else{const Re=te.cbxMax-te.cbxMin+1,be=te.cbyMax-te.cbyMin+1;je=new g(Re,be,ie),ve=new a(Re,be),te.inclusionTree=je,te.zeroBitPlanesTree=ve;for(let Ce=0;Ce<ie;Ce++)if(H(1)!==0)throw new e("Invalid tag tree")}if(je.reset(ue,ge,ie))for(;;)if(H(1)){if(Oe=!je.nextLevel(),Oe){Z.included=!0,ye=Ee=!0;break}}else{je.incrementValue(ie);break}}if(!ye)continue;if(Ee){for(ve=te.zeroBitPlanesTree,ve.reset(ue,ge);;)if(H(1)){if(Oe=!ve.nextLevel(),Oe)break}else ve.incrementValue();Z.zeroBitPlanes=ve.value}const Se=ee();for(;H(1);)Z.Lblock++;const Ae=(0,S.log2)(Se),ke=(Se<1<<Ae?Ae-1:Ae)+Z.Lblock,_e=H(ke);re.push({codeblock:Z,codingpasses:Se,dataLength:_e})}for(ce(),K&&ae(146);re.length>0;){const he=re.shift();Z=he.codeblock,Z.data===void 0&&(Z.data=[]),Z.data.push({data:o,start:y+h,end:y+h+he.dataLength,codingpasses:he.codingpasses}),h+=he.dataLength}}return h}function _(v,o,y,c,h,O,W,R,H){const ae=c.tbx0,q=c.tby0,ce=c.tbx1-c.tbx0,ee=c.codeblocks,se=c.type.charAt(0)==="H"?1:0,$=c.type.charAt(1)==="H"?o:0;for(let U=0,K=ee.length;U<K;++U){const J=ee[U],Y=J.tbx1_-J.tbx0_,ie=J.tby1_-J.tby0_;if(Y===0||ie===0||J.data===void 0)continue;const re=new P(Y,ie,J.subbandType,J.zeroBitPlanes,O);let Z=2;const he=J.data;let le=0,te=0,ue,ge,ye;for(ue=0,ge=he.length;ue<ge;ue++)ye=he[ue],le+=ye.end-ye.start,te+=ye.codingpasses;const Ee=new Uint8Array(le);let Oe=0;for(ue=0,ge=he.length;ue<ge;ue++){ye=he[ue];const Pe=ye.data.subarray(ye.start,ye.end);Ee.set(Pe,Oe),Oe+=Pe.length}const ve=new N.ArithmeticDecoder(Ee,0,le);for(re.setDecoder(ve),ue=0;ue<te;ue++){switch(Z){case 0:re.runSignificancePropagationPass();break;case 1:re.runMagnitudeRefinementPass();break;case 2:re.runCleanupPass(),R&&re.checkSegmentationSymbol();break}H&&re.reset(),Z=(Z+1)%3}let Se=J.tbx0_-ae+(J.tby0_-q)*ce;const Ae=re.coefficentsSign,ke=re.coefficentsMagnitude,_e=re.bitsDecoded,je=W?0:.5;let Re,be,Ce;Oe=0;const $e=c.type!=="LL";for(ue=0;ue<ie;ue++){const ze=2*(Se/ce|0)*(o-ce)+se+$;for(Re=0;Re<Y;Re++){if(be=ke[Oe],be!==0){be=(be+je)*h,Ae[Oe]!==0&&(be=-be),Ce=_e[Oe];const We=$e?ze+(Se<<1):Se;v[We]=W&&Ce>=O?be:be*(1<<O-Ce)}Se++,Oe++}Se+=ce-Y}}}function l(v,o,y){const c=o.components[y],h=c.codingStyleParameters,O=c.quantizationParameters,W=h.decompositionLevelsCount,R=O.SPqcds,H=O.scalarExpounded,ae=O.guardBits,q=h.segmentationSymbolUsed,ce=h.resetContextProbabilities,ee=v.components[y].precision,se=h.reversibleTransformation,$=se?new w:new D,U=[];let K=0;for(let Y=0;Y<=W;Y++){const ie=c.resolutions[Y],re=ie.trx1-ie.trx0,Z=ie.try1-ie.try0,he=new Float32Array(re*Z);for(let le=0,te=ie.subbands.length;le<te;le++){let ue,ge;H?(ue=R[K].mu,ge=R[K].epsilon,K++):(ue=R[0].mu,ge=R[0].epsilon+(Y>0?1-Y:0));const ye=ie.subbands[le],Ee=t[ye.type],Oe=se?1:2**(ee+Ee-ge)*(1+ue/2048),ve=ae+ge-1;_(he,re,Z,ye,Oe,ve,se,q,ce)}U.push({width:re,height:Z,items:he})}const J=$.calculate(U,c.tcx0,c.tcy0);return{left:c.tcx0,top:c.tcy0,width:J.width,height:J.height,items:J.items}}function x(v){const o=v.SIZ,y=v.components,c=o.Csiz,h=[];for(let O=0,W=v.tiles.length;O<W;O++){const R=v.tiles[O],H=[];for(let re=0;re<c;re++)H[re]=l(v,R,re);const ae=H[0],q=new Uint8ClampedArray(ae.items.length*c),ce={left:ae.left,top:ae.top,width:ae.width,height:ae.height,items:q};let ee,se,$=0,U,K,J,Y,ie;if(R.codingStyleDefaultParameters.multipleComponentTransform){const re=c===4,Z=H[0].items,he=H[1].items,le=H[2].items,te=re?H[3].items:null;ee=y[0].precision-8,se=(128<<ee)+.5;const ue=R.components[0],ge=c-3;if(K=Z.length,ue.codingStyleParameters.reversibleTransformation)for(U=0;U<K;U++,$+=ge){J=Z[U]+se,Y=he[U],ie=le[U];const ye=J-(ie+Y>>2);q[$++]=ye+ie>>ee,q[$++]=ye>>ee,q[$++]=ye+Y>>ee}else for(U=0;U<K;U++,$+=ge)J=Z[U]+se,Y=he[U],ie=le[U],q[$++]=J+1.402*ie>>ee,q[$++]=J-.34413*Y-.71414*ie>>ee,q[$++]=J+1.772*Y>>ee;if(re)for(U=0,$=3;U<K;U++,$+=4)q[$]=te[U]+se>>ee}else for(let re=0;re<c;re++){const Z=H[re].items;for(ee=y[re].precision-8,se=(128<<ee)+.5,$=re,U=0,K=Z.length;U<K;U++)q[$]=Z[U]+se>>ee,$+=c}h.push(ce)}return h}function X(v,o){const c=v.SIZ.Csiz,h=v.tiles[o];for(let O=0;O<c;O++){const W=h.components[O],R=v.currentTile.QCC[O]!==void 0?v.currentTile.QCC[O]:v.currentTile.QCD;W.quantizationParameters=R;const H=v.currentTile.COC[O]!==void 0?v.currentTile.COC[O]:v.currentTile.COD;W.codingStyleParameters=H}h.codingStyleDefaultParameters=v.currentTile.COD}class a{constructor(o,y){const c=(0,S.log2)(Math.max(o,y))+1;this.levels=[];for(let h=0;h<c;h++){const O={width:o,height:y,items:[]};this.levels.push(O),o=Math.ceil(o/2),y=Math.ceil(y/2)}}reset(o,y){let c=0,h=0,O;for(;c<this.levels.length;){O=this.levels[c];const W=o+y*O.width;if(O.items[W]!==void 0){h=O.items[W];break}O.index=W,o>>=1,y>>=1,c++}c--,O=this.levels[c],O.items[O.index]=h,this.currentLevel=c,delete this.value}incrementValue(){const o=this.levels[this.currentLevel];o.items[o.index]++}nextLevel(){let o=this.currentLevel,y=this.levels[o];const c=y.items[y.index];return o--,o<0?(this.value=c,!1):(this.currentLevel=o,y=this.levels[o],y.items[y.index]=c,!0)}}class g{constructor(o,y,c){const h=(0,S.log2)(Math.max(o,y))+1;this.levels=[];for(let O=0;O<h;O++){const W=new Uint8Array(o*y);for(let H=0,ae=W.length;H<ae;H++)W[H]=c;const R={width:o,height:y,items:W};this.levels.push(R),o=Math.ceil(o/2),y=Math.ceil(y/2)}}reset(o,y,c){let h=0;for(;h<this.levels.length;){const O=this.levels[h],W=o+y*O.width;O.index=W;const R=O.items[W];if(R===255)break;if(R>c)return this.currentLevel=h,this.propagateValues(),!1;o>>=1,y>>=1,h++}return this.currentLevel=h-1,!0}incrementValue(o){const y=this.levels[this.currentLevel];y.items[y.index]=o+1,this.propagateValues()}propagateValues(){let o=this.currentLevel,y=this.levels[o];const c=y.items[y.index];for(;--o>=0;)y=this.levels[o],y.items[y.index]=c}nextLevel(){let o=this.currentLevel,y=this.levels[o];const c=y.items[y.index];return y.items[y.index]=255,o--,o<0?!1:(this.currentLevel=o,y=this.levels[o],y.items[y.index]=c,!0)}}const A=class A{constructor(o,y,c,h,O){this.width=o,this.height=y;let W;c==="HH"?W=A.HHContextLabel:c==="HL"?W=A.HLContextLabel:W=A.LLAndLHContextsLabel,this.contextLabelTable=W;const R=o*y;this.neighborsSignificance=new Uint8Array(R),this.coefficentsSign=new Uint8Array(R);let H;O>14?H=new Uint32Array(R):O>6?H=new Uint16Array(R):H=new Uint8Array(R),this.coefficentsMagnitude=H,this.processingFlags=new Uint8Array(R);const ae=new Uint8Array(R);if(h!==0)for(let q=0;q<R;q++)ae[q]=h;this.bitsDecoded=ae,this.reset()}setDecoder(o){this.decoder=o}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[A.UNIFORM_CONTEXT]=92,this.contexts[A.RUNLENGTH_CONTEXT]=6}setNeighborsSignificance(o,y,c){const h=this.neighborsSignificance,O=this.width,W=this.height,R=y>0,H=y+1<O;let ae;o>0&&(ae=c-O,R&&(h[ae-1]+=16),H&&(h[ae+1]+=16),h[ae]+=4),o+1<W&&(ae=c+O,R&&(h[ae-1]+=16),H&&(h[ae+1]+=16),h[ae]+=4),R&&(h[c-1]+=1),H&&(h[c+1]+=1),h[c]|=128}runSignificancePropagationPass(){const o=this.decoder,y=this.width,c=this.height,h=this.coefficentsMagnitude,O=this.coefficentsSign,W=this.neighborsSignificance,R=this.processingFlags,H=this.contexts,ae=this.contextLabelTable,q=this.bitsDecoded,ce=-2,ee=1,se=2;for(let $=0;$<c;$+=4)for(let U=0;U<y;U++){let K=$*y+U;for(let J=0;J<4;J++,K+=y){const Y=$+J;if(Y>=c)break;if(R[K]&=ce,h[K]||!W[K])continue;const ie=ae[W[K]];if(o.readBit(H,ie)){const Z=this.decodeSignBit(Y,U,K);O[K]=Z,h[K]=1,this.setNeighborsSignificance(Y,U,K),R[K]|=se}q[K]++,R[K]|=ee}}}decodeSignBit(o,y,c){const h=this.width,O=this.height,W=this.coefficentsMagnitude,R=this.coefficentsSign;let H,ae,q,ce,ee,se;ce=y>0&&W[c-1]!==0,y+1<h&&W[c+1]!==0?(q=R[c+1],ce?(ae=R[c-1],H=1-q-ae):H=1-q-q):ce?(ae=R[c-1],H=1-ae-ae):H=0;const $=3*H;return ce=o>0&&W[c-h]!==0,o+1<O&&W[c+h]!==0?(q=R[c+h],ce?(ae=R[c-h],H=1-q-ae+$):H=1-q-q+$):ce?(ae=R[c-h],H=1-ae-ae+$):H=$,H>=0?(ee=9+H,se=this.decoder.readBit(this.contexts,ee)):(ee=9-H,se=this.decoder.readBit(this.contexts,ee)^1),se}runMagnitudeRefinementPass(){const o=this.decoder,y=this.width,c=this.height,h=this.coefficentsMagnitude,O=this.neighborsSignificance,W=this.contexts,R=this.bitsDecoded,H=this.processingFlags,ae=1,q=2,ce=y*c,ee=y*4;for(let se=0,$;se<ce;se=$){$=Math.min(ce,se+ee);for(let U=0;U<y;U++)for(let K=se+U;K<$;K+=y){if(!h[K]||H[K]&ae)continue;let J=16;H[K]&q&&(H[K]^=q,J=(O[K]&127)===0?15:14);const Y=o.readBit(W,J);h[K]=h[K]<<1|Y,R[K]++,H[K]|=ae}}}runCleanupPass(){const o=this.decoder,y=this.width,c=this.height,h=this.neighborsSignificance,O=this.coefficentsMagnitude,W=this.coefficentsSign,R=this.contexts,H=this.contextLabelTable,ae=this.bitsDecoded,q=this.processingFlags,ce=1,ee=2,se=y,$=y*2,U=y*3;let K;for(let J=0;J<c;J=K){K=Math.min(J+4,c);const Y=J*y,ie=J+3<c;for(let re=0;re<y;re++){const Z=Y+re,he=ie&&q[Z]===0&&q[Z+se]===0&&q[Z+$]===0&&q[Z+U]===0&&h[Z]===0&&h[Z+se]===0&&h[Z+$]===0&&h[Z+U]===0;let le=0,te=Z,ue=J,ge;if(he){if(!o.readBit(R,A.RUNLENGTH_CONTEXT)){ae[Z]++,ae[Z+se]++,ae[Z+$]++,ae[Z+U]++;continue}le=o.readBit(R,A.UNIFORM_CONTEXT)<<1|o.readBit(R,A.UNIFORM_CONTEXT),le!==0&&(ue=J+le,te+=le*y),ge=this.decodeSignBit(ue,re,te),W[te]=ge,O[te]=1,this.setNeighborsSignificance(ue,re,te),q[te]|=ee,te=Z;for(let Ee=J;Ee<=ue;Ee++,te+=y)ae[te]++;le++}for(ue=J+le;ue<K;ue++,te+=y){if(O[te]||q[te]&ce)continue;const ye=H[h[te]];o.readBit(R,ye)===1&&(ge=this.decodeSignBit(ue,re,te),W[te]=ge,O[te]=1,this.setNeighborsSignificance(ue,re,te),q[te]|=ee),ae[te]++}}}}checkSegmentationSymbol(){const o=this.decoder,y=this.contexts;if((o.readBit(y,A.UNIFORM_CONTEXT)<<3|o.readBit(y,A.UNIFORM_CONTEXT)<<2|o.readBit(y,A.UNIFORM_CONTEXT)<<1|o.readBit(y,A.UNIFORM_CONTEXT))!==10)throw new e("Invalid segmentation symbol")}};Dt(A,"UNIFORM_CONTEXT",17),Dt(A,"RUNLENGTH_CONTEXT",18),Dt(A,"LLAndLHContextsLabel",new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8])),Dt(A,"HLContextLabel",new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8])),Dt(A,"HHContextLabel",new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]));let P=A;class G{constructor(){this.constructor===G&&(0,n.unreachable)("Cannot initialize Transform.")}calculate(o,y,c){let h=o[0];for(let O=1,W=o.length;O<W;O++)h=this.iterate(h,o[O],y,c);return h}extend(o,y,c){let h=y-1,O=y+1,W=y+c-2,R=y+c;o[h--]=o[O++],o[R++]=o[W--],o[h--]=o[O++],o[R++]=o[W--],o[h--]=o[O++],o[R++]=o[W--],o[h]=o[O],o[R]=o[W]}filter(o,y,c){(0,n.unreachable)("Abstract method `filter` called")}iterate(o,y,c,h){const O=o.width,W=o.height;let R=o.items;const H=y.width,ae=y.height,q=y.items;let ce,ee,se,$,U,K;for(se=0,ce=0;ce<W;ce++)for($=ce*2*H,ee=0;ee<O;ee++,se++,$+=2)q[$]=R[se];R=o.items=null;const J=4,Y=new Float32Array(H+2*J);if(H===1){if(c&1)for(K=0,se=0;K<ae;K++,se+=H)q[se]*=.5}else for(K=0,se=0;K<ae;K++,se+=H)Y.set(q.subarray(se,se+H),J),this.extend(Y,J,H),this.filter(Y,J,H),q.set(Y.subarray(J,J+H),se);let ie=16;const re=[];for(ce=0;ce<ie;ce++)re.push(new Float32Array(ae+2*J));let Z,he=0;if(o=J+ae,ae===1){if(h&1)for(U=0;U<H;U++)q[U]*=.5}else for(U=0;U<H;U++){if(he===0){for(ie=Math.min(H-U,ie),se=U,$=J;$<o;se+=H,$++)for(Z=0;Z<ie;Z++)re[Z][$]=q[se+Z];he=ie}he--;const le=re[he];if(this.extend(le,J,ae),this.filter(le,J,ae),he===0)for(se=U-ie+1,$=J;$<o;se+=H,$++)for(Z=0;Z<ie;Z++)q[se+Z]=re[Z][$]}return{width:H,height:ae,items:q}}}class D extends G{filter(o,y,c){const h=c>>1;y|=0;let O,W,R,H;const ae=-1.586134342059924,q=-.052980118572961,ce=.882911075530934,ee=.443506852043971,se=1.230174104914001,$=1/se;for(O=y-3,W=h+4;W--;O+=2)o[O]*=$;for(O=y-2,R=ee*o[O-1],W=h+3;W--&&(H=ee*o[O+1],o[O]=se*o[O]-R-H,W--);O+=2)O+=2,R=ee*o[O+1],o[O]=se*o[O]-R-H;for(O=y-1,R=ce*o[O-1],W=h+2;W--&&(H=ce*o[O+1],o[O]-=R+H,W--);O+=2)O+=2,R=ce*o[O+1],o[O]-=R+H;for(O=y,R=q*o[O-1],W=h+1;W--&&(H=q*o[O+1],o[O]-=R+H,W--);O+=2)O+=2,R=q*o[O+1],o[O]-=R+H;if(h!==0)for(O=y+1,R=ae*o[O-1],W=h;W--&&(H=ae*o[O+1],o[O]-=R+H,W--);O+=2)O+=2,R=ae*o[O+1],o[O]-=R+H}}class w extends G{filter(o,y,c){const h=c>>1;y|=0;let O,W;for(O=y,W=h+1;W--;O+=2)o[O]-=o[O-1]+o[O+1]+2>>2;for(O=y+1,W=h;W--;O+=2)o[O]+=o[O-1]+o[O+1]>>1}}},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.LZWStream=void 0;var n=Q(18);class S extends n.DecodeStream{constructor(e,t,r){super(t),this.str=e,this.dict=e.dict,this.cachedData=0,this.bitsCached=0;const z=4096,j={earlyChange:r,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(z),dictionaryLengths:new Uint16Array(z),dictionaryPrevCodes:new Uint16Array(z),currentSequence:new Uint8Array(z),currentSequenceLength:0};for(let M=0;M<256;++M)j.dictionaryValues[M]=M,j.dictionaryLengths[M]=1;this.lzwState=j}readBits(e){let t=this.bitsCached,r=this.cachedData;for(;t<e;){const z=this.str.getByte();if(z===-1)return this.eof=!0,null;r=r<<8|z,t+=8}return this.bitsCached=t-=e,this.cachedData=r,this.lastCode=null,r>>>t&(1<<e)-1}readBlock(){let r=1024,z,j,M;const I=this.lzwState;if(!I)return;const d=I.earlyChange;let u=I.nextCode;const i=I.dictionaryValues,F=I.dictionaryLengths,C=I.dictionaryPrevCodes;let T=I.codeLength,b=I.prevCode;const L=I.currentSequence;let B=I.currentSequenceLength,V=0,k=this.bufferLength,_=this.ensureBuffer(this.bufferLength+r);for(z=0;z<512;z++){const l=this.readBits(T),x=B>0;if(l<256)L[0]=l,B=1;else if(l>=258)if(l<u)for(B=F[l],j=B-1,M=l;j>=0;j--)L[j]=i[M],M=C[M];else L[B++]=L[0];else if(l===256){T=9,u=258,B=0;continue}else{this.eof=!0,delete this.lzwState;break}if(x&&(C[u]=b,F[u]=F[b]+1,i[u]=L[0],u++,T=u+d&u+d-1?T:Math.min(Math.log(u+d)/.6931471805599453+1,12)|0),b=l,V+=B,r<V){do r+=512;while(r<V);_=this.ensureBuffer(this.bufferLength+r)}for(j=0;j<B;j++)_[k++]=L[j]}I.nextCode=u,I.codeLength=T,I.prevCode=b,I.currentSequenceLength=B,this.bufferLength=k}}m.LZWStream=S},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PredictorStream=void 0;var n=Q(18),S=Q(4),N=Q(2);class e extends n.DecodeStream{constructor(r,z,j){if(super(z),!(j instanceof S.Dict))return r;const M=this.predictor=j.get("Predictor")||1;if(M<=1)return r;if(M!==2&&(M<10||M>15))throw new N.FormatError(`Unsupported predictor: ${M}`);this.readBlock=M===2?this.readBlockTiff:this.readBlockPng,this.str=r,this.dict=r.dict;const I=this.colors=j.get("Colors")||1,d=this.bits=j.get("BPC","BitsPerComponent")||8,u=this.columns=j.get("Columns")||1;return this.pixBytes=I*d+7>>3,this.rowBytes=u*I*d+7>>3,this}readBlockTiff(){const r=this.rowBytes,z=this.bufferLength,j=this.ensureBuffer(z+r),M=this.bits,I=this.colors,d=this.str.getBytes(r);if(this.eof=!d.length,this.eof)return;let u=0,i=0,F=0,C=0,T=z,b;if(M===1&&I===1)for(b=0;b<r;++b){let L=d[b]^u;L^=L>>1,L^=L>>2,L^=L>>4,u=(L&1)<<7,j[T++]=L}else if(M===8){for(b=0;b<I;++b)j[T++]=d[b];for(;b<r;++b)j[T]=j[T-I]+d[b],T++}else if(M===16){const L=I*2;for(b=0;b<L;++b)j[T++]=d[b];for(;b<r;b+=2){const B=((d[b]&255)<<8)+(d[b+1]&255)+((j[T-L]&255)<<8)+(j[T-L+1]&255);j[T++]=B>>8&255,j[T++]=B&255}}else{const L=new Uint8Array(I+1),B=(1<<M)-1;let V=0,k=z;const _=this.columns;for(b=0;b<_;++b)for(let l=0;l<I;++l)F<M&&(u=u<<8|d[V++]&255,F+=8),L[l]=L[l]+(u>>F-M)&B,F-=M,i=i<<M|L[l],C+=M,C>=8&&(j[k++]=i>>C-8&255,C-=8);C>0&&(j[k++]=(i<<8-C)+(u&(1<<8-C)-1))}this.bufferLength+=r}readBlockPng(){const r=this.rowBytes,z=this.pixBytes,j=this.str.getByte(),M=this.str.getBytes(r);if(this.eof=!M.length,this.eof)return;const I=this.bufferLength,d=this.ensureBuffer(I+r);let u=d.subarray(I-r,I);u.length===0&&(u=new Uint8Array(r));let i,F=I,C,T;switch(j){case 0:for(i=0;i<r;++i)d[F++]=M[i];break;case 1:for(i=0;i<z;++i)d[F++]=M[i];for(;i<r;++i)d[F]=d[F-z]+M[i]&255,F++;break;case 2:for(i=0;i<r;++i)d[F++]=u[i]+M[i]&255;break;case 3:for(i=0;i<z;++i)d[F++]=(u[i]>>1)+M[i];for(;i<r;++i)d[F]=(u[i]+d[F-z]>>1)+M[i]&255,F++;break;case 4:for(i=0;i<z;++i)C=u[i],T=M[i],d[F++]=C+T;for(;i<r;++i){C=u[i];const b=u[i-z],L=d[F-z],B=L+C-b;let V=B-L;V<0&&(V=-V);let k=B-C;k<0&&(k=-k);let _=B-b;_<0&&(_=-_),T=M[i],V<=k&&V<=_?d[F++]=L+T:k<=_?d[F++]=C+T:d[F++]=b+T}break;default:throw new N.FormatError(`Unsupported predictor: ${j}`)}this.bufferLength+=r}}m.PredictorStream=e},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.RunLengthStream=void 0;var n=Q(18);class S extends n.DecodeStream{constructor(e,t){super(t),this.str=e,this.dict=e.dict}readBlock(){const e=this.str.getBytes(2);if(!e||e.length<2||e[0]===128){this.eof=!0;return}let t,r=this.bufferLength,z=e[0];if(z<128){if(t=this.ensureBuffer(r+z+1),t[r++]=e[1],z>0){const j=this.str.getBytes(z);t.set(j,r),r+=z}}else{z=257-z;const j=e[1];t=this.ensureBuffer(r+z+1);for(let M=0;M<z;M++)t[r++]=j}this.bufferLength=r}}m.RunLengthStream=S},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.Font=m.ErrorFont=void 0;var n=Q(2),S=Q(35),N=Q(38),e=Q(40),t=Q(39),r=Q(37),z=Q(41),j=Q(42),M=Q(43),I=Q(44),d=Q(45),u=Q(46),i=Q(14),F=Q(47),C=Q(3),T=Q(8),b=Q(48);const L=[[57344,63743],[1048576,1114109]],B=1e3,V=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","isInvalidPDFjsFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","systemFontInfo","type","vertical"],k=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function _(Z){if(!Z.fontMatrix||Z.fontMatrix[0]===n.FONT_IDENTITY_MATRIX[0])return;const he=.001/Z.fontMatrix[0],le=Z.widths;for(const te in le)le[te]*=he;Z.defaultWidth*=he}function l(Z,he,le){if(Z.isInternalFont||Z.hasIncludedToUnicodeMap||Z.hasEncoding||Z.toUnicode instanceof j.IdentityToUnicodeMap||!he||le.length===0||Z.defaultEncoding===r.WinAnsiEncoding)return;for(const ye of le)if(!ae(ye))return;const te=r.WinAnsiEncoding,ue=[],ge=(0,t.getGlyphsUnicode)();for(const ye in te){const Ee=te[ye];if(Ee==="")continue;const Oe=ge[Ee];Oe!==void 0&&(ue[ye]=String.fromCharCode(Oe))}ue.length>0&&Z.toUnicode.amend(ue)}function x(Z,he){if(Z.isInternalFont||Z.hasIncludedToUnicodeMap||he===Z.defaultEncoding||Z.toUnicode instanceof j.IdentityToUnicodeMap)return;const le=[],te=(0,t.getGlyphsUnicode)();for(const ue in he){if(Z.hasEncoding&&(Z.baseEncodingName||Z.differences[ue]!==void 0))continue;const ge=he[ue],ye=(0,e.getUnicodeForGlyph)(ge,te);ye!==-1&&(le[ue]=String.fromCharCode(ye))}le.length>0&&Z.toUnicode.amend(le)}function X(Z){if(!Z.fallbackToUnicode||Z.toUnicode instanceof j.IdentityToUnicodeMap)return;const he=[];for(const le in Z.fallbackToUnicode)Z.toUnicode.has(le)||(he[le]=Z.fallbackToUnicode[le]);he.length>0&&Z.toUnicode.amend(he)}class a{constructor(he,le,te,ue,ge,ye,Ee,Oe,ve){this.originalCharCode=he,this.fontChar=le,this.unicode=te,this.accent=ue,this.width=ge,this.vmetric=ye,this.operatorListId=Ee,this.isSpace=Oe,this.isInFont=ve}get category(){return(0,n.shadow)(this,"category",(0,e.getCharUnicodeCategory)(this.unicode),!0)}}function g(Z,he){return(Z<<8)+he}function P(Z,he,le){Z[he+1]=le,Z[he]=le>>>8}function G(Z,he){const le=(Z<<8)+he;return le&32768?le-65536:le}function D(Z,he,le,te){return(Z<<24)+(he<<16)+(le<<8)+te}function w(Z){return String.fromCharCode(Z>>8&255,Z&255)}function A(Z){return Z>32767?Z=32767:Z<-32768&&(Z=-32768),String.fromCharCode(Z>>8&255,Z&255)}function v(Z){const he=Z.peekBytes(4);return(0,C.readUint32)(he,0)===65536||(0,n.bytesToString)(he)==="true"}function o(Z){const he=Z.peekBytes(4);return(0,n.bytesToString)(he)==="ttcf"}function y(Z){const he=Z.peekBytes(4);return(0,n.bytesToString)(he)==="OTTO"}function c(Z){const he=Z.peekBytes(2);return he[0]===37&&he[1]===33||he[0]===128&&he[1]===1}function h(Z){const he=Z.peekBytes(4);return he[0]>=1&&he[3]>=1&&he[3]<=4}function O(Z,{type:he,subtype:le,composite:te}){let ue,ge;return v(Z)||o(Z)?ue=te?"CIDFontType2":"TrueType":y(Z)?ue=te?"CIDFontType2":"OpenType":c(Z)?te?ue="CIDFontType0":ue=he==="MMType1"?"MMType1":"Type1":h(Z)?te?(ue="CIDFontType0",ge="CIDFontType0C"):(ue=he==="MMType1"?"MMType1":"Type1",ge="Type1C"):((0,n.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),ue=he,ge=le),[ue,ge]}function W(Z,he){for(const le in he)Z[+le]=he[le]}function R(Z,he,le){const te=[];let ue;for(let ge=0,ye=Z.length;ge<ye;ge++)ue=(0,e.getUnicodeForGlyph)(Z[ge],he),ue!==-1&&(te[ge]=ue);for(const ge in le)ue=(0,e.getUnicodeForGlyph)(le[ge],he),ue!==-1&&(te[+ge]=ue);return te}function H(Z){return Z.platform===1&&Z.encoding===0&&Z.language===0}function ae(Z){return Z.platform===3&&Z.encoding===1&&Z.language===1033}function q(Z,he,le=!1){switch(he.length){case 1:return he.charCodeAt(0);case 2:return he.charCodeAt(0)<<8|he.charCodeAt(1)}const te=`Unsupported CID string (charCode ${Z}): "${he}".`;if(le)throw new n.FormatError(te);return(0,n.warn)(te),he}function ce(Z,he,le,te){const ue=Object.create(null),ge=new Map,ye=[],Ee=new Set;let Oe=0,Se=L[Oe][0],Ae=L[Oe][1];const ke=_e=>L[0][0]<=_e&&_e<=L[0][1]||L[1][0]<=_e&&_e<=L[1][1];for(let _e in Z){_e|=0;let je=Z[_e];if(!he(je))continue;if(Se>Ae){if(Oe++,Oe>=L.length){(0,n.warn)("Ran out of space in font private use area.");break}Se=L[Oe][0],Ae=L[Oe][1]}const Re=Se++;je===0&&(je=le);let be=te.get(_e);typeof be=="string"&&(be=be.codePointAt(0)),be&&!ke(be)&&!Ee.has(je)&&(ge.set(be,je),Ee.add(je)),ue[Re]=je,ye[_e]=Re}return{toFontChar:ye,charCodeToGlyphId:ue,toUnicodeExtraMap:ge,nextAvailableFontCharCode:Se}}function ee(Z,he,le){const te=[];for(const ye in Z)Z[ye]>=le||te.push({fontCharCode:ye|0,glyphId:Z[ye]});if(he)for(const[ye,Ee]of he)Ee>=le||te.push({fontCharCode:ye,glyphId:Ee});te.length===0&&te.push({fontCharCode:0,glyphId:0}),te.sort(function(Ee,Oe){return Ee.fontCharCode-Oe.fontCharCode});const ue=[],ge=te.length;for(let ye=0;ye<ge;){const Ee=te[ye].fontCharCode,Oe=[te[ye].glyphId];++ye;let ve=Ee;for(;ye<ge&&ve+1===te[ye].fontCharCode&&(Oe.push(te[ye].glyphId),++ve,++ye,ve!==65535););ue.push([Ee,ve,Oe])}return ue}function se(Z,he,le){const te=ee(Z,he,le),ue=te.at(-1)[1]>65535?2:1;let ge="\0\0"+w(ue)+"\0\0"+(0,n.string32)(4+ue*8),ye,Ee,Oe,ve;for(ye=te.length-1;ye>=0&&!(te[ye][0]<=65535);--ye);const Se=ye+1;te[ye][0]<65535&&te[ye][1]===65535&&(te[ye][1]=65534);const Ae=te[ye][1]<65535?1:0,ke=Se+Ae,_e=F.OpenTypeFileBuilder.getSearchParams(ke,2);let je="",Re="",be="",Ce="",$e="",Pe=0,ze,We,ut,Le;for(ye=0,Ee=Se;ye<Ee;ye++){ze=te[ye],We=ze[0],ut=ze[1],je+=w(We),Re+=w(ut),Le=ze[2];let me=!0;for(Oe=1,ve=Le.length;Oe<ve;++Oe)if(Le[Oe]!==Le[Oe-1]+1){me=!1;break}if(me){const Te=Le[0];be+=w(Te-We&65535),Ce+=w(0)}else{const Te=(ke-ye)*2+Pe*2;for(Pe+=ut-We+1,be+=w(0),Ce+=w(Te),Oe=0,ve=Le.length;Oe<ve;++Oe)$e+=w(Le[Oe])}}Ae>0&&(Re+="ÿÿ",je+="ÿÿ",be+="\0",Ce+="\0\0");const rt="\0\0"+w(2*ke)+w(_e.range)+w(_e.entry)+w(_e.rangeShift)+Re+"\0\0"+je+be+Ce+$e;let Qe="",Fe="";if(ue>1){for(ge+=`\0\0
`+(0,n.string32)(4+ue*8+4+rt.length),Qe="",ye=0,Ee=te.length;ye<Ee;ye++){ze=te[ye],We=ze[0],Le=ze[2];let me=Le[0];for(Oe=1,ve=Le.length;Oe<ve;++Oe)Le[Oe]!==Le[Oe-1]+1&&(ut=ze[0]+Oe-1,Qe+=(0,n.string32)(We)+(0,n.string32)(ut)+(0,n.string32)(me),We=ut+1,me=Le[Oe]);Qe+=(0,n.string32)(We)+(0,n.string32)(ze[1])+(0,n.string32)(me)}Fe="\0\f\0\0"+(0,n.string32)(Qe.length+16)+"\0\0\0\0"+(0,n.string32)(Qe.length/12)}return ge+"\0"+w(rt.length+4)+rt+Fe+Qe}function $(Z,he){he.pos=(he.start||0)+Z.offset;const le=he.getUint16();he.skip(60);const te=he.getUint16();if(le<4&&te&768)return!1;const ue=he.getUint16(),ge=he.getUint16();return ue>ge||(he.skip(6),he.getUint16()===0)?!1:(Z.data[8]=Z.data[9]=0,!0)}function U(Z,he,le){le||(le={unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0});let te=0,ue=0,ge=0,ye=0,Ee=null,Oe=0,ve=-1;if(he){for(let Ce in he)if(Ce|=0,(Ee>Ce||!Ee)&&(Ee=Ce),Oe<Ce&&(Oe=Ce),ve=(0,e.getUnicodeRangeFor)(Ce,ve),ve<32)te|=1<<ve;else if(ve<64)ue|=1<<ve-32;else if(ve<96)ge|=1<<ve-64;else if(ve<123)ye|=1<<ve-96;else throw new n.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");Oe>65535&&(Oe=65535)}else Ee=0,Oe=255;const Se=Z.bbox||[0,0,0,0],Ae=le.unitsPerEm||1/(Z.fontMatrix||n.FONT_IDENTITY_MATRIX)[0],ke=Z.ascentScaled?1:Ae/B,_e=le.ascent||Math.round(ke*(Z.ascent||Se[3]));let je=le.descent||Math.round(ke*(Z.descent||Se[1]));je>0&&Z.descent>0&&Se[1]<0&&(je=-je);const Re=le.yMax||_e,be=-le.yMin||-je;return"\0$ô\0\0\0»\0\0\0»\0\0ß\x001\0\0\0\0"+String.fromCharCode(Z.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,n.string32)(te)+(0,n.string32)(ue)+(0,n.string32)(ge)+(0,n.string32)(ye)+"*21*"+w(Z.italicAngle?1:0)+w(Ee||Z.firstChar)+w(Oe||Z.lastChar)+w(_e)+w(je)+"\0d"+w(Re)+w(be)+"\0\0\0\0\0\0\0\0"+w(Z.xHeight)+w(Z.capHeight)+w(0)+w(Ee||Z.firstChar)+"\0"}function K(Z){const he=Math.floor(Z.italicAngle*65536);return"\0\0\0"+(0,n.string32)(he)+"\0\0\0\0"+(0,n.string32)(Z.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function J(Z){return Z.replaceAll(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function Y(Z,he){he||(he=[[],[]]);const le=[he[0][0]||"Original licence",he[0][1]||Z,he[0][2]||"Unknown",he[0][3]||"uniqueID",he[0][4]||Z,he[0][5]||"Version 0.11",he[0][6]||J(Z),he[0][7]||"Unknown",he[0][8]||"Unknown",he[0][9]||"Unknown"],te=[];let ue,ge,ye,Ee,Oe;for(ue=0,ge=le.length;ue<ge;ue++){Oe=he[1][ue]||le[ue];const be=[];for(ye=0,Ee=Oe.length;ye<Ee;ye++)be.push(w(Oe.charCodeAt(ye)));te.push(be.join(""))}const ve=[le,te],Se=["\0","\0"],Ae=["\0\0","\0"],ke=["\0\0","	"],_e=le.length*Se.length;let je="\0\0"+w(_e)+w(_e*12+6),Re=0;for(ue=0,ge=Se.length;ue<ge;ue++){const be=ve[ue];for(ye=0,Ee=be.length;ye<Ee;ye++){Oe=be[ye];const Ce=Se[ue]+Ae[ue]+ke[ue]+w(ye)+w(Oe.length)+w(Re);je+=Ce,Re+=Oe.length}}return je+=le.join("")+te.join(""),je}class ie{constructor(he,le,te){var ve;this.name=he,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=te.loadedName,this.isType3Font=te.isType3Font,this.missingFile=!1,this.cssFontInfo=te.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let ue=!!(te.flags&N.FontFlags.Serif);if(!ue&&!te.isSimulatedFlags){const Se=he.replaceAll(/[,_]/g,"-").split("-")[0],Ae=(0,z.getSerifFonts)();for(const ke of Se.split("+"))if(Ae[ke]){ue=!0;break}}this.isSerifFont=ue,this.isSymbolicFont=!!(te.flags&N.FontFlags.Symbolic),this.isMonospace=!!(te.flags&N.FontFlags.FixedPitch);let{type:ge,subtype:ye}=te;this.type=ge,this.subtype=ye,this.systemFontInfo=te.systemFontInfo;const Ee=he.match(/^InvalidPDFjsFont_(.*)_\d+$/);if(this.isInvalidPDFjsFont=!!Ee,this.isInvalidPDFjsFont?this.fallbackName=Ee[1]:this.isMonospace?this.fallbackName="monospace":this.isSerifFont?this.fallbackName="serif":this.fallbackName="sans-serif",(ve=this.systemFontInfo)!=null&&ve.guessFallback&&(this.systemFontInfo.guessFallback=!1,this.systemFontInfo.css+=`,${this.fallbackName}`),this.differences=te.differences,this.widths=te.widths,this.defaultWidth=te.defaultWidth,this.composite=te.composite,this.cMap=te.cMap,this.capHeight=te.capHeight/B,this.ascent=te.ascent/B,this.descent=te.descent/B,this.lineHeight=this.ascent-this.descent,this.fontMatrix=te.fontMatrix,this.bbox=te.bbox,this.defaultEncoding=te.defaultEncoding,this.toUnicode=te.toUnicode,this.toFontChar=[],te.type==="Type3"){for(let Se=0;Se<256;Se++)this.toFontChar[Se]=this.differences[Se]||te.defaultEncoding[Se];return}if(this.cidEncoding=te.cidEncoding||"",this.vertical=!!te.vertical,this.vertical&&(this.vmetrics=te.vmetrics,this.defaultVMetrics=te.defaultVMetrics),!le||le.isEmpty){le&&(0,n.warn)('Font file is empty in "'+he+'" ('+this.loadedName+")"),this.fallbackToSystemFont(te);return}[ge,ye]=O(le,te),(ge!==this.type||ye!==this.subtype)&&(0,n.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${ge}/${ye}.`);let Oe;try{switch(ge){case"MMType1":(0,n.info)("MMType1 font ("+he+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const Se=ye==="Type1C"||ye==="CIDFontType0C"?new M.CFFFont(le,te):new b.Type1Font(he,le,te);_(te),Oe=this.convert(he,Se,te);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",Oe=this.checkAndRepair(he,le,te),this.isOpenType&&(_(te),ge="OpenType");break;default:throw new n.FormatError(`Font ${ge} is not supported`)}}catch(Se){(0,n.warn)(Se),this.fallbackToSystemFont(te);return}X(te),this.data=Oe,this.type=ge,this.subtype=ye,this.fontMatrix=te.fontMatrix,this.widths=te.widths,this.defaultWidth=te.defaultWidth,this.toUnicode=te.toUnicode,this.seacMap=te.seacMap}get renderer(){const he=I.FontRendererFactory.create(this,N.SEAC_ANALYSIS_ENABLED);return(0,n.shadow)(this,"renderer",he)}exportData(he=!1){const le=he?[...V,...k]:V,te=Object.create(null);let ue,ge;for(ue of le)ge=this[ue],ge!==void 0&&(te[ue]=ge);return te}fallbackToSystemFont(he){this.missingFile=!0;const{name:le,type:te}=this;let ue=(0,N.normalizeFontName)(le);const ge=(0,z.getStdFontMap)(),ye=(0,z.getNonStdFontMap)(),Ee=!!ge[ue],Oe=!!(ye[ue]&&ge[ye[ue]]);ue=ge[ue]||ye[ue]||ue;const Se=(0,d.getFontBasicMetrics)()[ue];Se&&(isNaN(this.ascent)&&(this.ascent=Se.ascent/B),isNaN(this.descent)&&(this.descent=Se.descent/B),isNaN(this.capHeight)&&(this.capHeight=Se.capHeight/B)),this.bold=/bold/gi.test(ue),this.italic=/oblique|italic/gi.test(ue),this.black=/Black/g.test(le);const Ae=/Narrow/g.test(le);if(this.remeasure=(!Ee||Ae)&&Object.keys(this.widths).length>0,(Ee||Oe)&&te==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const ke=he.cidToGidMap,_e=[];if(W(_e,(0,z.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(le)?W(_e,(0,z.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(le)&&W(_e,(0,z.getSupplementalGlyphMapForCalibri)()),ke){for(const je in _e){const Re=_e[je];ke[Re]!==void 0&&(_e[+je]=ke[Re])}ke.length!==this.toUnicode.length&&he.hasIncludedToUnicodeMap&&this.toUnicode instanceof j.IdentityToUnicodeMap&&this.toUnicode.forEach(function(je,Re){const be=_e[je];ke[be]===void 0&&(_e[+je]=Re)})}this.toUnicode instanceof j.IdentityToUnicodeMap||this.toUnicode.forEach(function(je,Re){_e[+je]=Re}),this.toFontChar=_e,this.toUnicode=new j.ToUnicodeMap(_e)}else if(/Symbol/i.test(ue))this.toFontChar=R(r.SymbolSetEncoding,(0,t.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(ue))this.toFontChar=R(r.ZapfDingbatsEncoding,(0,t.getDingbatsGlyphsUnicode)(),this.differences);else if(Ee){const ke=R(this.defaultEncoding,(0,t.getGlyphsUnicode)(),this.differences);te==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof j.IdentityToUnicodeMap)&&this.toUnicode.forEach(function(_e,je){ke[+_e]=je}),this.toFontChar=ke}else{const ke=(0,t.getGlyphsUnicode)(),_e=[];this.toUnicode.forEach((je,Re)=>{if(!this.composite){const be=this.differences[je]||this.defaultEncoding[je],Ce=(0,e.getUnicodeForGlyph)(be,ke);Ce!==-1&&(Re=Ce)}_e[+je]=Re}),this.composite&&this.toUnicode instanceof j.IdentityToUnicodeMap&&/Tahoma|Verdana/i.test(le)&&W(_e,(0,z.getGlyphMapForStandardFonts)()),this.toFontChar=_e}X(he),this.loadedName=ue.split("-")[0]}checkAndRepair(he,le,te){var ct,wt,It;const ue=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function ge(Ye,Ve){const et=Object.create(null);et["OS/2"]=null,et.cmap=null,et.head=null,et.hhea=null,et.hmtx=null,et.maxp=null,et.name=null,et.post=null;for(let at=0;at<Ve;at++){const lt=ye(Ye);ue.includes(lt.tag)&&lt.length!==0&&(et[lt.tag]=lt)}return et}function ye(Ye){const Ve=Ye.getString(4),et=Ye.getInt32()>>>0,at=Ye.getInt32()>>>0,lt=Ye.getInt32()>>>0,bt=Ye.pos;Ye.pos=Ye.start||0,Ye.skip(at);const ht=Ye.getBytes(lt);return Ye.pos=bt,Ve==="head"&&(ht[8]=ht[9]=ht[10]=ht[11]=0,ht[17]|=32),{tag:Ve,checksum:et,length:lt,offset:at,data:ht}}function Ee(Ye){return{version:Ye.getString(4),numTables:Ye.getUint16(),searchRange:Ye.getUint16(),entrySelector:Ye.getUint16(),rangeShift:Ye.getUint16()}}function Oe(Ye){const Ve=Ye.getString(4);(0,n.assert)(Ve==="ttcf","Must be a TrueType Collection font.");const et=Ye.getUint16(),at=Ye.getUint16(),lt=Ye.getInt32()>>>0,bt=[];for(let st=0;st<lt;st++)bt.push(Ye.getInt32()>>>0);const ht={ttcTag:Ve,majorVersion:et,minorVersion:at,numFonts:lt,offsetTable:bt};switch(et){case 1:return ht;case 2:return ht.dsigTag=Ye.getInt32()>>>0,ht.dsigLength=Ye.getInt32()>>>0,ht.dsigOffset=Ye.getInt32()>>>0,ht}throw new n.FormatError(`Invalid TrueType Collection majorVersion: ${et}.`)}function ve(Ye,Ve){var ht;const{numFonts:et,offsetTable:at}=Oe(Ye),lt=Ve.split("+");let bt;for(let st=0;st<et;st++){Ye.pos=(Ye.start||0)+at[st];const pt=Ee(Ye),Ct=ge(Ye,pt.numTables);if(!Ct.name)throw new n.FormatError('TrueType Collection font must contain a "name" table.');const[Mt]=be(Ct.name);for(let St=0,vt=Mt.length;St<vt;St++)for(let Ot=0,mt=Mt[St].length;Ot<mt;Ot++){const kt=(ht=Mt[St][Ot])==null?void 0:ht.replaceAll(/\s/g,"");if(kt){if(kt===Ve)return{header:pt,tables:Ct};if(!(lt.length<2))for(const gt of lt)kt===gt&&(bt={name:gt,header:pt,tables:Ct})}}}if(bt)return(0,n.warn)(`TrueType Collection does not contain "${Ve}" font, falling back to "${bt.name}" font instead.`),{header:bt.header,tables:bt.tables};throw new n.FormatError(`TrueType Collection does not contain "${Ve}" font.`)}function Se(Ye,Ve,et,at){if(!Ye)return(0,n.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let lt,bt=(Ve.start||0)+Ye.offset;Ve.pos=bt,Ve.skip(2);const ht=Ve.getUint16();let st,pt=!1;for(let mt=0;mt<ht;mt++){const kt=Ve.getUint16(),gt=Ve.getUint16(),Et=Ve.getInt32()>>>0;let Rt=!1;if(!((st==null?void 0:st.platformId)===kt&&(st==null?void 0:st.encodingId)===gt)){if(kt===0&&(gt===0||gt===1||gt===3))Rt=!0;else if(kt===1&&gt===0)Rt=!0;else if(kt===3&&gt===1&&(at||!st))Rt=!0,et||(pt=!0);else if(et&&kt===3&&gt===0){Rt=!0;let Wt=!0;if(mt<ht-1){const Ft=Ve.peekBytes(2);g(Ft[0],Ft[1])<kt&&(Wt=!1)}Wt&&(pt=!0)}if(Rt&&(st={platformId:kt,encodingId:gt,offset:Et}),pt)break}}if(st&&(Ve.pos=bt+st.offset),!st||Ve.peekByte()===-1)return(0,n.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const Ct=Ve.getUint16();let Mt=!1;const St=[];let vt,Ot;if(Ct===0){for(Ve.skip(4),vt=0;vt<256;vt++){const mt=Ve.getByte();mt&&St.push({charCode:vt,glyphId:mt})}Mt=!0}else if(Ct===2){Ve.skip(4);const mt=[];let kt=0;for(let Et=0;Et<256;Et++){const Rt=Ve.getUint16()>>3;mt.push(Rt),kt=Math.max(Rt,kt)}const gt=[];for(let Et=0;Et<=kt;Et++)gt.push({firstCode:Ve.getUint16(),entryCount:Ve.getUint16(),idDelta:G(Ve.getByte(),Ve.getByte()),idRangePos:Ve.pos+Ve.getUint16()});for(let Et=0;Et<256;Et++)if(mt[Et]===0)Ve.pos=gt[0].idRangePos+2*Et,Ot=Ve.getUint16(),St.push({charCode:Et,glyphId:Ot});else{const Rt=gt[mt[Et]];for(vt=0;vt<Rt.entryCount;vt++){const Wt=(Et<<8)+vt+Rt.firstCode;Ve.pos=Rt.idRangePos+2*vt,Ot=Ve.getUint16(),Ot!==0&&(Ot=(Ot+Rt.idDelta)%65536),St.push({charCode:Wt,glyphId:Ot})}}}else if(Ct===4){Ve.skip(4);const mt=Ve.getUint16()>>1;Ve.skip(6);const kt=[];let gt;for(gt=0;gt<mt;gt++)kt.push({end:Ve.getUint16()});for(Ve.skip(2),gt=0;gt<mt;gt++)kt[gt].start=Ve.getUint16();for(gt=0;gt<mt;gt++)kt[gt].delta=Ve.getUint16();let Et=0,Rt;for(gt=0;gt<mt;gt++){lt=kt[gt];const Ft=Ve.getUint16();if(!Ft){lt.offsetIndex=-1;continue}Rt=(Ft>>1)-(mt-gt),lt.offsetIndex=Rt,Et=Math.max(Et,Rt+lt.end-lt.start+1)}const Wt=[];for(vt=0;vt<Et;vt++)Wt.push(Ve.getUint16());for(gt=0;gt<mt;gt++){lt=kt[gt],bt=lt.start;const Ft=lt.end,Tt=lt.delta;for(Rt=lt.offsetIndex,vt=bt;vt<=Ft;vt++)vt!==65535&&(Ot=Rt<0?vt:Wt[Rt+vt-bt],Ot=Ot+Tt&65535,St.push({charCode:vt,glyphId:Ot}))}}else if(Ct===6){Ve.skip(4);const mt=Ve.getUint16(),kt=Ve.getUint16();for(vt=0;vt<kt;vt++){Ot=Ve.getUint16();const gt=mt+vt;St.push({charCode:gt,glyphId:Ot})}}else if(Ct===12){Ve.skip(10);const mt=Ve.getInt32()>>>0;for(vt=0;vt<mt;vt++){const kt=Ve.getInt32()>>>0,gt=Ve.getInt32()>>>0;let Et=Ve.getInt32()>>>0;for(let Rt=kt;Rt<=gt;Rt++)St.push({charCode:Rt,glyphId:Et++})}}else return(0,n.warn)("cmap table has unsupported format: "+Ct),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};St.sort(function(mt,kt){return mt.charCode-kt.charCode});for(let mt=1;mt<St.length;mt++)St[mt-1].charCode===St[mt].charCode&&(St.splice(mt,1),mt--);return{platformId:st.platformId,encodingId:st.encodingId,mappings:St,hasShortCmap:Mt}}function Ae(Ye,Ve,et,at,lt,bt){if(!Ve){et&&(et.data=null);return}Ye.pos=(Ye.start||0)+Ve.offset,Ye.pos+=4,Ye.pos+=2,Ye.pos+=2,Ye.pos+=2,Ye.pos+=2,Ye.pos+=2,Ye.pos+=2,Ye.pos+=2,Ye.pos+=2,Ye.pos+=2;const ht=Ye.getUint16();Ye.pos+=8,Ye.pos+=2;let st=Ye.getUint16();ht!==0&&(g(at.data[44],at.data[45])&2||(Ve.data[22]=0,Ve.data[23]=0)),st>lt&&((0,n.info)(`The numOfMetrics (${st}) should not be greater than the numGlyphs (${lt}).`),st=lt,Ve.data[34]=(st&65280)>>8,Ve.data[35]=st&255);const Ct=lt-st-(et.length-st*4>>1);if(Ct>0){const Mt=new Uint8Array(et.length+Ct*2);Mt.set(et.data),bt&&(Mt[et.length]=et.data[2],Mt[et.length+1]=et.data[3]),et.data=Mt}}function ke(Ye,Ve,et,at,lt,bt){const ht={length:0,sizeOfInstructions:0};if(Ve<0||Ve>=Ye.length||et>Ye.length||et-Ve<=12)return ht;const st=Ye.subarray(Ve,et),pt=G(st[2],st[3]),Ct=G(st[4],st[5]),Mt=G(st[6],st[7]),St=G(st[8],st[9]);pt>Mt&&(P(st,2,Mt),P(st,6,pt)),Ct>St&&(P(st,4,St),P(st,8,Ct));const vt=G(st[0],st[1]);if(vt<0)return vt<-1||(at.set(st,lt),ht.length=st.length),ht;let Ot,mt=10,kt=0;for(Ot=0;Ot<vt;Ot++)kt=(st[mt]<<8|st[mt+1])+1,mt+=2;const gt=mt,Et=st[mt]<<8|st[mt+1];ht.sizeOfInstructions=Et,mt+=2+Et;const Rt=mt;let Wt=0;for(Ot=0;Ot<kt;Ot++){const Tt=st[mt++];Tt&192&&(st[mt-1]=Tt&63);let Bt=2;Tt&2?Bt=1:Tt&16&&(Bt=0);let Ht=2;Tt&4?Ht=1:Tt&32&&(Ht=0);const Kt=Bt+Ht;if(Wt+=Kt,Tt&8){const sn=st[mt++];sn===0&&(st[mt-1]^=8),Ot+=sn,Wt+=sn*Kt}}if(Wt===0)return ht;let Ft=mt+Wt;return Ft>st.length?ht:!bt&&Et>0?(at.set(st.subarray(0,gt),lt),at.set([0,0],lt+gt),at.set(st.subarray(Rt,Ft),lt+gt+2),Ft-=Et,st.length-Ft>3&&(Ft=Ft+3&-4),ht.length=Ft,ht):st.length-Ft>3?(Ft=Ft+3&-4,at.set(st.subarray(0,Ft),lt),ht.length=Ft,ht):(at.set(st,lt),ht.length=st.length,ht)}function _e(Ye,Ve,et){const at=Ye.data,lt=D(at[0],at[1],at[2],at[3]);lt>>16!==1&&((0,n.info)("Attempting to fix invalid version in head table: "+lt),at[0]=0,at[1]=1,at[2]=0,at[3]=0);const bt=g(at[50],at[51]);if(bt<0||bt>1){(0,n.info)("Attempting to fix invalid indexToLocFormat in head table: "+bt);const ht=Ve+1;if(et===ht<<1)at[50]=0,at[51]=0;else if(et===ht<<2)at[50]=0,at[51]=1;else throw new n.FormatError("Could not fix indexToLocFormat: "+bt)}}function je(Ye,Ve,et,at,lt,bt,ht){let st,pt,Ct;at?(st=4,pt=function(Bt,Ht){return Bt[Ht]<<24|Bt[Ht+1]<<16|Bt[Ht+2]<<8|Bt[Ht+3]},Ct=function(Bt,Ht,Kt){Bt[Ht]=Kt>>>24&255,Bt[Ht+1]=Kt>>16&255,Bt[Ht+2]=Kt>>8&255,Bt[Ht+3]=Kt&255}):(st=2,pt=function(Bt,Ht){return Bt[Ht]<<9|Bt[Ht+1]<<1},Ct=function(Bt,Ht,Kt){Bt[Ht]=Kt>>9&255,Bt[Ht+1]=Kt>>1&255});const Mt=bt?et+1:et,St=st*(1+Mt),vt=new Uint8Array(St);vt.set(Ye.data.subarray(0,St)),Ye.data=vt;const Ot=Ve.data,mt=Ot.length,kt=new Uint8Array(mt);let gt,Et;const Rt=[];for(gt=0,Et=0;gt<et+1;gt++,Et+=st){let Tt=pt(vt,Et);Tt>mt&&(Tt=mt),Rt.push({index:gt,offset:Tt,endOffset:0})}for(Rt.sort((Tt,Bt)=>Tt.offset-Bt.offset),gt=0;gt<et;gt++)Rt[gt].endOffset=Rt[gt+1].offset;for(Rt.sort((Tt,Bt)=>Tt.index-Bt.index),gt=0;gt<et;gt++){const{offset:Tt,endOffset:Bt}=Rt[gt];if(Tt!==0||Bt!==0)break;const Ht=Rt[gt+1].offset;if(Ht!==0){Rt[gt].endOffset=Ht;break}}const Wt=Object.create(null);let Ft=0;for(Ct(vt,0,Ft),gt=0,Et=st;gt<et;gt++,Et+=st){const Tt=ke(Ot,Rt[gt].offset,Rt[gt].endOffset,kt,Ft,lt),Bt=Tt.length;Bt===0&&(Wt[gt]=!0),Tt.sizeOfInstructions>ht&&(ht=Tt.sizeOfInstructions),Ft+=Bt,Ct(vt,Et,Ft)}if(Ft===0){const Tt=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(gt=0,Et=st;gt<Mt;gt++,Et+=st)Ct(vt,Et,Tt.length);Ve.data=Tt}else if(bt){const Tt=pt(vt,st);kt.length>Tt+Ft?Ve.data=kt.subarray(0,Tt+Ft):(Ve.data=new Uint8Array(Tt+Ft),Ve.data.set(kt.subarray(0,Ft))),Ve.data.set(kt.subarray(0,Tt),Ft),Ct(Ye.data,vt.length-st,Ft+Tt)}else Ve.data=kt.subarray(0,Ft);return{missingGlyphs:Wt,maxSizeOfInstructions:ht}}function Re(Ye,Ve,et){const at=(le.start||0)+Ye.offset;le.pos=at;const lt=Ye.length,bt=at+lt,ht=le.getInt32();le.skip(28);let st,pt=!0,Ct;switch(ht){case 65536:st=N.MacStandardGlyphOrdering;break;case 131072:const Mt=le.getUint16();if(Mt!==et){pt=!1;break}const St=[];for(Ct=0;Ct<Mt;++Ct){const mt=le.getUint16();if(mt>=32768){pt=!1;break}St.push(mt)}if(!pt)break;const vt=[],Ot=[];for(;le.pos<bt;){const mt=le.getByte();for(Ot.length=mt,Ct=0;Ct<mt;++Ct)Ot[Ct]=String.fromCharCode(le.getByte());vt.push(Ot.join(""))}for(st=[],Ct=0;Ct<Mt;++Ct){const mt=St[Ct];if(mt<258){st.push(N.MacStandardGlyphOrdering[mt]);continue}st.push(vt[mt-258])}break;case 196608:break;default:(0,n.warn)("Unknown/unsupported post table version "+ht),pt=!1,Ve.defaultEncoding&&(st=Ve.defaultEncoding);break}return Ve.glyphNames=st,pt}function be(Ye){const Ve=(le.start||0)+Ye.offset;le.pos=Ve;const et=[[],[]],at=[],lt=Ye.length,bt=Ve+lt;if(le.getUint16()!==0||lt<6)return[et,at];const pt=le.getUint16(),Ct=le.getUint16(),Mt=12;let St,vt;for(St=0;St<pt&&le.pos+Mt<=bt;St++){const Ot={platform:le.getUint16(),encoding:le.getUint16(),language:le.getUint16(),name:le.getUint16(),length:le.getUint16(),offset:le.getUint16()};(H(Ot)||ae(Ot))&&at.push(Ot)}for(St=0,vt=at.length;St<vt;St++){const Ot=at[St];if(Ot.length<=0)continue;const mt=Ve+Ct+Ot.offset;if(mt+Ot.length>bt)continue;le.pos=mt;const kt=Ot.name;if(Ot.encoding){let gt="";for(let Et=0,Rt=Ot.length;Et<Rt;Et+=2)gt+=String.fromCharCode(le.getUint16());et[1][kt]=gt}else et[0][kt]=le.getString(Ot.length)}return[et,at]}const Ce=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function $e(Ye,Ve){let et=Ye.data,at=0,lt,bt,ht,st,pt,Ct=0,Mt=0;const St=[],vt=[],Ot=[];let mt=Ve.tooComplexToFollowFunctions,kt=!1,gt=0,Et=0;for(let Wt=et.length;at<Wt;){const Ft=et[at++];if(Ft===64)if(bt=et[at++],kt||Et)at+=bt;else for(lt=0;lt<bt;lt++)St.push(et[at++]);else if(Ft===65)if(bt=et[at++],kt||Et)at+=bt*2;else for(lt=0;lt<bt;lt++)ht=et[at++],St.push(ht<<8|et[at++]);else if((Ft&248)===176)if(bt=Ft-176+1,kt||Et)at+=bt;else for(lt=0;lt<bt;lt++)St.push(et[at++]);else if((Ft&248)===184)if(bt=Ft-184+1,kt||Et)at+=bt*2;else for(lt=0;lt<bt;lt++)ht=et[at++],St.push(ht<<8|et[at++]);else if(Ft===43&&!mt){if(!kt&&!Et){if(st=St.at(-1),isNaN(st))(0,n.info)("TT: CALL empty stack (or invalid entry).");else if(Ve.functionsUsed[st]=!0,st in Ve.functionsStackDeltas){const Tt=St.length+Ve.functionsStackDeltas[st];if(Tt<0){(0,n.warn)("TT: CALL invalid functions stack delta."),Ve.hintsValid=!1;return}St.length=Tt}else if(st in Ve.functionsDefined&&!Ot.includes(st)){if(vt.push({data:et,i:at,stackTop:St.length-1}),Ot.push(st),pt=Ve.functionsDefined[st],!pt){(0,n.warn)("TT: CALL non-existent function"),Ve.hintsValid=!1;return}et=pt.data,at=pt.i}}}else if(Ft===44&&!mt)(kt||Et)&&((0,n.warn)("TT: nested FDEFs not allowed"),mt=!0),kt=!0,Mt=at,st=St.pop(),Ve.functionsDefined[st]={data:et,i:at};else if(Ft===45)if(kt)kt=!1,Ct=at;else{if(pt=vt.pop(),!pt){(0,n.warn)("TT: ENDF bad stack"),Ve.hintsValid=!1;return}st=Ot.pop(),et=pt.data,at=pt.i,Ve.functionsStackDeltas[st]=St.length-pt.stackTop}else if(Ft===137)(kt||Et)&&((0,n.warn)("TT: nested IDEFs not allowed"),mt=!0),kt=!0,Mt=at;else if(Ft===88)++gt;else if(Ft===27)Et=gt;else if(Ft===89)Et===gt&&(Et=0),--gt;else if(Ft===28&&!kt&&!Et){const Tt=St.at(-1);Tt>0&&(at+=Tt-1)}if(!kt&&!Et){let Tt=0;for(Ft<=142?Tt=Ce[Ft]:Ft>=192&&Ft<=223?Tt=-1:Ft>=224&&(Tt=-2),Ft>=113&&Ft<=117&&(bt=St.pop(),isNaN(bt)||(Tt=-bt*2));Tt<0&&St.length>0;)St.pop(),Tt++;for(;Tt>0;)St.push(NaN),Tt--}}Ve.tooComplexToFollowFunctions=mt;const Rt=[et];at>et.length&&Rt.push(new Uint8Array(at-et.length)),Mt>Ct&&((0,n.warn)("TT: complementing a missing function tail"),Rt.push(new Uint8Array([34,45]))),ze(Ye,Rt)}function Pe(Ye,Ve){if(!Ye.tooComplexToFollowFunctions){if(Ye.functionsDefined.length>Ve){(0,n.warn)("TT: more functions defined than expected"),Ye.hintsValid=!1;return}for(let et=0,at=Ye.functionsUsed.length;et<at;et++){if(et>Ve){(0,n.warn)("TT: invalid function id: "+et),Ye.hintsValid=!1;return}if(Ye.functionsUsed[et]&&!Ye.functionsDefined[et]){(0,n.warn)("TT: undefined function: "+et),Ye.hintsValid=!1;return}}}}function ze(Ye,Ve){if(Ve.length>1){let et=0,at,lt;for(at=0,lt=Ve.length;at<lt;at++)et+=Ve[at].length;et=et+3&-4;const bt=new Uint8Array(et);let ht=0;for(at=0,lt=Ve.length;at<lt;at++)bt.set(Ve[at],ht),ht+=Ve[at].length;Ye.data=bt,Ye.length=et}}function We(Ye,Ve,et,at){const lt={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(Ye&&$e(Ye,lt),Ve&&$e(Ve,lt),Ye&&Pe(lt,at),et&&et.length&1){const bt=new Uint8Array(et.length+1);bt.set(et.data),et.data=bt}return lt.hintsValid}le=new T.Stream(new Uint8Array(le.getBytes()));let ut,Le;if(o(le)){const Ye=ve(le,this.name);ut=Ye.header,Le=Ye.tables}else ut=Ee(le),Le=ge(le,ut.numTables);let rt,Qe;const Fe=!Le["CFF "];if(Fe){if(!Le.loca)throw new n.FormatError('Required "loca" table is not found');Le.glyf||((0,n.warn)('Required "glyf" table is not found -- trying to recover.'),Le.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const Ye=te.composite&&(((ct=te.cidToGidMap)==null?void 0:ct.length)>0||!(te.cMap instanceof i.IdentityCMap));if(ut.version==="OTTO"&&!Ye||!Le.head||!Le.hhea||!Le.maxp||!Le.post)return Qe=new T.Stream(Le["CFF "].data),rt=new M.CFFFont(Qe,te),_(te),this.convert(he,rt,te);delete Le.glyf,delete Le.loca,delete Le.fpgm,delete Le.prep,delete Le["cvt "],this.isOpenType=!0}if(!Le.maxp)throw new n.FormatError('Required "maxp" table is not found');le.pos=(le.start||0)+Le.maxp.offset;const me=le.getInt32(),Te=le.getUint16();if(((wt=te.scaleFactors)==null?void 0:wt.length)===Te&&Fe){const{scaleFactors:Ye}=te,Ve=g(Le.head.data[50],Le.head.data[51]),et=new u.GlyfTable({glyfTable:Le.glyf.data,isGlyphLocationsLong:Ve,locaTable:Le.loca.data,numGlyphs:Te});et.scale(Ye);const{glyf:at,loca:lt,isLocationLong:bt}=et.write();Le.glyf.data=at,Le.loca.data=lt,bt!==!!Ve&&(Le.head.data[50]=0,Le.head.data[51]=bt?1:0);const ht=Le.hmtx.data;for(let st=0;st<Te;st++){const pt=4*st,Ct=Math.round(Ye[st]*g(ht[pt],ht[pt+1]));ht[pt]=Ct>>8&255,ht[pt+1]=Ct&255;const Mt=Math.round(Ye[st]*G(ht[pt+2],ht[pt+3]));P(ht,pt+2,Mt)}}let Ie=Te+1,De=!0;Ie>65535&&(De=!1,Ie=Te,(0,n.warn)("Not enough space in glyfs to duplicate first glyph."));let Be=0,Ue=0;me>=65536&&Le.maxp.length>=22&&(le.pos+=8,le.getUint16()>2&&(Le.maxp.data[14]=0,Le.maxp.data[15]=2),le.pos+=4,Be=le.getUint16(),le.pos+=4,Ue=le.getUint16()),Le.maxp.data[4]=Ie>>8,Le.maxp.data[5]=Ie&255;const Ze=We(Le.fpgm,Le.prep,Le["cvt "],Be);if(Ze||(delete Le.fpgm,delete Le.prep,delete Le["cvt "]),Ae(le,Le.hhea,Le.hmtx,Le.head,Ie,De),!Le.head)throw new n.FormatError('Required "head" table is not found');_e(Le.head,Te,Fe?Le.loca.length:0);let Ke=Object.create(null);if(Fe){const Ye=g(Le.head.data[50],Le.head.data[51]),Ve=je(Le.loca,Le.glyf,Te,Ye,Ze,De,Ue);Ke=Ve.missingGlyphs,me>=65536&&Le.maxp.length>=22&&(Le.maxp.data[26]=Ve.maxSizeOfInstructions>>8,Le.maxp.data[27]=Ve.maxSizeOfInstructions&255)}if(!Le.hhea)throw new n.FormatError('Required "hhea" table is not found');Le.hhea.data[10]===0&&Le.hhea.data[11]===0&&(Le.hhea.data[10]=255,Le.hhea.data[11]=255);const qe={unitsPerEm:g(Le.head.data[18],Le.head.data[19]),yMax:G(Le.head.data[42],Le.head.data[43]),yMin:G(Le.head.data[38],Le.head.data[39]),ascent:G(Le.hhea.data[4],Le.hhea.data[5]),descent:G(Le.hhea.data[6],Le.hhea.data[7]),lineGap:G(Le.hhea.data[8],Le.hhea.data[9])};this.ascent=qe.ascent/qe.unitsPerEm,this.descent=qe.descent/qe.unitsPerEm,this.lineGap=qe.lineGap/qe.unitsPerEm,(It=this.cssFontInfo)!=null&&It.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,Le.post&&Re(Le.post,te,Te),Le.post={tag:"post",data:K(te)};const tt=[];function it(Ye){return!Ke[Ye]}if(te.composite){const Ye=te.cidToGidMap||[],Ve=Ye.length===0;te.cMap.forEach(function(et,at){if(typeof at=="string"&&(at=q(et,at,!0)),at>65535)throw new n.FormatError("Max size of CID is 65,535");let lt=-1;Ve?lt=at:Ye[at]!==void 0&&(lt=Ye[at]),lt>=0&&lt<Te&&it(lt)&&(tt[et]=lt)})}else{const Ye=Se(Le.cmap,le,this.isSymbolicFont,te.hasEncoding),Ve=Ye.platformId,et=Ye.encodingId,at=Ye.mappings;let lt=[],bt=!1;if(te.hasEncoding&&(te.baseEncodingName==="MacRomanEncoding"||te.baseEncodingName==="WinAnsiEncoding")&&(lt=(0,r.getEncoding)(te.baseEncodingName)),te.hasEncoding&&!this.isSymbolicFont&&(Ve===3&&et===1||Ve===1&&et===0)){const ht=(0,t.getGlyphsUnicode)();for(let st=0;st<256;st++){let pt;if(this.differences[st]!==void 0?pt=this.differences[st]:lt.length&&lt[st]!==""?pt=lt[st]:pt=r.StandardEncoding[st],!pt)continue;const Ct=(0,N.recoverGlyphName)(pt,ht);let Mt;if(Ve===3&&et===1?Mt=ht[Ct]:Ve===1&&et===0&&(Mt=r.MacRomanEncoding.indexOf(Ct)),Mt===void 0){if(!te.glyphNames&&te.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof j.IdentityToUnicodeMap)){const St=this.toUnicode.get(st);St&&(Mt=St.codePointAt(0))}if(Mt===void 0)continue}for(const St of at)if(St.charCode===Mt){tt[st]=St.glyphId;break}}}else if(Ve===0){for(const ht of at)tt[ht.charCode]=ht.glyphId;bt=!0}else for(const ht of at){let st=ht.charCode;Ve===3&&st>=61440&&st<=61695&&(st&=255),tt[st]=ht.glyphId}if(te.glyphNames&&(lt.length||this.differences.length))for(let ht=0;ht<256;++ht){if(!bt&&tt[ht]!==void 0)continue;const st=this.differences[ht]||lt[ht];if(!st)continue;const pt=te.glyphNames.indexOf(st);pt>0&&it(pt)&&(tt[ht]=pt)}}tt.length===0&&(tt[0]=0);let ot=Ie-1;if(De||(ot=0),!te.cssFontInfo){const Ye=ce(tt,it,ot,this.toUnicode);this.toFontChar=Ye.toFontChar,Le.cmap={tag:"cmap",data:se(Ye.charCodeToGlyphId,Ye.toUnicodeExtraMap,Ie)},(!Le["OS/2"]||!$(Le["OS/2"],le))&&(Le["OS/2"]={tag:"OS/2",data:U(te,Ye.charCodeToGlyphId,qe)})}if(!Fe)try{Qe=new T.Stream(Le["CFF "].data),rt=new S.CFFParser(Qe,te,N.SEAC_ANALYSIS_ENABLED).parse(),rt.duplicateFirstGlyph();const Ve=new S.CFFCompiler(rt);Le["CFF "].data=Ve.compile()}catch{(0,n.warn)("Failed to compile font "+te.loadedName)}if(!Le.name)Le.name={tag:"name",data:Y(this.name)};else{const[Ye,Ve]=be(Le.name);Le.name.data=Y(he,Ye),this.psName=Ye[0][6]||null,te.composite||l(te,this.isSymbolicFont,Ve)}const dt=new F.OpenTypeFileBuilder(ut.version);for(const Ye in Le)dt.addTable(Ye,Le[Ye].data);return dt.toArray()}convert(he,le,te){te.fixedPitch=!1,te.builtInEncoding&&x(te,te.builtInEncoding);let ue=1;le instanceof M.CFFFont&&(ue=le.numGlyphs-1);const ge=le.getGlyphMapping(te);let ye=null,Ee=ge,Oe=null;te.cssFontInfo||(ye=ce(ge,le.hasGlyphId.bind(le),ue,this.toUnicode),this.toFontChar=ye.toFontChar,Ee=ye.charCodeToGlyphId,Oe=ye.toUnicodeExtraMap);const ve=le.numGlyphs;function Se(Re,be){let Ce=null;for(const $e in Re)be===Re[$e]&&(Ce||(Ce=[])).push($e|0);return Ce}function Ae(Re,be){for(const Ce in Re)if(be===Re[Ce])return Ce|0;return ye.charCodeToGlyphId[ye.nextAvailableFontCharCode]=be,ye.nextAvailableFontCharCode++}const ke=le.seacs;if(ye&&N.SEAC_ANALYSIS_ENABLED&&(ke!=null&&ke.length)){const Re=te.fontMatrix||n.FONT_IDENTITY_MATRIX,be=le.getCharset(),Ce=Object.create(null);for(let $e in ke){$e|=0;const Pe=ke[$e],ze=r.StandardEncoding[Pe[2]],We=r.StandardEncoding[Pe[3]],ut=be.indexOf(ze),Le=be.indexOf(We);if(ut<0||Le<0)continue;const rt={x:Pe[0]*Re[0]+Pe[1]*Re[2]+Re[4],y:Pe[0]*Re[1]+Pe[1]*Re[3]+Re[5]},Qe=Se(ge,$e);if(Qe)for(const Fe of Qe){const me=ye.charCodeToGlyphId,Te=Ae(me,ut),Ie=Ae(me,Le);Ce[Fe]={baseFontCharCode:Te,accentFontCharCode:Ie,accentOffset:rt}}}te.seacMap=Ce}const _e=1/(te.fontMatrix||n.FONT_IDENTITY_MATRIX)[0],je=new F.OpenTypeFileBuilder("OTTO");return je.addTable("CFF ",le.data),je.addTable("OS/2",U(te,Ee)),je.addTable("cmap",se(Ee,Oe,ve)),je.addTable("head","\0\0\0\0\0\0\0\0\0\0_<õ\0\0"+A(_e)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+A(te.descent)+"ÿ"+A(te.ascent)+w(te.italicAngle?2:0)+"\0\0\0\0\0\0\0"),je.addTable("hhea","\0\0\0"+A(te.ascent)+A(te.descent)+"\0\0ÿÿ\0\0\0\0\0\0"+A(te.capHeight)+A(Math.tan(te.italicAngle)*te.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+w(ve)),je.addTable("hmtx",function(){const be=le.charstrings,Ce=le.cff?le.cff.widths:null;let $e="\0\0\0\0";for(let Pe=1,ze=ve;Pe<ze;Pe++){let We=0;if(be){const ut=be[Pe-1];We="width"in ut?ut.width:0}else Ce&&(We=Math.ceil(Ce[Pe]||0));$e+=w(We)+w(0)}return $e}()),je.addTable("maxp","\0\0P\0"+w(ve)),je.addTable("name",Y(he)),je.addTable("post",K(te)),je.toArray()}get spaceWidth(){const he=["space","minus","one","i","I"];let le;for(const te of he){if(te in this.widths){le=this.widths[te];break}const ge=(0,t.getGlyphsUnicode)()[te];let ye=0;if(this.composite&&this.cMap.contains(ge)&&(ye=this.cMap.lookup(ge),typeof ye=="string"&&(ye=q(ge,ye))),!ye&&this.toUnicode&&(ye=this.toUnicode.charCodeOf(ge)),ye<=0&&(ye=ge),le=this.widths[ye],le)break}return(0,n.shadow)(this,"spaceWidth",le||this.defaultWidth)}_charToGlyph(he,le=!1){var _e,je,Re;let te=this._glyphCache[he];if((te==null?void 0:te.isSpace)===le)return te;let ue,ge,ye,Ee=he;(_e=this.cMap)!=null&&_e.contains(he)&&(Ee=this.cMap.lookup(he),typeof Ee=="string"&&(Ee=q(he,Ee))),ge=this.widths[Ee],typeof ge!="number"&&(ge=this.defaultWidth);const Oe=(je=this.vmetrics)==null?void 0:je[Ee];let ve=this.toUnicode.get(he)||he;typeof ve=="number"&&(ve=String.fromCharCode(ve));let Se=this.toFontChar[he]!==void 0;if(ue=this.toFontChar[he]||he,this.missingFile){const be=this.differences[he]||this.defaultEncoding[he];(be===".notdef"||be==="")&&this.type==="Type1"&&(ue=32),ue=(0,e.mapSpecialUnicodeValues)(ue)}this.isType3Font&&(ye=ue);let Ae=null;if((Re=this.seacMap)!=null&&Re[he]){Se=!0;const be=this.seacMap[he];ue=be.baseFontCharCode,Ae={fontChar:String.fromCodePoint(be.accentFontCharCode),offset:be.accentOffset}}let ke="";return typeof ue=="number"&&(ue<=1114111?ke=String.fromCodePoint(ue):(0,n.warn)(`charToGlyph - invalid fontCharCode: ${ue}`)),te=new a(he,ke,ve,Ae,ge,Oe,ye,le,Se),this._glyphCache[he]=te}charsToGlyphs(he){let le=this._charsCache[he];if(le)return le;if(le=[],this.cMap){const te=Object.create(null),ue=he.length;let ge=0;for(;ge<ue;){this.cMap.readCharCode(he,ge,te);const{charcode:ye,length:Ee}=te;ge+=Ee;const Oe=this._charToGlyph(ye,Ee===1&&he.charCodeAt(ge-1)===32);le.push(Oe)}}else for(let te=0,ue=he.length;te<ue;++te){const ge=he.charCodeAt(te),ye=this._charToGlyph(ge,ge===32);le.push(ye)}return this._charsCache[he]=le}getCharPositions(he){const le=[];if(this.cMap){const te=Object.create(null);let ue=0;for(;ue<he.length;){this.cMap.readCharCode(he,ue,te);const ge=te.length;le.push([ue,ue+ge]),ue+=ge}}else for(let te=0,ue=he.length;te<ue;++te)le.push([te,te+1]);return le}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(he){const le=[],te=[],ue=()=>le.length%2===1,ge=this.toUnicode instanceof j.IdentityToUnicodeMap?ye=>this.toUnicode.charCodeOf(ye):ye=>this.toUnicode.charCodeOf(String.fromCodePoint(ye));for(let ye=0,Ee=he.length;ye<Ee;ye++){const Oe=he.codePointAt(ye);if(Oe>55295&&(Oe<57344||Oe>65533)&&ye++,this.toUnicode){const ve=ge(Oe);if(ve!==-1){ue()&&(le.push(te.join("")),te.length=0);const Se=this.cMap?this.cMap.getCharCodeLength(ve):1;for(let Ae=Se-1;Ae>=0;Ae--)te.push(String.fromCharCode(ve>>8*Ae&255));continue}}ue()||(le.push(te.join("")),te.length=0),te.push(String.fromCodePoint(Oe))}return le.push(te.join("")),le}}m.Font=ie;class re{constructor(he){this.error=he,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(he){return[he]}exportData(he=!1){return{error:this.error}}}m.ErrorFont=re},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.CFFTopDict=m.CFFStrings=m.CFFStandardStrings=m.CFFPrivateDict=m.CFFParser=m.CFFIndex=m.CFFHeader=m.CFFFDSelect=m.CFFCompiler=m.CFFCharset=m.CFF=void 0;var n=Q(2),S=Q(36),N=Q(37);const e=10,t=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];m.CFFStandardStrings=t;const r=391,z=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],j=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(X,a){X[a-2]=X[a-2]+X[a-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(X,a){X[a-2]=X[a-2]-X[a-1]}},{id:"div",min:2,stackDelta:-1,stackFn(X,a){X[a-2]=X[a-2]/X[a-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(X,a){X[a-1]=-X[a-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(X,a){X[a-2]=X[a-2]*X[a-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class M{constructor(a,g,P){this.bytes=a.getBytes(),this.properties=g,this.seacAnalysisEnabled=!!P}parse(){const a=this.properties,g=new I;this.cff=g;const P=this.parseHeader(),G=this.parseIndex(P.endPos),D=this.parseIndex(G.endPos),w=this.parseIndex(D.endPos),A=this.parseIndex(w.endPos),v=this.parseDict(D.obj.get(0)),o=this.createDict(T,v,g.strings);g.header=P.obj,g.names=this.parseNameIndex(G.obj),g.strings=this.parseStringIndex(w.obj),g.topDict=o,g.globalSubrIndex=A.obj,this.parsePrivateDict(g.topDict),g.isCIDFont=o.hasName("ROS");const y=o.getByName("CharStrings"),c=this.parseIndex(y).obj,h=o.getByName("FontMatrix");h&&(a.fontMatrix=h);const O=o.getByName("FontBBox");O&&(a.ascent=Math.max(O[3],O[1]),a.descent=Math.min(O[1],O[3]),a.ascentScaled=!0);let W,R;if(g.isCIDFont){const ae=this.parseIndex(o.getByName("FDArray")).obj;for(let q=0,ce=ae.count;q<ce;++q){const ee=ae.get(q),se=this.createDict(T,this.parseDict(ee),g.strings);this.parsePrivateDict(se),g.fdArray.push(se)}R=null,W=this.parseCharsets(o.getByName("charset"),c.count,g.strings,!0),g.fdSelect=this.parseFDSelect(o.getByName("FDSelect"),c.count)}else W=this.parseCharsets(o.getByName("charset"),c.count,g.strings,!1),R=this.parseEncoding(o.getByName("Encoding"),a,g.strings,W.charset);g.charset=W,g.encoding=R;const H=this.parseCharStrings({charStrings:c,localSubrIndex:o.privateDict.subrsIndex,globalSubrIndex:A.obj,fdSelect:g.fdSelect,fdArray:g.fdArray,privateDict:o.privateDict});return g.charStrings=H.charStrings,g.seacs=H.seacs,g.widths=H.widths,g}parseHeader(){let a=this.bytes;const g=a.length;let P=0;for(;P<g&&a[P]!==1;)++P;if(P>=g)throw new n.FormatError("Invalid CFF header");P!==0&&((0,n.info)("cff data is shifted"),a=a.subarray(P),this.bytes=a);const G=a[0],D=a[1],w=a[2],A=a[3];return{obj:new d(G,D,w,A),endPos:w}}parseDict(a){let g=0;function P(){let v=a[g++];return v===30?G():v===28?(v=a[g++],v=(v<<24|a[g++]<<16)>>16,v):v===29?(v=a[g++],v=v<<8|a[g++],v=v<<8|a[g++],v=v<<8|a[g++],v):v>=32&&v<=246?v-139:v>=247&&v<=250?(v-247)*256+a[g++]+108:v>=251&&v<=254?-((v-251)*256)-a[g++]-108:((0,n.warn)('CFFParser_parseDict: "'+v+'" is a reserved command.'),NaN)}function G(){let v="";const y=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],c=a.length;for(;g<c;){const h=a[g++],O=h>>4,W=h&15;if(O===15||(v+=y[O],W===15))break;v+=y[W]}return parseFloat(v)}let D=[];const w=[];g=0;const A=a.length;for(;g<A;){let v=a[g];v<=21?(v===12&&(v=v<<8|a[++g]),w.push([v,D]),D=[],++g):D.push(P())}return w}parseIndex(a){const g=new i,P=this.bytes,G=P[a++]<<8|P[a++],D=[];let w=a,A,v;if(G!==0){const o=P[a++],y=a+(G+1)*o-1;for(A=0,v=G+1;A<v;++A){let c=0;for(let h=0;h<o;++h)c<<=8,c+=P[a++];D.push(y+c)}w=D[G]}for(A=0,v=D.length-1;A<v;++A){const o=D[A],y=D[A+1];g.add(P.subarray(o,y))}return{obj:g,endPos:w}}parseNameIndex(a){const g=[];for(let P=0,G=a.count;P<G;++P){const D=a.get(P);g.push((0,n.bytesToString)(D))}return g}parseStringIndex(a){const g=new u;for(let P=0,G=a.count;P<G;++P){const D=a.get(P);g.add((0,n.bytesToString)(D))}return g}createDict(a,g,P){const G=new a(P);for(const[D,w]of g)G.setByKey(D,w);return G}parseCharString(a,g,P,G){if(!g||a.callDepth>e)return!1;let D=a.stackSize;const w=a.stack;let A=g.length;for(let v=0;v<A;){const o=g[v++];let y=null;if(o===12){const c=g[v++];c===0?(g[v-2]=139,g[v-1]=22,D=0):y=j[c]}else if(o===28)w[D]=(g[v]<<24|g[v+1]<<16)>>16,v+=2,D++;else if(o===14){if(D>=4&&(D-=4,this.seacAnalysisEnabled))return a.seac=w.slice(D,D+4),!1;y=z[o]}else if(o>=32&&o<=246)w[D]=o-139,D++;else if(o>=247&&o<=254)w[D]=o<251?(o-247<<8)+g[v]+108:-(o-251<<8)-g[v]-108,v++,D++;else if(o===255)w[D]=(g[v]<<24|g[v+1]<<16|g[v+2]<<8|g[v+3])/65536,v+=4,D++;else if(o===19||o===20){if(a.hints+=D>>1,a.hints===0){g.copyWithin(v-1,v,-1),v-=1,A-=1;continue}v+=a.hints+7>>3,D%=2,y=z[o]}else if(o===10||o===29){const c=o===10?P:G;if(!c)return y=z[o],(0,n.warn)("Missing subrsIndex for "+y.id),!1;let h=32768;c.count<1240?h=107:c.count<33900&&(h=1131);const O=w[--D]+h;if(O<0||O>=c.count||isNaN(O))return y=z[o],(0,n.warn)("Out of bounds subrIndex for "+y.id),!1;if(a.stackSize=D,a.callDepth++,!this.parseCharString(a,c.get(O),P,G))return!1;a.callDepth--,D=a.stackSize;continue}else{if(o===11)return a.stackSize=D,!0;if(o===0&&v===g.length)g[v-1]=14,y=z[14];else if(o===9){g.copyWithin(v-1,v,-1),v-=1,A-=1;continue}else y=z[o]}if(y){if(y.stem&&(a.hints+=D>>1,o===3||o===23?a.hasVStems=!0:a.hasVStems&&(o===1||o===18)&&((0,n.warn)("CFF stem hints are in wrong order"),g[v-1]=o===1?3:23)),"min"in y&&!a.undefStack&&D<y.min)return(0,n.warn)("Not enough parameters for "+y.id+"; actual: "+D+", expected: "+y.min),D===0?(g[v-1]=14,!0):!1;a.firstStackClearing&&y.stackClearing&&(a.firstStackClearing=!1,D-=y.min,D>=2&&y.stem?D%=2:D>1&&(0,n.warn)("Found too many parameters for stack-clearing command"),D>0&&(a.width=w[D-1])),"stackDelta"in y?("stackFn"in y&&y.stackFn(w,D),D+=y.stackDelta):y.stackClearing?D=0:y.resetStack?(D=0,a.undefStack=!1):y.undefStack&&(D=0,a.undefStack=!0,a.firstStackClearing=!1)}}return A<g.length&&g.fill(14,A),a.stackSize=D,!0}parseCharStrings({charStrings:a,localSubrIndex:g,globalSubrIndex:P,fdSelect:G,fdArray:D,privateDict:w}){const A=[],v=[],o=a.count;for(let y=0;y<o;y++){const c=a.get(y),h={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let O=!0,W=null,R=w;if(G&&D.length){const H=G.getFDIndex(y);H===-1&&((0,n.warn)("Glyph index is not in fd select."),O=!1),H>=D.length&&((0,n.warn)("Invalid fd index for glyph index."),O=!1),O&&(R=D[H].privateDict,W=R.subrsIndex)}else g&&(W=g);if(O&&(O=this.parseCharString(h,c,W,P)),h.width!==null){const H=R.getByName("nominalWidthX");v[y]=H+h.width}else{const H=R.getByName("defaultWidthX");v[y]=H}h.seac!==null&&(A[y]=h.seac),O||a.set(y,new Uint8Array([14]))}return{charStrings:a,seacs:A,widths:v}}emptyPrivateDictionary(a){const g=this.createDict(L,[],a.strings);a.setByKey(18,[0,0]),a.privateDict=g}parsePrivateDict(a){if(!a.hasName("Private")){this.emptyPrivateDictionary(a);return}const g=a.getByName("Private");if(!Array.isArray(g)||g.length!==2){a.removeByName("Private");return}const P=g[0],G=g[1];if(P===0||G>=this.bytes.length){this.emptyPrivateDictionary(a);return}const D=G+P,w=this.bytes.subarray(G,D),A=this.parseDict(w),v=this.createDict(L,A,a.strings);if(a.privateDict=v,v.getByName("ExpansionFactor")===0&&v.setByName("ExpansionFactor",.06),!v.getByName("Subrs"))return;const o=v.getByName("Subrs"),y=G+o;if(o===0||y>=this.bytes.length){this.emptyPrivateDictionary(a);return}const c=this.parseIndex(y);v.subrsIndex=c.obj}parseCharsets(a,g,P,G){if(a===0)return new V(!0,B.ISO_ADOBE,S.ISOAdobeCharset);if(a===1)return new V(!0,B.EXPERT,S.ExpertCharset);if(a===2)return new V(!0,B.EXPERT_SUBSET,S.ExpertSubsetCharset);const D=this.bytes,w=a,A=D[a++],v=[G?0:".notdef"];let o,y,c;switch(g-=1,A){case 0:for(c=0;c<g;c++)o=D[a++]<<8|D[a++],v.push(G?o:P.get(o));break;case 1:for(;v.length<=g;)for(o=D[a++]<<8|D[a++],y=D[a++],c=0;c<=y;c++)v.push(G?o++:P.get(o++));break;case 2:for(;v.length<=g;)for(o=D[a++]<<8|D[a++],y=D[a++]<<8|D[a++],c=0;c<=y;c++)v.push(G?o++:P.get(o++));break;default:throw new n.FormatError("Unknown charset format")}const h=a,O=D.subarray(w,h);return new V(!1,A,v,O)}parseEncoding(a,g,P,G){const D=Object.create(null),w=this.bytes;let A=!1,v,o,y,c=null;function h(){const O=w[a++];for(o=0;o<O;o++){const W=w[a++],R=(w[a++]<<8)+(w[a++]&255);D[W]=G.indexOf(P.get(R))}}if(a===0||a===1){A=!0,v=a;const O=a?N.ExpertEncoding:N.StandardEncoding;for(o=0,y=G.length;o<y;o++){const W=O.indexOf(G[o]);W!==-1&&(D[W]=o)}}else{const O=a;switch(v=w[a++],v&127){case 0:const R=w[a++];for(o=1;o<=R;o++)D[w[a++]]=o;break;case 1:const H=w[a++];let ae=1;for(o=0;o<H;o++){const q=w[a++],ce=w[a++];for(let ee=q;ee<=q+ce;ee++)D[ee]=ae++}break;default:throw new n.FormatError(`Unknown encoding format: ${v} in CFF`)}const W=a;v&128&&(w[O]&=127,h()),c=w.subarray(O,W)}return v&=127,new k(A,v,D,c)}parseFDSelect(a,g){const P=this.bytes,G=P[a++],D=[];let w;switch(G){case 0:for(w=0;w<g;++w){const v=P[a++];D.push(v)}break;case 3:const A=P[a++]<<8|P[a++];for(w=0;w<A;++w){let v=P[a++]<<8|P[a++];w===0&&v!==0&&((0,n.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),v=0);const o=P[a++],y=P[a]<<8|P[a+1];for(let c=v;c<y;++c)D.push(o)}a+=2;break;default:throw new n.FormatError(`parseFDSelect: Unknown format "${G}".`)}if(D.length!==g)throw new n.FormatError("parseFDSelect: Invalid font data.");return new _(G,D)}}m.CFFParser=M;class I{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new u,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){(0,n.warn)("Not enough space in charstrings to duplicate first glyph.");return}const a=this.charStrings.get(0);this.charStrings.add(a),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(a){return a<0||a>=this.charStrings.count?!1:this.charStrings.get(a).length>0}}m.CFF=I;class d{constructor(a,g,P,G){this.major=a,this.minor=g,this.hdrSize=P,this.offSize=G}}m.CFFHeader=d;class u{constructor(){this.strings=[]}get(a){return a>=0&&a<=r-1?t[a]:a-r<=this.strings.length?this.strings[a-r]:t[0]}getSID(a){let g=t.indexOf(a);return g!==-1?g:(g=this.strings.indexOf(a),g!==-1?g+r:-1)}add(a){this.strings.push(a)}get count(){return this.strings.length}}m.CFFStrings=u;class i{constructor(){this.objects=[],this.length=0}add(a){this.length+=a.length,this.objects.push(a)}set(a,g){this.length+=g.length-this.objects[a].length,this.objects[a]=g}get(a){return this.objects[a]}get count(){return this.objects.length}}m.CFFIndex=i;class F{constructor(a,g){this.keyToNameMap=a.keyToNameMap,this.nameToKeyMap=a.nameToKeyMap,this.defaults=a.defaults,this.types=a.types,this.opcodes=a.opcodes,this.order=a.order,this.strings=g,this.values=Object.create(null)}setByKey(a,g){if(!(a in this.keyToNameMap))return!1;if(g.length===0)return!0;for(const G of g)if(isNaN(G))return(0,n.warn)(`Invalid CFFDict value: "${g}" for key "${a}".`),!0;const P=this.types[a];return(P==="num"||P==="sid"||P==="offset")&&(g=g[0]),this.values[a]=g,!0}setByName(a,g){if(!(a in this.nameToKeyMap))throw new n.FormatError(`Invalid dictionary name "${a}"`);this.values[this.nameToKeyMap[a]]=g}hasName(a){return this.nameToKeyMap[a]in this.values}getByName(a){if(!(a in this.nameToKeyMap))throw new n.FormatError(`Invalid dictionary name ${a}"`);const g=this.nameToKeyMap[a];return g in this.values?this.values[g]:this.defaults[g]}removeByName(a){delete this.values[this.nameToKeyMap[a]]}static createTables(a){const g={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(const P of a){const G=Array.isArray(P[0])?(P[0][0]<<8)+P[0][1]:P[0];g.keyToNameMap[G]=P[1],g.nameToKeyMap[P[1]]=G,g.types[G]=P[2],g.defaults[G]=P[3],g.opcodes[G]=Array.isArray(P[0])?P[0]:[P[0]],g.order.push(G)}return g}}const C=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class T extends F{static get tables(){return(0,n.shadow)(this,"tables",this.createTables(C))}constructor(a){super(T.tables,a),this.privateDict=null}}m.CFFTopDict=T;const b=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class L extends F{static get tables(){return(0,n.shadow)(this,"tables",this.createTables(b))}constructor(a){super(L.tables,a),this.subrsIndex=null}}m.CFFPrivateDict=L;const B={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class V{constructor(a,g,P,G){this.predefined=a,this.format=g,this.charset=P,this.raw=G}}m.CFFCharset=V;class k{constructor(a,g,P,G){this.predefined=a,this.format=g,this.encoding=P,this.raw=G}}class _{constructor(a,g){this.format=a,this.fdSelect=g}getFDIndex(a){return a<0||a>=this.fdSelect.length?-1:this.fdSelect[a]}}m.CFFFDSelect=_;class l{constructor(){this.offsets=Object.create(null)}isTracking(a){return a in this.offsets}track(a,g){if(a in this.offsets)throw new n.FormatError(`Already tracking location of ${a}`);this.offsets[a]=g}offset(a){for(const g in this.offsets)this.offsets[g]+=a}setEntryLocation(a,g,P){if(!(a in this.offsets))throw new n.FormatError(`Not tracking location of ${a}`);const G=P.data,D=this.offsets[a],w=5;for(let A=0,v=g.length;A<v;++A){const o=A*w+D,y=o+1,c=o+2,h=o+3,O=o+4;if(G[o]!==29||G[y]!==0||G[c]!==0||G[h]!==0||G[O]!==0)throw new n.FormatError("writing to an offset that is not empty");const W=g[A];G[o]=29,G[y]=W>>24&255,G[c]=W>>16&255,G[h]=W>>8&255,G[O]=W&255}}}class x{constructor(a){this.cff=a}compile(){const a=this.cff,g={data:[],length:0,add(h){try{this.data.push(...h)}catch{this.data=this.data.concat(h)}this.length=this.data.length}},P=this.compileHeader(a.header);g.add(P);const G=this.compileNameIndex(a.names);if(g.add(G),a.isCIDFont&&a.topDict.hasName("FontMatrix")){const h=a.topDict.getByName("FontMatrix");a.topDict.removeByName("FontMatrix");for(const O of a.fdArray){let W=h.slice(0);O.hasName("FontMatrix")&&(W=n.Util.transform(W,O.getByName("FontMatrix"))),O.setByName("FontMatrix",W)}}const D=a.topDict.getByName("XUID");(D==null?void 0:D.length)>16&&a.topDict.removeByName("XUID"),a.topDict.setByName("charset",0);let w=this.compileTopDicts([a.topDict],g.length,a.isCIDFont);g.add(w.output);const A=w.trackers[0],v=this.compileStringIndex(a.strings.strings);g.add(v);const o=this.compileIndex(a.globalSubrIndex);if(g.add(o),a.encoding&&a.topDict.hasName("Encoding"))if(a.encoding.predefined)A.setEntryLocation("Encoding",[a.encoding.format],g);else{const h=this.compileEncoding(a.encoding);A.setEntryLocation("Encoding",[g.length],g),g.add(h)}const y=this.compileCharset(a.charset,a.charStrings.count,a.strings,a.isCIDFont);A.setEntryLocation("charset",[g.length],g),g.add(y);const c=this.compileCharStrings(a.charStrings);if(A.setEntryLocation("CharStrings",[g.length],g),g.add(c),a.isCIDFont){A.setEntryLocation("FDSelect",[g.length],g);const h=this.compileFDSelect(a.fdSelect);g.add(h),w=this.compileTopDicts(a.fdArray,g.length,!0),A.setEntryLocation("FDArray",[g.length],g),g.add(w.output);const O=w.trackers;this.compilePrivateDicts(a.fdArray,O,g)}return this.compilePrivateDicts([a.topDict],[A],g),g.add([0]),g.data}encodeNumber(a){return Number.isInteger(a)?this.encodeInteger(a):this.encodeFloat(a)}static get EncodeFloatRegExp(){return(0,n.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(a){let g=a.toString();const P=x.EncodeFloatRegExp.exec(g);if(P){const v=parseFloat("1e"+((P[2]?+P[2]:0)+P[1].length));g=(Math.round(a*v)/v).toString()}let G="",D,w;for(D=0,w=g.length;D<w;++D){const v=g[D];v==="e"?G+=g[++D]==="-"?"c":"b":v==="."?G+="a":v==="-"?G+="e":G+=v}G+=G.length&1?"f":"ff";const A=[30];for(D=0,w=G.length;D<w;D+=2)A.push(parseInt(G.substring(D,D+2),16));return A}encodeInteger(a){let g;return a>=-107&&a<=107?g=[a+139]:a>=108&&a<=1131?(a-=108,g=[(a>>8)+247,a&255]):a>=-1131&&a<=-108?(a=-a-108,g=[(a>>8)+251,a&255]):a>=-32768&&a<=32767?g=[28,a>>8&255,a&255]:g=[29,a>>24&255,a>>16&255,a>>8&255,a&255],g}compileHeader(a){return[a.major,a.minor,4,a.offSize]}compileNameIndex(a){const g=new i;for(const P of a){const G=Math.min(P.length,127);let D=new Array(G);for(let w=0;w<G;w++){let A=P[w];(A<"!"||A>"~"||A==="["||A==="]"||A==="("||A===")"||A==="{"||A==="}"||A==="<"||A===">"||A==="/"||A==="%")&&(A="_"),D[w]=A}D=D.join(""),D===""&&(D="Bad_Font_Name"),g.add((0,n.stringToBytes)(D))}return this.compileIndex(g)}compileTopDicts(a,g,P){const G=[];let D=new i;for(const w of a){P&&(w.removeByName("CIDFontVersion"),w.removeByName("CIDFontRevision"),w.removeByName("CIDFontType"),w.removeByName("CIDCount"),w.removeByName("UIDBase"));const A=new l,v=this.compileDict(w,A);G.push(A),D.add(v),A.offset(g)}return D=this.compileIndex(D,G),{trackers:G,output:D}}compilePrivateDicts(a,g,P){for(let G=0,D=a.length;G<D;++G){const w=a[G],A=w.privateDict;if(!A||!w.hasName("Private"))throw new n.FormatError("There must be a private dictionary.");const v=new l,o=this.compileDict(A,v);let y=P.length;if(v.offset(y),o.length||(y=0),g[G].setEntryLocation("Private",[o.length,y],P),P.add(o),A.subrsIndex&&A.hasName("Subrs")){const c=this.compileIndex(A.subrsIndex);v.setEntryLocation("Subrs",[o.length],P),P.add(c)}}}compileDict(a,g){const P=[];for(const G of a.order){if(!(G in a.values))continue;let D=a.values[G],w=a.types[G];if(Array.isArray(w)||(w=[w]),Array.isArray(D)||(D=[D]),D.length!==0){for(let A=0,v=w.length;A<v;++A){const o=w[A],y=D[A];switch(o){case"num":case"sid":P.push(...this.encodeNumber(y));break;case"offset":const c=a.keyToNameMap[G];g.isTracking(c)||g.track(c,P.length),P.push(29,0,0,0,0);break;case"array":case"delta":P.push(...this.encodeNumber(y));for(let h=1,O=D.length;h<O;++h)P.push(...this.encodeNumber(D[h]));break;default:throw new n.FormatError(`Unknown data type of ${o}`)}}P.push(...a.opcodes[G])}}return P}compileStringIndex(a){const g=new i;for(const P of a)g.add((0,n.stringToBytes)(P));return this.compileIndex(g)}compileCharStrings(a){const g=new i;for(let P=0;P<a.count;P++){const G=a.get(P);if(G.length===0){g.add(new Uint8Array([139,14]));continue}g.add(G)}return this.compileIndex(g)}compileCharset(a,g,P,G){let D;const w=g-1;if(G)D=new Uint8Array([2,0,0,w>>8&255,w&255]);else{const A=1+w*2;D=new Uint8Array(A),D[0]=0;let v=0;const o=a.charset.length;let y=!1;for(let c=1;c<D.length;c+=2){let h=0;if(v<o){const O=a.charset[v++];h=P.getSID(O),h===-1&&(h=0,y||(y=!0,(0,n.warn)(`Couldn't find ${O} in CFF strings`)))}D[c]=h>>8&255,D[c+1]=h&255}}return this.compileTypedArray(D)}compileEncoding(a){return this.compileTypedArray(a.raw)}compileFDSelect(a){const g=a.format;let P,G;switch(g){case 0:for(P=new Uint8Array(1+a.fdSelect.length),P[0]=g,G=0;G<a.fdSelect.length;G++)P[G+1]=a.fdSelect[G];break;case 3:const D=0;let w=a.fdSelect[0];const A=[g,0,0,D>>8&255,D&255,w];for(G=1;G<a.fdSelect.length;G++){const o=a.fdSelect[G];o!==w&&(A.push(G>>8&255,G&255,o),w=o)}const v=(A.length-3)/3;A[1]=v>>8&255,A[2]=v&255,A.push(G>>8&255,G&255),P=new Uint8Array(A);break}return this.compileTypedArray(P)}compileTypedArray(a){return Array.from(a)}compileIndex(a,g=[]){const P=a.objects,G=P.length;if(G===0)return[0,0];const D=[G>>8&255,G&255];let w=1,A;for(A=0;A<G;++A)w+=P[A].length;let v;w<256?v=1:w<65536?v=2:w<16777216?v=3:v=4,D.push(v);let o=1;for(A=0;A<G+1;A++)v===1?D.push(o&255):v===2?D.push(o>>8&255,o&255):v===3?D.push(o>>16&255,o>>8&255,o&255):D.push(o>>>24&255,o>>16&255,o>>8&255,o&255),P[A]&&(o+=P[A].length);for(A=0;A<G;A++)g[A]&&g[A].offset(D.length),D.push(...P[A]);return D}}m.CFFCompiler=x},(xe,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.ISOAdobeCharset=m.ExpertSubsetCharset=m.ExpertCharset=void 0;const Q=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"];m.ISOAdobeCharset=Q;const n=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];m.ExpertCharset=n;const S=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"];m.ExpertSubsetCharset=S},(xe,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.ZapfDingbatsEncoding=m.WinAnsiEncoding=m.SymbolSetEncoding=m.StandardEncoding=m.MacRomanEncoding=m.ExpertEncoding=void 0,m.getEncoding=z;const Q=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];m.ExpertEncoding=Q;const n=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],S=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];m.MacRomanEncoding=S;const N=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];m.StandardEncoding=N;const e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];m.WinAnsiEncoding=e;const t=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];m.SymbolSetEncoding=t;const r=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];m.ZapfDingbatsEncoding=r;function z(j){switch(j){case"WinAnsiEncoding":return e;case"StandardEncoding":return N;case"MacRomanEncoding":return S;case"SymbolSetEncoding":return t;case"ZapfDingbatsEncoding":return r;case"ExpertEncoding":return Q;case"MacExpertEncoding":return n;default:return null}}},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.SEAC_ANALYSIS_ENABLED=m.MacStandardGlyphOrdering=m.FontFlags=void 0,m.normalizeFontName=I,m.recoverGlyphName=j,m.type1FontGlyphMapping=M;var n=Q(37),S=Q(39),N=Q(40),e=Q(2);const t=!0;m.SEAC_ANALYSIS_ENABLED=t;const r={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};m.FontFlags=r;const z=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];m.MacStandardGlyphOrdering=z;function j(d,u){if(u[d]!==void 0)return d;const i=(0,N.getUnicodeForGlyph)(d,u);if(i!==-1){for(const F in u)if(u[F]===i)return F}return(0,e.info)("Unable to recover a standard glyph name for: "+d),d}function M(d,u,i){const F=Object.create(null);let C,T,b;const L=!!(d.flags&r.Symbolic);if(d.isInternalFont)for(b=u,T=0;T<b.length;T++)C=i.indexOf(b[T]),F[T]=C>=0?C:0;else if(d.baseEncodingName)for(b=(0,n.getEncoding)(d.baseEncodingName),T=0;T<b.length;T++)C=i.indexOf(b[T]),F[T]=C>=0?C:0;else if(L)for(T in u)F[T]=u[T];else for(b=n.StandardEncoding,T=0;T<b.length;T++)C=i.indexOf(b[T]),F[T]=C>=0?C:0;const B=d.differences;let V;if(B)for(T in B){const k=B[T];if(C=i.indexOf(k),C===-1){V||(V=(0,S.getGlyphsUnicode)());const _=j(k,V);_!==k&&(C=i.indexOf(_))}F[T]=C>=0?C:0}return F}function I(d){return d.replaceAll(/[,_]/g,"-").replaceAll(/\s/g,"")}},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.getGlyphsUnicode=m.getDingbatsGlyphsUnicode=void 0;var n=Q(3);const S=(0,n.getLookupTableFactory)(function(e){e.A=65,e.AE=198,e.AEacute=508,e.AEmacron=482,e.AEsmall=63462,e.Aacute=193,e.Aacutesmall=63457,e.Abreve=258,e.Abreveacute=7854,e.Abrevecyrillic=1232,e.Abrevedotbelow=7862,e.Abrevegrave=7856,e.Abrevehookabove=7858,e.Abrevetilde=7860,e.Acaron=461,e.Acircle=9398,e.Acircumflex=194,e.Acircumflexacute=7844,e.Acircumflexdotbelow=7852,e.Acircumflexgrave=7846,e.Acircumflexhookabove=7848,e.Acircumflexsmall=63458,e.Acircumflextilde=7850,e.Acute=63177,e.Acutesmall=63412,e.Acyrillic=1040,e.Adblgrave=512,e.Adieresis=196,e.Adieresiscyrillic=1234,e.Adieresismacron=478,e.Adieresissmall=63460,e.Adotbelow=7840,e.Adotmacron=480,e.Agrave=192,e.Agravesmall=63456,e.Ahookabove=7842,e.Aiecyrillic=1236,e.Ainvertedbreve=514,e.Alpha=913,e.Alphatonos=902,e.Amacron=256,e.Amonospace=65313,e.Aogonek=260,e.Aring=197,e.Aringacute=506,e.Aringbelow=7680,e.Aringsmall=63461,e.Asmall=63329,e.Atilde=195,e.Atildesmall=63459,e.Aybarmenian=1329,e.B=66,e.Bcircle=9399,e.Bdotaccent=7682,e.Bdotbelow=7684,e.Becyrillic=1041,e.Benarmenian=1330,e.Beta=914,e.Bhook=385,e.Blinebelow=7686,e.Bmonospace=65314,e.Brevesmall=63220,e.Bsmall=63330,e.Btopbar=386,e.C=67,e.Caarmenian=1342,e.Cacute=262,e.Caron=63178,e.Caronsmall=63221,e.Ccaron=268,e.Ccedilla=199,e.Ccedillaacute=7688,e.Ccedillasmall=63463,e.Ccircle=9400,e.Ccircumflex=264,e.Cdot=266,e.Cdotaccent=266,e.Cedillasmall=63416,e.Chaarmenian=1353,e.Cheabkhasiancyrillic=1212,e.Checyrillic=1063,e.Chedescenderabkhasiancyrillic=1214,e.Chedescendercyrillic=1206,e.Chedieresiscyrillic=1268,e.Cheharmenian=1347,e.Chekhakassiancyrillic=1227,e.Cheverticalstrokecyrillic=1208,e.Chi=935,e.Chook=391,e.Circumflexsmall=63222,e.Cmonospace=65315,e.Coarmenian=1361,e.Csmall=63331,e.D=68,e.DZ=497,e.DZcaron=452,e.Daarmenian=1332,e.Dafrican=393,e.Dcaron=270,e.Dcedilla=7696,e.Dcircle=9401,e.Dcircumflexbelow=7698,e.Dcroat=272,e.Ddotaccent=7690,e.Ddotbelow=7692,e.Decyrillic=1044,e.Deicoptic=1006,e.Delta=8710,e.Deltagreek=916,e.Dhook=394,e.Dieresis=63179,e.DieresisAcute=63180,e.DieresisGrave=63181,e.Dieresissmall=63400,e.Digammagreek=988,e.Djecyrillic=1026,e.Dlinebelow=7694,e.Dmonospace=65316,e.Dotaccentsmall=63223,e.Dslash=272,e.Dsmall=63332,e.Dtopbar=395,e.Dz=498,e.Dzcaron=453,e.Dzeabkhasiancyrillic=1248,e.Dzecyrillic=1029,e.Dzhecyrillic=1039,e.E=69,e.Eacute=201,e.Eacutesmall=63465,e.Ebreve=276,e.Ecaron=282,e.Ecedillabreve=7708,e.Echarmenian=1333,e.Ecircle=9402,e.Ecircumflex=202,e.Ecircumflexacute=7870,e.Ecircumflexbelow=7704,e.Ecircumflexdotbelow=7878,e.Ecircumflexgrave=7872,e.Ecircumflexhookabove=7874,e.Ecircumflexsmall=63466,e.Ecircumflextilde=7876,e.Ecyrillic=1028,e.Edblgrave=516,e.Edieresis=203,e.Edieresissmall=63467,e.Edot=278,e.Edotaccent=278,e.Edotbelow=7864,e.Efcyrillic=1060,e.Egrave=200,e.Egravesmall=63464,e.Eharmenian=1335,e.Ehookabove=7866,e.Eightroman=8551,e.Einvertedbreve=518,e.Eiotifiedcyrillic=1124,e.Elcyrillic=1051,e.Elevenroman=8554,e.Emacron=274,e.Emacronacute=7702,e.Emacrongrave=7700,e.Emcyrillic=1052,e.Emonospace=65317,e.Encyrillic=1053,e.Endescendercyrillic=1186,e.Eng=330,e.Enghecyrillic=1188,e.Enhookcyrillic=1223,e.Eogonek=280,e.Eopen=400,e.Epsilon=917,e.Epsilontonos=904,e.Ercyrillic=1056,e.Ereversed=398,e.Ereversedcyrillic=1069,e.Escyrillic=1057,e.Esdescendercyrillic=1194,e.Esh=425,e.Esmall=63333,e.Eta=919,e.Etarmenian=1336,e.Etatonos=905,e.Eth=208,e.Ethsmall=63472,e.Etilde=7868,e.Etildebelow=7706,e.Euro=8364,e.Ezh=439,e.Ezhcaron=494,e.Ezhreversed=440,e.F=70,e.Fcircle=9403,e.Fdotaccent=7710,e.Feharmenian=1366,e.Feicoptic=996,e.Fhook=401,e.Fitacyrillic=1138,e.Fiveroman=8548,e.Fmonospace=65318,e.Fourroman=8547,e.Fsmall=63334,e.G=71,e.GBsquare=13191,e.Gacute=500,e.Gamma=915,e.Gammaafrican=404,e.Gangiacoptic=1002,e.Gbreve=286,e.Gcaron=486,e.Gcedilla=290,e.Gcircle=9404,e.Gcircumflex=284,e.Gcommaaccent=290,e.Gdot=288,e.Gdotaccent=288,e.Gecyrillic=1043,e.Ghadarmenian=1346,e.Ghemiddlehookcyrillic=1172,e.Ghestrokecyrillic=1170,e.Gheupturncyrillic=1168,e.Ghook=403,e.Gimarmenian=1331,e.Gjecyrillic=1027,e.Gmacron=7712,e.Gmonospace=65319,e.Grave=63182,e.Gravesmall=63328,e.Gsmall=63335,e.Gsmallhook=667,e.Gstroke=484,e.H=72,e.H18533=9679,e.H18543=9642,e.H18551=9643,e.H22073=9633,e.HPsquare=13259,e.Haabkhasiancyrillic=1192,e.Hadescendercyrillic=1202,e.Hardsigncyrillic=1066,e.Hbar=294,e.Hbrevebelow=7722,e.Hcedilla=7720,e.Hcircle=9405,e.Hcircumflex=292,e.Hdieresis=7718,e.Hdotaccent=7714,e.Hdotbelow=7716,e.Hmonospace=65320,e.Hoarmenian=1344,e.Horicoptic=1e3,e.Hsmall=63336,e.Hungarumlaut=63183,e.Hungarumlautsmall=63224,e.Hzsquare=13200,e.I=73,e.IAcyrillic=1071,e.IJ=306,e.IUcyrillic=1070,e.Iacute=205,e.Iacutesmall=63469,e.Ibreve=300,e.Icaron=463,e.Icircle=9406,e.Icircumflex=206,e.Icircumflexsmall=63470,e.Icyrillic=1030,e.Idblgrave=520,e.Idieresis=207,e.Idieresisacute=7726,e.Idieresiscyrillic=1252,e.Idieresissmall=63471,e.Idot=304,e.Idotaccent=304,e.Idotbelow=7882,e.Iebrevecyrillic=1238,e.Iecyrillic=1045,e.Ifraktur=8465,e.Igrave=204,e.Igravesmall=63468,e.Ihookabove=7880,e.Iicyrillic=1048,e.Iinvertedbreve=522,e.Iishortcyrillic=1049,e.Imacron=298,e.Imacroncyrillic=1250,e.Imonospace=65321,e.Iniarmenian=1339,e.Iocyrillic=1025,e.Iogonek=302,e.Iota=921,e.Iotaafrican=406,e.Iotadieresis=938,e.Iotatonos=906,e.Ismall=63337,e.Istroke=407,e.Itilde=296,e.Itildebelow=7724,e.Izhitsacyrillic=1140,e.Izhitsadblgravecyrillic=1142,e.J=74,e.Jaarmenian=1345,e.Jcircle=9407,e.Jcircumflex=308,e.Jecyrillic=1032,e.Jheharmenian=1355,e.Jmonospace=65322,e.Jsmall=63338,e.K=75,e.KBsquare=13189,e.KKsquare=13261,e.Kabashkircyrillic=1184,e.Kacute=7728,e.Kacyrillic=1050,e.Kadescendercyrillic=1178,e.Kahookcyrillic=1219,e.Kappa=922,e.Kastrokecyrillic=1182,e.Kaverticalstrokecyrillic=1180,e.Kcaron=488,e.Kcedilla=310,e.Kcircle=9408,e.Kcommaaccent=310,e.Kdotbelow=7730,e.Keharmenian=1364,e.Kenarmenian=1343,e.Khacyrillic=1061,e.Kheicoptic=998,e.Khook=408,e.Kjecyrillic=1036,e.Klinebelow=7732,e.Kmonospace=65323,e.Koppacyrillic=1152,e.Koppagreek=990,e.Ksicyrillic=1134,e.Ksmall=63339,e.L=76,e.LJ=455,e.LL=63167,e.Lacute=313,e.Lambda=923,e.Lcaron=317,e.Lcedilla=315,e.Lcircle=9409,e.Lcircumflexbelow=7740,e.Lcommaaccent=315,e.Ldot=319,e.Ldotaccent=319,e.Ldotbelow=7734,e.Ldotbelowmacron=7736,e.Liwnarmenian=1340,e.Lj=456,e.Ljecyrillic=1033,e.Llinebelow=7738,e.Lmonospace=65324,e.Lslash=321,e.Lslashsmall=63225,e.Lsmall=63340,e.M=77,e.MBsquare=13190,e.Macron=63184,e.Macronsmall=63407,e.Macute=7742,e.Mcircle=9410,e.Mdotaccent=7744,e.Mdotbelow=7746,e.Menarmenian=1348,e.Mmonospace=65325,e.Msmall=63341,e.Mturned=412,e.Mu=924,e.N=78,e.NJ=458,e.Nacute=323,e.Ncaron=327,e.Ncedilla=325,e.Ncircle=9411,e.Ncircumflexbelow=7754,e.Ncommaaccent=325,e.Ndotaccent=7748,e.Ndotbelow=7750,e.Nhookleft=413,e.Nineroman=8552,e.Nj=459,e.Njecyrillic=1034,e.Nlinebelow=7752,e.Nmonospace=65326,e.Nowarmenian=1350,e.Nsmall=63342,e.Ntilde=209,e.Ntildesmall=63473,e.Nu=925,e.O=79,e.OE=338,e.OEsmall=63226,e.Oacute=211,e.Oacutesmall=63475,e.Obarredcyrillic=1256,e.Obarreddieresiscyrillic=1258,e.Obreve=334,e.Ocaron=465,e.Ocenteredtilde=415,e.Ocircle=9412,e.Ocircumflex=212,e.Ocircumflexacute=7888,e.Ocircumflexdotbelow=7896,e.Ocircumflexgrave=7890,e.Ocircumflexhookabove=7892,e.Ocircumflexsmall=63476,e.Ocircumflextilde=7894,e.Ocyrillic=1054,e.Odblacute=336,e.Odblgrave=524,e.Odieresis=214,e.Odieresiscyrillic=1254,e.Odieresissmall=63478,e.Odotbelow=7884,e.Ogoneksmall=63227,e.Ograve=210,e.Ogravesmall=63474,e.Oharmenian=1365,e.Ohm=8486,e.Ohookabove=7886,e.Ohorn=416,e.Ohornacute=7898,e.Ohorndotbelow=7906,e.Ohorngrave=7900,e.Ohornhookabove=7902,e.Ohorntilde=7904,e.Ohungarumlaut=336,e.Oi=418,e.Oinvertedbreve=526,e.Omacron=332,e.Omacronacute=7762,e.Omacrongrave=7760,e.Omega=8486,e.Omegacyrillic=1120,e.Omegagreek=937,e.Omegaroundcyrillic=1146,e.Omegatitlocyrillic=1148,e.Omegatonos=911,e.Omicron=927,e.Omicrontonos=908,e.Omonospace=65327,e.Oneroman=8544,e.Oogonek=490,e.Oogonekmacron=492,e.Oopen=390,e.Oslash=216,e.Oslashacute=510,e.Oslashsmall=63480,e.Osmall=63343,e.Ostrokeacute=510,e.Otcyrillic=1150,e.Otilde=213,e.Otildeacute=7756,e.Otildedieresis=7758,e.Otildesmall=63477,e.P=80,e.Pacute=7764,e.Pcircle=9413,e.Pdotaccent=7766,e.Pecyrillic=1055,e.Peharmenian=1354,e.Pemiddlehookcyrillic=1190,e.Phi=934,e.Phook=420,e.Pi=928,e.Piwrarmenian=1363,e.Pmonospace=65328,e.Psi=936,e.Psicyrillic=1136,e.Psmall=63344,e.Q=81,e.Qcircle=9414,e.Qmonospace=65329,e.Qsmall=63345,e.R=82,e.Raarmenian=1356,e.Racute=340,e.Rcaron=344,e.Rcedilla=342,e.Rcircle=9415,e.Rcommaaccent=342,e.Rdblgrave=528,e.Rdotaccent=7768,e.Rdotbelow=7770,e.Rdotbelowmacron=7772,e.Reharmenian=1360,e.Rfraktur=8476,e.Rho=929,e.Ringsmall=63228,e.Rinvertedbreve=530,e.Rlinebelow=7774,e.Rmonospace=65330,e.Rsmall=63346,e.Rsmallinverted=641,e.Rsmallinvertedsuperior=694,e.S=83,e.SF010000=9484,e.SF020000=9492,e.SF030000=9488,e.SF040000=9496,e.SF050000=9532,e.SF060000=9516,e.SF070000=9524,e.SF080000=9500,e.SF090000=9508,e.SF100000=9472,e.SF110000=9474,e.SF190000=9569,e.SF200000=9570,e.SF210000=9558,e.SF220000=9557,e.SF230000=9571,e.SF240000=9553,e.SF250000=9559,e.SF260000=9565,e.SF270000=9564,e.SF280000=9563,e.SF360000=9566,e.SF370000=9567,e.SF380000=9562,e.SF390000=9556,e.SF400000=9577,e.SF410000=9574,e.SF420000=9568,e.SF430000=9552,e.SF440000=9580,e.SF450000=9575,e.SF460000=9576,e.SF470000=9572,e.SF480000=9573,e.SF490000=9561,e.SF500000=9560,e.SF510000=9554,e.SF520000=9555,e.SF530000=9579,e.SF540000=9578,e.Sacute=346,e.Sacutedotaccent=7780,e.Sampigreek=992,e.Scaron=352,e.Scarondotaccent=7782,e.Scaronsmall=63229,e.Scedilla=350,e.Schwa=399,e.Schwacyrillic=1240,e.Schwadieresiscyrillic=1242,e.Scircle=9416,e.Scircumflex=348,e.Scommaaccent=536,e.Sdotaccent=7776,e.Sdotbelow=7778,e.Sdotbelowdotaccent=7784,e.Seharmenian=1357,e.Sevenroman=8550,e.Shaarmenian=1351,e.Shacyrillic=1064,e.Shchacyrillic=1065,e.Sheicoptic=994,e.Shhacyrillic=1210,e.Shimacoptic=1004,e.Sigma=931,e.Sixroman=8549,e.Smonospace=65331,e.Softsigncyrillic=1068,e.Ssmall=63347,e.Stigmagreek=986,e.T=84,e.Tau=932,e.Tbar=358,e.Tcaron=356,e.Tcedilla=354,e.Tcircle=9417,e.Tcircumflexbelow=7792,e.Tcommaaccent=354,e.Tdotaccent=7786,e.Tdotbelow=7788,e.Tecyrillic=1058,e.Tedescendercyrillic=1196,e.Tenroman=8553,e.Tetsecyrillic=1204,e.Theta=920,e.Thook=428,e.Thorn=222,e.Thornsmall=63486,e.Threeroman=8546,e.Tildesmall=63230,e.Tiwnarmenian=1359,e.Tlinebelow=7790,e.Tmonospace=65332,e.Toarmenian=1337,e.Tonefive=444,e.Tonesix=388,e.Tonetwo=423,e.Tretroflexhook=430,e.Tsecyrillic=1062,e.Tshecyrillic=1035,e.Tsmall=63348,e.Twelveroman=8555,e.Tworoman=8545,e.U=85,e.Uacute=218,e.Uacutesmall=63482,e.Ubreve=364,e.Ucaron=467,e.Ucircle=9418,e.Ucircumflex=219,e.Ucircumflexbelow=7798,e.Ucircumflexsmall=63483,e.Ucyrillic=1059,e.Udblacute=368,e.Udblgrave=532,e.Udieresis=220,e.Udieresisacute=471,e.Udieresisbelow=7794,e.Udieresiscaron=473,e.Udieresiscyrillic=1264,e.Udieresisgrave=475,e.Udieresismacron=469,e.Udieresissmall=63484,e.Udotbelow=7908,e.Ugrave=217,e.Ugravesmall=63481,e.Uhookabove=7910,e.Uhorn=431,e.Uhornacute=7912,e.Uhorndotbelow=7920,e.Uhorngrave=7914,e.Uhornhookabove=7916,e.Uhorntilde=7918,e.Uhungarumlaut=368,e.Uhungarumlautcyrillic=1266,e.Uinvertedbreve=534,e.Ukcyrillic=1144,e.Umacron=362,e.Umacroncyrillic=1262,e.Umacrondieresis=7802,e.Umonospace=65333,e.Uogonek=370,e.Upsilon=933,e.Upsilon1=978,e.Upsilonacutehooksymbolgreek=979,e.Upsilonafrican=433,e.Upsilondieresis=939,e.Upsilondieresishooksymbolgreek=980,e.Upsilonhooksymbol=978,e.Upsilontonos=910,e.Uring=366,e.Ushortcyrillic=1038,e.Usmall=63349,e.Ustraightcyrillic=1198,e.Ustraightstrokecyrillic=1200,e.Utilde=360,e.Utildeacute=7800,e.Utildebelow=7796,e.V=86,e.Vcircle=9419,e.Vdotbelow=7806,e.Vecyrillic=1042,e.Vewarmenian=1358,e.Vhook=434,e.Vmonospace=65334,e.Voarmenian=1352,e.Vsmall=63350,e.Vtilde=7804,e.W=87,e.Wacute=7810,e.Wcircle=9420,e.Wcircumflex=372,e.Wdieresis=7812,e.Wdotaccent=7814,e.Wdotbelow=7816,e.Wgrave=7808,e.Wmonospace=65335,e.Wsmall=63351,e.X=88,e.Xcircle=9421,e.Xdieresis=7820,e.Xdotaccent=7818,e.Xeharmenian=1341,e.Xi=926,e.Xmonospace=65336,e.Xsmall=63352,e.Y=89,e.Yacute=221,e.Yacutesmall=63485,e.Yatcyrillic=1122,e.Ycircle=9422,e.Ycircumflex=374,e.Ydieresis=376,e.Ydieresissmall=63487,e.Ydotaccent=7822,e.Ydotbelow=7924,e.Yericyrillic=1067,e.Yerudieresiscyrillic=1272,e.Ygrave=7922,e.Yhook=435,e.Yhookabove=7926,e.Yiarmenian=1349,e.Yicyrillic=1031,e.Yiwnarmenian=1362,e.Ymonospace=65337,e.Ysmall=63353,e.Ytilde=7928,e.Yusbigcyrillic=1130,e.Yusbigiotifiedcyrillic=1132,e.Yuslittlecyrillic=1126,e.Yuslittleiotifiedcyrillic=1128,e.Z=90,e.Zaarmenian=1334,e.Zacute=377,e.Zcaron=381,e.Zcaronsmall=63231,e.Zcircle=9423,e.Zcircumflex=7824,e.Zdot=379,e.Zdotaccent=379,e.Zdotbelow=7826,e.Zecyrillic=1047,e.Zedescendercyrillic=1176,e.Zedieresiscyrillic=1246,e.Zeta=918,e.Zhearmenian=1338,e.Zhebrevecyrillic=1217,e.Zhecyrillic=1046,e.Zhedescendercyrillic=1174,e.Zhedieresiscyrillic=1244,e.Zlinebelow=7828,e.Zmonospace=65338,e.Zsmall=63354,e.Zstroke=437,e.a=97,e.aabengali=2438,e.aacute=225,e.aadeva=2310,e.aagujarati=2694,e.aagurmukhi=2566,e.aamatragurmukhi=2622,e.aarusquare=13059,e.aavowelsignbengali=2494,e.aavowelsigndeva=2366,e.aavowelsigngujarati=2750,e.abbreviationmarkarmenian=1375,e.abbreviationsigndeva=2416,e.abengali=2437,e.abopomofo=12570,e.abreve=259,e.abreveacute=7855,e.abrevecyrillic=1233,e.abrevedotbelow=7863,e.abrevegrave=7857,e.abrevehookabove=7859,e.abrevetilde=7861,e.acaron=462,e.acircle=9424,e.acircumflex=226,e.acircumflexacute=7845,e.acircumflexdotbelow=7853,e.acircumflexgrave=7847,e.acircumflexhookabove=7849,e.acircumflextilde=7851,e.acute=180,e.acutebelowcmb=791,e.acutecmb=769,e.acutecomb=769,e.acutedeva=2388,e.acutelowmod=719,e.acutetonecmb=833,e.acyrillic=1072,e.adblgrave=513,e.addakgurmukhi=2673,e.adeva=2309,e.adieresis=228,e.adieresiscyrillic=1235,e.adieresismacron=479,e.adotbelow=7841,e.adotmacron=481,e.ae=230,e.aeacute=509,e.aekorean=12624,e.aemacron=483,e.afii00208=8213,e.afii08941=8356,e.afii10017=1040,e.afii10018=1041,e.afii10019=1042,e.afii10020=1043,e.afii10021=1044,e.afii10022=1045,e.afii10023=1025,e.afii10024=1046,e.afii10025=1047,e.afii10026=1048,e.afii10027=1049,e.afii10028=1050,e.afii10029=1051,e.afii10030=1052,e.afii10031=1053,e.afii10032=1054,e.afii10033=1055,e.afii10034=1056,e.afii10035=1057,e.afii10036=1058,e.afii10037=1059,e.afii10038=1060,e.afii10039=1061,e.afii10040=1062,e.afii10041=1063,e.afii10042=1064,e.afii10043=1065,e.afii10044=1066,e.afii10045=1067,e.afii10046=1068,e.afii10047=1069,e.afii10048=1070,e.afii10049=1071,e.afii10050=1168,e.afii10051=1026,e.afii10052=1027,e.afii10053=1028,e.afii10054=1029,e.afii10055=1030,e.afii10056=1031,e.afii10057=1032,e.afii10058=1033,e.afii10059=1034,e.afii10060=1035,e.afii10061=1036,e.afii10062=1038,e.afii10063=63172,e.afii10064=63173,e.afii10065=1072,e.afii10066=1073,e.afii10067=1074,e.afii10068=1075,e.afii10069=1076,e.afii10070=1077,e.afii10071=1105,e.afii10072=1078,e.afii10073=1079,e.afii10074=1080,e.afii10075=1081,e.afii10076=1082,e.afii10077=1083,e.afii10078=1084,e.afii10079=1085,e.afii10080=1086,e.afii10081=1087,e.afii10082=1088,e.afii10083=1089,e.afii10084=1090,e.afii10085=1091,e.afii10086=1092,e.afii10087=1093,e.afii10088=1094,e.afii10089=1095,e.afii10090=1096,e.afii10091=1097,e.afii10092=1098,e.afii10093=1099,e.afii10094=1100,e.afii10095=1101,e.afii10096=1102,e.afii10097=1103,e.afii10098=1169,e.afii10099=1106,e.afii10100=1107,e.afii10101=1108,e.afii10102=1109,e.afii10103=1110,e.afii10104=1111,e.afii10105=1112,e.afii10106=1113,e.afii10107=1114,e.afii10108=1115,e.afii10109=1116,e.afii10110=1118,e.afii10145=1039,e.afii10146=1122,e.afii10147=1138,e.afii10148=1140,e.afii10192=63174,e.afii10193=1119,e.afii10194=1123,e.afii10195=1139,e.afii10196=1141,e.afii10831=63175,e.afii10832=63176,e.afii10846=1241,e.afii299=8206,e.afii300=8207,e.afii301=8205,e.afii57381=1642,e.afii57388=1548,e.afii57392=1632,e.afii57393=1633,e.afii57394=1634,e.afii57395=1635,e.afii57396=1636,e.afii57397=1637,e.afii57398=1638,e.afii57399=1639,e.afii57400=1640,e.afii57401=1641,e.afii57403=1563,e.afii57407=1567,e.afii57409=1569,e.afii57410=1570,e.afii57411=1571,e.afii57412=1572,e.afii57413=1573,e.afii57414=1574,e.afii57415=1575,e.afii57416=1576,e.afii57417=1577,e.afii57418=1578,e.afii57419=1579,e.afii57420=1580,e.afii57421=1581,e.afii57422=1582,e.afii57423=1583,e.afii57424=1584,e.afii57425=1585,e.afii57426=1586,e.afii57427=1587,e.afii57428=1588,e.afii57429=1589,e.afii57430=1590,e.afii57431=1591,e.afii57432=1592,e.afii57433=1593,e.afii57434=1594,e.afii57440=1600,e.afii57441=1601,e.afii57442=1602,e.afii57443=1603,e.afii57444=1604,e.afii57445=1605,e.afii57446=1606,e.afii57448=1608,e.afii57449=1609,e.afii57450=1610,e.afii57451=1611,e.afii57452=1612,e.afii57453=1613,e.afii57454=1614,e.afii57455=1615,e.afii57456=1616,e.afii57457=1617,e.afii57458=1618,e.afii57470=1607,e.afii57505=1700,e.afii57506=1662,e.afii57507=1670,e.afii57508=1688,e.afii57509=1711,e.afii57511=1657,e.afii57512=1672,e.afii57513=1681,e.afii57514=1722,e.afii57519=1746,e.afii57534=1749,e.afii57636=8362,e.afii57645=1470,e.afii57658=1475,e.afii57664=1488,e.afii57665=1489,e.afii57666=1490,e.afii57667=1491,e.afii57668=1492,e.afii57669=1493,e.afii57670=1494,e.afii57671=1495,e.afii57672=1496,e.afii57673=1497,e.afii57674=1498,e.afii57675=1499,e.afii57676=1500,e.afii57677=1501,e.afii57678=1502,e.afii57679=1503,e.afii57680=1504,e.afii57681=1505,e.afii57682=1506,e.afii57683=1507,e.afii57684=1508,e.afii57685=1509,e.afii57686=1510,e.afii57687=1511,e.afii57688=1512,e.afii57689=1513,e.afii57690=1514,e.afii57694=64298,e.afii57695=64299,e.afii57700=64331,e.afii57705=64287,e.afii57716=1520,e.afii57717=1521,e.afii57718=1522,e.afii57723=64309,e.afii57793=1460,e.afii57794=1461,e.afii57795=1462,e.afii57796=1467,e.afii57797=1464,e.afii57798=1463,e.afii57799=1456,e.afii57800=1458,e.afii57801=1457,e.afii57802=1459,e.afii57803=1474,e.afii57804=1473,e.afii57806=1465,e.afii57807=1468,e.afii57839=1469,e.afii57841=1471,e.afii57842=1472,e.afii57929=700,e.afii61248=8453,e.afii61289=8467,e.afii61352=8470,e.afii61573=8236,e.afii61574=8237,e.afii61575=8238,e.afii61664=8204,e.afii63167=1645,e.afii64937=701,e.agrave=224,e.agujarati=2693,e.agurmukhi=2565,e.ahiragana=12354,e.ahookabove=7843,e.aibengali=2448,e.aibopomofo=12574,e.aideva=2320,e.aiecyrillic=1237,e.aigujarati=2704,e.aigurmukhi=2576,e.aimatragurmukhi=2632,e.ainarabic=1593,e.ainfinalarabic=65226,e.aininitialarabic=65227,e.ainmedialarabic=65228,e.ainvertedbreve=515,e.aivowelsignbengali=2504,e.aivowelsigndeva=2376,e.aivowelsigngujarati=2760,e.akatakana=12450,e.akatakanahalfwidth=65393,e.akorean=12623,e.alef=1488,e.alefarabic=1575,e.alefdageshhebrew=64304,e.aleffinalarabic=65166,e.alefhamzaabovearabic=1571,e.alefhamzaabovefinalarabic=65156,e.alefhamzabelowarabic=1573,e.alefhamzabelowfinalarabic=65160,e.alefhebrew=1488,e.aleflamedhebrew=64335,e.alefmaddaabovearabic=1570,e.alefmaddaabovefinalarabic=65154,e.alefmaksuraarabic=1609,e.alefmaksurafinalarabic=65264,e.alefmaksurainitialarabic=65267,e.alefmaksuramedialarabic=65268,e.alefpatahhebrew=64302,e.alefqamatshebrew=64303,e.aleph=8501,e.allequal=8780,e.alpha=945,e.alphatonos=940,e.amacron=257,e.amonospace=65345,e.ampersand=38,e.ampersandmonospace=65286,e.ampersandsmall=63270,e.amsquare=13250,e.anbopomofo=12578,e.angbopomofo=12580,e.angbracketleft=12296,e.angbracketright=12297,e.angkhankhuthai=3674,e.angle=8736,e.anglebracketleft=12296,e.anglebracketleftvertical=65087,e.anglebracketright=12297,e.anglebracketrightvertical=65088,e.angleleft=9001,e.angleright=9002,e.angstrom=8491,e.anoteleia=903,e.anudattadeva=2386,e.anusvarabengali=2434,e.anusvaradeva=2306,e.anusvaragujarati=2690,e.aogonek=261,e.apaatosquare=13056,e.aparen=9372,e.apostrophearmenian=1370,e.apostrophemod=700,e.apple=63743,e.approaches=8784,e.approxequal=8776,e.approxequalorimage=8786,e.approximatelyequal=8773,e.araeaekorean=12686,e.araeakorean=12685,e.arc=8978,e.arighthalfring=7834,e.aring=229,e.aringacute=507,e.aringbelow=7681,e.arrowboth=8596,e.arrowdashdown=8675,e.arrowdashleft=8672,e.arrowdashright=8674,e.arrowdashup=8673,e.arrowdblboth=8660,e.arrowdbldown=8659,e.arrowdblleft=8656,e.arrowdblright=8658,e.arrowdblup=8657,e.arrowdown=8595,e.arrowdownleft=8601,e.arrowdownright=8600,e.arrowdownwhite=8681,e.arrowheaddownmod=709,e.arrowheadleftmod=706,e.arrowheadrightmod=707,e.arrowheadupmod=708,e.arrowhorizex=63719,e.arrowleft=8592,e.arrowleftdbl=8656,e.arrowleftdblstroke=8653,e.arrowleftoverright=8646,e.arrowleftwhite=8678,e.arrowright=8594,e.arrowrightdblstroke=8655,e.arrowrightheavy=10142,e.arrowrightoverleft=8644,e.arrowrightwhite=8680,e.arrowtableft=8676,e.arrowtabright=8677,e.arrowup=8593,e.arrowupdn=8597,e.arrowupdnbse=8616,e.arrowupdownbase=8616,e.arrowupleft=8598,e.arrowupleftofdown=8645,e.arrowupright=8599,e.arrowupwhite=8679,e.arrowvertex=63718,e.asciicircum=94,e.asciicircummonospace=65342,e.asciitilde=126,e.asciitildemonospace=65374,e.ascript=593,e.ascriptturned=594,e.asmallhiragana=12353,e.asmallkatakana=12449,e.asmallkatakanahalfwidth=65383,e.asterisk=42,e.asteriskaltonearabic=1645,e.asteriskarabic=1645,e.asteriskmath=8727,e.asteriskmonospace=65290,e.asterisksmall=65121,e.asterism=8258,e.asuperior=63209,e.asymptoticallyequal=8771,e.at=64,e.atilde=227,e.atmonospace=65312,e.atsmall=65131,e.aturned=592,e.aubengali=2452,e.aubopomofo=12576,e.audeva=2324,e.augujarati=2708,e.augurmukhi=2580,e.aulengthmarkbengali=2519,e.aumatragurmukhi=2636,e.auvowelsignbengali=2508,e.auvowelsigndeva=2380,e.auvowelsigngujarati=2764,e.avagrahadeva=2365,e.aybarmenian=1377,e.ayin=1506,e.ayinaltonehebrew=64288,e.ayinhebrew=1506,e.b=98,e.babengali=2476,e.backslash=92,e.backslashmonospace=65340,e.badeva=2348,e.bagujarati=2732,e.bagurmukhi=2604,e.bahiragana=12400,e.bahtthai=3647,e.bakatakana=12496,e.bar=124,e.barmonospace=65372,e.bbopomofo=12549,e.bcircle=9425,e.bdotaccent=7683,e.bdotbelow=7685,e.beamedsixteenthnotes=9836,e.because=8757,e.becyrillic=1073,e.beharabic=1576,e.behfinalarabic=65168,e.behinitialarabic=65169,e.behiragana=12409,e.behmedialarabic=65170,e.behmeeminitialarabic=64671,e.behmeemisolatedarabic=64520,e.behnoonfinalarabic=64621,e.bekatakana=12505,e.benarmenian=1378,e.bet=1489,e.beta=946,e.betasymbolgreek=976,e.betdagesh=64305,e.betdageshhebrew=64305,e.bethebrew=1489,e.betrafehebrew=64332,e.bhabengali=2477,e.bhadeva=2349,e.bhagujarati=2733,e.bhagurmukhi=2605,e.bhook=595,e.bihiragana=12403,e.bikatakana=12499,e.bilabialclick=664,e.bindigurmukhi=2562,e.birusquare=13105,e.blackcircle=9679,e.blackdiamond=9670,e.blackdownpointingtriangle=9660,e.blackleftpointingpointer=9668,e.blackleftpointingtriangle=9664,e.blacklenticularbracketleft=12304,e.blacklenticularbracketleftvertical=65083,e.blacklenticularbracketright=12305,e.blacklenticularbracketrightvertical=65084,e.blacklowerlefttriangle=9699,e.blacklowerrighttriangle=9698,e.blackrectangle=9644,e.blackrightpointingpointer=9658,e.blackrightpointingtriangle=9654,e.blacksmallsquare=9642,e.blacksmilingface=9787,e.blacksquare=9632,e.blackstar=9733,e.blackupperlefttriangle=9700,e.blackupperrighttriangle=9701,e.blackuppointingsmalltriangle=9652,e.blackuppointingtriangle=9650,e.blank=9251,e.blinebelow=7687,e.block=9608,e.bmonospace=65346,e.bobaimaithai=3610,e.bohiragana=12412,e.bokatakana=12508,e.bparen=9373,e.bqsquare=13251,e.braceex=63732,e.braceleft=123,e.braceleftbt=63731,e.braceleftmid=63730,e.braceleftmonospace=65371,e.braceleftsmall=65115,e.bracelefttp=63729,e.braceleftvertical=65079,e.braceright=125,e.bracerightbt=63742,e.bracerightmid=63741,e.bracerightmonospace=65373,e.bracerightsmall=65116,e.bracerighttp=63740,e.bracerightvertical=65080,e.bracketleft=91,e.bracketleftbt=63728,e.bracketleftex=63727,e.bracketleftmonospace=65339,e.bracketlefttp=63726,e.bracketright=93,e.bracketrightbt=63739,e.bracketrightex=63738,e.bracketrightmonospace=65341,e.bracketrighttp=63737,e.breve=728,e.brevebelowcmb=814,e.brevecmb=774,e.breveinvertedbelowcmb=815,e.breveinvertedcmb=785,e.breveinverteddoublecmb=865,e.bridgebelowcmb=810,e.bridgeinvertedbelowcmb=826,e.brokenbar=166,e.bstroke=384,e.bsuperior=63210,e.btopbar=387,e.buhiragana=12406,e.bukatakana=12502,e.bullet=8226,e.bulletinverse=9688,e.bulletoperator=8729,e.bullseye=9678,e.c=99,e.caarmenian=1390,e.cabengali=2458,e.cacute=263,e.cadeva=2330,e.cagujarati=2714,e.cagurmukhi=2586,e.calsquare=13192,e.candrabindubengali=2433,e.candrabinducmb=784,e.candrabindudeva=2305,e.candrabindugujarati=2689,e.capslock=8682,e.careof=8453,e.caron=711,e.caronbelowcmb=812,e.caroncmb=780,e.carriagereturn=8629,e.cbopomofo=12568,e.ccaron=269,e.ccedilla=231,e.ccedillaacute=7689,e.ccircle=9426,e.ccircumflex=265,e.ccurl=597,e.cdot=267,e.cdotaccent=267,e.cdsquare=13253,e.cedilla=184,e.cedillacmb=807,e.cent=162,e.centigrade=8451,e.centinferior=63199,e.centmonospace=65504,e.centoldstyle=63394,e.centsuperior=63200,e.chaarmenian=1401,e.chabengali=2459,e.chadeva=2331,e.chagujarati=2715,e.chagurmukhi=2587,e.chbopomofo=12564,e.cheabkhasiancyrillic=1213,e.checkmark=10003,e.checyrillic=1095,e.chedescenderabkhasiancyrillic=1215,e.chedescendercyrillic=1207,e.chedieresiscyrillic=1269,e.cheharmenian=1395,e.chekhakassiancyrillic=1228,e.cheverticalstrokecyrillic=1209,e.chi=967,e.chieuchacirclekorean=12919,e.chieuchaparenkorean=12823,e.chieuchcirclekorean=12905,e.chieuchkorean=12618,e.chieuchparenkorean=12809,e.chochangthai=3594,e.chochanthai=3592,e.chochingthai=3593,e.chochoethai=3596,e.chook=392,e.cieucacirclekorean=12918,e.cieucaparenkorean=12822,e.cieuccirclekorean=12904,e.cieuckorean=12616,e.cieucparenkorean=12808,e.cieucuparenkorean=12828,e.circle=9675,e.circlecopyrt=169,e.circlemultiply=8855,e.circleot=8857,e.circleplus=8853,e.circlepostalmark=12342,e.circlewithlefthalfblack=9680,e.circlewithrighthalfblack=9681,e.circumflex=710,e.circumflexbelowcmb=813,e.circumflexcmb=770,e.clear=8999,e.clickalveolar=450,e.clickdental=448,e.clicklateral=449,e.clickretroflex=451,e.club=9827,e.clubsuitblack=9827,e.clubsuitwhite=9831,e.cmcubedsquare=13220,e.cmonospace=65347,e.cmsquaredsquare=13216,e.coarmenian=1409,e.colon=58,e.colonmonetary=8353,e.colonmonospace=65306,e.colonsign=8353,e.colonsmall=65109,e.colontriangularhalfmod=721,e.colontriangularmod=720,e.comma=44,e.commaabovecmb=787,e.commaaboverightcmb=789,e.commaaccent=63171,e.commaarabic=1548,e.commaarmenian=1373,e.commainferior=63201,e.commamonospace=65292,e.commareversedabovecmb=788,e.commareversedmod=701,e.commasmall=65104,e.commasuperior=63202,e.commaturnedabovecmb=786,e.commaturnedmod=699,e.compass=9788,e.congruent=8773,e.contourintegral=8750,e.control=8963,e.controlACK=6,e.controlBEL=7,e.controlBS=8,e.controlCAN=24,e.controlCR=13,e.controlDC1=17,e.controlDC2=18,e.controlDC3=19,e.controlDC4=20,e.controlDEL=127,e.controlDLE=16,e.controlEM=25,e.controlENQ=5,e.controlEOT=4,e.controlESC=27,e.controlETB=23,e.controlETX=3,e.controlFF=12,e.controlFS=28,e.controlGS=29,e.controlHT=9,e.controlLF=10,e.controlNAK=21,e.controlNULL=0,e.controlRS=30,e.controlSI=15,e.controlSO=14,e.controlSOT=2,e.controlSTX=1,e.controlSUB=26,e.controlSYN=22,e.controlUS=31,e.controlVT=11,e.copyright=169,e.copyrightsans=63721,e.copyrightserif=63193,e.cornerbracketleft=12300,e.cornerbracketlefthalfwidth=65378,e.cornerbracketleftvertical=65089,e.cornerbracketright=12301,e.cornerbracketrighthalfwidth=65379,e.cornerbracketrightvertical=65090,e.corporationsquare=13183,e.cosquare=13255,e.coverkgsquare=13254,e.cparen=9374,e.cruzeiro=8354,e.cstretched=663,e.curlyand=8911,e.curlyor=8910,e.currency=164,e.cyrBreve=63185,e.cyrFlex=63186,e.cyrbreve=63188,e.cyrflex=63189,e.d=100,e.daarmenian=1380,e.dabengali=2470,e.dadarabic=1590,e.dadeva=2342,e.dadfinalarabic=65214,e.dadinitialarabic=65215,e.dadmedialarabic=65216,e.dagesh=1468,e.dageshhebrew=1468,e.dagger=8224,e.daggerdbl=8225,e.dagujarati=2726,e.dagurmukhi=2598,e.dahiragana=12384,e.dakatakana=12480,e.dalarabic=1583,e.dalet=1491,e.daletdagesh=64307,e.daletdageshhebrew=64307,e.dalethebrew=1491,e.dalfinalarabic=65194,e.dammaarabic=1615,e.dammalowarabic=1615,e.dammatanaltonearabic=1612,e.dammatanarabic=1612,e.danda=2404,e.dargahebrew=1447,e.dargalefthebrew=1447,e.dasiapneumatacyrilliccmb=1157,e.dblGrave=63187,e.dblanglebracketleft=12298,e.dblanglebracketleftvertical=65085,e.dblanglebracketright=12299,e.dblanglebracketrightvertical=65086,e.dblarchinvertedbelowcmb=811,e.dblarrowleft=8660,e.dblarrowright=8658,e.dbldanda=2405,e.dblgrave=63190,e.dblgravecmb=783,e.dblintegral=8748,e.dbllowline=8215,e.dbllowlinecmb=819,e.dbloverlinecmb=831,e.dblprimemod=698,e.dblverticalbar=8214,e.dblverticallineabovecmb=782,e.dbopomofo=12553,e.dbsquare=13256,e.dcaron=271,e.dcedilla=7697,e.dcircle=9427,e.dcircumflexbelow=7699,e.dcroat=273,e.ddabengali=2465,e.ddadeva=2337,e.ddagujarati=2721,e.ddagurmukhi=2593,e.ddalarabic=1672,e.ddalfinalarabic=64393,e.dddhadeva=2396,e.ddhabengali=2466,e.ddhadeva=2338,e.ddhagujarati=2722,e.ddhagurmukhi=2594,e.ddotaccent=7691,e.ddotbelow=7693,e.decimalseparatorarabic=1643,e.decimalseparatorpersian=1643,e.decyrillic=1076,e.degree=176,e.dehihebrew=1453,e.dehiragana=12391,e.deicoptic=1007,e.dekatakana=12487,e.deleteleft=9003,e.deleteright=8998,e.delta=948,e.deltaturned=397,e.denominatorminusonenumeratorbengali=2552,e.dezh=676,e.dhabengali=2471,e.dhadeva=2343,e.dhagujarati=2727,e.dhagurmukhi=2599,e.dhook=599,e.dialytikatonos=901,e.dialytikatonoscmb=836,e.diamond=9830,e.diamondsuitwhite=9826,e.dieresis=168,e.dieresisacute=63191,e.dieresisbelowcmb=804,e.dieresiscmb=776,e.dieresisgrave=63192,e.dieresistonos=901,e.dihiragana=12386,e.dikatakana=12482,e.dittomark=12291,e.divide=247,e.divides=8739,e.divisionslash=8725,e.djecyrillic=1106,e.dkshade=9619,e.dlinebelow=7695,e.dlsquare=13207,e.dmacron=273,e.dmonospace=65348,e.dnblock=9604,e.dochadathai=3598,e.dodekthai=3604,e.dohiragana=12393,e.dokatakana=12489,e.dollar=36,e.dollarinferior=63203,e.dollarmonospace=65284,e.dollaroldstyle=63268,e.dollarsmall=65129,e.dollarsuperior=63204,e.dong=8363,e.dorusquare=13094,e.dotaccent=729,e.dotaccentcmb=775,e.dotbelowcmb=803,e.dotbelowcomb=803,e.dotkatakana=12539,e.dotlessi=305,e.dotlessj=63166,e.dotlessjstrokehook=644,e.dotmath=8901,e.dottedcircle=9676,e.doubleyodpatah=64287,e.doubleyodpatahhebrew=64287,e.downtackbelowcmb=798,e.downtackmod=725,e.dparen=9375,e.dsuperior=63211,e.dtail=598,e.dtopbar=396,e.duhiragana=12389,e.dukatakana=12485,e.dz=499,e.dzaltone=675,e.dzcaron=454,e.dzcurl=677,e.dzeabkhasiancyrillic=1249,e.dzecyrillic=1109,e.dzhecyrillic=1119,e.e=101,e.eacute=233,e.earth=9793,e.ebengali=2447,e.ebopomofo=12572,e.ebreve=277,e.ecandradeva=2317,e.ecandragujarati=2701,e.ecandravowelsigndeva=2373,e.ecandravowelsigngujarati=2757,e.ecaron=283,e.ecedillabreve=7709,e.echarmenian=1381,e.echyiwnarmenian=1415,e.ecircle=9428,e.ecircumflex=234,e.ecircumflexacute=7871,e.ecircumflexbelow=7705,e.ecircumflexdotbelow=7879,e.ecircumflexgrave=7873,e.ecircumflexhookabove=7875,e.ecircumflextilde=7877,e.ecyrillic=1108,e.edblgrave=517,e.edeva=2319,e.edieresis=235,e.edot=279,e.edotaccent=279,e.edotbelow=7865,e.eegurmukhi=2575,e.eematragurmukhi=2631,e.efcyrillic=1092,e.egrave=232,e.egujarati=2703,e.eharmenian=1383,e.ehbopomofo=12573,e.ehiragana=12360,e.ehookabove=7867,e.eibopomofo=12575,e.eight=56,e.eightarabic=1640,e.eightbengali=2542,e.eightcircle=9319,e.eightcircleinversesansserif=10129,e.eightdeva=2414,e.eighteencircle=9329,e.eighteenparen=9349,e.eighteenperiod=9369,e.eightgujarati=2798,e.eightgurmukhi=2670,e.eighthackarabic=1640,e.eighthangzhou=12328,e.eighthnotebeamed=9835,e.eightideographicparen=12839,e.eightinferior=8328,e.eightmonospace=65304,e.eightoldstyle=63288,e.eightparen=9339,e.eightperiod=9359,e.eightpersian=1784,e.eightroman=8567,e.eightsuperior=8312,e.eightthai=3672,e.einvertedbreve=519,e.eiotifiedcyrillic=1125,e.ekatakana=12456,e.ekatakanahalfwidth=65396,e.ekonkargurmukhi=2676,e.ekorean=12628,e.elcyrillic=1083,e.element=8712,e.elevencircle=9322,e.elevenparen=9342,e.elevenperiod=9362,e.elevenroman=8570,e.ellipsis=8230,e.ellipsisvertical=8942,e.emacron=275,e.emacronacute=7703,e.emacrongrave=7701,e.emcyrillic=1084,e.emdash=8212,e.emdashvertical=65073,e.emonospace=65349,e.emphasismarkarmenian=1371,e.emptyset=8709,e.enbopomofo=12579,e.encyrillic=1085,e.endash=8211,e.endashvertical=65074,e.endescendercyrillic=1187,e.eng=331,e.engbopomofo=12581,e.enghecyrillic=1189,e.enhookcyrillic=1224,e.enspace=8194,e.eogonek=281,e.eokorean=12627,e.eopen=603,e.eopenclosed=666,e.eopenreversed=604,e.eopenreversedclosed=606,e.eopenreversedhook=605,e.eparen=9376,e.epsilon=949,e.epsilontonos=941,e.equal=61,e.equalmonospace=65309,e.equalsmall=65126,e.equalsuperior=8316,e.equivalence=8801,e.erbopomofo=12582,e.ercyrillic=1088,e.ereversed=600,e.ereversedcyrillic=1101,e.escyrillic=1089,e.esdescendercyrillic=1195,e.esh=643,e.eshcurl=646,e.eshortdeva=2318,e.eshortvowelsigndeva=2374,e.eshreversedloop=426,e.eshsquatreversed=645,e.esmallhiragana=12359,e.esmallkatakana=12455,e.esmallkatakanahalfwidth=65386,e.estimated=8494,e.esuperior=63212,e.eta=951,e.etarmenian=1384,e.etatonos=942,e.eth=240,e.etilde=7869,e.etildebelow=7707,e.etnahtafoukhhebrew=1425,e.etnahtafoukhlefthebrew=1425,e.etnahtahebrew=1425,e.etnahtalefthebrew=1425,e.eturned=477,e.eukorean=12641,e.euro=8364,e.evowelsignbengali=2503,e.evowelsigndeva=2375,e.evowelsigngujarati=2759,e.exclam=33,e.exclamarmenian=1372,e.exclamdbl=8252,e.exclamdown=161,e.exclamdownsmall=63393,e.exclammonospace=65281,e.exclamsmall=63265,e.existential=8707,e.ezh=658,e.ezhcaron=495,e.ezhcurl=659,e.ezhreversed=441,e.ezhtail=442,e.f=102,e.fadeva=2398,e.fagurmukhi=2654,e.fahrenheit=8457,e.fathaarabic=1614,e.fathalowarabic=1614,e.fathatanarabic=1611,e.fbopomofo=12552,e.fcircle=9429,e.fdotaccent=7711,e.feharabic=1601,e.feharmenian=1414,e.fehfinalarabic=65234,e.fehinitialarabic=65235,e.fehmedialarabic=65236,e.feicoptic=997,e.female=9792,e.ff=64256,e.f_f=64256,e.ffi=64259,e.f_f_i=64259,e.ffl=64260,e.f_f_l=64260,e.fi=64257,e.f_i=64257,e.fifteencircle=9326,e.fifteenparen=9346,e.fifteenperiod=9366,e.figuredash=8210,e.filledbox=9632,e.filledrect=9644,e.finalkaf=1498,e.finalkafdagesh=64314,e.finalkafdageshhebrew=64314,e.finalkafhebrew=1498,e.finalmem=1501,e.finalmemhebrew=1501,e.finalnun=1503,e.finalnunhebrew=1503,e.finalpe=1507,e.finalpehebrew=1507,e.finaltsadi=1509,e.finaltsadihebrew=1509,e.firsttonechinese=713,e.fisheye=9673,e.fitacyrillic=1139,e.five=53,e.fivearabic=1637,e.fivebengali=2539,e.fivecircle=9316,e.fivecircleinversesansserif=10126,e.fivedeva=2411,e.fiveeighths=8541,e.fivegujarati=2795,e.fivegurmukhi=2667,e.fivehackarabic=1637,e.fivehangzhou=12325,e.fiveideographicparen=12836,e.fiveinferior=8325,e.fivemonospace=65301,e.fiveoldstyle=63285,e.fiveparen=9336,e.fiveperiod=9356,e.fivepersian=1781,e.fiveroman=8564,e.fivesuperior=8309,e.fivethai=3669,e.fl=64258,e.f_l=64258,e.florin=402,e.fmonospace=65350,e.fmsquare=13209,e.fofanthai=3615,e.fofathai=3613,e.fongmanthai=3663,e.forall=8704,e.four=52,e.fourarabic=1636,e.fourbengali=2538,e.fourcircle=9315,e.fourcircleinversesansserif=10125,e.fourdeva=2410,e.fourgujarati=2794,e.fourgurmukhi=2666,e.fourhackarabic=1636,e.fourhangzhou=12324,e.fourideographicparen=12835,e.fourinferior=8324,e.fourmonospace=65300,e.fournumeratorbengali=2551,e.fouroldstyle=63284,e.fourparen=9335,e.fourperiod=9355,e.fourpersian=1780,e.fourroman=8563,e.foursuperior=8308,e.fourteencircle=9325,e.fourteenparen=9345,e.fourteenperiod=9365,e.fourthai=3668,e.fourthtonechinese=715,e.fparen=9377,e.fraction=8260,e.franc=8355,e.g=103,e.gabengali=2455,e.gacute=501,e.gadeva=2327,e.gafarabic=1711,e.gaffinalarabic=64403,e.gafinitialarabic=64404,e.gafmedialarabic=64405,e.gagujarati=2711,e.gagurmukhi=2583,e.gahiragana=12364,e.gakatakana=12460,e.gamma=947,e.gammalatinsmall=611,e.gammasuperior=736,e.gangiacoptic=1003,e.gbopomofo=12557,e.gbreve=287,e.gcaron=487,e.gcedilla=291,e.gcircle=9430,e.gcircumflex=285,e.gcommaaccent=291,e.gdot=289,e.gdotaccent=289,e.gecyrillic=1075,e.gehiragana=12370,e.gekatakana=12466,e.geometricallyequal=8785,e.gereshaccenthebrew=1436,e.gereshhebrew=1523,e.gereshmuqdamhebrew=1437,e.germandbls=223,e.gershayimaccenthebrew=1438,e.gershayimhebrew=1524,e.getamark=12307,e.ghabengali=2456,e.ghadarmenian=1394,e.ghadeva=2328,e.ghagujarati=2712,e.ghagurmukhi=2584,e.ghainarabic=1594,e.ghainfinalarabic=65230,e.ghaininitialarabic=65231,e.ghainmedialarabic=65232,e.ghemiddlehookcyrillic=1173,e.ghestrokecyrillic=1171,e.gheupturncyrillic=1169,e.ghhadeva=2394,e.ghhagurmukhi=2650,e.ghook=608,e.ghzsquare=13203,e.gihiragana=12366,e.gikatakana=12462,e.gimarmenian=1379,e.gimel=1490,e.gimeldagesh=64306,e.gimeldageshhebrew=64306,e.gimelhebrew=1490,e.gjecyrillic=1107,e.glottalinvertedstroke=446,e.glottalstop=660,e.glottalstopinverted=662,e.glottalstopmod=704,e.glottalstopreversed=661,e.glottalstopreversedmod=705,e.glottalstopreversedsuperior=740,e.glottalstopstroke=673,e.glottalstopstrokereversed=674,e.gmacron=7713,e.gmonospace=65351,e.gohiragana=12372,e.gokatakana=12468,e.gparen=9378,e.gpasquare=13228,e.gradient=8711,e.grave=96,e.gravebelowcmb=790,e.gravecmb=768,e.gravecomb=768,e.gravedeva=2387,e.gravelowmod=718,e.gravemonospace=65344,e.gravetonecmb=832,e.greater=62,e.greaterequal=8805,e.greaterequalorless=8923,e.greatermonospace=65310,e.greaterorequivalent=8819,e.greaterorless=8823,e.greateroverequal=8807,e.greatersmall=65125,e.gscript=609,e.gstroke=485,e.guhiragana=12368,e.guillemotleft=171,e.guillemotright=187,e.guilsinglleft=8249,e.guilsinglright=8250,e.gukatakana=12464,e.guramusquare=13080,e.gysquare=13257,e.h=104,e.haabkhasiancyrillic=1193,e.haaltonearabic=1729,e.habengali=2489,e.hadescendercyrillic=1203,e.hadeva=2361,e.hagujarati=2745,e.hagurmukhi=2617,e.haharabic=1581,e.hahfinalarabic=65186,e.hahinitialarabic=65187,e.hahiragana=12399,e.hahmedialarabic=65188,e.haitusquare=13098,e.hakatakana=12495,e.hakatakanahalfwidth=65418,e.halantgurmukhi=2637,e.hamzaarabic=1569,e.hamzalowarabic=1569,e.hangulfiller=12644,e.hardsigncyrillic=1098,e.harpoonleftbarbup=8636,e.harpoonrightbarbup=8640,e.hasquare=13258,e.hatafpatah=1458,e.hatafpatah16=1458,e.hatafpatah23=1458,e.hatafpatah2f=1458,e.hatafpatahhebrew=1458,e.hatafpatahnarrowhebrew=1458,e.hatafpatahquarterhebrew=1458,e.hatafpatahwidehebrew=1458,e.hatafqamats=1459,e.hatafqamats1b=1459,e.hatafqamats28=1459,e.hatafqamats34=1459,e.hatafqamatshebrew=1459,e.hatafqamatsnarrowhebrew=1459,e.hatafqamatsquarterhebrew=1459,e.hatafqamatswidehebrew=1459,e.hatafsegol=1457,e.hatafsegol17=1457,e.hatafsegol24=1457,e.hatafsegol30=1457,e.hatafsegolhebrew=1457,e.hatafsegolnarrowhebrew=1457,e.hatafsegolquarterhebrew=1457,e.hatafsegolwidehebrew=1457,e.hbar=295,e.hbopomofo=12559,e.hbrevebelow=7723,e.hcedilla=7721,e.hcircle=9431,e.hcircumflex=293,e.hdieresis=7719,e.hdotaccent=7715,e.hdotbelow=7717,e.he=1492,e.heart=9829,e.heartsuitblack=9829,e.heartsuitwhite=9825,e.hedagesh=64308,e.hedageshhebrew=64308,e.hehaltonearabic=1729,e.heharabic=1607,e.hehebrew=1492,e.hehfinalaltonearabic=64423,e.hehfinalalttwoarabic=65258,e.hehfinalarabic=65258,e.hehhamzaabovefinalarabic=64421,e.hehhamzaaboveisolatedarabic=64420,e.hehinitialaltonearabic=64424,e.hehinitialarabic=65259,e.hehiragana=12408,e.hehmedialaltonearabic=64425,e.hehmedialarabic=65260,e.heiseierasquare=13179,e.hekatakana=12504,e.hekatakanahalfwidth=65421,e.hekutaarusquare=13110,e.henghook=615,e.herutusquare=13113,e.het=1495,e.hethebrew=1495,e.hhook=614,e.hhooksuperior=689,e.hieuhacirclekorean=12923,e.hieuhaparenkorean=12827,e.hieuhcirclekorean=12909,e.hieuhkorean=12622,e.hieuhparenkorean=12813,e.hihiragana=12402,e.hikatakana=12498,e.hikatakanahalfwidth=65419,e.hiriq=1460,e.hiriq14=1460,e.hiriq21=1460,e.hiriq2d=1460,e.hiriqhebrew=1460,e.hiriqnarrowhebrew=1460,e.hiriqquarterhebrew=1460,e.hiriqwidehebrew=1460,e.hlinebelow=7830,e.hmonospace=65352,e.hoarmenian=1392,e.hohipthai=3627,e.hohiragana=12411,e.hokatakana=12507,e.hokatakanahalfwidth=65422,e.holam=1465,e.holam19=1465,e.holam26=1465,e.holam32=1465,e.holamhebrew=1465,e.holamnarrowhebrew=1465,e.holamquarterhebrew=1465,e.holamwidehebrew=1465,e.honokhukthai=3630,e.hookabovecomb=777,e.hookcmb=777,e.hookpalatalizedbelowcmb=801,e.hookretroflexbelowcmb=802,e.hoonsquare=13122,e.horicoptic=1001,e.horizontalbar=8213,e.horncmb=795,e.hotsprings=9832,e.house=8962,e.hparen=9379,e.hsuperior=688,e.hturned=613,e.huhiragana=12405,e.huiitosquare=13107,e.hukatakana=12501,e.hukatakanahalfwidth=65420,e.hungarumlaut=733,e.hungarumlautcmb=779,e.hv=405,e.hyphen=45,e.hypheninferior=63205,e.hyphenmonospace=65293,e.hyphensmall=65123,e.hyphensuperior=63206,e.hyphentwo=8208,e.i=105,e.iacute=237,e.iacyrillic=1103,e.ibengali=2439,e.ibopomofo=12583,e.ibreve=301,e.icaron=464,e.icircle=9432,e.icircumflex=238,e.icyrillic=1110,e.idblgrave=521,e.ideographearthcircle=12943,e.ideographfirecircle=12939,e.ideographicallianceparen=12863,e.ideographiccallparen=12858,e.ideographiccentrecircle=12965,e.ideographicclose=12294,e.ideographiccomma=12289,e.ideographiccommaleft=65380,e.ideographiccongratulationparen=12855,e.ideographiccorrectcircle=12963,e.ideographicearthparen=12847,e.ideographicenterpriseparen=12861,e.ideographicexcellentcircle=12957,e.ideographicfestivalparen=12864,e.ideographicfinancialcircle=12950,e.ideographicfinancialparen=12854,e.ideographicfireparen=12843,e.ideographichaveparen=12850,e.ideographichighcircle=12964,e.ideographiciterationmark=12293,e.ideographiclaborcircle=12952,e.ideographiclaborparen=12856,e.ideographicleftcircle=12967,e.ideographiclowcircle=12966,e.ideographicmedicinecircle=12969,e.ideographicmetalparen=12846,e.ideographicmoonparen=12842,e.ideographicnameparen=12852,e.ideographicperiod=12290,e.ideographicprintcircle=12958,e.ideographicreachparen=12867,e.ideographicrepresentparen=12857,e.ideographicresourceparen=12862,e.ideographicrightcircle=12968,e.ideographicsecretcircle=12953,e.ideographicselfparen=12866,e.ideographicsocietyparen=12851,e.ideographicspace=12288,e.ideographicspecialparen=12853,e.ideographicstockparen=12849,e.ideographicstudyparen=12859,e.ideographicsunparen=12848,e.ideographicsuperviseparen=12860,e.ideographicwaterparen=12844,e.ideographicwoodparen=12845,e.ideographiczero=12295,e.ideographmetalcircle=12942,e.ideographmooncircle=12938,e.ideographnamecircle=12948,e.ideographsuncircle=12944,e.ideographwatercircle=12940,e.ideographwoodcircle=12941,e.ideva=2311,e.idieresis=239,e.idieresisacute=7727,e.idieresiscyrillic=1253,e.idotbelow=7883,e.iebrevecyrillic=1239,e.iecyrillic=1077,e.ieungacirclekorean=12917,e.ieungaparenkorean=12821,e.ieungcirclekorean=12903,e.ieungkorean=12615,e.ieungparenkorean=12807,e.igrave=236,e.igujarati=2695,e.igurmukhi=2567,e.ihiragana=12356,e.ihookabove=7881,e.iibengali=2440,e.iicyrillic=1080,e.iideva=2312,e.iigujarati=2696,e.iigurmukhi=2568,e.iimatragurmukhi=2624,e.iinvertedbreve=523,e.iishortcyrillic=1081,e.iivowelsignbengali=2496,e.iivowelsigndeva=2368,e.iivowelsigngujarati=2752,e.ij=307,e.ikatakana=12452,e.ikatakanahalfwidth=65394,e.ikorean=12643,e.ilde=732,e.iluyhebrew=1452,e.imacron=299,e.imacroncyrillic=1251,e.imageorapproximatelyequal=8787,e.imatragurmukhi=2623,e.imonospace=65353,e.increment=8710,e.infinity=8734,e.iniarmenian=1387,e.integral=8747,e.integralbottom=8993,e.integralbt=8993,e.integralex=63733,e.integraltop=8992,e.integraltp=8992,e.intersection=8745,e.intisquare=13061,e.invbullet=9688,e.invcircle=9689,e.invsmileface=9787,e.iocyrillic=1105,e.iogonek=303,e.iota=953,e.iotadieresis=970,e.iotadieresistonos=912,e.iotalatin=617,e.iotatonos=943,e.iparen=9380,e.irigurmukhi=2674,e.ismallhiragana=12355,e.ismallkatakana=12451,e.ismallkatakanahalfwidth=65384,e.issharbengali=2554,e.istroke=616,e.isuperior=63213,e.iterationhiragana=12445,e.iterationkatakana=12541,e.itilde=297,e.itildebelow=7725,e.iubopomofo=12585,e.iucyrillic=1102,e.ivowelsignbengali=2495,e.ivowelsigndeva=2367,e.ivowelsigngujarati=2751,e.izhitsacyrillic=1141,e.izhitsadblgravecyrillic=1143,e.j=106,e.jaarmenian=1393,e.jabengali=2460,e.jadeva=2332,e.jagujarati=2716,e.jagurmukhi=2588,e.jbopomofo=12560,e.jcaron=496,e.jcircle=9433,e.jcircumflex=309,e.jcrossedtail=669,e.jdotlessstroke=607,e.jecyrillic=1112,e.jeemarabic=1580,e.jeemfinalarabic=65182,e.jeeminitialarabic=65183,e.jeemmedialarabic=65184,e.jeharabic=1688,e.jehfinalarabic=64395,e.jhabengali=2461,e.jhadeva=2333,e.jhagujarati=2717,e.jhagurmukhi=2589,e.jheharmenian=1403,e.jis=12292,e.jmonospace=65354,e.jparen=9381,e.jsuperior=690,e.k=107,e.kabashkircyrillic=1185,e.kabengali=2453,e.kacute=7729,e.kacyrillic=1082,e.kadescendercyrillic=1179,e.kadeva=2325,e.kaf=1499,e.kafarabic=1603,e.kafdagesh=64315,e.kafdageshhebrew=64315,e.kaffinalarabic=65242,e.kafhebrew=1499,e.kafinitialarabic=65243,e.kafmedialarabic=65244,e.kafrafehebrew=64333,e.kagujarati=2709,e.kagurmukhi=2581,e.kahiragana=12363,e.kahookcyrillic=1220,e.kakatakana=12459,e.kakatakanahalfwidth=65398,e.kappa=954,e.kappasymbolgreek=1008,e.kapyeounmieumkorean=12657,e.kapyeounphieuphkorean=12676,e.kapyeounpieupkorean=12664,e.kapyeounssangpieupkorean=12665,e.karoriisquare=13069,e.kashidaautoarabic=1600,e.kashidaautonosidebearingarabic=1600,e.kasmallkatakana=12533,e.kasquare=13188,e.kasraarabic=1616,e.kasratanarabic=1613,e.kastrokecyrillic=1183,e.katahiraprolongmarkhalfwidth=65392,e.kaverticalstrokecyrillic=1181,e.kbopomofo=12558,e.kcalsquare=13193,e.kcaron=489,e.kcedilla=311,e.kcircle=9434,e.kcommaaccent=311,e.kdotbelow=7731,e.keharmenian=1412,e.kehiragana=12369,e.kekatakana=12465,e.kekatakanahalfwidth=65401,e.kenarmenian=1391,e.kesmallkatakana=12534,e.kgreenlandic=312,e.khabengali=2454,e.khacyrillic=1093,e.khadeva=2326,e.khagujarati=2710,e.khagurmukhi=2582,e.khaharabic=1582,e.khahfinalarabic=65190,e.khahinitialarabic=65191,e.khahmedialarabic=65192,e.kheicoptic=999,e.khhadeva=2393,e.khhagurmukhi=2649,e.khieukhacirclekorean=12920,e.khieukhaparenkorean=12824,e.khieukhcirclekorean=12906,e.khieukhkorean=12619,e.khieukhparenkorean=12810,e.khokhaithai=3586,e.khokhonthai=3589,e.khokhuatthai=3587,e.khokhwaithai=3588,e.khomutthai=3675,e.khook=409,e.khorakhangthai=3590,e.khzsquare=13201,e.kihiragana=12365,e.kikatakana=12461,e.kikatakanahalfwidth=65399,e.kiroguramusquare=13077,e.kiromeetorusquare=13078,e.kirosquare=13076,e.kiyeokacirclekorean=12910,e.kiyeokaparenkorean=12814,e.kiyeokcirclekorean=12896,e.kiyeokkorean=12593,e.kiyeokparenkorean=12800,e.kiyeoksioskorean=12595,e.kjecyrillic=1116,e.klinebelow=7733,e.klsquare=13208,e.kmcubedsquare=13222,e.kmonospace=65355,e.kmsquaredsquare=13218,e.kohiragana=12371,e.kohmsquare=13248,e.kokaithai=3585,e.kokatakana=12467,e.kokatakanahalfwidth=65402,e.kooposquare=13086,e.koppacyrillic=1153,e.koreanstandardsymbol=12927,e.koroniscmb=835,e.kparen=9382,e.kpasquare=13226,e.ksicyrillic=1135,e.ktsquare=13263,e.kturned=670,e.kuhiragana=12367,e.kukatakana=12463,e.kukatakanahalfwidth=65400,e.kvsquare=13240,e.kwsquare=13246,e.l=108,e.labengali=2482,e.lacute=314,e.ladeva=2354,e.lagujarati=2738,e.lagurmukhi=2610,e.lakkhangyaothai=3653,e.lamaleffinalarabic=65276,e.lamalefhamzaabovefinalarabic=65272,e.lamalefhamzaaboveisolatedarabic=65271,e.lamalefhamzabelowfinalarabic=65274,e.lamalefhamzabelowisolatedarabic=65273,e.lamalefisolatedarabic=65275,e.lamalefmaddaabovefinalarabic=65270,e.lamalefmaddaaboveisolatedarabic=65269,e.lamarabic=1604,e.lambda=955,e.lambdastroke=411,e.lamed=1500,e.lameddagesh=64316,e.lameddageshhebrew=64316,e.lamedhebrew=1500,e.lamfinalarabic=65246,e.lamhahinitialarabic=64714,e.laminitialarabic=65247,e.lamjeeminitialarabic=64713,e.lamkhahinitialarabic=64715,e.lamlamhehisolatedarabic=65010,e.lammedialarabic=65248,e.lammeemhahinitialarabic=64904,e.lammeeminitialarabic=64716,e.largecircle=9711,e.lbar=410,e.lbelt=620,e.lbopomofo=12556,e.lcaron=318,e.lcedilla=316,e.lcircle=9435,e.lcircumflexbelow=7741,e.lcommaaccent=316,e.ldot=320,e.ldotaccent=320,e.ldotbelow=7735,e.ldotbelowmacron=7737,e.leftangleabovecmb=794,e.lefttackbelowcmb=792,e.less=60,e.lessequal=8804,e.lessequalorgreater=8922,e.lessmonospace=65308,e.lessorequivalent=8818,e.lessorgreater=8822,e.lessoverequal=8806,e.lesssmall=65124,e.lezh=622,e.lfblock=9612,e.lhookretroflex=621,e.lira=8356,e.liwnarmenian=1388,e.lj=457,e.ljecyrillic=1113,e.ll=63168,e.lladeva=2355,e.llagujarati=2739,e.llinebelow=7739,e.llladeva=2356,e.llvocalicbengali=2529,e.llvocalicdeva=2401,e.llvocalicvowelsignbengali=2531,e.llvocalicvowelsigndeva=2403,e.lmiddletilde=619,e.lmonospace=65356,e.lmsquare=13264,e.lochulathai=3628,e.logicaland=8743,e.logicalnot=172,e.logicalnotreversed=8976,e.logicalor=8744,e.lolingthai=3621,e.longs=383,e.lowlinecenterline=65102,e.lowlinecmb=818,e.lowlinedashed=65101,e.lozenge=9674,e.lparen=9383,e.lslash=322,e.lsquare=8467,e.lsuperior=63214,e.ltshade=9617,e.luthai=3622,e.lvocalicbengali=2444,e.lvocalicdeva=2316,e.lvocalicvowelsignbengali=2530,e.lvocalicvowelsigndeva=2402,e.lxsquare=13267,e.m=109,e.mabengali=2478,e.macron=175,e.macronbelowcmb=817,e.macroncmb=772,e.macronlowmod=717,e.macronmonospace=65507,e.macute=7743,e.madeva=2350,e.magujarati=2734,e.magurmukhi=2606,e.mahapakhhebrew=1444,e.mahapakhlefthebrew=1444,e.mahiragana=12414,e.maichattawalowleftthai=63637,e.maichattawalowrightthai=63636,e.maichattawathai=3659,e.maichattawaupperleftthai=63635,e.maieklowleftthai=63628,e.maieklowrightthai=63627,e.maiekthai=3656,e.maiekupperleftthai=63626,e.maihanakatleftthai=63620,e.maihanakatthai=3633,e.maitaikhuleftthai=63625,e.maitaikhuthai=3655,e.maitholowleftthai=63631,e.maitholowrightthai=63630,e.maithothai=3657,e.maithoupperleftthai=63629,e.maitrilowleftthai=63634,e.maitrilowrightthai=63633,e.maitrithai=3658,e.maitriupperleftthai=63632,e.maiyamokthai=3654,e.makatakana=12510,e.makatakanahalfwidth=65423,e.male=9794,e.mansyonsquare=13127,e.maqafhebrew=1470,e.mars=9794,e.masoracirclehebrew=1455,e.masquare=13187,e.mbopomofo=12551,e.mbsquare=13268,e.mcircle=9436,e.mcubedsquare=13221,e.mdotaccent=7745,e.mdotbelow=7747,e.meemarabic=1605,e.meemfinalarabic=65250,e.meeminitialarabic=65251,e.meemmedialarabic=65252,e.meemmeeminitialarabic=64721,e.meemmeemisolatedarabic=64584,e.meetorusquare=13133,e.mehiragana=12417,e.meizierasquare=13182,e.mekatakana=12513,e.mekatakanahalfwidth=65426,e.mem=1502,e.memdagesh=64318,e.memdageshhebrew=64318,e.memhebrew=1502,e.menarmenian=1396,e.merkhahebrew=1445,e.merkhakefulahebrew=1446,e.merkhakefulalefthebrew=1446,e.merkhalefthebrew=1445,e.mhook=625,e.mhzsquare=13202,e.middledotkatakanahalfwidth=65381,e.middot=183,e.mieumacirclekorean=12914,e.mieumaparenkorean=12818,e.mieumcirclekorean=12900,e.mieumkorean=12609,e.mieumpansioskorean=12656,e.mieumparenkorean=12804,e.mieumpieupkorean=12654,e.mieumsioskorean=12655,e.mihiragana=12415,e.mikatakana=12511,e.mikatakanahalfwidth=65424,e.minus=8722,e.minusbelowcmb=800,e.minuscircle=8854,e.minusmod=727,e.minusplus=8723,e.minute=8242,e.miribaarusquare=13130,e.mirisquare=13129,e.mlonglegturned=624,e.mlsquare=13206,e.mmcubedsquare=13219,e.mmonospace=65357,e.mmsquaredsquare=13215,e.mohiragana=12418,e.mohmsquare=13249,e.mokatakana=12514,e.mokatakanahalfwidth=65427,e.molsquare=13270,e.momathai=3617,e.moverssquare=13223,e.moverssquaredsquare=13224,e.mparen=9384,e.mpasquare=13227,e.mssquare=13235,e.msuperior=63215,e.mturned=623,e.mu=181,e.mu1=181,e.muasquare=13186,e.muchgreater=8811,e.muchless=8810,e.mufsquare=13196,e.mugreek=956,e.mugsquare=13197,e.muhiragana=12416,e.mukatakana=12512,e.mukatakanahalfwidth=65425,e.mulsquare=13205,e.multiply=215,e.mumsquare=13211,e.munahhebrew=1443,e.munahlefthebrew=1443,e.musicalnote=9834,e.musicalnotedbl=9835,e.musicflatsign=9837,e.musicsharpsign=9839,e.mussquare=13234,e.muvsquare=13238,e.muwsquare=13244,e.mvmegasquare=13241,e.mvsquare=13239,e.mwmegasquare=13247,e.mwsquare=13245,e.n=110,e.nabengali=2472,e.nabla=8711,e.nacute=324,e.nadeva=2344,e.nagujarati=2728,e.nagurmukhi=2600,e.nahiragana=12394,e.nakatakana=12490,e.nakatakanahalfwidth=65413,e.napostrophe=329,e.nasquare=13185,e.nbopomofo=12555,e.nbspace=160,e.ncaron=328,e.ncedilla=326,e.ncircle=9437,e.ncircumflexbelow=7755,e.ncommaaccent=326,e.ndotaccent=7749,e.ndotbelow=7751,e.nehiragana=12397,e.nekatakana=12493,e.nekatakanahalfwidth=65416,e.newsheqelsign=8362,e.nfsquare=13195,e.ngabengali=2457,e.ngadeva=2329,e.ngagujarati=2713,e.ngagurmukhi=2585,e.ngonguthai=3591,e.nhiragana=12435,e.nhookleft=626,e.nhookretroflex=627,e.nieunacirclekorean=12911,e.nieunaparenkorean=12815,e.nieuncieuckorean=12597,e.nieuncirclekorean=12897,e.nieunhieuhkorean=12598,e.nieunkorean=12596,e.nieunpansioskorean=12648,e.nieunparenkorean=12801,e.nieunsioskorean=12647,e.nieuntikeutkorean=12646,e.nihiragana=12395,e.nikatakana=12491,e.nikatakanahalfwidth=65414,e.nikhahitleftthai=63641,e.nikhahitthai=3661,e.nine=57,e.ninearabic=1641,e.ninebengali=2543,e.ninecircle=9320,e.ninecircleinversesansserif=10130,e.ninedeva=2415,e.ninegujarati=2799,e.ninegurmukhi=2671,e.ninehackarabic=1641,e.ninehangzhou=12329,e.nineideographicparen=12840,e.nineinferior=8329,e.ninemonospace=65305,e.nineoldstyle=63289,e.nineparen=9340,e.nineperiod=9360,e.ninepersian=1785,e.nineroman=8568,e.ninesuperior=8313,e.nineteencircle=9330,e.nineteenparen=9350,e.nineteenperiod=9370,e.ninethai=3673,e.nj=460,e.njecyrillic=1114,e.nkatakana=12531,e.nkatakanahalfwidth=65437,e.nlegrightlong=414,e.nlinebelow=7753,e.nmonospace=65358,e.nmsquare=13210,e.nnabengali=2467,e.nnadeva=2339,e.nnagujarati=2723,e.nnagurmukhi=2595,e.nnnadeva=2345,e.nohiragana=12398,e.nokatakana=12494,e.nokatakanahalfwidth=65417,e.nonbreakingspace=160,e.nonenthai=3603,e.nonuthai=3609,e.noonarabic=1606,e.noonfinalarabic=65254,e.noonghunnaarabic=1722,e.noonghunnafinalarabic=64415,e.nooninitialarabic=65255,e.noonjeeminitialarabic=64722,e.noonjeemisolatedarabic=64587,e.noonmedialarabic=65256,e.noonmeeminitialarabic=64725,e.noonmeemisolatedarabic=64590,e.noonnoonfinalarabic=64653,e.notcontains=8716,e.notelement=8713,e.notelementof=8713,e.notequal=8800,e.notgreater=8815,e.notgreaternorequal=8817,e.notgreaternorless=8825,e.notidentical=8802,e.notless=8814,e.notlessnorequal=8816,e.notparallel=8742,e.notprecedes=8832,e.notsubset=8836,e.notsucceeds=8833,e.notsuperset=8837,e.nowarmenian=1398,e.nparen=9385,e.nssquare=13233,e.nsuperior=8319,e.ntilde=241,e.nu=957,e.nuhiragana=12396,e.nukatakana=12492,e.nukatakanahalfwidth=65415,e.nuktabengali=2492,e.nuktadeva=2364,e.nuktagujarati=2748,e.nuktagurmukhi=2620,e.numbersign=35,e.numbersignmonospace=65283,e.numbersignsmall=65119,e.numeralsigngreek=884,e.numeralsignlowergreek=885,e.numero=8470,e.nun=1504,e.nundagesh=64320,e.nundageshhebrew=64320,e.nunhebrew=1504,e.nvsquare=13237,e.nwsquare=13243,e.nyabengali=2462,e.nyadeva=2334,e.nyagujarati=2718,e.nyagurmukhi=2590,e.o=111,e.oacute=243,e.oangthai=3629,e.obarred=629,e.obarredcyrillic=1257,e.obarreddieresiscyrillic=1259,e.obengali=2451,e.obopomofo=12571,e.obreve=335,e.ocandradeva=2321,e.ocandragujarati=2705,e.ocandravowelsigndeva=2377,e.ocandravowelsigngujarati=2761,e.ocaron=466,e.ocircle=9438,e.ocircumflex=244,e.ocircumflexacute=7889,e.ocircumflexdotbelow=7897,e.ocircumflexgrave=7891,e.ocircumflexhookabove=7893,e.ocircumflextilde=7895,e.ocyrillic=1086,e.odblacute=337,e.odblgrave=525,e.odeva=2323,e.odieresis=246,e.odieresiscyrillic=1255,e.odotbelow=7885,e.oe=339,e.oekorean=12634,e.ogonek=731,e.ogonekcmb=808,e.ograve=242,e.ogujarati=2707,e.oharmenian=1413,e.ohiragana=12362,e.ohookabove=7887,e.ohorn=417,e.ohornacute=7899,e.ohorndotbelow=7907,e.ohorngrave=7901,e.ohornhookabove=7903,e.ohorntilde=7905,e.ohungarumlaut=337,e.oi=419,e.oinvertedbreve=527,e.okatakana=12458,e.okatakanahalfwidth=65397,e.okorean=12631,e.olehebrew=1451,e.omacron=333,e.omacronacute=7763,e.omacrongrave=7761,e.omdeva=2384,e.omega=969,e.omega1=982,e.omegacyrillic=1121,e.omegalatinclosed=631,e.omegaroundcyrillic=1147,e.omegatitlocyrillic=1149,e.omegatonos=974,e.omgujarati=2768,e.omicron=959,e.omicrontonos=972,e.omonospace=65359,e.one=49,e.onearabic=1633,e.onebengali=2535,e.onecircle=9312,e.onecircleinversesansserif=10122,e.onedeva=2407,e.onedotenleader=8228,e.oneeighth=8539,e.onefitted=63196,e.onegujarati=2791,e.onegurmukhi=2663,e.onehackarabic=1633,e.onehalf=189,e.onehangzhou=12321,e.oneideographicparen=12832,e.oneinferior=8321,e.onemonospace=65297,e.onenumeratorbengali=2548,e.oneoldstyle=63281,e.oneparen=9332,e.oneperiod=9352,e.onepersian=1777,e.onequarter=188,e.oneroman=8560,e.onesuperior=185,e.onethai=3665,e.onethird=8531,e.oogonek=491,e.oogonekmacron=493,e.oogurmukhi=2579,e.oomatragurmukhi=2635,e.oopen=596,e.oparen=9386,e.openbullet=9702,e.option=8997,e.ordfeminine=170,e.ordmasculine=186,e.orthogonal=8735,e.oshortdeva=2322,e.oshortvowelsigndeva=2378,e.oslash=248,e.oslashacute=511,e.osmallhiragana=12361,e.osmallkatakana=12457,e.osmallkatakanahalfwidth=65387,e.ostrokeacute=511,e.osuperior=63216,e.otcyrillic=1151,e.otilde=245,e.otildeacute=7757,e.otildedieresis=7759,e.oubopomofo=12577,e.overline=8254,e.overlinecenterline=65098,e.overlinecmb=773,e.overlinedashed=65097,e.overlinedblwavy=65100,e.overlinewavy=65099,e.overscore=175,e.ovowelsignbengali=2507,e.ovowelsigndeva=2379,e.ovowelsigngujarati=2763,e.p=112,e.paampssquare=13184,e.paasentosquare=13099,e.pabengali=2474,e.pacute=7765,e.padeva=2346,e.pagedown=8671,e.pageup=8670,e.pagujarati=2730,e.pagurmukhi=2602,e.pahiragana=12401,e.paiyannoithai=3631,e.pakatakana=12497,e.palatalizationcyrilliccmb=1156,e.palochkacyrillic=1216,e.pansioskorean=12671,e.paragraph=182,e.parallel=8741,e.parenleft=40,e.parenleftaltonearabic=64830,e.parenleftbt=63725,e.parenleftex=63724,e.parenleftinferior=8333,e.parenleftmonospace=65288,e.parenleftsmall=65113,e.parenleftsuperior=8317,e.parenlefttp=63723,e.parenleftvertical=65077,e.parenright=41,e.parenrightaltonearabic=64831,e.parenrightbt=63736,e.parenrightex=63735,e.parenrightinferior=8334,e.parenrightmonospace=65289,e.parenrightsmall=65114,e.parenrightsuperior=8318,e.parenrighttp=63734,e.parenrightvertical=65078,e.partialdiff=8706,e.paseqhebrew=1472,e.pashtahebrew=1433,e.pasquare=13225,e.patah=1463,e.patah11=1463,e.patah1d=1463,e.patah2a=1463,e.patahhebrew=1463,e.patahnarrowhebrew=1463,e.patahquarterhebrew=1463,e.patahwidehebrew=1463,e.pazerhebrew=1441,e.pbopomofo=12550,e.pcircle=9439,e.pdotaccent=7767,e.pe=1508,e.pecyrillic=1087,e.pedagesh=64324,e.pedageshhebrew=64324,e.peezisquare=13115,e.pefinaldageshhebrew=64323,e.peharabic=1662,e.peharmenian=1402,e.pehebrew=1508,e.pehfinalarabic=64343,e.pehinitialarabic=64344,e.pehiragana=12410,e.pehmedialarabic=64345,e.pekatakana=12506,e.pemiddlehookcyrillic=1191,e.perafehebrew=64334,e.percent=37,e.percentarabic=1642,e.percentmonospace=65285,e.percentsmall=65130,e.period=46,e.periodarmenian=1417,e.periodcentered=183,e.periodhalfwidth=65377,e.periodinferior=63207,e.periodmonospace=65294,e.periodsmall=65106,e.periodsuperior=63208,e.perispomenigreekcmb=834,e.perpendicular=8869,e.perthousand=8240,e.peseta=8359,e.pfsquare=13194,e.phabengali=2475,e.phadeva=2347,e.phagujarati=2731,e.phagurmukhi=2603,e.phi=966,e.phi1=981,e.phieuphacirclekorean=12922,e.phieuphaparenkorean=12826,e.phieuphcirclekorean=12908,e.phieuphkorean=12621,e.phieuphparenkorean=12812,e.philatin=632,e.phinthuthai=3642,e.phisymbolgreek=981,e.phook=421,e.phophanthai=3614,e.phophungthai=3612,e.phosamphaothai=3616,e.pi=960,e.pieupacirclekorean=12915,e.pieupaparenkorean=12819,e.pieupcieuckorean=12662,e.pieupcirclekorean=12901,e.pieupkiyeokkorean=12658,e.pieupkorean=12610,e.pieupparenkorean=12805,e.pieupsioskiyeokkorean=12660,e.pieupsioskorean=12612,e.pieupsiostikeutkorean=12661,e.pieupthieuthkorean=12663,e.pieuptikeutkorean=12659,e.pihiragana=12404,e.pikatakana=12500,e.pisymbolgreek=982,e.piwrarmenian=1411,e.planckover2pi=8463,e.planckover2pi1=8463,e.plus=43,e.plusbelowcmb=799,e.pluscircle=8853,e.plusminus=177,e.plusmod=726,e.plusmonospace=65291,e.plussmall=65122,e.plussuperior=8314,e.pmonospace=65360,e.pmsquare=13272,e.pohiragana=12413,e.pointingindexdownwhite=9759,e.pointingindexleftwhite=9756,e.pointingindexrightwhite=9758,e.pointingindexupwhite=9757,e.pokatakana=12509,e.poplathai=3611,e.postalmark=12306,e.postalmarkface=12320,e.pparen=9387,e.precedes=8826,e.prescription=8478,e.primemod=697,e.primereversed=8245,e.product=8719,e.projective=8965,e.prolongedkana=12540,e.propellor=8984,e.propersubset=8834,e.propersuperset=8835,e.proportion=8759,e.proportional=8733,e.psi=968,e.psicyrillic=1137,e.psilipneumatacyrilliccmb=1158,e.pssquare=13232,e.puhiragana=12407,e.pukatakana=12503,e.pvsquare=13236,e.pwsquare=13242,e.q=113,e.qadeva=2392,e.qadmahebrew=1448,e.qafarabic=1602,e.qaffinalarabic=65238,e.qafinitialarabic=65239,e.qafmedialarabic=65240,e.qamats=1464,e.qamats10=1464,e.qamats1a=1464,e.qamats1c=1464,e.qamats27=1464,e.qamats29=1464,e.qamats33=1464,e.qamatsde=1464,e.qamatshebrew=1464,e.qamatsnarrowhebrew=1464,e.qamatsqatanhebrew=1464,e.qamatsqatannarrowhebrew=1464,e.qamatsqatanquarterhebrew=1464,e.qamatsqatanwidehebrew=1464,e.qamatsquarterhebrew=1464,e.qamatswidehebrew=1464,e.qarneyparahebrew=1439,e.qbopomofo=12561,e.qcircle=9440,e.qhook=672,e.qmonospace=65361,e.qof=1511,e.qofdagesh=64327,e.qofdageshhebrew=64327,e.qofhebrew=1511,e.qparen=9388,e.quarternote=9833,e.qubuts=1467,e.qubuts18=1467,e.qubuts25=1467,e.qubuts31=1467,e.qubutshebrew=1467,e.qubutsnarrowhebrew=1467,e.qubutsquarterhebrew=1467,e.qubutswidehebrew=1467,e.question=63,e.questionarabic=1567,e.questionarmenian=1374,e.questiondown=191,e.questiondownsmall=63423,e.questiongreek=894,e.questionmonospace=65311,e.questionsmall=63295,e.quotedbl=34,e.quotedblbase=8222,e.quotedblleft=8220,e.quotedblmonospace=65282,e.quotedblprime=12318,e.quotedblprimereversed=12317,e.quotedblright=8221,e.quoteleft=8216,e.quoteleftreversed=8219,e.quotereversed=8219,e.quoteright=8217,e.quoterightn=329,e.quotesinglbase=8218,e.quotesingle=39,e.quotesinglemonospace=65287,e.r=114,e.raarmenian=1404,e.rabengali=2480,e.racute=341,e.radeva=2352,e.radical=8730,e.radicalex=63717,e.radoverssquare=13230,e.radoverssquaredsquare=13231,e.radsquare=13229,e.rafe=1471,e.rafehebrew=1471,e.ragujarati=2736,e.ragurmukhi=2608,e.rahiragana=12425,e.rakatakana=12521,e.rakatakanahalfwidth=65431,e.ralowerdiagonalbengali=2545,e.ramiddlediagonalbengali=2544,e.ramshorn=612,e.ratio=8758,e.rbopomofo=12566,e.rcaron=345,e.rcedilla=343,e.rcircle=9441,e.rcommaaccent=343,e.rdblgrave=529,e.rdotaccent=7769,e.rdotbelow=7771,e.rdotbelowmacron=7773,e.referencemark=8251,e.reflexsubset=8838,e.reflexsuperset=8839,e.registered=174,e.registersans=63720,e.registerserif=63194,e.reharabic=1585,e.reharmenian=1408,e.rehfinalarabic=65198,e.rehiragana=12428,e.rekatakana=12524,e.rekatakanahalfwidth=65434,e.resh=1512,e.reshdageshhebrew=64328,e.reshhebrew=1512,e.reversedtilde=8765,e.reviahebrew=1431,e.reviamugrashhebrew=1431,e.revlogicalnot=8976,e.rfishhook=638,e.rfishhookreversed=639,e.rhabengali=2525,e.rhadeva=2397,e.rho=961,e.rhook=637,e.rhookturned=635,e.rhookturnedsuperior=693,e.rhosymbolgreek=1009,e.rhotichookmod=734,e.rieulacirclekorean=12913,e.rieulaparenkorean=12817,e.rieulcirclekorean=12899,e.rieulhieuhkorean=12608,e.rieulkiyeokkorean=12602,e.rieulkiyeoksioskorean=12649,e.rieulkorean=12601,e.rieulmieumkorean=12603,e.rieulpansioskorean=12652,e.rieulparenkorean=12803,e.rieulphieuphkorean=12607,e.rieulpieupkorean=12604,e.rieulpieupsioskorean=12651,e.rieulsioskorean=12605,e.rieulthieuthkorean=12606,e.rieultikeutkorean=12650,e.rieulyeorinhieuhkorean=12653,e.rightangle=8735,e.righttackbelowcmb=793,e.righttriangle=8895,e.rihiragana=12426,e.rikatakana=12522,e.rikatakanahalfwidth=65432,e.ring=730,e.ringbelowcmb=805,e.ringcmb=778,e.ringhalfleft=703,e.ringhalfleftarmenian=1369,e.ringhalfleftbelowcmb=796,e.ringhalfleftcentered=723,e.ringhalfright=702,e.ringhalfrightbelowcmb=825,e.ringhalfrightcentered=722,e.rinvertedbreve=531,e.rittorusquare=13137,e.rlinebelow=7775,e.rlongleg=636,e.rlonglegturned=634,e.rmonospace=65362,e.rohiragana=12429,e.rokatakana=12525,e.rokatakanahalfwidth=65435,e.roruathai=3619,e.rparen=9389,e.rrabengali=2524,e.rradeva=2353,e.rragurmukhi=2652,e.rreharabic=1681,e.rrehfinalarabic=64397,e.rrvocalicbengali=2528,e.rrvocalicdeva=2400,e.rrvocalicgujarati=2784,e.rrvocalicvowelsignbengali=2500,e.rrvocalicvowelsigndeva=2372,e.rrvocalicvowelsigngujarati=2756,e.rsuperior=63217,e.rtblock=9616,e.rturned=633,e.rturnedsuperior=692,e.ruhiragana=12427,e.rukatakana=12523,e.rukatakanahalfwidth=65433,e.rupeemarkbengali=2546,e.rupeesignbengali=2547,e.rupiah=63197,e.ruthai=3620,e.rvocalicbengali=2443,e.rvocalicdeva=2315,e.rvocalicgujarati=2699,e.rvocalicvowelsignbengali=2499,e.rvocalicvowelsigndeva=2371,e.rvocalicvowelsigngujarati=2755,e.s=115,e.sabengali=2488,e.sacute=347,e.sacutedotaccent=7781,e.sadarabic=1589,e.sadeva=2360,e.sadfinalarabic=65210,e.sadinitialarabic=65211,e.sadmedialarabic=65212,e.sagujarati=2744,e.sagurmukhi=2616,e.sahiragana=12373,e.sakatakana=12469,e.sakatakanahalfwidth=65403,e.sallallahoualayhewasallamarabic=65018,e.samekh=1505,e.samekhdagesh=64321,e.samekhdageshhebrew=64321,e.samekhhebrew=1505,e.saraaathai=3634,e.saraaethai=3649,e.saraaimaimalaithai=3652,e.saraaimaimuanthai=3651,e.saraamthai=3635,e.saraathai=3632,e.saraethai=3648,e.saraiileftthai=63622,e.saraiithai=3637,e.saraileftthai=63621,e.saraithai=3636,e.saraothai=3650,e.saraueeleftthai=63624,e.saraueethai=3639,e.saraueleftthai=63623,e.sarauethai=3638,e.sarauthai=3640,e.sarauuthai=3641,e.sbopomofo=12569,e.scaron=353,e.scarondotaccent=7783,e.scedilla=351,e.schwa=601,e.schwacyrillic=1241,e.schwadieresiscyrillic=1243,e.schwahook=602,e.scircle=9442,e.scircumflex=349,e.scommaaccent=537,e.sdotaccent=7777,e.sdotbelow=7779,e.sdotbelowdotaccent=7785,e.seagullbelowcmb=828,e.second=8243,e.secondtonechinese=714,e.section=167,e.seenarabic=1587,e.seenfinalarabic=65202,e.seeninitialarabic=65203,e.seenmedialarabic=65204,e.segol=1462,e.segol13=1462,e.segol1f=1462,e.segol2c=1462,e.segolhebrew=1462,e.segolnarrowhebrew=1462,e.segolquarterhebrew=1462,e.segoltahebrew=1426,e.segolwidehebrew=1462,e.seharmenian=1405,e.sehiragana=12379,e.sekatakana=12475,e.sekatakanahalfwidth=65406,e.semicolon=59,e.semicolonarabic=1563,e.semicolonmonospace=65307,e.semicolonsmall=65108,e.semivoicedmarkkana=12444,e.semivoicedmarkkanahalfwidth=65439,e.sentisquare=13090,e.sentosquare=13091,e.seven=55,e.sevenarabic=1639,e.sevenbengali=2541,e.sevencircle=9318,e.sevencircleinversesansserif=10128,e.sevendeva=2413,e.seveneighths=8542,e.sevengujarati=2797,e.sevengurmukhi=2669,e.sevenhackarabic=1639,e.sevenhangzhou=12327,e.sevenideographicparen=12838,e.seveninferior=8327,e.sevenmonospace=65303,e.sevenoldstyle=63287,e.sevenparen=9338,e.sevenperiod=9358,e.sevenpersian=1783,e.sevenroman=8566,e.sevensuperior=8311,e.seventeencircle=9328,e.seventeenparen=9348,e.seventeenperiod=9368,e.seventhai=3671,e.sfthyphen=173,e.shaarmenian=1399,e.shabengali=2486,e.shacyrillic=1096,e.shaddaarabic=1617,e.shaddadammaarabic=64609,e.shaddadammatanarabic=64606,e.shaddafathaarabic=64608,e.shaddakasraarabic=64610,e.shaddakasratanarabic=64607,e.shade=9618,e.shadedark=9619,e.shadelight=9617,e.shademedium=9618,e.shadeva=2358,e.shagujarati=2742,e.shagurmukhi=2614,e.shalshelethebrew=1427,e.shbopomofo=12565,e.shchacyrillic=1097,e.sheenarabic=1588,e.sheenfinalarabic=65206,e.sheeninitialarabic=65207,e.sheenmedialarabic=65208,e.sheicoptic=995,e.sheqel=8362,e.sheqelhebrew=8362,e.sheva=1456,e.sheva115=1456,e.sheva15=1456,e.sheva22=1456,e.sheva2e=1456,e.shevahebrew=1456,e.shevanarrowhebrew=1456,e.shevaquarterhebrew=1456,e.shevawidehebrew=1456,e.shhacyrillic=1211,e.shimacoptic=1005,e.shin=1513,e.shindagesh=64329,e.shindageshhebrew=64329,e.shindageshshindot=64300,e.shindageshshindothebrew=64300,e.shindageshsindot=64301,e.shindageshsindothebrew=64301,e.shindothebrew=1473,e.shinhebrew=1513,e.shinshindot=64298,e.shinshindothebrew=64298,e.shinsindot=64299,e.shinsindothebrew=64299,e.shook=642,e.sigma=963,e.sigma1=962,e.sigmafinal=962,e.sigmalunatesymbolgreek=1010,e.sihiragana=12375,e.sikatakana=12471,e.sikatakanahalfwidth=65404,e.siluqhebrew=1469,e.siluqlefthebrew=1469,e.similar=8764,e.sindothebrew=1474,e.siosacirclekorean=12916,e.siosaparenkorean=12820,e.sioscieuckorean=12670,e.sioscirclekorean=12902,e.sioskiyeokkorean=12666,e.sioskorean=12613,e.siosnieunkorean=12667,e.siosparenkorean=12806,e.siospieupkorean=12669,e.siostikeutkorean=12668,e.six=54,e.sixarabic=1638,e.sixbengali=2540,e.sixcircle=9317,e.sixcircleinversesansserif=10127,e.sixdeva=2412,e.sixgujarati=2796,e.sixgurmukhi=2668,e.sixhackarabic=1638,e.sixhangzhou=12326,e.sixideographicparen=12837,e.sixinferior=8326,e.sixmonospace=65302,e.sixoldstyle=63286,e.sixparen=9337,e.sixperiod=9357,e.sixpersian=1782,e.sixroman=8565,e.sixsuperior=8310,e.sixteencircle=9327,e.sixteencurrencydenominatorbengali=2553,e.sixteenparen=9347,e.sixteenperiod=9367,e.sixthai=3670,e.slash=47,e.slashmonospace=65295,e.slong=383,e.slongdotaccent=7835,e.smileface=9786,e.smonospace=65363,e.sofpasuqhebrew=1475,e.softhyphen=173,e.softsigncyrillic=1100,e.sohiragana=12381,e.sokatakana=12477,e.sokatakanahalfwidth=65407,e.soliduslongoverlaycmb=824,e.solidusshortoverlaycmb=823,e.sorusithai=3625,e.sosalathai=3624,e.sosothai=3595,e.sosuathai=3626,e.space=32,e.spacehackarabic=32,e.spade=9824,e.spadesuitblack=9824,e.spadesuitwhite=9828,e.sparen=9390,e.squarebelowcmb=827,e.squarecc=13252,e.squarecm=13213,e.squarediagonalcrosshatchfill=9641,e.squarehorizontalfill=9636,e.squarekg=13199,e.squarekm=13214,e.squarekmcapital=13262,e.squareln=13265,e.squarelog=13266,e.squaremg=13198,e.squaremil=13269,e.squaremm=13212,e.squaremsquared=13217,e.squareorthogonalcrosshatchfill=9638,e.squareupperlefttolowerrightfill=9639,e.squareupperrighttolowerleftfill=9640,e.squareverticalfill=9637,e.squarewhitewithsmallblack=9635,e.srsquare=13275,e.ssabengali=2487,e.ssadeva=2359,e.ssagujarati=2743,e.ssangcieuckorean=12617,e.ssanghieuhkorean=12677,e.ssangieungkorean=12672,e.ssangkiyeokkorean=12594,e.ssangnieunkorean=12645,e.ssangpieupkorean=12611,e.ssangsioskorean=12614,e.ssangtikeutkorean=12600,e.ssuperior=63218,e.sterling=163,e.sterlingmonospace=65505,e.strokelongoverlaycmb=822,e.strokeshortoverlaycmb=821,e.subset=8834,e.subsetnotequal=8842,e.subsetorequal=8838,e.succeeds=8827,e.suchthat=8715,e.suhiragana=12377,e.sukatakana=12473,e.sukatakanahalfwidth=65405,e.sukunarabic=1618,e.summation=8721,e.sun=9788,e.superset=8835,e.supersetnotequal=8843,e.supersetorequal=8839,e.svsquare=13276,e.syouwaerasquare=13180,e.t=116,e.tabengali=2468,e.tackdown=8868,e.tackleft=8867,e.tadeva=2340,e.tagujarati=2724,e.tagurmukhi=2596,e.taharabic=1591,e.tahfinalarabic=65218,e.tahinitialarabic=65219,e.tahiragana=12383,e.tahmedialarabic=65220,e.taisyouerasquare=13181,e.takatakana=12479,e.takatakanahalfwidth=65408,e.tatweelarabic=1600,e.tau=964,e.tav=1514,e.tavdages=64330,e.tavdagesh=64330,e.tavdageshhebrew=64330,e.tavhebrew=1514,e.tbar=359,e.tbopomofo=12554,e.tcaron=357,e.tccurl=680,e.tcedilla=355,e.tcheharabic=1670,e.tchehfinalarabic=64379,e.tchehinitialarabic=64380,e.tchehmedialarabic=64381,e.tcircle=9443,e.tcircumflexbelow=7793,e.tcommaaccent=355,e.tdieresis=7831,e.tdotaccent=7787,e.tdotbelow=7789,e.tecyrillic=1090,e.tedescendercyrillic=1197,e.teharabic=1578,e.tehfinalarabic=65174,e.tehhahinitialarabic=64674,e.tehhahisolatedarabic=64524,e.tehinitialarabic=65175,e.tehiragana=12390,e.tehjeeminitialarabic=64673,e.tehjeemisolatedarabic=64523,e.tehmarbutaarabic=1577,e.tehmarbutafinalarabic=65172,e.tehmedialarabic=65176,e.tehmeeminitialarabic=64676,e.tehmeemisolatedarabic=64526,e.tehnoonfinalarabic=64627,e.tekatakana=12486,e.tekatakanahalfwidth=65411,e.telephone=8481,e.telephoneblack=9742,e.telishagedolahebrew=1440,e.telishaqetanahebrew=1449,e.tencircle=9321,e.tenideographicparen=12841,e.tenparen=9341,e.tenperiod=9361,e.tenroman=8569,e.tesh=679,e.tet=1496,e.tetdagesh=64312,e.tetdageshhebrew=64312,e.tethebrew=1496,e.tetsecyrillic=1205,e.tevirhebrew=1435,e.tevirlefthebrew=1435,e.thabengali=2469,e.thadeva=2341,e.thagujarati=2725,e.thagurmukhi=2597,e.thalarabic=1584,e.thalfinalarabic=65196,e.thanthakhatlowleftthai=63640,e.thanthakhatlowrightthai=63639,e.thanthakhatthai=3660,e.thanthakhatupperleftthai=63638,e.theharabic=1579,e.thehfinalarabic=65178,e.thehinitialarabic=65179,e.thehmedialarabic=65180,e.thereexists=8707,e.therefore=8756,e.theta=952,e.theta1=977,e.thetasymbolgreek=977,e.thieuthacirclekorean=12921,e.thieuthaparenkorean=12825,e.thieuthcirclekorean=12907,e.thieuthkorean=12620,e.thieuthparenkorean=12811,e.thirteencircle=9324,e.thirteenparen=9344,e.thirteenperiod=9364,e.thonangmonthothai=3601,e.thook=429,e.thophuthaothai=3602,e.thorn=254,e.thothahanthai=3607,e.thothanthai=3600,e.thothongthai=3608,e.thothungthai=3606,e.thousandcyrillic=1154,e.thousandsseparatorarabic=1644,e.thousandsseparatorpersian=1644,e.three=51,e.threearabic=1635,e.threebengali=2537,e.threecircle=9314,e.threecircleinversesansserif=10124,e.threedeva=2409,e.threeeighths=8540,e.threegujarati=2793,e.threegurmukhi=2665,e.threehackarabic=1635,e.threehangzhou=12323,e.threeideographicparen=12834,e.threeinferior=8323,e.threemonospace=65299,e.threenumeratorbengali=2550,e.threeoldstyle=63283,e.threeparen=9334,e.threeperiod=9354,e.threepersian=1779,e.threequarters=190,e.threequartersemdash=63198,e.threeroman=8562,e.threesuperior=179,e.threethai=3667,e.thzsquare=13204,e.tihiragana=12385,e.tikatakana=12481,e.tikatakanahalfwidth=65409,e.tikeutacirclekorean=12912,e.tikeutaparenkorean=12816,e.tikeutcirclekorean=12898,e.tikeutkorean=12599,e.tikeutparenkorean=12802,e.tilde=732,e.tildebelowcmb=816,e.tildecmb=771,e.tildecomb=771,e.tildedoublecmb=864,e.tildeoperator=8764,e.tildeoverlaycmb=820,e.tildeverticalcmb=830,e.timescircle=8855,e.tipehahebrew=1430,e.tipehalefthebrew=1430,e.tippigurmukhi=2672,e.titlocyrilliccmb=1155,e.tiwnarmenian=1407,e.tlinebelow=7791,e.tmonospace=65364,e.toarmenian=1385,e.tohiragana=12392,e.tokatakana=12488,e.tokatakanahalfwidth=65412,e.tonebarextrahighmod=741,e.tonebarextralowmod=745,e.tonebarhighmod=742,e.tonebarlowmod=744,e.tonebarmidmod=743,e.tonefive=445,e.tonesix=389,e.tonetwo=424,e.tonos=900,e.tonsquare=13095,e.topatakthai=3599,e.tortoiseshellbracketleft=12308,e.tortoiseshellbracketleftsmall=65117,e.tortoiseshellbracketleftvertical=65081,e.tortoiseshellbracketright=12309,e.tortoiseshellbracketrightsmall=65118,e.tortoiseshellbracketrightvertical=65082,e.totaothai=3605,e.tpalatalhook=427,e.tparen=9391,e.trademark=8482,e.trademarksans=63722,e.trademarkserif=63195,e.tretroflexhook=648,e.triagdn=9660,e.triaglf=9668,e.triagrt=9658,e.triagup=9650,e.ts=678,e.tsadi=1510,e.tsadidagesh=64326,e.tsadidageshhebrew=64326,e.tsadihebrew=1510,e.tsecyrillic=1094,e.tsere=1461,e.tsere12=1461,e.tsere1e=1461,e.tsere2b=1461,e.tserehebrew=1461,e.tserenarrowhebrew=1461,e.tserequarterhebrew=1461,e.tserewidehebrew=1461,e.tshecyrillic=1115,e.tsuperior=63219,e.ttabengali=2463,e.ttadeva=2335,e.ttagujarati=2719,e.ttagurmukhi=2591,e.tteharabic=1657,e.ttehfinalarabic=64359,e.ttehinitialarabic=64360,e.ttehmedialarabic=64361,e.tthabengali=2464,e.tthadeva=2336,e.tthagujarati=2720,e.tthagurmukhi=2592,e.tturned=647,e.tuhiragana=12388,e.tukatakana=12484,e.tukatakanahalfwidth=65410,e.tusmallhiragana=12387,e.tusmallkatakana=12483,e.tusmallkatakanahalfwidth=65391,e.twelvecircle=9323,e.twelveparen=9343,e.twelveperiod=9363,e.twelveroman=8571,e.twentycircle=9331,e.twentyhangzhou=21316,e.twentyparen=9351,e.twentyperiod=9371,e.two=50,e.twoarabic=1634,e.twobengali=2536,e.twocircle=9313,e.twocircleinversesansserif=10123,e.twodeva=2408,e.twodotenleader=8229,e.twodotleader=8229,e.twodotleadervertical=65072,e.twogujarati=2792,e.twogurmukhi=2664,e.twohackarabic=1634,e.twohangzhou=12322,e.twoideographicparen=12833,e.twoinferior=8322,e.twomonospace=65298,e.twonumeratorbengali=2549,e.twooldstyle=63282,e.twoparen=9333,e.twoperiod=9353,e.twopersian=1778,e.tworoman=8561,e.twostroke=443,e.twosuperior=178,e.twothai=3666,e.twothirds=8532,e.u=117,e.uacute=250,e.ubar=649,e.ubengali=2441,e.ubopomofo=12584,e.ubreve=365,e.ucaron=468,e.ucircle=9444,e.ucircumflex=251,e.ucircumflexbelow=7799,e.ucyrillic=1091,e.udattadeva=2385,e.udblacute=369,e.udblgrave=533,e.udeva=2313,e.udieresis=252,e.udieresisacute=472,e.udieresisbelow=7795,e.udieresiscaron=474,e.udieresiscyrillic=1265,e.udieresisgrave=476,e.udieresismacron=470,e.udotbelow=7909,e.ugrave=249,e.ugujarati=2697,e.ugurmukhi=2569,e.uhiragana=12358,e.uhookabove=7911,e.uhorn=432,e.uhornacute=7913,e.uhorndotbelow=7921,e.uhorngrave=7915,e.uhornhookabove=7917,e.uhorntilde=7919,e.uhungarumlaut=369,e.uhungarumlautcyrillic=1267,e.uinvertedbreve=535,e.ukatakana=12454,e.ukatakanahalfwidth=65395,e.ukcyrillic=1145,e.ukorean=12636,e.umacron=363,e.umacroncyrillic=1263,e.umacrondieresis=7803,e.umatragurmukhi=2625,e.umonospace=65365,e.underscore=95,e.underscoredbl=8215,e.underscoremonospace=65343,e.underscorevertical=65075,e.underscorewavy=65103,e.union=8746,e.universal=8704,e.uogonek=371,e.uparen=9392,e.upblock=9600,e.upperdothebrew=1476,e.upsilon=965,e.upsilondieresis=971,e.upsilondieresistonos=944,e.upsilonlatin=650,e.upsilontonos=973,e.uptackbelowcmb=797,e.uptackmod=724,e.uragurmukhi=2675,e.uring=367,e.ushortcyrillic=1118,e.usmallhiragana=12357,e.usmallkatakana=12453,e.usmallkatakanahalfwidth=65385,e.ustraightcyrillic=1199,e.ustraightstrokecyrillic=1201,e.utilde=361,e.utildeacute=7801,e.utildebelow=7797,e.uubengali=2442,e.uudeva=2314,e.uugujarati=2698,e.uugurmukhi=2570,e.uumatragurmukhi=2626,e.uuvowelsignbengali=2498,e.uuvowelsigndeva=2370,e.uuvowelsigngujarati=2754,e.uvowelsignbengali=2497,e.uvowelsigndeva=2369,e.uvowelsigngujarati=2753,e.v=118,e.vadeva=2357,e.vagujarati=2741,e.vagurmukhi=2613,e.vakatakana=12535,e.vav=1493,e.vavdagesh=64309,e.vavdagesh65=64309,e.vavdageshhebrew=64309,e.vavhebrew=1493,e.vavholam=64331,e.vavholamhebrew=64331,e.vavvavhebrew=1520,e.vavyodhebrew=1521,e.vcircle=9445,e.vdotbelow=7807,e.vecyrillic=1074,e.veharabic=1700,e.vehfinalarabic=64363,e.vehinitialarabic=64364,e.vehmedialarabic=64365,e.vekatakana=12537,e.venus=9792,e.verticalbar=124,e.verticallineabovecmb=781,e.verticallinebelowcmb=809,e.verticallinelowmod=716,e.verticallinemod=712,e.vewarmenian=1406,e.vhook=651,e.vikatakana=12536,e.viramabengali=2509,e.viramadeva=2381,e.viramagujarati=2765,e.visargabengali=2435,e.visargadeva=2307,e.visargagujarati=2691,e.vmonospace=65366,e.voarmenian=1400,e.voicediterationhiragana=12446,e.voicediterationkatakana=12542,e.voicedmarkkana=12443,e.voicedmarkkanahalfwidth=65438,e.vokatakana=12538,e.vparen=9393,e.vtilde=7805,e.vturned=652,e.vuhiragana=12436,e.vukatakana=12532,e.w=119,e.wacute=7811,e.waekorean=12633,e.wahiragana=12431,e.wakatakana=12527,e.wakatakanahalfwidth=65436,e.wakorean=12632,e.wasmallhiragana=12430,e.wasmallkatakana=12526,e.wattosquare=13143,e.wavedash=12316,e.wavyunderscorevertical=65076,e.wawarabic=1608,e.wawfinalarabic=65262,e.wawhamzaabovearabic=1572,e.wawhamzaabovefinalarabic=65158,e.wbsquare=13277,e.wcircle=9446,e.wcircumflex=373,e.wdieresis=7813,e.wdotaccent=7815,e.wdotbelow=7817,e.wehiragana=12433,e.weierstrass=8472,e.wekatakana=12529,e.wekorean=12638,e.weokorean=12637,e.wgrave=7809,e.whitebullet=9702,e.whitecircle=9675,e.whitecircleinverse=9689,e.whitecornerbracketleft=12302,e.whitecornerbracketleftvertical=65091,e.whitecornerbracketright=12303,e.whitecornerbracketrightvertical=65092,e.whitediamond=9671,e.whitediamondcontainingblacksmalldiamond=9672,e.whitedownpointingsmalltriangle=9663,e.whitedownpointingtriangle=9661,e.whiteleftpointingsmalltriangle=9667,e.whiteleftpointingtriangle=9665,e.whitelenticularbracketleft=12310,e.whitelenticularbracketright=12311,e.whiterightpointingsmalltriangle=9657,e.whiterightpointingtriangle=9655,e.whitesmallsquare=9643,e.whitesmilingface=9786,e.whitesquare=9633,e.whitestar=9734,e.whitetelephone=9743,e.whitetortoiseshellbracketleft=12312,e.whitetortoiseshellbracketright=12313,e.whiteuppointingsmalltriangle=9653,e.whiteuppointingtriangle=9651,e.wihiragana=12432,e.wikatakana=12528,e.wikorean=12639,e.wmonospace=65367,e.wohiragana=12434,e.wokatakana=12530,e.wokatakanahalfwidth=65382,e.won=8361,e.wonmonospace=65510,e.wowaenthai=3623,e.wparen=9394,e.wring=7832,e.wsuperior=695,e.wturned=653,e.wynn=447,e.x=120,e.xabovecmb=829,e.xbopomofo=12562,e.xcircle=9447,e.xdieresis=7821,e.xdotaccent=7819,e.xeharmenian=1389,e.xi=958,e.xmonospace=65368,e.xparen=9395,e.xsuperior=739,e.y=121,e.yaadosquare=13134,e.yabengali=2479,e.yacute=253,e.yadeva=2351,e.yaekorean=12626,e.yagujarati=2735,e.yagurmukhi=2607,e.yahiragana=12420,e.yakatakana=12516,e.yakatakanahalfwidth=65428,e.yakorean=12625,e.yamakkanthai=3662,e.yasmallhiragana=12419,e.yasmallkatakana=12515,e.yasmallkatakanahalfwidth=65388,e.yatcyrillic=1123,e.ycircle=9448,e.ycircumflex=375,e.ydieresis=255,e.ydotaccent=7823,e.ydotbelow=7925,e.yeharabic=1610,e.yehbarreearabic=1746,e.yehbarreefinalarabic=64431,e.yehfinalarabic=65266,e.yehhamzaabovearabic=1574,e.yehhamzaabovefinalarabic=65162,e.yehhamzaaboveinitialarabic=65163,e.yehhamzaabovemedialarabic=65164,e.yehinitialarabic=65267,e.yehmedialarabic=65268,e.yehmeeminitialarabic=64733,e.yehmeemisolatedarabic=64600,e.yehnoonfinalarabic=64660,e.yehthreedotsbelowarabic=1745,e.yekorean=12630,e.yen=165,e.yenmonospace=65509,e.yeokorean=12629,e.yeorinhieuhkorean=12678,e.yerahbenyomohebrew=1450,e.yerahbenyomolefthebrew=1450,e.yericyrillic=1099,e.yerudieresiscyrillic=1273,e.yesieungkorean=12673,e.yesieungpansioskorean=12675,e.yesieungsioskorean=12674,e.yetivhebrew=1434,e.ygrave=7923,e.yhook=436,e.yhookabove=7927,e.yiarmenian=1397,e.yicyrillic=1111,e.yikorean=12642,e.yinyang=9775,e.yiwnarmenian=1410,e.ymonospace=65369,e.yod=1497,e.yoddagesh=64313,e.yoddageshhebrew=64313,e.yodhebrew=1497,e.yodyodhebrew=1522,e.yodyodpatahhebrew=64287,e.yohiragana=12424,e.yoikorean=12681,e.yokatakana=12520,e.yokatakanahalfwidth=65430,e.yokorean=12635,e.yosmallhiragana=12423,e.yosmallkatakana=12519,e.yosmallkatakanahalfwidth=65390,e.yotgreek=1011,e.yoyaekorean=12680,e.yoyakorean=12679,e.yoyakthai=3618,e.yoyingthai=3597,e.yparen=9396,e.ypogegrammeni=890,e.ypogegrammenigreekcmb=837,e.yr=422,e.yring=7833,e.ysuperior=696,e.ytilde=7929,e.yturned=654,e.yuhiragana=12422,e.yuikorean=12684,e.yukatakana=12518,e.yukatakanahalfwidth=65429,e.yukorean=12640,e.yusbigcyrillic=1131,e.yusbigiotifiedcyrillic=1133,e.yuslittlecyrillic=1127,e.yuslittleiotifiedcyrillic=1129,e.yusmallhiragana=12421,e.yusmallkatakana=12517,e.yusmallkatakanahalfwidth=65389,e.yuyekorean=12683,e.yuyeokorean=12682,e.yyabengali=2527,e.yyadeva=2399,e.z=122,e.zaarmenian=1382,e.zacute=378,e.zadeva=2395,e.zagurmukhi=2651,e.zaharabic=1592,e.zahfinalarabic=65222,e.zahinitialarabic=65223,e.zahiragana=12374,e.zahmedialarabic=65224,e.zainarabic=1586,e.zainfinalarabic=65200,e.zakatakana=12470,e.zaqefgadolhebrew=1429,e.zaqefqatanhebrew=1428,e.zarqahebrew=1432,e.zayin=1494,e.zayindagesh=64310,e.zayindageshhebrew=64310,e.zayinhebrew=1494,e.zbopomofo=12567,e.zcaron=382,e.zcircle=9449,e.zcircumflex=7825,e.zcurl=657,e.zdot=380,e.zdotaccent=380,e.zdotbelow=7827,e.zecyrillic=1079,e.zedescendercyrillic=1177,e.zedieresiscyrillic=1247,e.zehiragana=12380,e.zekatakana=12476,e.zero=48,e.zeroarabic=1632,e.zerobengali=2534,e.zerodeva=2406,e.zerogujarati=2790,e.zerogurmukhi=2662,e.zerohackarabic=1632,e.zeroinferior=8320,e.zeromonospace=65296,e.zerooldstyle=63280,e.zeropersian=1776,e.zerosuperior=8304,e.zerothai=3664,e.zerowidthjoiner=65279,e.zerowidthnonjoiner=8204,e.zerowidthspace=8203,e.zeta=950,e.zhbopomofo=12563,e.zhearmenian=1386,e.zhebrevecyrillic=1218,e.zhecyrillic=1078,e.zhedescendercyrillic=1175,e.zhedieresiscyrillic=1245,e.zihiragana=12376,e.zikatakana=12472,e.zinorhebrew=1454,e.zlinebelow=7829,e.zmonospace=65370,e.zohiragana=12382,e.zokatakana=12478,e.zparen=9397,e.zretroflexhook=656,e.zstroke=438,e.zuhiragana=12378,e.zukatakana=12474,e[".notdef"]=0,e.angbracketleftbig=9001,e.angbracketleftBig=9001,e.angbracketleftbigg=9001,e.angbracketleftBigg=9001,e.angbracketrightBig=9002,e.angbracketrightbig=9002,e.angbracketrightBigg=9002,e.angbracketrightbigg=9002,e.arrowhookleft=8618,e.arrowhookright=8617,e.arrowlefttophalf=8636,e.arrowleftbothalf=8637,e.arrownortheast=8599,e.arrownorthwest=8598,e.arrowrighttophalf=8640,e.arrowrightbothalf=8641,e.arrowsoutheast=8600,e.arrowsouthwest=8601,e.backslashbig=8726,e.backslashBig=8726,e.backslashBigg=8726,e.backslashbigg=8726,e.bardbl=8214,e.bracehtipdownleft=65079,e.bracehtipdownright=65079,e.bracehtipupleft=65080,e.bracehtipupright=65080,e.braceleftBig=123,e.braceleftbig=123,e.braceleftbigg=123,e.braceleftBigg=123,e.bracerightBig=125,e.bracerightbig=125,e.bracerightbigg=125,e.bracerightBigg=125,e.bracketleftbig=91,e.bracketleftBig=91,e.bracketleftbigg=91,e.bracketleftBigg=91,e.bracketrightBig=93,e.bracketrightbig=93,e.bracketrightbigg=93,e.bracketrightBigg=93,e.ceilingleftbig=8968,e.ceilingleftBig=8968,e.ceilingleftBigg=8968,e.ceilingleftbigg=8968,e.ceilingrightbig=8969,e.ceilingrightBig=8969,e.ceilingrightbigg=8969,e.ceilingrightBigg=8969,e.circledotdisplay=8857,e.circledottext=8857,e.circlemultiplydisplay=8855,e.circlemultiplytext=8855,e.circleplusdisplay=8853,e.circleplustext=8853,e.contintegraldisplay=8750,e.contintegraltext=8750,e.coproductdisplay=8720,e.coproducttext=8720,e.floorleftBig=8970,e.floorleftbig=8970,e.floorleftbigg=8970,e.floorleftBigg=8970,e.floorrightbig=8971,e.floorrightBig=8971,e.floorrightBigg=8971,e.floorrightbigg=8971,e.hatwide=770,e.hatwider=770,e.hatwidest=770,e.intercal=7488,e.integraldisplay=8747,e.integraltext=8747,e.intersectiondisplay=8898,e.intersectiontext=8898,e.logicalanddisplay=8743,e.logicalandtext=8743,e.logicalordisplay=8744,e.logicalortext=8744,e.parenleftBig=40,e.parenleftbig=40,e.parenleftBigg=40,e.parenleftbigg=40,e.parenrightBig=41,e.parenrightbig=41,e.parenrightBigg=41,e.parenrightbigg=41,e.prime=8242,e.productdisplay=8719,e.producttext=8719,e.radicalbig=8730,e.radicalBig=8730,e.radicalBigg=8730,e.radicalbigg=8730,e.radicalbt=8730,e.radicaltp=8730,e.radicalvertex=8730,e.slashbig=47,e.slashBig=47,e.slashBigg=47,e.slashbigg=47,e.summationdisplay=8721,e.summationtext=8721,e.tildewide=732,e.tildewider=732,e.tildewidest=732,e.uniondisplay=8899,e.unionmultidisplay=8846,e.unionmultitext=8846,e.unionsqdisplay=8852,e.unionsqtext=8852,e.uniontext=8899,e.vextenddouble=8741,e.vextendsingle=8739});m.getGlyphsUnicode=S;const N=(0,n.getLookupTableFactory)(function(e){e.space=32,e.a1=9985,e.a2=9986,e.a202=9987,e.a3=9988,e.a4=9742,e.a5=9990,e.a119=9991,e.a118=9992,e.a117=9993,e.a11=9755,e.a12=9758,e.a13=9996,e.a14=9997,e.a15=9998,e.a16=9999,e.a105=1e4,e.a17=10001,e.a18=10002,e.a19=10003,e.a20=10004,e.a21=10005,e.a22=10006,e.a23=10007,e.a24=10008,e.a25=10009,e.a26=10010,e.a27=10011,e.a28=10012,e.a6=10013,e.a7=10014,e.a8=10015,e.a9=10016,e.a10=10017,e.a29=10018,e.a30=10019,e.a31=10020,e.a32=10021,e.a33=10022,e.a34=10023,e.a35=9733,e.a36=10025,e.a37=10026,e.a38=10027,e.a39=10028,e.a40=10029,e.a41=10030,e.a42=10031,e.a43=10032,e.a44=10033,e.a45=10034,e.a46=10035,e.a47=10036,e.a48=10037,e.a49=10038,e.a50=10039,e.a51=10040,e.a52=10041,e.a53=10042,e.a54=10043,e.a55=10044,e.a56=10045,e.a57=10046,e.a58=10047,e.a59=10048,e.a60=10049,e.a61=10050,e.a62=10051,e.a63=10052,e.a64=10053,e.a65=10054,e.a66=10055,e.a67=10056,e.a68=10057,e.a69=10058,e.a70=10059,e.a71=9679,e.a72=10061,e.a73=9632,e.a74=10063,e.a203=10064,e.a75=10065,e.a204=10066,e.a76=9650,e.a77=9660,e.a78=9670,e.a79=10070,e.a81=9687,e.a82=10072,e.a83=10073,e.a84=10074,e.a97=10075,e.a98=10076,e.a99=10077,e.a100=10078,e.a101=10081,e.a102=10082,e.a103=10083,e.a104=10084,e.a106=10085,e.a107=10086,e.a108=10087,e.a112=9827,e.a111=9830,e.a110=9829,e.a109=9824,e.a120=9312,e.a121=9313,e.a122=9314,e.a123=9315,e.a124=9316,e.a125=9317,e.a126=9318,e.a127=9319,e.a128=9320,e.a129=9321,e.a130=10102,e.a131=10103,e.a132=10104,e.a133=10105,e.a134=10106,e.a135=10107,e.a136=10108,e.a137=10109,e.a138=10110,e.a139=10111,e.a140=10112,e.a141=10113,e.a142=10114,e.a143=10115,e.a144=10116,e.a145=10117,e.a146=10118,e.a147=10119,e.a148=10120,e.a149=10121,e.a150=10122,e.a151=10123,e.a152=10124,e.a153=10125,e.a154=10126,e.a155=10127,e.a156=10128,e.a157=10129,e.a158=10130,e.a159=10131,e.a160=10132,e.a161=8594,e.a163=8596,e.a164=8597,e.a196=10136,e.a165=10137,e.a192=10138,e.a166=10139,e.a167=10140,e.a168=10141,e.a169=10142,e.a170=10143,e.a171=10144,e.a172=10145,e.a173=10146,e.a162=10147,e.a174=10148,e.a175=10149,e.a176=10150,e.a177=10151,e.a178=10152,e.a179=10153,e.a193=10154,e.a180=10155,e.a199=10156,e.a181=10157,e.a200=10158,e.a182=10159,e.a201=10161,e.a183=10162,e.a184=10163,e.a197=10164,e.a185=10165,e.a194=10166,e.a198=10167,e.a186=10168,e.a195=10169,e.a187=10170,e.a188=10171,e.a189=10172,e.a190=10173,e.a191=10174,e.a89=10088,e.a90=10089,e.a93=10090,e.a94=10091,e.a91=10092,e.a92=10093,e.a205=10094,e.a85=10095,e.a206=10096,e.a86=10097,e.a87=10098,e.a88=10099,e.a95=10100,e.a96=10101,e[".notdef"]=0});m.getDingbatsGlyphsUnicode=N},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.clearUnicodeCaches=I,m.getCharUnicodeCategory=M,m.getUnicodeForGlyph=e,m.getUnicodeRangeFor=r,m.mapSpecialUnicodeValues=N;var n=Q(3);const S=(0,n.getLookupTableFactory)(function(d){d[63721]=169,d[63193]=169,d[63720]=174,d[63194]=174,d[63722]=8482,d[63195]=8482,d[63729]=9127,d[63730]=9128,d[63731]=9129,d[63740]=9131,d[63741]=9132,d[63742]=9133,d[63726]=9121,d[63727]=9122,d[63728]=9123,d[63737]=9124,d[63738]=9125,d[63739]=9126,d[63723]=9115,d[63724]=9116,d[63725]=9117,d[63734]=9118,d[63735]=9119,d[63736]=9120});function N(d){return d>=65520&&d<=65535?0:d>=62976&&d<=63743?S()[d]||d:d===173?45:d}function e(d,u){let i=u[d];if(i!==void 0)return i;if(!d)return-1;if(d[0]==="u"){const F=d.length;let C;if(F===7&&d[1]==="n"&&d[2]==="i")C=d.substring(3);else if(F>=5&&F<=7)C=d.substring(1);else return-1;if(C===C.toUpperCase()&&(i=parseInt(C,16),i>=0))return i}return-1}const t=[[0,127],[128,255],[256,383],[384,591],[592,687,7424,7551,7552,7615],[688,767,42752,42783],[768,879,7616,7679],[880,1023],[11392,11519],[1024,1279,1280,1327,11744,11775,42560,42655],[1328,1423],[1424,1535],[42240,42559],[1536,1791,1872,1919],[1984,2047],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3584,3711],[3712,3839],[4256,4351,11520,11567],[6912,7039],[4352,4607],[7680,7935,11360,11391,42784,43007],[7936,8191],[8192,8303,11776,11903],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703,10224,10239,10496,10623,11008,11263],[8704,8959,10752,11007,10176,10223,10624,10751],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[12288,12351],[12352,12447],[12448,12543,12784,12799],[12544,12591,12704,12735],[12592,12687],[43072,43135],[12800,13055],[13056,13311],[44032,55215],[55296,57343],[67840,67871],[19968,40959,11904,12031,12032,12255,12272,12287,13312,19903,131072,173791,12688,12703],[57344,63743],[12736,12783,63744,64255,194560,195103],[64256,64335],[64336,65023],[65056,65071],[65040,65055],[65104,65135],[65136,65279],[65280,65519],[65520,65535],[3840,4095],[1792,1871],[1920,1983],[3456,3583],[4096,4255],[4608,4991,4992,5023,11648,11743],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[10240,10495],[40960,42127],[5888,5919,5920,5951,5952,5983,5984,6015],[66304,66351],[66352,66383],[66560,66639],[118784,119039,119040,119295,119296,119375],[119808,120831],[1044480,1048573],[65024,65039,917760,917999],[917504,917631],[6400,6479],[6480,6527],[6528,6623],[6656,6687],[11264,11359],[11568,11647],[19904,19967],[43008,43055],[65536,65663,65664,65791,65792,65855],[65856,65935],[66432,66463],[66464,66527],[66640,66687],[66688,66735],[67584,67647],[68096,68191],[119552,119647],[73728,74751,74752,74879],[119648,119679],[7040,7103],[7168,7247],[7248,7295],[43136,43231],[43264,43311],[43312,43359],[43520,43615],[65936,65999],[66e3,66047],[66208,66271,66176,66207,67872,67903],[127024,127135,126976,127023]];function r(d,u=-1){if(u!==-1){const i=t[u];for(let F=0,C=i.length;F<C;F+=2)if(d>=i[F]&&d<=i[F+1])return u}for(let i=0,F=t.length;i<F;i++){const C=t[i];for(let T=0,b=C.length;T<b;T+=2)if(d>=C[T]&&d<=C[T+1])return i}return-1}const z=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),j=new Map;function M(d){const u=j.get(d);if(u)return u;const i=d.match(z),F={isWhitespace:!!(i!=null&&i[1]),isZeroWidthDiacritic:!!(i!=null&&i[2]),isInvisibleFormatMark:!!(i!=null&&i[3])};return j.set(d,F),F}function I(){j.clear()}},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.getSerifFonts=m.getNonStdFontMap=m.getGlyphMapForStandardFonts=m.getFontNameToFileMap=void 0,m.getStandardFontName=d,m.getSymbolsFonts=m.getSupplementalGlyphMapForCalibri=m.getSupplementalGlyphMapForArialBlack=m.getStdFontMap=void 0,m.isKnownFontName=u;var n=Q(3),S=Q(38);const N=(0,n.getLookupTableFactory)(function(i){i["Times-Roman"]="Times-Roman",i.Helvetica="Helvetica",i.Courier="Courier",i.Symbol="Symbol",i["Times-Bold"]="Times-Bold",i["Helvetica-Bold"]="Helvetica-Bold",i["Courier-Bold"]="Courier-Bold",i.ZapfDingbats="ZapfDingbats",i["Times-Italic"]="Times-Italic",i["Helvetica-Oblique"]="Helvetica-Oblique",i["Courier-Oblique"]="Courier-Oblique",i["Times-BoldItalic"]="Times-BoldItalic",i["Helvetica-BoldOblique"]="Helvetica-BoldOblique",i["Courier-BoldOblique"]="Courier-BoldOblique",i.ArialNarrow="Helvetica",i["ArialNarrow-Bold"]="Helvetica-Bold",i["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",i["ArialNarrow-Italic"]="Helvetica-Oblique",i.ArialBlack="Helvetica",i["ArialBlack-Bold"]="Helvetica-Bold",i["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",i["ArialBlack-Italic"]="Helvetica-Oblique",i["Arial-Black"]="Helvetica",i["Arial-Black-Bold"]="Helvetica-Bold",i["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",i["Arial-Black-Italic"]="Helvetica-Oblique",i.Arial="Helvetica",i["Arial-Bold"]="Helvetica-Bold",i["Arial-BoldItalic"]="Helvetica-BoldOblique",i["Arial-Italic"]="Helvetica-Oblique",i.ArialMT="Helvetica",i["Arial-BoldItalicMT"]="Helvetica-BoldOblique",i["Arial-BoldMT"]="Helvetica-Bold",i["Arial-ItalicMT"]="Helvetica-Oblique",i["Arial-BoldItalicMT-BoldItalic"]="Helvetica-BoldOblique",i["Arial-BoldMT-Bold"]="Helvetica-Bold",i["Arial-ItalicMT-Italic"]="Helvetica-Oblique",i.ArialUnicodeMS="Helvetica",i["ArialUnicodeMS-Bold"]="Helvetica-Bold",i["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",i["ArialUnicodeMS-Italic"]="Helvetica-Oblique",i["Courier-BoldItalic"]="Courier-BoldOblique",i["Courier-Italic"]="Courier-Oblique",i.CourierNew="Courier",i["CourierNew-Bold"]="Courier-Bold",i["CourierNew-BoldItalic"]="Courier-BoldOblique",i["CourierNew-Italic"]="Courier-Oblique",i["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",i["CourierNewPS-BoldMT"]="Courier-Bold",i["CourierNewPS-ItalicMT"]="Courier-Oblique",i.CourierNewPSMT="Courier",i["Helvetica-BoldItalic"]="Helvetica-BoldOblique",i["Helvetica-Italic"]="Helvetica-Oblique",i["Symbol-Bold"]="Symbol",i["Symbol-BoldItalic"]="Symbol",i["Symbol-Italic"]="Symbol",i.TimesNewRoman="Times-Roman",i["TimesNewRoman-Bold"]="Times-Bold",i["TimesNewRoman-BoldItalic"]="Times-BoldItalic",i["TimesNewRoman-Italic"]="Times-Italic",i.TimesNewRomanPS="Times-Roman",i["TimesNewRomanPS-Bold"]="Times-Bold",i["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",i["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",i["TimesNewRomanPS-BoldMT"]="Times-Bold",i["TimesNewRomanPS-Italic"]="Times-Italic",i["TimesNewRomanPS-ItalicMT"]="Times-Italic",i.TimesNewRomanPSMT="Times-Roman",i["TimesNewRomanPSMT-Bold"]="Times-Bold",i["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",i["TimesNewRomanPSMT-Italic"]="Times-Italic"});m.getStdFontMap=N;const e=(0,n.getLookupTableFactory)(function(i){i.Courier="FoxitFixed.pfb",i["Courier-Bold"]="FoxitFixedBold.pfb",i["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",i["Courier-Oblique"]="FoxitFixedItalic.pfb",i.Helvetica="LiberationSans-Regular.ttf",i["Helvetica-Bold"]="LiberationSans-Bold.ttf",i["Helvetica-BoldOblique"]="LiberationSans-BoldItalic.ttf",i["Helvetica-Oblique"]="LiberationSans-Italic.ttf",i["Times-Roman"]="FoxitSerif.pfb",i["Times-Bold"]="FoxitSerifBold.pfb",i["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",i["Times-Italic"]="FoxitSerifItalic.pfb",i.Symbol="FoxitSymbol.pfb",i.ZapfDingbats="FoxitDingbats.pfb",i["LiberationSans-Regular"]="LiberationSans-Regular.ttf",i["LiberationSans-Bold"]="LiberationSans-Bold.ttf",i["LiberationSans-Italic"]="LiberationSans-Italic.ttf",i["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});m.getFontNameToFileMap=e;const t=(0,n.getLookupTableFactory)(function(i){i.Calibri="Helvetica",i["Calibri-Bold"]="Helvetica-Bold",i["Calibri-BoldItalic"]="Helvetica-BoldOblique",i["Calibri-Italic"]="Helvetica-Oblique",i.CenturyGothic="Helvetica",i["CenturyGothic-Bold"]="Helvetica-Bold",i["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",i["CenturyGothic-Italic"]="Helvetica-Oblique",i.ComicSansMS="Comic Sans MS",i["ComicSansMS-Bold"]="Comic Sans MS-Bold",i["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",i["ComicSansMS-Italic"]="Comic Sans MS-Italic",i.Impact="Helvetica",i["ItcSymbol-Bold"]="Helvetica-Bold",i["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",i["ItcSymbol-Book"]="Helvetica",i["ItcSymbol-BookItalic"]="Helvetica-Oblique",i["ItcSymbol-Medium"]="Helvetica",i["ItcSymbol-MediumItalic"]="Helvetica-Oblique",i.LucidaConsole="Courier",i["LucidaConsole-Bold"]="Courier-Bold",i["LucidaConsole-BoldItalic"]="Courier-BoldOblique",i["LucidaConsole-Italic"]="Courier-Oblique",i["LucidaSans-Demi"]="Helvetica-Bold",i["MS-Gothic"]="MS Gothic",i["MS-Gothic-Bold"]="MS Gothic-Bold",i["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",i["MS-Gothic-Italic"]="MS Gothic-Italic",i["MS-Mincho"]="MS Mincho",i["MS-Mincho-Bold"]="MS Mincho-Bold",i["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",i["MS-Mincho-Italic"]="MS Mincho-Italic",i["MS-PGothic"]="MS PGothic",i["MS-PGothic-Bold"]="MS PGothic-Bold",i["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",i["MS-PGothic-Italic"]="MS PGothic-Italic",i["MS-PMincho"]="MS PMincho",i["MS-PMincho-Bold"]="MS PMincho-Bold",i["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",i["MS-PMincho-Italic"]="MS PMincho-Italic",i.NuptialScript="Times-Italic",i.SegoeUISymbol="Helvetica"});m.getNonStdFontMap=t;const r=(0,n.getLookupTableFactory)(function(i){i["Adobe Jenson"]=!0,i["Adobe Text"]=!0,i.Albertus=!0,i.Aldus=!0,i.Alexandria=!0,i.Algerian=!0,i["American Typewriter"]=!0,i.Antiqua=!0,i.Apex=!0,i.Arno=!0,i.Aster=!0,i.Aurora=!0,i.Baskerville=!0,i.Bell=!0,i.Bembo=!0,i["Bembo Schoolbook"]=!0,i.Benguiat=!0,i["Berkeley Old Style"]=!0,i["Bernhard Modern"]=!0,i["Berthold City"]=!0,i.Bodoni=!0,i["Bauer Bodoni"]=!0,i["Book Antiqua"]=!0,i.Bookman=!0,i["Bordeaux Roman"]=!0,i["Californian FB"]=!0,i.Calisto=!0,i.Calvert=!0,i.Capitals=!0,i.Cambria=!0,i.Cartier=!0,i.Caslon=!0,i.Catull=!0,i.Centaur=!0,i["Century Old Style"]=!0,i["Century Schoolbook"]=!0,i.Chaparral=!0,i["Charis SIL"]=!0,i.Cheltenham=!0,i["Cholla Slab"]=!0,i.Clarendon=!0,i.Clearface=!0,i.Cochin=!0,i.Colonna=!0,i["Computer Modern"]=!0,i["Concrete Roman"]=!0,i.Constantia=!0,i["Cooper Black"]=!0,i.Corona=!0,i.Ecotype=!0,i.Egyptienne=!0,i.Elephant=!0,i.Excelsior=!0,i.Fairfield=!0,i["FF Scala"]=!0,i.Folkard=!0,i.Footlight=!0,i.FreeSerif=!0,i["Friz Quadrata"]=!0,i.Garamond=!0,i.Gentium=!0,i.Georgia=!0,i.Gloucester=!0,i["Goudy Old Style"]=!0,i["Goudy Schoolbook"]=!0,i["Goudy Pro Font"]=!0,i.Granjon=!0,i["Guardian Egyptian"]=!0,i.Heather=!0,i.Hercules=!0,i["High Tower Text"]=!0,i.Hiroshige=!0,i["Hoefler Text"]=!0,i["Humana Serif"]=!0,i.Imprint=!0,i["Ionic No. 5"]=!0,i.Janson=!0,i.Joanna=!0,i.Korinna=!0,i.Lexicon=!0,i.LiberationSerif=!0,i["Liberation Serif"]=!0,i["Linux Libertine"]=!0,i.Literaturnaya=!0,i.Lucida=!0,i["Lucida Bright"]=!0,i.Melior=!0,i.Memphis=!0,i.Miller=!0,i.Minion=!0,i.Modern=!0,i["Mona Lisa"]=!0,i["Mrs Eaves"]=!0,i["MS Serif"]=!0,i["Museo Slab"]=!0,i["New York"]=!0,i["Nimbus Roman"]=!0,i["NPS Rawlinson Roadway"]=!0,i.NuptialScript=!0,i.Palatino=!0,i.Perpetua=!0,i.Plantin=!0,i["Plantin Schoolbook"]=!0,i.Playbill=!0,i["Poor Richard"]=!0,i["Rawlinson Roadway"]=!0,i.Renault=!0,i.Requiem=!0,i.Rockwell=!0,i.Roman=!0,i["Rotis Serif"]=!0,i.Sabon=!0,i.Scala=!0,i.Seagull=!0,i.Sistina=!0,i.Souvenir=!0,i.STIX=!0,i["Stone Informal"]=!0,i["Stone Serif"]=!0,i.Sylfaen=!0,i.Times=!0,i.Trajan=!0,i.Trinité=!0,i["Trump Mediaeval"]=!0,i.Utopia=!0,i["Vale Type"]=!0,i["Bitstream Vera"]=!0,i["Vera Serif"]=!0,i.Versailles=!0,i.Wanted=!0,i.Weiss=!0,i["Wide Latin"]=!0,i.Windsor=!0,i.XITS=!0});m.getSerifFonts=r;const z=(0,n.getLookupTableFactory)(function(i){i.Dingbats=!0,i.Symbol=!0,i.ZapfDingbats=!0,i.Wingdings=!0,i["Wingdings-Bold"]=!0,i["Wingdings-Regular"]=!0});m.getSymbolsFonts=z;const j=(0,n.getLookupTableFactory)(function(i){i[2]=10,i[3]=32,i[4]=33,i[5]=34,i[6]=35,i[7]=36,i[8]=37,i[9]=38,i[10]=39,i[11]=40,i[12]=41,i[13]=42,i[14]=43,i[15]=44,i[16]=45,i[17]=46,i[18]=47,i[19]=48,i[20]=49,i[21]=50,i[22]=51,i[23]=52,i[24]=53,i[25]=54,i[26]=55,i[27]=56,i[28]=57,i[29]=58,i[30]=894,i[31]=60,i[32]=61,i[33]=62,i[34]=63,i[35]=64,i[36]=65,i[37]=66,i[38]=67,i[39]=68,i[40]=69,i[41]=70,i[42]=71,i[43]=72,i[44]=73,i[45]=74,i[46]=75,i[47]=76,i[48]=77,i[49]=78,i[50]=79,i[51]=80,i[52]=81,i[53]=82,i[54]=83,i[55]=84,i[56]=85,i[57]=86,i[58]=87,i[59]=88,i[60]=89,i[61]=90,i[62]=91,i[63]=92,i[64]=93,i[65]=94,i[66]=95,i[67]=96,i[68]=97,i[69]=98,i[70]=99,i[71]=100,i[72]=101,i[73]=102,i[74]=103,i[75]=104,i[76]=105,i[77]=106,i[78]=107,i[79]=108,i[80]=109,i[81]=110,i[82]=111,i[83]=112,i[84]=113,i[85]=114,i[86]=115,i[87]=116,i[88]=117,i[89]=118,i[90]=119,i[91]=120,i[92]=121,i[93]=122,i[94]=123,i[95]=124,i[96]=125,i[97]=126,i[98]=196,i[99]=197,i[100]=199,i[101]=201,i[102]=209,i[103]=214,i[104]=220,i[105]=225,i[106]=224,i[107]=226,i[108]=228,i[109]=227,i[110]=229,i[111]=231,i[112]=233,i[113]=232,i[114]=234,i[115]=235,i[116]=237,i[117]=236,i[118]=238,i[119]=239,i[120]=241,i[121]=243,i[122]=242,i[123]=244,i[124]=246,i[125]=245,i[126]=250,i[127]=249,i[128]=251,i[129]=252,i[130]=8224,i[131]=176,i[132]=162,i[133]=163,i[134]=167,i[135]=8226,i[136]=182,i[137]=223,i[138]=174,i[139]=169,i[140]=8482,i[141]=180,i[142]=168,i[143]=8800,i[144]=198,i[145]=216,i[146]=8734,i[147]=177,i[148]=8804,i[149]=8805,i[150]=165,i[151]=181,i[152]=8706,i[153]=8721,i[154]=8719,i[156]=8747,i[157]=170,i[158]=186,i[159]=8486,i[160]=230,i[161]=248,i[162]=191,i[163]=161,i[164]=172,i[165]=8730,i[166]=402,i[167]=8776,i[168]=8710,i[169]=171,i[170]=187,i[171]=8230,i[179]=8220,i[180]=8221,i[181]=8216,i[182]=8217,i[200]=193,i[203]=205,i[207]=211,i[210]=218,i[223]=711,i[224]=321,i[225]=322,i[226]=352,i[227]=353,i[228]=381,i[229]=382,i[233]=221,i[234]=253,i[252]=263,i[253]=268,i[254]=269,i[258]=258,i[260]=260,i[261]=261,i[265]=280,i[266]=281,i[267]=282,i[268]=283,i[269]=313,i[275]=323,i[276]=324,i[278]=328,i[283]=344,i[284]=345,i[285]=346,i[286]=347,i[292]=367,i[295]=377,i[296]=378,i[298]=380,i[305]=963,i[306]=964,i[307]=966,i[308]=8215,i[309]=8252,i[310]=8319,i[311]=8359,i[312]=8592,i[313]=8593,i[337]=9552,i[493]=1039,i[494]=1040,i[672]=1488,i[673]=1489,i[674]=1490,i[675]=1491,i[676]=1492,i[677]=1493,i[678]=1494,i[679]=1495,i[680]=1496,i[681]=1497,i[682]=1498,i[683]=1499,i[684]=1500,i[685]=1501,i[686]=1502,i[687]=1503,i[688]=1504,i[689]=1505,i[690]=1506,i[691]=1507,i[692]=1508,i[693]=1509,i[694]=1510,i[695]=1511,i[696]=1512,i[697]=1513,i[698]=1514,i[705]=1524,i[706]=8362,i[710]=64288,i[711]=64298,i[759]=1617,i[761]=1776,i[763]=1778,i[775]=1652,i[777]=1764,i[778]=1780,i[779]=1781,i[780]=1782,i[782]=771,i[783]=64726,i[786]=8363,i[788]=8532,i[790]=768,i[791]=769,i[792]=768,i[795]=803,i[797]=64336,i[798]=64337,i[799]=64342,i[800]=64343,i[801]=64344,i[802]=64345,i[803]=64362,i[804]=64363,i[805]=64364,i[2424]=7821,i[2425]=7822,i[2426]=7823,i[2427]=7824,i[2428]=7825,i[2429]=7826,i[2430]=7827,i[2433]=7682,i[2678]=8045,i[2679]=8046,i[2830]=1552,i[2838]=686,i[2840]=751,i[2842]=753,i[2843]=754,i[2844]=755,i[2846]=757,i[2856]=767,i[2857]=848,i[2858]=849,i[2862]=853,i[2863]=854,i[2864]=855,i[2865]=861,i[2866]=862,i[2906]=7460,i[2908]=7462,i[2909]=7463,i[2910]=7464,i[2912]=7466,i[2913]=7467,i[2914]=7468,i[2916]=7470,i[2917]=7471,i[2918]=7472,i[2920]=7474,i[2921]=7475,i[2922]=7476,i[2924]=7478,i[2925]=7479,i[2926]=7480,i[2928]=7482,i[2929]=7483,i[2930]=7484,i[2932]=7486,i[2933]=7487,i[2934]=7488,i[2936]=7490,i[2937]=7491,i[2938]=7492,i[2940]=7494,i[2941]=7495,i[2942]=7496,i[2944]=7498,i[2946]=7500,i[2948]=7502,i[2950]=7504,i[2951]=7505,i[2952]=7506,i[2954]=7508,i[2955]=7509,i[2956]=7510,i[2958]=7512,i[2959]=7513,i[2960]=7514,i[2962]=7516,i[2963]=7517,i[2964]=7518,i[2966]=7520,i[2967]=7521,i[2968]=7522,i[2970]=7524,i[2971]=7525,i[2972]=7526,i[2974]=7528,i[2975]=7529,i[2976]=7530,i[2978]=1537,i[2979]=1538,i[2980]=1539,i[2982]=1549,i[2983]=1551,i[2984]=1552,i[2986]=1554,i[2987]=1555,i[2988]=1556,i[2990]=1623,i[2991]=1624,i[2995]=1775,i[2999]=1791,i[3002]=64290,i[3003]=64291,i[3004]=64292,i[3006]=64294,i[3007]=64295,i[3008]=64296,i[3011]=1900,i[3014]=8223,i[3015]=8244,i[3017]=7532,i[3018]=7533,i[3019]=7534,i[3075]=7590,i[3076]=7591,i[3079]=7594,i[3080]=7595,i[3083]=7598,i[3084]=7599,i[3087]=7602,i[3088]=7603,i[3091]=7606,i[3092]=7607,i[3095]=7610,i[3096]=7611,i[3099]=7614,i[3100]=7615,i[3103]=7618,i[3104]=7619,i[3107]=8337,i[3108]=8338,i[3116]=1884,i[3119]=1885,i[3120]=1885,i[3123]=1886,i[3124]=1886,i[3127]=1887,i[3128]=1887,i[3131]=1888,i[3132]=1888,i[3135]=1889,i[3136]=1889,i[3139]=1890,i[3140]=1890,i[3143]=1891,i[3144]=1891,i[3147]=1892,i[3148]=1892,i[3153]=580,i[3154]=581,i[3157]=584,i[3158]=585,i[3161]=588,i[3162]=589,i[3165]=891,i[3166]=892,i[3169]=1274,i[3170]=1275,i[3173]=1278,i[3174]=1279,i[3181]=7622,i[3182]=7623,i[3282]=11799,i[3316]=578,i[3379]=42785,i[3393]=1159,i[3416]=8377});m.getGlyphMapForStandardFonts=j;const M=(0,n.getLookupTableFactory)(function(i){i[227]=322,i[264]=261,i[291]=346});m.getSupplementalGlyphMapForArialBlack=M;const I=(0,n.getLookupTableFactory)(function(i){i[1]=32,i[4]=65,i[5]=192,i[6]=193,i[9]=196,i[17]=66,i[18]=67,i[21]=268,i[24]=68,i[28]=69,i[29]=200,i[30]=201,i[32]=282,i[38]=70,i[39]=71,i[44]=72,i[47]=73,i[48]=204,i[49]=205,i[58]=74,i[60]=75,i[62]=76,i[68]=77,i[69]=78,i[75]=79,i[76]=210,i[80]=214,i[87]=80,i[89]=81,i[90]=82,i[92]=344,i[94]=83,i[97]=352,i[100]=84,i[104]=85,i[109]=220,i[115]=86,i[116]=87,i[121]=88,i[122]=89,i[124]=221,i[127]=90,i[129]=381,i[258]=97,i[259]=224,i[260]=225,i[263]=228,i[268]=261,i[271]=98,i[272]=99,i[273]=263,i[275]=269,i[282]=100,i[286]=101,i[287]=232,i[288]=233,i[290]=283,i[295]=281,i[296]=102,i[336]=103,i[346]=104,i[349]=105,i[350]=236,i[351]=237,i[361]=106,i[364]=107,i[367]=108,i[371]=322,i[373]=109,i[374]=110,i[381]=111,i[382]=242,i[383]=243,i[386]=246,i[393]=112,i[395]=113,i[396]=114,i[398]=345,i[400]=115,i[401]=347,i[403]=353,i[410]=116,i[437]=117,i[442]=252,i[448]=118,i[449]=119,i[454]=120,i[455]=121,i[457]=253,i[460]=122,i[462]=382,i[463]=380,i[853]=44,i[855]=58,i[856]=46,i[876]=47,i[878]=45,i[882]=45,i[894]=40,i[895]=41,i[896]=91,i[897]=93,i[923]=64,i[1004]=48,i[1005]=49,i[1006]=50,i[1007]=51,i[1008]=52,i[1009]=53,i[1010]=54,i[1011]=55,i[1012]=56,i[1013]=57,i[1081]=37,i[1085]=43,i[1086]=45});m.getSupplementalGlyphMapForCalibri=I;function d(i){const F=(0,S.normalizeFontName)(i);return N()[F]}function u(i){const F=(0,S.normalizeFontName)(i);return!!(N()[F]||t()[F]||r()[F]||z()[F])}},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.ToUnicodeMap=m.IdentityToUnicodeMap=void 0;var n=Q(2);class S{constructor(t=[]){this._map=t}get length(){return this._map.length}forEach(t){for(const r in this._map)t(r,this._map[r].charCodeAt(0))}has(t){return this._map[t]!==void 0}get(t){return this._map[t]}charCodeOf(t){const r=this._map;if(r.length<=65536)return r.indexOf(t);for(const z in r)if(r[z]===t)return z|0;return-1}amend(t){for(const r in t)this._map[r]=t[r]}}m.ToUnicodeMap=S;class N{constructor(t,r){this.firstChar=t,this.lastChar=r}get length(){return this.lastChar+1-this.firstChar}forEach(t){for(let r=this.firstChar,z=this.lastChar;r<=z;r++)t(r,r)}has(t){return this.firstChar<=t&&t<=this.lastChar}get(t){if(this.firstChar<=t&&t<=this.lastChar)return String.fromCharCode(t)}charCodeOf(t){return Number.isInteger(t)&&t>=this.firstChar&&t<=this.lastChar?t:-1}amend(t){(0,n.unreachable)("Should not call amend()")}}m.IdentityToUnicodeMap=N},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.CFFFont=void 0;var n=Q(35),S=Q(38),N=Q(2);class e{constructor(r,z){this.properties=z;const j=new n.CFFParser(r,z,S.SEAC_ANALYSIS_ENABLED);this.cff=j.parse(),this.cff.duplicateFirstGlyph();const M=new n.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=M.compile()}catch{(0,N.warn)("Failed to compile font "+z.loadedName),this.data=r}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const r=this.cff,z=this.properties,{cidToGidMap:j,cMap:M}=z,I=r.charset.charset;let d,u;if(z.composite){let F;if((j==null?void 0:j.length)>0){F=Object.create(null);for(let T=0,b=j.length;T<b;T++){const L=j[T];L!==void 0&&(F[L]=T)}}d=Object.create(null);let C;if(r.isCIDFont)for(u=0;u<I.length;u++){const T=I[u];C=M.charCodeOf(T),(F==null?void 0:F[C])!==void 0&&(C=F[C]),d[C]=u}else for(u=0;u<r.charStrings.count;u++)C=M.charCodeOf(u),d[C]=u;return d}let i=r.encoding?r.encoding.encoding:null;return z.isInternalFont&&(i=z.defaultEncoding),d=(0,S.type1FontGlyphMapping)(z,i,I),d}hasGlyphId(r){return this.cff.hasGlyphId(r)}_createBuiltInEncoding(){const{charset:r,encoding:z}=this.cff;if(!r||!z)return;const j=r.charset,M=z.encoding,I=[];for(const d in M){const u=M[d];if(u>=0){const i=j[u];i&&(I[d]=i)}}I.length>0&&(this.properties.builtInEncoding=I)}}m.CFFFont=e},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.FontRendererFactory=void 0;var n=Q(2),S=Q(35),N=Q(39),e=Q(37),t=Q(8);function r(l,x){return(l[x]<<24|l[x+1]<<16|l[x+2]<<8|l[x+3])>>>0}function z(l,x){return l[x]<<8|l[x+1]}function j(l,x){return(l[x]<<24|l[x+1]<<16)>>16}function M(l,x){return l[x]<<24>>24}function I(l,x){return j(l,x)/16384}function d(l){const x=l.length;let X=32768;return x<1240?X=107:x<33900&&(X=1131),X}function u(l,x,X){const a=z(l,x+2)===1?r(l,x+8):r(l,x+16),g=z(l,x+a);let P,G,D;if(g===4){z(l,x+a+2);const w=z(l,x+a+6)>>1;for(G=x+a+14,P=[],D=0;D<w;D++,G+=2)P[D]={end:z(l,G)};for(G+=2,D=0;D<w;D++,G+=2)P[D].start=z(l,G);for(D=0;D<w;D++,G+=2)P[D].idDelta=z(l,G);for(D=0;D<w;D++,G+=2){let A=z(l,G);if(A!==0){P[D].ids=[];for(let v=0,o=P[D].end-P[D].start+1;v<o;v++)P[D].ids[v]=z(l,G+A),A+=2}}return P}else if(g===12){const w=r(l,x+a+12);for(G=x+a+16,P=[],D=0;D<w;D++)x=r(l,G),P.push({start:x,end:r(l,G+4),idDelta:r(l,G+8)-x}),G+=12;return P}throw new n.FormatError(`unsupported cmap: ${g}`)}function i(l,x,X,a){var D,w,A;const g={},G=new S.CFFParser(new t.Stream(l,x,X-x),g,a).parse();return{glyphs:G.charStrings.objects,subrs:(w=(D=G.topDict.privateDict)==null?void 0:D.subrsIndex)==null?void 0:w.objects,gsubrs:(A=G.globalSubrIndex)==null?void 0:A.objects,isCFFCIDFont:G.isCIDFont,fdSelect:G.fdSelect,fdArray:G.fdArray}}function F(l,x,X){let a,g;X?(a=4,g=r):(a=2,g=(D,w)=>2*z(D,w));const P=[];let G=g(x,0);for(let D=a;D<x.length;D+=a){const w=g(x,D);P.push(l.subarray(G,w)),G=w}return P}function C(l,x){const X=x.codePointAt(0);let a=0,g=0,P=l.length-1;for(;g<P;){const G=g+P+1>>1;X<l[G].start?P=G-1:g=G}return l[g].start<=X&&X<=l[g].end&&(a=l[g].idDelta+(l[g].ids?l[g].ids[X-l[g].start]:X)&65535),{charCode:X,glyphId:a}}function T(l,x,X){function a(o,y){x.push({cmd:"moveTo",args:[o,y]})}function g(o,y){x.push({cmd:"lineTo",args:[o,y]})}function P(o,y,c,h){x.push({cmd:"quadraticCurveTo",args:[o,y,c,h]})}let G=0;const D=j(l,G);let w,A=0,v=0;if(G+=10,D<0)do{w=z(l,G);const o=z(l,G+2);G+=4;let y,c;w&1?(w&2?(y=j(l,G),c=j(l,G+2)):(y=z(l,G),c=z(l,G+2)),G+=4):w&2?(y=M(l,G++),c=M(l,G++)):(y=l[G++],c=l[G++]),w&2?(A=y,v=c):(A=0,v=0);let h=1,O=1,W=0,R=0;w&8?(h=O=I(l,G),G+=2):w&64?(h=I(l,G),O=I(l,G+2),G+=4):w&128&&(h=I(l,G),W=I(l,G+2),R=I(l,G+4),O=I(l,G+6),G+=8);const H=X.glyphs[o];H&&(x.push({cmd:"save"},{cmd:"transform",args:[h,W,R,O,A,v]}),T(H,x,X),x.push({cmd:"restore"}))}while(w&32);else{const o=[];let y,c;for(y=0;y<D;y++)o.push(z(l,G)),G+=2;const h=z(l,G);G+=2+h;const O=o.at(-1)+1,W=[];for(;W.length<O;){w=l[G++];let H=1;for(w&8&&(H+=l[G++]);H-- >0;)W.push({flags:w})}for(y=0;y<O;y++){switch(W[y].flags&18){case 0:A+=j(l,G),G+=2;break;case 2:A-=l[G++];break;case 18:A+=l[G++];break}W[y].x=A}for(y=0;y<O;y++){switch(W[y].flags&36){case 0:v+=j(l,G),G+=2;break;case 4:v-=l[G++];break;case 36:v+=l[G++];break}W[y].y=v}let R=0;for(G=0;G<D;G++){const H=o[G],ae=W.slice(R,H+1);if(ae[0].flags&1)ae.push(ae[0]);else if(ae.at(-1).flags&1)ae.unshift(ae.at(-1));else{const q={flags:1,x:(ae[0].x+ae.at(-1).x)/2,y:(ae[0].y+ae.at(-1).y)/2};ae.unshift(q),ae.push(q)}for(a(ae[0].x,ae[0].y),y=1,c=ae.length;y<c;y++)ae[y].flags&1?g(ae[y].x,ae[y].y):ae[y+1].flags&1?(P(ae[y].x,ae[y].y,ae[y+1].x,ae[y+1].y),y++):P(ae[y].x,ae[y].y,(ae[y].x+ae[y+1].x)/2,(ae[y].y+ae[y+1].y)/2);R=H+1}}}function b(l,x,X,a){function g(y,c){x.push({cmd:"moveTo",args:[y,c]})}function P(y,c){x.push({cmd:"lineTo",args:[y,c]})}function G(y,c,h,O,W,R){x.push({cmd:"bezierCurveTo",args:[y,c,h,O,W,R]})}const D=[];let w=0,A=0,v=0;function o(y){var h;let c=0;for(;c<y.length;){let O=!1,W=y[c++],R,H,ae,q,ce,ee,se,$,U;switch(W){case 1:v+=D.length>>1,O=!0;break;case 3:v+=D.length>>1,O=!0;break;case 4:A+=D.pop(),g(w,A),O=!0;break;case 5:for(;D.length>0;)w+=D.shift(),A+=D.shift(),P(w,A);break;case 6:for(;D.length>0&&(w+=D.shift(),P(w,A),D.length!==0);)A+=D.shift(),P(w,A);break;case 7:for(;D.length>0&&(A+=D.shift(),P(w,A),D.length!==0);)w+=D.shift(),P(w,A);break;case 8:for(;D.length>0;)R=w+D.shift(),ae=A+D.shift(),H=R+D.shift(),q=ae+D.shift(),w=H+D.shift(),A=q+D.shift(),G(R,ae,H,q,w,A);break;case 10:if($=D.pop(),U=null,X.isCFFCIDFont){const K=X.fdSelect.getFDIndex(a);if(K>=0&&K<X.fdArray.length){const J=X.fdArray[K];let Y;(h=J.privateDict)!=null&&h.subrsIndex&&(Y=J.privateDict.subrsIndex.objects),Y&&($+=d(Y),U=Y[$])}else(0,n.warn)("Invalid fd index for glyph index.")}else U=X.subrs[$+X.subrsBias];U&&o(U);break;case 11:return;case 12:switch(W=y[c++],W){case 34:R=w+D.shift(),H=R+D.shift(),ce=A+D.shift(),w=H+D.shift(),G(R,A,H,ce,w,ce),R=w+D.shift(),H=R+D.shift(),w=H+D.shift(),G(R,ce,H,A,w,A);break;case 35:R=w+D.shift(),ae=A+D.shift(),H=R+D.shift(),q=ae+D.shift(),w=H+D.shift(),A=q+D.shift(),G(R,ae,H,q,w,A),R=w+D.shift(),ae=A+D.shift(),H=R+D.shift(),q=ae+D.shift(),w=H+D.shift(),A=q+D.shift(),G(R,ae,H,q,w,A),D.pop();break;case 36:R=w+D.shift(),ce=A+D.shift(),H=R+D.shift(),ee=ce+D.shift(),w=H+D.shift(),G(R,ce,H,ee,w,ee),R=w+D.shift(),H=R+D.shift(),se=ee+D.shift(),w=H+D.shift(),G(R,ee,H,se,w,A);break;case 37:const K=w,J=A;R=w+D.shift(),ae=A+D.shift(),H=R+D.shift(),q=ae+D.shift(),w=H+D.shift(),A=q+D.shift(),G(R,ae,H,q,w,A),R=w+D.shift(),ae=A+D.shift(),H=R+D.shift(),q=ae+D.shift(),w=H,A=q,Math.abs(w-K)>Math.abs(A-J)?w+=D.shift():A+=D.shift(),G(R,ae,H,q,w,A);break;default:throw new n.FormatError(`unknown operator: 12 ${W}`)}break;case 14:if(D.length>=4){const K=D.pop(),J=D.pop();A=D.pop(),w=D.pop(),x.push({cmd:"save"},{cmd:"translate",args:[w,A]});let Y=C(X.cmap,String.fromCharCode(X.glyphNameMap[e.StandardEncoding[K]]));b(X.glyphs[Y.glyphId],x,X,Y.glyphId),x.push({cmd:"restore"}),Y=C(X.cmap,String.fromCharCode(X.glyphNameMap[e.StandardEncoding[J]])),b(X.glyphs[Y.glyphId],x,X,Y.glyphId)}return;case 18:v+=D.length>>1,O=!0;break;case 19:v+=D.length>>1,c+=v+7>>3,O=!0;break;case 20:v+=D.length>>1,c+=v+7>>3,O=!0;break;case 21:A+=D.pop(),w+=D.pop(),g(w,A),O=!0;break;case 22:w+=D.pop(),g(w,A),O=!0;break;case 23:v+=D.length>>1,O=!0;break;case 24:for(;D.length>2;)R=w+D.shift(),ae=A+D.shift(),H=R+D.shift(),q=ae+D.shift(),w=H+D.shift(),A=q+D.shift(),G(R,ae,H,q,w,A);w+=D.shift(),A+=D.shift(),P(w,A);break;case 25:for(;D.length>6;)w+=D.shift(),A+=D.shift(),P(w,A);R=w+D.shift(),ae=A+D.shift(),H=R+D.shift(),q=ae+D.shift(),w=H+D.shift(),A=q+D.shift(),G(R,ae,H,q,w,A);break;case 26:for(D.length%2&&(w+=D.shift());D.length>0;)R=w,ae=A+D.shift(),H=R+D.shift(),q=ae+D.shift(),w=H,A=q+D.shift(),G(R,ae,H,q,w,A);break;case 27:for(D.length%2&&(A+=D.shift());D.length>0;)R=w+D.shift(),ae=A,H=R+D.shift(),q=ae+D.shift(),w=H+D.shift(),A=q,G(R,ae,H,q,w,A);break;case 28:D.push((y[c]<<24|y[c+1]<<16)>>16),c+=2;break;case 29:$=D.pop()+X.gsubrsBias,U=X.gsubrs[$],U&&o(U);break;case 30:for(;D.length>0&&(R=w,ae=A+D.shift(),H=R+D.shift(),q=ae+D.shift(),w=H+D.shift(),A=q+(D.length===1?D.shift():0),G(R,ae,H,q,w,A),D.length!==0);)R=w+D.shift(),ae=A,H=R+D.shift(),q=ae+D.shift(),A=q+D.shift(),w=H+(D.length===1?D.shift():0),G(R,ae,H,q,w,A);break;case 31:for(;D.length>0&&(R=w+D.shift(),ae=A,H=R+D.shift(),q=ae+D.shift(),A=q+D.shift(),w=H+(D.length===1?D.shift():0),G(R,ae,H,q,w,A),D.length!==0);)R=w,ae=A+D.shift(),H=R+D.shift(),q=ae+D.shift(),w=H+D.shift(),A=q+(D.length===1?D.shift():0),G(R,ae,H,q,w,A);break;default:if(W<32)throw new n.FormatError(`unknown operator: ${W}`);W<247?D.push(W-139):W<251?D.push((W-247)*256+y[c++]+108):W<255?D.push(-(W-251)*256-y[c++]-108):(D.push((y[c]<<24|y[c+1]<<16|y[c+2]<<8|y[c+3])/65536),c+=4);break}O&&(D.length=0)}}o(l)}const L=[];class B{constructor(x){this.constructor===B&&(0,n.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=x,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(x){const{charCode:X,glyphId:a}=C(this.cmap,x);let g=this.compiledGlyphs[a];if(!g)try{g=this.compileGlyph(this.glyphs[a],a),this.compiledGlyphs[a]=g}catch(P){throw this.compiledGlyphs[a]=L,this.compiledCharCodeToGlyphId[X]===void 0&&(this.compiledCharCodeToGlyphId[X]=a),P}return this.compiledCharCodeToGlyphId[X]===void 0&&(this.compiledCharCodeToGlyphId[X]=a),g}compileGlyph(x,X){if(!x||x.length===0||x[0]===14)return L;let a=this.fontMatrix;if(this.isCFFCIDFont){const P=this.fdSelect.getFDIndex(X);P>=0&&P<this.fdArray.length?a=this.fdArray[P].getByName("FontMatrix")||n.FONT_IDENTITY_MATRIX:(0,n.warn)("Invalid fd index for glyph index.")}const g=[{cmd:"save"},{cmd:"transform",args:a.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(x,g,X),g.push({cmd:"restore"}),g}compileGlyphImpl(){(0,n.unreachable)("Children classes should implement this.")}hasBuiltPath(x){const{charCode:X,glyphId:a}=C(this.cmap,x);return this.compiledGlyphs[a]!==void 0&&this.compiledCharCodeToGlyphId[X]!==void 0}}class V extends B{constructor(x,X,a){super(a||[488e-6,0,0,488e-6,0,0]),this.glyphs=x,this.cmap=X}compileGlyphImpl(x,X){T(x,X,this)}}class k extends B{constructor(x,X,a,g){super(a||[.001,0,0,.001,0,0]),this.glyphs=x.glyphs,this.gsubrs=x.gsubrs||[],this.subrs=x.subrs||[],this.cmap=X,this.glyphNameMap=g||(0,N.getGlyphsUnicode)(),this.gsubrsBias=d(this.gsubrs),this.subrsBias=d(this.subrs),this.isCFFCIDFont=x.isCFFCIDFont,this.fdSelect=x.fdSelect,this.fdArray=x.fdArray}compileGlyphImpl(x,X,a){b(x,X,this,a)}}class _{static create(x,X){const a=new Uint8Array(x.data);let g,P,G,D,w,A;const v=z(a,4);for(let o=0,y=12;o<v;o++,y+=16){const c=(0,n.bytesToString)(a.subarray(y,y+4)),h=r(a,y+8),O=r(a,y+12);switch(c){case"cmap":g=u(a,h);break;case"glyf":P=a.subarray(h,h+O);break;case"loca":G=a.subarray(h,h+O);break;case"head":A=z(a,h+18),w=z(a,h+50);break;case"CFF ":D=i(a,h,h+O,X);break}}if(P){const o=A?[1/A,0,0,1/A,0,0]:x.fontMatrix;return new V(F(P,G,w),g,o)}return new k(D,g,x.fontMatrix,x.glyphNameMap)}}m.FontRendererFactory=_},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.getMetrics=m.getFontBasicMetrics=void 0;var n=Q(3);const S=(0,n.getLookupTableFactory)(function(e){e.Courier=600,e["Courier-Bold"]=600,e["Courier-BoldOblique"]=600,e["Courier-Oblique"]=600,e.Helvetica=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556}),e["Helvetica-Bold"]=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556}),e["Helvetica-BoldOblique"]=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556}),e["Helvetica-Oblique"]=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556}),e.Symbol=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.universal=713,t.numbersign=500,t.existential=549,t.percent=833,t.ampersand=778,t.suchthat=439,t.parenleft=333,t.parenright=333,t.asteriskmath=500,t.plus=549,t.comma=250,t.minus=549,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=549,t.equal=549,t.greater=549,t.question=444,t.congruent=549,t.Alpha=722,t.Beta=667,t.Chi=722,t.Delta=612,t.Epsilon=611,t.Phi=763,t.Gamma=603,t.Eta=722,t.Iota=333,t.theta1=631,t.Kappa=722,t.Lambda=686,t.Mu=889,t.Nu=722,t.Omicron=722,t.Pi=768,t.Theta=741,t.Rho=556,t.Sigma=592,t.Tau=611,t.Upsilon=690,t.sigma1=439,t.Omega=768,t.Xi=645,t.Psi=795,t.Zeta=611,t.bracketleft=333,t.therefore=863,t.bracketright=333,t.perpendicular=658,t.underscore=500,t.radicalex=500,t.alpha=631,t.beta=549,t.chi=549,t.delta=494,t.epsilon=439,t.phi=521,t.gamma=411,t.eta=603,t.iota=329,t.phi1=603,t.kappa=549,t.lambda=549,t.mu=576,t.nu=521,t.omicron=549,t.pi=549,t.theta=521,t.rho=549,t.sigma=603,t.tau=439,t.upsilon=576,t.omega1=713,t.omega=686,t.xi=493,t.psi=686,t.zeta=494,t.braceleft=480,t.bar=200,t.braceright=480,t.similar=549,t.Euro=750,t.Upsilon1=620,t.minute=247,t.lessequal=549,t.fraction=167,t.infinity=713,t.florin=500,t.club=753,t.diamond=753,t.heart=753,t.spade=753,t.arrowboth=1042,t.arrowleft=987,t.arrowup=603,t.arrowright=987,t.arrowdown=603,t.degree=400,t.plusminus=549,t.second=411,t.greaterequal=549,t.multiply=549,t.proportional=713,t.partialdiff=494,t.bullet=460,t.divide=549,t.notequal=549,t.equivalence=549,t.approxequal=549,t.ellipsis=1e3,t.arrowvertex=603,t.arrowhorizex=1e3,t.carriagereturn=658,t.aleph=823,t.Ifraktur=686,t.Rfraktur=795,t.weierstrass=987,t.circlemultiply=768,t.circleplus=768,t.emptyset=823,t.intersection=768,t.union=768,t.propersuperset=713,t.reflexsuperset=713,t.notsubset=713,t.propersubset=713,t.reflexsubset=713,t.element=713,t.notelement=713,t.angle=768,t.gradient=713,t.registerserif=790,t.copyrightserif=790,t.trademarkserif=890,t.product=823,t.radical=549,t.dotmath=250,t.logicalnot=713,t.logicaland=603,t.logicalor=603,t.arrowdblboth=1042,t.arrowdblleft=987,t.arrowdblup=603,t.arrowdblright=987,t.arrowdbldown=603,t.lozenge=494,t.angleleft=329,t.registersans=790,t.copyrightsans=790,t.trademarksans=786,t.summation=713,t.parenlefttp=384,t.parenleftex=384,t.parenleftbt=384,t.bracketlefttp=384,t.bracketleftex=384,t.bracketleftbt=384,t.bracelefttp=494,t.braceleftmid=494,t.braceleftbt=494,t.braceex=494,t.angleright=329,t.integral=274,t.integraltp=686,t.integralex=686,t.integralbt=686,t.parenrighttp=384,t.parenrightex=384,t.parenrightbt=384,t.bracketrighttp=384,t.bracketrightex=384,t.bracketrightbt=384,t.bracerighttp=494,t.bracerightmid=494,t.bracerightbt=494,t.apple=790}),e["Times-Roman"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=408,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=564,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=564,t.equal=564,t.greater=564,t.question=444,t.at=921,t.A=722,t.B=667,t.C=667,t.D=722,t.E=611,t.F=556,t.G=722,t.H=722,t.I=333,t.J=389,t.K=722,t.L=611,t.M=889,t.N=722,t.O=722,t.P=556,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=722,t.W=944,t.X=722,t.Y=722,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=469,t.underscore=500,t.quoteleft=333,t.a=444,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=500,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=500,t.o=500,t.p=500,t.q=500,t.r=333,t.s=389,t.t=278,t.u=500,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=480,t.bar=200,t.braceright=480,t.asciitilde=541,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=180,t.quotedblleft=444,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=453,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=444,t.quotedblright=444,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=444,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=889,t.ordfeminine=276,t.Lslash=611,t.Oslash=722,t.OE=889,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=444,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=722,t.divide=564,t.Yacute=722,t.Acircumflex=722,t.aacute=444,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=444,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=444,t.Ncommaaccent=722,t.lacute=278,t.agrave=444,t.Tcommaaccent=611,t.Cacute=667,t.atilde=444,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=444,t.Amacron=722,t.rcaron=333,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=556,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=588,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=722,t.Abreve=722,t.multiply=564,t.uacute=500,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=444,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=722,t.Iacute=333,t.plusminus=564,t.brokenbar=200,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=333,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=326,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=444,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=344,t.Kcommaaccent=722,t.Lacute=611,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=722,t.zdotaccent=444,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=500,t.minus=564,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=564,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500}),e["Times-Bold"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=1e3,t.ampersand=833,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=930,t.A=722,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=778,t.I=389,t.J=500,t.K=778,t.L=667,t.M=944,t.N=722,t.O=778,t.P=611,t.Q=778,t.R=722,t.S=556,t.T=667,t.U=722,t.V=722,t.W=1e3,t.X=722,t.Y=722,t.Z=667,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=581,t.underscore=500,t.quoteleft=333,t.a=500,t.b=556,t.c=444,t.d=556,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=333,t.k=556,t.l=278,t.m=833,t.n=556,t.o=500,t.p=556,t.q=556,t.r=444,t.s=389,t.t=333,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=394,t.bar=220,t.braceright=394,t.asciitilde=520,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=540,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=300,t.Lslash=667,t.Oslash=778,t.OE=1e3,t.ordmasculine=330,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=556,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=722,t.divide=570,t.Yacute=722,t.Acircumflex=722,t.aacute=500,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=667,t.Cacute=722,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=500,t.Amacron=722,t.rcaron=444,t.ccedilla=444,t.Zdotaccent=667,t.Thorn=611,t.Omacron=778,t.Racute=722,t.Sacute=556,t.dcaron=672,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=570,t.uacute=556,t.Tcaron=667,t.partialdiff=494,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=778,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=444,t.omacron=500,t.Zacute=667,t.Zcaron=667,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=416,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=778,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=300,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=556,t.threequarters=750,t.Scedilla=556,t.lcaron=394,t.Kcommaaccent=778,t.Lacute=667,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=667,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=778,t.degree=400,t.ograve=500,t.Ccaron=722,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=444,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=722,t.Lcommaaccent=667,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=444,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=556,t.minus=570,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=333,t.logicalnot=570,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500}),e["Times-BoldItalic"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=389,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=832,t.A=667,t.B=667,t.C=667,t.D=722,t.E=667,t.F=667,t.G=722,t.H=778,t.I=389,t.J=500,t.K=667,t.L=611,t.M=889,t.N=722,t.O=722,t.P=611,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=667,t.W=889,t.X=667,t.Y=611,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=570,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=556,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=556,t.v=444,t.w=667,t.x=500,t.y=444,t.z=389,t.braceleft=348,t.bar=220,t.braceright=348,t.asciitilde=570,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=500,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=944,t.ordfeminine=266,t.Lslash=611,t.Oslash=722,t.OE=944,t.ordmasculine=300,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=611,t.divide=570,t.Yacute=611,t.Acircumflex=667,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=611,t.Cacute=667,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=556,t.acircumflex=500,t.Amacron=667,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=611,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=608,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=722,t.Agrave=667,t.Abreve=667,t.multiply=570,t.uacute=556,t.Tcaron=611,t.partialdiff=494,t.ydieresis=444,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=722,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=366,t.eogonek=444,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=576,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=382,t.Kcommaaccent=667,t.Lacute=611,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=722,t.zdotaccent=389,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=500,t.minus=606,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=606,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500}),e["Times-Italic"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=420,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=675,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=675,t.equal=675,t.greater=675,t.question=500,t.at=920,t.A=611,t.B=611,t.C=667,t.D=722,t.E=611,t.F=611,t.G=722,t.H=722,t.I=333,t.J=444,t.K=667,t.L=556,t.M=833,t.N=667,t.O=722,t.P=611,t.Q=722,t.R=611,t.S=500,t.T=556,t.U=722,t.V=611,t.W=833,t.X=611,t.Y=556,t.Z=556,t.bracketleft=389,t.backslash=278,t.bracketright=389,t.asciicircum=422,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=278,t.g=500,t.h=500,t.i=278,t.j=278,t.k=444,t.l=278,t.m=722,t.n=500,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=500,t.v=444,t.w=667,t.x=444,t.y=444,t.z=389,t.braceleft=400,t.bar=275,t.braceright=400,t.asciitilde=541,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=214,t.quotedblleft=556,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=523,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=556,t.quotedblright=556,t.guillemotright=500,t.ellipsis=889,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=889,t.AE=889,t.ordfeminine=276,t.Lslash=556,t.Oslash=722,t.OE=944,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=667,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=500,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=556,t.divide=675,t.Yacute=556,t.Acircumflex=611,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=500,t.Ncommaaccent=667,t.lacute=278,t.agrave=500,t.Tcommaaccent=556,t.Cacute=667,t.atilde=500,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=611,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=500,t.Amacron=611,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=556,t.Thorn=611,t.Omacron=722,t.Racute=611,t.Sacute=500,t.dcaron=544,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=611,t.Abreve=611,t.multiply=675,t.uacute=500,t.Tcaron=556,t.partialdiff=476,t.ydieresis=444,t.Nacute=667,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=667,t.Iacute=333,t.plusminus=675,t.brokenbar=275,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=389,t.omacron=500,t.Zacute=556,t.Zcaron=556,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=300,t.eogonek=444,t.Uogonek=722,t.Aacute=611,t.Adieresis=611,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=500,t.lcaron=300,t.Kcommaaccent=667,t.Lacute=556,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=500,t.Scommaaccent=500,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=667,t.otilde=500,t.Rcommaaccent=611,t.Lcommaaccent=556,t.Atilde=611,t.Aogonek=611,t.Aring=611,t.Otilde=722,t.zdotaccent=389,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=444,t.minus=675,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=675,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500}),e.ZapfDingbats=(0,n.getLookupTableFactory)(function(t){t.space=278,t.a1=974,t.a2=961,t.a202=974,t.a3=980,t.a4=719,t.a5=789,t.a119=790,t.a118=791,t.a117=690,t.a11=960,t.a12=939,t.a13=549,t.a14=855,t.a15=911,t.a16=933,t.a105=911,t.a17=945,t.a18=974,t.a19=755,t.a20=846,t.a21=762,t.a22=761,t.a23=571,t.a24=677,t.a25=763,t.a26=760,t.a27=759,t.a28=754,t.a6=494,t.a7=552,t.a8=537,t.a9=577,t.a10=692,t.a29=786,t.a30=788,t.a31=788,t.a32=790,t.a33=793,t.a34=794,t.a35=816,t.a36=823,t.a37=789,t.a38=841,t.a39=823,t.a40=833,t.a41=816,t.a42=831,t.a43=923,t.a44=744,t.a45=723,t.a46=749,t.a47=790,t.a48=792,t.a49=695,t.a50=776,t.a51=768,t.a52=792,t.a53=759,t.a54=707,t.a55=708,t.a56=682,t.a57=701,t.a58=826,t.a59=815,t.a60=789,t.a61=789,t.a62=707,t.a63=687,t.a64=696,t.a65=689,t.a66=786,t.a67=787,t.a68=713,t.a69=791,t.a70=785,t.a71=791,t.a72=873,t.a73=761,t.a74=762,t.a203=762,t.a75=759,t.a204=759,t.a76=892,t.a77=892,t.a78=788,t.a79=784,t.a81=438,t.a82=138,t.a83=277,t.a84=415,t.a97=392,t.a98=392,t.a99=668,t.a100=668,t.a89=390,t.a90=390,t.a93=317,t.a94=317,t.a91=276,t.a92=276,t.a205=509,t.a85=509,t.a206=410,t.a86=410,t.a87=234,t.a88=234,t.a95=334,t.a96=334,t.a101=732,t.a102=544,t.a103=544,t.a104=910,t.a106=667,t.a107=760,t.a108=760,t.a112=776,t.a111=595,t.a110=694,t.a109=626,t.a120=788,t.a121=788,t.a122=788,t.a123=788,t.a124=788,t.a125=788,t.a126=788,t.a127=788,t.a128=788,t.a129=788,t.a130=788,t.a131=788,t.a132=788,t.a133=788,t.a134=788,t.a135=788,t.a136=788,t.a137=788,t.a138=788,t.a139=788,t.a140=788,t.a141=788,t.a142=788,t.a143=788,t.a144=788,t.a145=788,t.a146=788,t.a147=788,t.a148=788,t.a149=788,t.a150=788,t.a151=788,t.a152=788,t.a153=788,t.a154=788,t.a155=788,t.a156=788,t.a157=788,t.a158=788,t.a159=788,t.a160=894,t.a161=838,t.a163=1016,t.a164=458,t.a196=748,t.a165=924,t.a192=748,t.a166=918,t.a167=927,t.a168=928,t.a169=928,t.a170=834,t.a171=873,t.a172=828,t.a173=924,t.a162=924,t.a174=917,t.a175=930,t.a176=931,t.a177=463,t.a178=883,t.a179=836,t.a193=836,t.a180=867,t.a199=867,t.a181=696,t.a200=696,t.a182=874,t.a201=874,t.a183=760,t.a184=946,t.a197=771,t.a185=865,t.a194=771,t.a198=888,t.a186=967,t.a195=888,t.a187=831,t.a188=873,t.a189=927,t.a190=970,t.a191=918})});m.getMetrics=S;const N=(0,n.getLookupTableFactory)(function(e){e.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},e["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},e["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},e["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},e.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},e["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},e["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},e["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},e["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},e["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},e["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},e["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},e.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},e.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});m.getFontBasicMetrics=N},(xe,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.GlyfTable=void 0;const Q=1,n=2,S=4,N=8,e=16,t=32,r=64,z=1,j=2,M=8,I=32,d=64,u=128,i=256;class F{constructor({glyfTable:k,isGlyphLocationsLong:_,locaTable:l,numGlyphs:x}){this.glyphs=[];const X=new DataView(l.buffer,l.byteOffset,l.byteLength),a=new DataView(k.buffer,k.byteOffset,k.byteLength),g=_?4:2;let P=_?X.getUint32(0):2*X.getUint16(0),G=0;for(let D=0;D<x;D++){G+=g;const w=_?X.getUint32(G):2*X.getUint16(G);if(w===P){this.glyphs.push(new C({}));continue}const A=C.parse(P,a);this.glyphs.push(A),P=w}}getSize(){return this.glyphs.reduce((k,_)=>{const l=_.getSize();return k+(l+3&-4)},0)}write(){const k=this.getSize(),_=new DataView(new ArrayBuffer(k)),l=k>131070,x=l?4:2,X=new DataView(new ArrayBuffer((this.glyphs.length+1)*x));l?X.setUint32(0,0):X.setUint16(0,0);let a=0,g=0;for(const P of this.glyphs)a+=P.write(a,_),a=a+3&-4,g+=x,l?X.setUint32(g,a):X.setUint16(g,a>>1);return{isLocationLong:l,loca:new Uint8Array(X.buffer),glyf:new Uint8Array(_.buffer)}}scale(k){for(let _=0,l=this.glyphs.length;_<l;_++)this.glyphs[_].scale(k[_])}}m.GlyfTable=F;class C{constructor({header:k=null,simple:_=null,composites:l=null}){this.header=k,this.simple=_,this.composites=l}static parse(k,_){const[l,x]=T.parse(k,_);if(k+=l,x.numberOfContours<0){const a=[];for(;;){const[g,P]=B.parse(k,_);if(k+=g,a.push(P),!(P.flags&I))break}return new C({header:x,composites:a})}const X=L.parse(k,_,x.numberOfContours);return new C({header:x,simple:X})}getSize(){if(!this.header)return 0;const k=this.simple?this.simple.getSize():this.composites.reduce((_,l)=>_+l.getSize(),0);return this.header.getSize()+k}write(k,_){if(!this.header)return 0;const l=k;if(k+=this.header.write(k,_),this.simple)k+=this.simple.write(k,_);else for(const x of this.composites)k+=x.write(k,_);return k-l}scale(k){if(!this.header)return;const _=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(_,k),this.simple)this.simple.scale(_,k);else for(const l of this.composites)l.scale(_,k)}}class T{constructor({numberOfContours:k,xMin:_,yMin:l,xMax:x,yMax:X}){this.numberOfContours=k,this.xMin=_,this.yMin=l,this.xMax=x,this.yMax=X}static parse(k,_){return[10,new T({numberOfContours:_.getInt16(k),xMin:_.getInt16(k+2),yMin:_.getInt16(k+4),xMax:_.getInt16(k+6),yMax:_.getInt16(k+8)})]}getSize(){return 10}write(k,_){return _.setInt16(k,this.numberOfContours),_.setInt16(k+2,this.xMin),_.setInt16(k+4,this.yMin),_.setInt16(k+6,this.xMax),_.setInt16(k+8,this.yMax),10}scale(k,_){this.xMin=Math.round(k+(this.xMin-k)*_),this.xMax=Math.round(k+(this.xMax-k)*_)}}class b{constructor({flags:k,xCoordinates:_,yCoordinates:l}){this.xCoordinates=_,this.yCoordinates=l,this.flags=k}}class L{constructor({contours:k,instructions:_}){this.contours=k,this.instructions=_}static parse(k,_,l){const x=[];for(let c=0;c<l;c++){const h=_.getUint16(k);k+=2,x.push(h)}const X=x[l-1]+1,a=_.getUint16(k);k+=2;const g=new Uint8Array(_).slice(k,k+a);k+=a;const P=[];for(let c=0;c<X;k++,c++){let h=_.getUint8(k);if(P.push(h),h&N){const O=_.getUint8(++k);h^=N;for(let W=0;W<O;W++)P.push(h);c+=O}}const G=[];let D=[],w=[],A=[];const v=[];let o=0,y=0;for(let c=0;c<X;c++){const h=P[c];if(h&n){const O=_.getUint8(k++);y+=h&e?O:-O,D.push(y)}else h&e||(y+=_.getInt16(k),k+=2),D.push(y);x[o]===c&&(o++,G.push(D),D=[])}y=0,o=0;for(let c=0;c<X;c++){const h=P[c];if(h&S){const O=_.getUint8(k++);y+=h&t?O:-O,w.push(y)}else h&t||(y+=_.getInt16(k),k+=2),w.push(y);A.push(h&Q|h&r),x[o]===c&&(D=G[o],o++,v.push(new b({flags:A,xCoordinates:D,yCoordinates:w})),w=[],A=[])}return new L({contours:v,instructions:g})}getSize(){let k=this.contours.length*2+2+this.instructions.length,_=0,l=0;for(const x of this.contours){k+=x.flags.length;for(let X=0,a=x.xCoordinates.length;X<a;X++){const g=x.xCoordinates[X],P=x.yCoordinates[X];let G=Math.abs(g-_);G>255?k+=2:G>0&&(k+=1),_=g,G=Math.abs(P-l),G>255?k+=2:G>0&&(k+=1),l=P}}return k}write(k,_){const l=k,x=[],X=[],a=[];let g=0,P=0;for(const G of this.contours){for(let D=0,w=G.xCoordinates.length;D<w;D++){let A=G.flags[D];const v=G.xCoordinates[D];let o=v-g;if(o===0)A|=e,x.push(0);else{const c=Math.abs(o);c<=255?(A|=o>=0?n|e:n,x.push(c)):x.push(o)}g=v;const y=G.yCoordinates[D];if(o=y-P,o===0)A|=t,X.push(0);else{const c=Math.abs(o);c<=255?(A|=o>=0?S|t:S,X.push(c)):X.push(o)}P=y,a.push(A)}_.setUint16(k,x.length-1),k+=2}_.setUint16(k,this.instructions.length),k+=2,this.instructions.length&&(new Uint8Array(_.buffer,0,_.buffer.byteLength).set(this.instructions,k),k+=this.instructions.length);for(const G of a)_.setUint8(k++,G);for(let G=0,D=x.length;G<D;G++){const w=x[G],A=a[G];A&n?_.setUint8(k++,w):A&e||(_.setInt16(k,w),k+=2)}for(let G=0,D=X.length;G<D;G++){const w=X[G],A=a[G];A&S?_.setUint8(k++,w):A&t||(_.setInt16(k,w),k+=2)}return k-l}scale(k,_){for(const l of this.contours)if(l.xCoordinates.length!==0)for(let x=0,X=l.xCoordinates.length;x<X;x++)l.xCoordinates[x]=Math.round(k+(l.xCoordinates[x]-k)*_)}}class B{constructor({flags:k,glyphIndex:_,argument1:l,argument2:x,transf:X,instructions:a}){this.flags=k,this.glyphIndex=_,this.argument1=l,this.argument2=x,this.transf=X,this.instructions=a}static parse(k,_){const l=k,x=[];let X=_.getUint16(k);const a=_.getUint16(k+2);k+=4;let g,P;X&z?(X&j?(g=_.getInt16(k),P=_.getInt16(k+2)):(g=_.getUint16(k),P=_.getUint16(k+2)),k+=4,X^=z):(X&j?(g=_.getInt8(k),P=_.getInt8(k+1)):(g=_.getUint8(k),P=_.getUint8(k+1)),k+=2),X&M?(x.push(_.getUint16(k)),k+=2):X&d?(x.push(_.getUint16(k),_.getUint16(k+2)),k+=4):X&u&&(x.push(_.getUint16(k),_.getUint16(k+2),_.getUint16(k+4),_.getUint16(k+6)),k+=8);let G=null;if(X&i){const D=_.getUint16(k);k+=2,G=new Uint8Array(_).slice(k,k+D),k+=D}return[k-l,new B({flags:X,glyphIndex:a,argument1:g,argument2:P,transf:x,instructions:G})]}getSize(){let k=4+this.transf.length*2;return this.flags&i&&(k+=2+this.instructions.length),k+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(k+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(k+=2),k}write(k,_){const l=k;return this.flags&j?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=z):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=z),_.setUint16(k,this.flags),_.setUint16(k+2,this.glyphIndex),k+=4,this.flags&z?(this.flags&j?(_.setInt16(k,this.argument1),_.setInt16(k+2,this.argument2)):(_.setUint16(k,this.argument1),_.setUint16(k+2,this.argument2)),k+=4):(_.setUint8(k,this.argument1),_.setUint8(k+1,this.argument2),k+=2),this.flags&i&&(_.setUint16(k,this.instructions.length),k+=2,this.instructions.length&&(new Uint8Array(_.buffer,0,_.buffer.byteLength).set(this.instructions,k),k+=this.instructions.length)),k-l}scale(k,_){}}},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.OpenTypeFileBuilder=void 0;var n=Q(3),S=Q(2);function N(M,I,d){M[I]=d>>8&255,M[I+1]=d&255}function e(M,I,d){M[I]=d>>24&255,M[I+1]=d>>16&255,M[I+2]=d>>8&255,M[I+3]=d&255}function t(M,I,d){if(d instanceof Uint8Array)M.set(d,I);else if(typeof d=="string")for(let u=0,i=d.length;u<i;u++)M[I++]=d.charCodeAt(u)&255;else for(const u of d)M[I++]=u&255}const r=12,z=16;class j{constructor(I){this.sfnt=I,this.tables=Object.create(null)}static getSearchParams(I,d){let u=1,i=0;for(;(u^I)>u;)u<<=1,i++;const F=u*d;return{range:F,entry:i,rangeShift:d*I-F}}toArray(){let I=this.sfnt;const d=this.tables,u=Object.keys(d);u.sort();const i=u.length;let F,C,T,b,L,B=r+i*z;const V=[B];for(F=0;F<i;F++){b=d[u[F]];const l=(b.length+3&-4)>>>0;B+=l,V.push(B)}const k=new Uint8Array(B);for(F=0;F<i;F++)b=d[u[F]],t(k,V[F],b);I==="true"&&(I=(0,S.string32)(65536)),k[0]=I.charCodeAt(0)&255,k[1]=I.charCodeAt(1)&255,k[2]=I.charCodeAt(2)&255,k[3]=I.charCodeAt(3)&255,N(k,4,i);const _=j.getSearchParams(i,16);for(N(k,6,_.range),N(k,8,_.entry),N(k,10,_.rangeShift),B=r,F=0;F<i;F++){L=u[F],k[B]=L.charCodeAt(0)&255,k[B+1]=L.charCodeAt(1)&255,k[B+2]=L.charCodeAt(2)&255,k[B+3]=L.charCodeAt(3)&255;let l=0;for(C=V[F],T=V[F+1];C<T;C+=4){const x=(0,n.readUint32)(k,C);l=l+x>>>0}e(k,B+4,l),e(k,B+8,V[F]),e(k,B+12,d[L].length),B+=z}return k}addTable(I,d){if(I in this.tables)throw new Error("Table "+I+" already exists");this.tables[I]=d}}m.OpenTypeFileBuilder=j},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.Type1Font=void 0;var n=Q(35),S=Q(2),N=Q(38),e=Q(3),t=Q(8),r=Q(49);function z(d,u,i){const F=d.length,C=u.length,T=F-C;let b=i,L=!1;for(;b<T;){let B=0;for(;B<C&&d[b+B]===u[B];)B++;if(B>=C){for(b+=B;b<F&&(0,e.isWhiteSpace)(d[b]);)b++;L=!0;break}b++}return{found:L,length:b}}function j(d,u){const i=[101,101,120,101,99],F=d.pos;let C,T,b;try{C=d.getBytes(u),T=C.length}catch{}if(T===u&&(b=z(C,i,u-2*i.length),b.found&&b.length===u))return{stream:new t.Stream(C),length:u};(0,S.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),d.pos=F;const L=2048;let B;for(;;){const V=d.peekBytes(L);if(b=z(V,i,0),b.length===0)break;if(d.pos+=b.length,b.found){B=d.pos-F;break}}return d.pos=F,B?{stream:new t.Stream(d.getBytes(B)),length:B}:((0,S.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new t.Stream(d.getBytes(u)),length:u})}function M(d,u){const i=d.getBytes();if(i.length===0)throw new S.FormatError("getEexecBlock - no font program found.");return{stream:new t.Stream(i),length:i.length}}class I{constructor(u,i,F){let T=F.length1;F.length2;let b=i.peekBytes(6);const L=b[0]===128&&b[1]===1;L&&(i.skip(6),T=b[5]<<24|b[4]<<16|b[3]<<8|b[2]);const B=j(i,T);new r.Type1Parser(B.stream,!1,N.SEAC_ANALYSIS_ENABLED).extractFontHeader(F),L&&(b=i.getBytes(6),b[5]<<24|b[4]<<16|b[3]<<8|b[2]);const k=M(i),l=new r.Type1Parser(k.stream,!0,N.SEAC_ANALYSIS_ENABLED).extractFontProgram(F);for(const g in l.properties)F[g]=l.properties[g];const x=l.charstrings,X=this.getType2Charstrings(x),a=this.getType2Subrs(l.subrs);this.charstrings=x,this.data=this.wrap(u,X,this.charstrings,a,F),this.seacs=this.getSeacs(l.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const u=[".notdef"];for(const{glyphName:i}of this.charstrings)u.push(i);return u}getGlyphMapping(u){const i=this.charstrings;if(u.composite){const L=Object.create(null);for(let B=0,V=i.length;B<V;B++){const k=u.cMap.charCodeOf(B);L[k]=B+1}return L}const F=[".notdef"];let C,T;for(T=0;T<i.length;T++)F.push(i[T].glyphName);const b=u.builtInEncoding;if(b){C=Object.create(null);for(const L in b)T=F.indexOf(b[L]),T>=0&&(C[L]=T)}return(0,N.type1FontGlyphMapping)(u,C,F)}hasGlyphId(u){return u<0||u>=this.numGlyphs?!1:u===0?!0:this.charstrings[u-1].charstring.length>0}getSeacs(u){const i=[];for(let F=0,C=u.length;F<C;F++){const T=u[F];T.seac&&(i[F+1]=T.seac)}return i}getType2Charstrings(u){const i=[];for(const F of u)i.push(F.charstring);return i}getType2Subrs(u){let i=0;const F=u.length;F<1133?i=107:F<33769?i=1131:i=32768;const C=[];let T;for(T=0;T<i;T++)C.push([11]);for(T=0;T<F;T++)C.push(u[T]);return C}wrap(u,i,F,C,T){const b=new n.CFF;b.header=new n.CFFHeader(1,0,4,4),b.names=[u];const L=new n.CFFTopDict;L.setByName("version",391),L.setByName("Notice",392),L.setByName("FullName",393),L.setByName("FamilyName",394),L.setByName("Weight",395),L.setByName("Encoding",null),L.setByName("FontMatrix",T.fontMatrix),L.setByName("FontBBox",T.bbox),L.setByName("charset",null),L.setByName("CharStrings",null),L.setByName("Private",null),b.topDict=L;const B=new n.CFFStrings;B.add("Version 0.11"),B.add("See original notice"),B.add(u),B.add(u),B.add("Medium"),b.strings=B,b.globalSubrIndex=new n.CFFIndex;const V=i.length,k=[".notdef"];let _,l;for(_=0;_<V;_++){const G=F[_].glyphName;n.CFFStandardStrings.indexOf(G)===-1&&B.add(G),k.push(G)}b.charset=new n.CFFCharset(!1,0,k);const x=new n.CFFIndex;for(x.add([139,14]),_=0;_<V;_++)x.add(i[_]);b.charStrings=x;const X=new n.CFFPrivateDict;X.setByName("Subrs",null);const a=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(_=0,l=a.length;_<l;_++){const G=a[_];if(!(G in T.privateData))continue;const D=T.privateData[G];if(Array.isArray(D))for(let w=D.length-1;w>0;w--)D[w]-=D[w-1];X.setByName(G,D)}b.topDict.privateDict=X;const g=new n.CFFIndex;for(_=0,l=C.length;_<l;_++)g.add(C[_]);return X.subrsIndex=g,new n.CFFCompiler(b).compile()}}m.Type1Font=I},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.Type1Parser=void 0;var n=Q(37),S=Q(3),N=Q(8),e=Q(2);const t=!1,r={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class z{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(T,b,L){const B=T.length;let V=!1,k,_,l;for(let x=0;x<B;x++){let X=T[x];if(X<32){switch(X===12&&(X=(X<<8)+T[++x]),X){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){V=!0;break}const D=this.stack.pop();this.stack.push(0,D);break}V=this.executeCommand(1,r.vmoveto);break;case 5:V=this.executeCommand(2,r.rlineto);break;case 6:V=this.executeCommand(1,r.hlineto);break;case 7:V=this.executeCommand(1,r.vlineto);break;case 8:V=this.executeCommand(6,r.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){V=!0;break}if(l=this.stack.pop(),!b[l]){V=!0;break}V=this.convert(b[l],b,L);break;case 11:return V;case 13:if(this.stack.length<2){V=!0;break}k=this.stack.pop(),_=this.stack.pop(),this.lsb=_,this.width=k,this.stack.push(k,_),V=this.executeCommand(2,r.hmoveto);break;case 14:this.output.push(r.endchar[0]);break;case 21:if(this.flexing)break;V=this.executeCommand(2,r.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}V=this.executeCommand(1,r.hmoveto);break;case 30:V=this.executeCommand(4,r.vhcurveto);break;case 31:V=this.executeCommand(4,r.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(L){const D=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-D,V=this.executeCommand(0,r.endchar)}else V=this.executeCommand(4,r.endchar);break;case 3079:if(this.stack.length<4){V=!0;break}this.stack.pop(),k=this.stack.pop();const a=this.stack.pop();_=this.stack.pop(),this.lsb=_,this.width=k,this.stack.push(k,_,a),V=this.executeCommand(3,r.rmoveto);break;case 3084:if(this.stack.length<2){V=!0;break}const g=this.stack.pop(),P=this.stack.pop();this.stack.push(P/g);break;case 3088:if(this.stack.length<2){V=!0;break}l=this.stack.pop();const G=this.stack.pop();if(l===0&&G===3){const D=this.stack.splice(-17,17);this.stack.push(D[2]+D[0],D[3]+D[1],D[4],D[5],D[6],D[7],D[8],D[9],D[10],D[11],D[12],D[13],D[14]),V=this.executeCommand(13,r.flex,!0),this.flexing=!1,this.stack.push(D[15],D[16])}else l===1&&G===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:(0,e.warn)('Unknown type 1 charstring command of "'+X+'"');break}if(V)break;continue}else X<=246?X-=139:X<=250?X=(X-247)*256+T[++x]+108:X<=254?X=-((X-251)*256)-T[++x]-108:X=(T[++x]&255)<<24|(T[++x]&255)<<16|(T[++x]&255)<<8|(T[++x]&255)<<0;this.stack.push(X)}return V}executeCommand(T,b,L){const B=this.stack.length;if(T>B)return!0;const V=B-T;for(let k=V;k<B;k++){let _=this.stack[k];Number.isInteger(_)?this.output.push(28,_>>8&255,_&255):(_=65536*_|0,this.output.push(255,_>>24&255,_>>16&255,_>>8&255,_&255))}return this.output.push(...b),L?this.stack.splice(V,T):this.stack.length=0,!1}}const j=55665,M=4330;function I(C){return C>=48&&C<=57||C>=65&&C<=70||C>=97&&C<=102}function d(C,T,b){if(b>=C.length)return new Uint8Array(0);const L=52845,B=22719;let V=T|0,k,_;for(k=0;k<b;k++)V=(C[k]+V)*L+B&65535;const l=C.length-b,x=new Uint8Array(l);for(k=b,_=0;_<l;k++,_++){const X=C[k];x[_]=X^V>>8,V=(X+V)*L+B&65535}return x}function u(C,T,b){let V=T|0;const k=C.length,_=k>>>1,l=new Uint8Array(_);let x,X;for(x=0,X=0;x<k;x++){const a=C[x];if(!I(a))continue;x++;let g;for(;x<k&&!I(g=C[x]);)x++;if(x<k){const P=parseInt(String.fromCharCode(a,g),16);l[X++]=P^V>>8,V=(P+V)*52845+22719&65535}}return l.slice(b,X)}function i(C){return C===47||C===91||C===93||C===123||C===125||C===40||C===41}class F{constructor(T,b,L){if(b){const B=T.getBytes(),V=!((I(B[0])||(0,S.isWhiteSpace)(B[0]))&&I(B[1])&&I(B[2])&&I(B[3])&&I(B[4])&&I(B[5])&&I(B[6])&&I(B[7]));T=new N.Stream(V?d(B,j,4):u(B,j,4))}this.seacAnalysisEnabled=!!L,this.stream=T,this.nextChar()}readNumberArray(){this.getToken();const T=[];for(;;){const b=this.getToken();if(b===null||b==="]"||b==="}")break;T.push(parseFloat(b||0))}return T}readNumber(){const T=this.getToken();return parseFloat(T||0)}readInt(){const T=this.getToken();return parseInt(T||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let T=!1,b=this.currentChar;for(;;){if(b===-1)return null;if(T)(b===10||b===13)&&(T=!1);else if(b===37)T=!0;else if(!(0,S.isWhiteSpace)(b))break;b=this.nextChar()}if(i(b))return this.nextChar(),String.fromCharCode(b);let L="";do L+=String.fromCharCode(b),b=this.nextChar();while(b>=0&&!(0,S.isWhiteSpace)(b)&&!i(b));return L}readCharStrings(T,b){return b===-1?T:d(T,M,b)}extractFontProgram(T){const b=this.stream,L=[],B=[],V=Object.create(null);V.lenIV=4;const k={subrs:[],charstrings:[],properties:{privateData:V}};let _,l,x,X;for(;(_=this.getToken())!==null;)if(_==="/")switch(_=this.getToken(),_){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();_=this.getToken(),!(_===null||_==="end");){if(_!=="/")continue;const g=this.getToken();l=this.readInt(),this.getToken(),x=l>0?b.getBytes(l):new Uint8Array(0),X=k.properties.privateData.lenIV;const P=this.readCharStrings(x,X);this.nextChar(),_=this.getToken(),_==="noaccess"?this.getToken():_==="/"&&this.prevChar(),B.push({glyph:g,encoded:P})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const g=this.readInt();l=this.readInt(),this.getToken(),x=l>0?b.getBytes(l):new Uint8Array(0),X=k.properties.privateData.lenIV;const P=this.readCharStrings(x,X);this.nextChar(),_=this.getToken(),_==="noaccess"&&this.getToken(),L[g]=P}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const a=this.readNumberArray();a.length>0&&a.length%2===0&&t&&(k.properties.privateData[_]=a);break;case"StemSnapH":case"StemSnapV":k.properties.privateData[_]=this.readNumberArray();break;case"StdHW":case"StdVW":k.properties.privateData[_]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":k.properties.privateData[_]=this.readNumber();break;case"ExpansionFactor":k.properties.privateData[_]=this.readNumber()||.06;break;case"ForceBold":k.properties.privateData[_]=this.readBoolean();break}for(const{encoded:a,glyph:g}of B){const P=new z,G=P.convert(a,L,this.seacAnalysisEnabled);let D=P.output;G&&(D=[14]);const w={glyphName:g,charstring:D,width:P.width,lsb:P.lsb,seac:P.seac};if(g===".notdef"?k.charstrings.unshift(w):k.charstrings.push(w),T.builtInEncoding){const A=T.builtInEncoding.indexOf(g);A>-1&&T.widths[A]===void 0&&A>=T.firstChar&&A<=T.lastChar&&(T.widths[A]=P.width)}}return k}extractFontHeader(T){let b;for(;(b=this.getToken())!==null;)if(b==="/")switch(b=this.getToken(),b){case"FontMatrix":const L=this.readNumberArray();T.fontMatrix=L;break;case"Encoding":const B=this.getToken();let V;if(!/^\d+$/.test(B))V=(0,n.getEncoding)(B);else{V=[];const _=parseInt(B,10)|0;this.getToken();for(let l=0;l<_;l++){for(b=this.getToken();b!=="dup"&&b!=="def";)if(b=this.getToken(),b===null)return;if(b==="def")break;const x=this.readInt();this.getToken();const X=this.getToken();V[x]=X,this.getToken()}}T.builtInEncoding=V;break;case"FontBBox":const k=this.readNumberArray();T.ascent=Math.max(k[3],k[1]),T.descent=Math.min(k[1],k[3]),T.ascentScaled=!0;break}}}m.Type1Parser=F},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.Pattern=void 0,m.clearPatternCaches=i,m.getTilingPatternIR=T;var n=Q(2),S=Q(5),N=Q(12),e=Q(3);const t={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class r{constructor(){(0,n.unreachable)("Cannot initialize Pattern.")}static parseShading(V,k,_,l,x){const X=V instanceof S.BaseStream?V.dict:V,a=X.get("ShadingType");try{switch(a){case t.AXIAL:case t.RADIAL:return new j(X,k,_,l,x);case t.FREE_FORM_MESH:case t.LATTICE_FORM_MESH:case t.COONS_PATCH_MESH:case t.TENSOR_PATCH_MESH:return new F(V,k,_,l,x);default:throw new n.FormatError("Unsupported ShadingType: "+a)}}catch(g){if(g instanceof e.MissingDataException)throw g;return(0,n.warn)(g),new C}}}m.Pattern=r;const b=class b{constructor(){this.constructor===b&&(0,n.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,n.unreachable)("Abstract method `getIR` called.")}};Dt(b,"SMALL_NUMBER",1e-6);let z=b;class j extends z{constructor(V,k,_,l,x){super(),this.coordsArr=V.getArray("Coords"),this.shadingType=V.get("ShadingType");const X=N.ColorSpace.parse({cs:V.getRaw("CS")||V.getRaw("ColorSpace"),xref:k,resources:_,pdfFunctionFactory:l,localColorSpaceCache:x}),a=V.getArray("BBox");this.bbox=Array.isArray(a)&&a.length===4?n.Util.normalizeRect(a):null;let g=0,P=1;if(V.has("Domain")){const ie=V.getArray("Domain");g=ie[0],P=ie[1]}let G=!1,D=!1;if(V.has("Extend")){const ie=V.getArray("Extend");G=ie[0],D=ie[1]}if(this.shadingType===t.RADIAL&&(!G||!D)){const[ie,re,Z,he,le,te]=this.coordsArr,ue=Math.hypot(ie-he,re-le);Z<=te+ue&&te<=Z+ue&&(0,n.warn)("Unsupported radial gradient.")}this.extendStart=G,this.extendEnd=D;const w=V.getRaw("Function"),A=l.createFromArray(w),v=840,o=(P-g)/v,y=this.colorStops=[];if(g>=P||o<=0){(0,n.info)("Bad shading domain.");return}const c=new Float32Array(X.numComps),h=new Float32Array(1);let O,W=0;h[0]=g,A(h,0,c,0);let R=X.getRgb(c,0);const H=n.Util.makeHexColor(R[0],R[1],R[2]);y.push([0,H]);let ae=1;h[0]=g+o,A(h,0,c,0);let q=X.getRgb(c,0),ce=q[0]-R[0]+1,ee=q[1]-R[1]+1,se=q[2]-R[2]+1,$=q[0]-R[0]-1,U=q[1]-R[1]-1,K=q[2]-R[2]-1;for(let ie=2;ie<v;ie++){h[0]=g+ie*o,A(h,0,c,0),O=X.getRgb(c,0);const re=ie-W;if(ce=Math.min(ce,(O[0]-R[0]+1)/re),ee=Math.min(ee,(O[1]-R[1]+1)/re),se=Math.min(se,(O[2]-R[2]+1)/re),$=Math.max($,(O[0]-R[0]-1)/re),U=Math.max(U,(O[1]-R[1]-1)/re),K=Math.max(K,(O[2]-R[2]-1)/re),!($<=ce&&U<=ee&&K<=se)){const he=n.Util.makeHexColor(q[0],q[1],q[2]);y.push([ae/v,he]),ce=O[0]-q[0]+1,ee=O[1]-q[1]+1,se=O[2]-q[2]+1,$=O[0]-q[0]-1,U=O[1]-q[1]-1,K=O[2]-q[2]-1,W=ae,R=q}ae=ie,q=O}const J=n.Util.makeHexColor(q[0],q[1],q[2]);y.push([1,J]);let Y="transparent";V.has("Background")&&(O=X.getRgb(V.get("Background"),0),Y=n.Util.makeHexColor(O[0],O[1],O[2])),G||(y.unshift([0,Y]),y[1][0]+=z.SMALL_NUMBER),D||(y.at(-1)[0]-=z.SMALL_NUMBER,y.push([1,Y])),this.colorStops=y}getIR(){const V=this.coordsArr,k=this.shadingType;let _,l,x,X,a;return k===t.AXIAL?(l=[V[0],V[1]],x=[V[2],V[3]],X=null,a=null,_="axial"):k===t.RADIAL?(l=[V[0],V[1]],x=[V[3],V[4]],X=V[2],a=V[5],_="radial"):(0,n.unreachable)(`getPattern type unknown: ${k}`),["RadialAxial",_,this.bbox,this.colorStops,l,x,X,a]}}class M{constructor(V,k){this.stream=V,this.context=k,this.buffer=0,this.bufferLength=0;const _=k.numComps;this.tmpCompsBuf=new Float32Array(_);const l=k.colorSpace.numComps;this.tmpCsCompsBuf=k.colorFn?new Float32Array(l):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const V=this.stream.getByte();return V<0?!1:(this.buffer=V,this.bufferLength=8,!0)}readBits(V){let k=this.buffer,_=this.bufferLength;if(V===32){if(_===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;k=k<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const l=this.stream.getByte();return this.buffer=l&(1<<_)-1,(k<<8-_|(l&255)>>_)>>>0}if(V===8&&_===0)return this.stream.getByte();for(;_<V;)k=k<<8|this.stream.getByte(),_+=8;return _-=V,this.bufferLength=_,this.buffer=k&(1<<_)-1,k>>_}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const V=this.context.bitsPerCoordinate,k=this.readBits(V),_=this.readBits(V),l=this.context.decode,x=V<32?1/((1<<V)-1):23283064365386963e-26;return[k*x*(l[1]-l[0])+l[0],_*x*(l[3]-l[2])+l[2]]}readComponents(){const V=this.context.numComps,k=this.context.bitsPerComponent,_=k<32?1/((1<<k)-1):23283064365386963e-26,l=this.context.decode,x=this.tmpCompsBuf;for(let a=0,g=4;a<V;a++,g+=2){const P=this.readBits(k);x[a]=P*_*(l[g+1]-l[g])+l[g]}const X=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(x,0,X,0),this.context.colorSpace.getRgb(X,0)}}let I=Object.create(null);function d(B){const V=[];for(let k=0;k<=B;k++){const _=k/B,l=1-_;V.push(new Float32Array([l**3,3*_*l**2,3*_**2*l,_**3]))}return V}function u(B){return I[B]||(I[B]=d(B))}function i(){I=Object.create(null)}const L=class L extends z{constructor(V,k,_,l,x){if(super(),!(V instanceof S.BaseStream))throw new n.FormatError("Mesh data is not a stream");const X=V.dict;this.shadingType=X.get("ShadingType");const a=X.getArray("BBox");this.bbox=Array.isArray(a)&&a.length===4?n.Util.normalizeRect(a):null;const g=N.ColorSpace.parse({cs:X.getRaw("CS")||X.getRaw("ColorSpace"),xref:k,resources:_,pdfFunctionFactory:l,localColorSpaceCache:x});this.background=X.has("Background")?g.getRgb(X.get("Background"),0):null;const P=X.getRaw("Function"),G=P?l.createFromArray(P):null;this.coords=[],this.colors=[],this.figures=[];const D={bitsPerCoordinate:X.get("BitsPerCoordinate"),bitsPerComponent:X.get("BitsPerComponent"),bitsPerFlag:X.get("BitsPerFlag"),decode:X.getArray("Decode"),colorFn:G,colorSpace:g,numComps:G?1:g.numComps},w=new M(V,D);let A=!1;switch(this.shadingType){case t.FREE_FORM_MESH:this._decodeType4Shading(w);break;case t.LATTICE_FORM_MESH:const v=X.get("VerticesPerRow")|0;if(v<2)throw new n.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(w,v);break;case t.COONS_PATCH_MESH:this._decodeType6Shading(w),A=!0;break;case t.TENSOR_PATCH_MESH:this._decodeType7Shading(w),A=!0;break;default:(0,n.unreachable)("Unsupported mesh type.");break}if(A){this._updateBounds();for(let v=0,o=this.figures.length;v<o;v++)this._buildFigureFromPatch(v)}this._updateBounds(),this._packData()}_decodeType4Shading(V){const k=this.coords,_=this.colors,l=[];let x=0;for(;V.hasData;){const X=V.readFlag(),a=V.readCoordinate(),g=V.readComponents();if(x===0){if(!(0<=X&&X<=2))throw new n.FormatError("Unknown type4 flag");switch(X){case 0:x=3;break;case 1:l.push(l.at(-2),l.at(-1)),x=1;break;case 2:l.push(l.at(-3),l.at(-1)),x=1;break}}l.push(k.length),k.push(a),_.push(g),x--,V.align()}this.figures.push({type:"triangles",coords:new Int32Array(l),colors:new Int32Array(l)})}_decodeType5Shading(V,k){const _=this.coords,l=this.colors,x=[];for(;V.hasData;){const X=V.readCoordinate(),a=V.readComponents();x.push(_.length),_.push(X),l.push(a)}this.figures.push({type:"lattice",coords:new Int32Array(x),colors:new Int32Array(x),verticesPerRow:k})}_decodeType6Shading(V){const k=this.coords,_=this.colors,l=new Int32Array(16),x=new Int32Array(4);for(;V.hasData;){const X=V.readFlag();if(!(0<=X&&X<=3))throw new n.FormatError("Unknown type6 flag");const a=k.length;for(let A=0,v=X!==0?8:12;A<v;A++)k.push(V.readCoordinate());const g=_.length;for(let A=0,v=X!==0?2:4;A<v;A++)_.push(V.readComponents());let P,G,D,w;switch(X){case 0:l[12]=a+3,l[13]=a+4,l[14]=a+5,l[15]=a+6,l[8]=a+2,l[11]=a+7,l[4]=a+1,l[7]=a+8,l[0]=a,l[1]=a+11,l[2]=a+10,l[3]=a+9,x[2]=g+1,x[3]=g+2,x[0]=g,x[1]=g+3;break;case 1:P=l[12],G=l[13],D=l[14],w=l[15],l[12]=w,l[13]=a+0,l[14]=a+1,l[15]=a+2,l[8]=D,l[11]=a+3,l[4]=G,l[7]=a+4,l[0]=P,l[1]=a+7,l[2]=a+6,l[3]=a+5,P=x[2],G=x[3],x[2]=G,x[3]=g,x[0]=P,x[1]=g+1;break;case 2:P=l[15],G=l[11],l[12]=l[3],l[13]=a+0,l[14]=a+1,l[15]=a+2,l[8]=l[7],l[11]=a+3,l[4]=G,l[7]=a+4,l[0]=P,l[1]=a+7,l[2]=a+6,l[3]=a+5,P=x[3],x[2]=x[1],x[3]=g,x[0]=P,x[1]=g+1;break;case 3:l[12]=l[0],l[13]=a+0,l[14]=a+1,l[15]=a+2,l[8]=l[1],l[11]=a+3,l[4]=l[2],l[7]=a+4,l[0]=l[3],l[1]=a+7,l[2]=a+6,l[3]=a+5,x[2]=x[0],x[3]=g,x[0]=x[1],x[1]=g+1;break}l[5]=k.length,k.push([(-4*k[l[0]][0]-k[l[15]][0]+6*(k[l[4]][0]+k[l[1]][0])-2*(k[l[12]][0]+k[l[3]][0])+3*(k[l[13]][0]+k[l[7]][0]))/9,(-4*k[l[0]][1]-k[l[15]][1]+6*(k[l[4]][1]+k[l[1]][1])-2*(k[l[12]][1]+k[l[3]][1])+3*(k[l[13]][1]+k[l[7]][1]))/9]),l[6]=k.length,k.push([(-4*k[l[3]][0]-k[l[12]][0]+6*(k[l[2]][0]+k[l[7]][0])-2*(k[l[0]][0]+k[l[15]][0])+3*(k[l[4]][0]+k[l[14]][0]))/9,(-4*k[l[3]][1]-k[l[12]][1]+6*(k[l[2]][1]+k[l[7]][1])-2*(k[l[0]][1]+k[l[15]][1])+3*(k[l[4]][1]+k[l[14]][1]))/9]),l[9]=k.length,k.push([(-4*k[l[12]][0]-k[l[3]][0]+6*(k[l[8]][0]+k[l[13]][0])-2*(k[l[0]][0]+k[l[15]][0])+3*(k[l[11]][0]+k[l[1]][0]))/9,(-4*k[l[12]][1]-k[l[3]][1]+6*(k[l[8]][1]+k[l[13]][1])-2*(k[l[0]][1]+k[l[15]][1])+3*(k[l[11]][1]+k[l[1]][1]))/9]),l[10]=k.length,k.push([(-4*k[l[15]][0]-k[l[0]][0]+6*(k[l[11]][0]+k[l[14]][0])-2*(k[l[12]][0]+k[l[3]][0])+3*(k[l[2]][0]+k[l[8]][0]))/9,(-4*k[l[15]][1]-k[l[0]][1]+6*(k[l[11]][1]+k[l[14]][1])-2*(k[l[12]][1]+k[l[3]][1])+3*(k[l[2]][1]+k[l[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(l),colors:new Int32Array(x)})}}_decodeType7Shading(V){const k=this.coords,_=this.colors,l=new Int32Array(16),x=new Int32Array(4);for(;V.hasData;){const X=V.readFlag();if(!(0<=X&&X<=3))throw new n.FormatError("Unknown type7 flag");const a=k.length;for(let A=0,v=X!==0?12:16;A<v;A++)k.push(V.readCoordinate());const g=_.length;for(let A=0,v=X!==0?2:4;A<v;A++)_.push(V.readComponents());let P,G,D,w;switch(X){case 0:l[12]=a+3,l[13]=a+4,l[14]=a+5,l[15]=a+6,l[8]=a+2,l[9]=a+13,l[10]=a+14,l[11]=a+7,l[4]=a+1,l[5]=a+12,l[6]=a+15,l[7]=a+8,l[0]=a,l[1]=a+11,l[2]=a+10,l[3]=a+9,x[2]=g+1,x[3]=g+2,x[0]=g,x[1]=g+3;break;case 1:P=l[12],G=l[13],D=l[14],w=l[15],l[12]=w,l[13]=a+0,l[14]=a+1,l[15]=a+2,l[8]=D,l[9]=a+9,l[10]=a+10,l[11]=a+3,l[4]=G,l[5]=a+8,l[6]=a+11,l[7]=a+4,l[0]=P,l[1]=a+7,l[2]=a+6,l[3]=a+5,P=x[2],G=x[3],x[2]=G,x[3]=g,x[0]=P,x[1]=g+1;break;case 2:P=l[15],G=l[11],l[12]=l[3],l[13]=a+0,l[14]=a+1,l[15]=a+2,l[8]=l[7],l[9]=a+9,l[10]=a+10,l[11]=a+3,l[4]=G,l[5]=a+8,l[6]=a+11,l[7]=a+4,l[0]=P,l[1]=a+7,l[2]=a+6,l[3]=a+5,P=x[3],x[2]=x[1],x[3]=g,x[0]=P,x[1]=g+1;break;case 3:l[12]=l[0],l[13]=a+0,l[14]=a+1,l[15]=a+2,l[8]=l[1],l[9]=a+9,l[10]=a+10,l[11]=a+3,l[4]=l[2],l[5]=a+8,l[6]=a+11,l[7]=a+4,l[0]=l[3],l[1]=a+7,l[2]=a+6,l[3]=a+5,x[2]=x[0],x[3]=g,x[0]=x[1],x[1]=g+1;break}this.figures.push({type:"patch",coords:new Int32Array(l),colors:new Int32Array(x)})}}_buildFigureFromPatch(V){const k=this.figures[V];(0,n.assert)(k.type==="patch","Unexpected patch mesh figure");const _=this.coords,l=this.colors,x=k.coords,X=k.colors,a=Math.min(_[x[0]][0],_[x[3]][0],_[x[12]][0],_[x[15]][0]),g=Math.min(_[x[0]][1],_[x[3]][1],_[x[12]][1],_[x[15]][1]),P=Math.max(_[x[0]][0],_[x[3]][0],_[x[12]][0],_[x[15]][0]),G=Math.max(_[x[0]][1],_[x[3]][1],_[x[12]][1],_[x[15]][1]);let D=Math.ceil((P-a)*L.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));D=Math.max(L.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(L.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,D));let w=Math.ceil((G-g)*L.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));w=Math.max(L.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(L.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,w));const A=D+1,v=new Int32Array((w+1)*A),o=new Int32Array((w+1)*A);let y=0;const c=new Uint8Array(3),h=new Uint8Array(3),O=l[X[0]],W=l[X[1]],R=l[X[2]],H=l[X[3]],ae=u(w),q=u(D);for(let ce=0;ce<=w;ce++){c[0]=(O[0]*(w-ce)+R[0]*ce)/w|0,c[1]=(O[1]*(w-ce)+R[1]*ce)/w|0,c[2]=(O[2]*(w-ce)+R[2]*ce)/w|0,h[0]=(W[0]*(w-ce)+H[0]*ce)/w|0,h[1]=(W[1]*(w-ce)+H[1]*ce)/w|0,h[2]=(W[2]*(w-ce)+H[2]*ce)/w|0;for(let ee=0;ee<=D;ee++,y++){if((ce===0||ce===w)&&(ee===0||ee===D))continue;let se=0,$=0,U=0;for(let J=0;J<=3;J++)for(let Y=0;Y<=3;Y++,U++){const ie=ae[ce][J]*q[ee][Y];se+=_[x[U]][0]*ie,$+=_[x[U]][1]*ie}v[y]=_.length,_.push([se,$]),o[y]=l.length;const K=new Uint8Array(3);K[0]=(c[0]*(D-ee)+h[0]*ee)/D|0,K[1]=(c[1]*(D-ee)+h[1]*ee)/D|0,K[2]=(c[2]*(D-ee)+h[2]*ee)/D|0,l.push(K)}}v[0]=x[0],o[0]=X[0],v[D]=x[3],o[D]=X[1],v[A*w]=x[12],o[A*w]=X[2],v[A*w+D]=x[15],o[A*w+D]=X[3],this.figures[V]={type:"lattice",coords:v,colors:o,verticesPerRow:A}}_updateBounds(){let V=this.coords[0][0],k=this.coords[0][1],_=V,l=k;for(let x=1,X=this.coords.length;x<X;x++){const a=this.coords[x][0],g=this.coords[x][1];V=V>a?a:V,k=k>g?g:k,_=_<a?a:_,l=l<g?g:l}this.bounds=[V,k,_,l]}_packData(){let V,k,_,l;const x=this.coords,X=new Float32Array(x.length*2);for(V=0,_=0,k=x.length;V<k;V++){const G=x[V];X[_++]=G[0],X[_++]=G[1]}this.coords=X;const a=this.colors,g=new Uint8Array(a.length*3);for(V=0,_=0,k=a.length;V<k;V++){const G=a[V];g[_++]=G[0],g[_++]=G[1],g[_++]=G[2]}this.colors=g;const P=this.figures;for(V=0,k=P.length;V<k;V++){const G=P[V],D=G.coords,w=G.colors;for(_=0,l=D.length;_<l;_++)D[_]*=2,w[_]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}};Dt(L,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3),Dt(L,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20),Dt(L,"TRIANGLE_DENSITY",20);let F=L;class C extends z{getIR(){return["Dummy"]}}function T(B,V,k){const _=V.getArray("Matrix"),l=n.Util.normalizeRect(V.getArray("BBox")),x=V.get("XStep"),X=V.get("YStep"),a=V.get("PaintType"),g=V.get("TilingType");if(l[2]-l[0]===0||l[3]-l[1]===0)throw new n.FormatError(`Invalid getTilingPatternIR /BBox array: [${l}].`);return["TilingPattern",k,B,_,l,x,X,a,g]}},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.getXfaFontDict=u,m.getXfaFontName=I;var n=Q(52),S=Q(4),N=Q(53),e=Q(54),t=Q(55),r=Q(56),z=Q(3),j=Q(38);const M=(0,z.getLookupTableFactory)(function(i){i["MyriadPro-Regular"]=i["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:t.MyriadProRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:t.MyriadProRegularMetrics},i["MyriadPro-Bold"]=i["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:t.MyriadProBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:t.MyriadProBoldMetrics},i["MyriadPro-It"]=i["MyriadPro-Italic"]=i["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:t.MyriadProItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:t.MyriadProItalicMetrics},i["MyriadPro-BoldIt"]=i["MyriadPro-BoldItalic"]=i["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:t.MyriadProBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:t.MyriadProBoldItalicMetrics},i.ArialMT=i.Arial=i["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping},i["Arial-BoldMT"]=i["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping},i["Arial-ItalicMT"]=i["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping},i["Arial-BoldItalicMT"]=i["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping},i["Calibri-Regular"]={name:"LiberationSans-Regular",factors:n.CalibriRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:n.CalibriRegularMetrics},i["Calibri-Bold"]={name:"LiberationSans-Bold",factors:n.CalibriBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:n.CalibriBoldMetrics},i["Calibri-Italic"]={name:"LiberationSans-Italic",factors:n.CalibriItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:n.CalibriItalicMetrics},i["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:n.CalibriBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:n.CalibriBoldItalicMetrics},i["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:r.SegoeuiRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:r.SegoeuiRegularMetrics},i["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:r.SegoeuiBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:r.SegoeuiBoldMetrics},i["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:r.SegoeuiItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:r.SegoeuiItalicMetrics},i["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:r.SegoeuiBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:r.SegoeuiBoldItalicMetrics},i["Helvetica-Regular"]=i.Helvetica={name:"LiberationSans-Regular",factors:N.HelveticaRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:N.HelveticaRegularMetrics},i["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:N.HelveticaBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:N.HelveticaBoldMetrics},i["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:N.HelveticaItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:N.HelveticaItalicMetrics},i["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:N.HelveticaBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:N.HelveticaBoldItalicMetrics}});function I(i){const F=(0,j.normalizeFontName)(i);return M()[F]}function d(i){const F=I(i);if(!F)return null;const{baseWidths:C,baseMapping:T,factors:b}=F,L=b?C.map((_,l)=>_*b[l]):C;let B=-2,V;const k=[];for(const[_,l]of T.map((x,X)=>[x,X]).sort(([x],[X])=>x-X))_!==-1&&(_===B+1?(V.push(L[l]),B+=1):(B=_,V=[L[l]],k.push(_,V)));return k}function u(i){const F=d(i),C=new S.Dict(null);C.set("BaseFont",S.Name.get(i)),C.set("Type",S.Name.get("Font")),C.set("Subtype",S.Name.get("CIDFontType2")),C.set("Encoding",S.Name.get("Identity-H")),C.set("CIDToGIDMap",S.Name.get("Identity")),C.set("W",F),C.set("FirstChar",F[0]),C.set("LastChar",F.at(-2)+F.at(-1).length-1);const T=new S.Dict(null);C.set("FontDescriptor",T);const b=new S.Dict(null);return b.set("Ordering","Identity"),b.set("Registry","Adobe"),b.set("Supplement",0),C.set("CIDSystemInfo",b),C}},(xe,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.CalibriRegularMetrics=m.CalibriRegularFactors=m.CalibriItalicMetrics=m.CalibriItalicFactors=m.CalibriBoldMetrics=m.CalibriBoldItalicMetrics=m.CalibriBoldItalicFactors=m.CalibriBoldFactors=void 0;const Q=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];m.CalibriBoldFactors=Q;const n={lineHeight:1.2207,lineGap:.2207};m.CalibriBoldMetrics=n;const S=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];m.CalibriBoldItalicFactors=S;const N={lineHeight:1.2207,lineGap:.2207};m.CalibriBoldItalicMetrics=N;const e=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];m.CalibriItalicFactors=e;const t={lineHeight:1.2207,lineGap:.2207};m.CalibriItalicMetrics=t;const r=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1];m.CalibriRegularFactors=r;const z={lineHeight:1.2207,lineGap:.2207};m.CalibriRegularMetrics=z},(xe,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.HelveticaRegularMetrics=m.HelveticaRegularFactors=m.HelveticaItalicMetrics=m.HelveticaItalicFactors=m.HelveticaBoldMetrics=m.HelveticaBoldItalicMetrics=m.HelveticaBoldItalicFactors=m.HelveticaBoldFactors=void 0;const Q=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];m.HelveticaBoldFactors=Q;const n={lineHeight:1.2,lineGap:.2};m.HelveticaBoldMetrics=n;const S=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];m.HelveticaBoldItalicFactors=S;const N={lineHeight:1.35,lineGap:.2};m.HelveticaBoldItalicMetrics=N;const e=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];m.HelveticaItalicFactors=e;const t={lineHeight:1.35,lineGap:.2};m.HelveticaItalicMetrics=t;const r=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];m.HelveticaRegularFactors=r;const z={lineHeight:1.2,lineGap:.2};m.HelveticaRegularMetrics=z},(xe,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.LiberationSansRegularWidths=m.LiberationSansRegularMapping=m.LiberationSansItalicWidths=m.LiberationSansItalicMapping=m.LiberationSansBoldWidths=m.LiberationSansBoldMapping=m.LiberationSansBoldItalicWidths=m.LiberationSansBoldItalicMapping=void 0;const Q=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];m.LiberationSansBoldWidths=Q;const n=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];m.LiberationSansBoldMapping=n;const S=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];m.LiberationSansBoldItalicWidths=S;const N=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];m.LiberationSansBoldItalicMapping=N;const e=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];m.LiberationSansItalicWidths=e;const t=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];m.LiberationSansItalicMapping=t;const r=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];m.LiberationSansRegularWidths=r;const z=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];m.LiberationSansRegularMapping=z},(xe,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.MyriadProRegularMetrics=m.MyriadProRegularFactors=m.MyriadProItalicMetrics=m.MyriadProItalicFactors=m.MyriadProBoldMetrics=m.MyriadProBoldItalicMetrics=m.MyriadProBoldItalicFactors=m.MyriadProBoldFactors=void 0;const Q=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];m.MyriadProBoldFactors=Q;const n={lineHeight:1.2,lineGap:.2};m.MyriadProBoldMetrics=n;const S=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];m.MyriadProBoldItalicFactors=S;const N={lineHeight:1.2,lineGap:.2};m.MyriadProBoldItalicMetrics=N;const e=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];m.MyriadProItalicFactors=e;const t={lineHeight:1.2,lineGap:.2};m.MyriadProItalicMetrics=t;const r=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];m.MyriadProRegularFactors=r;const z={lineHeight:1.2,lineGap:.2};m.MyriadProRegularMetrics=z},(xe,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.SegoeuiRegularMetrics=m.SegoeuiRegularFactors=m.SegoeuiItalicMetrics=m.SegoeuiItalicFactors=m.SegoeuiBoldMetrics=m.SegoeuiBoldItalicMetrics=m.SegoeuiBoldItalicFactors=m.SegoeuiBoldFactors=void 0;const Q=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];m.SegoeuiBoldFactors=Q;const n={lineHeight:1.33008,lineGap:0};m.SegoeuiBoldMetrics=n;const S=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];m.SegoeuiBoldItalicFactors=S;const N={lineHeight:1.33008,lineGap:0};m.SegoeuiBoldItalicMetrics=N;const e=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];m.SegoeuiItalicFactors=e;const t={lineHeight:1.33008,lineGap:0};m.SegoeuiItalicMetrics=t;const r=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1];m.SegoeuiRegularFactors=r;const z={lineHeight:1.33008,lineGap:0};m.SegoeuiRegularMetrics=z},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PostScriptEvaluator=m.PostScriptCompiler=m.PDFFunctionFactory=void 0,m.isPDFFunction=M;var n=Q(4),S=Q(2),N=Q(58),e=Q(5),t=Q(59);class r{constructor({xref:g,isEvalSupported:P=!0}){this.xref=g,this.isEvalSupported=P!==!1}create(g){const P=this.getCached(g);if(P)return P;const G=j.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:g instanceof n.Ref?this.xref.fetch(g):g});return this._cache(g,G),G}createFromArray(g){const P=this.getCached(g);if(P)return P;const G=j.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:g instanceof n.Ref?this.xref.fetch(g):g});return this._cache(g,G),G}getCached(g){var G;let P;if(g instanceof n.Ref?P=g:g instanceof n.Dict?P=g.objId:g instanceof e.BaseStream&&(P=(G=g.dict)==null?void 0:G.objId),P){const D=this._localFunctionCache.getByRef(P);if(D)return D}return null}_cache(g,P){var D;if(!P)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let G;g instanceof n.Ref?G=g:g instanceof n.Dict?G=g.objId:g instanceof e.BaseStream&&(G=(D=g.dict)==null?void 0:D.objId),G&&this._localFunctionCache.set(null,G,P)}get _localFunctionCache(){return(0,S.shadow)(this,"_localFunctionCache",new t.LocalFunctionCache)}}m.PDFFunctionFactory=r;function z(a){if(!Array.isArray(a))return null;const g=a.length;for(let P=0;P<g;P++)if(typeof a[P]!="number"){const G=new Array(g);for(let D=0;D<g;D++)G[D]=+a[D];return G}return a}class j{static getSampleArray(g,P,G,D){let w,A,v=1;for(w=0,A=g.length;w<A;w++)v*=g[w];v*=P;const o=new Array(v);let y=0,c=0;const h=1/(2**G-1),O=D.getBytes((v*G+7)/8);let W=0;for(w=0;w<v;w++){for(;y<G;)c<<=8,c|=O[W++],y+=8;y-=G,o[w]=(c>>y)*h,c&=(1<<y)-1}return o}static parse({xref:g,isEvalSupported:P,fn:G}){const D=G.dict||G;switch(D.get("FunctionType")){case 0:return this.constructSampled({xref:g,isEvalSupported:P,fn:G,dict:D});case 1:break;case 2:return this.constructInterpolated({xref:g,isEvalSupported:P,dict:D});case 3:return this.constructStiched({xref:g,isEvalSupported:P,dict:D});case 4:return this.constructPostScript({xref:g,isEvalSupported:P,fn:G,dict:D})}throw new S.FormatError("Unknown type of function")}static parseArray({xref:g,isEvalSupported:P,fnObj:G}){if(!Array.isArray(G))return this.parse({xref:g,isEvalSupported:P,fn:G});const D=[];for(const w of G)D.push(this.parse({xref:g,isEvalSupported:P,fn:g.fetchIfRef(w)}));return function(w,A,v,o){for(let y=0,c=D.length;y<c;y++)D[y](w,A,v,o+y)}}static constructSampled({xref:g,isEvalSupported:P,fn:G,dict:D}){function w(q){const ce=q.length,ee=[];let se=0;for(let $=0;$<ce;$+=2)ee[se++]=[q[$],q[$+1]];return ee}function A(q,ce,ee,se,$){return se+(q-ce)*(($-se)/(ee-ce))}let v=z(D.getArray("Domain")),o=z(D.getArray("Range"));if(!v||!o)throw new S.FormatError("No domain or range");const y=v.length/2,c=o.length/2;v=w(v),o=w(o);const h=z(D.getArray("Size")),O=D.get("BitsPerSample"),W=D.get("Order")||1;W!==1&&(0,S.info)("No support for cubic spline interpolation: "+W);let R=z(D.getArray("Encode"));if(R)R=w(R);else{R=[];for(let q=0;q<y;++q)R.push([0,h[q]-1])}let H=z(D.getArray("Decode"));H=H?w(H):o;const ae=this.getSampleArray(h,c,O,G);return function(ce,ee,se,$){const U=1<<y,K=new Float64Array(U),J=new Uint32Array(U);let Y,ie;for(ie=0;ie<U;ie++)K[ie]=1;let re=c,Z=1;for(Y=0;Y<y;++Y){const he=v[Y][0],le=v[Y][1],te=Math.min(Math.max(ce[ee+Y],he),le);let ue=A(te,he,le,R[Y][0],R[Y][1]);const ge=h[Y];ue=Math.min(Math.max(ue,0),ge-1);const ye=ue<ge-1?Math.floor(ue):ue-1,Ee=ye+1-ue,Oe=ue-ye,ve=ye*re,Se=ve+re;for(ie=0;ie<U;ie++)ie&Z?(K[ie]*=Oe,J[ie]+=Se):(K[ie]*=Ee,J[ie]+=ve);re*=ge,Z<<=1}for(ie=0;ie<c;++ie){let he=0;for(Y=0;Y<U;Y++)he+=ae[J[Y]+ie]*K[Y];he=A(he,0,1,H[ie][0],H[ie][1]),se[$+ie]=Math.min(Math.max(he,o[ie][0]),o[ie][1])}}}static constructInterpolated({xref:g,isEvalSupported:P,dict:G}){const D=z(G.getArray("C0"))||[0],w=z(G.getArray("C1"))||[1],A=G.get("N"),v=[];for(let y=0,c=D.length;y<c;++y)v.push(w[y]-D[y]);const o=v.length;return function(c,h,O,W){const R=A===1?c[h]:c[h]**A;for(let H=0;H<o;++H)O[W+H]=D[H]+R*v[H]}}static constructStiched({xref:g,isEvalSupported:P,dict:G}){const D=z(G.getArray("Domain"));if(!D)throw new S.FormatError("No domain");if(D.length/2!==1)throw new S.FormatError("Bad domain for stiched function");const A=[];for(const c of G.get("Functions"))A.push(this.parse({xref:g,isEvalSupported:P,fn:g.fetchIfRef(c)}));const v=z(G.getArray("Bounds")),o=z(G.getArray("Encode")),y=new Float32Array(1);return function(h,O,W,R){const ae=function(J,Y,ie){return J>ie?J=ie:J<Y&&(J=Y),J}(h[O],D[0],D[1]),q=v.length;let ce;for(ce=0;ce<q&&!(ae<v[ce]);++ce);let ee=D[0];ce>0&&(ee=v[ce-1]);let se=D[1];ce<v.length&&(se=v[ce]);const $=o[2*ce],U=o[2*ce+1];y[0]=ee===se?$:$+(ae-ee)*(U-$)/(se-ee),A[ce](y,0,W,R)}}static constructPostScript({xref:g,isEvalSupported:P,fn:G,dict:D}){const w=z(D.getArray("Domain")),A=z(D.getArray("Range"));if(!w)throw new S.FormatError("No domain.");if(!A)throw new S.FormatError("No range.");const v=new N.PostScriptLexer(G),y=new N.PostScriptParser(v).parse();if(P&&S.FeatureTest.isEvalSupported){const q=new x().compile(y,w,A);if(q)return new Function("src","srcOffset","dest","destOffset",q)}(0,S.info)("Unable to compile PS function");const c=A.length>>1,h=w.length>>1,O=new d(y),W=Object.create(null);let H=2048*4;const ae=new Float32Array(h);return function(ce,ee,se,$){let U,K,J="";const Y=ae;for(U=0;U<h;U++)K=ce[ee+U],Y[U]=K,J+=K+"_";const ie=W[J];if(ie!==void 0){se.set(ie,$);return}const re=new Float32Array(c),Z=O.execute(Y),he=Z.length-c;for(U=0;U<c;U++){K=Z[he+U];let le=A[U*2];K<le?K=le:(le=A[U*2+1],K>le&&(K=le)),re[U]=K}H>0&&(H--,W[J]=re),se.set(re,$)}}}function M(a){let g;if(a instanceof n.Dict)g=a;else if(a instanceof e.BaseStream)g=a.dict;else return!1;return g.has("FunctionType")}const X=class X{constructor(g){this.stack=g?Array.from(g):[]}push(g){if(this.stack.length>=X.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(g)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(g){if(this.stack.length+g>=X.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const P=this.stack;for(let G=P.length-g,D=g-1;D>=0;D--,G++)P.push(P[G])}index(g){this.push(this.stack[this.stack.length-g-1])}roll(g,P){const G=this.stack,D=G.length-g,w=G.length-1,A=D+(P-Math.floor(P/g)*g);for(let v=D,o=w;v<o;v++,o--){const y=G[v];G[v]=G[o],G[o]=y}for(let v=D,o=A-1;v<o;v++,o--){const y=G[v];G[v]=G[o],G[o]=y}for(let v=A,o=w;v<o;v++,o--){const y=G[v];G[v]=G[o],G[o]=y}}};Dt(X,"MAX_STACK_SIZE",100);let I=X;class d{constructor(g){this.operators=g}execute(g){const P=new I(g);let G=0;const D=this.operators,w=D.length;let A,v,o;for(;G<w;){if(A=D[G++],typeof A=="number"){P.push(A);continue}switch(A){case"jz":o=P.pop(),v=P.pop(),v||(G=o);break;case"j":v=P.pop(),G=v;break;case"abs":v=P.pop(),P.push(Math.abs(v));break;case"add":o=P.pop(),v=P.pop(),P.push(v+o);break;case"and":o=P.pop(),v=P.pop(),typeof v=="boolean"&&typeof o=="boolean"?P.push(v&&o):P.push(v&o);break;case"atan":o=P.pop(),v=P.pop(),v=Math.atan2(v,o)/Math.PI*180,v<0&&(v+=360),P.push(v);break;case"bitshift":o=P.pop(),v=P.pop(),v>0?P.push(v<<o):P.push(v>>o);break;case"ceiling":v=P.pop(),P.push(Math.ceil(v));break;case"copy":v=P.pop(),P.copy(v);break;case"cos":v=P.pop(),P.push(Math.cos(v%360/180*Math.PI));break;case"cvi":v=P.pop()|0,P.push(v);break;case"cvr":break;case"div":o=P.pop(),v=P.pop(),P.push(v/o);break;case"dup":P.copy(1);break;case"eq":o=P.pop(),v=P.pop(),P.push(v===o);break;case"exch":P.roll(2,1);break;case"exp":o=P.pop(),v=P.pop(),P.push(v**o);break;case"false":P.push(!1);break;case"floor":v=P.pop(),P.push(Math.floor(v));break;case"ge":o=P.pop(),v=P.pop(),P.push(v>=o);break;case"gt":o=P.pop(),v=P.pop(),P.push(v>o);break;case"idiv":o=P.pop(),v=P.pop(),P.push(v/o|0);break;case"index":v=P.pop(),P.index(v);break;case"le":o=P.pop(),v=P.pop(),P.push(v<=o);break;case"ln":v=P.pop(),P.push(Math.log(v));break;case"log":v=P.pop(),P.push(Math.log10(v));break;case"lt":o=P.pop(),v=P.pop(),P.push(v<o);break;case"mod":o=P.pop(),v=P.pop(),P.push(v%o);break;case"mul":o=P.pop(),v=P.pop(),P.push(v*o);break;case"ne":o=P.pop(),v=P.pop(),P.push(v!==o);break;case"neg":v=P.pop(),P.push(-v);break;case"not":v=P.pop(),typeof v=="boolean"?P.push(!v):P.push(~v);break;case"or":o=P.pop(),v=P.pop(),typeof v=="boolean"&&typeof o=="boolean"?P.push(v||o):P.push(v|o);break;case"pop":P.pop();break;case"roll":o=P.pop(),v=P.pop(),P.roll(v,o);break;case"round":v=P.pop(),P.push(Math.round(v));break;case"sin":v=P.pop(),P.push(Math.sin(v%360/180*Math.PI));break;case"sqrt":v=P.pop(),P.push(Math.sqrt(v));break;case"sub":o=P.pop(),v=P.pop(),P.push(v-o);break;case"true":P.push(!0);break;case"truncate":v=P.pop(),v=v<0?Math.ceil(v):Math.floor(v),P.push(v);break;case"xor":o=P.pop(),v=P.pop(),typeof v=="boolean"&&typeof o=="boolean"?P.push(v!==o):P.push(v^o);break;default:throw new S.FormatError(`Unknown operator ${A}`)}}return P.stack}}m.PostScriptEvaluator=d;class u{constructor(g){this.type=g}visit(g){(0,S.unreachable)("abstract method")}}class i extends u{constructor(g,P,G){super("args"),this.index=g,this.min=P,this.max=G}visit(g){g.visitArgument(this)}}class F extends u{constructor(g){super("literal"),this.number=g,this.min=g,this.max=g}visit(g){g.visitLiteral(this)}}class C extends u{constructor(g,P,G,D,w){super("binary"),this.op=g,this.arg1=P,this.arg2=G,this.min=D,this.max=w}visit(g){g.visitBinaryOperation(this)}}class T extends u{constructor(g,P){super("max"),this.arg=g,this.min=g.min,this.max=P}visit(g){g.visitMin(this)}}class b extends u{constructor(g,P,G){super("var"),this.index=g,this.min=P,this.max=G}visit(g){g.visitVariable(this)}}class L extends u{constructor(g,P){super("definition"),this.variable=g,this.arg=P}visit(g){g.visitVariableDefinition(this)}}class B{constructor(){this.parts=[]}visitArgument(g){this.parts.push("Math.max(",g.min,", Math.min(",g.max,", src[srcOffset + ",g.index,"]))")}visitVariable(g){this.parts.push("v",g.index)}visitLiteral(g){this.parts.push(g.number)}visitBinaryOperation(g){this.parts.push("("),g.arg1.visit(this),this.parts.push(" ",g.op," "),g.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(g){this.parts.push("var "),g.variable.visit(this),this.parts.push(" = "),g.arg.visit(this),this.parts.push(";")}visitMin(g){this.parts.push("Math.min("),g.arg.visit(this),this.parts.push(", ",g.max,")")}toString(){return this.parts.join("")}}function V(a,g){return g.type==="literal"&&g.number===0?a:a.type==="literal"&&a.number===0?g:g.type==="literal"&&a.type==="literal"?new F(a.number+g.number):new C("+",a,g,a.min+g.min,a.max+g.max)}function k(a,g){if(g.type==="literal"){if(g.number===0)return new F(0);if(g.number===1)return a;if(a.type==="literal")return new F(a.number*g.number)}if(a.type==="literal"){if(a.number===0)return new F(0);if(a.number===1)return g}const P=Math.min(a.min*g.min,a.min*g.max,a.max*g.min,a.max*g.max),G=Math.max(a.min*g.min,a.min*g.max,a.max*g.min,a.max*g.max);return new C("*",a,g,P,G)}function _(a,g){if(g.type==="literal"){if(g.number===0)return a;if(a.type==="literal")return new F(a.number-g.number)}return g.type==="binary"&&g.op==="-"&&a.type==="literal"&&a.number===1&&g.arg1.type==="literal"&&g.arg1.number===1?g.arg2:new C("-",a,g,a.min-g.max,a.max-g.min)}function l(a,g){return a.min>=g?new F(g):a.max<=g?a:new T(a,g)}class x{compile(g,P,G){const D=[],w=[],A=P.length>>1,v=G.length>>1;let o=0,y,c,h,O,W,R,H,ae;for(let ce=0;ce<A;ce++)D.push(new i(ce,P[ce*2],P[ce*2+1]));for(let ce=0,ee=g.length;ce<ee;ce++){if(ae=g[ce],typeof ae=="number"){D.push(new F(ae));continue}switch(ae){case"add":if(D.length<2)return null;O=D.pop(),h=D.pop(),D.push(V(h,O));break;case"cvr":if(D.length<1)return null;break;case"mul":if(D.length<2)return null;O=D.pop(),h=D.pop(),D.push(k(h,O));break;case"sub":if(D.length<2)return null;O=D.pop(),h=D.pop(),D.push(_(h,O));break;case"exch":if(D.length<2)return null;W=D.pop(),R=D.pop(),D.push(W,R);break;case"pop":if(D.length<1)return null;D.pop();break;case"index":if(D.length<1||(h=D.pop(),h.type!=="literal")||(y=h.number,y<0||!Number.isInteger(y)||D.length<y))return null;if(W=D[D.length-y-1],W.type==="literal"||W.type==="var"){D.push(W);break}H=new b(o++,W.min,W.max),D[D.length-y-1]=H,D.push(H),w.push(new L(H,W));break;case"dup":if(D.length<1)return null;if(typeof g[ce+1]=="number"&&g[ce+2]==="gt"&&g[ce+3]===ce+7&&g[ce+4]==="jz"&&g[ce+5]==="pop"&&g[ce+6]===g[ce+1]){h=D.pop(),D.push(l(h,g[ce+1])),ce+=6;break}if(W=D.at(-1),W.type==="literal"||W.type==="var"){D.push(W);break}H=new b(o++,W.min,W.max),D[D.length-1]=H,D.push(H),w.push(new L(H,W));break;case"roll":if(D.length<2||(O=D.pop(),h=D.pop(),O.type!=="literal"||h.type!=="literal")||(c=O.number,y=h.number,y<=0||!Number.isInteger(y)||!Number.isInteger(c)||D.length<y))return null;if(c=(c%y+y)%y,c===0)break;D.push(...D.splice(D.length-y,y-c));break;default:return null}}if(D.length!==v)return null;const q=[];for(const ce of w){const ee=new B;ce.visit(ee),q.push(ee.toString())}for(let ce=0,ee=D.length;ce<ee;ce++){const se=D[ce],$=new B;se.visit($);const U=G[ce*2],K=G[ce*2+1],J=[$.toString()];U>se.min&&(J.unshift("Math.max(",U,", "),J.push(")")),K<se.max&&(J.unshift("Math.min(",K,", "),J.push(")")),J.unshift("dest[destOffset + ",ce,"] = "),J.push(";"),q.push(J.join(""))}return q.join(`
`)}}m.PostScriptCompiler=x},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PostScriptParser=m.PostScriptLexer=void 0;var n=Q(2),S=Q(4),N=Q(3);class e{constructor(M){this.lexer=M,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(M){return this.token.type===M?(this.nextToken(),!0):!1}expect(M){if(this.accept(M))return!0;throw new n.FormatError(`Unexpected symbol: found ${this.token.type} expected ${M}.`)}parse(){return this.nextToken(),this.expect(t.LBRACE),this.parseBlock(),this.expect(t.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(t.NUMBER))this.operators.push(this.prev.value);else if(this.accept(t.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(t.LBRACE))this.parseCondition();else return}parseCondition(){const M=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(t.RBRACE),this.accept(t.IF))this.operators[M]=this.operators.length,this.operators[M+1]="jz";else if(this.accept(t.LBRACE)){const I=this.operators.length;this.operators.push(null,null);const d=this.operators.length;this.parseBlock(),this.expect(t.RBRACE),this.expect(t.IFELSE),this.operators[I]=this.operators.length,this.operators[I+1]="j",this.operators[M]=d,this.operators[M+1]="jz"}else throw new n.FormatError("PS Function: error parsing conditional.")}}m.PostScriptParser=e;const t={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class r{static get opCache(){return(0,n.shadow)(this,"opCache",Object.create(null))}constructor(M,I){this.type=M,this.value=I}static getOperator(M){var I;return(I=r.opCache)[M]||(I[M]=new r(t.OPERATOR,M))}static get LBRACE(){return(0,n.shadow)(this,"LBRACE",new r(t.LBRACE,"{"))}static get RBRACE(){return(0,n.shadow)(this,"RBRACE",new r(t.RBRACE,"}"))}static get IF(){return(0,n.shadow)(this,"IF",new r(t.IF,"IF"))}static get IFELSE(){return(0,n.shadow)(this,"IFELSE",new r(t.IFELSE,"IFELSE"))}}class z{constructor(M){this.stream=M,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let M=!1,I=this.currentChar;for(;;){if(I<0)return S.EOF;if(M)(I===10||I===13)&&(M=!1);else if(I===37)M=!0;else if(!(0,N.isWhiteSpace)(I))break;I=this.nextChar()}switch(I|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new r(t.NUMBER,this.getNumber());case 123:return this.nextChar(),r.LBRACE;case 125:return this.nextChar(),r.RBRACE}const d=this.strBuf;for(d.length=0,d[0]=String.fromCharCode(I);(I=this.nextChar())>=0&&(I>=65&&I<=90||I>=97&&I<=122);)d.push(String.fromCharCode(I));const u=d.join("");switch(u.toLowerCase()){case"if":return r.IF;case"ifelse":return r.IFELSE;default:return r.getOperator(u)}}getNumber(){let M=this.currentChar;const I=this.strBuf;for(I.length=0,I[0]=String.fromCharCode(M);(M=this.nextChar())>=0&&(M>=48&&M<=57||M===45||M===46);)I.push(String.fromCharCode(M));const d=parseFloat(I.join(""));if(isNaN(d))throw new n.FormatError(`Invalid floating point number: ${d}`);return d}}m.PostScriptLexer=z},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.RegionalImageCache=m.LocalTilingPatternCache=m.LocalImageCache=m.LocalGStateCache=m.LocalFunctionCache=m.LocalColorSpaceCache=m.GlobalImageCache=void 0;var n=Q(2),S=Q(4);class N{constructor(i){this.constructor===N&&(0,n.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=(i==null?void 0:i.onlyRefs)===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new S.RefSetCache}getByName(i){this._onlyRefs&&(0,n.unreachable)("Should not call `getByName` method.");const F=this._nameRefMap.get(i);return F?this.getByRef(F):this._imageMap.get(i)||null}getByRef(i){return this._imageCache.get(i)||null}set(i,F,C){(0,n.unreachable)("Abstract method `set` called.")}}class e extends N{set(i,F=null,C){if(typeof i!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(F){if(this._imageCache.has(F))return;this._nameRefMap.set(i,F),this._imageCache.put(F,C);return}this._imageMap.has(i)||this._imageMap.set(i,C)}}m.LocalImageCache=e;class t extends N{set(i=null,F=null,C){if(typeof i!="string"&&!F)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(F){if(this._imageCache.has(F))return;i!==null&&this._nameRefMap.set(i,F),this._imageCache.put(F,C);return}this._imageMap.has(i)||this._imageMap.set(i,C)}}m.LocalColorSpaceCache=t;class r extends N{constructor(i){super({onlyRefs:!0})}set(i=null,F,C){if(!F)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(F)||this._imageCache.put(F,C)}}m.LocalFunctionCache=r;class z extends N{set(i,F=null,C){if(typeof i!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(F){if(this._imageCache.has(F))return;this._nameRefMap.set(i,F),this._imageCache.put(F,C);return}this._imageMap.has(i)||this._imageMap.set(i,C)}}m.LocalGStateCache=z;class j extends N{constructor(i){super({onlyRefs:!0})}set(i=null,F,C){if(!F)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(F)||this._imageCache.put(F,C)}}m.LocalTilingPatternCache=j;class M extends N{constructor(i){super({onlyRefs:!0})}set(i=null,F,C){if(!F)throw new Error('RegionalImageCache.set - expected "ref" argument.');this._imageCache.has(F)||this._imageCache.put(F,C)}}m.RegionalImageCache=M;const d=class d{constructor(){this._refCache=new S.RefSetCache,this._imageCache=new S.RefSetCache}get _byteSize(){let i=0;for(const F of this._imageCache)i+=F.byteSize;return i}get _cacheLimitReached(){return!(this._imageCache.size<d.MIN_IMAGES_TO_CACHE||this._byteSize<d.MAX_BYTE_SIZE)}shouldCache(i,F){let C=this._refCache.get(i);return C||(C=new Set,this._refCache.put(i,C)),C.add(F),!(C.size<d.NUM_PAGES_THRESHOLD||!this._imageCache.has(i)&&this._cacheLimitReached)}addByteSize(i,F){const C=this._imageCache.get(i);C&&(C.byteSize||(C.byteSize=F))}getData(i,F){const C=this._refCache.get(i);if(!C||C.size<d.NUM_PAGES_THRESHOLD)return null;const T=this._imageCache.get(i);return T?(C.add(F),T):null}setData(i,F){if(!this._refCache.has(i))throw new Error('GlobalImageCache.setData - expected "shouldCache" to have been called.');if(!this._imageCache.has(i)){if(this._cacheLimitReached){(0,n.warn)("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(i,F)}}clear(i=!1){i||this._refCache.clear(),this._imageCache.clear()}};Dt(d,"NUM_PAGES_THRESHOLD",2),Dt(d,"MIN_IMAGES_TO_CACHE",10),Dt(d,"MAX_BYTE_SIZE",5*n.MAX_IMAGE_SIZE_TO_CACHE);let I=d;m.GlobalImageCache=I},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.bidi=u;var n=Q(2);const S=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],N=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function e(i){return(i&1)!==0}function t(i){return(i&1)===0}function r(i,F,C){let T,b;for(T=F,b=i.length;T<b;++T)if(i[T]!==C)return T;return T}function z(i,F,C,T){for(let b=F;b<C;++b)i[b]=T}function j(i,F,C){for(let T=F,b=C-1;T<b;++T,--b){const L=i[T];i[T]=i[b],i[b]=L}}function M(i,F,C=!1){let T="ltr";return C?T="ttb":F||(T="rtl"),{str:i,dir:T}}const I=[],d=[];function u(i,F=-1,C=!1){let T=!0;const b=i.length;if(b===0||C)return M(i,T,C);I.length=b,d.length=b;let L=0,B,V;for(B=0;B<b;++B){I[B]=i.charAt(B);const D=i.charCodeAt(B);let w="L";D<=255?w=S[D]:1424<=D&&D<=1524?w="R":1536<=D&&D<=1791?(w=N[D&255],w||(0,n.warn)("Bidi: invalid Unicode character "+D.toString(16))):(1792<=D&&D<=2220||64336<=D&&D<=65023||65136<=D&&D<=65279)&&(w="AL"),(w==="R"||w==="AL"||w==="AN")&&L++,d[B]=w}if(L===0)return T=!0,M(i,T);F===-1&&(L/b<.3&&b>4?(T=!0,F=0):(T=!1,F=1));const k=[];for(B=0;B<b;++B)k[B]=F;const _=e(F)?"R":"L",l=_,x=l;let X=l;for(B=0;B<b;++B)d[B]==="NSM"?d[B]=X:X=d[B];X=l;let a;for(B=0;B<b;++B)a=d[B],a==="EN"?d[B]=X==="AL"?"AN":"EN":(a==="R"||a==="L"||a==="AL")&&(X=a);for(B=0;B<b;++B)a=d[B],a==="AL"&&(d[B]="R");for(B=1;B<b-1;++B)d[B]==="ES"&&d[B-1]==="EN"&&d[B+1]==="EN"&&(d[B]="EN"),d[B]==="CS"&&(d[B-1]==="EN"||d[B-1]==="AN")&&d[B+1]===d[B-1]&&(d[B]=d[B-1]);for(B=0;B<b;++B)if(d[B]==="EN"){for(let D=B-1;D>=0&&d[D]==="ET";--D)d[D]="EN";for(let D=B+1;D<b&&d[D]==="ET";++D)d[D]="EN"}for(B=0;B<b;++B)a=d[B],(a==="WS"||a==="ES"||a==="ET"||a==="CS")&&(d[B]="ON");for(X=l,B=0;B<b;++B)a=d[B],a==="EN"?d[B]=X==="L"?"L":"EN":(a==="R"||a==="L")&&(X=a);for(B=0;B<b;++B)if(d[B]==="ON"){const D=r(d,B+1,"ON");let w=l;B>0&&(w=d[B-1]);let A=x;D+1<b&&(A=d[D+1]),w!=="L"&&(w="R"),A!=="L"&&(A="R"),w===A&&z(d,B,D,w),B=D-1}for(B=0;B<b;++B)d[B]==="ON"&&(d[B]=_);for(B=0;B<b;++B)a=d[B],t(k[B])?a==="R"?k[B]+=1:(a==="AN"||a==="EN")&&(k[B]+=2):(a==="L"||a==="AN"||a==="EN")&&(k[B]+=1);let g=-1,P=99,G;for(B=0,V=k.length;B<V;++B)G=k[B],g<G&&(g=G),P>G&&e(G)&&(P=G);for(G=g;G>=P;--G){let D=-1;for(B=0,V=k.length;B<V;++B)k[B]<G?D>=0&&(j(I,D,B),D=-1):D<0&&(D=B);D>=0&&j(I,D,k.length)}for(B=0,V=I.length;B<V;++B){const D=I[B];(D==="<"||D===">")&&(I[B]="")}return M(I.join(""),T)}},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.getFontSubstitution=d;var n=Q(38),S=Q(3);const N={style:"normal",weight:"normal"},e={style:"normal",weight:"bold"},t={style:"italic",weight:"normal"},r={style:"italic",weight:"bold"},z=new Map([["Times-Roman",{local:["Times New Roman","Times-Roman","Times","Liberation Serif","Nimbus Roman","Nimbus Roman L","Tinos","Thorndale","TeX Gyre Termes","FreeSerif","DejaVu Serif","Bitstream Vera Serif","Ubuntu"],style:N,ultimate:"serif"}],["Times-Bold",{alias:"Times-Roman",style:e,ultimate:"serif"}],["Times-Italic",{alias:"Times-Roman",style:t,ultimate:"serif"}],["Times-BoldItalic",{alias:"Times-Roman",style:r,ultimate:"serif"}],["Helvetica",{local:["Helvetica","Helvetica Neue","Arial","Arial Nova","Liberation Sans","Arimo","Nimbus Sans","Nimbus Sans L","A030","TeX Gyre Heros","FreeSans","DejaVu Sans","Albany","Bitstream Vera Sans","Arial Unicode MS","Microsoft Sans Serif","Apple Symbols","Cantarell"],path:"LiberationSans-Regular.ttf",style:N,ultimate:"sans-serif"}],["Helvetica-Bold",{alias:"Helvetica",path:"LiberationSans-Bold.ttf",style:e,ultimate:"sans-serif"}],["Helvetica-Oblique",{alias:"Helvetica",path:"LiberationSans-Italic.ttf",style:t,ultimate:"sans-serif"}],["Helvetica-BoldOblique",{alias:"Helvetica",path:"LiberationSans-BoldItalic.ttf",style:r,ultimate:"sans-serif"}],["Courier",{local:["Courier","Courier New","Liberation Mono","Nimbus Mono","Nimbus Mono L","Cousine","Cumberland","TeX Gyre Cursor","FreeMono"],style:N,ultimate:"monospace"}],["Courier-Bold",{alias:"Courier",style:e,ultimate:"monospace"}],["Courier-Oblique",{alias:"Courier",style:t,ultimate:"monospace"}],["Courier-BoldOblique",{alias:"Courier",style:r,ultimate:"monospace"}],["ArialBlack",{local:["Arial Black"],style:{style:"normal",weight:"900"},fallback:"Helvetica-Bold"}],["ArialBlack-Bold",{alias:"ArialBlack"}],["ArialBlack-Italic",{alias:"ArialBlack",style:{style:"italic",weight:"900"},fallback:"Helvetica-BoldOblique"}],["ArialBlack-BoldItalic",{alias:"ArialBlack-Italic"}],["ArialNarrow",{local:["Arial Narrow","Liberation Sans Narrow","Helvetica Condensed","Nimbus Sans Narrow","TeX Gyre Heros Cn"],style:N,fallback:"Helvetica"}],["ArialNarrow-Bold",{alias:"ArialNarrow",style:e,fallback:"Helvetica-Bold"}],["ArialNarrow-Italic",{alias:"ArialNarrow",style:t,fallback:"Helvetica-Oblique"}],["ArialNarrow-BoldItalic",{alias:"ArialNarrow",style:r,fallback:"Helvetica-BoldOblique"}],["Calibri",{local:["Calibri","Carlito"],style:N,fallback:"Helvetica"}],["Calibri-Bold",{alias:"Calibri",style:e,fallback:"Helvetica-Bold"}],["Calibri-Italic",{alias:"Calibri",style:t,fallback:"Helvetica-Oblique"}],["Calibri-BoldItalic",{alias:"Calibri",style:r,fallback:"Helvetica-BoldOblique"}],["Wingdings",{local:["Wingdings","URW Dingbats"],style:N}],["Wingdings-Regular",{alias:"Wingdings"}],["Wingdings-Bold",{alias:"Wingdings"}]]),j=new Map([["Arial-Black","ArialBlack"]]);function M(u){switch(u){case e:return"Bold";case t:return"Italic";case r:return"Bold Italic";default:if((u==null?void 0:u.weight)==="bold")return"Bold";if((u==null?void 0:u.style)==="italic")return"Italic"}return""}function I({alias:u,local:i,path:F,fallback:C,style:T,ultimate:b},L,B,V=!0,k=!0,_=""){const l={style:null,ultimate:null};if(i){const x=_?` ${_}`:"";for(const X of i)L.push(`local(${X}${x})`)}if(u){const x=z.get(u),X=_||M(T);Object.assign(l,I(x,L,B,V&&!C,k&&!F,X))}if(T&&(l.style=T),b&&(l.ultimate=b),V&&C){const x=z.get(C),{ultimate:X}=I(x,L,B,V,k&&!F,_);l.ultimate||(l.ultimate=X)}return k&&F&&B&&L.push(`url(${B}${F})`),l}function d(u,i,F,C,T){C=(0,n.normalizeFontName)(C);const b=C;let L=u.get(b);if(L)return L;let B=z.get(C);if(!B){for(const[g,P]of j)if(C.startsWith(g)){C=`${P}${C.substring(g.length)}`,B=z.get(C);break}}let V=!1;B||(B=z.get(T),V=!0);const k=`${i.getDocId()}_s${i.createFontId()}`;if(!B){if(!(0,S.validateFontName)(C))return u.set(b,null),null;const g=/bold/gi.test(C),P=/oblique|italic/gi.test(C),G=g&&P&&r||g&&e||P&&t||N;return L={css:k,guessFallback:!0,loadedName:k,baseFontName:C,src:`local(${C})`,style:G},u.set(b,L),L}const _=[];V&&(0,S.validateFontName)(C)&&_.push(`local(${C})`);const{style:l,ultimate:x}=I(B,_,F),X=x===null,a=X?"":`,${x}`;return L={css:`${k}${a}`,guessFallback:X,loadedName:k,baseFontName:C,src:_.join(","),style:l},u.set(b,L),L}},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.ImageResizer=void 0;var n=Q(2);const S=2048,N=65537,e=128;class t{constructor(z,j){this._imgData=z,this._isMask=j}static needsToBeResized(z,j){if(z<=this._goodSquareLength&&j<=this._goodSquareLength)return!1;const{MAX_DIM:M}=this;if(z>M||j>M)return!0;const I=z*j;if(this._hasMaxArea)return I>this.MAX_AREA;if(I<this._goodSquareLength**2)return!1;if(this._areGoodDims(z,j))return this._goodSquareLength=Math.max(this._goodSquareLength,Math.floor(Math.sqrt(z*j))),!1;this._goodSquareLength=this._guessMax(this._goodSquareLength,M,e,0);const d=this.MAX_AREA=this._goodSquareLength**2;return I>d}static get MAX_DIM(){return(0,n.shadow)(this,"MAX_DIM",this._guessMax(S,N,0,1))}static get MAX_AREA(){return this._hasMaxArea=!0,(0,n.shadow)(this,"MAX_AREA",this._guessMax(t._goodSquareLength,this.MAX_DIM,e,0)**2)}static set MAX_AREA(z){z>=0&&(this._hasMaxArea=!0,(0,n.shadow)(this,"MAX_AREA",z))}static setMaxArea(z){this._hasMaxArea||(this.MAX_AREA=z>>2)}static _areGoodDims(z,j){try{const M=new OffscreenCanvas(z,j),I=M.getContext("2d");I.fillRect(0,0,1,1);const d=I.getImageData(0,0,1,1).data[3];return M.width=M.height=1,d!==0}catch{return!1}}static _guessMax(z,j,M,I){for(;z+M+1<j;){const d=Math.floor((z+j)/2),u=I||d;this._areGoodDims(d,u)?z=d:j=d}return z}static async createImage(z,j=!1){return new t(z,j)._createImage()}async _createImage(){const z=this._encodeBMP(),j=new Blob([z.buffer],{type:"image/bmp"}),M=createImageBitmap(j),{MAX_AREA:I,MAX_DIM:d}=t,{_imgData:u}=this,{width:i,height:F}=u,C=Math.max(i/d,F/d,Math.sqrt(i*F/I)),T=Math.max(C,2),b=Math.round(10*(C+1.25))/10/T,L=Math.floor(Math.log2(b)),B=new Array(L+2).fill(2);B[0]=T,B.splice(-1,1,b/(1<<L));let V=i,k=F,_=await M;for(const l of B){const x=V,X=k;V=Math.floor(V/l)-1,k=Math.floor(k/l)-1;const a=new OffscreenCanvas(V,k);a.getContext("2d").drawImage(_,0,0,x,X,0,0,V,k),_=a.transferToImageBitmap()}return u.data=null,u.bitmap=_,u.width=V,u.height=k,u}_encodeBMP(){const{width:z,height:j,kind:M}=this._imgData;let I=this._imgData.data,d,u=new Uint8Array(0),i=u,F=0;switch(M){case n.ImageKind.GRAYSCALE_1BPP:{d=1,u=new Uint8Array(this._isMask?[255,255,255,255,0,0,0,0]:[0,0,0,0,255,255,255,255]);const k=z+7>>3,_=k+3&-4;if(k!==_){const l=new Uint8Array(_*j);let x=0;for(let X=0,a=j*k;X<a;X+=k,x+=_)l.set(I.subarray(X,X+k),x);I=l}break}case n.ImageKind.RGB_24BPP:{if(d=24,z&3){const k=3*z,_=k+3&-4,l=_-k,x=new Uint8Array(_*j);let X=0;for(let a=0,g=j*k;a<g;a+=k){const P=I.subarray(a,a+k);for(let G=0;G<k;G+=3)x[X++]=P[G+2],x[X++]=P[G+1],x[X++]=P[G];X+=l}I=x}else for(let k=0,_=I.length;k<_;k+=3){const l=I[k];I[k]=I[k+2],I[k+2]=l}break}case n.ImageKind.RGBA_32BPP:d=32,F=3,i=new Uint8Array(68);const V=new DataView(i.buffer);n.FeatureTest.isLittleEndian?(V.setUint32(0,255,!0),V.setUint32(4,65280,!0),V.setUint32(8,16711680,!0),V.setUint32(12,4278190080,!0)):(V.setUint32(0,4278190080,!0),V.setUint32(4,16711680,!0),V.setUint32(8,65280,!0),V.setUint32(12,255,!0));break;default:throw new Error("invalid format")}let C=0;const T=40+i.length,b=14+T+u.length+I.length,L=new Uint8Array(b),B=new DataView(L.buffer);return B.setUint16(C,19778,!0),C+=2,B.setUint32(C,b,!0),C+=4,B.setUint32(C,0,!0),C+=4,B.setUint32(C,14+T+u.length,!0),C+=4,B.setUint32(C,T,!0),C+=4,B.setInt32(C,z,!0),C+=4,B.setInt32(C,-j,!0),C+=4,B.setUint16(C,1,!0),C+=2,B.setUint16(C,d,!0),C+=2,B.setUint32(C,F,!0),C+=4,B.setUint32(C,0,!0),C+=4,B.setInt32(C,0,!0),C+=4,B.setInt32(C,0,!0),C+=4,B.setUint32(C,u.length/4,!0),C+=4,B.setUint32(C,0,!0),C+=4,L.set(i,C),C+=i.length,L.set(u,C),C+=u.length,L.set(I,C),L}}m.ImageResizer=t,t._goodSquareLength=S},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.MurmurHash3_64=void 0;var n=Q(2);const S=3285377520,N=4294901760,e=65535;class t{constructor(z){this.h1=z?z&4294967295:S,this.h2=z?z&4294967295:S}update(z){let j,M;if(typeof z=="string"){j=new Uint8Array(z.length*2),M=0;for(let k=0,_=z.length;k<_;k++){const l=z.charCodeAt(k);l<=255?j[M++]=l:(j[M++]=l>>>8,j[M++]=l&255)}}else if((0,n.isArrayBuffer)(z))j=z.slice(),M=j.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const I=M>>2,d=M-I*4,u=new Uint32Array(j.buffer,0,I);let i=0,F=0,C=this.h1,T=this.h2;const b=3432918353,L=461845907,B=b&e,V=L&e;for(let k=0;k<I;k++)k&1?(i=u[k],i=i*b&N|i*B&e,i=i<<15|i>>>17,i=i*L&N|i*V&e,C^=i,C=C<<13|C>>>19,C=C*5+3864292196):(F=u[k],F=F*b&N|F*B&e,F=F<<15|F>>>17,F=F*L&N|F*V&e,T^=F,T=T<<13|T>>>19,T=T*5+3864292196);switch(i=0,d){case 3:i^=j[I*4+2]<<16;case 2:i^=j[I*4+1]<<8;case 1:i^=j[I*4],i=i*b&N|i*B&e,i=i<<15|i>>>17,i=i*L&N|i*V&e,I&1?C^=i:T^=i}this.h1=C,this.h2=T}hexdigest(){let z=this.h1,j=this.h2;return z^=j>>>1,z=z*3981806797&N|z*36045&e,j=j*4283543511&N|((j<<16|z>>>16)*2950163797&N)>>>16,z^=j>>>1,z=z*444984403&N|z*60499&e,j=j*3301882366&N|((j<<16|z>>>16)*3120437893&N)>>>16,z^=j>>>1,(z>>>0).toString(16).padStart(8,"0")+(j>>>0).toString(16).padStart(8,"0")}}m.MurmurHash3_64=t},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.OperatorList=void 0;var n=Q(2);function S(j,M,I,d,u){let i=j;for(let F=0,C=M.length-1;F<C;F++){const T=M[F];i=i[T]||(i[T]=[])}i[M.at(-1)]={checkFn:I,iterateFn:d,processFn:u}}const N=[];S(N,[n.OPS.save,n.OPS.transform,n.OPS.paintInlineImageXObject,n.OPS.restore],null,function(M,I){const d=M.fnArray,u=M.iCurr-3,i=(I-u)%4;switch(i){case 0:return d[I]===n.OPS.save;case 1:return d[I]===n.OPS.transform;case 2:return d[I]===n.OPS.paintInlineImageXObject;case 3:return d[I]===n.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${i}`)},function(M,I){const C=M.fnArray,T=M.argsArray,b=M.iCurr,L=b-3,B=b-2,V=b-1,k=Math.min(Math.floor((I-L)/4),200);if(k<10)return I-(I-L)%4;let _=0;const l=[];let x=0,X=1,a=1;for(let A=0;A<k;A++){const v=T[B+(A<<2)],o=T[V+(A<<2)][0];X+o.width>1e3&&(_=Math.max(_,X),a+=x+2,X=0,x=0),l.push({transform:v,x:X,y:a,w:o.width,h:o.height}),X+=o.width+2,x=Math.max(x,o.height)}const g=Math.max(_,X)+1,P=a+x+1,G=new Uint8Array(g*P*4),D=g<<2;for(let A=0;A<k;A++){const v=T[V+(A<<2)][0].data,o=l[A].w<<2;let y=0,c=l[A].x+l[A].y*g<<2;G.set(v.subarray(0,o),c-D);for(let h=0,O=l[A].h;h<O;h++)G.set(v.subarray(y,y+o),c),y+=o,c+=D;for(G.set(v.subarray(y-o,y),c);c>=0;)v[c-4]=v[c],v[c-3]=v[c+1],v[c-2]=v[c+2],v[c-1]=v[c+3],v[c+o]=v[c+o-4],v[c+o+1]=v[c+o-3],v[c+o+2]=v[c+o-2],v[c+o+3]=v[c+o-1],c-=D}const w={width:g,height:P};if(M.isOffscreenCanvasSupported){const A=new OffscreenCanvas(g,P);A.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(G.buffer),g,P),0,0),w.bitmap=A.transferToImageBitmap(),w.data=null}else w.kind=n.ImageKind.RGBA_32BPP,w.data=G;return C.splice(L,k*4,n.OPS.paintInlineImageXObjectGroup),T.splice(L,k*4,[w,l]),L+1}),S(N,[n.OPS.save,n.OPS.transform,n.OPS.paintImageMaskXObject,n.OPS.restore],null,function(M,I){const d=M.fnArray,u=M.iCurr-3,i=(I-u)%4;switch(i){case 0:return d[I]===n.OPS.save;case 1:return d[I]===n.OPS.transform;case 2:return d[I]===n.OPS.paintImageMaskXObject;case 3:return d[I]===n.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${i}`)},function(M,I){const F=M.fnArray,C=M.argsArray,T=M.iCurr,b=T-3,L=T-2,B=T-1;let V=Math.floor((I-b)/4);if(V<10)return I-(I-b)%4;let k=!1,_,l;const x=C[B][0],X=C[L][0],a=C[L][1],g=C[L][2],P=C[L][3];if(a===g){k=!0,_=L+4;let G=B+4;for(let D=1;D<V;D++,_+=4,G+=4)if(l=C[_],C[G][0]!==x||l[0]!==X||l[1]!==a||l[2]!==g||l[3]!==P){D<10?k=!1:V=D;break}}if(k){V=Math.min(V,1e3);const G=new Float32Array(V*2);_=L;for(let D=0;D<V;D++,_+=4)l=C[_],G[D<<1]=l[4],G[(D<<1)+1]=l[5];F.splice(b,V*4,n.OPS.paintImageMaskXObjectRepeat),C.splice(b,V*4,[x,X,a,g,P,G])}else{V=Math.min(V,100);const G=[];for(let D=0;D<V;D++){l=C[L+(D<<2)];const w=C[B+(D<<2)][0];G.push({data:w.data,width:w.width,height:w.height,interpolate:w.interpolate,count:w.count,transform:l})}F.splice(b,V*4,n.OPS.paintImageMaskXObjectGroup),C.splice(b,V*4,[G])}return b+1}),S(N,[n.OPS.save,n.OPS.transform,n.OPS.paintImageXObject,n.OPS.restore],function(j){const M=j.argsArray,I=j.iCurr-2;return M[I][1]===0&&M[I][2]===0},function(M,I){const d=M.fnArray,u=M.argsArray,i=M.iCurr-3,F=(I-i)%4;switch(F){case 0:return d[I]===n.OPS.save;case 1:if(d[I]!==n.OPS.transform)return!1;const C=M.iCurr-2,T=u[C][0],b=u[C][3];return!(u[I][0]!==T||u[I][1]!==0||u[I][2]!==0||u[I][3]!==b);case 2:if(d[I]!==n.OPS.paintImageXObject)return!1;const L=M.iCurr-1,B=u[L][0];return u[I][0]===B;case 3:return d[I]===n.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${F}`)},function(j,M){const u=j.fnArray,i=j.argsArray,F=j.iCurr,C=F-3,T=F-2,b=F-1,L=i[b][0],B=i[T][0],V=i[T][3],k=Math.min(Math.floor((M-C)/4),1e3);if(k<3)return M-(M-C)%4;const _=new Float32Array(k*2);let l=T;for(let X=0;X<k;X++,l+=4){const a=i[l];_[X<<1]=a[4],_[(X<<1)+1]=a[5]}const x=[L,B,V,_];return u.splice(C,k*4,n.OPS.paintImageXObjectRepeat),i.splice(C,k*4,x),C+1}),S(N,[n.OPS.beginText,n.OPS.setFont,n.OPS.setTextMatrix,n.OPS.showText,n.OPS.endText],null,function(M,I){const d=M.fnArray,u=M.argsArray,i=M.iCurr-4,F=(I-i)%5;switch(F){case 0:return d[I]===n.OPS.beginText;case 1:return d[I]===n.OPS.setFont;case 2:return d[I]===n.OPS.setTextMatrix;case 3:if(d[I]!==n.OPS.showText)return!1;const C=M.iCurr-3,T=u[C][0],b=u[C][1];return!(u[I][0]!==T||u[I][1]!==b);case 4:return d[I]===n.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${F}`)},function(j,M){const u=j.fnArray,i=j.argsArray,F=j.iCurr,C=F-4,T=F-3,b=F-2,L=F-1,B=F,V=i[T][0],k=i[T][1];let _=Math.min(Math.floor((M-C)/5),1e3);if(_<3)return M-(M-C)%5;let l=C;C>=4&&u[C-4]===u[T]&&u[C-3]===u[b]&&u[C-2]===u[L]&&u[C-1]===u[B]&&i[C-4][0]===V&&i[C-4][1]===k&&(_++,l-=5);let x=l+4;for(let X=1;X<_;X++)u.splice(x,3),i.splice(x,3),x+=2;return x+1});class e{constructor(M){this.queue=M}_optimize(){}push(M,I){this.queue.fnArray.push(M),this.queue.argsArray.push(I),this._optimize()}flush(){}reset(){}}class t extends e{constructor(M){super(M),this.state=null,this.context={iCurr:0,fnArray:M.fnArray,argsArray:M.argsArray,isOffscreenCanvasSupported:!1},this.match=null,this.lastProcessed=0}set isOffscreenCanvasSupported(M){this.context.isOffscreenCanvasSupported=M}_optimize(){const M=this.queue.fnArray;let I=this.lastProcessed,d=M.length,u=this.state,i=this.match;if(!u&&!i&&I+1===d&&!N[M[I]]){this.lastProcessed=d;return}const F=this.context;for(;I<d;){if(i){if((0,i.iterateFn)(F,I)){I++;continue}if(I=(0,i.processFn)(F,I+1),d=M.length,i=null,u=null,I>=d)break}if(u=(u||N)[M[I]],!u||Array.isArray(u)){I++;continue}if(F.iCurr=I,I++,u.checkFn&&!(0,u.checkFn)(F)){u=null;continue}i=u,u=null}this.state=u,this.match=i,this.lastProcessed=I}flush(){for(;this.match;){const M=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,M),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}const z=class z{constructor(M=0,I){this._streamSink=I,this.fnArray=[],this.argsArray=[],this.optimizer=I&&!(M&n.RenderingIntentFlag.OPLIST)?new t(this):new e(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=I?null:Promise.resolve()}set isOffscreenCanvasSupported(M){this.optimizer.isOffscreenCanvasSupported=M}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(M,I){this.optimizer.push(M,I),this.weight++,this._streamSink&&(this.weight>=z.CHUNK_SIZE?this.flush():this.weight>=z.CHUNK_SIZE_ABOUT&&(M===n.OPS.restore||M===n.OPS.endText)&&this.flush())}addImageOps(M,I,d){d!==void 0&&this.addOp(n.OPS.beginMarkedContentProps,["OC",d]),this.addOp(M,I),d!==void 0&&this.addOp(n.OPS.endMarkedContent,[])}addDependency(M){this.dependencies.has(M)||(this.dependencies.add(M),this.addOp(n.OPS.dependency,[M]))}addDependencies(M){for(const I of M)this.addDependency(I)}addOpList(M){if(!(M instanceof z)){(0,n.warn)('addOpList - ignoring invalid "opList" parameter.');return}for(const I of M.dependencies)this.dependencies.add(I);for(let I=0,d=M.length;I<d;I++)this.addOp(M.fnArray[I],M.argsArray[I])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){var i;const M=[],{fnArray:I,argsArray:d,length:u}=this;for(let F=0;F<u;F++)switch(I[F]){case n.OPS.paintInlineImageXObject:case n.OPS.paintInlineImageXObjectGroup:case n.OPS.paintImageMaskXObject:const C=d[F][0];!C.cached&&((i=C.data)==null?void 0:i.buffer)instanceof ArrayBuffer&&M.push(C.data.buffer);break}return M}flush(M=!1,I=null){this.optimizer.flush();const d=this.length;this._totalLength+=d,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:M,separateAnnots:I,length:d},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}};Dt(z,"CHUNK_SIZE",1e3),Dt(z,"CHUNK_SIZE_ABOUT",z.CHUNK_SIZE-5);let r=z;m.OperatorList=r},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFImage=void 0;var n=Q(2),S=Q(28),N=Q(5),e=Q(12),t=Q(18),r=Q(62),z=Q(26),j=Q(30),M=Q(4);function I(i,F,C,T){return i=F+i*C,i<0?i=0:i>T&&(i=T),i}function d(i,F,C,T,b,L){const B=b*L;let V;F<=8?V=new Uint8Array(B):F<=16?V=new Uint16Array(B):V=new Uint32Array(B);const k=C/b,_=T/L;let l,x,X,a=0,g;const P=new Uint16Array(b),G=C;for(l=0;l<b;l++)P[l]=Math.floor(l*k);for(l=0;l<L;l++)for(X=Math.floor(l*_)*G,x=0;x<b;x++)g=X+P[x],V[a++]=i[g];return V}class u{constructor({xref:F,res:C,image:T,isInline:b=!1,smask:L=null,mask:B=null,isMask:V=!1,pdfFunctionFactory:k,localColorSpaceCache:_}){var G;this.image=T;const l=T.dict,x=l.get("F","Filter");let X;if(x instanceof M.Name)X=x.name;else if(Array.isArray(x)){const D=F.fetchIfRef(x[0]);D instanceof M.Name&&(X=D.name)}switch(X){case"JPXDecode":const D=new j.JpxImage;D.parseImageProperties(T.stream),T.stream.reset(),T.width=D.width,T.height=D.height,T.bitsPerComponent=D.bitsPerComponent,T.numComps=D.componentsCount;break;case"JBIG2Decode":T.bitsPerComponent=1,T.numComps=1;break}let a=l.get("W","Width"),g=l.get("H","Height");if(Number.isInteger(T.width)&&T.width>0&&Number.isInteger(T.height)&&T.height>0&&(T.width!==a||T.height!==g)&&((0,n.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),a=T.width,g=T.height),a<1||g<1)throw new n.FormatError(`Invalid image width: ${a} or height: ${g}`);this.width=a,this.height=g,this.interpolate=l.get("I","Interpolate"),this.imageMask=l.get("IM","ImageMask")||!1,this.matte=l.get("Matte")||!1;let P=T.bitsPerComponent;if(!P&&(P=l.get("BPC","BitsPerComponent"),!P))if(this.imageMask)P=1;else throw new n.FormatError(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=P,!this.imageMask){let D=l.getRaw("CS")||l.getRaw("ColorSpace");if(!D)switch((0,n.info)("JPX images (which do not require color spaces)"),T.numComps){case 1:D=M.Name.get("DeviceGray");break;case 3:D=M.Name.get("DeviceRGB");break;case 4:D=M.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${T.numComps} color components not supported.`)}this.colorSpace=e.ColorSpace.parse({cs:D,xref:F,resources:b?C:null,pdfFunctionFactory:k,localColorSpaceCache:_}),this.numComps=this.colorSpace.numComps}if(this.decode=l.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,P)||V&&!e.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const D=(1<<P)-1;this.decodeCoefficients=[],this.decodeAddends=[];const w=((G=this.colorSpace)==null?void 0:G.name)==="Indexed";for(let A=0,v=0;A<this.decode.length;A+=2,++v){const o=this.decode[A],y=this.decode[A+1];this.decodeCoefficients[v]=w?(y-o)/D:y-o,this.decodeAddends[v]=w?o:D*o}}L?this.smask=new u({xref:F,res:C,image:L,isInline:b,pdfFunctionFactory:k,localColorSpaceCache:_}):B&&(B instanceof N.BaseStream?B.dict.get("IM","ImageMask")?this.mask=new u({xref:F,res:C,image:B,isInline:b,isMask:!0,pdfFunctionFactory:k,localColorSpaceCache:_}):(0,n.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=B)}static async buildImage({xref:F,res:C,image:T,isInline:b=!1,pdfFunctionFactory:L,localColorSpaceCache:B}){const V=T;let k=null,_=null;const l=T.dict.get("SMask"),x=T.dict.get("Mask");return l?l instanceof N.BaseStream?k=l:(0,n.warn)("Unsupported /SMask format."):x&&(x instanceof N.BaseStream||Array.isArray(x)?_=x:(0,n.warn)("Unsupported /Mask format.")),new u({xref:F,res:C,image:V,isInline:b,smask:k,mask:_,pdfFunctionFactory:L,localColorSpaceCache:B})}static createRawMask({imgArray:F,width:C,height:T,imageIsFromDecodeStream:b,inverseDecode:L,interpolate:B}){const V=(C+7>>3)*T,k=F.byteLength,_=V===k;let l,x;if(b&&(!L||_)?l=F:L?(l=new Uint8Array(V),l.set(F),l.fill(255,k)):l=new Uint8Array(F),L)for(x=0;x<k;x++)l[x]^=255;return{data:l,width:C,height:T,interpolate:B}}static async createMask({imgArray:F,width:C,height:T,imageIsFromDecodeStream:b,inverseDecode:L,interpolate:B,isOffscreenCanvasSupported:V=!1}){const k=C===1&&T===1&&L===(F.length===0||!!(F[0]&128));if(k)return{isSingleOpaquePixel:k};if(V){if(r.ImageResizer.needsToBeResized(C,T)){const a=new Uint8ClampedArray(C*T*4);return(0,S.convertBlackAndWhiteToRGBA)({src:F,dest:a,width:C,height:T,nonBlackColor:0,inverseDecode:L}),r.ImageResizer.createImage({kind:n.ImageKind.RGBA_32BPP,data:a,width:C,height:T,interpolate:B})}const _=new OffscreenCanvas(C,T),l=_.getContext("2d"),x=l.createImageData(C,T);(0,S.convertBlackAndWhiteToRGBA)({src:F,dest:x.data,width:C,height:T,nonBlackColor:0,inverseDecode:L}),l.putImageData(x,0,0);const X=_.transferToImageBitmap();return{data:null,width:C,height:T,interpolate:B,bitmap:X}}return this.createRawMask({imgArray:F,width:C,height:T,inverseDecode:L,imageIsFromDecodeStream:b,interpolate:B})}get drawWidth(){var F,C;return Math.max(this.width,((F=this.smask)==null?void 0:F.width)||0,((C=this.mask)==null?void 0:C.width)||0)}get drawHeight(){var F,C;return Math.max(this.height,((F=this.smask)==null?void 0:F.height)||0,((C=this.mask)==null?void 0:C.height)||0)}decodeBuffer(F){const C=this.bpc,T=this.numComps,b=this.decodeAddends,L=this.decodeCoefficients,B=(1<<C)-1;let V,k;if(C===1){for(V=0,k=F.length;V<k;V++)F[V]=+!F[V];return}let _=0;for(V=0,k=this.width*this.height;V<k;V++)for(let l=0;l<T;l++)F[_]=I(F[_],b[l],L[l],B),_++}getComponents(F){const C=this.bpc;if(C===8)return F;const T=this.width,b=this.height,L=this.numComps,B=T*b*L;let V=0,k;C<=8?k=new Uint8Array(B):C<=16?k=new Uint16Array(B):k=new Uint32Array(B);const _=T*L,l=(1<<C)-1;let x=0,X,a;if(C===1){let g,P,G;for(let D=0;D<b;D++){for(P=x+(_&-8),G=x+_;x<P;)a=F[V++],k[x]=a>>7&1,k[x+1]=a>>6&1,k[x+2]=a>>5&1,k[x+3]=a>>4&1,k[x+4]=a>>3&1,k[x+5]=a>>2&1,k[x+6]=a>>1&1,k[x+7]=a&1,x+=8;if(x<G)for(a=F[V++],g=128;x<G;)k[x++]=+!!(a&g),g>>=1}}else{let g=0;for(a=0,x=0,X=B;x<X;++x){for(x%_===0&&(a=0,g=0);g<C;)a=a<<8|F[V++],g+=8;const P=g-C;let G=a>>P;G<0?G=0:G>l&&(G=l),k[x]=G,a&=(1<<P)-1,g=P}}return k}fillOpacity(F,C,T,b,L){const B=this.smask,V=this.mask;let k,_,l,x,X,a;if(B)_=B.width,l=B.height,k=new Uint8ClampedArray(_*l),B.fillGrayBuffer(k),(_!==C||l!==T)&&(k=d(k,B.bpc,_,l,C,T));else if(V)if(V instanceof u){for(_=V.width,l=V.height,k=new Uint8ClampedArray(_*l),V.numComps=1,V.fillGrayBuffer(k),x=0,X=_*l;x<X;++x)k[x]=255-k[x];(_!==C||l!==T)&&(k=d(k,V.bpc,_,l,C,T))}else if(Array.isArray(V)){k=new Uint8ClampedArray(C*T);const g=this.numComps;for(x=0,X=C*T;x<X;++x){let P=0;const G=x*g;for(a=0;a<g;++a){const D=L[G+a],w=a*2;if(D<V[w]||D>V[w+1]){P=255;break}}k[x]=P}}else throw new n.FormatError("Unknown mask format.");if(k)for(x=0,a=3,X=C*b;x<X;++x,a+=4)F[a]=k[x];else for(x=0,a=3,X=C*b;x<X;++x,a+=4)F[a]=255}undoPreblend(F,C,T){var l;const b=(l=this.smask)==null?void 0:l.matte;if(!b)return;const L=this.colorSpace.getRgb(b,0),B=L[0],V=L[1],k=L[2],_=C*T*4;for(let x=0;x<_;x+=4){const X=F[x+3];if(X===0){F[x]=255,F[x+1]=255,F[x+2]=255;continue}const a=255/X;F[x]=(F[x]-B)*a+B,F[x+1]=(F[x+1]-V)*a+V,F[x+2]=(F[x+2]-k)*a+k}}async createImageData(F=!1,C=!1){const T=this.drawWidth,b=this.drawHeight,L={width:T,height:b,interpolate:this.interpolate,kind:0,data:null},B=this.numComps,V=this.width,k=this.height,_=this.bpc,l=V*B*_+7>>3,x=C&&r.ImageResizer.needsToBeResized(T,b);if(!F){let o;if(this.colorSpace.name==="DeviceGray"&&_===1?o=n.ImageKind.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&_===8&&!this.needsDecode&&(o=n.ImageKind.RGB_24BPP),o&&!this.smask&&!this.mask&&T===V&&b===k){const y=this.getImageBytes(k*l,{});if(C)return x?r.ImageResizer.createImage({data:y,kind:o,width:T,height:b,interpolate:this.interpolate},this.needsDecode):this.createBitmap(o,V,k,y);if(L.kind=o,L.data=y,this.needsDecode){(0,n.assert)(o===n.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const c=L.data;for(let h=0,O=c.length;h<O;h++)c[h]^=255}return L}if(this.image instanceof z.JpegStream&&!this.smask&&!this.mask&&!this.needsDecode){let y=k*l;if(C&&!x){let c=!1;switch(this.colorSpace.name){case"DeviceGray":y*=4,c=!0;break;case"DeviceRGB":y=y/3*4,c=!0;break;case"DeviceCMYK":c=!0;break}if(c){const h=this.getImageBytes(y,{drawWidth:T,drawHeight:b,forceRGBA:!0});return this.createBitmap(n.ImageKind.RGBA_32BPP,T,b,h)}}else switch(this.colorSpace.name){case"DeviceGray":y*=3;case"DeviceRGB":case"DeviceCMYK":return L.kind=n.ImageKind.RGB_24BPP,L.data=this.getImageBytes(y,{drawWidth:T,drawHeight:b,forceRGB:!0}),x?r.ImageResizer.createImage(L):L}}}const X=this.getImageBytes(k*l,{internal:!0}),a=0|X.length/l*b/k,g=this.getComponents(X);let P,G,D,w,A,v;if(C&&!x&&(D=new OffscreenCanvas(T,b),w=D.getContext("2d"),A=w.createImageData(T,b),v=A.data),L.kind=n.ImageKind.RGBA_32BPP,!F&&!this.smask&&!this.mask?(!C||x?(L.kind=n.ImageKind.RGB_24BPP,v=new Uint8ClampedArray(T*b*3),P=0):(new Uint32Array(v.buffer).fill(n.FeatureTest.isLittleEndian?4278190080:255),P=1),G=!1):((!C||x)&&(v=new Uint8ClampedArray(T*b*4)),P=1,G=!0,this.fillOpacity(v,T,b,a,g)),this.needsDecode&&this.decodeBuffer(g),this.colorSpace.fillRgb(v,V,k,T,b,a,_,g,P),G&&this.undoPreblend(v,T,a),C&&!x){w.putImageData(A,0,0);const o=D.transferToImageBitmap();return{data:null,width:T,height:b,bitmap:o,interpolate:this.interpolate}}return L.data=v,x?r.ImageResizer.createImage(L):L}fillGrayBuffer(F){const C=this.numComps;if(C!==1)throw new n.FormatError(`Reading gray scale from a color image: ${C}`);const T=this.width,b=this.height,L=this.bpc,B=T*C*L+7>>3,V=this.getImageBytes(b*B,{internal:!0}),k=this.getComponents(V);let _,l;if(L===1){if(l=T*b,this.needsDecode)for(_=0;_<l;++_)F[_]=k[_]-1&255;else for(_=0;_<l;++_)F[_]=-k[_]&255;return}this.needsDecode&&this.decodeBuffer(k),l=T*b;const x=255/((1<<L)-1);for(_=0;_<l;++_)F[_]=x*k[_]}createBitmap(F,C,T,b){const L=new OffscreenCanvas(C,T),B=L.getContext("2d");let V;F===n.ImageKind.RGBA_32BPP?V=new ImageData(b,C,T):(V=B.createImageData(C,T),(0,S.convertToRGBA)({kind:F,src:b,dest:new Uint32Array(V.data.buffer),width:C,height:T,inverseDecode:this.needsDecode})),B.putImageData(V,0,0);const k=L.transferToImageBitmap();return{data:null,width:C,height:T,bitmap:k,interpolate:this.interpolate}}getImageBytes(F,{drawWidth:C,drawHeight:T,forceRGBA:b=!1,forceRGB:L=!1,internal:B=!1}){this.image.reset(),this.image.drawWidth=C||this.width,this.image.drawHeight=T||this.height,this.image.forceRGBA=!!b,this.image.forceRGB=!!L;const V=this.image.getBytes(F);return B||this.image instanceof t.DecodeStream?V:((0,n.assert)(V instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(V))}}m.PDFImage=u},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.Catalog=void 0;var n=Q(3),S=Q(2),N=Q(4),e=Q(67),t=Q(5),r=Q(68),z=Q(12),j=Q(69),M=Q(59),I=Q(70),d=Q(72);function u(F){return F instanceof N.Dict&&(F=F.get("D")),Array.isArray(F)?F:null}class i{constructor(C,T){if(this.pdfManager=C,this.xref=T,this._catDict=T.getCatalogObj(),!(this._catDict instanceof N.Dict))throw new S.FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new N.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new M.GlobalImageCache,this.pageKidsCountCache=new N.RefSetCache,this.pageIndexCache=new N.RefSetCache,this.nonBlendModesSet=new N.RefSet,this.systemFontCache=new Map}cloneDict(){return this._catDict.clone()}get version(){const C=this._catDict.get("Version");if(C instanceof N.Name){if(n.PDF_VERSION_REGEXP.test(C.name))return(0,S.shadow)(this,"version",C.name);(0,S.warn)(`Invalid PDF catalog version: ${C.name}`)}return(0,S.shadow)(this,"version",null)}get lang(){const C=this._catDict.get("Lang");return(0,S.shadow)(this,"lang",typeof C=="string"?(0,S.stringToPDFString)(C):null)}get needsRendering(){const C=this._catDict.get("NeedsRendering");return(0,S.shadow)(this,"needsRendering",typeof C=="boolean"?C:!1)}get collection(){let C=null;try{const T=this._catDict.get("Collection");T instanceof N.Dict&&T.size>0&&(C=T)}catch(T){if(T instanceof n.MissingDataException)throw T;(0,S.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,S.shadow)(this,"collection",C)}get acroForm(){let C=null;try{const T=this._catDict.get("AcroForm");T instanceof N.Dict&&T.size>0&&(C=T)}catch(T){if(T instanceof n.MissingDataException)throw T;(0,S.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,S.shadow)(this,"acroForm",C)}get acroFormRef(){const C=this._catDict.getRaw("AcroForm");return(0,S.shadow)(this,"acroFormRef",C instanceof N.Ref?C:null)}get metadata(){var b;const C=this._catDict.getRaw("Metadata");if(!(C instanceof N.Ref))return(0,S.shadow)(this,"metadata",null);let T=null;try{const L=this.xref.fetch(C,!((b=this.xref.encrypt)!=null&&b.encryptMetadata));if(L instanceof t.BaseStream&&L.dict instanceof N.Dict){const B=L.dict.get("Type"),V=L.dict.get("Subtype");if((0,N.isName)(B,"Metadata")&&(0,N.isName)(V,"XML")){const k=(0,S.stringToUTF8String)(L.getString());k&&(T=new I.MetadataParser(k).serializable)}}}catch(L){if(L instanceof n.MissingDataException)throw L;(0,S.info)(`Skipping invalid Metadata: "${L}".`)}return(0,S.shadow)(this,"metadata",T)}get markInfo(){let C=null;try{C=this._readMarkInfo()}catch(T){if(T instanceof n.MissingDataException)throw T;(0,S.warn)("Unable to read mark info.")}return(0,S.shadow)(this,"markInfo",C)}_readMarkInfo(){const C=this._catDict.get("MarkInfo");if(!(C instanceof N.Dict))return null;const T={Marked:!1,UserProperties:!1,Suspects:!1};for(const b in T){const L=C.get(b);typeof L=="boolean"&&(T[b]=L)}return T}get structTreeRoot(){let C=null;try{C=this._readStructTreeRoot()}catch(T){if(T instanceof n.MissingDataException)throw T;(0,S.warn)("Unable read to structTreeRoot info.")}return(0,S.shadow)(this,"structTreeRoot",C)}_readStructTreeRoot(){const C=this._catDict.getRaw("StructTreeRoot"),T=this.xref.fetchIfRef(C);if(!(T instanceof N.Dict))return null;const b=new d.StructTreeRoot(T,C);return b.init(),b}get toplevelPagesDict(){const C=this._catDict.get("Pages");if(!(C instanceof N.Dict))throw new S.FormatError("Invalid top-level pages dictionary.");return(0,S.shadow)(this,"toplevelPagesDict",C)}get documentOutline(){let C=null;try{C=this._readDocumentOutline()}catch(T){if(T instanceof n.MissingDataException)throw T;(0,S.warn)("Unable to read document outline.")}return(0,S.shadow)(this,"documentOutline",C)}_readDocumentOutline(){let C=this._catDict.get("Outlines");if(!(C instanceof N.Dict)||(C=C.getRaw("First"),!(C instanceof N.Ref)))return null;const T={items:[]},b=[{obj:C,parent:T}],L=new N.RefSet;L.put(C);const B=this.xref,V=new Uint8ClampedArray(3);for(;b.length>0;){const k=b.shift(),_=B.fetchIfRef(k.obj);if(_===null)continue;if(!_.has("Title"))throw new S.FormatError("Invalid outline item encountered.");const l={url:null,dest:null,action:null};i.parseDestDictionary({destDict:_,resultObj:l,docBaseUrl:this.baseUrl,docAttachments:this.attachments});const x=_.get("Title"),X=_.get("F")||0,a=_.getArray("C"),g=_.get("Count");let P=V;Array.isArray(a)&&a.length===3&&(a[0]!==0||a[1]!==0||a[2]!==0)&&(P=z.ColorSpace.singletons.rgb.getRgb(a,0));const G={action:l.action,attachment:l.attachment,dest:l.dest,url:l.url,unsafeUrl:l.unsafeUrl,newWindow:l.newWindow,setOCGState:l.setOCGState,title:(0,S.stringToPDFString)(x),color:P,count:Number.isInteger(g)?g:void 0,bold:!!(X&2),italic:!!(X&1),items:[]};k.parent.items.push(G),C=_.getRaw("First"),C instanceof N.Ref&&!L.has(C)&&(b.push({obj:C,parent:G}),L.put(C)),C=_.getRaw("Next"),C instanceof N.Ref&&!L.has(C)&&(b.push({obj:C,parent:k.parent}),L.put(C))}return T.items.length>0?T.items:null}get permissions(){let C=null;try{C=this._readPermissions()}catch(T){if(T instanceof n.MissingDataException)throw T;(0,S.warn)("Unable to read permissions.")}return(0,S.shadow)(this,"permissions",C)}_readPermissions(){const C=this.xref.trailer.get("Encrypt");if(!(C instanceof N.Dict))return null;let T=C.get("P");if(typeof T!="number")return null;T+=4294967296;const b=[];for(const L in S.PermissionFlag){const B=S.PermissionFlag[L];T&B&&b.push(B)}return b}get optionalContentConfig(){let C=null;try{const T=this._catDict.get("OCProperties");if(!T)return(0,S.shadow)(this,"optionalContentConfig",null);const b=T.get("D");if(!b)return(0,S.shadow)(this,"optionalContentConfig",null);const L=T.get("OCGs");if(!Array.isArray(L))return(0,S.shadow)(this,"optionalContentConfig",null);const B=[],V=[];for(const k of L){if(!(k instanceof N.Ref))continue;V.push(k);const _=this.xref.fetchIfRef(k);B.push({id:k.toString(),name:typeof _.get("Name")=="string"?(0,S.stringToPDFString)(_.get("Name")):null,intent:typeof _.get("Intent")=="string"?(0,S.stringToPDFString)(_.get("Intent")):null})}C=this._readOptionalContentConfig(b,V),C.groups=B}catch(T){if(T instanceof n.MissingDataException)throw T;(0,S.warn)(`Unable to read optional content config: ${T}`)}return(0,S.shadow)(this,"optionalContentConfig",C)}_readOptionalContentConfig(C,T){function b(l){const x=[];if(Array.isArray(l))for(const X of l)X instanceof N.Ref&&T.includes(X)&&x.push(X.toString());return x}function L(l,x=0){if(!Array.isArray(l))return null;const X=[];for(const g of l){if(g instanceof N.Ref&&T.includes(g)){k.put(g),X.push(g.toString());continue}const P=B(g,x);P&&X.push(P)}if(x>0)return X;const a=[];for(const g of T)k.has(g)||a.push(g.toString());return a.length&&X.push({name:null,order:a}),X}function B(l,x){if(++x>_)return(0,S.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const X=V.fetchIfRef(l);if(!Array.isArray(X))return null;const a=V.fetchIfRef(X[0]);if(typeof a!="string")return null;const g=L(X.slice(1),x);return!g||!g.length?null:{name:(0,S.stringToPDFString)(a),order:g}}const V=this.xref,k=new N.RefSet,_=10;return{name:typeof C.get("Name")=="string"?(0,S.stringToPDFString)(C.get("Name")):null,creator:typeof C.get("Creator")=="string"?(0,S.stringToPDFString)(C.get("Creator")):null,baseState:C.get("BaseState")instanceof N.Name?C.get("BaseState").name:null,on:b(C.get("ON")),off:b(C.get("OFF")),order:L(C.get("Order")),groups:null}}setActualNumPages(C=null){this._actualNumPages=C}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const C=this.toplevelPagesDict.get("Count");if(!Number.isInteger(C))throw new S.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,S.shadow)(this,"_pagesCount",C)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const C=this._readDests(),T=Object.create(null);if(C instanceof e.NameTree)for(const[b,L]of C.getAll()){const B=u(L);B&&(T[(0,S.stringToPDFString)(b)]=B)}else C instanceof N.Dict&&C.forEach(function(b,L){const B=u(L);B&&(T[b]=B)});return(0,S.shadow)(this,"destinations",T)}getDestination(C){const T=this._readDests();if(T instanceof e.NameTree){const b=u(T.get(C));if(b)return b;const L=this.destinations[C];if(L)return(0,S.warn)(`Found "${C}" at an incorrect position in the NameTree.`),L}else if(T instanceof N.Dict){const b=u(T.get(C));if(b)return b}return null}_readDests(){const C=this._catDict.get("Names");if(C!=null&&C.has("Dests"))return new e.NameTree(C.getRaw("Dests"),this.xref);if(this._catDict.has("Dests"))return this._catDict.get("Dests")}get pageLabels(){let C=null;try{C=this._readPageLabels()}catch(T){if(T instanceof n.MissingDataException)throw T;(0,S.warn)("Unable to read page labels.")}return(0,S.shadow)(this,"pageLabels",C)}_readPageLabels(){const C=this._catDict.getRaw("PageLabels");if(!C)return null;const T=new Array(this.numPages);let b=null,L="";const V=new e.NumberTree(C,this.xref).getAll();let k="",_=1;for(let l=0,x=this.numPages;l<x;l++){const X=V.get(l);if(X!==void 0){if(!(X instanceof N.Dict))throw new S.FormatError("PageLabel is not a dictionary.");if(X.has("Type")&&!(0,N.isName)(X.get("Type"),"PageLabel"))throw new S.FormatError("Invalid type in PageLabel dictionary.");if(X.has("S")){const a=X.get("S");if(!(a instanceof N.Name))throw new S.FormatError("Invalid style in PageLabel dictionary.");b=a.name}else b=null;if(X.has("P")){const a=X.get("P");if(typeof a!="string")throw new S.FormatError("Invalid prefix in PageLabel dictionary.");L=(0,S.stringToPDFString)(a)}else L="";if(X.has("St")){const a=X.get("St");if(!(Number.isInteger(a)&&a>=1))throw new S.FormatError("Invalid start in PageLabel dictionary.");_=a}else _=1}switch(b){case"D":k=_;break;case"R":case"r":k=(0,n.toRomanNumerals)(_,b==="r");break;case"A":case"a":const a=26,G=b==="a"?97:65,D=_-1;k=String.fromCharCode(G+D%a).repeat(Math.floor(D/a)+1);break;default:if(b)throw new S.FormatError(`Invalid style "${b}" in PageLabel dictionary.`);k=""}T[l]=L+k,_++}return T}get pageLayout(){const C=this._catDict.get("PageLayout");let T="";if(C instanceof N.Name)switch(C.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":T=C.name}return(0,S.shadow)(this,"pageLayout",T)}get pageMode(){const C=this._catDict.get("PageMode");let T="UseNone";if(C instanceof N.Name)switch(C.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":T=C.name}return(0,S.shadow)(this,"pageMode",T)}get viewerPreferences(){const C=this._catDict.get("ViewerPreferences");if(!(C instanceof N.Dict))return(0,S.shadow)(this,"viewerPreferences",null);let T=null;for(const b of C.getKeys()){const L=C.get(b);let B;switch(b){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof L=="boolean"&&(B=L);break;case"NonFullScreenPageMode":if(L instanceof N.Name)switch(L.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":B=L.name;break;default:B="UseNone"}break;case"Direction":if(L instanceof N.Name)switch(L.name){case"L2R":case"R2L":B=L.name;break;default:B="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(L instanceof N.Name)switch(L.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":B=L.name;break;default:B="CropBox"}break;case"PrintScaling":if(L instanceof N.Name)switch(L.name){case"None":case"AppDefault":B=L.name;break;default:B="AppDefault"}break;case"Duplex":if(L instanceof N.Name)switch(L.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":B=L.name;break;default:B="None"}break;case"PrintPageRange":Array.isArray(L)&&L.length%2===0&&L.every((k,_,l)=>Number.isInteger(k)&&k>0&&(_===0||k>=l[_-1])&&k<=this.numPages)&&(B=L);break;case"NumCopies":Number.isInteger(L)&&L>0&&(B=L);break;default:(0,S.warn)(`Ignoring non-standard key in ViewerPreferences: ${b}.`);continue}if(B===void 0){(0,S.warn)(`Bad value, for key "${b}", in ViewerPreferences: ${L}.`);continue}T||(T=Object.create(null)),T[b]=B}return(0,S.shadow)(this,"viewerPreferences",T)}get openAction(){const C=this._catDict.get("OpenAction"),T=Object.create(null);if(C instanceof N.Dict){const b=new N.Dict(this.xref);b.set("A",C);const L={url:null,dest:null,action:null};i.parseDestDictionary({destDict:b,resultObj:L}),Array.isArray(L.dest)?T.dest=L.dest:L.action&&(T.action=L.action)}else Array.isArray(C)&&(T.dest=C);return(0,S.shadow)(this,"openAction",(0,S.objectSize)(T)>0?T:null)}get attachments(){const C=this._catDict.get("Names");let T=null;if(C instanceof N.Dict&&C.has("EmbeddedFiles")){const b=new e.NameTree(C.getRaw("EmbeddedFiles"),this.xref);for(const[L,B]of b.getAll()){const V=new j.FileSpec(B,this.xref);T||(T=Object.create(null)),T[(0,S.stringToPDFString)(L)]=V.serializable}}return(0,S.shadow)(this,"attachments",T)}get xfaImages(){const C=this._catDict.get("Names");let T=null;if(C instanceof N.Dict&&C.has("XFAImages")){const b=new e.NameTree(C.getRaw("XFAImages"),this.xref);for(const[L,B]of b.getAll())T||(T=new N.Dict(this.xref)),T.set((0,S.stringToPDFString)(L),B)}return(0,S.shadow)(this,"xfaImages",T)}_collectJavaScript(){const C=this._catDict.get("Names");let T=null;function b(B,V){if(!(V instanceof N.Dict)||!(0,N.isName)(V.get("S"),"JavaScript"))return;let k=V.get("JS");if(k instanceof t.BaseStream)k=k.getString();else if(typeof k!="string")return;k=(0,S.stringToPDFString)(k).replaceAll("\0",""),k&&(T||(T=new Map)).set(B,k)}if(C instanceof N.Dict&&C.has("JavaScript")){const B=new e.NameTree(C.getRaw("JavaScript"),this.xref);for(const[V,k]of B.getAll())b((0,S.stringToPDFString)(V),k)}const L=this._catDict.get("OpenAction");return L&&b("OpenAction",L),T}get jsActions(){const C=this._collectJavaScript();let T=(0,n.collectActions)(this.xref,this._catDict,S.DocumentActionEventType);if(C){T||(T=Object.create(null));for(const[b,L]of C)b in T?T[b].push(L):T[b]=[L]}return(0,S.shadow)(this,"jsActions",T)}async fontFallback(C,T){const b=await Promise.all(this.fontCache);for(const L of b)if(L.loadedName===C){L.fallback(T);return}}async cleanup(C=!1){(0,r.clearGlobalCaches)(),this.globalImageCache.clear(C),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const T=await Promise.all(this.fontCache);for(const{dict:b}of T)delete b.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear(),this.systemFontCache.clear()}async getPageDict(C){const T=[this.toplevelPagesDict],b=new N.RefSet,L=this._catDict.getRaw("Pages");L instanceof N.Ref&&b.put(L);const B=this.xref,V=this.pageKidsCountCache,k=this.pageIndexCache;let _=0;for(;T.length;){const l=T.pop();if(l instanceof N.Ref){const g=V.get(l);if(g>=0&&_+g<=C){_+=g;continue}if(b.has(l))throw new S.FormatError("Pages tree contains circular reference.");b.put(l);const P=await B.fetchAsync(l);if(P instanceof N.Dict){let G=P.getRaw("Type");if(G instanceof N.Ref&&(G=await B.fetchAsync(G)),(0,N.isName)(G,"Page")||!P.has("Kids")){if(V.has(l)||V.put(l,1),k.has(l)||k.put(l,_),_===C)return[P,l];_++;continue}}T.push(P);continue}if(!(l instanceof N.Dict))throw new S.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:x}=l;let X=l.getRaw("Count");if(X instanceof N.Ref&&(X=await B.fetchAsync(X)),Number.isInteger(X)&&X>=0&&(x&&!V.has(x)&&V.put(x,X),_+X<=C)){_+=X;continue}let a=l.getRaw("Kids");if(a instanceof N.Ref&&(a=await B.fetchAsync(a)),!Array.isArray(a)){let g=l.getRaw("Type");if(g instanceof N.Ref&&(g=await B.fetchAsync(g)),(0,N.isName)(g,"Page")||!l.has("Kids")){if(_===C)return[l,null];_++;continue}throw new S.FormatError("Page dictionary kids object is not an array.")}for(let g=a.length-1;g>=0;g--)T.push(a[g])}throw new Error(`Page index ${C} not found.`)}async getAllPageDicts(C=!1){const{ignoreErrors:T}=this.pdfManager.evaluatorOptions,b=[{currentNode:this.toplevelPagesDict,posInKids:0}],L=new N.RefSet,B=this._catDict.getRaw("Pages");B instanceof N.Ref&&L.put(B);const V=new Map,k=this.xref,_=this.pageIndexCache;let l=0;function x(a,g){g&&!_.has(g)&&_.put(g,l),V.set(l++,[a,g])}function X(a){if(a instanceof n.XRefEntryException&&!C)throw a;C&&T&&l===0&&((0,S.warn)(`getAllPageDicts - Skipping invalid first page: "${a}".`),a=N.Dict.empty),V.set(l++,[a,null])}for(;b.length>0;){const a=b.at(-1),{currentNode:g,posInKids:P}=a;let G=g.getRaw("Kids");if(G instanceof N.Ref)try{G=await k.fetchAsync(G)}catch(v){X(v);break}if(!Array.isArray(G)){X(new S.FormatError("Page dictionary kids object is not an array."));break}if(P>=G.length){b.pop();continue}const D=G[P];let w;if(D instanceof N.Ref){if(L.has(D)){X(new S.FormatError("Pages tree contains circular reference."));break}L.put(D);try{w=await k.fetchAsync(D)}catch(v){X(v);break}}else w=D;if(!(w instanceof N.Dict)){X(new S.FormatError("Page dictionary kid reference points to wrong type of object."));break}let A=w.getRaw("Type");if(A instanceof N.Ref)try{A=await k.fetchAsync(A)}catch(v){X(v);break}(0,N.isName)(A,"Page")||!w.has("Kids")?x(w,D instanceof N.Ref?D:null):b.push({currentNode:w,posInKids:0}),a.posInKids++}return V}getPageIndex(C){const T=this.pageIndexCache.get(C);if(T!==void 0)return Promise.resolve(T);const b=this.xref;function L(k){let _=0,l;return b.fetchAsync(k).then(function(x){if((0,N.isRefsEqual)(k,C)&&!(0,N.isDict)(x,"Page")&&!(x instanceof N.Dict&&!x.has("Type")&&x.has("Contents")))throw new S.FormatError("The reference does not point to a /Page dictionary.");if(!x)return null;if(!(x instanceof N.Dict))throw new S.FormatError("Node must be a dictionary.");return l=x.getRaw("Parent"),x.getAsync("Parent")}).then(function(x){if(!x)return null;if(!(x instanceof N.Dict))throw new S.FormatError("Parent must be a dictionary.");return x.getAsync("Kids")}).then(function(x){if(!x)return null;const X=[];let a=!1;for(const g of x){if(!(g instanceof N.Ref))throw new S.FormatError("Kid must be a reference.");if((0,N.isRefsEqual)(g,k)){a=!0;break}X.push(b.fetchAsync(g).then(function(P){if(!(P instanceof N.Dict))throw new S.FormatError("Kid node must be a dictionary.");P.has("Count")?_+=P.get("Count"):_++}))}if(!a)throw new S.FormatError("Kid reference not found in parent's kids.");return Promise.all(X).then(function(){return[_,l]})})}let B=0;const V=k=>L(k).then(_=>{if(!_)return this.pageIndexCache.put(C,B),B;const[l,x]=_;return B+=l,V(x)});return V(C)}get baseUrl(){const C=this._catDict.get("URI");if(C instanceof N.Dict){const T=C.get("Base");if(typeof T=="string"){const b=(0,S.createValidAbsoluteUrl)(T,null,{tryConvertEncoding:!0});if(b)return(0,S.shadow)(this,"baseUrl",b.href)}}return(0,S.shadow)(this,"baseUrl",this.pdfManager.docBaseUrl)}static parseDestDictionary({destDict:C,resultObj:T,docBaseUrl:b=null,docAttachments:L=null}){if(!(C instanceof N.Dict)){(0,S.warn)("parseDestDictionary: `destDict` must be a dictionary.");return}let B=C.get("A"),V,k;if(B instanceof N.Dict||(C.has("Dest")?B=C.get("Dest"):(B=C.get("AA"),B instanceof N.Dict&&(B.has("D")?B=B.get("D"):B.has("U")&&(B=B.get("U"))))),B instanceof N.Dict){const _=B.get("S");if(!(_ instanceof N.Name)){(0,S.warn)("parseDestDictionary: Invalid type in Action dictionary.");return}const l=_.name;switch(l){case"ResetForm":const x=B.get("Flags"),X=((typeof x=="number"?x:0)&1)===0,a=[],g=[];for(const R of B.get("Fields")||[])R instanceof N.Ref?g.push(R.toString()):typeof R=="string"&&a.push((0,S.stringToPDFString)(R));T.resetForm={fields:a,refs:g,include:X};break;case"URI":V=B.get("URI"),V instanceof N.Name&&(V="/"+V.name);break;case"GoTo":k=B.get("D");break;case"Launch":case"GoToR":const P=B.get("F");P instanceof N.Dict?V=P.get("F")||null:typeof P=="string"&&(V=P);let G=B.get("D");if(G&&(G instanceof N.Name&&(G=G.name),typeof V=="string")){const R=V.split("#")[0];typeof G=="string"?V=R+"#"+G:Array.isArray(G)&&(V=R+"#"+JSON.stringify(G))}const D=B.get("NewWindow");typeof D=="boolean"&&(T.newWindow=D);break;case"GoToE":const w=B.get("T");let A;if(L&&w instanceof N.Dict){const R=w.get("R"),H=w.get("N");(0,N.isName)(R,"C")&&typeof H=="string"&&(A=L[(0,S.stringToPDFString)(H)])}A?T.attachment=A:(0,S.warn)('parseDestDictionary - unimplemented "GoToE" action.');break;case"Named":const v=B.get("N");v instanceof N.Name&&(T.action=v.name);break;case"SetOCGState":const o=B.get("State"),y=B.get("PreserveRB");if(!Array.isArray(o)||o.length===0)break;const c=[];for(const R of o)if(R instanceof N.Name)switch(R.name){case"ON":case"OFF":case"Toggle":c.push(R.name);break}else R instanceof N.Ref&&c.push(R.toString());if(c.length!==o.length)break;T.setOCGState={state:c,preserveRB:typeof y=="boolean"?y:!0};break;case"JavaScript":const h=B.get("JS");let O;h instanceof t.BaseStream?O=h.getString():typeof h=="string"&&(O=h);const W=O&&(0,n.recoverJsURL)((0,S.stringToPDFString)(O));if(W){V=W.url,T.newWindow=W.newWindow;break}default:if(l==="JavaScript"||l==="SubmitForm")break;(0,S.warn)(`parseDestDictionary - unsupported action: "${l}".`);break}}else C.has("Dest")&&(k=C.get("Dest"));if(typeof V=="string"){const _=(0,S.createValidAbsoluteUrl)(V,b,{addDefaultProtocol:!0,tryConvertEncoding:!0});_&&(T.url=_.href),T.unsafeUrl=V}k&&(k instanceof N.Name&&(k=k.name),typeof k=="string"?T.dest=(0,S.stringToPDFString)(k):Array.isArray(k)&&(T.dest=k))}}m.Catalog=i},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.NumberTree=m.NameTree=void 0;var n=Q(4),S=Q(2);class N{constructor(z,j,M){this.constructor===N&&(0,S.unreachable)("Cannot initialize NameOrNumberTree."),this.root=z,this.xref=j,this._type=M}getAll(){const z=new Map;if(!this.root)return z;const j=this.xref,M=new n.RefSet;M.put(this.root);const I=[this.root];for(;I.length>0;){const d=j.fetchIfRef(I.shift());if(!(d instanceof n.Dict))continue;if(d.has("Kids")){const i=d.get("Kids");if(!Array.isArray(i))continue;for(const F of i){if(M.has(F))throw new S.FormatError(`Duplicate entry in "${this._type}" tree.`);I.push(F),M.put(F)}continue}const u=d.get(this._type);if(Array.isArray(u))for(let i=0,F=u.length;i<F;i+=2)z.set(j.fetchIfRef(u[i]),j.fetchIfRef(u[i+1]))}return z}get(z){if(!this.root)return null;const j=this.xref;let M=j.fetchIfRef(this.root),I=0;const d=10;for(;M.has("Kids");){if(++I>d)return(0,S.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const i=M.get("Kids");if(!Array.isArray(i))return null;let F=0,C=i.length-1;for(;F<=C;){const T=F+C>>1,b=j.fetchIfRef(i[T]),L=b.get("Limits");if(z<j.fetchIfRef(L[0]))C=T-1;else if(z>j.fetchIfRef(L[1]))F=T+1;else{M=b;break}}if(F>C)return null}const u=M.get(this._type);if(Array.isArray(u)){let i=0,F=u.length-2;for(;i<=F;){const C=i+F>>1,T=C+(C&1),b=j.fetchIfRef(u[T]);if(z<b)F=T-2;else if(z>b)i=T+2;else return j.fetchIfRef(u[T+1])}}return null}}class e extends N{constructor(z,j){super(z,j,"Names")}}m.NameTree=e;class t extends N{constructor(z,j){super(z,j,"Nums")}}m.NumberTree=t},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.clearGlobalCaches=e;var n=Q(50),S=Q(4),N=Q(40);function e(){(0,n.clearPatternCaches)(),(0,S.clearPrimitiveCaches)(),(0,N.clearUnicodeCaches)()}},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.FileSpec=void 0;var n=Q(2),S=Q(5),N=Q(4);function e(r){return r.has("UF")?r.get("UF"):r.has("F")?r.get("F"):r.has("Unix")?r.get("Unix"):r.has("Mac")?r.get("Mac"):r.has("DOS")?r.get("DOS"):null}class t{constructor(z,j){z instanceof N.Dict&&(this.xref=j,this.root=z,z.has("FS")&&(this.fs=z.get("FS")),this.description=z.has("Desc")?(0,n.stringToPDFString)(z.get("Desc")):"",z.has("RF")&&(0,n.warn)("Related file specifications are not supported"),this.contentAvailable=!0,z.has("EF")||(this.contentAvailable=!1,(0,n.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const z=e(this.root)||"unnamed";this._filename=(0,n.stringToPDFString)(z).replaceAll("\\\\","\\").replaceAll("\\/","/").replaceAll("\\","/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=e(this.root.get("EF")));let z=null;if(this.contentRef){const j=this.xref.fetchIfRef(this.contentRef);j instanceof S.BaseStream?z=j.getBytes():(0,n.warn)("Embedded file specification points to non-existing/invalid content")}else(0,n.warn)("Embedded file specification does not have a content");return z}get serializable(){return{filename:this.filename,content:this.content}}}m.FileSpec=t},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.MetadataParser=void 0;var n=Q(71);class S{constructor(e){e=this._repair(e);const r=new n.SimpleXMLParser({lowerCaseName:!0}).parseFromString(e);this._metadataMap=new Map,this._data=e,r&&this._parse(r)}_repair(e){return e.replace(/^[^<]+/,"").replaceAll(/>\\376\\377([^<]+)/g,function(t,r){const z=r.replaceAll(/\\([0-3])([0-7])([0-7])/g,function(M,I,d,u){return String.fromCharCode(I*64+d*8+u*1)}).replaceAll(/&(amp|apos|gt|lt|quot);/g,function(M,I){switch(I){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${I} isn't defined.`)}),j=[">"];for(let M=0,I=z.length;M<I;M+=2){const d=z.charCodeAt(M)*256+z.charCodeAt(M+1);d>=32&&d<127&&d!==60&&d!==62&&d!==38?j.push(String.fromCharCode(d)):j.push("&#x"+(65536+d).toString(16).substring(1)+";")}return j.join("")})}_getSequence(e){const t=e.nodeName;return t!=="rdf:bag"&&t!=="rdf:seq"&&t!=="rdf:alt"?null:e.childNodes.filter(r=>r.nodeName==="rdf:li")}_parseArray(e){if(!e.hasChildNodes())return;const[t]=e.childNodes,r=this._getSequence(t)||[];this._metadataMap.set(e.nodeName,r.map(z=>z.textContent.trim()))}_parse(e){let t=e.documentElement;if(t.nodeName!=="rdf:rdf")for(t=t.firstChild;t&&t.nodeName!=="rdf:rdf";)t=t.nextSibling;if(!(!t||t.nodeName!=="rdf:rdf"||!t.hasChildNodes())){for(const r of t.childNodes)if(r.nodeName==="rdf:description")for(const z of r.childNodes){const j=z.nodeName;switch(j){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(z);continue}this._metadataMap.set(j,z.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}m.MetadataParser=S},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.XMLParserErrorCode=m.XMLParserBase=m.SimpleXMLParser=m.SimpleDOMNode=void 0;var n=Q(3);const S={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};m.XMLParserErrorCode=S;function N(j,M){const I=j[M];return I===" "||I===`
`||I==="\r"||I==="	"}function e(j){for(let M=0,I=j.length;M<I;M++)if(!N(j,M))return!1;return!0}class t{_resolveEntities(M){return M.replaceAll(/&([^;]+);/g,(I,d)=>{if(d.substring(0,2)==="#x")return String.fromCodePoint(parseInt(d.substring(2),16));if(d.substring(0,1)==="#")return String.fromCodePoint(parseInt(d.substring(1),10));switch(d){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(d)})}_parseContent(M,I){const d=[];let u=I;function i(){for(;u<M.length&&N(M,u);)++u}for(;u<M.length&&!N(M,u)&&M[u]!==">"&&M[u]!=="/";)++u;const F=M.substring(I,u);for(i();u<M.length&&M[u]!==">"&&M[u]!=="/"&&M[u]!=="?";){i();let C="",T="";for(;u<M.length&&!N(M,u)&&M[u]!=="=";)C+=M[u],++u;if(i(),M[u]!=="=")return null;++u,i();const b=M[u];if(b!=='"'&&b!=="'")return null;const L=M.indexOf(b,++u);if(L<0)return null;T=M.substring(u,L),d.push({name:C,value:this._resolveEntities(T)}),u=L+1,i()}return{name:F,attributes:d,parsed:u-I}}_parseProcessingInstruction(M,I){let d=I;function u(){for(;d<M.length&&N(M,d);)++d}for(;d<M.length&&!N(M,d)&&M[d]!==">"&&M[d]!=="?"&&M[d]!=="/";)++d;const i=M.substring(I,d);u();const F=d;for(;d<M.length&&(M[d]!=="?"||M[d+1]!==">");)++d;const C=M.substring(F,d);return{name:i,value:C,parsed:d-I}}parseXml(M){let I=0;for(;I<M.length;){const d=M[I];let u=I;if(d==="<"){++u;const i=M[u];let F;switch(i){case"/":if(++u,F=M.indexOf(">",u),F<0){this.onError(S.UnterminatedElement);return}this.onEndElement(M.substring(u,F)),u=F+1;break;case"?":++u;const C=this._parseProcessingInstruction(M,u);if(M.substring(u+C.parsed,u+C.parsed+2)!=="?>"){this.onError(S.UnterminatedXmlDeclaration);return}this.onPi(C.name,C.value),u+=C.parsed+2;break;case"!":if(M.substring(u+1,u+3)==="--"){if(F=M.indexOf("-->",u+3),F<0){this.onError(S.UnterminatedComment);return}this.onComment(M.substring(u+3,F)),u=F+3}else if(M.substring(u+1,u+8)==="[CDATA["){if(F=M.indexOf("]]>",u+8),F<0){this.onError(S.UnterminatedCdat);return}this.onCdata(M.substring(u+8,F)),u=F+3}else if(M.substring(u+1,u+8)==="DOCTYPE"){const L=M.indexOf("[",u+8);let B=!1;if(F=M.indexOf(">",u+8),F<0){this.onError(S.UnterminatedDoctypeDeclaration);return}if(L>0&&F>L){if(F=M.indexOf("]>",u+8),F<0){this.onError(S.UnterminatedDoctypeDeclaration);return}B=!0}const V=M.substring(u+8,F+(B?1:0));this.onDoctype(V),u=F+(B?2:1)}else{this.onError(S.MalformedElement);return}break;default:const T=this._parseContent(M,u);if(T===null){this.onError(S.MalformedElement);return}let b=!1;if(M.substring(u+T.parsed,u+T.parsed+2)==="/>")b=!0;else if(M.substring(u+T.parsed,u+T.parsed+1)!==">"){this.onError(S.UnterminatedElement);return}this.onBeginElement(T.name,T.attributes,b),u+=T.parsed+(b?2:1);break}}else{for(;u<M.length&&M[u]!=="<";)u++;const i=M.substring(I,u);this.onText(this._resolveEntities(i))}I=u}}onResolveEntity(M){return`&${M};`}onPi(M,I){}onComment(M){}onCdata(M){}onDoctype(M){}onText(M){}onBeginElement(M,I,d){}onEndElement(M){}onError(M){}}m.XMLParserBase=t;class r{constructor(M,I){this.nodeName=M,this.nodeValue=I,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){var M;return(M=this.childNodes)==null?void 0:M[0]}get nextSibling(){const M=this.parentNode.childNodes;if(!M)return;const I=M.indexOf(this);if(I!==-1)return M[I+1]}get textContent(){return this.childNodes?this.childNodes.map(function(M){return M.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){var M;return((M=this.childNodes)==null?void 0:M.length)>0}searchNode(M,I){var F;if(I>=M.length)return this;const d=M[I];if(d.name.startsWith("#")&&I<M.length-1)return this.searchNode(M,I+1);const u=[];let i=this;for(;;){if(d.name===i.nodeName)if(d.pos===0){const C=i.searchNode(M,I+1);if(C!==null)return C}else{if(u.length===0)return null;{const[C]=u.pop();let T=0;for(const b of C.childNodes)if(d.name===b.nodeName){if(T===d.pos)return b.searchNode(M,I+1);T++}return i.searchNode(M,I+1)}}if(((F=i.childNodes)==null?void 0:F.length)>0)u.push([i,0]),i=i.childNodes[0];else{if(u.length===0)return null;for(;u.length!==0;){const[C,T]=u.pop(),b=T+1;if(b<C.childNodes.length){u.push([C,b]),i=C.childNodes[b];break}}if(u.length===0)return null}}}dump(M){if(this.nodeName==="#text"){M.push((0,n.encodeToXmlString)(this.nodeValue));return}if(M.push(`<${this.nodeName}`),this.attributes)for(const I of this.attributes)M.push(` ${I.name}="${(0,n.encodeToXmlString)(I.value)}"`);if(this.hasChildNodes()){M.push(">");for(const I of this.childNodes)I.dump(M);M.push(`</${this.nodeName}>`)}else this.nodeValue?M.push(`>${(0,n.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`):M.push("/>")}}m.SimpleDOMNode=r;class z extends t{constructor({hasAttributes:M=!1,lowerCaseName:I=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=S.NoError,this._hasAttributes=M,this._lowerCaseName=I}parseFromString(M){if(this._currentFragment=[],this._stack=[],this._errorCode=S.NoError,this.parseXml(M),this._errorCode!==S.NoError)return;const[I]=this._currentFragment;if(I)return{documentElement:I}}onText(M){if(e(M))return;const I=new r("#text",M);this._currentFragment.push(I)}onCdata(M){const I=new r("#text",M);this._currentFragment.push(I)}onBeginElement(M,I,d){this._lowerCaseName&&(M=M.toLowerCase());const u=new r(M);u.childNodes=[],this._hasAttributes&&(u.attributes=I),this._currentFragment.push(u),!d&&(this._stack.push(this._currentFragment),this._currentFragment=u.childNodes)}onEndElement(M){this._currentFragment=this._stack.pop()||[];const I=this._currentFragment.at(-1);if(!I)return null;for(const d of I.childNodes)d.parentNode=I;return I}onError(M){this._errorCode=M}}m.SimpleXMLParser=z},(xe,m,Q)=>{var d,Hs,i,es,C,Xs,b,zs;Object.defineProperty(m,"__esModule",{value:!0}),m.StructTreeRoot=m.StructTreePage=void 0;var n=Q(2),S=Q(4),N=Q(67),e=Q(73);const t=40,r={PAGE_CONTENT:1,STREAM_CONTENT:2,OBJECT:3,ANNOTATION:4,ELEMENT:5},B=class B{constructor(k,_){Me(this,d);this.dict=k,this.ref=_ instanceof S.Ref?_:null,this.roleMap=new Map,this.structParentIds=null}init(){this.readRoleMap()}addAnnotationIdToPage(k,_){Ne(this,d,Hs).call(this,k,_,r.ANNOTATION)}readRoleMap(){const k=this.dict.get("RoleMap");k instanceof S.Dict&&k.forEach((_,l)=>{l instanceof S.Name&&this.roleMap.set(_,l.name)})}static async canCreateStructureTree({catalogRef:k,pdfManager:_,newAnnotationsByPage:l}){var a;if(!(k instanceof S.Ref))return(0,n.warn)("Cannot save the struct tree: no catalog reference."),!1;let x=0,X=!0;for(const[g,P]of l){const{ref:G}=await _.getPage(g);if(!(G instanceof S.Ref)){(0,n.warn)(`Cannot save the struct tree: page ${g} has no ref.`),X=!0;break}for(const D of P)(a=D.accessibilityData)!=null&&a.type&&(D.parentTreeId=x++,X=!1)}if(X){for(const g of l.values())for(const P of g)delete P.parentTreeId;return!1}return!0}static async createStructureTree({newAnnotationsByPage:k,xref:_,catalogRef:l,pdfManager:x,newRefs:X}){const a=x.catalog.cloneDict(),g=_.getNewTemporaryRef();a.set("StructTreeRoot",g);const P=[];await(0,e.writeObject)(l,a,P,_),X.push({ref:l,data:P.join("")});const G=new S.Dict(_);G.set("Type",S.Name.get("StructTreeRoot"));const D=_.getNewTemporaryRef();G.set("ParentTree",D);const w=[];G.set("K",w);const A=new S.Dict(_),v=[];A.set("Nums",v);const o=await Ne(this,i,es).call(this,{newAnnotationsByPage:k,structTreeRootRef:g,kids:w,nums:v,xref:_,pdfManager:x,newRefs:X,buffer:P});G.set("ParentTreeNextKey",o),P.length=0,await(0,e.writeObject)(D,A,P,_),X.push({ref:D,data:P.join("")}),P.length=0,await(0,e.writeObject)(g,G,P,_),X.push({ref:g,data:P.join("")})}async canUpdateStructTree({pdfManager:k,newAnnotationsByPage:_}){var P,G;if(!this.ref)return(0,n.warn)("Cannot update the struct tree: no root reference."),!1;let l=this.dict.get("ParentTreeNextKey");if(!Number.isInteger(l)||l<0)return(0,n.warn)("Cannot update the struct tree: invalid next key."),!1;const x=this.dict.get("ParentTree");if(!(x instanceof S.Dict))return(0,n.warn)("Cannot update the struct tree: ParentTree isn't a dict."),!1;const X=x.get("Nums");if(!Array.isArray(X))return(0,n.warn)("Cannot update the struct tree: nums isn't an array."),!1;const{numPages:a}=k.catalog;for(const D of _.keys()){const{pageDict:w,ref:A}=await k.getPage(D);if(!(A instanceof S.Ref))return(0,n.warn)(`Cannot save the struct tree: page ${D} has no ref.`),!1;const v=w.get("StructParents");if(!Number.isInteger(v)||v<0||v>=a)return(0,n.warn)(`Cannot save the struct tree: page ${D} has no id.`),!1}let g=!0;for(const[D,w]of _){const{pageDict:A}=await k.getPage(D);Ne(P=B,C,Xs).call(P,{elements:w,xref:this.dict.xref,pageDict:A,parentTree:x});for(const v of w)(G=v.accessibilityData)!=null&&G.type&&(v.parentTreeId=l++,g=!1)}if(g){for(const D of _.values())for(const w of D)delete w.parentTreeId,delete w.structTreeParent;return!1}return!0}async updateStructureTree({newAnnotationsByPage:k,pdfManager:_,newRefs:l}){var y;const x=this.dict.xref,X=this.dict.clone(),a=this.ref;let g=X.getRaw("ParentTree"),P;g instanceof S.Ref?P=x.fetch(g):(P=g,g=x.getNewTemporaryRef(),X.set("ParentTree",g)),P=P.clone();let G=P.getRaw("Nums"),D=null;G instanceof S.Ref&&(D=G,G=x.fetch(D)),G=G.slice(),D||P.set("Nums",G);let w=X.getRaw("K"),A=null;w instanceof S.Ref?(A=w,w=x.fetch(A)):(A=x.getNewTemporaryRef(),X.set("K",A)),w=Array.isArray(w)?w.slice():[w];const v=[],o=await Ne(y=B,i,es).call(y,{newAnnotationsByPage:k,structTreeRootRef:a,kids:w,nums:G,xref:x,pdfManager:_,newRefs:l,buffer:v});X.set("ParentTreeNextKey",o),v.length=0,await(0,e.writeObject)(A,w,v,x),l.push({ref:A,data:v.join("")}),D&&(v.length=0,await(0,e.writeObject)(D,G,v,x),l.push({ref:D,data:v.join("")})),v.length=0,await(0,e.writeObject)(g,P,v,x),l.push({ref:g,data:v.join("")}),v.length=0,await(0,e.writeObject)(a,X,v,x),l.push({ref:a,data:v.join("")})}};d=new WeakSet,Hs=function(k,_,l){if(!(k instanceof S.Ref)||_<0)return;this.structParentIds||(this.structParentIds=new S.RefSetCache);let x=this.structParentIds.get(k);x||(x=[],this.structParentIds.put(k,x)),x.push([_,l])},i=new WeakSet,es=async function({newAnnotationsByPage:k,structTreeRootRef:_,kids:l,nums:x,xref:X,pdfManager:a,newRefs:g,buffer:P}){const G=S.Name.get("OBJR");let D=-1/0;for(const[w,A]of k){const{ref:v}=await a.getPage(w);for(const{accessibilityData:{type:o,title:y,lang:c,alt:h,expanded:O,actualText:W},ref:R,parentTreeId:H,structTreeParent:ae}of A){D=Math.max(D,H);const q=X.getNewTemporaryRef(),ce=new S.Dict(X);ce.set("S",S.Name.get(o)),y&&ce.set("T",y),c&&ce.set("Lang",c),h&&ce.set("Alt",h),O&&ce.set("E",O),W&&ce.set("ActualText",W),ae?await Ne(this,b,zs).call(this,{structTreeParent:ae,tagDict:ce,newTagRef:q,fallbackRef:_,xref:X,newRefs:g,buffer:P}):ce.set("P",_);const ee=new S.Dict(X);ce.set("K",ee),ee.set("Type",G),ee.set("Pg",v),ee.set("Obj",R),P.length=0,await(0,e.writeObject)(q,ce,P,X),g.push({ref:q,data:P.join("")}),x.push(H,q),l.push(q)}}return D+1},C=new WeakSet,Xs=function({elements:k,xref:_,pageDict:l,parentTree:x}){const X=new Map;for(const D of k)if(D.structTreeParentId){const w=parseInt(D.structTreeParentId.split("_mc")[1],10);X.set(w,D)}const a=l.get("StructParents"),P=new N.NumberTree(x,_).get(a);if(!Array.isArray(P))return;const G=(D,w,A)=>{const v=X.get(D);if(v){const o=w.getRaw("P"),y=_.fetchIfRef(o);return o instanceof S.Ref&&y instanceof S.Dict&&(v.structTreeParent={ref:A,dict:w}),!0}return!1};for(const D of P){if(!(D instanceof S.Ref))continue;const w=_.fetch(D),A=w.get("K");if(Number.isInteger(A)){G(A,w,D);continue}if(Array.isArray(A)){for(let v of A)if(v=_.fetchIfRef(v),Number.isInteger(v)&&G(v,w,D))break}}},b=new WeakSet,zs=async function({structTreeParent:{ref:k,dict:_},tagDict:l,newTagRef:x,fallbackRef:X,xref:a,newRefs:g,buffer:P}){const G=_.getRaw("P");let D=a.fetchIfRef(G);l.set("P",G);let w=!1,A,v=D.getRaw("K");if(v instanceof S.Ref?A=a.fetch(v):(A=v,v=a.getNewTemporaryRef(),D=D.clone(),D.set("K",v),w=!0),Array.isArray(A)){const o=A.indexOf(k);if(o>=0)A=A.slice(),A.splice(o+1,0,x);else{(0,n.warn)("Cannot update the struct tree: parent kid not found."),l.set("P",X);return}}else A instanceof S.Dict&&(A=[v,x],v=a.getNewTemporaryRef(),D.set("K",v),w=!0);P.length=0,await(0,e.writeObject)(v,A,P,a),g.push({ref:v,data:P.join("")}),w&&(P.length=0,await(0,e.writeObject)(G,D,P,a),g.push({ref:G,data:P.join("")}))},Me(B,i),Me(B,C),Me(B,b);let z=B;m.StructTreeRoot=z;class j{constructor(k,_){this.tree=k,this.dict=_,this.kids=[],this.parseKids()}get role(){const k=this.dict.get("S"),_=k instanceof S.Name?k.name:"",{root:l}=this.tree;return l.roleMap.has(_)?l.roleMap.get(_):_}parseKids(){let k=null;const _=this.dict.getRaw("Pg");_ instanceof S.Ref&&(k=_.toString());const l=this.dict.get("K");if(Array.isArray(l))for(const x of l){const X=this.parseKid(k,x);X&&this.kids.push(X)}else{const x=this.parseKid(k,l);x&&this.kids.push(x)}}parseKid(k,_){if(Number.isInteger(_))return this.tree.pageDict.objId!==k?null:new M({type:r.PAGE_CONTENT,mcid:_,pageObjId:k});let l=null;if(_ instanceof S.Ref?l=this.dict.xref.fetch(_):_ instanceof S.Dict&&(l=_),!l)return null;const x=l.getRaw("Pg");x instanceof S.Ref&&(k=x.toString());const X=l.get("Type")instanceof S.Name?l.get("Type").name:null;if(X==="MCR"){if(this.tree.pageDict.objId!==k)return null;const a=l.getRaw("Stm");return new M({type:r.STREAM_CONTENT,refObjId:a instanceof S.Ref?a.toString():null,pageObjId:k,mcid:l.get("MCID")})}if(X==="OBJR"){if(this.tree.pageDict.objId!==k)return null;const a=l.getRaw("Obj");return new M({type:r.OBJECT,refObjId:a instanceof S.Ref?a.toString():null,pageObjId:k})}return new M({type:r.ELEMENT,dict:l})}}class M{constructor({type:k,dict:_=null,mcid:l=null,pageObjId:x=null,refObjId:X=null}){this.type=k,this.dict=_,this.mcid=l,this.pageObjId=x,this.refObjId=X,this.parentNode=null}}class I{constructor(k,_){this.root=k,this.rootDict=k?k.dict:null,this.pageDict=_,this.nodes=[]}parse(k){var g,P;if(!this.root||!this.rootDict)return;const _=this.rootDict.get("ParentTree");if(!_)return;const l=this.pageDict.get("StructParents"),x=k instanceof S.Ref&&((g=this.root.structParentIds)==null?void 0:g.get(k));if(!Number.isInteger(l)&&!x)return;const X=new Map,a=new N.NumberTree(_,this.rootDict.xref);if(Number.isInteger(l)){const G=a.get(l);if(Array.isArray(G))for(const D of G)D instanceof S.Ref&&this.addNode(this.rootDict.xref.fetch(D),X)}if(x)for(const[G,D]of x){const w=a.get(G);if(w){const A=this.addNode(this.rootDict.xref.fetchIfRef(w),X);((P=A==null?void 0:A.kids)==null?void 0:P.length)===1&&A.kids[0].type===r.OBJECT&&(A.kids[0].type=D)}}}addNode(k,_,l=0){if(l>t)return(0,n.warn)("StructTree MAX_DEPTH reached."),null;if(_.has(k))return _.get(k);const x=new j(this,k);_.set(k,x);const X=k.get("P");if(!X||(0,S.isName)(X.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(k,x)||_.delete(k),x;const a=this.addNode(X,_,l+1);if(!a)return x;let g=!1;for(const P of a.kids)P.type===r.ELEMENT&&P.dict===k&&(P.parentNode=x,g=!0);return g||_.delete(k),x}addTopLevelNode(k,_){const l=this.rootDict.get("K");if(!l)return!1;if(l instanceof S.Dict)return l.objId!==k.objId?!1:(this.nodes[0]=_,!0);if(!Array.isArray(l))return!0;let x=!1;for(let X=0;X<l.length;X++){const a=l[X];(a==null?void 0:a.toString())===k.objId&&(this.nodes[X]=_,x=!0)}return x}get serializable(){function k(l,x,X=0){if(X>t){(0,n.warn)("StructTree too deep to be fully serialized.");return}const a=Object.create(null);a.role=l.role,a.children=[],x.children.push(a);const g=l.dict.get("Alt");typeof g=="string"&&(a.alt=(0,n.stringToPDFString)(g));const P=l.dict.get("Lang");typeof P=="string"&&(a.lang=(0,n.stringToPDFString)(P));for(const G of l.kids){const D=G.type===r.ELEMENT?G.parentNode:null;if(D){k(D,a,X+1);continue}else G.type===r.PAGE_CONTENT||G.type===r.STREAM_CONTENT?a.children.push({type:"content",id:`p${G.pageObjId}_mc${G.mcid}`}):G.type===r.OBJECT?a.children.push({type:"object",id:G.refObjId}):G.type===r.ANNOTATION&&a.children.push({type:"annotation",id:`${n.AnnotationPrefix}${G.refObjId}`})}}const _=Object.create(null);_.children=[],_.role="Root";for(const l of this.nodes)l&&k(l,_);return _}}m.StructTreePage=I},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.incrementalUpdate=L,m.writeDict=j,m.writeObject=z;var n=Q(2),S=Q(4),N=Q(3),e=Q(71),t=Q(5),r=Q(74);async function z(B,V,k,{encrypt:_=null}){const l=_==null?void 0:_.createCipherTransform(B.num,B.gen);k.push(`${B.num} ${B.gen} obj
`),V instanceof S.Dict?await j(V,k,l):V instanceof t.BaseStream?await M(V,k,l):Array.isArray(V)&&await I(V,k,l),k.push(`
endobj
`)}async function j(B,V,k){V.push("<<");for(const _ of B.getKeys())V.push(` /${(0,N.escapePDFName)(_)} `),await d(B.getRaw(_),V,k);V.push(">>")}async function M(B,V,k){let _=B.getString();const{dict:l}=B,[x,X]=await Promise.all([l.getAsync("Filter"),l.getAsync("DecodeParms")]),a=Array.isArray(x)?await l.xref.fetchIfRefAsync(x[0]):x,g=(0,S.isName)(a,"FlateDecode"),P=256;if(typeof CompressionStream<"u"&&(_.length>=P||g))try{const G=(0,n.stringToBytes)(_),D=new CompressionStream("deflate"),w=D.writable.getWriter();w.write(G),w.close();const A=await new Response(D.readable).arrayBuffer();_=(0,n.bytesToString)(new Uint8Array(A));let v,o;x?g||(v=Array.isArray(x)?[S.Name.get("FlateDecode"),...x]:[S.Name.get("FlateDecode"),x],X&&(o=Array.isArray(X)?[null,...X]:[null,X])):v=S.Name.get("FlateDecode"),v&&l.set("Filter",v),o&&l.set("DecodeParms",o)}catch(G){(0,n.info)(`writeStream - cannot compress data: "${G}".`)}k&&(_=k.encryptString(_)),l.set("Length",_.length),await j(l,V,k),V.push(` stream
`,_,`
endstream`)}async function I(B,V,k){V.push("[");let _=!0;for(const l of B)_?_=!1:V.push(" "),await d(l,V,k);V.push("]")}async function d(B,V,k){B instanceof S.Name?V.push(`/${(0,N.escapePDFName)(B.name)}`):B instanceof S.Ref?V.push(`${B.num} ${B.gen} R`):Array.isArray(B)?await I(B,V,k):typeof B=="string"?(k&&(B=k.encryptString(B)),V.push(`(${(0,N.escapeString)(B)})`)):typeof B=="number"?V.push((0,N.numberToString)(B)):typeof B=="boolean"?V.push(B.toString()):B instanceof S.Dict?await j(B,V,k):B instanceof t.BaseStream?await M(B,V,k):B===null?V.push("null"):(0,n.warn)(`Unhandled value in writer: ${typeof B}, please file a bug.`)}function u(B,V,k,_){for(let l=V+k-1;l>k-1;l--)_[l]=B&255,B>>=8;return k+V}function i(B,V,k){for(let _=0,l=B.length;_<l;_++)k[V+_]=B.charCodeAt(_)&255}function F(B,V){const k=Math.floor(Date.now()/1e3),_=V.filename||"",l=[k.toString(),_,B.toString()];let x=l.reduce((g,P)=>g+P.length,0);for(const g of Object.values(V.info))l.push(g),x+=g.length;const X=new Uint8Array(x);let a=0;for(const g of l)i(g,a,X),a+=g.length;return(0,n.bytesToString)((0,r.calculateMD5)(X))}function C(B,V){const k=new e.SimpleXMLParser({hasAttributes:!0}).parseFromString(B);for(const{xfa:l}of V){if(!l)continue;const{path:x,value:X}=l;if(!x)continue;const a=(0,N.parseXFAPath)(x);let g=k.documentElement.searchNode(a,0);!g&&a.length>1&&(g=k.documentElement.searchNode([a.at(-1)],0)),g?g.childNodes=Array.isArray(X)?X.map(P=>new e.SimpleDOMNode("value",P)):[new e.SimpleDOMNode("#text",X)]:(0,n.warn)(`Node not found for path: ${x}`)}const _=[];return k.documentElement.dump(_),_.join("")}async function T({xref:B,acroForm:V,acroFormRef:k,hasXfa:_,hasXfaDatasetsEntry:l,xfaDatasetsRef:x,needAppearances:X,newRefs:a}){if(_&&!l&&!x&&(0,n.warn)("XFA - Cannot save it"),!X&&(!_||!x||l))return;const g=V.clone();if(_&&!l){const G=V.get("XFA").slice();G.splice(2,0,"datasets"),G.splice(3,0,x),g.set("XFA",G)}X&&g.set("NeedAppearances",!0);const P=[];await z(k,g,P,B),a.push({ref:k,data:P.join("")})}function b({xfaData:B,xfaDatasetsRef:V,newRefs:k,xref:_}){if(B===null){const X=_.fetchIfRef(V);B=C(X.getString(),k)}const l=_.encrypt;l&&(B=l.createCipherTransform(V.num,V.gen).encryptString(B));const x=`${V.num} ${V.gen} obj
<< /Type /EmbeddedFile /Length ${B.length}>>
stream
`+B+`
endstream
endobj
`;k.push({ref:V,data:x})}async function L({originalData:B,xrefInfo:V,newRefs:k,xref:_=null,hasXfa:l=!1,xfaDatasetsRef:x=null,hasXfaDatasetsEntry:X=!1,needAppearances:a,acroFormRef:g=null,acroForm:P=null,xfaData:G=null}){await T({xref:_,acroForm:P,acroFormRef:g,hasXfa:l,hasXfaDatasetsEntry:X,xfaDatasetsRef:x,needAppearances:a,newRefs:k}),l&&b({xfaData:G,xfaDatasetsRef:x,newRefs:k,xref:_});const D=new S.Dict(null),w=V.newRef;let A,v;const o=B.at(-1);o===10||o===13?(A=[],v=B.length):(A=[`
`],v=B.length+1),D.set("Size",w.num+1),D.set("Prev",V.startXRef),D.set("Type",S.Name.get("XRef")),V.rootRef!==null&&D.set("Root",V.rootRef),V.infoRef!==null&&D.set("Info",V.infoRef),V.encryptRef!==null&&D.set("Encrypt",V.encryptRef),k.push({ref:w,data:""}),k=k.sort((se,$)=>se.ref.num-$.ref.num);const y=[[0,1,65535]],c=[0,1];let h=0;for(const{ref:se,data:$}of k)h=Math.max(h,v),y.push([1,v,Math.min(se.gen,65535)]),v+=$.length,c.push(se.num,1),A.push($);if(D.set("Index",c),Array.isArray(V.fileIds)&&V.fileIds.length>0){const se=F(v,V);D.set("ID",[V.fileIds[0],se])}const W=[1,Math.ceil(Math.log2(h)/8),2],H=(W[0]+W[1]+W[2])*y.length;D.set("W",W),D.set("Length",H),A.push(`${w.num} ${w.gen} obj
`),await j(D,A,null),A.push(` stream
`);const ae=A.reduce((se,$)=>se+$.length,0),q=`
endstream
endobj
startxref
${v}
%%EOF
`,ce=new Uint8Array(B.length+ae+H+q.length);ce.set(B);let ee=B.length;for(const se of A)i(se,ee,ce),ee+=se.length;for(const[se,$,U]of y)ee=u(se,W[0],ee,ce),ee=u($,W[1],ee,ce),ee=u(U,W[2],ee,ce);return i(q,ee,ce),ce}},(xe,m,Q)=>{var L,B,Ws,k,ts,l,Gs,X,Yn,g,ns;Object.defineProperty(m,"__esModule",{value:!0}),m.calculateSHA256=m.calculateMD5=m.PDF20=m.PDF17=m.CipherTransformFactory=m.ARCFourCipher=m.AES256Cipher=m.AES128Cipher=void 0,m.calculateSHA384=M,m.calculateSHA512=void 0;var n=Q(2),S=Q(4),N=Q(75);class e{constructor(w){this.a=0,this.b=0;const A=new Uint8Array(256),v=w.length;for(let o=0;o<256;++o)A[o]=o;for(let o=0,y=0;o<256;++o){const c=A[o];y=y+c+w[o%v]&255,A[o]=A[y],A[y]=c}this.s=A}encryptBlock(w){let A=this.a,v=this.b;const o=this.s,y=w.length,c=new Uint8Array(y);for(let h=0;h<y;++h){A=A+1&255;const O=o[A];v=v+O&255;const W=o[v];o[A]=W,o[v]=O,c[h]=w[h]^o[O+W&255]}return this.a=A,this.b=v,c}decryptBlock(w){return this.encryptBlock(w)}encrypt(w){return this.encryptBlock(w)}}m.ARCFourCipher=e;const t=function(){const w=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),A=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function v(o,y,c){let h=1732584193,O=-271733879,W=-1732584194,R=271733878;const H=c+72&-64,ae=new Uint8Array(H);let q,ce;for(q=0;q<c;++q)ae[q]=o[y++];ae[q++]=128;const ee=H-8;for(;q<ee;)ae[q++]=0;ae[q++]=c<<3&255,ae[q++]=c>>5&255,ae[q++]=c>>13&255,ae[q++]=c>>21&255,ae[q++]=c>>>29&255,ae[q++]=0,ae[q++]=0,ae[q++]=0;const se=new Int32Array(16);for(q=0;q<H;){for(ce=0;ce<16;++ce,q+=4)se[ce]=ae[q]|ae[q+1]<<8|ae[q+2]<<16|ae[q+3]<<24;let $=h,U=O,K=W,J=R,Y,ie;for(ce=0;ce<64;++ce){ce<16?(Y=U&K|~U&J,ie=ce):ce<32?(Y=J&U|~J&K,ie=5*ce+1&15):ce<48?(Y=U^K^J,ie=3*ce+5&15):(Y=K^(U|~J),ie=7*ce&15);const re=J,Z=$+Y+A[ce]+se[ie]|0,he=w[ce];J=K,K=U,U=U+(Z<<he|Z>>>32-he)|0,$=re}h=h+$|0,O=O+U|0,W=W+K|0,R=R+J|0}return new Uint8Array([h&255,h>>8&255,h>>16&255,h>>>24&255,O&255,O>>8&255,O>>16&255,O>>>24&255,W&255,W>>8&255,W>>16&255,W>>>24&255,R&255,R>>8&255,R>>16&255,R>>>24&255])}return v}();m.calculateMD5=t;class r{constructor(w,A){this.high=w|0,this.low=A|0}and(w){this.high&=w.high,this.low&=w.low}xor(w){this.high^=w.high,this.low^=w.low}or(w){this.high|=w.high,this.low|=w.low}shiftRight(w){w>=32?(this.low=this.high>>>w-32|0,this.high=0):(this.low=this.low>>>w|this.high<<32-w,this.high=this.high>>>w|0)}shiftLeft(w){w>=32?(this.high=this.low<<w-32,this.low=0):(this.high=this.high<<w|this.low>>>32-w,this.low<<=w)}rotateRight(w){let A,v;w&32?(v=this.low,A=this.high):(A=this.low,v=this.high),w&=31,this.low=A>>>w|v<<32-w,this.high=v>>>w|A<<32-w}not(){this.high=~this.high,this.low=~this.low}add(w){const A=(this.low>>>0)+(w.low>>>0);let v=(this.high>>>0)+(w.high>>>0);A>4294967295&&(v+=1),this.low=A|0,this.high=v|0}copyTo(w,A){w[A]=this.high>>>24&255,w[A+1]=this.high>>16&255,w[A+2]=this.high>>8&255,w[A+3]=this.high&255,w[A+4]=this.low>>>24&255,w[A+5]=this.low>>16&255,w[A+6]=this.low>>8&255,w[A+7]=this.low&255}assign(w){this.high=w.high,this.low=w.low}}const z=function(){function w(R,H){return R>>>H|R<<32-H}function A(R,H,ae){return R&H^~R&ae}function v(R,H,ae){return R&H^R&ae^H&ae}function o(R){return w(R,2)^w(R,13)^w(R,22)}function y(R){return w(R,6)^w(R,11)^w(R,25)}function c(R){return w(R,7)^w(R,18)^R>>>3}function h(R){return w(R,17)^w(R,19)^R>>>10}const O=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function W(R,H,ae){let q=1779033703,ce=3144134277,ee=1013904242,se=2773480762,$=1359893119,U=2600822924,K=528734635,J=1541459225;const Y=Math.ceil((ae+9)/64)*64,ie=new Uint8Array(Y);let re,Z;for(re=0;re<ae;++re)ie[re]=R[H++];ie[re++]=128;const he=Y-8;for(;re<he;)ie[re++]=0;ie[re++]=0,ie[re++]=0,ie[re++]=0,ie[re++]=ae>>>29&255,ie[re++]=ae>>21&255,ie[re++]=ae>>13&255,ie[re++]=ae>>5&255,ie[re++]=ae<<3&255;const le=new Uint32Array(64);for(re=0;re<Y;){for(Z=0;Z<16;++Z)le[Z]=ie[re]<<24|ie[re+1]<<16|ie[re+2]<<8|ie[re+3],re+=4;for(Z=16;Z<64;++Z)le[Z]=h(le[Z-2])+le[Z-7]+c(le[Z-15])+le[Z-16]|0;let te=q,ue=ce,ge=ee,ye=se,Ee=$,Oe=U,ve=K,Se=J,Ae,ke;for(Z=0;Z<64;++Z)Ae=Se+y(Ee)+A(Ee,Oe,ve)+O[Z]+le[Z],ke=o(te)+v(te,ue,ge),Se=ve,ve=Oe,Oe=Ee,Ee=ye+Ae|0,ye=ge,ge=ue,ue=te,te=Ae+ke|0;q=q+te|0,ce=ce+ue|0,ee=ee+ge|0,se=se+ye|0,$=$+Ee|0,U=U+Oe|0,K=K+ve|0,J=J+Se|0}return new Uint8Array([q>>24&255,q>>16&255,q>>8&255,q&255,ce>>24&255,ce>>16&255,ce>>8&255,ce&255,ee>>24&255,ee>>16&255,ee>>8&255,ee&255,se>>24&255,se>>16&255,se>>8&255,se&255,$>>24&255,$>>16&255,$>>8&255,$&255,U>>24&255,U>>16&255,U>>8&255,U&255,K>>24&255,K>>16&255,K>>8&255,K&255,J>>24&255,J>>16&255,J>>8&255,J&255])}return W}();m.calculateSHA256=z;const j=function(){function w(W,R,H,ae,q){W.assign(R),W.and(H),q.assign(R),q.not(),q.and(ae),W.xor(q)}function A(W,R,H,ae,q){W.assign(R),W.and(H),q.assign(R),q.and(ae),W.xor(q),q.assign(H),q.and(ae),W.xor(q)}function v(W,R,H){W.assign(R),W.rotateRight(28),H.assign(R),H.rotateRight(34),W.xor(H),H.assign(R),H.rotateRight(39),W.xor(H)}function o(W,R,H){W.assign(R),W.rotateRight(14),H.assign(R),H.rotateRight(18),W.xor(H),H.assign(R),H.rotateRight(41),W.xor(H)}function y(W,R,H){W.assign(R),W.rotateRight(1),H.assign(R),H.rotateRight(8),W.xor(H),H.assign(R),H.shiftRight(7),W.xor(H)}function c(W,R,H){W.assign(R),W.rotateRight(19),H.assign(R),H.rotateRight(61),W.xor(H),H.assign(R),H.shiftRight(6),W.xor(H)}const h=[new r(1116352408,3609767458),new r(1899447441,602891725),new r(3049323471,3964484399),new r(3921009573,2173295548),new r(961987163,4081628472),new r(1508970993,3053834265),new r(2453635748,2937671579),new r(2870763221,3664609560),new r(3624381080,2734883394),new r(310598401,1164996542),new r(607225278,1323610764),new r(1426881987,3590304994),new r(1925078388,4068182383),new r(2162078206,991336113),new r(2614888103,633803317),new r(3248222580,3479774868),new r(3835390401,2666613458),new r(4022224774,944711139),new r(264347078,2341262773),new r(604807628,2007800933),new r(770255983,1495990901),new r(1249150122,1856431235),new r(1555081692,3175218132),new r(1996064986,2198950837),new r(2554220882,3999719339),new r(2821834349,766784016),new r(2952996808,2566594879),new r(3210313671,3203337956),new r(3336571891,1034457026),new r(3584528711,2466948901),new r(113926993,3758326383),new r(338241895,168717936),new r(666307205,1188179964),new r(773529912,1546045734),new r(1294757372,1522805485),new r(1396182291,2643833823),new r(1695183700,2343527390),new r(1986661051,1014477480),new r(2177026350,1206759142),new r(2456956037,344077627),new r(2730485921,1290863460),new r(2820302411,3158454273),new r(3259730800,3505952657),new r(3345764771,106217008),new r(3516065817,3606008344),new r(3600352804,1432725776),new r(4094571909,1467031594),new r(275423344,851169720),new r(430227734,3100823752),new r(506948616,1363258195),new r(659060556,3750685593),new r(883997877,3785050280),new r(958139571,3318307427),new r(1322822218,3812723403),new r(1537002063,2003034995),new r(1747873779,3602036899),new r(1955562222,1575990012),new r(2024104815,1125592928),new r(2227730452,2716904306),new r(2361852424,442776044),new r(2428436474,593698344),new r(2756734187,3733110249),new r(3204031479,2999351573),new r(3329325298,3815920427),new r(3391569614,3928383900),new r(3515267271,566280711),new r(3940187606,3454069534),new r(4118630271,4000239992),new r(116418474,1914138554),new r(174292421,2731055270),new r(289380356,3203993006),new r(460393269,320620315),new r(685471733,587496836),new r(852142971,1086792851),new r(1017036298,365543100),new r(1126000580,2618297676),new r(1288033470,3409855158),new r(1501505948,4234509866),new r(1607167915,987167468),new r(1816402316,1246189591)];function O(W,R,H,ae=!1){let q,ce,ee,se,$,U,K,J;ae?(q=new r(3418070365,3238371032),ce=new r(1654270250,914150663),ee=new r(2438529370,812702999),se=new r(355462360,4144912697),$=new r(1731405415,4290775857),U=new r(2394180231,1750603025),K=new r(3675008525,1694076839),J=new r(1203062813,3204075428)):(q=new r(1779033703,4089235720),ce=new r(3144134277,2227873595),ee=new r(1013904242,4271175723),se=new r(2773480762,1595750129),$=new r(1359893119,2917565137),U=new r(2600822924,725511199),K=new r(528734635,4215389547),J=new r(1541459225,327033209));const Y=Math.ceil((H+17)/128)*128,ie=new Uint8Array(Y);let re,Z;for(re=0;re<H;++re)ie[re]=W[R++];ie[re++]=128;const he=Y-16;for(;re<he;)ie[re++]=0;ie[re++]=0,ie[re++]=0,ie[re++]=0,ie[re++]=0,ie[re++]=0,ie[re++]=0,ie[re++]=0,ie[re++]=0,ie[re++]=0,ie[re++]=0,ie[re++]=0,ie[re++]=H>>>29&255,ie[re++]=H>>21&255,ie[re++]=H>>13&255,ie[re++]=H>>5&255,ie[re++]=H<<3&255;const le=new Array(80);for(re=0;re<80;re++)le[re]=new r(0,0);let te=new r(0,0),ue=new r(0,0),ge=new r(0,0),ye=new r(0,0),Ee=new r(0,0),Oe=new r(0,0),ve=new r(0,0),Se=new r(0,0);const Ae=new r(0,0),ke=new r(0,0),_e=new r(0,0),je=new r(0,0);let Re;for(re=0;re<Y;){for(Z=0;Z<16;++Z)le[Z].high=ie[re]<<24|ie[re+1]<<16|ie[re+2]<<8|ie[re+3],le[Z].low=ie[re+4]<<24|ie[re+5]<<16|ie[re+6]<<8|ie[re+7],re+=8;for(Z=16;Z<80;++Z)Re=le[Z],c(Re,le[Z-2],je),Re.add(le[Z-7]),y(_e,le[Z-15],je),Re.add(_e),Re.add(le[Z-16]);for(te.assign(q),ue.assign(ce),ge.assign(ee),ye.assign(se),Ee.assign($),Oe.assign(U),ve.assign(K),Se.assign(J),Z=0;Z<80;++Z)Ae.assign(Se),o(_e,Ee,je),Ae.add(_e),w(_e,Ee,Oe,ve,je),Ae.add(_e),Ae.add(h[Z]),Ae.add(le[Z]),v(ke,te,je),A(_e,te,ue,ge,je),ke.add(_e),Re=Se,Se=ve,ve=Oe,Oe=Ee,ye.add(Ae),Ee=ye,ye=ge,ge=ue,ue=te,Re.assign(Ae),Re.add(ke),te=Re;q.add(te),ce.add(ue),ee.add(ge),se.add(ye),$.add(Ee),U.add(Oe),K.add(ve),J.add(Se)}let be;return ae?(be=new Uint8Array(48),q.copyTo(be,0),ce.copyTo(be,8),ee.copyTo(be,16),se.copyTo(be,24),$.copyTo(be,32),U.copyTo(be,40)):(be=new Uint8Array(64),q.copyTo(be,0),ce.copyTo(be,8),ee.copyTo(be,16),se.copyTo(be,24),$.copyTo(be,32),U.copyTo(be,40),K.copyTo(be,48),J.copyTo(be,56)),be}return O}();m.calculateSHA512=j;function M(D,w,A){return j(D,w,A,!0)}class I{decryptBlock(w){return w}encrypt(w){return w}}class d{constructor(){this.constructor===d&&(0,n.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let w=0;w<256;w++)this._mixCol[w]=w<128?w<<1:w<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(w){(0,n.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(w,A){let v,o,y;const c=new Uint8Array(16);c.set(w);for(let h=0,O=this._keySize;h<16;++h,++O)c[h]^=A[O];for(let h=this._cyclesOfRepetition-1;h>=1;--h){v=c[13],c[13]=c[9],c[9]=c[5],c[5]=c[1],c[1]=v,v=c[14],o=c[10],c[14]=c[6],c[10]=c[2],c[6]=v,c[2]=o,v=c[15],o=c[11],y=c[7],c[15]=c[3],c[11]=v,c[7]=o,c[3]=y;for(let O=0;O<16;++O)c[O]=this._inv_s[c[O]];for(let O=0,W=h*16;O<16;++O,++W)c[O]^=A[W];for(let O=0;O<16;O+=4){const W=this._mix[c[O]],R=this._mix[c[O+1]],H=this._mix[c[O+2]],ae=this._mix[c[O+3]];v=W^R>>>8^R<<24^H>>>16^H<<16^ae>>>24^ae<<8,c[O]=v>>>24&255,c[O+1]=v>>16&255,c[O+2]=v>>8&255,c[O+3]=v&255}}v=c[13],c[13]=c[9],c[9]=c[5],c[5]=c[1],c[1]=v,v=c[14],o=c[10],c[14]=c[6],c[10]=c[2],c[6]=v,c[2]=o,v=c[15],o=c[11],y=c[7],c[15]=c[3],c[11]=v,c[7]=o,c[3]=y;for(let h=0;h<16;++h)c[h]=this._inv_s[c[h]],c[h]^=A[h];return c}_encrypt(w,A){const v=this._s;let o,y,c;const h=new Uint8Array(16);h.set(w);for(let O=0;O<16;++O)h[O]^=A[O];for(let O=1;O<this._cyclesOfRepetition;O++){for(let W=0;W<16;++W)h[W]=v[h[W]];c=h[1],h[1]=h[5],h[5]=h[9],h[9]=h[13],h[13]=c,c=h[2],y=h[6],h[2]=h[10],h[6]=h[14],h[10]=c,h[14]=y,c=h[3],y=h[7],o=h[11],h[3]=h[15],h[7]=c,h[11]=y,h[15]=o;for(let W=0;W<16;W+=4){const R=h[W+0],H=h[W+1],ae=h[W+2],q=h[W+3];o=R^H^ae^q,h[W+0]^=o^this._mixCol[R^H],h[W+1]^=o^this._mixCol[H^ae],h[W+2]^=o^this._mixCol[ae^q],h[W+3]^=o^this._mixCol[q^R]}for(let W=0,R=O*16;W<16;++W,++R)h[W]^=A[R]}for(let O=0;O<16;++O)h[O]=v[h[O]];c=h[1],h[1]=h[5],h[5]=h[9],h[9]=h[13],h[13]=c,c=h[2],y=h[6],h[2]=h[10],h[6]=h[14],h[10]=c,h[14]=y,c=h[3],y=h[7],o=h[11],h[3]=h[15],h[7]=c,h[11]=y,h[15]=o;for(let O=0,W=this._keySize;O<16;++O,++W)h[O]^=A[W];return h}_decryptBlock2(w,A){const v=w.length;let o=this.buffer,y=this.bufferPosition;const c=[];let h=this.iv;for(let R=0;R<v;++R){if(o[y]=w[R],++y,y<16)continue;const H=this._decrypt(o,this._key);for(let ae=0;ae<16;++ae)H[ae]^=h[ae];h=o,c.push(H),o=new Uint8Array(16),y=0}if(this.buffer=o,this.bufferLength=y,this.iv=h,c.length===0)return new Uint8Array(0);let O=16*c.length;if(A){const R=c.at(-1);let H=R[15];if(H<=16){for(let ae=15,q=16-H;ae>=q;--ae)if(R[ae]!==H){H=0;break}O-=H,c[c.length-1]=R.subarray(0,16-H)}}const W=new Uint8Array(O);for(let R=0,H=0,ae=c.length;R<ae;++R,H+=16)W.set(c[R],H);return W}decryptBlock(w,A,v=null){const o=w.length,y=this.buffer;let c=this.bufferPosition;if(v)this.iv=v;else{for(let h=0;c<16&&h<o;++h,++c)y[c]=w[h];if(c<16)return this.bufferLength=c,new Uint8Array(0);this.iv=y,w=w.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(w,A)}encrypt(w,A){const v=w.length;let o=this.buffer,y=this.bufferPosition;const c=[];A||(A=new Uint8Array(16));for(let W=0;W<v;++W){if(o[y]=w[W],++y,y<16)continue;for(let H=0;H<16;++H)o[H]^=A[H];const R=this._encrypt(o,this._key);A=R,c.push(R),o=new Uint8Array(16),y=0}if(this.buffer=o,this.bufferLength=y,this.iv=A,c.length===0)return new Uint8Array(0);const h=16*c.length,O=new Uint8Array(h);for(let W=0,R=0,H=c.length;W<H;++W,R+=16)O.set(c[W],R);return O}}class u extends d{constructor(w){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(w)}_expandKey(w){const v=this._s,o=this._rcon,y=new Uint8Array(176);y.set(w);for(let c=16,h=1;c<176;++h){let O=y[c-3],W=y[c-2],R=y[c-1],H=y[c-4];O=v[O],W=v[W],R=v[R],H=v[H],O^=o[h];for(let ae=0;ae<4;++ae)y[c]=O^=y[c-16],c++,y[c]=W^=y[c-16],c++,y[c]=R^=y[c-16],c++,y[c]=H^=y[c-16],c++}return y}}m.AES128Cipher=u;class i extends d{constructor(w){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(w)}_expandKey(w){const v=this._s,o=new Uint8Array(240);o.set(w);let y=1,c,h,O,W;for(let R=32,H=1;R<240;++H){R%32===16?(c=v[c],h=v[h],O=v[O],W=v[W]):R%32===0&&(c=o[R-3],h=o[R-2],O=o[R-1],W=o[R-4],c=v[c],h=v[h],O=v[O],W=v[W],c^=y,(y<<=1)>=256&&(y=(y^27)&255));for(let ae=0;ae<4;++ae)o[R]=c^=o[R-32],R++,o[R]=h^=o[R-32],R++,o[R]=O^=o[R-32],R++,o[R]=W^=o[R-32],R++}return o}}m.AES256Cipher=i;class F{checkOwnerPassword(w,A,v,o){const y=new Uint8Array(w.length+56);y.set(w,0),y.set(A,w.length),y.set(v,w.length+A.length);const c=z(y,0,y.length);return(0,n.isArrayEqual)(c,o)}checkUserPassword(w,A,v){const o=new Uint8Array(w.length+8);o.set(w,0),o.set(A,w.length);const y=z(o,0,o.length);return(0,n.isArrayEqual)(y,v)}getOwnerKey(w,A,v,o){const y=new Uint8Array(w.length+56);y.set(w,0),y.set(A,w.length),y.set(v,w.length+A.length);const c=z(y,0,y.length);return new i(c).decryptBlock(o,!1,new Uint8Array(16))}getUserKey(w,A,v){const o=new Uint8Array(w.length+8);o.set(w,0),o.set(A,w.length);const y=z(o,0,o.length);return new i(y).decryptBlock(v,!1,new Uint8Array(16))}}m.PDF17=F;class C{_hash(w,A,v){let o=z(A,0,A.length).subarray(0,32),y=[0],c=0;for(;c<64||y.at(-1)>c-32;){const h=w.length+o.length+v.length,O=new Uint8Array(h);let W=0;O.set(w,W),W+=w.length,O.set(o,W),W+=o.length,O.set(v,W);const R=new Uint8Array(h*64);for(let q=0,ce=0;q<64;q++,ce+=h)R.set(O,ce);y=new u(o.subarray(0,16)).encrypt(R,o.subarray(16,32));const ae=y.slice(0,16).reduce((q,ce)=>q+ce,0)%3;ae===0?o=z(y,0,y.length):ae===1?o=M(y,0,y.length):ae===2&&(o=j(y,0,y.length)),c++}return o.subarray(0,32)}checkOwnerPassword(w,A,v,o){const y=new Uint8Array(w.length+56);y.set(w,0),y.set(A,w.length),y.set(v,w.length+A.length);const c=this._hash(w,y,v);return(0,n.isArrayEqual)(c,o)}checkUserPassword(w,A,v){const o=new Uint8Array(w.length+8);o.set(w,0),o.set(A,w.length);const y=this._hash(w,o,[]);return(0,n.isArrayEqual)(y,v)}getOwnerKey(w,A,v,o){const y=new Uint8Array(w.length+56);y.set(w,0),y.set(A,w.length),y.set(v,w.length+A.length);const c=this._hash(w,y,v);return new i(c).decryptBlock(o,!1,new Uint8Array(16))}getUserKey(w,A,v){const o=new Uint8Array(w.length+8);o.set(w,0),o.set(A,w.length);const y=this._hash(w,o,[]);return new i(y).decryptBlock(v,!1,new Uint8Array(16))}}m.PDF20=C;class T{constructor(w,A){this.StringCipherConstructor=w,this.StreamCipherConstructor=A}createStream(w,A){const v=new this.StreamCipherConstructor;return new N.DecryptStream(w,A,function(y,c){return v.decryptBlock(y,c)})}decryptString(w){const A=new this.StringCipherConstructor;let v=(0,n.stringToBytes)(w);return v=A.decryptBlock(v,!0),(0,n.bytesToString)(v)}encryptString(w){const A=new this.StringCipherConstructor;if(A instanceof d){const y=16-w.length%16;w+=String.fromCharCode(y).repeat(y);const c=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(c);else for(let W=0;W<16;W++)c[W]=Math.floor(256*Math.random());let h=(0,n.stringToBytes)(w);h=A.encrypt(h,c);const O=new Uint8Array(16+h.length);return O.set(c),O.set(h,16),(0,n.bytesToString)(O)}let v=(0,n.stringToBytes)(w);return v=A.encrypt(v),(0,n.bytesToString)(v)}}const G=class G{constructor(w,A,v){Me(this,B);Me(this,k);Me(this,l);Me(this,X);Me(this,g);const o=w.get("Filter");if(!(0,S.isName)(o,"Standard"))throw new n.FormatError("unknown encryption method");this.filterName=o.name,this.dict=w;const y=w.get("V");if(!Number.isInteger(y)||y!==1&&y!==2&&y!==4&&y!==5)throw new n.FormatError("unsupported encryption algorithm");this.algorithm=y;let c=w.get("Length");if(!c)if(y<=3)c=40;else{const $=w.get("CF"),U=w.get("StmF");if($ instanceof S.Dict&&U instanceof S.Name){$.suppressEncryption=!0;const K=$.get(U.name);c=(K==null?void 0:K.get("Length"))||128,c<40&&(c<<=3)}}if(!Number.isInteger(c)||c<40||c%8!==0)throw new n.FormatError("invalid key length");const h=(0,n.stringToBytes)(w.get("O")),O=(0,n.stringToBytes)(w.get("U")),W=h.subarray(0,32),R=O.subarray(0,32),H=w.get("P"),ae=w.get("R"),q=(y===4||y===5)&&w.get("EncryptMetadata")!==!1;this.encryptMetadata=q;const ce=(0,n.stringToBytes)(A);let ee;if(v){if(ae===6)try{v=(0,n.utf8StringToString)(v)}catch{(0,n.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}ee=(0,n.stringToBytes)(v)}let se;if(y!==5)se=Ne(this,k,ts).call(this,ce,ee,W,R,H,ae,c,q);else{const $=h.subarray(32,40),U=h.subarray(40,48),K=O.subarray(0,48),J=O.subarray(32,40),Y=O.subarray(40,48),ie=(0,n.stringToBytes)(w.get("OE")),re=(0,n.stringToBytes)(w.get("UE")),Z=(0,n.stringToBytes)(w.get("Perms"));se=Ne(this,B,Ws).call(this,ae,ee,W,$,U,K,R,J,Y,ie,re,Z)}if(!se&&!v)throw new n.PasswordException("No password given",n.PasswordResponses.NEED_PASSWORD);if(!se&&v){const $=Ne(this,l,Gs).call(this,ee,W,ae,c);se=Ne(this,k,ts).call(this,ce,$,W,R,H,ae,c,q)}if(!se)throw new n.PasswordException("Incorrect Password",n.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=se,y>=4){const $=w.get("CF");$ instanceof S.Dict&&($.suppressEncryption=!0),this.cf=$,this.stmf=w.get("StmF")||S.Name.get("Identity"),this.strf=w.get("StrF")||S.Name.get("Identity"),this.eff=w.get("EFF")||this.stmf}}createCipherTransform(w,A){if(this.algorithm===4||this.algorithm===5)return new T(Ne(this,g,ns).call(this,this.cf,this.strf,w,A,this.encryptionKey),Ne(this,g,ns).call(this,this.cf,this.stmf,w,A,this.encryptionKey));const v=Ne(this,X,Yn).call(this,w,A,this.encryptionKey,!1),o=function(){return new e(v)};return new T(o,o)}};L=new WeakMap,B=new WeakSet,Ws=function(w,A,v,o,y,c,h,O,W,R,H,ae){if(A){const ce=Math.min(127,A.length);A=A.subarray(0,ce)}else A=[];const q=w===6?new C:new F;return q.checkUserPassword(A,O,h)?q.getUserKey(A,W,H):A.length&&q.checkOwnerPassword(A,o,c,v)?q.getOwnerKey(A,y,c,R):null},k=new WeakSet,ts=function(w,A,v,o,y,c,h,O){const W=40+v.length+w.length,R=new Uint8Array(W);let H=0,ae,q;if(A)for(q=Math.min(32,A.length);H<q;++H)R[H]=A[H];for(ae=0;H<32;)R[H++]=pe(G,L)[ae++];for(ae=0,q=v.length;ae<q;++ae)R[H++]=v[ae];for(R[H++]=y&255,R[H++]=y>>8&255,R[H++]=y>>16&255,R[H++]=y>>>24&255,ae=0,q=w.length;ae<q;++ae)R[H++]=w[ae];c>=4&&!O&&(R[H++]=255,R[H++]=255,R[H++]=255,R[H++]=255);let ce=t(R,0,H);const ee=h>>3;if(c>=3)for(ae=0;ae<50;++ae)ce=t(ce,0,ee);const se=ce.subarray(0,ee);let $,U;if(c>=3){for(H=0;H<32;++H)R[H]=pe(G,L)[H];for(ae=0,q=w.length;ae<q;++ae)R[H++]=w[ae];$=new e(se),U=$.encryptBlock(t(R,0,H)),q=se.length;const K=new Uint8Array(q);for(ae=1;ae<=19;++ae){for(let J=0;J<q;++J)K[J]=se[J]^ae;$=new e(K),U=$.encryptBlock(U)}for(ae=0,q=U.length;ae<q;++ae)if(o[ae]!==U[ae])return null}else for($=new e(se),U=$.encryptBlock(pe(G,L)),ae=0,q=U.length;ae<q;++ae)if(o[ae]!==U[ae])return null;return se},l=new WeakSet,Gs=function(w,A,v,o){const y=new Uint8Array(32);let c=0;const h=Math.min(32,w.length);for(;c<h;++c)y[c]=w[c];let O=0;for(;c<32;)y[c++]=pe(G,L)[O++];let W=t(y,0,c);const R=o>>3;if(v>=3)for(O=0;O<50;++O)W=t(W,0,W.length);let H,ae;if(v>=3){ae=A;const q=new Uint8Array(R);for(O=19;O>=0;O--){for(let ce=0;ce<R;++ce)q[ce]=W[ce]^O;H=new e(q),ae=H.encryptBlock(ae)}}else H=new e(W.subarray(0,R)),ae=H.encryptBlock(A);return ae},X=new WeakSet,Yn=function(w,A,v,o=!1){const y=new Uint8Array(v.length+9),c=v.length;let h;for(h=0;h<c;++h)y[h]=v[h];return y[h++]=w&255,y[h++]=w>>8&255,y[h++]=w>>16&255,y[h++]=A&255,y[h++]=A>>8&255,o&&(y[h++]=115,y[h++]=65,y[h++]=108,y[h++]=84),t(y,0,h).subarray(0,Math.min(v.length+5,16))},g=new WeakSet,ns=function(w,A,v,o,y){if(!(A instanceof S.Name))throw new n.FormatError("Invalid crypt filter name.");const c=this,h=w.get(A.name),O=h==null?void 0:h.get("CFM");if(!O||O.name==="None")return function(){return new I};if(O.name==="V2")return function(){var W;return new e(Ne(W=c,X,Yn).call(W,v,o,y,!1))};if(O.name==="AESV2")return function(){var W;return new u(Ne(W=c,X,Yn).call(W,v,o,y,!0))};if(O.name==="AESV3")return function(){return new i(y)};throw new n.FormatError("Unknown crypto method")},Me(G,L,new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]));let b=G;m.CipherTransformFactory=b},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.DecryptStream=void 0;var n=Q(18);const S=512;class N extends n.DecodeStream{constructor(t,r,z){super(r),this.str=t,this.dict=t.dict,this.decrypt=z,this.nextChunk=null,this.initialized=!1}readBlock(){var d;let t;if(this.initialized?t=this.nextChunk:(t=this.str.getBytes(S),this.initialized=!0),!t||t.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(S);const r=((d=this.nextChunk)==null?void 0:d.length)>0,z=this.decrypt;t=z(t,!r);const j=this.bufferLength,M=j+t.length;this.ensureBuffer(M).set(t,j),this.bufferLength=M}}m.DecryptStream=N},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.ObjectLoader=void 0;var n=Q(4),S=Q(5),N=Q(3),e=Q(2);function t(j){return j instanceof n.Ref||j instanceof n.Dict||j instanceof S.BaseStream||Array.isArray(j)}function r(j,M){if(j instanceof n.Dict)j=j.getRawValues();else if(j instanceof S.BaseStream)j=j.dict.getRawValues();else if(!Array.isArray(j))return;for(const I of j)t(I)&&M.push(I)}class z{constructor(M,I,d){this.dict=M,this.keys=I,this.xref=d,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:M,dict:I}=this;this.refSet=new n.RefSet;const d=[];for(const u of M){const i=I.getRaw(u);i!==void 0&&d.push(i)}return this._walk(d)}async _walk(M){const I=[],d=[];for(;M.length;){let u=M.pop();if(u instanceof n.Ref){if(this.refSet.has(u))continue;try{this.refSet.put(u),u=this.xref.fetch(u)}catch(i){if(!(i instanceof N.MissingDataException)){(0,e.warn)(`ObjectLoader._walk - requesting all data: "${i}".`),this.refSet=null;const{manager:F}=this.xref.stream;return F.requestAllChunks()}I.push(u),d.push({begin:i.begin,end:i.end})}}if(u instanceof S.BaseStream){const i=u.getBaseStreams();if(i){let F=!1;for(const C of i)C.isDataLoaded||(F=!0,d.push({begin:C.start,end:C.end}));F&&I.push(u)}}r(u,M)}if(d.length){await this.xref.stream.manager.requestRanges(d);for(const u of I)u instanceof n.Ref&&this.refSet.remove(u);return this._walk(I)}this.refSet=null}}m.ObjectLoader=z},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.XFAFactory=void 0;var n=Q(78),S=Q(79),N=Q(89),e=Q(85),t=Q(84),r=Q(2),z=Q(90),j=Q(100);class M{constructor(d){try{this.root=new z.XFAParser().parse(M._createDocument(d));const u=new S.Binder(this.root);this.form=u.bind(),this.dataHandler=new N.DataHandler(this.root,u.getData()),this.form[n.$globalData].template=this.form}catch(u){(0,r.warn)(`XFA - an error occurred during parsing and binding: ${u}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const d=this.form[n.$toPages]();return new Promise((u,i)=>{const F=()=>{try{const C=d.next();C.done?u(C.value):setTimeout(F,0)}catch(C){i(C)}};setTimeout(F,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(d=>{const{width:u,height:i}=d.attributes.style;return[0,0,parseInt(u),parseInt(i)]})}catch(d){(0,r.warn)(`XFA - an error occurred during layout: ${d}`)}}getBoundingBox(d){return this.dims[d]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(d){this.form[n.$globalData].images=d}setFonts(d){this.form[n.$globalData].fontFinder=new e.FontFinder(d);const u=[];for(let i of this.form[n.$globalData].usedTypefaces)i=(0,t.stripQuotes)(i),this.form[n.$globalData].fontFinder.find(i)||u.push(i);return u.length>0?u:null}appendFonts(d,u){this.form[n.$globalData].fontFinder.add(d,u)}async getPages(){this.pages||await this._createPages();const d=this.pages;return this.pages=null,d}serializeData(d){return this.dataHandler.serialize(d)}static _createDocument(d){return d["/xdp:xdp"]?Object.values(d).join(""):d["xdp:xdp"]}static getRichTextAsHtml(d){if(!d||typeof d!="string")return null;try{let u=new z.XFAParser(j.XhtmlNamespace,!0).parse(d);if(!["body","xhtml"].includes(u[n.$nodeName])){const T=j.XhtmlNamespace.body({});T[n.$appendChild](u),u=T}const i=u[n.$toHTML]();if(!i.success)return null;const{html:F}=i,{attributes:C}=F;return C&&(C.class&&(C.class=C.class.filter(T=>!T.startsWith("xfa"))),C.dir="auto"),{html:F,str:u[n.$text]()}}catch(u){(0,r.warn)(`XFA - an error occurred during parsing of rich text: ${u}`)}return null}}m.XFAFactory=M},(xe,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.$uid=m.$toStyle=m.$toString=m.$toPages=m.$toHTML=m.$text=m.$tabIndex=m.$setValue=m.$setSetAttributes=m.$setId=m.$searchNode=m.$root=m.$resolvePrototypes=m.$removeChild=m.$pushPara=m.$pushGlyphs=m.$popPara=m.$onText=m.$onChildCheck=m.$onChild=m.$nsAttributes=m.$nodeName=m.$namespaceId=m.$lastAttribute=m.$isUsable=m.$isTransparent=m.$isThereMoreWidth=m.$isSplittable=m.$isNsAgnostic=m.$isDescendent=m.$isDataValue=m.$isCDATAXml=m.$isBindable=m.$insertAt=m.$indexOf=m.$ids=m.$hasSettableValue=m.$globalData=m.$getTemplateRoot=m.$getSubformParent=m.$getRealChildrenByNameIt=m.$getParent=m.$getNextPage=m.$getExtra=m.$getDataValue=m.$getContainedChildren=m.$getChildrenByNameIt=m.$getChildrenByName=m.$getChildrenByClass=m.$getChildren=m.$getAvailableSpace=m.$getAttributes=m.$getAttributeIt=m.$flushHTML=m.$finalize=m.$extra=m.$dump=m.$data=m.$content=m.$consumed=m.$clone=m.$cleanup=m.$cleanPage=m.$clean=m.$childrenToHTML=m.$appendChild=m.$addHTML=m.$acceptWhitespace=void 0;const Q=Symbol();m.$acceptWhitespace=Q;const n=Symbol();m.$addHTML=n;const S=Symbol();m.$appendChild=S;const N=Symbol();m.$childrenToHTML=N;const e=Symbol();m.$clean=e;const t=Symbol();m.$cleanPage=t;const r=Symbol();m.$cleanup=r;const z=Symbol();m.$clone=z;const j=Symbol();m.$consumed=j;const M=Symbol("content");m.$content=M;const I=Symbol("data");m.$data=I;const d=Symbol();m.$dump=d;const u=Symbol("extra");m.$extra=u;const i=Symbol();m.$finalize=i;const F=Symbol();m.$flushHTML=F;const C=Symbol();m.$getAttributeIt=C;const T=Symbol();m.$getAttributes=T;const b=Symbol();m.$getAvailableSpace=b;const L=Symbol();m.$getChildrenByClass=L;const B=Symbol();m.$getChildrenByName=B;const V=Symbol();m.$getChildrenByNameIt=V;const k=Symbol();m.$getDataValue=k;const _=Symbol();m.$getExtra=_;const l=Symbol();m.$getRealChildrenByNameIt=l;const x=Symbol();m.$getChildren=x;const X=Symbol();m.$getContainedChildren=X;const a=Symbol();m.$getNextPage=a;const g=Symbol();m.$getSubformParent=g;const P=Symbol();m.$getParent=P;const G=Symbol();m.$getTemplateRoot=G;const D=Symbol();m.$globalData=D;const w=Symbol();m.$hasSettableValue=w;const A=Symbol();m.$ids=A;const v=Symbol();m.$indexOf=v;const o=Symbol();m.$insertAt=o;const y=Symbol();m.$isCDATAXml=y;const c=Symbol();m.$isBindable=c;const h=Symbol();m.$isDataValue=h;const O=Symbol();m.$isDescendent=O;const W=Symbol();m.$isNsAgnostic=W;const R=Symbol();m.$isSplittable=R;const H=Symbol();m.$isThereMoreWidth=H;const ae=Symbol();m.$isTransparent=ae;const q=Symbol();m.$isUsable=q;const ce=Symbol();m.$lastAttribute=ce;const ee=Symbol("namespaceId");m.$namespaceId=ee;const se=Symbol("nodeName");m.$nodeName=se;const $=Symbol();m.$nsAttributes=$;const U=Symbol();m.$onChild=U;const K=Symbol();m.$onChildCheck=K;const J=Symbol();m.$onText=J;const Y=Symbol();m.$pushGlyphs=Y;const ie=Symbol();m.$popPara=ie;const re=Symbol();m.$pushPara=re;const Z=Symbol();m.$removeChild=Z;const he=Symbol("root");m.$root=he;const le=Symbol();m.$resolvePrototypes=le;const te=Symbol();m.$searchNode=te;const ue=Symbol();m.$setId=ue;const ge=Symbol();m.$setSetAttributes=ge;const ye=Symbol();m.$setValue=ye;const Ee=Symbol();m.$tabIndex=Ee;const Oe=Symbol();m.$text=Oe;const ve=Symbol();m.$toPages=ve;const Se=Symbol();m.$toHTML=Se;const Ae=Symbol();m.$toString=Ae;const ke=Symbol();m.$toStyle=ke;const _e=Symbol("uid");m.$uid=_e},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.Binder=void 0;var n=Q(78),S=Q(80),N=Q(88),e=Q(87),t=Q(81),r=Q(2);const z=t.NamespaceIds.datasets.id;function j(I){const d=new S.Text({});return d[n.$content]=I,d}class M{constructor(d){var u;this.root=d,this.datasets=d.datasets,this.data=((u=d.datasets)==null?void 0:u.data)||new e.XmlObject(t.NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[n.$getChildren]().length===0,this.root.form=this.form=d.template[n.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(d,u,i){var F,C;if(d[n.$data]=u,d[n.$hasSettableValue]())if(u[n.$isDataValue]()){const T=u[n.$getDataValue]();d[n.$setValue](j(T))}else if(d instanceof S.Field&&((C=(F=d.ui)==null?void 0:F.choiceList)==null?void 0:C.open)==="multiSelect"){const T=u[n.$getChildren]().map(b=>b[n.$content].trim()).join(`
`);d[n.$setValue](j(T))}else this._isConsumeData()&&(0,r.warn)("XFA - Nodes haven't the same type.");else!u[n.$isDataValue]()||this._isMatchTemplate()?this._bindElement(d,u):(0,r.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(d,u,i,F){if(!d)return null;let C,T;for(let b=0;b<3;b++){for(C=i[n.$getRealChildrenByNameIt](d,!1,!0);T=C.next().value,!!T;)if(u===T[n.$isDataValue]())return T;if(i[n.$namespaceId]===t.NamespaceIds.datasets.id&&i[n.$nodeName]==="data")break;i=i[n.$getParent]()}return F?(C=this.data[n.$getRealChildrenByNameIt](d,!0,!1),T=C.next().value,T||(C=this.data[n.$getAttributeIt](d,!0),T=C.next().value,T!=null&&T[n.$isDataValue]())?T:null):null}_setProperties(d,u){if(d.hasOwnProperty("setProperty"))for(const{ref:i,target:F,connection:C}of d.setProperty.children){if(C||!i)continue;const T=(0,N.searchNode)(this.root,u,i,!1,!1);if(!T){(0,r.warn)(`XFA - Invalid reference: ${i}.`);continue}const[b]=T;if(!b[n.$isDescendent](this.data)){(0,r.warn)("XFA - Invalid node: must be a data node.");continue}const L=(0,N.searchNode)(this.root,d,F,!1,!1);if(!L){(0,r.warn)(`XFA - Invalid target: ${F}.`);continue}const[B]=L;if(!B[n.$isDescendent](d)){(0,r.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const V=B[n.$getParent]();if(B instanceof S.SetProperty||V instanceof S.SetProperty){(0,r.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(B instanceof S.BindItems||V instanceof S.BindItems){(0,r.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const k=b[n.$text](),_=B[n.$nodeName];if(B instanceof e.XFAAttribute){const l=Object.create(null);l[_]=k;const x=Reflect.construct(Object.getPrototypeOf(V).constructor,[l]);V[_]=x[_];continue}if(!B.hasOwnProperty(n.$content)){(0,r.warn)("XFA - Invalid node to use in setProperty");continue}B[n.$data]=b,B[n.$content]=k,B[n.$finalize]()}}_bindItems(d,u){if(!d.hasOwnProperty("items")||!d.hasOwnProperty("bindItems")||d.bindItems.isEmpty())return;for(const C of d.items.children)d[n.$removeChild](C);d.items.clear();const i=new S.Items({}),F=new S.Items({});d[n.$appendChild](i),d.items.push(i),d[n.$appendChild](F),d.items.push(F);for(const{ref:C,labelRef:T,valueRef:b,connection:L}of d.bindItems.children){if(L||!C)continue;const B=(0,N.searchNode)(this.root,u,C,!1,!1);if(!B){(0,r.warn)(`XFA - Invalid reference: ${C}.`);continue}for(const V of B){if(!V[n.$isDescendent](this.datasets)){(0,r.warn)(`XFA - Invalid ref (${C}): must be a datasets child.`);continue}const k=(0,N.searchNode)(this.root,V,T,!0,!1);if(!k){(0,r.warn)(`XFA - Invalid label: ${T}.`);continue}const[_]=k;if(!_[n.$isDescendent](this.datasets)){(0,r.warn)("XFA - Invalid label: must be a datasets child.");continue}const l=(0,N.searchNode)(this.root,V,b,!0,!1);if(!l){(0,r.warn)(`XFA - Invalid value: ${b}.`);continue}const[x]=l;if(!x[n.$isDescendent](this.datasets)){(0,r.warn)("XFA - Invalid value: must be a datasets child.");continue}const X=j(_[n.$text]()),a=j(x[n.$text]());i[n.$appendChild](X),i.text.push(X),F[n.$appendChild](a),F.text.push(a)}}}_bindOccurrences(d,u,i){let F;if(u.length>1&&(F=d[n.$clone](),F[n.$removeChild](F.occur),F.occur=null),this._bindValue(d,u[0],i),this._setProperties(d,u[0]),this._bindItems(d,u[0]),u.length===1)return;const C=d[n.$getParent](),T=d[n.$nodeName],b=C[n.$indexOf](d);for(let L=1,B=u.length;L<B;L++){const V=u[L],k=F[n.$clone]();C[T].push(k),C[n.$insertAt](b+L,k),this._bindValue(k,V,i),this._setProperties(k,V),this._bindItems(k,V)}}_createOccurrences(d){if(!this.emptyMerge)return;const{occur:u}=d;if(!u||u.initial<=1)return;const i=d[n.$getParent](),F=d[n.$nodeName];if(!(i[F]instanceof e.XFAObjectArray))return;let C;d.name?C=i[F].children.filter(L=>L.name===d.name).length:C=i[F].children.length;const T=i[n.$indexOf](d)+1,b=u.initial-C;if(b){const L=d[n.$clone]();L[n.$removeChild](L.occur),L.occur=null,i[F].push(L),i[n.$insertAt](T,L);for(let B=1;B<b;B++){const V=L[n.$clone]();i[F].push(V),i[n.$insertAt](T+B,V)}}}_getOccurInfo(d){const{name:u,occur:i}=d;if(!i||!u)return[1,1];const F=i.max===-1?1/0:i.max;return[i.min,F]}_setAndBind(d,u){this._setProperties(d,u),this._bindItems(d,u),this._bindElement(d,u)}_bindElement(d,u){const i=[];this._createOccurrences(d);for(const F of d[n.$getChildren]()){if(F[n.$data])continue;if(this._mergeMode===void 0&&F[n.$nodeName]==="subform"){this._mergeMode=F.mergeMode==="consumeData";const k=u[n.$getChildren]();if(k.length>0)this._bindOccurrences(F,[k[0]],null);else if(this.emptyMerge){const _=u[n.$namespaceId]===z?-1:u[n.$namespaceId],l=F[n.$data]=new e.XmlObject(_,F.name||"root");u[n.$appendChild](l),this._bindElement(F,l)}continue}if(!F[n.$isBindable]())continue;let C=!1,T=null,b=null,L=null;if(F.bind){switch(F.bind.match){case"none":this._setAndBind(F,u);continue;case"global":C=!0;break;case"dataRef":if(!F.bind.ref){(0,r.warn)(`XFA - ref is empty in node ${F[n.$nodeName]}.`),this._setAndBind(F,u);continue}b=F.bind.ref;break}F.bind.picture&&(T=F.bind.picture[n.$content])}const[B,V]=this._getOccurInfo(F);if(b)if(L=(0,N.searchNode)(this.root,u,b,!0,!1),L===null){if(L=(0,N.createDataNode)(this.data,u,b),!L)continue;this._isConsumeData()&&(L[n.$consumed]=!0),this._setAndBind(F,L);continue}else this._isConsumeData()&&(L=L.filter(k=>!k[n.$consumed])),L.length>V?L=L.slice(0,V):L.length===0&&(L=null),L&&this._isConsumeData()&&L.forEach(k=>{k[n.$consumed]=!0});else{if(!F.name){this._setAndBind(F,u);continue}if(this._isConsumeData()){const k=[];for(;k.length<V;){const _=this._findDataByNameToConsume(F.name,F[n.$hasSettableValue](),u,C);if(!_)break;_[n.$consumed]=!0,k.push(_)}L=k.length>0?k:null}else{if(L=u[n.$getRealChildrenByNameIt](F.name,!1,this.emptyMerge).next().value,!L){if(B===0){i.push(F);continue}const k=u[n.$namespaceId]===z?-1:u[n.$namespaceId];L=F[n.$data]=new e.XmlObject(k,F.name),this.emptyMerge&&(L[n.$consumed]=!0),u[n.$appendChild](L),this._setAndBind(F,L);continue}this.emptyMerge&&(L[n.$consumed]=!0),L=[L]}}L?this._bindOccurrences(F,L,T):B>0?this._setAndBind(F,u):i.push(F)}i.forEach(F=>F[n.$getParent]()[n.$removeChild](F))}}m.Binder=M},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.Value=m.Text=m.TemplateNamespace=m.Template=m.SetProperty=m.Items=m.Field=m.BindItems=void 0;var n=Q(78),S=Q(81),N=Q(82),e=Q(83),t=Q(87),r=Q(84),z=Q(2),j=Q(85),M=Q(3),I=Q(88);const d=S.NamespaceIds.template.id,u="http://www.w3.org/2000/svg",i=2,F=3,C=5e3,T=/^H(\d+)$/,b=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),L=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function B(Ge){if(!Ge||!Ge.border)return{w:0,h:0};const s=Ge.border[n.$getExtra]();return s?{w:s.widths[0]+s.widths[2]+s.insets[0]+s.insets[2],h:s.widths[1]+s.widths[3]+s.insets[1]+s.insets[3]}:{w:0,h:0}}function V(Ge){return Ge.margin&&(Ge.margin.topInset||Ge.margin.rightInset||Ge.margin.bottomInset||Ge.margin.leftInset)}function k(Ge,s){if(!Ge.value){const oe=new rn({});Ge[n.$appendChild](oe),Ge.value=oe}Ge.value[n.$setValue](s)}function*_(Ge){for(const s of Ge[n.$getChildren]()){if(s instanceof xn){yield*s[n.$getContainedChildren]();continue}yield s}}function l(Ge){var s;return((s=Ge.validate)==null?void 0:s.nullTest)==="error"}function x(Ge){for(;Ge;){if(!Ge.traversal){Ge[n.$tabIndex]=Ge[n.$getParent]()[n.$tabIndex];return}if(Ge[n.$tabIndex])return;let s=null;for(const Je of Ge.traversal[n.$getChildren]())if(Je.operation==="next"){s=Je;break}if(!s||!s.ref){Ge[n.$tabIndex]=Ge[n.$getParent]()[n.$tabIndex];return}const oe=Ge[n.$getTemplateRoot]();Ge[n.$tabIndex]=++oe[n.$tabIndex];const He=oe[n.$searchNode](s.ref,Ge);if(!He)return;Ge=He[0]}}function X(Ge,s){var He;const oe=Ge.assist;if(oe){const Je=oe[n.$toHTML]();Je&&(s.title=Je);const ft=oe.role.match(T);if(ft){const xt="heading",yt=ft[1];s.role=xt,s["aria-level"]=yt}}if(Ge.layout==="table")s.role="table";else if(Ge.layout==="row")s.role="row";else{const Je=Ge[n.$getParent]();Je.layout==="row"&&(s.role=((He=Je.assist)==null?void 0:He.role)==="TH"?"columnheader":"cell")}}function a(Ge){if(!Ge.assist)return null;const s=Ge.assist;return s.speak&&s.speak[n.$content]!==""?s.speak[n.$content]:s.toolTip?s.toolTip[n.$content]:null}function g(Ge){return r.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:Ge}]})}function P(Ge){const s=Ge[n.$getTemplateRoot]();s[n.$extra].firstUnsplittable===null&&(s[n.$extra].firstUnsplittable=Ge,s[n.$extra].noLayoutFailure=!0)}function G(Ge){const s=Ge[n.$getTemplateRoot]();s[n.$extra].firstUnsplittable===Ge&&(s[n.$extra].noLayoutFailure=!1)}function D(Ge){if(Ge[n.$extra]||(Ge[n.$extra]=Object.create(null),Ge.targetType==="auto"))return!1;const s=Ge[n.$getTemplateRoot]();let oe=null;if(Ge.target){if(oe=s[n.$searchNode](Ge.target,Ge[n.$getParent]()),!oe)return!1;oe=oe[0]}const{currentPageArea:He,currentContentArea:Je}=s[n.$extra];if(Ge.targetType==="pageArea")return oe instanceof St||(oe=null),Ge.startNew?(Ge[n.$extra].target=oe||He,!0):oe&&oe!==He?(Ge[n.$extra].target=oe,!0):!1;oe instanceof he||(oe=null);const nt=oe&&oe[n.$getParent]();let ft,xt=nt;if(Ge.startNew)if(oe){const yt=nt.contentArea.children,Pt=yt.indexOf(Je),Nt=yt.indexOf(oe);Pt!==-1&&Pt<Nt&&(xt=null),ft=Nt-1}else ft=He.contentArea.children.indexOf(Je);else if(oe&&oe!==Je)ft=nt.contentArea.children.indexOf(oe)-1,xt=nt===He?null:nt;else return!1;return Ge[n.$extra].target=xt,Ge[n.$extra].index=ft,!0}function w(Ge,s,oe){const He=Ge[n.$getTemplateRoot](),Je=He[n.$extra].noLayoutFailure,nt=s[n.$getSubformParent];s[n.$getSubformParent]=()=>Ge,He[n.$extra].noLayoutFailure=!0;const ft=s[n.$toHTML](oe);Ge[n.$addHTML](ft.html,ft.bbox),He[n.$extra].noLayoutFailure=Je,s[n.$getSubformParent]=nt}class A extends t.StringObject{constructor(s){super(d,"appearanceFilter"),this.id=s.id||"",this.type=(0,r.getStringOption)(s.type,["optional","required"]),this.use=s.use||"",this.usehref=s.usehref||""}}class v extends t.XFAObject{constructor(s){super(d,"arc",!0),this.circular=(0,r.getInteger)({data:s.circular,defaultValue:0,validate:oe=>oe===1}),this.hand=(0,r.getStringOption)(s.hand,["even","left","right"]),this.id=s.id||"",this.startAngle=(0,r.getFloat)({data:s.startAngle,defaultValue:0,validate:oe=>!0}),this.sweepAngle=(0,r.getFloat)({data:s.sweepAngle,defaultValue:360,validate:oe=>!0}),this.use=s.use||"",this.usehref=s.usehref||"",this.edge=null,this.fill=null}[n.$toHTML](){var yt;const s=this.edge||new ke({}),oe=s[n.$toStyle](),He=Object.create(null);((yt=this.fill)==null?void 0:yt.presence)==="visible"?Object.assign(He,this.fill[n.$toStyle]()):He.fill="transparent",He.strokeWidth=(0,e.measureToString)(s.presence==="visible"?s.thickness:0),He.stroke=oe.color;let Je;const nt={xmlns:u,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)Je={name:"ellipse",attributes:{xmlns:u,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:He}};else{const Pt=this.startAngle*Math.PI/180,Nt=this.sweepAngle*Math.PI/180,jt=this.sweepAngle>180?1:0,[$t,Ut,zt,_t]=[50*(1+Math.cos(Pt)),50*(1-Math.sin(Pt)),50*(1+Math.cos(Pt+Nt)),50*(1-Math.sin(Pt+Nt))];Je={name:"path",attributes:{xmlns:u,d:`M ${$t} ${Ut} A 50 50 0 ${jt} 0 ${zt} ${_t}`,vectorEffect:"non-scaling-stroke",style:He}},Object.assign(nt,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const ft={name:"svg",children:[Je],attributes:nt},xt=this[n.$getParent]()[n.$getParent]();return V(xt)?r.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[ft]}):(ft.attributes.style.position="absolute",r.HTMLResult.success(ft))}}class o extends t.XFAObject{constructor(s){super(d,"area",!0),this.colSpan=(0,r.getInteger)({data:s.colSpan,defaultValue:1,validate:oe=>oe>=1||oe===-1}),this.id=s.id||"",this.name=s.name||"",this.relevant=(0,r.getRelevant)(s.relevant),this.use=s.use||"",this.usehref=s.usehref||"",this.x=(0,r.getMeasurement)(s.x,"0pt"),this.y=(0,r.getMeasurement)(s.y,"0pt"),this.desc=null,this.extras=null,this.area=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}*[n.$getContainedChildren](){yield*_(this)}[n.$isTransparent](){return!0}[n.$isBindable](){return!0}[n.$addHTML](s,oe){const[He,Je,nt,ft]=oe;this[n.$extra].width=Math.max(this[n.$extra].width,He+nt),this[n.$extra].height=Math.max(this[n.$extra].height,Je+ft),this[n.$extra].children.push(s)}[n.$getAvailableSpace](){return this[n.$extra].availableSpace}[n.$toHTML](s){const oe=(0,e.toStyle)(this,"position"),He={style:oe,id:this[n.$uid],class:["xfaArea"]};(0,e.isPrintOnly)(this)&&He.class.push("xfaPrintOnly"),this.name&&(He.xfaName=this.name);const Je=[];this[n.$extra]={children:Je,width:0,height:0,availableSpace:s};const nt=this[n.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!nt.success)return nt.isBreak()?nt:(delete this[n.$extra],r.HTMLResult.FAILURE);oe.width=(0,e.measureToString)(this[n.$extra].width),oe.height=(0,e.measureToString)(this[n.$extra].height);const ft={name:"div",attributes:He,children:Je},xt=[this.x,this.y,this[n.$extra].width,this[n.$extra].height];return delete this[n.$extra],r.HTMLResult.success(ft,xt)}}class y extends t.XFAObject{constructor(s){super(d,"assist",!0),this.id=s.id||"",this.role=s.role||"",this.use=s.use||"",this.usehref=s.usehref||"",this.speak=null,this.toolTip=null}[n.$toHTML](){var s;return((s=this.toolTip)==null?void 0:s[n.$content])||null}}class c extends t.XFAObject{constructor(s){super(d,"barcode",!0),this.charEncoding=(0,r.getKeyword)({data:s.charEncoding?s.charEncoding.toLowerCase():"",defaultValue:"",validate:oe=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(oe)||oe.match(/iso-8859-\d{2}/)}),this.checksum=(0,r.getStringOption)(s.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,r.getInteger)({data:s.dataColumnCount,defaultValue:-1,validate:oe=>oe>=0}),this.dataLength=(0,r.getInteger)({data:s.dataLength,defaultValue:-1,validate:oe=>oe>=0}),this.dataPrep=(0,r.getStringOption)(s.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,r.getInteger)({data:s.dataRowCount,defaultValue:-1,validate:oe=>oe>=0}),this.endChar=s.endChar||"",this.errorCorrectionLevel=(0,r.getInteger)({data:s.errorCorrectionLevel,defaultValue:-1,validate:oe=>oe>=0&&oe<=8}),this.id=s.id||"",this.moduleHeight=(0,r.getMeasurement)(s.moduleHeight,"5mm"),this.moduleWidth=(0,r.getMeasurement)(s.moduleWidth,"0.25mm"),this.printCheckDigit=(0,r.getInteger)({data:s.printCheckDigit,defaultValue:0,validate:oe=>oe===1}),this.rowColumnRatio=(0,r.getRatio)(s.rowColumnRatio),this.startChar=s.startChar||"",this.textLocation=(0,r.getStringOption)(s.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,r.getInteger)({data:s.truncate,defaultValue:0,validate:oe=>oe===1}),this.type=(0,r.getStringOption)(s.type?s.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,r.getStringOption)(s.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=s.use||"",this.usehref=s.usehref||"",this.wideNarrowRatio=(0,r.getRatio)(s.wideNarrowRatio),this.encrypt=null,this.extras=null}}class h extends t.XFAObject{constructor(s){super(d,"bind",!0),this.match=(0,r.getStringOption)(s.match,["once","dataRef","global","none"]),this.ref=s.ref||"",this.picture=null}}class O extends t.XFAObject{constructor(s){super(d,"bindItems"),this.connection=s.connection||"",this.labelRef=s.labelRef||"",this.ref=s.ref||"",this.valueRef=s.valueRef||""}}m.BindItems=O;class W extends t.XFAObject{constructor(s){super(d,"bookend"),this.id=s.id||"",this.leader=s.leader||"",this.trailer=s.trailer||"",this.use=s.use||"",this.usehref=s.usehref||""}}class R extends t.Option01{constructor(s){super(d,"boolean"),this.id=s.id||"",this.name=s.name||"",this.use=s.use||"",this.usehref=s.usehref||""}[n.$toHTML](s){return g(this[n.$content]===1?"1":"0")}}class H extends t.XFAObject{constructor(s){super(d,"border",!0),this.break=(0,r.getStringOption)(s.break,["close","open"]),this.hand=(0,r.getStringOption)(s.hand,["even","left","right"]),this.id=s.id||"",this.presence=(0,r.getStringOption)(s.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,r.getRelevant)(s.relevant),this.use=s.use||"",this.usehref=s.usehref||"",this.corner=new t.XFAObjectArray(4),this.edge=new t.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[n.$getExtra](){if(!this[n.$extra]){const s=this.edge.children.slice();if(s.length<4){const Je=s.at(-1)||new ke({});for(let nt=s.length;nt<4;nt++)s.push(Je)}const oe=s.map(Je=>Je.thickness),He=[0,0,0,0];this.margin&&(He[0]=this.margin.topInset,He[1]=this.margin.rightInset,He[2]=this.margin.bottomInset,He[3]=this.margin.leftInset),this[n.$extra]={widths:oe,insets:He,edges:s}}return this[n.$extra]}[n.$toStyle](){var Je;const{edges:s}=this[n.$getExtra](),oe=s.map(nt=>{const ft=nt[n.$toStyle]();return ft.color||(ft.color="#000000"),ft}),He=Object.create(null);if(this.margin&&Object.assign(He,this.margin[n.$toStyle]()),((Je=this.fill)==null?void 0:Je.presence)==="visible"&&Object.assign(He,this.fill[n.$toStyle]()),this.corner.children.some(nt=>nt.radius!==0)){const nt=this.corner.children.map(ft=>ft[n.$toStyle]());if(nt.length===2||nt.length===3){const ft=nt.at(-1);for(let xt=nt.length;xt<4;xt++)nt.push(ft)}He.borderRadius=nt.map(ft=>ft.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":He.borderStyle="";break;case"inactive":He.borderStyle="none";break;default:He.borderStyle=oe.map(nt=>nt.style).join(" ");break}return He.borderWidth=oe.map(nt=>nt.width).join(" "),He.borderColor=oe.map(nt=>nt.color).join(" "),He}}class ae extends t.XFAObject{constructor(s){super(d,"break",!0),this.after=(0,r.getStringOption)(s.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=s.afterTarget||"",this.before=(0,r.getStringOption)(s.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=s.beforeTarget||"",this.bookendLeader=s.bookendLeader||"",this.bookendTrailer=s.bookendTrailer||"",this.id=s.id||"",this.overflowLeader=s.overflowLeader||"",this.overflowTarget=s.overflowTarget||"",this.overflowTrailer=s.overflowTrailer||"",this.startNew=(0,r.getInteger)({data:s.startNew,defaultValue:0,validate:oe=>oe===1}),this.use=s.use||"",this.usehref=s.usehref||"",this.extras=null}}class q extends t.XFAObject{constructor(s){super(d,"breakAfter",!0),this.id=s.id||"",this.leader=s.leader||"",this.startNew=(0,r.getInteger)({data:s.startNew,defaultValue:0,validate:oe=>oe===1}),this.target=s.target||"",this.targetType=(0,r.getStringOption)(s.targetType,["auto","contentArea","pageArea"]),this.trailer=s.trailer||"",this.use=s.use||"",this.usehref=s.usehref||"",this.script=null}}class ce extends t.XFAObject{constructor(s){super(d,"breakBefore",!0),this.id=s.id||"",this.leader=s.leader||"",this.startNew=(0,r.getInteger)({data:s.startNew,defaultValue:0,validate:oe=>oe===1}),this.target=s.target||"",this.targetType=(0,r.getStringOption)(s.targetType,["auto","contentArea","pageArea"]),this.trailer=s.trailer||"",this.use=s.use||"",this.usehref=s.usehref||"",this.script=null}[n.$toHTML](s){return this[n.$extra]={},r.HTMLResult.FAILURE}}class ee extends t.XFAObject{constructor(s){super(d,"button",!0),this.highlight=(0,r.getStringOption)(s.highlight,["inverted","none","outline","push"]),this.id=s.id||"",this.use=s.use||"",this.usehref=s.usehref||"",this.extras=null}[n.$toHTML](s){const He=this[n.$getParent]()[n.$getParent](),Je={name:"button",attributes:{id:this[n.$uid],class:["xfaButton"],style:{}},children:[]};for(const nt of He.event.children){if(nt.activity!=="click"||!nt.script)continue;const ft=(0,M.recoverJsURL)(nt.script[n.$content]);if(!ft)continue;const xt=(0,e.fixURL)(ft.url);xt&&Je.children.push({name:"a",attributes:{id:"link"+this[n.$uid],href:xt,newWindow:ft.newWindow,class:["xfaLink"],style:{}},children:[]})}return r.HTMLResult.success(Je)}}class se extends t.XFAObject{constructor(s){super(d,"calculate",!0),this.id=s.id||"",this.override=(0,r.getStringOption)(s.override,["disabled","error","ignore","warning"]),this.use=s.use||"",this.usehref=s.usehref||"",this.extras=null,this.message=null,this.script=null}}class $ extends t.XFAObject{constructor(s){super(d,"caption",!0),this.id=s.id||"",this.placement=(0,r.getStringOption)(s.placement,["left","bottom","inline","right","top"]),this.presence=(0,r.getStringOption)(s.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,r.getMeasurement)(s.reserve)),this.use=s.use||"",this.usehref=s.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[n.$setValue](s){k(this,s)}[n.$getExtra](s){if(!this[n.$extra]){let{width:oe,height:He}=s;switch(this.placement){case"left":case"right":case"inline":oe=this.reserve<=0?oe:this.reserve;break;case"top":case"bottom":He=this.reserve<=0?He:this.reserve;break}this[n.$extra]=(0,e.layoutNode)(this,{width:oe,height:He})}return this[n.$extra]}[n.$toHTML](s){if(!this.value)return r.HTMLResult.EMPTY;this[n.$pushPara]();const oe=this.value[n.$toHTML](s).html;if(!oe)return this[n.$popPara](),r.HTMLResult.EMPTY;const He=this.reserve;if(this.reserve<=0){const{w:ft,h:xt}=this[n.$getExtra](s);switch(this.placement){case"left":case"right":case"inline":this.reserve=ft;break;case"top":case"bottom":this.reserve=xt;break}}const Je=[];typeof oe=="string"?Je.push({name:"#text",value:oe}):Je.push(oe);const nt=(0,e.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(nt.width=(0,e.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(nt.height=(0,e.measureToString)(this.reserve));break}return(0,e.setPara)(this,null,oe),this[n.$popPara](),this.reserve=He,r.HTMLResult.success({name:"div",attributes:{style:nt,class:["xfaCaption"]},children:Je})}}class U extends t.StringObject{constructor(s){super(d,"certificate"),this.id=s.id||"",this.name=s.name||"",this.use=s.use||"",this.usehref=s.usehref||""}}class K extends t.XFAObject{constructor(s){super(d,"certificates",!0),this.credentialServerPolicy=(0,r.getStringOption)(s.credentialServerPolicy,["optional","required"]),this.id=s.id||"",this.url=s.url||"",this.urlPolicy=s.urlPolicy||"",this.use=s.use||"",this.usehref=s.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class J extends t.XFAObject{constructor(s){super(d,"checkButton",!0),this.id=s.id||"",this.mark=(0,r.getStringOption)(s.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,r.getStringOption)(s.shape,["square","round"]),this.size=(0,r.getMeasurement)(s.size,"10pt"),this.use=s.use||"",this.usehref=s.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](s){var Gt,Xt,Yt;const oe=(0,e.toStyle)("margin"),He=(0,e.measureToString)(this.size);oe.width=oe.height=He;let Je,nt,ft;const xt=this[n.$getParent]()[n.$getParent](),yt=xt.items.children.length&&xt.items.children[0][n.$toHTML]().html||[],Pt={on:(yt[0]!==void 0?yt[0]:"on").toString(),off:(yt[1]!==void 0?yt[1]:"off").toString()},jt=(((Gt=xt.value)==null?void 0:Gt[n.$text]())||"off")===Pt.on||void 0,$t=xt[n.$getSubformParent](),Ut=xt[n.$uid];let zt;$t instanceof Le?(ft=$t[n.$uid],Je="radio",nt="xfaRadio",zt=((Xt=$t[n.$data])==null?void 0:Xt[n.$uid])||$t[n.$uid]):(Je="checkbox",nt="xfaCheckbox",zt=((Yt=xt[n.$data])==null?void 0:Yt[n.$uid])||xt[n.$uid]);const _t={name:"input",attributes:{class:[nt],style:oe,fieldId:Ut,dataId:zt,type:Je,checked:jt,xfaOn:Pt.on,xfaOff:Pt.off,"aria-label":a(xt),"aria-required":!1}};return ft&&(_t.attributes.name=ft),l(xt)&&(_t.attributes["aria-required"]=!0,_t.attributes.required=!0),r.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[_t]})}}class Y extends t.XFAObject{constructor(s){super(d,"choiceList",!0),this.commitOn=(0,r.getStringOption)(s.commitOn,["select","exit"]),this.id=s.id||"",this.open=(0,r.getStringOption)(s.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,r.getInteger)({data:s.textEntry,defaultValue:0,validate:oe=>oe===1}),this.use=s.use||"",this.usehref=s.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](s){var Pt,Nt,jt;const oe=(0,e.toStyle)(this,"border","margin"),Je=this[n.$getParent]()[n.$getParent](),ft={fontSize:`calc(${((Pt=Je.font)==null?void 0:Pt.size)||10}px * var(--scale-factor))`},xt=[];if(Je.items.children.length>0){const $t=Je.items;let Ut=0,zt=0;$t.children.length===2&&(Ut=$t.children[0].save,zt=1-Ut);const _t=$t.children[Ut][n.$toHTML]().html,Gt=$t.children[zt][n.$toHTML]().html;let Xt=!1;const Yt=((Nt=Je.value)==null?void 0:Nt[n.$text]())||"";for(let Vt=0,Lt=_t.length;Vt<Lt;Vt++){const At={name:"option",attributes:{value:Gt[Vt]||_t[Vt],style:ft},value:_t[Vt]};Gt[Vt]===Yt&&(At.attributes.selected=Xt=!0),xt.push(At)}Xt||xt.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const yt={class:["xfaSelect"],fieldId:Je[n.$uid],dataId:((jt=Je[n.$data])==null?void 0:jt[n.$uid])||Je[n.$uid],style:oe,"aria-label":a(Je),"aria-required":!1};return l(Je)&&(yt["aria-required"]=!0,yt.required=!0),this.open==="multiSelect"&&(yt.multiple=!0),r.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:xt,attributes:yt}]})}}class ie extends t.XFAObject{constructor(s){super(d,"color",!0),this.cSpace=(0,r.getStringOption)(s.cSpace,["SRGB"]),this.id=s.id||"",this.use=s.use||"",this.usehref=s.usehref||"",this.value=s.value?(0,r.getColor)(s.value):"",this.extras=null}[n.$hasSettableValue](){return!1}[n.$toStyle](){return this.value?z.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class re extends t.XFAObject{constructor(s){super(d,"comb"),this.id=s.id||"",this.numberOfCells=(0,r.getInteger)({data:s.numberOfCells,defaultValue:0,validate:oe=>oe>=0}),this.use=s.use||"",this.usehref=s.usehref||""}}class Z extends t.XFAObject{constructor(s){super(d,"connect",!0),this.connection=s.connection||"",this.id=s.id||"",this.ref=s.ref||"",this.usage=(0,r.getStringOption)(s.usage,["exportAndImport","exportOnly","importOnly"]),this.use=s.use||"",this.usehref=s.usehref||"",this.picture=null}}class he extends t.XFAObject{constructor(s){super(d,"contentArea",!0),this.h=(0,r.getMeasurement)(s.h),this.id=s.id||"",this.name=s.name||"",this.relevant=(0,r.getRelevant)(s.relevant),this.use=s.use||"",this.usehref=s.usehref||"",this.w=(0,r.getMeasurement)(s.w),this.x=(0,r.getMeasurement)(s.x,"0pt"),this.y=(0,r.getMeasurement)(s.y,"0pt"),this.desc=null,this.extras=null}[n.$toHTML](s){const oe=(0,e.measureToString)(this.x),He=(0,e.measureToString)(this.y),Je={left:oe,top:He,width:(0,e.measureToString)(this.w),height:(0,e.measureToString)(this.h)},nt=["xfaContentarea"];return(0,e.isPrintOnly)(this)&&nt.push("xfaPrintOnly"),r.HTMLResult.success({name:"div",children:[],attributes:{style:Je,class:nt,id:this[n.$uid]}})}}class le extends t.XFAObject{constructor(s){super(d,"corner",!0),this.id=s.id||"",this.inverted=(0,r.getInteger)({data:s.inverted,defaultValue:0,validate:oe=>oe===1}),this.join=(0,r.getStringOption)(s.join,["square","round"]),this.presence=(0,r.getStringOption)(s.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,r.getMeasurement)(s.radius),this.stroke=(0,r.getStringOption)(s.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,r.getMeasurement)(s.thickness,"0.5pt"),this.use=s.use||"",this.usehref=s.usehref||"",this.color=null,this.extras=null}[n.$toStyle](){const s=(0,e.toStyle)(this,"visibility");return s.radius=(0,e.measureToString)(this.join==="square"?0:this.radius),s}}class te extends t.ContentObject{constructor(s){super(d,"date"),this.id=s.id||"",this.name=s.name||"",this.use=s.use||"",this.usehref=s.usehref||""}[n.$finalize](){const s=this[n.$content].trim();this[n.$content]=s?new Date(s):null}[n.$toHTML](s){return g(this[n.$content]?this[n.$content].toString():"")}}class ue extends t.ContentObject{constructor(s){super(d,"dateTime"),this.id=s.id||"",this.name=s.name||"",this.use=s.use||"",this.usehref=s.usehref||""}[n.$finalize](){const s=this[n.$content].trim();this[n.$content]=s?new Date(s):null}[n.$toHTML](s){return g(this[n.$content]?this[n.$content].toString():"")}}class ge extends t.XFAObject{constructor(s){super(d,"dateTimeEdit",!0),this.hScrollPolicy=(0,r.getStringOption)(s.hScrollPolicy,["auto","off","on"]),this.id=s.id||"",this.picker=(0,r.getStringOption)(s.picker,["host","none"]),this.use=s.use||"",this.usehref=s.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](s){var nt;const oe=(0,e.toStyle)(this,"border","font","margin"),He=this[n.$getParent]()[n.$getParent](),Je={name:"input",attributes:{type:"text",fieldId:He[n.$uid],dataId:((nt=He[n.$data])==null?void 0:nt[n.$uid])||He[n.$uid],class:["xfaTextfield"],style:oe,"aria-label":a(He),"aria-required":!1}};return l(He)&&(Je.attributes["aria-required"]=!0,Je.attributes.required=!0),r.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Je]})}}class ye extends t.ContentObject{constructor(s){super(d,"decimal"),this.fracDigits=(0,r.getInteger)({data:s.fracDigits,defaultValue:2,validate:oe=>!0}),this.id=s.id||"",this.leadDigits=(0,r.getInteger)({data:s.leadDigits,defaultValue:-1,validate:oe=>!0}),this.name=s.name||"",this.use=s.use||"",this.usehref=s.usehref||""}[n.$finalize](){const s=parseFloat(this[n.$content].trim());this[n.$content]=isNaN(s)?null:s}[n.$toHTML](s){return g(this[n.$content]!==null?this[n.$content].toString():"")}}class Ee extends t.XFAObject{constructor(s){super(d,"defaultUi",!0),this.id=s.id||"",this.use=s.use||"",this.usehref=s.usehref||"",this.extras=null}}class Oe extends t.XFAObject{constructor(s){super(d,"desc",!0),this.id=s.id||"",this.use=s.use||"",this.usehref=s.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class ve extends t.OptionObject{constructor(s){super(d,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=s.id||"",this.use=s.use||"",this.usehref=s.usehref||""}}class Se extends t.XFAObject{constructor(s){super(d,"digestMethods",!0),this.id=s.id||"",this.type=(0,r.getStringOption)(s.type,["optional","required"]),this.use=s.use||"",this.usehref=s.usehref||"",this.digestMethod=new t.XFAObjectArray}}class Ae extends t.XFAObject{constructor(s){super(d,"draw",!0),this.anchorType=(0,r.getStringOption)(s.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,r.getInteger)({data:s.colSpan,defaultValue:1,validate:oe=>oe>=1||oe===-1}),this.h=s.h?(0,r.getMeasurement)(s.h):"",this.hAlign=(0,r.getStringOption)(s.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=s.id||"",this.locale=s.locale||"",this.maxH=(0,r.getMeasurement)(s.maxH,"0pt"),this.maxW=(0,r.getMeasurement)(s.maxW,"0pt"),this.minH=(0,r.getMeasurement)(s.minH,"0pt"),this.minW=(0,r.getMeasurement)(s.minW,"0pt"),this.name=s.name||"",this.presence=(0,r.getStringOption)(s.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,r.getRelevant)(s.relevant),this.rotate=(0,r.getInteger)({data:s.rotate,defaultValue:0,validate:oe=>oe%90===0}),this.use=s.use||"",this.usehref=s.usehref||"",this.w=s.w?(0,r.getMeasurement)(s.w):"",this.x=(0,r.getMeasurement)(s.x,"0pt"),this.y=(0,r.getMeasurement)(s.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new t.XFAObjectArray}[n.$setValue](s){k(this,s)}[n.$toHTML](s){if(x(this),this.presence==="hidden"||this.presence==="inactive")return r.HTMLResult.EMPTY;(0,e.fixDimensions)(this),this[n.$pushPara]();const oe=this.w,He=this.h,{w:Je,h:nt,isBroken:ft}=(0,e.layoutNode)(this,s);if(Je&&this.w===""){if(ft&&this[n.$getSubformParent]()[n.$isThereMoreWidth]())return this[n.$popPara](),r.HTMLResult.FAILURE;this.w=Je}if(nt&&this.h===""&&(this.h=nt),P(this),!(0,N.checkDimensions)(this,s))return this.w=oe,this.h=He,this[n.$popPara](),r.HTMLResult.FAILURE;G(this);const xt=(0,e.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,e.setMinMaxDimensions)(this,xt),xt.margin&&(xt.padding=xt.margin,delete xt.margin);const yt=["xfaDraw"];this.font&&yt.push("xfaFont"),(0,e.isPrintOnly)(this)&&yt.push("xfaPrintOnly");const Pt={style:xt,id:this[n.$uid],class:yt};this.name&&(Pt.xfaName=this.name);const Nt={name:"div",attributes:Pt,children:[]};X(this,Pt);const jt=(0,e.computeBbox)(this,Nt,s),$t=this.value?this.value[n.$toHTML](s).html:null;return $t===null?(this.w=oe,this.h=He,this[n.$popPara](),r.HTMLResult.success((0,e.createWrapper)(this,Nt),jt)):(Nt.children.push($t),(0,e.setPara)(this,xt,$t),this.w=oe,this.h=He,this[n.$popPara](),r.HTMLResult.success((0,e.createWrapper)(this,Nt),jt))}}class ke extends t.XFAObject{constructor(s){super(d,"edge",!0),this.cap=(0,r.getStringOption)(s.cap,["square","butt","round"]),this.id=s.id||"",this.presence=(0,r.getStringOption)(s.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,r.getStringOption)(s.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,r.getMeasurement)(s.thickness,"0.5pt"),this.use=s.use||"",this.usehref=s.usehref||"",this.color=null,this.extras=null}[n.$toStyle](){const s=(0,e.toStyle)(this,"visibility");if(Object.assign(s,{linecap:this.cap,width:(0,e.measureToString)(this.thickness),color:this.color?this.color[n.$toStyle]():"#000000",style:""}),this.presence!=="visible")s.style="none";else switch(this.stroke){case"solid":s.style="solid";break;case"dashDot":s.style="dashed";break;case"dashDotDot":s.style="dashed";break;case"dashed":s.style="dashed";break;case"dotted":s.style="dotted";break;case"embossed":s.style="ridge";break;case"etched":s.style="groove";break;case"lowered":s.style="inset";break;case"raised":s.style="outset";break}return s}}class _e extends t.OptionObject{constructor(s){super(d,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=s.id||"",this.use=s.use||"",this.usehref=s.usehref||""}}class je extends t.XFAObject{constructor(s){super(d,"encodings",!0),this.id=s.id||"",this.type=(0,r.getStringOption)(s.type,["optional","required"]),this.use=s.use||"",this.usehref=s.usehref||"",this.encoding=new t.XFAObjectArray}}class Re extends t.XFAObject{constructor(s){super(d,"encrypt",!0),this.id=s.id||"",this.use=s.use||"",this.usehref=s.usehref||"",this.certificate=null}}class be extends t.XFAObject{constructor(s){super(d,"encryptData",!0),this.id=s.id||"",this.operation=(0,r.getStringOption)(s.operation,["encrypt","decrypt"]),this.target=s.target||"",this.use=s.use||"",this.usehref=s.usehref||"",this.filter=null,this.manifest=null}}class Ce extends t.XFAObject{constructor(s){super(d,"encryption",!0),this.id=s.id||"",this.type=(0,r.getStringOption)(s.type,["optional","required"]),this.use=s.use||"",this.usehref=s.usehref||"",this.certificate=new t.XFAObjectArray}}class $e extends t.OptionObject{constructor(s){super(d,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=s.id||"",this.use=s.use||"",this.usehref=s.usehref||""}}class Pe extends t.XFAObject{constructor(s){super(d,"encryptionMethods",!0),this.id=s.id||"",this.type=(0,r.getStringOption)(s.type,["optional","required"]),this.use=s.use||"",this.usehref=s.usehref||"",this.encryptionMethod=new t.XFAObjectArray}}class ze extends t.XFAObject{constructor(s){super(d,"event",!0),this.activity=(0,r.getStringOption)(s.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=s.id||"",this.listen=(0,r.getStringOption)(s.listen,["refOnly","refAndDescendents"]),this.name=s.name||"",this.ref=s.ref||"",this.use=s.use||"",this.usehref=s.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class We extends t.ContentObject{constructor(s){super(d,"exData"),this.contentType=s.contentType||"",this.href=s.href||"",this.id=s.id||"",this.maxLength=(0,r.getInteger)({data:s.maxLength,defaultValue:-1,validate:oe=>oe>=-1}),this.name=s.name||"",this.rid=s.rid||"",this.transferEncoding=(0,r.getStringOption)(s.transferEncoding,["none","base64","package"]),this.use=s.use||"",this.usehref=s.usehref||""}[n.$isCDATAXml](){return this.contentType==="text/html"}[n.$onChild](s){return this.contentType==="text/html"&&s[n.$namespaceId]===S.NamespaceIds.xhtml.id?(this[n.$content]=s,!0):this.contentType==="text/xml"?(this[n.$content]=s,!0):!1}[n.$toHTML](s){return this.contentType!=="text/html"||!this[n.$content]?r.HTMLResult.EMPTY:this[n.$content][n.$toHTML](s)}}class ut extends t.XFAObject{constructor(s){super(d,"exObject",!0),this.archive=s.archive||"",this.classId=s.classId||"",this.codeBase=s.codeBase||"",this.codeType=s.codeType||"",this.id=s.id||"",this.name=s.name||"",this.use=s.use||"",this.usehref=s.usehref||"",this.extras=null,this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class Le extends t.XFAObject{constructor(s){super(d,"exclGroup",!0),this.access=(0,r.getStringOption)(s.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=s.accessKey||"",this.anchorType=(0,r.getStringOption)(s.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,r.getInteger)({data:s.colSpan,defaultValue:1,validate:oe=>oe>=1||oe===-1}),this.h=s.h?(0,r.getMeasurement)(s.h):"",this.hAlign=(0,r.getStringOption)(s.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=s.id||"",this.layout=(0,r.getStringOption)(s.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,r.getMeasurement)(s.maxH,"0pt"),this.maxW=(0,r.getMeasurement)(s.maxW,"0pt"),this.minH=(0,r.getMeasurement)(s.minH,"0pt"),this.minW=(0,r.getMeasurement)(s.minW,"0pt"),this.name=s.name||"",this.presence=(0,r.getStringOption)(s.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,r.getRelevant)(s.relevant),this.use=s.use||"",this.usehref=s.usehref||"",this.w=s.w?(0,r.getMeasurement)(s.w):"",this.x=(0,r.getMeasurement)(s.x,"0pt"),this.y=(0,r.getMeasurement)(s.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray}[n.$isBindable](){return!0}[n.$hasSettableValue](){return!0}[n.$setValue](s){for(const oe of this.field.children){if(!oe.value){const He=new rn({});oe[n.$appendChild](He),oe.value=He}oe.value[n.$setValue](s)}}[n.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine>0||this[n.$getParent]()[n.$isThereMoreWidth]()}[n.$isSplittable](){var oe;const s=this[n.$getSubformParent]();return s[n.$isSplittable]()?this[n.$extra]._isSplittable!==void 0?this[n.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[n.$extra]._isSplittable=!1,!1):(oe=s.layout)!=null&&oe.endsWith("-tb")&&s[n.$extra].numberInLine!==0?!1:(this[n.$extra]._isSplittable=!0,!0):!1}[n.$flushHTML](){return(0,N.flushHTML)(this)}[n.$addHTML](s,oe){(0,N.addHTML)(this,s,oe)}[n.$getAvailableSpace](){return(0,N.getAvailableSpace)(this)}[n.$toHTML](s){if(x(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return r.HTMLResult.EMPTY;(0,e.fixDimensions)(this);const oe=[],He={id:this[n.$uid],class:[]};(0,e.setAccess)(this,He.class),this[n.$extra]||(this[n.$extra]=Object.create(null)),Object.assign(this[n.$extra],{children:oe,attributes:He,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,s.width),height:Math.min(this.h||1/0,s.height)},width:0,height:0,prevHeight:0,currentWidth:0});const Je=this[n.$isSplittable]();if(Je||P(this),!(0,N.checkDimensions)(this,s))return r.HTMLResult.FAILURE;const nt=new Set(["field"]);if(this.layout.includes("row")){const Xt=this[n.$getSubformParent]().columnWidths;Array.isArray(Xt)&&Xt.length>0&&(this[n.$extra].columnWidths=Xt,this[n.$extra].currentColumn=0)}const ft=(0,e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),xt=["xfaExclgroup"],yt=(0,e.layoutClass)(this);yt&&xt.push(yt),(0,e.isPrintOnly)(this)&&xt.push("xfaPrintOnly"),He.style=ft,He.class=xt,this.name&&(He.xfaName=this.name),this[n.$pushPara]();const Pt=this.layout==="lr-tb"||this.layout==="rl-tb",Nt=Pt?i:1;for(;this[n.$extra].attempt<Nt;this[n.$extra].attempt++){Pt&&this[n.$extra].attempt===i-1&&(this[n.$extra].numberInLine=0);const Xt=this[n.$childrenToHTML]({filter:nt,include:!0});if(Xt.success)break;if(Xt.isBreak())return this[n.$popPara](),Xt;if(Pt&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine===0&&!this[n.$getTemplateRoot]()[n.$extra].noLayoutFailure){this[n.$extra].attempt=Nt;break}}if(this[n.$popPara](),Je||G(this),this[n.$extra].attempt===Nt)return Je||delete this[n.$extra],r.HTMLResult.FAILURE;let jt=0,$t=0;this.margin&&(jt=this.margin.leftInset+this.margin.rightInset,$t=this.margin.topInset+this.margin.bottomInset);const Ut=Math.max(this[n.$extra].width+jt,this.w||0),zt=Math.max(this[n.$extra].height+$t,this.h||0),_t=[this.x,this.y,Ut,zt];this.w===""&&(ft.width=(0,e.measureToString)(Ut)),this.h===""&&(ft.height=(0,e.measureToString)(zt));const Gt={name:"div",attributes:He,children:oe};return X(this,He),delete this[n.$extra],r.HTMLResult.success((0,e.createWrapper)(this,Gt),_t)}}class rt extends t.XFAObject{constructor(s){super(d,"execute"),this.connection=s.connection||"",this.executeType=(0,r.getStringOption)(s.executeType,["import","remerge"]),this.id=s.id||"",this.runAt=(0,r.getStringOption)(s.runAt,["client","both","server"]),this.use=s.use||"",this.usehref=s.usehref||""}}class Qe extends t.XFAObject{constructor(s){super(d,"extras",!0),this.id=s.id||"",this.name=s.name||"",this.use=s.use||"",this.usehref=s.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.extras=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class Fe extends t.XFAObject{constructor(s){super(d,"field",!0),this.access=(0,r.getStringOption)(s.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=s.accessKey||"",this.anchorType=(0,r.getStringOption)(s.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,r.getInteger)({data:s.colSpan,defaultValue:1,validate:oe=>oe>=1||oe===-1}),this.h=s.h?(0,r.getMeasurement)(s.h):"",this.hAlign=(0,r.getStringOption)(s.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=s.id||"",this.locale=s.locale||"",this.maxH=(0,r.getMeasurement)(s.maxH,"0pt"),this.maxW=(0,r.getMeasurement)(s.maxW,"0pt"),this.minH=(0,r.getMeasurement)(s.minH,"0pt"),this.minW=(0,r.getMeasurement)(s.minW,"0pt"),this.name=s.name||"",this.presence=(0,r.getStringOption)(s.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,r.getRelevant)(s.relevant),this.rotate=(0,r.getInteger)({data:s.rotate,defaultValue:0,validate:oe=>oe%90===0}),this.use=s.use||"",this.usehref=s.usehref||"",this.w=s.w?(0,r.getMeasurement)(s.w):"",this.x=(0,r.getMeasurement)(s.x,"0pt"),this.y=(0,r.getMeasurement)(s.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new t.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray}[n.$isBindable](){return!0}[n.$setValue](s){k(this,s)}[n.$toHTML](s){var Xt,Yt,Vt;if(x(this),!this.ui){this.ui=new yn({}),this.ui[n.$globalData]=this[n.$globalData],this[n.$appendChild](this.ui);let Lt;switch(this.items.children.length){case 0:Lt=new Pn({}),this.ui.textEdit=Lt;break;case 1:Lt=new J({}),this.ui.checkButton=Lt;break;case 2:Lt=new Y({}),this.ui.choiceList=Lt;break}this.ui[n.$appendChild](Lt)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return r.HTMLResult.EMPTY;this.caption&&delete this.caption[n.$extra],this[n.$pushPara]();const oe=this.caption?this.caption[n.$toHTML](s).html:null,He=this.w,Je=this.h;let nt=0,ft=0;this.margin&&(nt=this.margin.leftInset+this.margin.rightInset,ft=this.margin.topInset+this.margin.bottomInset);let xt=null;if(this.w===""||this.h===""){let Lt=null,At=null,Qt=0,Jt=0;if(this.ui.checkButton)Qt=Jt=this.ui.checkButton.size;else{const{w:nn,h:en}=(0,e.layoutNode)(this,s);nn!==null?(Qt=nn,Jt=en):Jt=(0,j.getMetrics)(this.font,!0).lineNoGap}if(xt=B(this.ui[n.$getExtra]()),Qt+=xt.w,Jt+=xt.h,this.caption){const{w:nn,h:en,isBroken:qt}=this.caption[n.$getExtra](s);if(qt&&this[n.$getSubformParent]()[n.$isThereMoreWidth]())return this[n.$popPara](),r.HTMLResult.FAILURE;switch(Lt=nn,At=en,this.caption.placement){case"left":case"right":case"inline":Lt+=Qt;break;case"top":case"bottom":At+=Jt;break}}else Lt=Qt,At=Jt;Lt&&this.w===""&&(Lt+=nt,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<Lt?Lt:this.minW)),At&&this.h===""&&(At+=ft,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<At?At:this.minH))}if(this[n.$popPara](),(0,e.fixDimensions)(this),P(this),!(0,N.checkDimensions)(this,s))return this.w=He,this.h=Je,this[n.$popPara](),r.HTMLResult.FAILURE;G(this);const yt=(0,e.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,e.setMinMaxDimensions)(this,yt);const Pt=["xfaField"];this.font&&Pt.push("xfaFont"),(0,e.isPrintOnly)(this)&&Pt.push("xfaPrintOnly");const Nt={style:yt,id:this[n.$uid],class:Pt};yt.margin&&(yt.padding=yt.margin,delete yt.margin),(0,e.setAccess)(this,Pt),this.name&&(Nt.xfaName=this.name);const jt=[],$t={name:"div",attributes:Nt,children:jt};X(this,Nt);const Ut=this.border?this.border[n.$toStyle]():null,zt=(0,e.computeBbox)(this,$t,s),_t=this.ui[n.$toHTML]().html;if(!_t)return Object.assign(yt,Ut),r.HTMLResult.success((0,e.createWrapper)(this,$t),zt);this[n.$tabIndex]&&((Xt=_t.children)!=null&&Xt[0]?_t.children[0].attributes.tabindex=this[n.$tabIndex]:_t.attributes.tabindex=this[n.$tabIndex]),_t.attributes.style||(_t.attributes.style=Object.create(null));let Gt=null;if(this.ui.button?(_t.children.length===1&&([Gt]=_t.children.splice(0,1)),Object.assign(_t.attributes.style,Ut)):Object.assign(yt,Ut),jt.push(_t),this.value){if(this.ui.imageEdit)_t.children.push(this.value[n.$toHTML]().html);else if(!this.ui.button){let Lt="";if(this.value.exData)Lt=this.value.exData[n.$text]();else if(this.value.text)Lt=this.value.text[n.$getExtra]();else{const At=this.value[n.$toHTML]().html;At!==null&&(Lt=At.children[0].value)}this.ui.textEdit&&((Yt=this.value.text)!=null&&Yt.maxChars)&&(_t.children[0].attributes.maxLength=this.value.text.maxChars),Lt&&(this.ui.numericEdit&&(Lt=parseFloat(Lt),Lt=isNaN(Lt)?"":Lt.toString()),_t.children[0].name==="textarea"?_t.children[0].attributes.textContent=Lt:_t.children[0].attributes.value=Lt)}}if(!this.ui.imageEdit&&((Vt=_t.children)!=null&&Vt[0])&&this.h){xt=xt||B(this.ui[n.$getExtra]());let Lt=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){Lt=this.caption.reserve,Lt<=0&&(Lt=this.caption[n.$getExtra](s).h);const At=this.h-Lt-ft-xt.h;_t.children[0].attributes.style.height=(0,e.measureToString)(At)}else _t.children[0].attributes.style.height="100%"}if(Gt&&_t.children.push(Gt),!oe)return _t.attributes.class&&_t.attributes.class.push("xfaLeft"),this.w=He,this.h=Je,r.HTMLResult.success((0,e.createWrapper)(this,$t),zt);if(this.ui.button)return yt.padding&&delete yt.padding,oe.name==="div"&&(oe.name="span"),_t.children.push(oe),r.HTMLResult.success($t,zt);switch(this.ui.checkButton&&(oe.attributes.class[0]="xfaCaptionForCheckButton"),_t.attributes.class||(_t.attributes.class=[]),_t.children.splice(0,0,oe),this.caption.placement){case"left":_t.attributes.class.push("xfaLeft");break;case"right":_t.attributes.class.push("xfaRight");break;case"top":_t.attributes.class.push("xfaTop");break;case"bottom":_t.attributes.class.push("xfaBottom");break;case"inline":_t.attributes.class.push("xfaLeft");break}return this.w=He,this.h=Je,r.HTMLResult.success((0,e.createWrapper)(this,$t),zt)}}m.Field=Fe;class me extends t.XFAObject{constructor(s){super(d,"fill",!0),this.id=s.id||"",this.presence=(0,r.getStringOption)(s.presence,["visible","hidden","inactive","invisible"]),this.use=s.use||"",this.usehref=s.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[n.$toStyle](){var xt;const s=this[n.$getParent](),He=s[n.$getParent]()[n.$getParent](),Je=Object.create(null);let nt="color",ft=nt;s instanceof H&&(nt="background-color",ft="background",He instanceof yn&&(Je.backgroundColor="white")),(s instanceof Tt||s instanceof v)&&(nt=ft="fill",Je.fill="white");for(const yt of Object.getOwnPropertyNames(this)){if(yt==="extras"||yt==="color")continue;const Pt=this[yt];if(!(Pt instanceof t.XFAObject))continue;const Nt=Pt[n.$toStyle](this.color);return Nt&&(Je[Nt.startsWith("#")?nt:ft]=Nt),Je}if((xt=this.color)!=null&&xt.value){const yt=this.color[n.$toStyle]();Je[yt.startsWith("#")?nt:ft]=yt}return Je}}class Te extends t.XFAObject{constructor(s){super(d,"filter",!0),this.addRevocationInfo=(0,r.getStringOption)(s.addRevocationInfo,["","required","optional","none"]),this.id=s.id||"",this.name=s.name||"",this.use=s.use||"",this.usehref=s.usehref||"",this.version=(0,r.getInteger)({data:this.version,defaultValue:5,validate:oe=>oe>=1&&oe<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class Ie extends t.ContentObject{constructor(s){super(d,"float"),this.id=s.id||"",this.name=s.name||"",this.use=s.use||"",this.usehref=s.usehref||""}[n.$finalize](){const s=parseFloat(this[n.$content].trim());this[n.$content]=isNaN(s)?null:s}[n.$toHTML](s){return g(this[n.$content]!==null?this[n.$content].toString():"")}}class De extends t.XFAObject{constructor(s){super(d,"font",!0),this.baselineShift=(0,r.getMeasurement)(s.baselineShift),this.fontHorizontalScale=(0,r.getFloat)({data:s.fontHorizontalScale,defaultValue:100,validate:oe=>oe>=0}),this.fontVerticalScale=(0,r.getFloat)({data:s.fontVerticalScale,defaultValue:100,validate:oe=>oe>=0}),this.id=s.id||"",this.kerningMode=(0,r.getStringOption)(s.kerningMode,["none","pair"]),this.letterSpacing=(0,r.getMeasurement)(s.letterSpacing,"0"),this.lineThrough=(0,r.getInteger)({data:s.lineThrough,defaultValue:0,validate:oe=>oe===1||oe===2}),this.lineThroughPeriod=(0,r.getStringOption)(s.lineThroughPeriod,["all","word"]),this.overline=(0,r.getInteger)({data:s.overline,defaultValue:0,validate:oe=>oe===1||oe===2}),this.overlinePeriod=(0,r.getStringOption)(s.overlinePeriod,["all","word"]),this.posture=(0,r.getStringOption)(s.posture,["normal","italic"]),this.size=(0,r.getMeasurement)(s.size,"10pt"),this.typeface=s.typeface||"Courier",this.underline=(0,r.getInteger)({data:s.underline,defaultValue:0,validate:oe=>oe===1||oe===2}),this.underlinePeriod=(0,r.getStringOption)(s.underlinePeriod,["all","word"]),this.use=s.use||"",this.usehref=s.usehref||"",this.weight=(0,r.getStringOption)(s.weight,["normal","bold"]),this.extras=null,this.fill=null}[n.$clean](s){super[n.$clean](s),this[n.$globalData].usedTypefaces.add(this.typeface)}[n.$toStyle](){const s=(0,e.toStyle)(this,"fill"),oe=s.color;return oe&&(oe==="#000000"?delete s.color:oe.startsWith("#")||(s.background=oe,s.backgroundClip="text",s.color="transparent")),this.baselineShift&&(s.verticalAlign=(0,e.measureToString)(this.baselineShift)),s.fontKerning=this.kerningMode==="none"?"none":"normal",s.letterSpacing=(0,e.measureToString)(this.letterSpacing),this.lineThrough!==0&&(s.textDecoration="line-through",this.lineThrough===2&&(s.textDecorationStyle="double")),this.overline!==0&&(s.textDecoration="overline",this.overline===2&&(s.textDecorationStyle="double")),s.fontStyle=this.posture,s.fontSize=(0,e.measureToString)(.99*this.size),(0,e.setFontFamily)(this,this,this[n.$globalData].fontFinder,s),this.underline!==0&&(s.textDecoration="underline",this.underline===2&&(s.textDecorationStyle="double")),s.fontWeight=this.weight,s}}class Be extends t.XFAObject{constructor(s){super(d,"format",!0),this.id=s.id||"",this.use=s.use||"",this.usehref=s.usehref||"",this.extras=null,this.picture=null}}class Ue extends t.StringObject{constructor(s){super(d,"handler"),this.id=s.id||"",this.type=(0,r.getStringOption)(s.type,["optional","required"]),this.use=s.use||"",this.usehref=s.usehref||""}}class Ze extends t.XFAObject{constructor(s){super(d,"hyphenation"),this.excludeAllCaps=(0,r.getInteger)({data:s.excludeAllCaps,defaultValue:0,validate:oe=>oe===1}),this.excludeInitialCap=(0,r.getInteger)({data:s.excludeInitialCap,defaultValue:0,validate:oe=>oe===1}),this.hyphenate=(0,r.getInteger)({data:s.hyphenate,defaultValue:0,validate:oe=>oe===1}),this.id=s.id||"",this.pushCharacterCount=(0,r.getInteger)({data:s.pushCharacterCount,defaultValue:3,validate:oe=>oe>=0}),this.remainCharacterCount=(0,r.getInteger)({data:s.remainCharacterCount,defaultValue:3,validate:oe=>oe>=0}),this.use=s.use||"",this.usehref=s.usehref||"",this.wordCharacterCount=(0,r.getInteger)({data:s.wordCharacterCount,defaultValue:7,validate:oe=>oe>=0})}}class Ke extends t.StringObject{constructor(s){super(d,"image"),this.aspect=(0,r.getStringOption)(s.aspect,["fit","actual","height","none","width"]),this.contentType=s.contentType||"",this.href=s.href||"",this.id=s.id||"",this.name=s.name||"",this.transferEncoding=(0,r.getStringOption)(s.transferEncoding,["base64","none","package"]),this.use=s.use||"",this.usehref=s.usehref||""}[n.$toHTML](){if(this.contentType&&!b.has(this.contentType.toLowerCase()))return r.HTMLResult.EMPTY;let s=this[n.$globalData].images&&this[n.$globalData].images.get(this.href);if(!s&&(this.href||!this[n.$content])||(!s&&this.transferEncoding==="base64"&&(s=(0,z.stringToBytes)(atob(this[n.$content]))),!s))return r.HTMLResult.EMPTY;if(!this.contentType){for(const[nt,ft]of L)if(s.length>nt.length&&nt.every((xt,yt)=>xt===s[yt])){this.contentType=ft;break}if(!this.contentType)return r.HTMLResult.EMPTY}const oe=new Blob([s],{type:this.contentType});let He;switch(this.aspect){case"fit":case"actual":break;case"height":He={height:"100%",objectFit:"fill"};break;case"none":He={width:"100%",height:"100%",objectFit:"fill"};break;case"width":He={width:"100%",objectFit:"fill"};break}const Je=this[n.$getParent]();return r.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:He,src:URL.createObjectURL(oe),alt:Je?a(Je[n.$getParent]()):null}})}}class qe extends t.XFAObject{constructor(s){super(d,"imageEdit",!0),this.data=(0,r.getStringOption)(s.data,["link","embed"]),this.id=s.id||"",this.use=s.use||"",this.usehref=s.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](s){return this.data==="embed"?r.HTMLResult.success({name:"div",children:[],attributes:{}}):r.HTMLResult.EMPTY}}class tt extends t.ContentObject{constructor(s){super(d,"integer"),this.id=s.id||"",this.name=s.name||"",this.use=s.use||"",this.usehref=s.usehref||""}[n.$finalize](){const s=parseInt(this[n.$content].trim(),10);this[n.$content]=isNaN(s)?null:s}[n.$toHTML](s){return g(this[n.$content]!==null?this[n.$content].toString():"")}}class it extends t.XFAObject{constructor(s){super(d,"issuers",!0),this.id=s.id||"",this.type=(0,r.getStringOption)(s.type,["optional","required"]),this.use=s.use||"",this.usehref=s.usehref||"",this.certificate=new t.XFAObjectArray}}class ot extends t.XFAObject{constructor(s){super(d,"items",!0),this.id=s.id||"",this.name=s.name||"",this.presence=(0,r.getStringOption)(s.presence,["visible","hidden","inactive","invisible"]),this.ref=s.ref||"",this.save=(0,r.getInteger)({data:s.save,defaultValue:0,validate:oe=>oe===1}),this.use=s.use||"",this.usehref=s.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}[n.$toHTML](){const s=[];for(const oe of this[n.$getChildren]())s.push(oe[n.$text]());return r.HTMLResult.success(s)}}m.Items=ot;class dt extends t.XFAObject{constructor(s){super(d,"keep",!0),this.id=s.id||"";const oe=["none","contentArea","pageArea"];this.intact=(0,r.getStringOption)(s.intact,oe),this.next=(0,r.getStringOption)(s.next,oe),this.previous=(0,r.getStringOption)(s.previous,oe),this.use=s.use||"",this.usehref=s.usehref||"",this.extras=null}}class ct extends t.XFAObject{constructor(s){super(d,"keyUsage");const oe=["","yes","no"];this.crlSign=(0,r.getStringOption)(s.crlSign,oe),this.dataEncipherment=(0,r.getStringOption)(s.dataEncipherment,oe),this.decipherOnly=(0,r.getStringOption)(s.decipherOnly,oe),this.digitalSignature=(0,r.getStringOption)(s.digitalSignature,oe),this.encipherOnly=(0,r.getStringOption)(s.encipherOnly,oe),this.id=s.id||"",this.keyAgreement=(0,r.getStringOption)(s.keyAgreement,oe),this.keyCertSign=(0,r.getStringOption)(s.keyCertSign,oe),this.keyEncipherment=(0,r.getStringOption)(s.keyEncipherment,oe),this.nonRepudiation=(0,r.getStringOption)(s.nonRepudiation,oe),this.type=(0,r.getStringOption)(s.type,["optional","required"]),this.use=s.use||"",this.usehref=s.usehref||""}}class wt extends t.XFAObject{constructor(s){super(d,"line",!0),this.hand=(0,r.getStringOption)(s.hand,["even","left","right"]),this.id=s.id||"",this.slope=(0,r.getStringOption)(s.slope,["\\","/"]),this.use=s.use||"",this.usehref=s.usehref||"",this.edge=null}[n.$toHTML](){const s=this[n.$getParent]()[n.$getParent](),oe=this.edge||new ke({}),He=oe[n.$toStyle](),Je=Object.create(null),nt=oe.presence==="visible"?oe.thickness:0;Je.strokeWidth=(0,e.measureToString)(nt),Je.stroke=He.color;let ft,xt,yt,Pt,Nt="100%",jt="100%";s.w<=nt?([ft,xt,yt,Pt]=["50%",0,"50%","100%"],Nt=Je.strokeWidth):s.h<=nt?([ft,xt,yt,Pt]=[0,"50%","100%","50%"],jt=Je.strokeWidth):this.slope==="\\"?[ft,xt,yt,Pt]=[0,0,"100%","100%"]:[ft,xt,yt,Pt]=[0,"100%","100%",0];const Ut={name:"svg",children:[{name:"line",attributes:{xmlns:u,x1:ft,y1:xt,x2:yt,y2:Pt,style:Je}}],attributes:{xmlns:u,width:Nt,height:jt,style:{overflow:"visible"}}};return V(s)?r.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Ut]}):(Ut.attributes.style.position="absolute",r.HTMLResult.success(Ut))}}class It extends t.XFAObject{constructor(s){super(d,"linear",!0),this.id=s.id||"",this.type=(0,r.getStringOption)(s.type,["toRight","toBottom","toLeft","toTop"]),this.use=s.use||"",this.usehref=s.usehref||"",this.color=null,this.extras=null}[n.$toStyle](s){s=s?s[n.$toStyle]():"#FFFFFF";const oe=this.type.replace(/([RBLT])/," $1").toLowerCase(),He=this.color?this.color[n.$toStyle]():"#000000";return`linear-gradient(${oe}, ${s}, ${He})`}}class Ye extends t.ContentObject{constructor(s){super(d,"lockDocument"),this.id=s.id||"",this.type=(0,r.getStringOption)(s.type,["optional","required"]),this.use=s.use||"",this.usehref=s.usehref||""}[n.$finalize](){this[n.$content]=(0,r.getStringOption)(this[n.$content],["auto","0","1"])}}class Ve extends t.XFAObject{constructor(s){super(d,"manifest",!0),this.action=(0,r.getStringOption)(s.action,["include","all","exclude"]),this.id=s.id||"",this.name=s.name||"",this.use=s.use||"",this.usehref=s.usehref||"",this.extras=null,this.ref=new t.XFAObjectArray}}class et extends t.XFAObject{constructor(s){super(d,"margin",!0),this.bottomInset=(0,r.getMeasurement)(s.bottomInset,"0"),this.id=s.id||"",this.leftInset=(0,r.getMeasurement)(s.leftInset,"0"),this.rightInset=(0,r.getMeasurement)(s.rightInset,"0"),this.topInset=(0,r.getMeasurement)(s.topInset,"0"),this.use=s.use||"",this.usehref=s.usehref||"",this.extras=null}[n.$toStyle](){return{margin:(0,e.measureToString)(this.topInset)+" "+(0,e.measureToString)(this.rightInset)+" "+(0,e.measureToString)(this.bottomInset)+" "+(0,e.measureToString)(this.leftInset)}}}class at extends t.XFAObject{constructor(s){super(d,"mdp"),this.id=s.id||"",this.permissions=(0,r.getInteger)({data:s.permissions,defaultValue:2,validate:oe=>oe===1||oe===3}),this.signatureType=(0,r.getStringOption)(s.signatureType,["filler","author"]),this.use=s.use||"",this.usehref=s.usehref||""}}class lt extends t.XFAObject{constructor(s){super(d,"medium"),this.id=s.id||"",this.imagingBBox=(0,r.getBBox)(s.imagingBBox),this.long=(0,r.getMeasurement)(s.long),this.orientation=(0,r.getStringOption)(s.orientation,["portrait","landscape"]),this.short=(0,r.getMeasurement)(s.short),this.stock=s.stock||"",this.trayIn=(0,r.getStringOption)(s.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,r.getStringOption)(s.trayOut,["auto","delegate"]),this.use=s.use||"",this.usehref=s.usehref||""}}class bt extends t.XFAObject{constructor(s){super(d,"message",!0),this.id=s.id||"",this.use=s.use||"",this.usehref=s.usehref||"",this.text=new t.XFAObjectArray}}class ht extends t.XFAObject{constructor(s){super(d,"numericEdit",!0),this.hScrollPolicy=(0,r.getStringOption)(s.hScrollPolicy,["auto","off","on"]),this.id=s.id||"",this.use=s.use||"",this.usehref=s.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](s){var nt;const oe=(0,e.toStyle)(this,"border","font","margin"),He=this[n.$getParent]()[n.$getParent](),Je={name:"input",attributes:{type:"text",fieldId:He[n.$uid],dataId:((nt=He[n.$data])==null?void 0:nt[n.$uid])||He[n.$uid],class:["xfaTextfield"],style:oe,"aria-label":a(He),"aria-required":!1}};return l(He)&&(Je.attributes["aria-required"]=!0,Je.attributes.required=!0),r.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Je]})}}class st extends t.XFAObject{constructor(s){super(d,"occur",!0),this.id=s.id||"",this.initial=s.initial!==""?(0,r.getInteger)({data:s.initial,defaultValue:"",validate:oe=>!0}):"",this.max=s.max!==""?(0,r.getInteger)({data:s.max,defaultValue:1,validate:oe=>!0}):"",this.min=s.min!==""?(0,r.getInteger)({data:s.min,defaultValue:1,validate:oe=>!0}):"",this.use=s.use||"",this.usehref=s.usehref||"",this.extras=null}[n.$clean](){const s=this[n.$getParent](),oe=this.min;this.min===""&&(this.min=s instanceof St||s instanceof vt?0:1),this.max===""&&(oe===""?this.max=s instanceof St||s instanceof vt?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=s instanceof bn?1:this.min)}}class pt extends t.StringObject{constructor(s){super(d,"oid"),this.id=s.id||"",this.name=s.name||"",this.use=s.use||"",this.usehref=s.usehref||""}}class Ct extends t.XFAObject{constructor(s){super(d,"oids",!0),this.id=s.id||"",this.type=(0,r.getStringOption)(s.type,["optional","required"]),this.use=s.use||"",this.usehref=s.usehref||"",this.oid=new t.XFAObjectArray}}class Mt extends t.XFAObject{constructor(s){super(d,"overflow"),this.id=s.id||"",this.leader=s.leader||"",this.target=s.target||"",this.trailer=s.trailer||"",this.use=s.use||"",this.usehref=s.usehref||""}[n.$getExtra](){if(!this[n.$extra]){const s=this[n.$getParent](),oe=this[n.$getTemplateRoot](),He=oe[n.$searchNode](this.target,s),Je=oe[n.$searchNode](this.leader,s),nt=oe[n.$searchNode](this.trailer,s);this[n.$extra]={target:(He==null?void 0:He[0])||null,leader:(Je==null?void 0:Je[0])||null,trailer:(nt==null?void 0:nt[0])||null,addLeader:!1,addTrailer:!1}}return this[n.$extra]}}class St extends t.XFAObject{constructor(s){super(d,"pageArea",!0),this.blankOrNotBlank=(0,r.getStringOption)(s.blankOrNotBlank,["any","blank","notBlank"]),this.id=s.id||"",this.initialNumber=(0,r.getInteger)({data:s.initialNumber,defaultValue:1,validate:oe=>!0}),this.name=s.name||"",this.numbered=(0,r.getInteger)({data:s.numbered,defaultValue:1,validate:oe=>!0}),this.oddOrEven=(0,r.getStringOption)(s.oddOrEven,["any","even","odd"]),this.pagePosition=(0,r.getStringOption)(s.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,r.getRelevant)(s.relevant),this.use=s.use||"",this.usehref=s.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new t.XFAObjectArray,this.contentArea=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.subform=new t.XFAObjectArray}[n.$isUsable](){return this[n.$extra]?!this.occur||this.occur.max===-1||this[n.$extra].numberOfUse<this.occur.max:(this[n.$extra]={numberOfUse:0},!0)}[n.$cleanPage](){delete this[n.$extra]}[n.$getNextPage](){this[n.$extra]||(this[n.$extra]={numberOfUse:0});const s=this[n.$getParent]();return s.relation==="orderedOccurrence"&&this[n.$isUsable]()?(this[n.$extra].numberOfUse+=1,this):s[n.$getNextPage]()}[n.$getAvailableSpace](){return this[n.$extra].space||{width:0,height:0}}[n.$toHTML](){this[n.$extra]||(this[n.$extra]={numberOfUse:1});const s=[];this[n.$extra].children=s;const oe=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(oe.width=(0,e.measureToString)(this.medium.short),oe.height=(0,e.measureToString)(this.medium.long),this[n.$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const He=oe.width;oe.width=oe.height,oe.height=He,this[n.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,z.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[n.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[n.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),r.HTMLResult.success({name:"div",children:s,attributes:{class:["xfaPage"],id:this[n.$uid],style:oe,xfaName:this.name}})}}class vt extends t.XFAObject{constructor(s){super(d,"pageSet",!0),this.duplexImposition=(0,r.getStringOption)(s.duplexImposition,["longEdge","shortEdge"]),this.id=s.id||"",this.name=s.name||"",this.relation=(0,r.getStringOption)(s.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,r.getRelevant)(s.relevant),this.use=s.use||"",this.usehref=s.usehref||"",this.extras=null,this.occur=null,this.pageArea=new t.XFAObjectArray,this.pageSet=new t.XFAObjectArray}[n.$cleanPage](){for(const s of this.pageArea.children)s[n.$cleanPage]();for(const s of this.pageSet.children)s[n.$cleanPage]()}[n.$isUsable](){return!this.occur||this.occur.max===-1||this[n.$extra].numberOfUse<this.occur.max}[n.$getNextPage](){if(this[n.$extra]||(this[n.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[n.$extra].pageIndex+1<this.pageArea.children.length)return this[n.$extra].pageIndex+=1,this.pageArea.children[this[n.$extra].pageIndex][n.$getNextPage]();if(this[n.$extra].pageSetIndex+1<this.pageSet.children.length)return this[n.$extra].pageSetIndex+=1,this.pageSet.children[this[n.$extra].pageSetIndex][n.$getNextPage]();if(this[n.$isUsable]())return this[n.$extra].numberOfUse+=1,this[n.$extra].pageIndex=-1,this[n.$extra].pageSetIndex=-1,this[n.$getNextPage]();const nt=this[n.$getParent]();return nt instanceof vt?nt[n.$getNextPage]():(this[n.$cleanPage](),this[n.$getNextPage]())}const s=this[n.$getTemplateRoot]()[n.$extra].pageNumber,oe=s%2===0?"even":"odd",He=s===0?"first":"rest";let Je=this.pageArea.children.find(nt=>nt.oddOrEven===oe&&nt.pagePosition===He);return Je||(Je=this.pageArea.children.find(nt=>nt.oddOrEven==="any"&&nt.pagePosition===He),Je)||(Je=this.pageArea.children.find(nt=>nt.oddOrEven==="any"&&nt.pagePosition==="any"),Je)?Je:this.pageArea.children[0]}}class Ot extends t.XFAObject{constructor(s){super(d,"para",!0),this.hAlign=(0,r.getStringOption)(s.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=s.id||"",this.lineHeight=s.lineHeight?(0,r.getMeasurement)(s.lineHeight,"0pt"):"",this.marginLeft=s.marginLeft?(0,r.getMeasurement)(s.marginLeft,"0pt"):"",this.marginRight=s.marginRight?(0,r.getMeasurement)(s.marginRight,"0pt"):"",this.orphans=(0,r.getInteger)({data:s.orphans,defaultValue:0,validate:oe=>oe>=0}),this.preserve=s.preserve||"",this.radixOffset=s.radixOffset?(0,r.getMeasurement)(s.radixOffset,"0pt"):"",this.spaceAbove=s.spaceAbove?(0,r.getMeasurement)(s.spaceAbove,"0pt"):"",this.spaceBelow=s.spaceBelow?(0,r.getMeasurement)(s.spaceBelow,"0pt"):"",this.tabDefault=s.tabDefault?(0,r.getMeasurement)(this.tabDefault):"",this.tabStops=(s.tabStops||"").trim().split(/\s+/).map((oe,He)=>He%2===1?(0,r.getMeasurement)(oe):oe),this.textIndent=s.textIndent?(0,r.getMeasurement)(s.textIndent,"0pt"):"",this.use=s.use||"",this.usehref=s.usehref||"",this.vAlign=(0,r.getStringOption)(s.vAlign,["top","bottom","middle"]),this.widows=(0,r.getInteger)({data:s.widows,defaultValue:0,validate:oe=>oe>=0}),this.hyphenation=null}[n.$toStyle](){const s=(0,e.toStyle)(this,"hAlign");return this.marginLeft!==""&&(s.paddingLeft=(0,e.measureToString)(this.marginLeft)),this.marginRight!==""&&(s.paddingight=(0,e.measureToString)(this.marginRight)),this.spaceAbove!==""&&(s.paddingTop=(0,e.measureToString)(this.spaceAbove)),this.spaceBelow!==""&&(s.paddingBottom=(0,e.measureToString)(this.spaceBelow)),this.textIndent!==""&&(s.textIndent=(0,e.measureToString)(this.textIndent),(0,e.fixTextIndent)(s)),this.lineHeight>0&&(s.lineHeight=(0,e.measureToString)(this.lineHeight)),this.tabDefault!==""&&(s.tabSize=(0,e.measureToString)(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(s,this.hyphenatation[n.$toStyle]()),s}}class mt extends t.XFAObject{constructor(s){super(d,"passwordEdit",!0),this.hScrollPolicy=(0,r.getStringOption)(s.hScrollPolicy,["auto","off","on"]),this.id=s.id||"",this.passwordChar=s.passwordChar||"*",this.use=s.use||"",this.usehref=s.usehref||"",this.border=null,this.extras=null,this.margin=null}}class kt extends t.XFAObject{constructor(s){super(d,"pattern",!0),this.id=s.id||"",this.type=(0,r.getStringOption)(s.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=s.use||"",this.usehref=s.usehref||"",this.color=null,this.extras=null}[n.$toStyle](s){s=s?s[n.$toStyle]():"#FFFFFF";const oe=this.color?this.color[n.$toStyle]():"#000000",He=5,Je="repeating-linear-gradient",nt=`${s},${s} ${He}px,${oe} ${He}px,${oe} ${2*He}px`;switch(this.type){case"crossHatch":return`${Je}(to top,${nt}) ${Je}(to right,${nt})`;case"crossDiagonal":return`${Je}(45deg,${nt}) ${Je}(-45deg,${nt})`;case"diagonalLeft":return`${Je}(45deg,${nt})`;case"diagonalRight":return`${Je}(-45deg,${nt})`;case"horizontal":return`${Je}(to top,${nt})`;case"vertical":return`${Je}(to right,${nt})`}return""}}class gt extends t.StringObject{constructor(s){super(d,"picture"),this.id=s.id||"",this.use=s.use||"",this.usehref=s.usehref||""}}class Et extends t.XFAObject{constructor(s){super(d,"proto",!0),this.appearanceFilter=new t.XFAObjectArray,this.arc=new t.XFAObjectArray,this.area=new t.XFAObjectArray,this.assist=new t.XFAObjectArray,this.barcode=new t.XFAObjectArray,this.bindItems=new t.XFAObjectArray,this.bookend=new t.XFAObjectArray,this.boolean=new t.XFAObjectArray,this.border=new t.XFAObjectArray,this.break=new t.XFAObjectArray,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.button=new t.XFAObjectArray,this.calculate=new t.XFAObjectArray,this.caption=new t.XFAObjectArray,this.certificate=new t.XFAObjectArray,this.certificates=new t.XFAObjectArray,this.checkButton=new t.XFAObjectArray,this.choiceList=new t.XFAObjectArray,this.color=new t.XFAObjectArray,this.comb=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.contentArea=new t.XFAObjectArray,this.corner=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.dateTimeEdit=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.defaultUi=new t.XFAObjectArray,this.desc=new t.XFAObjectArray,this.digestMethod=new t.XFAObjectArray,this.digestMethods=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.edge=new t.XFAObjectArray,this.encoding=new t.XFAObjectArray,this.encodings=new t.XFAObjectArray,this.encrypt=new t.XFAObjectArray,this.encryptData=new t.XFAObjectArray,this.encryption=new t.XFAObjectArray,this.encryptionMethod=new t.XFAObjectArray,this.encryptionMethods=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.execute=new t.XFAObjectArray,this.extras=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.fill=new t.XFAObjectArray,this.filter=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.font=new t.XFAObjectArray,this.format=new t.XFAObjectArray,this.handler=new t.XFAObjectArray,this.hyphenation=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.imageEdit=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.issuers=new t.XFAObjectArray,this.items=new t.XFAObjectArray,this.keep=new t.XFAObjectArray,this.keyUsage=new t.XFAObjectArray,this.line=new t.XFAObjectArray,this.linear=new t.XFAObjectArray,this.lockDocument=new t.XFAObjectArray,this.manifest=new t.XFAObjectArray,this.margin=new t.XFAObjectArray,this.mdp=new t.XFAObjectArray,this.medium=new t.XFAObjectArray,this.message=new t.XFAObjectArray,this.numericEdit=new t.XFAObjectArray,this.occur=new t.XFAObjectArray,this.oid=new t.XFAObjectArray,this.oids=new t.XFAObjectArray,this.overflow=new t.XFAObjectArray,this.pageArea=new t.XFAObjectArray,this.pageSet=new t.XFAObjectArray,this.para=new t.XFAObjectArray,this.passwordEdit=new t.XFAObjectArray,this.pattern=new t.XFAObjectArray,this.picture=new t.XFAObjectArray,this.radial=new t.XFAObjectArray,this.reason=new t.XFAObjectArray,this.reasons=new t.XFAObjectArray,this.rectangle=new t.XFAObjectArray,this.ref=new t.XFAObjectArray,this.script=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray,this.signData=new t.XFAObjectArray,this.signature=new t.XFAObjectArray,this.signing=new t.XFAObjectArray,this.solid=new t.XFAObjectArray,this.speak=new t.XFAObjectArray,this.stipple=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray,this.subjectDN=new t.XFAObjectArray,this.subjectDNs=new t.XFAObjectArray,this.submit=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.textEdit=new t.XFAObjectArray,this.time=new t.XFAObjectArray,this.timeStamp=new t.XFAObjectArray,this.toolTip=new t.XFAObjectArray,this.traversal=new t.XFAObjectArray,this.traverse=new t.XFAObjectArray,this.ui=new t.XFAObjectArray,this.validate=new t.XFAObjectArray,this.value=new t.XFAObjectArray,this.variables=new t.XFAObjectArray}}class Rt extends t.XFAObject{constructor(s){super(d,"radial",!0),this.id=s.id||"",this.type=(0,r.getStringOption)(s.type,["toEdge","toCenter"]),this.use=s.use||"",this.usehref=s.usehref||"",this.color=null,this.extras=null}[n.$toStyle](s){s=s?s[n.$toStyle]():"#FFFFFF";const oe=this.color?this.color[n.$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${s},${oe}`:`${oe},${s}`})`}}class Wt extends t.StringObject{constructor(s){super(d,"reason"),this.id=s.id||"",this.name=s.name||"",this.use=s.use||"",this.usehref=s.usehref||""}}class Ft extends t.XFAObject{constructor(s){super(d,"reasons",!0),this.id=s.id||"",this.type=(0,r.getStringOption)(s.type,["optional","required"]),this.use=s.use||"",this.usehref=s.usehref||"",this.reason=new t.XFAObjectArray}}class Tt extends t.XFAObject{constructor(s){super(d,"rectangle",!0),this.hand=(0,r.getStringOption)(s.hand,["even","left","right"]),this.id=s.id||"",this.use=s.use||"",this.usehref=s.usehref||"",this.corner=new t.XFAObjectArray(4),this.edge=new t.XFAObjectArray(4),this.fill=null}[n.$toHTML](){var Pt;const s=this.edge.children.length?this.edge.children[0]:new ke({}),oe=s[n.$toStyle](),He=Object.create(null);((Pt=this.fill)==null?void 0:Pt.presence)==="visible"?Object.assign(He,this.fill[n.$toStyle]()):He.fill="transparent",He.strokeWidth=(0,e.measureToString)(s.presence==="visible"?s.thickness:0),He.stroke=oe.color;const nt=(this.corner.children.length?this.corner.children[0]:new le({}))[n.$toStyle](),xt={name:"svg",children:[{name:"rect",attributes:{xmlns:u,width:"100%",height:"100%",x:0,y:0,rx:nt.radius,ry:nt.radius,style:He}}],attributes:{xmlns:u,style:{overflow:"visible"},width:"100%",height:"100%"}},yt=this[n.$getParent]()[n.$getParent]();return V(yt)?r.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[xt]}):(xt.attributes.style.position="absolute",r.HTMLResult.success(xt))}}class Bt extends t.StringObject{constructor(s){super(d,"ref"),this.id=s.id||"",this.use=s.use||"",this.usehref=s.usehref||""}}class Ht extends t.StringObject{constructor(s){super(d,"script"),this.binding=s.binding||"",this.contentType=s.contentType||"",this.id=s.id||"",this.name=s.name||"",this.runAt=(0,r.getStringOption)(s.runAt,["client","both","server"]),this.use=s.use||"",this.usehref=s.usehref||""}}class Kt extends t.XFAObject{constructor(s){super(d,"setProperty"),this.connection=s.connection||"",this.ref=s.ref||"",this.target=s.target||""}}m.SetProperty=Kt;class sn extends t.XFAObject{constructor(s){super(d,"signData",!0),this.id=s.id||"",this.operation=(0,r.getStringOption)(s.operation,["sign","clear","verify"]),this.ref=s.ref||"",this.target=s.target||"",this.use=s.use||"",this.usehref=s.usehref||"",this.filter=null,this.manifest=null}}class Zn extends t.XFAObject{constructor(s){super(d,"signature",!0),this.id=s.id||"",this.type=(0,r.getStringOption)(s.type,["PDF1.3","PDF1.6"]),this.use=s.use||"",this.usehref=s.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class Qn extends t.XFAObject{constructor(s){super(d,"signing",!0),this.id=s.id||"",this.type=(0,r.getStringOption)(s.type,["optional","required"]),this.use=s.use||"",this.usehref=s.usehref||"",this.certificate=new t.XFAObjectArray}}class ei extends t.XFAObject{constructor(s){super(d,"solid",!0),this.id=s.id||"",this.use=s.use||"",this.usehref=s.usehref||"",this.extras=null}[n.$toStyle](s){return s?s[n.$toStyle]():"#FFFFFF"}}class ti extends t.StringObject{constructor(s){super(d,"speak"),this.disable=(0,r.getInteger)({data:s.disable,defaultValue:0,validate:oe=>oe===1}),this.id=s.id||"",this.priority=(0,r.getStringOption)(s.priority,["custom","caption","name","toolTip"]),this.rid=s.rid||"",this.use=s.use||"",this.usehref=s.usehref||""}}class ni extends t.XFAObject{constructor(s){super(d,"stipple",!0),this.id=s.id||"",this.rate=(0,r.getInteger)({data:s.rate,defaultValue:50,validate:oe=>oe>=0&&oe<=100}),this.use=s.use||"",this.usehref=s.usehref||"",this.color=null,this.extras=null}[n.$toStyle](s){const oe=this.rate/100;return z.Util.makeHexColor(Math.round(s.value.r*(1-oe)+this.value.r*oe),Math.round(s.value.g*(1-oe)+this.value.g*oe),Math.round(s.value.b*(1-oe)+this.value.b*oe))}}class In extends t.XFAObject{constructor(s){super(d,"subform",!0),this.access=(0,r.getStringOption)(s.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,r.getInteger)({data:s.allowMacro,defaultValue:0,validate:oe=>oe===1}),this.anchorType=(0,r.getStringOption)(s.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,r.getInteger)({data:s.colSpan,defaultValue:1,validate:oe=>oe>=1||oe===-1}),this.columnWidths=(s.columnWidths||"").trim().split(/\s+/).map(oe=>oe==="-1"?-1:(0,r.getMeasurement)(oe)),this.h=s.h?(0,r.getMeasurement)(s.h):"",this.hAlign=(0,r.getStringOption)(s.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=s.id||"",this.layout=(0,r.getStringOption)(s.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=s.locale||"",this.maxH=(0,r.getMeasurement)(s.maxH,"0pt"),this.maxW=(0,r.getMeasurement)(s.maxW,"0pt"),this.mergeMode=(0,r.getStringOption)(s.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,r.getMeasurement)(s.minH,"0pt"),this.minW=(0,r.getMeasurement)(s.minW,"0pt"),this.name=s.name||"",this.presence=(0,r.getStringOption)(s.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,r.getRelevant)(s.relevant),this.restoreState=(0,r.getStringOption)(s.restoreState,["manual","auto"]),this.scope=(0,r.getStringOption)(s.scope,["name","none"]),this.use=s.use||"",this.usehref=s.usehref||"",this.w=s.w?(0,r.getMeasurement)(s.w):"",this.x=(0,r.getMeasurement)(s.x,"0pt"),this.y=(0,r.getMeasurement)(s.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new t.XFAObjectArray,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.proto=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}[n.$getSubformParent](){const s=this[n.$getParent]();return s instanceof xn?s[n.$getSubformParent]():s}[n.$isBindable](){return!0}[n.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine>0||this[n.$getParent]()[n.$isThereMoreWidth]()}*[n.$getContainedChildren](){yield*_(this)}[n.$flushHTML](){return(0,N.flushHTML)(this)}[n.$addHTML](s,oe){(0,N.addHTML)(this,s,oe)}[n.$getAvailableSpace](){return(0,N.getAvailableSpace)(this)}[n.$isSplittable](){var oe;const s=this[n.$getSubformParent]();return s[n.$isSplittable]()?this[n.$extra]._isSplittable!==void 0?this[n.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[n.$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[n.$extra]._isSplittable=!1,!1):(oe=s.layout)!=null&&oe.endsWith("-tb")&&s[n.$extra].numberInLine!==0?!1:(this[n.$extra]._isSplittable=!0,!0):!1}[n.$toHTML](s){var Lt;if(x(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const At=new q({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});At[n.$globalData]=this[n.$globalData],this[n.$appendChild](At),this.breakAfter.push(At)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const At=new ce({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});At[n.$globalData]=this[n.$globalData],this[n.$appendChild](At),this.breakBefore.push(At)}if(this.break.overflowTarget!==""){const At=new Mt({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});At[n.$globalData]=this[n.$globalData],this[n.$appendChild](At),this.overflow.push(At)}this[n.$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return r.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,z.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const At=this.breakBefore.children[0];if(D(At))return r.HTMLResult.breakNode(At)}if((Lt=this[n.$extra])!=null&&Lt.afterBreakAfter)return r.HTMLResult.EMPTY;(0,e.fixDimensions)(this);const oe=[],He={id:this[n.$uid],class:[]};(0,e.setAccess)(this,He.class),this[n.$extra]||(this[n.$extra]=Object.create(null)),Object.assign(this[n.$extra],{children:oe,line:null,attributes:He,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,s.width),height:Math.min(this.h||1/0,s.height)},width:0,height:0,prevHeight:0,currentWidth:0});const Je=this[n.$getTemplateRoot](),nt=Je[n.$extra].noLayoutFailure,ft=this[n.$isSplittable]();if(ft||P(this),!(0,N.checkDimensions)(this,s))return r.HTMLResult.FAILURE;const xt=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const At=this[n.$getSubformParent]().columnWidths;Array.isArray(At)&&At.length>0&&(this[n.$extra].columnWidths=At,this[n.$extra].currentColumn=0)}const yt=(0,e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),Pt=["xfaSubform"],Nt=(0,e.layoutClass)(this);if(Nt&&Pt.push(Nt),He.style=yt,He.class=Pt,this.name&&(He.xfaName=this.name),this.overflow){const At=this.overflow[n.$getExtra]();At.addLeader&&(At.addLeader=!1,w(this,At.leader,s))}this[n.$pushPara]();const jt=this.layout==="lr-tb"||this.layout==="rl-tb",$t=jt?i:1;for(;this[n.$extra].attempt<$t;this[n.$extra].attempt++){jt&&this[n.$extra].attempt===i-1&&(this[n.$extra].numberInLine=0);const At=this[n.$childrenToHTML]({filter:xt,include:!0});if(At.success)break;if(At.isBreak())return this[n.$popPara](),At;if(jt&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine===0&&!Je[n.$extra].noLayoutFailure){this[n.$extra].attempt=$t;break}}if(this[n.$popPara](),ft||G(this),Je[n.$extra].noLayoutFailure=nt,this[n.$extra].attempt===$t)return this.overflow&&(this[n.$getTemplateRoot]()[n.$extra].overflowNode=this.overflow),ft||delete this[n.$extra],r.HTMLResult.FAILURE;if(this.overflow){const At=this.overflow[n.$getExtra]();At.addTrailer&&(At.addTrailer=!1,w(this,At.trailer,s))}let Ut=0,zt=0;this.margin&&(Ut=this.margin.leftInset+this.margin.rightInset,zt=this.margin.topInset+this.margin.bottomInset);const _t=Math.max(this[n.$extra].width+Ut,this.w||0),Gt=Math.max(this[n.$extra].height+zt,this.h||0),Xt=[this.x,this.y,_t,Gt];if(this.w===""&&(yt.width=(0,e.measureToString)(_t)),this.h===""&&(yt.height=(0,e.measureToString)(Gt)),(yt.width==="0px"||yt.height==="0px")&&oe.length===0)return r.HTMLResult.EMPTY;const Yt={name:"div",attributes:He,children:oe};X(this,He);const Vt=r.HTMLResult.success((0,e.createWrapper)(this,Yt),Xt);if(this.breakAfter.children.length>=1){const At=this.breakAfter.children[0];if(D(At))return this[n.$extra].afterBreakAfter=Vt,r.HTMLResult.breakNode(At)}return delete this[n.$extra],Vt}}class xn extends t.XFAObject{constructor(s){super(d,"subformSet",!0),this.id=s.id||"",this.name=s.name||"",this.relation=(0,r.getStringOption)(s.relation,["ordered","choice","unordered"]),this.relevant=(0,r.getRelevant)(s.relevant),this.use=s.use||"",this.usehref=s.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}*[n.$getContainedChildren](){yield*_(this)}[n.$getSubformParent](){let s=this[n.$getParent]();for(;!(s instanceof In);)s=s[n.$getParent]();return s}[n.$isBindable](){return!0}}class ii extends t.ContentObject{constructor(s){super(d,"subjectDN"),this.delimiter=s.delimiter||",",this.id=s.id||"",this.name=s.name||"",this.use=s.use||"",this.usehref=s.usehref||""}[n.$finalize](){this[n.$content]=new Map(this[n.$content].split(this.delimiter).map(s=>(s=s.split("=",2),s[0]=s[0].trim(),s)))}}class si extends t.XFAObject{constructor(s){super(d,"subjectDNs",!0),this.id=s.id||"",this.type=(0,r.getStringOption)(s.type,["optional","required"]),this.use=s.use||"",this.usehref=s.usehref||"",this.subjectDN=new t.XFAObjectArray}}class ai extends t.XFAObject{constructor(s){super(d,"submit",!0),this.embedPDF=(0,r.getInteger)({data:s.embedPDF,defaultValue:0,validate:oe=>oe===1}),this.format=(0,r.getStringOption)(s.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=s.id||"",this.target=s.target||"",this.textEncoding=(0,r.getKeyword)({data:s.textEncoding?s.textEncoding.toLowerCase():"",defaultValue:"",validate:oe=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(oe)||oe.match(/iso-8859-\d{2}/)}),this.use=s.use||"",this.usehref=s.usehref||"",this.xdpContent=s.xdpContent||"",this.encrypt=null,this.encryptData=new t.XFAObjectArray,this.signData=new t.XFAObjectArray}}class bn extends t.XFAObject{constructor(s){super(d,"template",!0),this.baseProfile=(0,r.getStringOption)(s.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new t.XFAObjectArray}[n.$finalize](){this.subform.children.length===0&&(0,z.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,z.warn)("XFA - Several subforms in template node: please file a bug."),this[n.$tabIndex]=C}[n.$isSplittable](){return!0}[n.$searchNode](s,oe){return s.startsWith("#")?[this[n.$ids].get(s.slice(1))]:(0,I.searchNode)(this,oe,s,!0,!0)}*[n.$toPages](){var zt,_t,Gt;if(!this.subform.children.length)return r.HTMLResult.success({name:"div",children:[]});this[n.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const s=this.subform.children[0];s.pageSet[n.$cleanPage]();const oe=s.pageSet.pageArea.children,He={name:"div",children:[]};let Je=null,nt=null,ft=null;if(s.breakBefore.children.length>=1?(nt=s.breakBefore.children[0],ft=nt.target):s.subform.children.length>=1&&s.subform.children[0].breakBefore.children.length>=1?(nt=s.subform.children[0].breakBefore.children[0],ft=nt.target):(zt=s.break)!=null&&zt.beforeTarget?(nt=s.break,ft=nt.beforeTarget):s.subform.children.length>=1&&((_t=s.subform.children[0].break)!=null&&_t.beforeTarget)&&(nt=s.subform.children[0].break,ft=nt.beforeTarget),nt){const Xt=this[n.$searchNode](ft,nt[n.$getParent]());Xt instanceof St&&(Je=Xt,nt[n.$extra]={})}Je||(Je=oe[0]),Je[n.$extra]={numberOfUse:1};const xt=Je[n.$getParent]();xt[n.$extra]={numberOfUse:1,pageIndex:xt.pageArea.children.indexOf(Je),pageSetIndex:0};let yt,Pt=null,Nt=null,jt=!0,$t=0,Ut=0;for(;;){if(jt)$t=0;else if(He.children.pop(),++$t===F)return(0,z.warn)("XFA - Something goes wrong: please file a bug."),He;yt=null,this[n.$extra].currentPageArea=Je;const Xt=Je[n.$toHTML]().html;He.children.push(Xt),Pt&&(this[n.$extra].noLayoutFailure=!0,Xt.children.push(Pt[n.$toHTML](Je[n.$extra].space).html),Pt=null),Nt&&(this[n.$extra].noLayoutFailure=!0,Xt.children.push(Nt[n.$toHTML](Je[n.$extra].space).html),Nt=null);const Yt=Je.contentArea.children,Vt=Xt.children.filter(At=>At.attributes.class.includes("xfaContentarea"));jt=!1,this[n.$extra].firstUnsplittable=null,this[n.$extra].noLayoutFailure=!1;const Lt=At=>{var Jt;const Qt=s[n.$flushHTML]();Qt&&(jt||(jt=((Jt=Qt.children)==null?void 0:Jt.length)>0),Vt[At].children.push(Qt))};for(let At=Ut,Qt=Yt.length;At<Qt;At++){const Jt=this[n.$extra].currentContentArea=Yt[At],nn={width:Jt.w,height:Jt.h};Ut=0,Pt&&(Vt[At].children.push(Pt[n.$toHTML](nn).html),Pt=null),Nt&&(Vt[At].children.push(Nt[n.$toHTML](nn).html),Nt=null);const en=s[n.$toHTML](nn);if(en.success)return en.html?(jt||(jt=((Gt=en.html.children)==null?void 0:Gt.length)>0),Vt[At].children.push(en.html)):!jt&&He.children.length>1&&He.children.pop(),He;if(en.isBreak()){const qt=en.breakNode;if(Lt(At),qt.targetType==="auto")continue;qt.leader&&(Pt=this[n.$searchNode](qt.leader,qt[n.$getParent]()),Pt=Pt?Pt[0]:null),qt.trailer&&(Nt=this[n.$searchNode](qt.trailer,qt[n.$getParent]()),Nt=Nt?Nt[0]:null),qt.targetType==="pageArea"?(yt=qt[n.$extra].target,At=1/0):qt[n.$extra].target?(yt=qt[n.$extra].target,Ut=qt[n.$extra].index+1,At=1/0):At=qt[n.$extra].index;continue}if(this[n.$extra].overflowNode){const qt=this[n.$extra].overflowNode;this[n.$extra].overflowNode=null;const wn=qt[n.$getExtra](),cn=wn.target;wn.addLeader=wn.leader!==null,wn.addTrailer=wn.trailer!==null,Lt(At);const Ks=At;if(At=1/0,cn instanceof St)yt=cn;else if(cn instanceof he){const _n=Yt.indexOf(cn);_n!==-1?_n>Ks?At=_n-1:Ut=_n:(yt=cn[n.$getParent](),Ut=yt.contentArea.children.indexOf(cn))}continue}Lt(At)}this[n.$extra].pageNumber+=1,yt&&(yt[n.$isUsable]()?yt[n.$extra].numberOfUse+=1:yt=null),Je=yt||Je[n.$getNextPage](),yield null}}}m.Template=bn;class On extends t.ContentObject{constructor(s){super(d,"text"),this.id=s.id||"",this.maxChars=(0,r.getInteger)({data:s.maxChars,defaultValue:0,validate:oe=>oe>=0}),this.name=s.name||"",this.rid=s.rid||"",this.use=s.use||"",this.usehref=s.usehref||""}[n.$acceptWhitespace](){return!0}[n.$onChild](s){return s[n.$namespaceId]===S.NamespaceIds.xhtml.id?(this[n.$content]=s,!0):((0,z.warn)(`XFA - Invalid content in Text: ${s[n.$nodeName]}.`),!1)}[n.$onText](s){this[n.$content]instanceof t.XFAObject||super[n.$onText](s)}[n.$finalize](){typeof this[n.$content]=="string"&&(this[n.$content]=this[n.$content].replaceAll(`\r
`,`
`))}[n.$getExtra](){return typeof this[n.$content]=="string"?this[n.$content].split(/[\u2029\u2028\n]/).reduce((s,oe)=>(oe&&s.push(oe),s),[]).join(`
`):this[n.$content][n.$text]()}[n.$toHTML](s){if(typeof this[n.$content]=="string"){const oe=g(this[n.$content]).html;return this[n.$content].includes("\u2029")?(oe.name="div",oe.children=[],this[n.$content].split("\u2029").map(He=>He.split(/[\u2028\n]/).reduce((Je,nt)=>(Je.push({name:"span",value:nt},{name:"br"}),Je),[])).forEach(He=>{oe.children.push({name:"p",children:He})})):/[\u2028\n]/.test(this[n.$content])&&(oe.name="div",oe.children=[],this[n.$content].split(/[\u2028\n]/).forEach(He=>{oe.children.push({name:"span",value:He},{name:"br"})})),r.HTMLResult.success(oe)}return this[n.$content][n.$toHTML](s)}}m.Text=On;class Pn extends t.XFAObject{constructor(s){super(d,"textEdit",!0),this.allowRichText=(0,r.getInteger)({data:s.allowRichText,defaultValue:0,validate:oe=>oe===1}),this.hScrollPolicy=(0,r.getStringOption)(s.hScrollPolicy,["auto","off","on"]),this.id=s.id||"",this.multiLine=(0,r.getInteger)({data:s.multiLine,defaultValue:"",validate:oe=>oe===0||oe===1}),this.use=s.use||"",this.usehref=s.usehref||"",this.vScrollPolicy=(0,r.getStringOption)(s.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](s){var nt,ft;const oe=(0,e.toStyle)(this,"border","font","margin");let He;const Je=this[n.$getParent]()[n.$getParent]();return this.multiLine===""&&(this.multiLine=Je instanceof Ae?1:0),this.multiLine===1?He={name:"textarea",attributes:{dataId:((nt=Je[n.$data])==null?void 0:nt[n.$uid])||Je[n.$uid],fieldId:Je[n.$uid],class:["xfaTextfield"],style:oe,"aria-label":a(Je),"aria-required":!1}}:He={name:"input",attributes:{type:"text",dataId:((ft=Je[n.$data])==null?void 0:ft[n.$uid])||Je[n.$uid],fieldId:Je[n.$uid],class:["xfaTextfield"],style:oe,"aria-label":a(Je),"aria-required":!1}},l(Je)&&(He.attributes["aria-required"]=!0,He.attributes.required=!0),r.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[He]})}}class ri extends t.StringObject{constructor(s){super(d,"time"),this.id=s.id||"",this.name=s.name||"",this.use=s.use||"",this.usehref=s.usehref||""}[n.$finalize](){const s=this[n.$content].trim();this[n.$content]=s?new Date(s):null}[n.$toHTML](s){return g(this[n.$content]?this[n.$content].toString():"")}}class oi extends t.XFAObject{constructor(s){super(d,"timeStamp"),this.id=s.id||"",this.server=s.server||"",this.type=(0,r.getStringOption)(s.type,["optional","required"]),this.use=s.use||"",this.usehref=s.usehref||""}}class ci extends t.StringObject{constructor(s){super(d,"toolTip"),this.id=s.id||"",this.rid=s.rid||"",this.use=s.use||"",this.usehref=s.usehref||""}}class li extends t.XFAObject{constructor(s){super(d,"traversal",!0),this.id=s.id||"",this.use=s.use||"",this.usehref=s.usehref||"",this.extras=null,this.traverse=new t.XFAObjectArray}}class hi extends t.XFAObject{constructor(s){super(d,"traverse",!0),this.id=s.id||"",this.operation=(0,r.getStringOption)(s.operation,["next","back","down","first","left","right","up"]),this.ref=s.ref||"",this.use=s.use||"",this.usehref=s.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[n.$isTransparent](){return!1}}class yn extends t.XFAObject{constructor(s){super(d,"ui",!0),this.id=s.id||"",this.use=s.use||"",this.usehref=s.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[n.$getExtra](){if(this[n.$extra]===void 0){for(const s of Object.getOwnPropertyNames(this)){if(s==="extras"||s==="picture")continue;const oe=this[s];if(oe instanceof t.XFAObject)return this[n.$extra]=oe,oe}this[n.$extra]=null}return this[n.$extra]}[n.$toHTML](s){const oe=this[n.$getExtra]();return oe?oe[n.$toHTML](s):r.HTMLResult.EMPTY}}class ui extends t.XFAObject{constructor(s){super(d,"validate",!0),this.formatTest=(0,r.getStringOption)(s.formatTest,["warning","disabled","error"]),this.id=s.id||"",this.nullTest=(0,r.getStringOption)(s.nullTest,["disabled","error","warning"]),this.scriptTest=(0,r.getStringOption)(s.scriptTest,["error","disabled","warning"]),this.use=s.use||"",this.usehref=s.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class rn extends t.XFAObject{constructor(s){super(d,"value",!0),this.id=s.id||"",this.override=(0,r.getInteger)({data:s.override,defaultValue:0,validate:oe=>oe===1}),this.relevant=(0,r.getRelevant)(s.relevant),this.use=s.use||"",this.usehref=s.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[n.$setValue](s){var Je;const oe=this[n.$getParent]();if(oe instanceof Fe&&(Je=oe.ui)!=null&&Je.imageEdit){this.image||(this.image=new Ke({}),this[n.$appendChild](this.image)),this.image[n.$content]=s[n.$content];return}const He=s[n.$nodeName];if(this[He]!==null){this[He][n.$content]=s[n.$content];return}for(const nt of Object.getOwnPropertyNames(this)){const ft=this[nt];ft instanceof t.XFAObject&&(this[nt]=null,this[n.$removeChild](ft))}this[s[n.$nodeName]]=s,this[n.$appendChild](s)}[n.$text](){if(this.exData)return typeof this.exData[n.$content]=="string"?this.exData[n.$content].trim():this.exData[n.$content][n.$text]().trim();for(const s of Object.getOwnPropertyNames(this)){if(s==="image")continue;const oe=this[s];if(oe instanceof t.XFAObject)return(oe[n.$content]||"").toString().trim()}return null}[n.$toHTML](s){for(const oe of Object.getOwnPropertyNames(this)){const He=this[oe];if(He instanceof t.XFAObject)return He[n.$toHTML](s)}return r.HTMLResult.EMPTY}}m.Value=rn;class di extends t.XFAObject{constructor(s){super(d,"variables",!0),this.id=s.id||"",this.use=s.use||"",this.usehref=s.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.manifest=new t.XFAObjectArray,this.script=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}[n.$isTransparent](){return!0}}class on{static[S.$buildXFAObject](s,oe){if(on.hasOwnProperty(s)){const He=on[s](oe);return He[n.$setSetAttributes](oe),He}}static appearanceFilter(s){return new A(s)}static arc(s){return new v(s)}static area(s){return new o(s)}static assist(s){return new y(s)}static barcode(s){return new c(s)}static bind(s){return new h(s)}static bindItems(s){return new O(s)}static bookend(s){return new W(s)}static boolean(s){return new R(s)}static border(s){return new H(s)}static break(s){return new ae(s)}static breakAfter(s){return new q(s)}static breakBefore(s){return new ce(s)}static button(s){return new ee(s)}static calculate(s){return new se(s)}static caption(s){return new $(s)}static certificate(s){return new U(s)}static certificates(s){return new K(s)}static checkButton(s){return new J(s)}static choiceList(s){return new Y(s)}static color(s){return new ie(s)}static comb(s){return new re(s)}static connect(s){return new Z(s)}static contentArea(s){return new he(s)}static corner(s){return new le(s)}static date(s){return new te(s)}static dateTime(s){return new ue(s)}static dateTimeEdit(s){return new ge(s)}static decimal(s){return new ye(s)}static defaultUi(s){return new Ee(s)}static desc(s){return new Oe(s)}static digestMethod(s){return new ve(s)}static digestMethods(s){return new Se(s)}static draw(s){return new Ae(s)}static edge(s){return new ke(s)}static encoding(s){return new _e(s)}static encodings(s){return new je(s)}static encrypt(s){return new Re(s)}static encryptData(s){return new be(s)}static encryption(s){return new Ce(s)}static encryptionMethod(s){return new $e(s)}static encryptionMethods(s){return new Pe(s)}static event(s){return new ze(s)}static exData(s){return new We(s)}static exObject(s){return new ut(s)}static exclGroup(s){return new Le(s)}static execute(s){return new rt(s)}static extras(s){return new Qe(s)}static field(s){return new Fe(s)}static fill(s){return new me(s)}static filter(s){return new Te(s)}static float(s){return new Ie(s)}static font(s){return new De(s)}static format(s){return new Be(s)}static handler(s){return new Ue(s)}static hyphenation(s){return new Ze(s)}static image(s){return new Ke(s)}static imageEdit(s){return new qe(s)}static integer(s){return new tt(s)}static issuers(s){return new it(s)}static items(s){return new ot(s)}static keep(s){return new dt(s)}static keyUsage(s){return new ct(s)}static line(s){return new wt(s)}static linear(s){return new It(s)}static lockDocument(s){return new Ye(s)}static manifest(s){return new Ve(s)}static margin(s){return new et(s)}static mdp(s){return new at(s)}static medium(s){return new lt(s)}static message(s){return new bt(s)}static numericEdit(s){return new ht(s)}static occur(s){return new st(s)}static oid(s){return new pt(s)}static oids(s){return new Ct(s)}static overflow(s){return new Mt(s)}static pageArea(s){return new St(s)}static pageSet(s){return new vt(s)}static para(s){return new Ot(s)}static passwordEdit(s){return new mt(s)}static pattern(s){return new kt(s)}static picture(s){return new gt(s)}static proto(s){return new Et(s)}static radial(s){return new Rt(s)}static reason(s){return new Wt(s)}static reasons(s){return new Ft(s)}static rectangle(s){return new Tt(s)}static ref(s){return new Bt(s)}static script(s){return new Ht(s)}static setProperty(s){return new Kt(s)}static signData(s){return new sn(s)}static signature(s){return new Zn(s)}static signing(s){return new Qn(s)}static solid(s){return new ei(s)}static speak(s){return new ti(s)}static stipple(s){return new ni(s)}static subform(s){return new In(s)}static subformSet(s){return new xn(s)}static subjectDN(s){return new ii(s)}static subjectDNs(s){return new si(s)}static submit(s){return new ai(s)}static template(s){return new bn(s)}static text(s){return new On(s)}static textEdit(s){return new Pn(s)}static time(s){return new ri(s)}static timeStamp(s){return new oi(s)}static toolTip(s){return new ci(s)}static traversal(s){return new li(s)}static traverse(s){return new hi(s)}static ui(s){return new yn(s)}static validate(s){return new ui(s)}static value(s){return new rn(s)}static variables(s){return new di(s)}}m.TemplateNamespace=on},(xe,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.NamespaceIds=m.$buildXFAObject=void 0;const Q=Symbol();m.$buildXFAObject=Q;const n={config:{id:0,check:S=>S.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:S=>S.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:S=>S.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:S=>S.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:S=>S.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:S=>S==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:S=>S==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:S=>S.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:S=>S==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:S=>S.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:S=>S.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:S=>S==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:S=>S==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:S=>S==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:S=>S==="http://ns.adobe.com/xmpmeta/"}};m.NamespaceIds=n},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.addHTML=t,m.checkDimensions=j,m.flushHTML=e,m.getAvailableSpace=r;var n=Q(78),S=Q(83);function N(M,I){return{name:"div",attributes:{class:[M.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:I}}function e(M){if(!M[n.$extra])return null;const d={name:"div",attributes:M[n.$extra].attributes,children:M[n.$extra].children};if(M[n.$extra].failingNode){const u=M[n.$extra].failingNode[n.$flushHTML]();u&&(M.layout.endsWith("-tb")?d.children.push(N(M,[u])):d.children.push(u))}return d.children.length===0?null:d}function t(M,I,d){const u=M[n.$extra],i=u.availableSpace,[F,C,T,b]=d;switch(M.layout){case"position":{u.width=Math.max(u.width,F+T),u.height=Math.max(u.height,C+b),u.children.push(I);break}case"lr-tb":case"rl-tb":(!u.line||u.attempt===1)&&(u.line=N(M,[]),u.children.push(u.line),u.numberInLine=0),u.numberInLine+=1,u.line.children.push(I),u.attempt===0?(u.currentWidth+=T,u.height=Math.max(u.height,u.prevHeight+b)):(u.currentWidth=T,u.prevHeight=u.height,u.height+=b,u.attempt=0),u.width=Math.max(u.width,u.currentWidth);break;case"rl-row":case"row":{u.children.push(I),u.width+=T,u.height=Math.max(u.height,b);const L=(0,S.measureToString)(u.height);for(const B of u.children)B.attributes.style.height=L;break}case"table":{u.width=Math.min(i.width,Math.max(u.width,T)),u.height+=b,u.children.push(I);break}case"tb":{u.width=Math.min(i.width,Math.max(u.width,T)),u.height+=b,u.children.push(I);break}}}function r(M){const I=M[n.$extra].availableSpace,d=M.margin?M.margin.topInset+M.margin.bottomInset:0,u=M.margin?M.margin.leftInset+M.margin.rightInset:0;switch(M.layout){case"lr-tb":case"rl-tb":return M[n.$extra].attempt===0?{width:I.width-u-M[n.$extra].currentWidth,height:I.height-d-M[n.$extra].prevHeight}:{width:I.width-u,height:I.height-d-M[n.$extra].height};case"rl-row":case"row":return{width:M[n.$extra].columnWidths.slice(M[n.$extra].currentColumn).reduce((F,C)=>F+C),height:I.height-u};case"table":case"tb":return{width:I.width-u,height:I.height-d-M[n.$extra].height};case"position":default:return I}}function z(M){let I=M.w===""?NaN:M.w,d=M.h===""?NaN:M.h,[u,i]=[0,0];switch(M.anchorType||""){case"bottomCenter":[u,i]=[I/2,d];break;case"bottomLeft":[u,i]=[0,d];break;case"bottomRight":[u,i]=[I,d];break;case"middleCenter":[u,i]=[I/2,d/2];break;case"middleLeft":[u,i]=[0,d/2];break;case"middleRight":[u,i]=[I,d/2];break;case"topCenter":[u,i]=[I/2,0];break;case"topRight":[u,i]=[I,0];break}let F,C;switch(M.rotate||0){case 0:[F,C]=[-u,-i];break;case 90:[F,C]=[-i,u],[I,d]=[d,-I];break;case 180:[F,C]=[u,i],[I,d]=[-I,-d];break;case 270:[F,C]=[i,-u],[I,d]=[-d,I];break}return[M.x+F+Math.min(0,I),M.y+C+Math.min(0,d),Math.abs(I),Math.abs(d)]}function j(M,I){var b;if(M[n.$getTemplateRoot]()[n.$extra].firstUnsplittable===null||M.w===0||M.h===0)return!0;const d=2,u=M[n.$getSubformParent](),i=((b=u[n.$extra])==null?void 0:b.attempt)||0,[,F,C,T]=z(M);switch(u.layout){case"lr-tb":case"rl-tb":return i===0?M[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?M.w!==""?Math.round(C-I.width)<=d:I.width>d:M.h!==""&&Math.round(T-I.height)>d?!1:M.w!==""?Math.round(C-I.width)<=d?!0:u[n.$extra].numberInLine===0?I.height>d:!1:I.width>d:M[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?!0:M.h!==""&&Math.round(T-I.height)>d?!1:M.w===""||Math.round(C-I.width)<=d?I.height>d:u[n.$isThereMoreWidth]()?!1:I.height>d;case"table":case"tb":return M[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?!0:M.h!==""&&!M[n.$isSplittable]()?Math.round(T-I.height)<=d:M.w===""||Math.round(C-I.width)<=d?I.height>d:u[n.$isThereMoreWidth]()?!1:I.height>d;case"position":if(M[n.$getTemplateRoot]()[n.$extra].noLayoutFailure||M.h===""||Math.round(T+F-I.height)<=d)return!0;const L=M[n.$getTemplateRoot]()[n.$extra].currentContentArea;return T+F>L.h;case"rl-row":case"row":return M[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?!0:M.h!==""?Math.round(T-I.height)<=d:!0;default:return!0}}},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.computeBbox=u,m.createWrapper=T,m.fixDimensions=i,m.fixTextIndent=b,m.fixURL=l,m.isPrintOnly=B,m.layoutClass=F,m.layoutNode=d,m.measureToString=z,m.setAccess=L,m.setFontFamily=_,m.setMinMaxDimensions=M,m.setPara=k,m.toStyle=C;var n=Q(78),S=Q(2),N=Q(84),e=Q(85),t=Q(86),r=Q(87);function z(x){return typeof x=="string"?"0px":Number.isInteger(x)?`${x}px`:`${x.toFixed(2)}px`}const j={anchorType(x,X){const a=x[n.$getSubformParent]();if(!(!a||a.layout&&a.layout!=="position"))switch("transform"in X||(X.transform=""),x.anchorType){case"bottomCenter":X.transform+="translate(-50%, -100%)";break;case"bottomLeft":X.transform+="translate(0,-100%)";break;case"bottomRight":X.transform+="translate(-100%,-100%)";break;case"middleCenter":X.transform+="translate(-50%,-50%)";break;case"middleLeft":X.transform+="translate(0,-50%)";break;case"middleRight":X.transform+="translate(-100%,-50%)";break;case"topCenter":X.transform+="translate(-50%,0)";break;case"topRight":X.transform+="translate(-100%,0)";break}},dimensions(x,X){var G;const a=x[n.$getSubformParent]();let g=x.w;const P=x.h;if((G=a.layout)!=null&&G.includes("row")){const D=a[n.$extra],w=x.colSpan;let A;w===-1?(A=D.columnWidths.slice(D.currentColumn).reduce((v,o)=>v+o,0),D.currentColumn=0):(A=D.columnWidths.slice(D.currentColumn,D.currentColumn+w).reduce((v,o)=>v+o,0),D.currentColumn=(D.currentColumn+x.colSpan)%D.columnWidths.length),isNaN(A)||(g=x.w=A)}X.width=g!==""?z(g):"auto",X.height=P!==""?z(P):"auto"},position(x,X){const a=x[n.$getSubformParent]();a!=null&&a.layout&&a.layout!=="position"||(X.position="absolute",X.left=z(x.x),X.top=z(x.y))},rotate(x,X){x.rotate&&("transform"in X||(X.transform=""),X.transform+=`rotate(-${x.rotate}deg)`,X.transformOrigin="top left")},presence(x,X){switch(x.presence){case"invisible":X.visibility="hidden";break;case"hidden":case"inactive":X.display="none";break}},hAlign(x,X){if(x[n.$nodeName]==="para")switch(x.hAlign){case"justifyAll":X.textAlign="justify-all";break;case"radix":X.textAlign="left";break;default:X.textAlign=x.hAlign}else switch(x.hAlign){case"left":X.alignSelf="start";break;case"center":X.alignSelf="center";break;case"right":X.alignSelf="end";break}},margin(x,X){x.margin&&(X.margin=x.margin[n.$toStyle]().margin)}};function M(x,X){x[n.$getSubformParent]().layout==="position"&&(x.minW>0&&(X.minWidth=z(x.minW)),x.maxW>0&&(X.maxWidth=z(x.maxW)),x.minH>0&&(X.minHeight=z(x.minH)),x.maxH>0&&(X.maxHeight=z(x.maxH)))}function I(x,X,a,g,P,G){const D=new t.TextMeasure(X,a,g,P);return typeof x=="string"?D.addString(x):x[n.$pushGlyphs](D),D.compute(G)}function d(x,X){let a=null,g=null,P=!1;if((!x.w||!x.h)&&x.value){let G=0,D=0;x.margin&&(G=x.margin.leftInset+x.margin.rightInset,D=x.margin.topInset+x.margin.bottomInset);let w=null,A=null;x.para&&(A=Object.create(null),w=x.para.lineHeight===""?null:x.para.lineHeight,A.top=x.para.spaceAbove===""?0:x.para.spaceAbove,A.bottom=x.para.spaceBelow===""?0:x.para.spaceBelow,A.left=x.para.marginLeft===""?0:x.para.marginLeft,A.right=x.para.marginRight===""?0:x.para.marginRight);let v=x.font;if(!v){const c=x[n.$getTemplateRoot]();let h=x[n.$getParent]();for(;h&&h!==c;){if(h.font){v=h.font;break}h=h[n.$getParent]()}}const o=(x.w||X.width)-G,y=x[n.$globalData].fontFinder;if(x.value.exData&&x.value.exData[n.$content]&&x.value.exData.contentType==="text/html"){const c=I(x.value.exData[n.$content],v,A,w,y,o);g=c.width,a=c.height,P=c.isBroken}else{const c=x.value[n.$text]();if(c){const h=I(c,v,A,w,y,o);g=h.width,a=h.height,P=h.isBroken}}g!==null&&!x.w&&(g+=G),a!==null&&!x.h&&(a+=D)}return{w:g,h:a,isBroken:P}}function u(x,X,a){let g;if(x.w!==""&&x.h!=="")g=[x.x,x.y,x.w,x.h];else{if(!a)return null;let P=x.w;if(P===""){if(x.maxW===0){const D=x[n.$getSubformParent]();P=D.layout==="position"&&D.w!==""?0:x.minW}else P=Math.min(x.maxW,a.width);X.attributes.style.width=z(P)}let G=x.h;if(G===""){if(x.maxH===0){const D=x[n.$getSubformParent]();G=D.layout==="position"&&D.h!==""?0:x.minH}else G=Math.min(x.maxH,a.height);X.attributes.style.height=z(G)}g=[x.x,x.y,P,G]}return g}function i(x){var a;const X=x[n.$getSubformParent]();if((a=X.layout)!=null&&a.includes("row")){const g=X[n.$extra],P=x.colSpan;let G;P===-1?G=g.columnWidths.slice(g.currentColumn).reduce((D,w)=>D+w,0):G=g.columnWidths.slice(g.currentColumn,g.currentColumn+P).reduce((D,w)=>D+w,0),isNaN(G)||(x.w=G)}X.layout&&X.layout!=="position"&&(x.x=x.y=0),x.layout==="table"&&x.w===""&&Array.isArray(x.columnWidths)&&(x.w=x.columnWidths.reduce((g,P)=>g+P,0))}function F(x){switch(x.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function C(x,...X){const a=Object.create(null);for(const g of X){const P=x[g];if(P!==null){if(j.hasOwnProperty(g)){j[g](x,a);continue}if(P instanceof r.XFAObject){const G=P[n.$toStyle]();G?Object.assign(a,G):(0,S.warn)(`(DEBUG) - XFA - style for ${g} not implemented yet`)}}}return a}function T(x,X){const{attributes:a}=X,{style:g}=a,P={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(a.class.push("xfaWrapped"),x.border){const{widths:G,insets:D}=x.border[n.$extra];let w,A,v=D[0],o=D[3];const y=D[0]+D[2],c=D[1]+D[3];switch(x.border.hand){case"even":v-=G[0]/2,o-=G[3]/2,w=`calc(100% + ${(G[1]+G[3])/2-c}px)`,A=`calc(100% + ${(G[0]+G[2])/2-y}px)`;break;case"left":v-=G[0],o-=G[3],w=`calc(100% + ${G[1]+G[3]-c}px)`,A=`calc(100% + ${G[0]+G[2]-y}px)`;break;case"right":w=c?`calc(100% - ${c}px)`:"100%",A=y?`calc(100% - ${y}px)`:"100%";break}const h=["xfaBorder"];B(x.border)&&h.push("xfaPrintOnly");const O={name:"div",attributes:{class:h,style:{top:`${v}px`,left:`${o}px`,width:w,height:A}},children:[]};for(const W of["border","borderWidth","borderColor","borderRadius","borderStyle"])g[W]!==void 0&&(O.attributes.style[W]=g[W],delete g[W]);P.children.push(O,X)}else P.children.push(X);for(const G of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])g[G]!==void 0&&(P.attributes.style[G]=g[G],delete g[G]);return P.attributes.style.position=g.position==="absolute"?"absolute":"relative",delete g.position,g.alignSelf&&(P.attributes.style.alignSelf=g.alignSelf,delete g.alignSelf),P}function b(x){const X=(0,N.getMeasurement)(x.textIndent,"0px");if(X>=0)return;const g="padding"+((x.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),P=(0,N.getMeasurement)(x[g],"0px");x[g]=`${P-X}px`}function L(x,X){switch(x.access){case"nonInteractive":X.push("xfaNonInteractive");break;case"readOnly":X.push("xfaReadOnly");break;case"protected":X.push("xfaDisabled");break}}function B(x){return x.relevant.length>0&&!x.relevant[0].excluded&&x.relevant[0].viewname==="print"}function V(x){const X=x[n.$getTemplateRoot]()[n.$extra].paraStack;return X.length?X.at(-1):null}function k(x,X,a){var g;if((g=a.attributes.class)!=null&&g.includes("xfaRich")){X&&(x.h===""&&(X.height="auto"),x.w===""&&(X.width="auto"));const P=V(x);if(P){const G=a.attributes.style;switch(G.display="flex",G.flexDirection="column",P.vAlign){case"top":G.justifyContent="start";break;case"bottom":G.justifyContent="end";break;case"middle":G.justifyContent="center";break}const D=P[n.$toStyle]();for(const[w,A]of Object.entries(D))w in G||(G[w]=A)}}}function _(x,X,a,g){if(!a){delete g.fontFamily;return}const P=(0,N.stripQuotes)(x.typeface);g.fontFamily=`"${P}"`;const G=a.find(P);if(G){const{fontFamily:D}=G.regular.cssFontInfo;D!==P&&(g.fontFamily=`"${D}"`);const w=V(X);if(w&&w.lineHeight!==""||g.lineHeight)return;const A=(0,e.selectFont)(x,G);A&&(g.lineHeight=Math.max(1.2,A.lineHeight))}}function l(x){const X=(0,S.createValidAbsoluteUrl)(x,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return X?X.href:null}},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.HTMLResult=void 0,m.getBBox=i,m.getColor=u,m.getFloat=r,m.getInteger=t,m.getKeyword=z,m.getMeasurement=M,m.getRatio=I,m.getRelevant=d,m.getStringOption=j,m.stripQuotes=e;var n=Q(2);const S={pt:C=>C,cm:C=>C/2.54*72,mm:C=>C/(10*2.54)*72,in:C=>C*72,px:C=>C},N=/([+-]?\d+\.?\d*)(.*)/;function e(C){return C.startsWith("'")||C.startsWith('"')?C.slice(1,-1):C}function t({data:C,defaultValue:T,validate:b}){if(!C)return T;C=C.trim();const L=parseInt(C,10);return!isNaN(L)&&b(L)?L:T}function r({data:C,defaultValue:T,validate:b}){if(!C)return T;C=C.trim();const L=parseFloat(C);return!isNaN(L)&&b(L)?L:T}function z({data:C,defaultValue:T,validate:b}){return C?(C=C.trim(),b(C)?C:T):T}function j(C,T){return z({data:C,defaultValue:T[0],validate:b=>T.includes(b)})}function M(C,T="0"){if(T||(T="0"),!C)return M(T);const b=C.trim().match(N);if(!b)return M(T);const[,L,B]=b,V=parseFloat(L);if(isNaN(V))return M(T);if(V===0)return 0;const k=S[B];return k?k(V):V}function I(C){if(!C)return{num:1,den:1};const T=C.trim().split(/\s*:\s*/).map(B=>parseFloat(B)).filter(B=>!isNaN(B));if(T.length===1&&T.push(1),T.length===0)return{num:1,den:1};const[b,L]=T;return{num:b,den:L}}function d(C){return C?C.trim().split(/\s+/).map(T=>({excluded:T[0]==="-",viewname:T.substring(1)})):[]}function u(C,T=[0,0,0]){let[b,L,B]=T;if(!C)return{r:b,g:L,b:B};const V=C.trim().split(/\s*,\s*/).map(k=>Math.min(Math.max(0,parseInt(k.trim(),10)),255)).map(k=>isNaN(k)?0:k);return V.length<3?{r:b,g:L,b:B}:([b,L,B]=V,{r:b,g:L,b:B})}function i(C){if(!C)return{x:-1,y:-1,width:-1,height:-1};const b=C.trim().split(/\s*,\s*/).map(_=>M(_,"-1"));if(b.length<4||b[2]<0||b[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[L,B,V,k]=b;return{x:L,y:B,width:V,height:k}}class F{static get FAILURE(){return(0,n.shadow)(this,"FAILURE",new F(!1,null,null,null))}static get EMPTY(){return(0,n.shadow)(this,"EMPTY",new F(!0,null,null,null))}constructor(T,b,L,B){this.success=T,this.html=b,this.bbox=L,this.breakNode=B}isBreak(){return!!this.breakNode}static breakNode(T){return new F(!1,null,null,T)}static success(T,b=null){return new F(!0,T,b,null)}}m.HTMLResult=F},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.FontFinder=void 0,m.getMetrics=r,m.selectFont=t;var n=Q(78),S=Q(84),N=Q(2);class e{constructor(j){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(j)}add(j,M=null){for(const d of j)this.addPdfFont(d);for(const d of this.fonts.values())d.regular||(d.regular=d.italic||d.bold||d.bolditalic);if(!M||M.size===0)return;const I=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const d of M)this.fonts.set(d,I)}addPdfFont(j){var F,C,T;const M=j.cssFontInfo,I=M.fontFamily;let d=this.fonts.get(I);d||(d=Object.create(null),this.fonts.set(I,d),this.defaultFont||(this.defaultFont=d));let u="";const i=parseFloat(M.fontWeight);parseFloat(M.italicAngle)!==0?u=i>=700?"bolditalic":"italic":i>=700&&(u="bold"),u||((j.name.includes("Bold")||(F=j.psName)!=null&&F.includes("Bold"))&&(u="bold"),(j.name.includes("Italic")||j.name.endsWith("It")||(C=j.psName)!=null&&C.includes("Italic")||(T=j.psName)!=null&&T.endsWith("It"))&&(u+="italic")),u||(u="regular"),d[u]=j}getDefault(){return this.defaultFont}find(j,M=!0){var F,C;let I=this.fonts.get(j)||this.cache.get(j);if(I)return I;const d=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let u=j.replaceAll(d,"");if(I=this.fonts.get(u),I)return this.cache.set(j,I),I;u=u.toLowerCase();const i=[];for(const[T,b]of this.fonts.entries())T.replaceAll(d,"").toLowerCase().startsWith(u)&&i.push(b);if(i.length===0)for(const[,T]of this.fonts.entries())(F=T.regular.name)!=null&&F.replaceAll(d,"").toLowerCase().startsWith(u)&&i.push(T);if(i.length===0){u=u.replaceAll(/psmt|mt/gi,"");for(const[T,b]of this.fonts.entries())T.replaceAll(d,"").toLowerCase().startsWith(u)&&i.push(b)}if(i.length===0)for(const T of this.fonts.values())(C=T.regular.name)!=null&&C.replaceAll(d,"").toLowerCase().startsWith(u)&&i.push(T);return i.length>=1?(i.length!==1&&M&&(0,N.warn)(`XFA - Too many choices to guess the correct font: ${j}`),this.cache.set(j,i[0]),i[0]):(M&&!this.warned.has(j)&&(this.warned.add(j),(0,N.warn)(`XFA - Cannot find the font: ${j}`)),null)}}m.FontFinder=e;function t(z,j){return z.posture==="italic"?z.weight==="bold"?j.bolditalic:j.italic:z.weight==="bold"?j.bold:j.regular}function r(z,j=!1){let M=null;if(z){const i=(0,S.stripQuotes)(z.typeface),F=z[n.$globalData].fontFinder.find(i);M=t(z,F)}if(!M)return{lineHeight:12,lineGap:2,lineNoGap:10};const I=z.size||10,d=M.lineHeight?Math.max(j?0:1.2,M.lineHeight):1.2,u=M.lineGap===void 0?.2:M.lineGap;return{lineHeight:d*I,lineGap:u*I,lineNoGap:Math.max(1,d-u)*I}}},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.TextMeasure=void 0;var n=Q(85);const S=1.02;class N{constructor(z,j,M,I){if(this.lineHeight=M,this.paraMargin=j||{top:0,bottom:0,left:0,right:0},!z){[this.pdfFont,this.xfaFont]=this.defaultFont(I);return}this.xfaFont={typeface:z.typeface,posture:z.posture,weight:z.weight,size:z.size,letterSpacing:z.letterSpacing};const d=I.find(z.typeface);if(!d){[this.pdfFont,this.xfaFont]=this.defaultFont(I);return}this.pdfFont=(0,n.selectFont)(z,d),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(I))}defaultFont(z){const j=z.find("Helvetica",!1)||z.find("Myriad Pro",!1)||z.find("Arial",!1)||z.getDefault();if(j!=null&&j.regular){const I=j.regular,u={typeface:I.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[I,u]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class e{constructor(z,j,M,I){this.fontFinder=I,this.stack=[new N(z,j,M,I)]}pushData(z,j,M){const I=this.stack.at(-1);for(const u of["typeface","posture","weight","size","letterSpacing"])z[u]||(z[u]=I.xfaFont[u]);for(const u of["top","bottom","left","right"])isNaN(j[u])&&(j[u]=I.paraMargin[u]);const d=new N(z,j,M||I.lineHeight,this.fontFinder);d.pdfFont||(d.pdfFont=I.pdfFont),this.stack.push(d)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class t{constructor(z,j,M,I){this.glyphs=[],this.fontSelector=new e(z,j,M,I),this.extraHeight=0}pushData(z,j,M){this.fontSelector.pushData(z,j,M)}popFont(z){return this.fontSelector.popFont()}addPara(){const z=this.fontSelector.topFont();this.extraHeight+=z.paraMargin.top+z.paraMargin.bottom}addString(z){if(!z)return;const j=this.fontSelector.topFont(),M=j.xfaFont.size;if(j.pdfFont){const I=j.xfaFont.letterSpacing,d=j.pdfFont,u=d.lineHeight||1.2,i=j.lineHeight||Math.max(1.2,u)*M,F=d.lineGap===void 0?.2:d.lineGap,C=u-F,T=Math.max(1,C)*M,b=M/1e3,L=d.defaultWidth||d.charsToGlyphs(" ")[0].width;for(const B of z.split(/[\u2029\n]/)){const V=d.encodeString(B).join(""),k=d.charsToGlyphs(V);for(const _ of k){const l=_.width||L;this.glyphs.push([l*b+I,i,T,_.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const I of z.split(/[\u2029\n]/)){for(const d of I.split(""))this.glyphs.push([M,1.2*M,M,d,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(z){let j=-1,M=0,I=0,d=0,u=0,i=0,F=!1,C=!0;for(let T=0,b=this.glyphs.length;T<b;T++){const[L,B,V,k,_]=this.glyphs[T],l=k===" ",x=C?V:B;if(_){I=Math.max(I,u),u=0,d+=i,i=x,j=-1,M=0,C=!1;continue}if(l){u+L>z?(I=Math.max(I,u),u=0,d+=i,i=x,j=-1,M=0,F=!0,C=!1):(i=Math.max(x,i),M=u,u+=L,j=T);continue}if(u+L>z){d+=i,i=x,j!==-1?(T=j,I=Math.max(I,M),u=0,j=-1,M=0):(I=Math.max(I,u),u=L),F=!0,C=!1;continue}u+=L,i=Math.max(x,i)}return I=Math.max(I,u),d+=i+this.extraHeight,{width:S*I,height:d,isBroken:F}}}m.TextMeasure=t},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.XmlObject=m.XFAObjectArray=m.XFAObject=m.XFAAttribute=m.StringObject=m.OptionObject=m.Option10=m.Option01=m.IntegerObject=m.ContentObject=void 0;var n=Q(78),S=Q(84),N=Q(2),e=Q(3),t=Q(81),r=Q(88);const z=Symbol(),j=Symbol(),M=Symbol(),I=Symbol("_children"),d=Symbol(),u=Symbol(),i=Symbol(),F=Symbol(),C=Symbol(),T=Symbol(),b=Symbol(),L=Symbol(),B=Symbol(),V=Symbol("parent"),k=Symbol(),_=Symbol(),l=Symbol();let x=0;const X=t.NamespaceIds.datasets.id;class a{constructor(h,O,W=!1){this[n.$namespaceId]=h,this[n.$nodeName]=O,this[b]=W,this[V]=null,this[I]=[],this[n.$uid]=`${O}${x++}`,this[n.$globalData]=null}get isXFAObject(){return!0}get isXFAObjectArray(){return!1}createNodes(h){let O=this,W=null;for(const{name:R,index:H}of h){for(let ae=0,q=isFinite(H)?H:0;ae<=q;ae++){const ce=O[n.$namespaceId]===X?-1:O[n.$namespaceId];W=new G(ce,R),O[n.$appendChild](W)}O=W}return W}[n.$onChild](h){if(!this[b]||!this[n.$onChildCheck](h))return!1;const O=h[n.$nodeName],W=this[O];if(W instanceof g){if(W.push(h))return this[n.$appendChild](h),!0}else return W!==null&&this[n.$removeChild](W),this[O]=h,this[n.$appendChild](h),!0;let R="";return this.id?R=` (id: ${this.id})`:this.name&&(R=` (name: ${this.name} ${this.h.value})`),(0,N.warn)(`XFA - node "${this[n.$nodeName]}"${R} has already enough "${O}"!`),!1}[n.$onChildCheck](h){return this.hasOwnProperty(h[n.$nodeName])&&h[n.$namespaceId]===this[n.$namespaceId]}[n.$isNsAgnostic](){return!1}[n.$acceptWhitespace](){return!1}[n.$isCDATAXml](){return!1}[n.$isBindable](){return!1}[n.$popPara](){this.para&&this[n.$getTemplateRoot]()[n.$extra].paraStack.pop()}[n.$pushPara](){this[n.$getTemplateRoot]()[n.$extra].paraStack.push(this.para)}[n.$setId](h){this.id&&this[n.$namespaceId]===t.NamespaceIds.template.id&&h.set(this.id,this)}[n.$getTemplateRoot](){return this[n.$globalData].template}[n.$isSplittable](){return!1}[n.$isThereMoreWidth](){return!1}[n.$appendChild](h){h[V]=this,this[I].push(h),!h[n.$globalData]&&this[n.$globalData]&&(h[n.$globalData]=this[n.$globalData])}[n.$removeChild](h){const O=this[I].indexOf(h);this[I].splice(O,1)}[n.$hasSettableValue](){return this.hasOwnProperty("value")}[n.$setValue](h){}[n.$onText](h){}[n.$finalize](){}[n.$clean](h){delete this[b],this[n.$cleanup]&&(h.clean(this[n.$cleanup]),delete this[n.$cleanup])}[n.$indexOf](h){return this[I].indexOf(h)}[n.$insertAt](h,O){O[V]=this,this[I].splice(h,0,O),!O[n.$globalData]&&this[n.$globalData]&&(O[n.$globalData]=this[n.$globalData])}[n.$isTransparent](){return!this.name}[n.$lastAttribute](){return""}[n.$text](){return this[I].length===0?this[n.$content]:this[I].map(h=>h[n.$text]()).join("")}get[M](){const h=Object.getPrototypeOf(this);if(!h._attributes){const O=h._attributes=new Set;for(const W of Object.getOwnPropertyNames(this)){if(this[W]===null||this[W]instanceof a||this[W]instanceof g)break;O.add(W)}}return(0,N.shadow)(this,M,h._attributes)}[n.$isDescendent](h){let O=this;for(;O;){if(O===h)return!0;O=O[n.$getParent]()}return!1}[n.$getParent](){return this[V]}[n.$getSubformParent](){return this[n.$getParent]()}[n.$getChildren](h=null){return h?this[h]:this[I]}[n.$dump](){const h=Object.create(null);this[n.$content]&&(h.$content=this[n.$content]);for(const O of Object.getOwnPropertyNames(this)){const W=this[O];W!==null&&(W instanceof a?h[O]=W[n.$dump]():W instanceof g?W.isEmpty()||(h[O]=W.dump()):h[O]=W)}return h}[n.$toStyle](){return null}[n.$toHTML](){return S.HTMLResult.EMPTY}*[n.$getContainedChildren](){for(const h of this[n.$getChildren]())yield h}*[F](h,O){for(const W of this[n.$getContainedChildren]())if(!h||O===h.has(W[n.$nodeName])){const R=this[n.$getAvailableSpace](),H=W[n.$toHTML](R);H.success||(this[n.$extra].failingNode=W),yield H}}[n.$flushHTML](){return null}[n.$addHTML](h,O){this[n.$extra].children.push(h)}[n.$getAvailableSpace](){}[n.$childrenToHTML]({filter:h=null,include:O=!0}){if(!this[n.$extra].generator)this[n.$extra].generator=this[F](h,O);else{const W=this[n.$getAvailableSpace](),R=this[n.$extra].failingNode[n.$toHTML](W);if(!R.success)return R;R.html&&this[n.$addHTML](R.html,R.bbox),delete this[n.$extra].failingNode}for(;;){const W=this[n.$extra].generator.next();if(W.done)break;const R=W.value;if(!R.success)return R;R.html&&this[n.$addHTML](R.html,R.bbox)}return this[n.$extra].generator=null,S.HTMLResult.EMPTY}[n.$setSetAttributes](h){this[_]=new Set(Object.keys(h))}[T](h){const O=this[M],W=this[_];return[...h].filter(R=>O.has(R)&&!W.has(R))}[n.$resolvePrototypes](h,O=new Set){for(const W of this[I])W[k](h,O)}[k](h,O){const W=this[C](h,O);W?this[z](W,h,O):this[n.$resolvePrototypes](h,O)}[C](h,O){const{use:W,usehref:R}=this;if(!W&&!R)return null;let H=null,ae=null,q=null,ce=W;if(R?(ce=R,R.startsWith("#som(")&&R.endsWith(")")?ae=R.slice(5,-1):R.startsWith(".#som(")&&R.endsWith(")")?ae=R.slice(6,-1):R.startsWith("#")?q=R.slice(1):R.startsWith(".#")&&(q=R.slice(2))):W.startsWith("#")?q=W.slice(1):ae=W,this.use=this.usehref="",q?H=h.get(q):(H=(0,r.searchNode)(h.get(n.$root),this,ae,!0,!1),H&&(H=H[0])),!H)return(0,N.warn)(`XFA - Invalid prototype reference: ${ce}.`),null;if(H[n.$nodeName]!==this[n.$nodeName])return(0,N.warn)(`XFA - Incompatible prototype: ${H[n.$nodeName]} !== ${this[n.$nodeName]}.`),null;if(O.has(H))return(0,N.warn)("XFA - Cycle detected in prototypes use."),null;O.add(H);const ee=H[C](h,O);return ee&&H[z](ee,h,O),H[n.$resolvePrototypes](h,O),O.delete(H),H}[z](h,O,W){if(W.has(h)){(0,N.warn)("XFA - Cycle detected in prototypes use.");return}!this[n.$content]&&h[n.$content]&&(this[n.$content]=h[n.$content]),new Set(W).add(h);for(const H of this[T](h[_]))this[H]=h[H],this[_]&&this[_].add(H);for(const H of Object.getOwnPropertyNames(this)){if(this[M].has(H))continue;const ae=this[H],q=h[H];if(ae instanceof g){for(const ce of ae[I])ce[k](O,W);for(let ce=ae[I].length,ee=q[I].length;ce<ee;ce++){const se=h[I][ce][n.$clone]();if(ae.push(se))se[V]=this,this[I].push(se),se[k](O,W);else break}continue}if(ae!==null){ae[n.$resolvePrototypes](O,W),q&&ae[z](q,O,W);continue}if(q!==null){const ce=q[n.$clone]();ce[V]=this,this[H]=ce,this[I].push(ce),ce[k](O,W)}}}static[d](h){return Array.isArray(h)?h.map(O=>a[d](O)):typeof h=="object"&&h!==null?Object.assign({},h):h}[n.$clone](){const h=Object.create(Object.getPrototypeOf(this));for(const O of Object.getOwnPropertySymbols(this))try{h[O]=this[O]}catch{(0,N.shadow)(h,O,this[O])}h[n.$uid]=`${h[n.$nodeName]}${x++}`,h[I]=[];for(const O of Object.getOwnPropertyNames(this)){if(this[M].has(O)){h[O]=a[d](this[O]);continue}const W=this[O];h[O]=W instanceof g?new g(W[L]):null}for(const O of this[I]){const W=O[n.$nodeName],R=O[n.$clone]();h[I].push(R),R[V]=h,h[W]===null?h[W]=R:h[W][I].push(R)}return h}[n.$getChildren](h=null){return h?this[I].filter(O=>O[n.$nodeName]===h):this[I]}[n.$getChildrenByClass](h){return this[h]}[n.$getChildrenByName](h,O,W=!0){return Array.from(this[n.$getChildrenByNameIt](h,O,W))}*[n.$getChildrenByNameIt](h,O,W=!0){if(h==="parent"){yield this[V];return}for(const R of this[I])R[n.$nodeName]===h&&(yield R),R.name===h&&(yield R),(O||R[n.$isTransparent]())&&(yield*R[n.$getChildrenByNameIt](h,O,!1));W&&this[M].has(h)&&(yield new P(this,h,this[h]))}}m.XFAObject=a;class g{constructor(h=1/0){this[L]=h,this[I]=[]}get isXFAObject(){return!1}get isXFAObjectArray(){return!0}push(h){return this[I].length<=this[L]?(this[I].push(h),!0):((0,N.warn)(`XFA - node "${h[n.$nodeName]}" accepts no more than ${this[L]} children`),!1)}isEmpty(){return this[I].length===0}dump(){return this[I].length===1?this[I][0][n.$dump]():this[I].map(h=>h[n.$dump]())}[n.$clone](){const h=new g(this[L]);return h[I]=this[I].map(O=>O[n.$clone]()),h}get children(){return this[I]}clear(){this[I].length=0}}m.XFAObjectArray=g;class P{constructor(h,O,W){this[V]=h,this[n.$nodeName]=O,this[n.$content]=W,this[n.$consumed]=!1,this[n.$uid]=`attribute${x++}`}[n.$getParent](){return this[V]}[n.$isDataValue](){return!0}[n.$getDataValue](){return this[n.$content].trim()}[n.$setValue](h){h=h.value||"",this[n.$content]=h.toString()}[n.$text](){return this[n.$content]}[n.$isDescendent](h){return this[V]===h||this[V][n.$isDescendent](h)}}m.XFAAttribute=P;class G extends a{constructor(h,O,W={}){if(super(h,O),this[n.$content]="",this[u]=null,O!=="#text"){const R=new Map;this[j]=R;for(const[H,ae]of Object.entries(W))R.set(H,new P(this,H,ae));if(W.hasOwnProperty(n.$nsAttributes)){const H=W[n.$nsAttributes].xfa.dataNode;H!==void 0&&(H==="dataGroup"?this[u]=!1:H==="dataValue"&&(this[u]=!0))}}this[n.$consumed]=!1}[n.$toString](h){const O=this[n.$nodeName];if(O==="#text"){h.push((0,e.encodeToXmlString)(this[n.$content]));return}const W=(0,N.utf8StringToString)(O),R=this[n.$namespaceId]===X?"xfa:":"";h.push(`<${R}${W}`);for(const[H,ae]of this[j].entries()){const q=(0,N.utf8StringToString)(H);h.push(` ${q}="${(0,e.encodeToXmlString)(ae[n.$content])}"`)}if(this[u]!==null&&(this[u]?h.push(' xfa:dataNode="dataValue"'):h.push(' xfa:dataNode="dataGroup"')),!this[n.$content]&&this[I].length===0){h.push("/>");return}if(h.push(">"),this[n.$content])typeof this[n.$content]=="string"?h.push((0,e.encodeToXmlString)(this[n.$content])):this[n.$content][n.$toString](h);else for(const H of this[I])H[n.$toString](h);h.push(`</${R}${W}>`)}[n.$onChild](h){if(this[n.$content]){const O=new G(this[n.$namespaceId],"#text");this[n.$appendChild](O),O[n.$content]=this[n.$content],this[n.$content]=""}return this[n.$appendChild](h),!0}[n.$onText](h){this[n.$content]+=h}[n.$finalize](){if(this[n.$content]&&this[I].length>0){const h=new G(this[n.$namespaceId],"#text");this[n.$appendChild](h),h[n.$content]=this[n.$content],delete this[n.$content]}}[n.$toHTML](){return this[n.$nodeName]==="#text"?S.HTMLResult.success({name:"#text",value:this[n.$content]}):S.HTMLResult.EMPTY}[n.$getChildren](h=null){return h?this[I].filter(O=>O[n.$nodeName]===h):this[I]}[n.$getAttributes](){return this[j]}[n.$getChildrenByClass](h){const O=this[j].get(h);return O!==void 0?O:this[n.$getChildren](h)}*[n.$getChildrenByNameIt](h,O){const W=this[j].get(h);W&&(yield W);for(const R of this[I])R[n.$nodeName]===h&&(yield R),O&&(yield*R[n.$getChildrenByNameIt](h,O))}*[n.$getAttributeIt](h,O){const W=this[j].get(h);W&&(!O||!W[n.$consumed])&&(yield W);for(const R of this[I])yield*R[n.$getAttributeIt](h,O)}*[n.$getRealChildrenByNameIt](h,O,W){for(const R of this[I])R[n.$nodeName]===h&&(!W||!R[n.$consumed])&&(yield R),O&&(yield*R[n.$getRealChildrenByNameIt](h,O,W))}[n.$isDataValue](){return this[u]===null?this[I].length===0||this[I][0][n.$namespaceId]===t.NamespaceIds.xhtml.id:this[u]}[n.$getDataValue](){return this[u]===null?this[I].length===0?this[n.$content].trim():this[I][0][n.$namespaceId]===t.NamespaceIds.xhtml.id?this[I][0][n.$text]().trim():null:this[n.$content].trim()}[n.$setValue](h){h=h.value||"",this[n.$content]=h.toString()}[n.$dump](h=!1){const O=Object.create(null);h&&(O.$ns=this[n.$namespaceId]),this[n.$content]&&(O.$content=this[n.$content]),O.$name=this[n.$nodeName],O.children=[];for(const W of this[I])O.children.push(W[n.$dump](h));O.attributes=Object.create(null);for(const[W,R]of this[j])O.attributes[W]=R[n.$content];return O}}m.XmlObject=G;class D extends a{constructor(h,O){super(h,O),this[n.$content]=""}[n.$onText](h){this[n.$content]+=h}[n.$finalize](){}}m.ContentObject=D;class w extends D{constructor(h,O,W){super(h,O),this[B]=W}[n.$finalize](){this[n.$content]=(0,S.getKeyword)({data:this[n.$content],defaultValue:this[B][0],validate:h=>this[B].includes(h)})}[n.$clean](h){super[n.$clean](h),delete this[B]}}m.OptionObject=w;class A extends D{[n.$finalize](){this[n.$content]=this[n.$content].trim()}}m.StringObject=A;class v extends D{constructor(h,O,W,R){super(h,O),this[i]=W,this[l]=R}[n.$finalize](){this[n.$content]=(0,S.getInteger)({data:this[n.$content],defaultValue:this[i],validate:this[l]})}[n.$clean](h){super[n.$clean](h),delete this[i],delete this[l]}}m.IntegerObject=v;class o extends v{constructor(h,O){super(h,O,0,W=>W===1)}}m.Option01=o;class y extends v{constructor(h,O){super(h,O,1,W=>W===0)}}m.Option10=y},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.createDataNode=d,m.searchNode=I;var n=Q(78),S=Q(2);const N=/^[^.[]+/,e=/^[^\]]+/,t={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},r=new Map([["$data",(u,i)=>u.datasets?u.datasets.data:u],["$record",(u,i)=>(u.datasets?u.datasets.data:u)[n.$getChildren]()[0]],["$template",(u,i)=>u.template],["$connectionSet",(u,i)=>u.connectionSet],["$form",(u,i)=>u.form],["$layout",(u,i)=>u.layout],["$host",(u,i)=>u.host],["$dataWindow",(u,i)=>u.dataWindow],["$event",(u,i)=>u.event],["!",(u,i)=>u.datasets],["$xfa",(u,i)=>u],["xfa",(u,i)=>u],["$",(u,i)=>i]]),z=new WeakMap;function j(u){return u=u.trim(),u==="*"?1/0:parseInt(u,10)||0}function M(u,i,F=!0){let C=u.match(N);if(!C)return null;let[T]=C;const b=[{name:T,cacheName:"."+T,index:0,js:null,formCalc:null,operator:t.dot}];let L=T.length;for(;L<u.length;){const B=L;if(u.charAt(L++)==="["){if(C=u.slice(L).match(e),!C)return(0,S.warn)("XFA - Invalid index in SOM expression"),null;b.at(-1).index=j(C[0]),L+=C[0].length+1;continue}let k;switch(u.charAt(L)){case".":if(!i)return null;L++,k=t.dotDot;break;case"#":L++,k=t.dotHash;break;case"[":if(F)return(0,S.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;k=t.dotBracket;break;case"(":if(F)return(0,S.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;k=t.dotParen;break;default:k=t.dot;break}if(C=u.slice(L).match(N),!C)break;[T]=C,L+=T.length,b.push({name:T,cacheName:u.slice(B,L),operator:k,index:0,js:null,formCalc:null})}return b}function I(u,i,F,C=!0,T=!0){const b=M(F,C);if(!b)return null;const L=r.get(b[0].name);let B=0,V;L?(V=!0,u=[L(u,i)],B=1):(V=i===null,u=[i||u]);for(let k=b.length;B<k;B++){const{name:_,cacheName:l,operator:x,index:X}=b[B],a=[];for(const g of u){if(!g.isXFAObject)continue;let P,G;if(T&&(G=z.get(g),G||(G=new Map,z.set(g,G)),P=G.get(l)),!P){switch(x){case t.dot:P=g[n.$getChildrenByName](_,!1);break;case t.dotDot:P=g[n.$getChildrenByName](_,!0);break;case t.dotHash:P=g[n.$getChildrenByClass](_),P=P.isXFAObjectArray?P.children:[P];break}T&&G.set(l,P)}P.length>0&&a.push(P)}if(a.length===0&&!V&&B===0){if(i=i[n.$getParent](),!i)return null;B=-1,u=[i];continue}u=isFinite(X)?a.filter(g=>X<g.length).map(g=>g[X]):a.flat()}return u.length===0?null:u}function d(u,i,F){const C=M(F);if(!C||C.some(L=>L.operator===t.dotDot))return null;const T=r.get(C[0].name);let b=0;T?(u=T(u,i),b=1):u=i||u;for(let L=C.length;b<L;b++){const{name:B,operator:V,index:k}=C[b];if(!isFinite(k))return C[b].index=0,u.createNodes(C.slice(b));let _;switch(V){case t.dot:_=u[n.$getChildrenByName](B,!1);break;case t.dotDot:_=u[n.$getChildrenByName](B,!0);break;case t.dotHash:_=u[n.$getChildrenByClass](B),_=_.isXFAObjectArray?_.children:[_];break}if(_.length===0)return u.createNodes(C.slice(b));if(k<_.length){const l=_[k];if(!l.isXFAObject)return(0,S.warn)("XFA - Cannot create a node."),null;u=l}else return C[b].index=k-_.length,u.createNodes(C.slice(b))}return null}},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.DataHandler=void 0;var n=Q(78);class S{constructor(e,t){this.data=t,this.dataset=e.datasets||null}serialize(e){const t=[[-1,this.data[n.$getChildren]()]];for(;t.length>0;){const z=t.at(-1),[j,M]=z;if(j+1===M.length){t.pop();continue}const I=M[++z[0]],d=e.get(I[n.$uid]);if(d)I[n.$setValue](d);else{const i=I[n.$getAttributes]();for(const F of i.values()){const C=e.get(F[n.$uid]);if(C){F[n.$setValue](C);break}}}const u=I[n.$getChildren]();u.length>0&&t.push([-1,u])}const r=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const z of this.dataset[n.$getChildren]())z[n.$nodeName]!=="data"&&z[n.$toString](r);return this.data[n.$toString](r),r.push("</xfa:datasets>"),r.join("")}}m.DataHandler=S},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.XFAParser=void 0;var n=Q(78),S=Q(71),N=Q(91),e=Q(2);class t extends S.XMLParserBase{constructor(z=null,j=!1){super(),this._builder=new N.Builder(z),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=S.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=j}parse(z){if(this.parseXml(z),this._errorCode===S.XMLParserErrorCode.NoError)return this._current[n.$finalize](),this._current.element}onText(z){if(z=z.replace(this._nbsps,j=>j.slice(1)+" "),this._richText||this._current[n.$acceptWhitespace]()){this._current[n.$onText](z,this._richText);return}this._whiteRegex.test(z)||this._current[n.$onText](z.trim())}onCdata(z){this._current[n.$onText](z)}_mkAttributes(z,j){let M=null,I=null;const d=Object.create({});for(const{name:u,value:i}of z)if(u==="xmlns")M?(0,e.warn)(`XFA - multiple namespace definition in <${j}>`):M=i;else if(u.startsWith("xmlns:")){const F=u.substring(6);I||(I=[]),I.push({prefix:F,value:i})}else{const F=u.indexOf(":");if(F===-1)d[u]=i;else{let C=d[n.$nsAttributes];C||(C=d[n.$nsAttributes]=Object.create(null));const[T,b]=[u.slice(0,F),u.slice(F+1)],L=C[T]||(C[T]=Object.create(null));L[b]=i}}return[M,I,d]}_getNameAndPrefix(z,j){const M=z.indexOf(":");return M===-1?[z,null]:[z.substring(M+1),j?"":z.substring(0,M)]}onBeginElement(z,j,M){const[I,d,u]=this._mkAttributes(j,z),[i,F]=this._getNameAndPrefix(z,this._builder.isNsAgnostic()),C=this._builder.build({nsPrefix:F,name:i,attributes:u,namespace:I,prefixes:d});if(C[n.$globalData]=this._globalData,M){C[n.$finalize](),this._current[n.$onChild](C)&&C[n.$setId](this._ids),C[n.$clean](this._builder);return}this._stack.push(this._current),this._current=C}onEndElement(z){const j=this._current;if(j[n.$isCDATAXml]()&&typeof j[n.$content]=="string"){const M=new t;M._globalData=this._globalData;const I=M.parse(j[n.$content]);j[n.$content]=null,j[n.$onChild](I)}j[n.$finalize](),this._current=this._stack.pop(),this._current[n.$onChild](j)&&j[n.$setId](this._ids),j[n.$clean](this._builder)}onError(z){this._errorCode=z}}m.XFAParser=t},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.Builder=void 0;var n=Q(81),S=Q(78),N=Q(92),e=Q(80),t=Q(101),r=Q(2),z=Q(87);class j extends z.XFAObject{constructor(u){super(-1,"root",Object.create(null)),this.element=null,this[S.$ids]=u}[S.$onChild](u){return this.element=u,!0}[S.$finalize](){super[S.$finalize](),this.element.template instanceof e.Template&&(this[S.$ids].set(S.$root,this.element),this.element.template[S.$resolvePrototypes](this[S.$ids]),this.element.template[S.$ids]=this[S.$ids])}}class M extends z.XFAObject{constructor(){super(-1,"",Object.create(null))}[S.$onChild](u){return!1}}class I{constructor(u=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(n.NamespaceIds).map(({id:i})=>i)),this._currentNamespace=u||new t.UnknownNamespace(++this._nextNsId)}buildRoot(u){return new j(u)}build({nsPrefix:u,name:i,attributes:F,namespace:C,prefixes:T}){const b=C!==null;if(b&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(C)),T&&this._addNamespacePrefix(T),F.hasOwnProperty(S.$nsAttributes)){const V=N.NamespaceSetUp.datasets,k=F[S.$nsAttributes];let _=null;for(const[l,x]of Object.entries(k))if(this._getNamespaceToUse(l)===V){_={xfa:x};break}_?F[S.$nsAttributes]=_:delete F[S.$nsAttributes]}const L=this._getNamespaceToUse(u),B=(L==null?void 0:L[n.$buildXFAObject](i,F))||new M;return B[S.$isNsAgnostic]()&&this._nsAgnosticLevel++,(b||T||B[S.$isNsAgnostic]())&&(B[S.$cleanup]={hasNamespace:b,prefixes:T,nsAgnostic:B[S.$isNsAgnostic]()}),B}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(u){let i=this._namespaces.get(u);if(i)return i;for(const[F,{check:C}]of Object.entries(n.NamespaceIds))if(C(u)){if(i=N.NamespaceSetUp[F],i)return this._namespaces.set(u,i),i;break}return i=new t.UnknownNamespace(++this._nextNsId),this._namespaces.set(u,i),i}_addNamespacePrefix(u){for(const{prefix:i,value:F}of u){const C=this._searchNamespace(F);let T=this._namespacePrefixes.get(i);T||(T=[],this._namespacePrefixes.set(i,T)),T.push(C)}}_getNamespaceToUse(u){if(!u)return this._currentNamespace;const i=this._namespacePrefixes.get(u);return(i==null?void 0:i.length)>0?i.at(-1):((0,r.warn)(`Unknown namespace prefix: ${u}.`),null)}clean(u){const{hasNamespace:i,prefixes:F,nsAgnostic:C}=u;i&&(this._currentNamespace=this._namespaceStack.pop()),F&&F.forEach(({prefix:T})=>{this._namespacePrefixes.get(T).pop()}),C&&this._nsAgnosticLevel--}}m.Builder=I},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.NamespaceSetUp=void 0;var n=Q(93),S=Q(94),N=Q(95),e=Q(96),t=Q(97),r=Q(98),z=Q(80),j=Q(99),M=Q(100);const I={config:n.ConfigNamespace,connection:S.ConnectionSetNamespace,datasets:N.DatasetsNamespace,localeSet:e.LocaleSetNamespace,signature:t.SignatureNamespace,stylesheet:r.StylesheetNamespace,template:z.TemplateNamespace,xdp:j.XdpNamespace,xhtml:M.XhtmlNamespace};m.NamespaceSetUp=I},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.ConfigNamespace=void 0;var n=Q(81),S=Q(78),N=Q(87),e=Q(84),t=Q(2);const r=n.NamespaceIds.config.id;class z extends N.XFAObject{constructor(oe){super(r,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new N.XFAObjectArray}}class j extends N.XFAObject{constructor(oe){super(r,"acrobat7",!0),this.dynamicRender=null}}class M extends N.OptionObject{constructor(oe){super(r,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class I extends N.OptionObject{constructor(oe){super(r,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class d extends N.Option01{constructor(oe){super(r,"addSilentPrint")}}class u extends N.Option01{constructor(oe){super(r,"addViewerPreferences")}}class i extends N.Option10{constructor(oe){super(r,"adjustData")}}class F extends N.IntegerObject{constructor(oe){super(r,"adobeExtensionLevel",0,He=>He>=1&&He<=8)}}class C extends N.XFAObject{constructor(oe){super(r,"agent",!0),this.name=oe.name?oe.name.trim():"",this.common=new N.XFAObjectArray}}class T extends N.ContentObject{constructor(oe){super(r,"alwaysEmbed")}}class b extends N.StringObject{constructor(oe){super(r,"amd")}}class L extends N.XFAObject{constructor(oe){super(r,"area"),this.level=(0,e.getInteger)({data:oe.level,defaultValue:0,validate:He=>He>=1&&He<=3}),this.name=(0,e.getStringOption)(oe.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class B extends N.OptionObject{constructor(oe){super(r,"attributes",["preserve","delegate","ignore"])}}class V extends N.OptionObject{constructor(oe){super(r,"autoSave",["disabled","enabled"])}}class k extends N.StringObject{constructor(oe){super(r,"base")}}class _ extends N.XFAObject{constructor(oe){super(r,"batchOutput"),this.format=(0,e.getStringOption)(oe.format,["none","concat","zip","zipCompress"])}}class l extends N.ContentObject{constructor(oe){super(r,"behaviorOverride")}[S.$finalize](){this[S.$content]=new Map(this[S.$content].trim().split(/\s+/).filter(oe=>oe.includes(":")).map(oe=>oe.split(":",2)))}}class x extends N.XFAObject{constructor(oe){super(r,"cache",!0),this.templateCache=null}}class X extends N.Option01{constructor(oe){super(r,"change")}}class a extends N.XFAObject{constructor(oe){super(r,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new N.XFAObjectArray}}class g extends N.XFAObject{constructor(oe){super(r,"compress"),this.scope=(0,e.getStringOption)(oe.scope,["imageOnly","document"])}}class P extends N.Option01{constructor(oe){super(r,"compressLogicalStructure")}}class G extends N.Option10{constructor(oe){super(r,"compressObjectStream")}}class D extends N.XFAObject{constructor(oe){super(r,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class w extends N.XFAObject{constructor(oe){super(r,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new N.XFAObjectArray}}class A extends N.OptionObject{constructor(oe){super(r,"conformance",["A","B"])}}class v extends N.Option01{constructor(oe){super(r,"contentCopy")}}class o extends N.IntegerObject{constructor(oe){super(r,"copies",1,He=>He>=1)}}class y extends N.StringObject{constructor(oe){super(r,"creator")}}class c extends N.IntegerObject{constructor(oe){super(r,"currentPage",0,He=>He>=0)}}class h extends N.XFAObject{constructor(oe){super(r,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new N.XFAObjectArray,this.transform=new N.XFAObjectArray}}class O extends N.XFAObject{constructor(oe){super(r,"debug",!0),this.uri=null}}class W extends N.ContentObject{constructor(oe){super(r,"defaultTypeface"),this.writingScript=(0,e.getStringOption)(oe.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class R extends N.OptionObject{constructor(oe){super(r,"destination",["pdf","pcl","ps","webClient","zpl"])}}class H extends N.Option01{constructor(oe){super(r,"documentAssembly")}}class ae extends N.XFAObject{constructor(oe){super(r,"driver",!0),this.name=oe.name?oe.name.trim():"",this.fontInfo=null,this.xdc=null}}class q extends N.OptionObject{constructor(oe){super(r,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class ce extends N.OptionObject{constructor(oe){super(r,"dynamicRender",["forbidden","required"])}}class ee extends N.Option01{constructor(oe){super(r,"embed")}}class se extends N.Option01{constructor(oe){super(r,"encrypt")}}class $ extends N.XFAObject{constructor(oe){super(r,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class U extends N.OptionObject{constructor(oe){super(r,"encryptionLevel",["40bit","128bit"])}}class K extends N.StringObject{constructor(oe){super(r,"enforce")}}class J extends N.XFAObject{constructor(oe){super(r,"equate"),this.force=(0,e.getInteger)({data:oe.force,defaultValue:1,validate:He=>He===0}),this.from=oe.from||"",this.to=oe.to||""}}class Y extends N.XFAObject{constructor(oe){super(r,"equateRange"),this.from=oe.from||"",this.to=oe.to||"",this._unicodeRange=oe.unicodeRange||""}get unicodeRange(){const oe=[],He=/U\+([0-9a-fA-F]+)/,Je=this._unicodeRange;for(let nt of Je.split(",").map(ft=>ft.trim()).filter(ft=>!!ft))nt=nt.split("-",2).map(ft=>{const xt=ft.match(He);return xt?parseInt(xt[1],16):0}),nt.length===1&&nt.push(nt[0]),oe.push(nt);return(0,t.shadow)(this,"unicodeRange",oe)}}class ie extends N.ContentObject{constructor(oe){super(r,"exclude")}[S.$finalize](){this[S.$content]=this[S.$content].trim().split(/\s+/).filter(oe=>oe&&["calculate","close","enter","exit","initialize","ready","validate"].includes(oe))}}class re extends N.StringObject{constructor(oe){super(r,"excludeNS")}}class Z extends N.OptionObject{constructor(oe){super(r,"flipLabel",["usePrinterSetting","on","off"])}}class he extends N.XFAObject{constructor(oe){super(r,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new N.XFAObjectArray,this.defaultTypeface=new N.XFAObjectArray,this.neverEmbed=new N.XFAObjectArray}}class le extends N.Option01{constructor(oe){super(r,"formFieldFilling")}}class te extends N.StringObject{constructor(oe){super(r,"groupParent")}}class ue extends N.OptionObject{constructor(oe){super(r,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class ge extends N.StringObject{constructor(oe){super(r,"includeXDPContent")}}class ye extends N.OptionObject{constructor(oe){super(r,"incrementalLoad",["none","forwardOnly"])}}class Ee extends N.Option01{constructor(oe){super(r,"incrementalMerge")}}class Oe extends N.Option01{constructor(oe){super(r,"interactive")}}class ve extends N.OptionObject{constructor(oe){super(r,"jog",["usePrinterSetting","none","pageSet"])}}class Se extends N.XFAObject{constructor(oe){super(r,"labelPrinter",!0),this.name=(0,e.getStringOption)(oe.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Ae extends N.OptionObject{constructor(oe){super(r,"layout",["paginate","panel"])}}class ke extends N.IntegerObject{constructor(oe){super(r,"level",0,He=>He>0)}}class _e extends N.Option01{constructor(oe){super(r,"linearized")}}class je extends N.StringObject{constructor(oe){super(r,"locale")}}class Re extends N.StringObject{constructor(oe){super(r,"localeSet")}}class be extends N.XFAObject{constructor(oe){super(r,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class Ce extends N.XFAObject{constructor(oe){super(r,"map",!0),this.equate=new N.XFAObjectArray,this.equateRange=new N.XFAObjectArray}}class $e extends N.XFAObject{constructor(oe){super(r,"mediumInfo",!0),this.map=null}}class Pe extends N.XFAObject{constructor(oe){super(r,"message",!0),this.msgId=null,this.severity=null}}class ze extends N.XFAObject{constructor(oe){super(r,"messaging",!0),this.message=new N.XFAObjectArray}}class We extends N.OptionObject{constructor(oe){super(r,"mode",["append","overwrite"])}}class ut extends N.Option01{constructor(oe){super(r,"modifyAnnots")}}class Le extends N.IntegerObject{constructor(oe){super(r,"msgId",1,He=>He>=1)}}class rt extends N.StringObject{constructor(oe){super(r,"nameAttr")}}class Qe extends N.ContentObject{constructor(oe){super(r,"neverEmbed")}}class Fe extends N.IntegerObject{constructor(oe){super(r,"numberOfCopies",null,He=>He>=2&&He<=5)}}class me extends N.XFAObject{constructor(oe){super(r,"openAction",!0),this.destination=null}}class Te extends N.XFAObject{constructor(oe){super(r,"output",!0),this.to=null,this.type=null,this.uri=null}}class Ie extends N.StringObject{constructor(oe){super(r,"outputBin")}}class De extends N.XFAObject{constructor(oe){super(r,"outputXSL",!0),this.uri=null}}class Be extends N.OptionObject{constructor(oe){super(r,"overprint",["none","both","draw","field"])}}class Ue extends N.StringObject{constructor(oe){super(r,"packets")}[S.$finalize](){this[S.$content]!=="*"&&(this[S.$content]=this[S.$content].trim().split(/\s+/).filter(oe=>["config","datasets","template","xfdf","xslt"].includes(oe)))}}class Ze extends N.XFAObject{constructor(oe){super(r,"pageOffset"),this.x=(0,e.getInteger)({data:oe.x,defaultValue:"useXDCSetting",validate:He=>!0}),this.y=(0,e.getInteger)({data:oe.y,defaultValue:"useXDCSetting",validate:He=>!0})}}class Ke extends N.StringObject{constructor(oe){super(r,"pageRange")}[S.$finalize](){const oe=this[S.$content].trim().split(/\s+/).map(Je=>parseInt(Je,10)),He=[];for(let Je=0,nt=oe.length;Je<nt;Je+=2)He.push(oe.slice(Je,Je+2));this[S.$content]=He}}class qe extends N.OptionObject{constructor(oe){super(r,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class tt extends N.OptionObject{constructor(oe){super(r,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class it extends N.IntegerObject{constructor(oe){super(r,"part",1,He=>!1)}}class ot extends N.XFAObject{constructor(oe){super(r,"pcl",!0),this.name=oe.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class dt extends N.XFAObject{constructor(oe){super(r,"pdf",!0),this.name=oe.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class ct extends N.XFAObject{constructor(oe){super(r,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class wt extends N.XFAObject{constructor(oe){super(r,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class It extends N.Option01{constructor(oe){super(r,"pickTrayByPDFSize")}}class Ye extends N.StringObject{constructor(oe){super(r,"picture")}}class Ve extends N.Option01{constructor(oe){super(r,"plaintextMetadata")}}class et extends N.OptionObject{constructor(oe){super(r,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class at extends N.XFAObject{constructor(oe){super(r,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new N.XFAObjectArray,this.labelPrinter=new N.XFAObjectArray,this.pcl=new N.XFAObjectArray,this.pdf=new N.XFAObjectArray,this.ps=new N.XFAObjectArray,this.submitUrl=new N.XFAObjectArray,this.webClient=new N.XFAObjectArray,this.zpl=new N.XFAObjectArray}}class lt extends N.Option01{constructor(oe){super(r,"print")}}class bt extends N.Option01{constructor(oe){super(r,"printHighQuality")}}class ht extends N.OptionObject{constructor(oe){super(r,"printScaling",["appdefault","noScaling"])}}class st extends N.StringObject{constructor(oe){super(r,"printerName")}}class pt extends N.StringObject{constructor(oe){super(r,"producer")}}class Ct extends N.XFAObject{constructor(oe){super(r,"ps",!0),this.name=oe.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class Mt extends N.ContentObject{constructor(oe){super(r,"range")}[S.$finalize](){this[S.$content]=this[S.$content].trim().split(/\s*,\s*/,2).map(oe=>oe.split("-").map(He=>parseInt(He.trim(),10))).filter(oe=>oe.every(He=>!isNaN(He))).map(oe=>(oe.length===1&&oe.push(oe[0]),oe))}}class St extends N.ContentObject{constructor(oe){super(r,"record")}[S.$finalize](){this[S.$content]=this[S.$content].trim();const oe=parseInt(this[S.$content],10);!isNaN(oe)&&oe>=0&&(this[S.$content]=oe)}}class vt extends N.ContentObject{constructor(oe){super(r,"relevant")}[S.$finalize](){this[S.$content]=this[S.$content].trim().split(/\s+/)}}class Ot extends N.ContentObject{constructor(oe){super(r,"rename")}[S.$finalize](){this[S.$content]=this[S.$content].trim(),(this[S.$content].toLowerCase().startsWith("xml")||new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u").test(this[S.$content]))&&(0,t.warn)("XFA - Rename: invalid XFA name")}}class mt extends N.OptionObject{constructor(oe){super(r,"renderPolicy",["server","client"])}}class kt extends N.OptionObject{constructor(oe){super(r,"runScripts",["both","client","none","server"])}}class gt extends N.XFAObject{constructor(oe){super(r,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class Et extends N.OptionObject{constructor(oe){super(r,"scriptModel",["XFA","none"])}}class Rt extends N.OptionObject{constructor(oe){super(r,"severity",["ignore","error","information","trace","warning"])}}class Wt extends N.XFAObject{constructor(oe){super(r,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class Ft extends N.XFAObject{constructor(oe){super(r,"staple"),this.mode=(0,e.getStringOption)(oe.mode,["usePrinterSetting","on","off"])}}class Tt extends N.StringObject{constructor(oe){super(r,"startNode")}}class Bt extends N.IntegerObject{constructor(oe){super(r,"startPage",0,He=>!0)}}class Ht extends N.OptionObject{constructor(oe){super(r,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class Kt extends N.StringObject{constructor(oe){super(r,"submitUrl")}}class sn extends N.IntegerObject{constructor(oe){super(r,"subsetBelow",100,He=>He>=0&&He<=100)}}class Zn extends N.Option01{constructor(oe){super(r,"suppressBanner")}}class Qn extends N.Option01{constructor(oe){super(r,"tagged")}}class ei extends N.XFAObject{constructor(oe){super(r,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class ti extends N.OptionObject{constructor(oe){super(r,"threshold",["trace","error","information","warning"])}}class ni extends N.OptionObject{constructor(oe){super(r,"to",["null","memory","stderr","stdout","system","uri"])}}class In extends N.XFAObject{constructor(oe){super(r,"templateCache"),this.maxEntries=(0,e.getInteger)({data:oe.maxEntries,defaultValue:5,validate:He=>He>=0})}}class xn extends N.XFAObject{constructor(oe){super(r,"trace",!0),this.area=new N.XFAObjectArray}}class ii extends N.XFAObject{constructor(oe){super(r,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class si extends N.OptionObject{constructor(oe){super(r,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class ai extends N.StringObject{constructor(oe){super(r,"uri")}}class bn extends N.OptionObject{constructor(oe){super(r,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class On extends N.ContentObject{constructor(oe){super(r,"validateApprovalSignatures")}[S.$finalize](){this[S.$content]=this[S.$content].trim().split(/\s+/).filter(oe=>["docReady","postSign"].includes(oe))}}class Pn extends N.OptionObject{constructor(oe){super(r,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class ri extends N.OptionObject{constructor(oe){super(r,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class oi extends N.XFAObject{constructor(oe){super(r,"VersionControl"),this.outputBelow=(0,e.getStringOption)(oe.outputBelow,["warn","error","update"]),this.sourceAbove=(0,e.getStringOption)(oe.sourceAbove,["warn","error"]),this.sourceBelow=(0,e.getStringOption)(oe.sourceBelow,["update","maintain"])}}class ci extends N.XFAObject{constructor(oe){super(r,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class li extends N.XFAObject{constructor(oe){super(r,"webClient",!0),this.name=oe.name?oe.name.trim():"",this.fontInfo=null,this.xdc=null}}class hi extends N.OptionObject{constructor(oe){super(r,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class yn extends N.ContentObject{constructor(oe){super(r,"window")}[S.$finalize](){const oe=this[S.$content].trim().split(/\s*,\s*/,2).map(He=>parseInt(He,10));if(oe.some(He=>isNaN(He))){this[S.$content]=[0,0];return}oe.length===1&&oe.push(oe[0]),this[S.$content]=oe}}class ui extends N.XFAObject{constructor(oe){super(r,"xdc",!0),this.uri=new N.XFAObjectArray,this.xsl=new N.XFAObjectArray}}class rn extends N.XFAObject{constructor(oe){super(r,"xdp",!0),this.packets=null}}class di extends N.XFAObject{constructor(oe){super(r,"xsl",!0),this.debug=null,this.uri=null}}class on extends N.XFAObject{constructor(oe){super(r,"zpl",!0),this.name=oe.name?oe.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Ge{static[n.$buildXFAObject](oe,He){if(Ge.hasOwnProperty(oe))return Ge[oe](He)}static acrobat(oe){return new z(oe)}static acrobat7(oe){return new j(oe)}static ADBE_JSConsole(oe){return new M(oe)}static ADBE_JSDebugger(oe){return new I(oe)}static addSilentPrint(oe){return new d(oe)}static addViewerPreferences(oe){return new u(oe)}static adjustData(oe){return new i(oe)}static adobeExtensionLevel(oe){return new F(oe)}static agent(oe){return new C(oe)}static alwaysEmbed(oe){return new T(oe)}static amd(oe){return new b(oe)}static area(oe){return new L(oe)}static attributes(oe){return new B(oe)}static autoSave(oe){return new V(oe)}static base(oe){return new k(oe)}static batchOutput(oe){return new _(oe)}static behaviorOverride(oe){return new l(oe)}static cache(oe){return new x(oe)}static change(oe){return new X(oe)}static common(oe){return new a(oe)}static compress(oe){return new g(oe)}static compressLogicalStructure(oe){return new P(oe)}static compressObjectStream(oe){return new G(oe)}static compression(oe){return new D(oe)}static config(oe){return new w(oe)}static conformance(oe){return new A(oe)}static contentCopy(oe){return new v(oe)}static copies(oe){return new o(oe)}static creator(oe){return new y(oe)}static currentPage(oe){return new c(oe)}static data(oe){return new h(oe)}static debug(oe){return new O(oe)}static defaultTypeface(oe){return new W(oe)}static destination(oe){return new R(oe)}static documentAssembly(oe){return new H(oe)}static driver(oe){return new ae(oe)}static duplexOption(oe){return new q(oe)}static dynamicRender(oe){return new ce(oe)}static embed(oe){return new ee(oe)}static encrypt(oe){return new se(oe)}static encryption(oe){return new $(oe)}static encryptionLevel(oe){return new U(oe)}static enforce(oe){return new K(oe)}static equate(oe){return new J(oe)}static equateRange(oe){return new Y(oe)}static exclude(oe){return new ie(oe)}static excludeNS(oe){return new re(oe)}static flipLabel(oe){return new Z(oe)}static fontInfo(oe){return new he(oe)}static formFieldFilling(oe){return new le(oe)}static groupParent(oe){return new te(oe)}static ifEmpty(oe){return new ue(oe)}static includeXDPContent(oe){return new ge(oe)}static incrementalLoad(oe){return new ye(oe)}static incrementalMerge(oe){return new Ee(oe)}static interactive(oe){return new Oe(oe)}static jog(oe){return new ve(oe)}static labelPrinter(oe){return new Se(oe)}static layout(oe){return new Ae(oe)}static level(oe){return new ke(oe)}static linearized(oe){return new _e(oe)}static locale(oe){return new je(oe)}static localeSet(oe){return new Re(oe)}static log(oe){return new be(oe)}static map(oe){return new Ce(oe)}static mediumInfo(oe){return new $e(oe)}static message(oe){return new Pe(oe)}static messaging(oe){return new ze(oe)}static mode(oe){return new We(oe)}static modifyAnnots(oe){return new ut(oe)}static msgId(oe){return new Le(oe)}static nameAttr(oe){return new rt(oe)}static neverEmbed(oe){return new Qe(oe)}static numberOfCopies(oe){return new Fe(oe)}static openAction(oe){return new me(oe)}static output(oe){return new Te(oe)}static outputBin(oe){return new Ie(oe)}static outputXSL(oe){return new De(oe)}static overprint(oe){return new Be(oe)}static packets(oe){return new Ue(oe)}static pageOffset(oe){return new Ze(oe)}static pageRange(oe){return new Ke(oe)}static pagination(oe){return new qe(oe)}static paginationOverride(oe){return new tt(oe)}static part(oe){return new it(oe)}static pcl(oe){return new ot(oe)}static pdf(oe){return new dt(oe)}static pdfa(oe){return new ct(oe)}static permissions(oe){return new wt(oe)}static pickTrayByPDFSize(oe){return new It(oe)}static picture(oe){return new Ye(oe)}static plaintextMetadata(oe){return new Ve(oe)}static presence(oe){return new et(oe)}static present(oe){return new at(oe)}static print(oe){return new lt(oe)}static printHighQuality(oe){return new bt(oe)}static printScaling(oe){return new ht(oe)}static printerName(oe){return new st(oe)}static producer(oe){return new pt(oe)}static ps(oe){return new Ct(oe)}static range(oe){return new Mt(oe)}static record(oe){return new St(oe)}static relevant(oe){return new vt(oe)}static rename(oe){return new Ot(oe)}static renderPolicy(oe){return new mt(oe)}static runScripts(oe){return new kt(oe)}static script(oe){return new gt(oe)}static scriptModel(oe){return new Et(oe)}static severity(oe){return new Rt(oe)}static silentPrint(oe){return new Wt(oe)}static staple(oe){return new Ft(oe)}static startNode(oe){return new Tt(oe)}static startPage(oe){return new Bt(oe)}static submitFormat(oe){return new Ht(oe)}static submitUrl(oe){return new Kt(oe)}static subsetBelow(oe){return new sn(oe)}static suppressBanner(oe){return new Zn(oe)}static tagged(oe){return new Qn(oe)}static template(oe){return new ei(oe)}static templateCache(oe){return new In(oe)}static threshold(oe){return new ti(oe)}static to(oe){return new ni(oe)}static trace(oe){return new xn(oe)}static transform(oe){return new ii(oe)}static type(oe){return new si(oe)}static uri(oe){return new ai(oe)}static validate(oe){return new bn(oe)}static validateApprovalSignatures(oe){return new On(oe)}static validationMessaging(oe){return new Pn(oe)}static version(oe){return new ri(oe)}static versionControl(oe){return new oi(oe)}static viewerPreferences(oe){return new ci(oe)}static webClient(oe){return new li(oe)}static whitespace(oe){return new hi(oe)}static window(oe){return new yn(oe)}static xdc(oe){return new ui(oe)}static xdp(oe){return new rn(oe)}static xsl(oe){return new di(oe)}static zpl(oe){return new on(oe)}}m.ConfigNamespace=Ge},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.ConnectionSetNamespace=void 0;var n=Q(81),S=Q(87);const N=n.NamespaceIds.connectionSet.id;class e extends S.XFAObject{constructor(L){super(N,"connectionSet",!0),this.wsdlConnection=new S.XFAObjectArray,this.xmlConnection=new S.XFAObjectArray,this.xsdConnection=new S.XFAObjectArray}}class t extends S.XFAObject{constructor(L){super(N,"effectiveInputPolicy"),this.id=L.id||"",this.name=L.name||"",this.use=L.use||"",this.usehref=L.usehref||""}}class r extends S.XFAObject{constructor(L){super(N,"effectiveOutputPolicy"),this.id=L.id||"",this.name=L.name||"",this.use=L.use||"",this.usehref=L.usehref||""}}class z extends S.StringObject{constructor(L){super(N,"operation"),this.id=L.id||"",this.input=L.input||"",this.name=L.name||"",this.output=L.output||"",this.use=L.use||"",this.usehref=L.usehref||""}}class j extends S.StringObject{constructor(L){super(N,"rootElement"),this.id=L.id||"",this.name=L.name||"",this.use=L.use||"",this.usehref=L.usehref||""}}class M extends S.StringObject{constructor(L){super(N,"soapAction"),this.id=L.id||"",this.name=L.name||"",this.use=L.use||"",this.usehref=L.usehref||""}}class I extends S.StringObject{constructor(L){super(N,"soapAddress"),this.id=L.id||"",this.name=L.name||"",this.use=L.use||"",this.usehref=L.usehref||""}}class d extends S.StringObject{constructor(L){super(N,"uri"),this.id=L.id||"",this.name=L.name||"",this.use=L.use||"",this.usehref=L.usehref||""}}class u extends S.StringObject{constructor(L){super(N,"wsdlAddress"),this.id=L.id||"",this.name=L.name||"",this.use=L.use||"",this.usehref=L.usehref||""}}class i extends S.XFAObject{constructor(L){super(N,"wsdlConnection",!0),this.dataDescription=L.dataDescription||"",this.name=L.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class F extends S.XFAObject{constructor(L){super(N,"xmlConnection",!0),this.dataDescription=L.dataDescription||"",this.name=L.name||"",this.uri=null}}class C extends S.XFAObject{constructor(L){super(N,"xsdConnection",!0),this.dataDescription=L.dataDescription||"",this.name=L.name||"",this.rootElement=null,this.uri=null}}class T{static[n.$buildXFAObject](L,B){if(T.hasOwnProperty(L))return T[L](B)}static connectionSet(L){return new e(L)}static effectiveInputPolicy(L){return new t(L)}static effectiveOutputPolicy(L){return new r(L)}static operation(L){return new z(L)}static rootElement(L){return new j(L)}static soapAction(L){return new M(L)}static soapAddress(L){return new I(L)}static uri(L){return new d(L)}static wsdlAddress(L){return new u(L)}static wsdlConnection(L){return new i(L)}static xmlConnection(L){return new F(L)}static xsdConnection(L){return new C(L)}}m.ConnectionSetNamespace=T},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.DatasetsNamespace=void 0;var n=Q(78),S=Q(81),N=Q(87);const e=S.NamespaceIds.datasets.id;class t extends N.XmlObject{constructor(M){super(e,"data",M)}[n.$isNsAgnostic](){return!0}}class r extends N.XFAObject{constructor(M){super(e,"datasets",!0),this.data=null,this.Signature=null}[n.$onChild](M){const I=M[n.$nodeName];(I==="data"&&M[n.$namespaceId]===e||I==="Signature"&&M[n.$namespaceId]===S.NamespaceIds.signature.id)&&(this[I]=M),this[n.$appendChild](M)}}class z{static[S.$buildXFAObject](M,I){if(z.hasOwnProperty(M))return z[M](I)}static datasets(M){return new r(M)}static data(M){return new t(M)}}m.DatasetsNamespace=z},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.LocaleSetNamespace=void 0;var n=Q(81),S=Q(87),N=Q(84);const e=n.NamespaceIds.localeSet.id;class t extends S.XFAObject{constructor(w){super(e,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new S.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new S.XFAObjectArray(2)}}class r extends S.StringObject{constructor(w){super(e,"currencySymbol"),this.name=(0,N.getStringOption)(w.name,["symbol","isoname","decimal"])}}class z extends S.XFAObject{constructor(w){super(e,"currencySymbols",!0),this.currencySymbol=new S.XFAObjectArray(3)}}class j extends S.StringObject{constructor(w){super(e,"datePattern"),this.name=(0,N.getStringOption)(w.name,["full","long","med","short"])}}class M extends S.XFAObject{constructor(w){super(e,"datePatterns",!0),this.datePattern=new S.XFAObjectArray(4)}}class I extends S.ContentObject{constructor(w){super(e,"dateTimeSymbols")}}class d extends S.StringObject{constructor(w){super(e,"day")}}class u extends S.XFAObject{constructor(w){super(e,"dayNames",!0),this.abbr=(0,N.getInteger)({data:w.abbr,defaultValue:0,validate:A=>A===1}),this.day=new S.XFAObjectArray(7)}}class i extends S.StringObject{constructor(w){super(e,"era")}}class F extends S.XFAObject{constructor(w){super(e,"eraNames",!0),this.era=new S.XFAObjectArray(2)}}class C extends S.XFAObject{constructor(w){super(e,"locale",!0),this.desc=w.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class T extends S.XFAObject{constructor(w){super(e,"localeSet",!0),this.locale=new S.XFAObjectArray}}class b extends S.StringObject{constructor(w){super(e,"meridiem")}}class L extends S.XFAObject{constructor(w){super(e,"meridiemNames",!0),this.meridiem=new S.XFAObjectArray(2)}}class B extends S.StringObject{constructor(w){super(e,"month")}}class V extends S.XFAObject{constructor(w){super(e,"monthNames",!0),this.abbr=(0,N.getInteger)({data:w.abbr,defaultValue:0,validate:A=>A===1}),this.month=new S.XFAObjectArray(12)}}class k extends S.StringObject{constructor(w){super(e,"numberPattern"),this.name=(0,N.getStringOption)(w.name,["full","long","med","short"])}}class _ extends S.XFAObject{constructor(w){super(e,"numberPatterns",!0),this.numberPattern=new S.XFAObjectArray(4)}}class l extends S.StringObject{constructor(w){super(e,"numberSymbol"),this.name=(0,N.getStringOption)(w.name,["decimal","grouping","percent","minus","zero"])}}class x extends S.XFAObject{constructor(w){super(e,"numberSymbols",!0),this.numberSymbol=new S.XFAObjectArray(5)}}class X extends S.StringObject{constructor(w){super(e,"timePattern"),this.name=(0,N.getStringOption)(w.name,["full","long","med","short"])}}class a extends S.XFAObject{constructor(w){super(e,"timePatterns",!0),this.timePattern=new S.XFAObjectArray(4)}}class g extends S.XFAObject{constructor(w){super(e,"typeFace",!0),this.name=w.name|""}}class P extends S.XFAObject{constructor(w){super(e,"typeFaces",!0),this.typeFace=new S.XFAObjectArray}}class G{static[n.$buildXFAObject](w,A){if(G.hasOwnProperty(w))return G[w](A)}static calendarSymbols(w){return new t(w)}static currencySymbol(w){return new r(w)}static currencySymbols(w){return new z(w)}static datePattern(w){return new j(w)}static datePatterns(w){return new M(w)}static dateTimeSymbols(w){return new I(w)}static day(w){return new d(w)}static dayNames(w){return new u(w)}static era(w){return new i(w)}static eraNames(w){return new F(w)}static locale(w){return new C(w)}static localeSet(w){return new T(w)}static meridiem(w){return new b(w)}static meridiemNames(w){return new L(w)}static month(w){return new B(w)}static monthNames(w){return new V(w)}static numberPattern(w){return new k(w)}static numberPatterns(w){return new _(w)}static numberSymbol(w){return new l(w)}static numberSymbols(w){return new x(w)}static timePattern(w){return new X(w)}static timePatterns(w){return new a(w)}static typeFace(w){return new g(w)}static typeFaces(w){return new P(w)}}m.LocaleSetNamespace=G},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.SignatureNamespace=void 0;var n=Q(81),S=Q(87);const N=n.NamespaceIds.signature.id;class e extends S.XFAObject{constructor(z){super(N,"signature",!0)}}class t{static[n.$buildXFAObject](z,j){if(t.hasOwnProperty(z))return t[z](j)}static signature(z){return new e(z)}}m.SignatureNamespace=t},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.StylesheetNamespace=void 0;var n=Q(81),S=Q(87);const N=n.NamespaceIds.stylesheet.id;class e extends S.XFAObject{constructor(z){super(N,"stylesheet",!0)}}class t{static[n.$buildXFAObject](z,j){if(t.hasOwnProperty(z))return t[z](j)}static stylesheet(z){return new e(z)}}m.StylesheetNamespace=t},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.XdpNamespace=void 0;var n=Q(81),S=Q(78),N=Q(87);const e=n.NamespaceIds.xdp.id;class t extends N.XFAObject{constructor(j){super(e,"xdp",!0),this.uuid=j.uuid||"",this.timeStamp=j.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new N.XFAObjectArray,this.template=null}[S.$onChildCheck](j){const M=n.NamespaceIds[j[S.$nodeName]];return M&&j[S.$namespaceId]===M.id}}class r{static[n.$buildXFAObject](j,M){if(r.hasOwnProperty(j))return r[j](M)}static xdp(j){return new t(j)}}m.XdpNamespace=r},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.XhtmlNamespace=void 0;var n=Q(78),S=Q(81),N=Q(83),e=Q(84),t=Q(87);const r=S.NamespaceIds.xhtml.id,z=Symbol(),j=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),M=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",w=>w==="none"?"none":"normal"],["xfa-font-horizontal-scale",w=>`scaleX(${Math.max(0,Math.min(parseInt(w)/100)).toFixed(2)})`],["xfa-font-vertical-scale",w=>`scaleY(${Math.max(0,Math.min(parseInt(w)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(w,A)=>(w=A.fontSize=(0,e.getMeasurement)(w),(0,N.measureToString)(.99*w))],["letter-spacing",w=>(0,N.measureToString)((0,e.getMeasurement)(w))],["line-height",w=>(0,N.measureToString)((0,e.getMeasurement)(w))],["margin",w=>(0,N.measureToString)((0,e.getMeasurement)(w))],["margin-bottom",w=>(0,N.measureToString)((0,e.getMeasurement)(w))],["margin-left",w=>(0,N.measureToString)((0,e.getMeasurement)(w))],["margin-right",w=>(0,N.measureToString)((0,e.getMeasurement)(w))],["margin-top",w=>(0,N.measureToString)((0,e.getMeasurement)(w))],["text-indent",w=>(0,N.measureToString)((0,e.getMeasurement)(w))],["font-family",w=>w],["vertical-align",w=>(0,N.measureToString)((0,e.getMeasurement)(w))]]),I=/\s+/g,d=/[\r\n]+/g,u=/\r\n?/g;function i(w,A,v){const o=Object.create(null);if(!w)return o;const y=Object.create(null);for(const[c,h]of w.split(";").map(O=>O.split(":",2))){const O=M.get(c);if(O==="")continue;let W=h;O&&(W=typeof O=="string"?O:O(h,y)),c.endsWith("scale")?o.transform=o.transform?`${o[c]} ${W}`:W:o[c.replaceAll(/-([a-zA-Z])/g,(R,H)=>H.toUpperCase())]=W}if(o.fontFamily&&(0,N.setFontFamily)({typeface:o.fontFamily,weight:o.fontWeight||"normal",posture:o.fontStyle||"normal",size:y.fontSize||0},A,A[n.$globalData].fontFinder,o),v&&o.verticalAlign&&o.verticalAlign!=="0px"&&o.fontSize){const O=(0,e.getMeasurement)(o.fontSize);o.fontSize=(0,N.measureToString)(O*.583),o.verticalAlign=(0,N.measureToString)(Math.sign((0,e.getMeasurement)(o.verticalAlign))*O*.333)}return v&&o.fontSize&&(o.fontSize=`calc(${o.fontSize} * var(--scale-factor))`),(0,N.fixTextIndent)(o),o}function F(w){return w.style?w.style.trim().split(/\s*;\s*/).filter(A=>!!A).map(A=>A.split(/\s*:\s*/,2)).filter(([A,v])=>(A==="font-family"&&w[n.$globalData].usedTypefaces.add(v),j.has(A))).map(A=>A.join(":")).join(";"):""}const C=new Set(["body","html"]);class T extends t.XmlObject{constructor(A,v){super(r,v),this[z]=!1,this.style=A.style||""}[n.$clean](A){super[n.$clean](A),this.style=F(this)}[n.$acceptWhitespace](){return!C.has(this[n.$nodeName])}[n.$onText](A,v=!1){v?this[z]=!0:(A=A.replaceAll(d,""),this.style.includes("xfa-spacerun:yes")||(A=A.replaceAll(I," "))),A&&(this[n.$content]+=A)}[n.$pushGlyphs](A,v=!0){const o=Object.create(null),y={top:NaN,bottom:NaN,left:NaN,right:NaN};let c=null;for(const[h,O]of this.style.split(";").map(W=>W.split(":",2)))switch(h){case"font-family":o.typeface=(0,e.stripQuotes)(O);break;case"font-size":o.size=(0,e.getMeasurement)(O);break;case"font-weight":o.weight=O;break;case"font-style":o.posture=O;break;case"letter-spacing":o.letterSpacing=(0,e.getMeasurement)(O);break;case"margin":const W=O.split(/ \t/).map(R=>(0,e.getMeasurement)(R));switch(W.length){case 1:y.top=y.bottom=y.left=y.right=W[0];break;case 2:y.top=y.bottom=W[0],y.left=y.right=W[1];break;case 3:y.top=W[0],y.bottom=W[2],y.left=y.right=W[1];break;case 4:y.top=W[0],y.left=W[1],y.bottom=W[2],y.right=W[3];break}break;case"margin-top":y.top=(0,e.getMeasurement)(O);break;case"margin-bottom":y.bottom=(0,e.getMeasurement)(O);break;case"margin-left":y.left=(0,e.getMeasurement)(O);break;case"margin-right":y.right=(0,e.getMeasurement)(O);break;case"line-height":c=(0,e.getMeasurement)(O);break}if(A.pushData(o,y,c),this[n.$content])A.addString(this[n.$content]);else for(const h of this[n.$getChildren]()){if(h[n.$nodeName]==="#text"){A.addString(h[n.$content]);continue}h[n.$pushGlyphs](A)}v&&A.popFont()}[n.$toHTML](A){const v=[];if(this[n.$extra]={children:v},this[n.$childrenToHTML]({}),v.length===0&&!this[n.$content])return e.HTMLResult.EMPTY;let o;return this[z]?o=this[n.$content]?this[n.$content].replaceAll(u,`
`):void 0:o=this[n.$content]||void 0,e.HTMLResult.success({name:this[n.$nodeName],attributes:{href:this.href,style:i(this.style,this,this[z])},children:v,value:o})}}class b extends T{constructor(A){super(A,"a"),this.href=(0,N.fixURL)(A.href)||""}}class L extends T{constructor(A){super(A,"b")}[n.$pushGlyphs](A){A.pushFont({weight:"bold"}),super[n.$pushGlyphs](A),A.popFont()}}class B extends T{constructor(A){super(A,"body")}[n.$toHTML](A){const v=super[n.$toHTML](A),{html:o}=v;return o?(o.name="div",o.attributes.class=["xfaRich"],v):e.HTMLResult.EMPTY}}class V extends T{constructor(A){super(A,"br")}[n.$text](){return`
`}[n.$pushGlyphs](A){A.addString(`
`)}[n.$toHTML](A){return e.HTMLResult.success({name:"br"})}}class k extends T{constructor(A){super(A,"html")}[n.$toHTML](A){var o;const v=[];if(this[n.$extra]={children:v},this[n.$childrenToHTML]({}),v.length===0)return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[n.$content]||""});if(v.length===1){const y=v[0];if((o=y.attributes)!=null&&o.class.includes("xfaRich"))return e.HTMLResult.success(y)}return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:v})}}class _ extends T{constructor(A){super(A,"i")}[n.$pushGlyphs](A){A.pushFont({posture:"italic"}),super[n.$pushGlyphs](A),A.popFont()}}class l extends T{constructor(A){super(A,"li")}}class x extends T{constructor(A){super(A,"ol")}}class X extends T{constructor(A){super(A,"p")}[n.$pushGlyphs](A){super[n.$pushGlyphs](A,!1),A.addString(`
`),A.addPara(),A.popFont()}[n.$text](){return this[n.$getParent]()[n.$getChildren]().at(-1)===this?super[n.$text]():super[n.$text]()+`
`}}class a extends T{constructor(A){super(A,"span")}}class g extends T{constructor(A){super(A,"sub")}}class P extends T{constructor(A){super(A,"sup")}}class G extends T{constructor(A){super(A,"ul")}}class D{static[S.$buildXFAObject](A,v){if(D.hasOwnProperty(A))return D[A](v)}static a(A){return new b(A)}static b(A){return new L(A)}static body(A){return new B(A)}static br(A){return new V(A)}static html(A){return new k(A)}static i(A){return new _(A)}static li(A){return new l(A)}static ol(A){return new x(A)}static p(A){return new X(A)}static span(A){return new a(A)}static sub(A){return new g(A)}static sup(A){return new P(A)}static ul(A){return new G(A)}}m.XhtmlNamespace=D},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.UnknownNamespace=void 0;var n=Q(81),S=Q(87);class N{constructor(t){this.namespaceId=t}[n.$buildXFAObject](t,r){return new S.XmlObject(this.namespaceId,t,r)}}m.UnknownNamespace=N},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.DatasetReader=void 0;var n=Q(2),S=Q(3),N=Q(71);function e(z){try{return(0,n.stringToUTF8String)(z)}catch(j){return(0,n.warn)(`UTF-8 decoding failed: "${j}".`),z}}class t extends N.SimpleXMLParser{constructor(j){super(j),this.node=null}onEndElement(j){const M=super.onEndElement(j);if(M&&j==="xfa:datasets")throw this.node=M,new Error("Aborting DatasetXMLParser.")}}class r{constructor(j){if(j.datasets)this.node=new N.SimpleXMLParser({hasAttributes:!0}).parseFromString(j.datasets).documentElement;else{const M=new t({hasAttributes:!0});try{M.parseFromString(j["xdp:xdp"])}catch{}this.node=M.node}}getValue(j){if(!this.node||!j)return"";const M=this.node.searchNode((0,S.parseXFAPath)(j),0);if(!M)return"";const I=M.firstChild;return(I==null?void 0:I.nodeName)==="value"?M.children.map(d=>e(d.textContent)):e(M.textContent)}}m.DatasetReader=r},(xe,m,Q)=>{var j;Object.defineProperty(m,"__esModule",{value:!0}),m.XRef=void 0;var n=Q(2),S=Q(4),N=Q(16),e=Q(3),t=Q(5),r=Q(74);class z{constructor(I,d){Me(this,j,null);this.stream=I,this.pdfManager=d,this.entries=[],this._xrefStms=new Set,this._cacheMap=new Map,this._pendingRefs=new S.RefSet,this._newPersistentRefNum=null,this._newTemporaryRefNum=null}getNewPersistentRef(I){this._newPersistentRefNum===null&&(this._newPersistentRefNum=this.entries.length||1);const d=this._newPersistentRefNum++;return this._cacheMap.set(d,I),S.Ref.get(d,0)}getNewTemporaryRef(){return this._newTemporaryRefNum===null&&(this._newTemporaryRefNum=this.entries.length||1),S.Ref.get(this._newTemporaryRefNum++,0)}resetNewTemporaryRef(){this._newTemporaryRefNum=null}setStartXRef(I){this.startXRefQueue=[I]}parse(I=!1){let d;I?((0,n.warn)("Indexing all PDF objects"),d=this.indexObjects()):d=this.readXRef(),d.assignXref(this),this.trailer=d;let u;try{u=d.get("Encrypt")}catch(F){if(F instanceof e.MissingDataException)throw F;(0,n.warn)(`XRef.parse - Invalid "Encrypt" reference: "${F}".`)}if(u instanceof S.Dict){const F=d.get("ID"),C=F!=null&&F.length?F[0]:"";u.suppressEncryption=!0,this.encrypt=new r.CipherTransformFactory(u,C,this.pdfManager.password)}let i;try{i=d.get("Root")}catch(F){if(F instanceof e.MissingDataException)throw F;(0,n.warn)(`XRef.parse - Invalid "Root" reference: "${F}".`)}if(i instanceof S.Dict)try{if(i.get("Pages")instanceof S.Dict){this.root=i;return}}catch(F){if(F instanceof e.MissingDataException)throw F;(0,n.warn)(`XRef.parse - Invalid "Pages" reference: "${F}".`)}throw I?new n.InvalidPDFException("Invalid Root reference."):new e.XRefParseException}processXRefTable(I){"tableState"in this||(this.tableState={entryNum:0,streamPos:I.lexer.stream.pos,parserBuf1:I.buf1,parserBuf2:I.buf2});const d=this.readXRefTable(I);if(!(0,S.isCmd)(d,"trailer"))throw new n.FormatError("Invalid XRef table: could not find trailer dictionary");let u=I.getObj();if(!(u instanceof S.Dict)&&u.dict&&(u=u.dict),!(u instanceof S.Dict))throw new n.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,u}readXRefTable(I){const d=I.lexer.stream,u=this.tableState;d.pos=u.streamPos,I.buf1=u.parserBuf1,I.buf2=u.parserBuf2;let i;for(;;){if(!("firstEntryNum"in u)||!("entryCount"in u)){if((0,S.isCmd)(i=I.getObj(),"trailer"))break;u.firstEntryNum=i,u.entryCount=I.getObj()}let F=u.firstEntryNum;const C=u.entryCount;if(!Number.isInteger(F)||!Number.isInteger(C))throw new n.FormatError("Invalid XRef table: wrong types in subsection header");for(let T=u.entryNum;T<C;T++){u.streamPos=d.pos,u.entryNum=T,u.parserBuf1=I.buf1,u.parserBuf2=I.buf2;const b={};b.offset=I.getObj(),b.gen=I.getObj();const L=I.getObj();if(L instanceof S.Cmd)switch(L.cmd){case"f":b.free=!0;break;case"n":b.uncompressed=!0;break}if(!Number.isInteger(b.offset)||!Number.isInteger(b.gen)||!(b.free||b.uncompressed))throw new n.FormatError(`Invalid entry in XRef subsection: ${F}, ${C}`);T===0&&b.free&&F===1&&(F=0),this.entries[T+F]||(this.entries[T+F]=b)}u.entryNum=0,u.streamPos=d.pos,u.parserBuf1=I.buf1,u.parserBuf2=I.buf2,delete u.firstEntryNum,delete u.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new n.FormatError("Invalid XRef table: unexpected first object");return i}processXRefStream(I){if(!("streamState"in this)){const d=I.dict,u=d.get("W");let i=d.get("Index");i||(i=[0,d.get("Size")]),this.streamState={entryRanges:i,byteWidths:u,entryNum:0,streamPos:I.pos}}return this.readXRefStream(I),delete this.streamState,I.dict}readXRefStream(I){const d=this.streamState;I.pos=d.streamPos;const[u,i,F]=d.byteWidths,C=d.entryRanges;for(;C.length>0;){const[T,b]=C;if(!Number.isInteger(T)||!Number.isInteger(b))throw new n.FormatError(`Invalid XRef range fields: ${T}, ${b}`);if(!Number.isInteger(u)||!Number.isInteger(i)||!Number.isInteger(F))throw new n.FormatError(`Invalid XRef entry fields length: ${T}, ${b}`);for(let L=d.entryNum;L<b;++L){d.entryNum=L,d.streamPos=I.pos;let B=0,V=0,k=0;for(let l=0;l<u;++l){const x=I.getByte();if(x===-1)throw new n.FormatError("Invalid XRef byteWidths 'type'.");B=B<<8|x}u===0&&(B=1);for(let l=0;l<i;++l){const x=I.getByte();if(x===-1)throw new n.FormatError("Invalid XRef byteWidths 'offset'.");V=V<<8|x}for(let l=0;l<F;++l){const x=I.getByte();if(x===-1)throw new n.FormatError("Invalid XRef byteWidths 'generation'.");k=k<<8|x}const _={};switch(_.offset=V,_.gen=k,B){case 0:_.free=!0;break;case 1:_.uncompressed=!0;break;case 2:break;default:throw new n.FormatError(`Invalid XRef entry type: ${B}`)}this.entries[T+L]||(this.entries[T+L]=_)}d.entryNum=0,d.streamPos=I.pos,C.splice(0,2)}}indexObjects(){function T(y,c){let h="",O=y[c];for(;O!==10&&O!==13&&O!==60&&!(++c>=y.length);)h+=String.fromCharCode(O),O=y[c];return h}function b(y,c,h){const O=h.length,W=y.length;let R=0;for(;c<W;){let H=0;for(;H<O&&y[c+H]===h[H];)++H;if(H>=O)break;c++,R++}return R}const L=/\b(endobj|\d+\s+\d+\s+obj|xref|trailer\s*<<)\b/g,B=/\b(startxref|\d+\s+\d+\s+obj)\b/g,V=/^(\d+)\s+(\d+)\s+obj\b/,k=new Uint8Array([116,114,97,105,108,101,114]),_=new Uint8Array([115,116,97,114,116,120,114,101,102]),l=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const x=this.stream;x.pos=0;const X=x.getBytes(),a=(0,n.bytesToString)(X),g=X.length;let P=x.start;const G=[],D=[];for(;P<g;){let y=X[P];if(y===9||y===10||y===13||y===32){++P;continue}if(y===37){do{if(++P,P>=g)break;y=X[P]}while(y!==10&&y!==13);continue}const c=T(X,P);let h;if(c.startsWith("xref")&&(c.length===4||/\s/.test(c[4])))P+=b(X,P,k),G.push(P),P+=b(X,P,_);else if(h=V.exec(c)){const O=h[1]|0,W=h[2]|0,R=P+c.length;let H,ae=!1;if(!this.entries[O])ae=!0;else if(this.entries[O].gen===W)try{new N.Parser({lexer:new N.Lexer(x.makeSubStream(R))}).getObj(),ae=!0}catch(se){se instanceof e.ParserEOFException?(0,n.warn)(`indexObjects -- checking object (${c}): "${se}".`):ae=!0}ae&&(this.entries[O]={offset:P-x.start,gen:W,uncompressed:!0}),L.lastIndex=R;const q=L.exec(a);q?(H=L.lastIndex+1-P,q[1]!=="endobj"&&((0,n.warn)(`indexObjects: Found "${q[1]}" inside of another "obj", caused by missing "endobj" -- trying to recover.`),H-=q[1].length+1)):H=g-P;const ce=X.subarray(P,P+H),ee=b(ce,0,l);ee<H&&ce[ee+5]<64&&(D.push(P-x.start),this._xrefStms.add(P-x.start)),P+=H}else if(c.startsWith("trailer")&&(c.length===7||/\s/.test(c[7]))){G.push(P);const O=P+c.length;let W;B.lastIndex=O;const R=B.exec(a);R?(W=B.lastIndex+1-P,R[1]!=="startxref"&&((0,n.warn)(`indexObjects: Found "${R[1]}" after "trailer", caused by missing "startxref" -- trying to recover.`),W-=R[1].length+1)):W=g-P,P+=W}else P+=c.length+1}for(const y of D)this.startXRefQueue.push(y),this.readXRef(!0);const w=[];let A=!1;for(const y of G){x.pos=y;const c=new N.Parser({lexer:new N.Lexer(x),xref:this,allowStreams:!0,recoveryMode:!0}),h=c.getObj();if(!(0,S.isCmd)(h,"trailer"))continue;const O=c.getObj();O instanceof S.Dict&&(w.push(O),O.has("Encrypt")&&(A=!0))}let v,o;for(const y of[...w,"genFallback",...w]){if(y==="genFallback"){if(!o)break;this._generationFallback=!0;continue}let c=!1;try{const h=y.get("Root");if(!(h instanceof S.Dict))continue;const O=h.get("Pages");if(!(O instanceof S.Dict))continue;const W=O.get("Count");Number.isInteger(W)&&(c=!0)}catch(h){o=h;continue}if(c&&(!A||y.has("Encrypt"))&&y.has("ID"))return y;v=y}if(v)return v;if(this.topDict)return this.topDict;throw new n.InvalidPDFException("Invalid PDF structure.")}readXRef(I=!1){const d=this.stream,u=new Set;for(;this.startXRefQueue.length;){try{const i=this.startXRefQueue[0];if(u.has(i)){(0,n.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}u.add(i),d.pos=i+d.start;const F=new N.Parser({lexer:new N.Lexer(d),xref:this,allowStreams:!0});let C=F.getObj(),T;if((0,S.isCmd)(C,"xref"))T=this.processXRefTable(F),this.topDict||(this.topDict=T),C=T.get("XRefStm"),Number.isInteger(C)&&!this._xrefStms.has(C)&&(this._xrefStms.add(C),this.startXRefQueue.push(C),pe(this,j)??Xe(this,j,C));else if(Number.isInteger(C)){if(!Number.isInteger(F.getObj())||!(0,S.isCmd)(F.getObj(),"obj")||!((C=F.getObj())instanceof t.BaseStream))throw new n.FormatError("Invalid XRef stream");if(T=this.processXRefStream(C),this.topDict||(this.topDict=T),!T)throw new n.FormatError("Failed to read XRef stream")}else throw new n.FormatError("Invalid XRef stream header");C=T.get("Prev"),Number.isInteger(C)?this.startXRefQueue.push(C):C instanceof S.Ref&&this.startXRefQueue.push(C.num)}catch(i){if(i instanceof e.MissingDataException)throw i;(0,n.info)("(while reading XRef): "+i)}this.startXRefQueue.shift()}if(this.topDict)return this.topDict;if(!I)throw new e.XRefParseException}get lastXRefStreamPos(){return pe(this,j)??(this._xrefStms.size>0?Math.max(...this._xrefStms):null)}getEntry(I){const d=this.entries[I];return d&&!d.free&&d.offset?d:null}fetchIfRef(I,d=!1){return I instanceof S.Ref?this.fetch(I,d):I}fetch(I,d=!1){if(!(I instanceof S.Ref))throw new Error("ref object is not a reference");const u=I.num,i=this._cacheMap.get(u);if(i!==void 0)return i instanceof S.Dict&&!i.objId&&(i.objId=I.toString()),i;let F=this.getEntry(u);if(F===null)return this._cacheMap.set(u,F),F;if(this._pendingRefs.has(I))return this._pendingRefs.remove(I),(0,n.warn)(`Ignoring circular reference: ${I}.`),S.CIRCULAR_REF;this._pendingRefs.put(I);try{F=F.uncompressed?this.fetchUncompressed(I,F,d):this.fetchCompressed(I,F,d),this._pendingRefs.remove(I)}catch(C){throw this._pendingRefs.remove(I),C}return F instanceof S.Dict?F.objId=I.toString():F instanceof t.BaseStream&&(F.dict.objId=I.toString()),F}fetchUncompressed(I,d,u=!1){const i=I.gen;let F=I.num;if(d.gen!==i){const V=`Inconsistent generation in XRef: ${I}`;if(this._generationFallback&&d.gen<i)return(0,n.warn)(V),this.fetchUncompressed(S.Ref.get(F,d.gen),d,u);throw new e.XRefEntryException(V)}const C=this.stream.makeSubStream(d.offset+this.stream.start),T=new N.Parser({lexer:new N.Lexer(C),xref:this,allowStreams:!0}),b=T.getObj(),L=T.getObj(),B=T.getObj();if(b!==F||L!==i||!(B instanceof S.Cmd))throw new e.XRefEntryException(`Bad (uncompressed) XRef entry: ${I}`);if(B.cmd!=="obj"){if(B.cmd.startsWith("obj")&&(F=parseInt(B.cmd.substring(3),10),!Number.isNaN(F)))return F;throw new e.XRefEntryException(`Bad (uncompressed) XRef entry: ${I}`)}return d=this.encrypt&&!u?T.getObj(this.encrypt.createCipherTransform(F,i)):T.getObj(),d instanceof t.BaseStream||this._cacheMap.set(F,d),d}fetchCompressed(I,d,u=!1){const i=d.offset,F=this.fetch(S.Ref.get(i,0));if(!(F instanceof t.BaseStream))throw new n.FormatError("bad ObjStm stream");const C=F.dict.get("First"),T=F.dict.get("N");if(!Number.isInteger(C)||!Number.isInteger(T))throw new n.FormatError("invalid first and n parameters for ObjStm stream");let b=new N.Parser({lexer:new N.Lexer(F),xref:this,allowStreams:!0});const L=new Array(T),B=new Array(T);for(let _=0;_<T;++_){const l=b.getObj();if(!Number.isInteger(l))throw new n.FormatError(`invalid object number in the ObjStm stream: ${l}`);const x=b.getObj();if(!Number.isInteger(x))throw new n.FormatError(`invalid object offset in the ObjStm stream: ${x}`);L[_]=l,B[_]=x}const V=(F.start||0)+C,k=new Array(T);for(let _=0;_<T;++_){const l=_<T-1?B[_+1]-B[_]:void 0;if(l<0)throw new n.FormatError("Invalid offset in the ObjStm stream.");b=new N.Parser({lexer:new N.Lexer(F.makeSubStream(V+B[_],l,F.dict)),xref:this,allowStreams:!0});const x=b.getObj();if(k[_]=x,x instanceof t.BaseStream)continue;const X=L[_],a=this.entries[X];a&&a.offset===i&&a.gen===_&&this._cacheMap.set(X,x)}if(d=k[d.gen],d===void 0)throw new e.XRefEntryException(`Bad (compressed) XRef entry: ${I}`);return d}async fetchIfRefAsync(I,d){return I instanceof S.Ref?this.fetchAsync(I,d):I}async fetchAsync(I,d){try{return this.fetch(I,d)}catch(u){if(!(u instanceof e.MissingDataException))throw u;return await this.pdfManager.requestRange(u.begin,u.end),this.fetchAsync(I,d)}}getCatalogObj(){return this.root}}j=new WeakMap,m.XRef=z},(xe,m,Q)=>{var r,Vs,j,qs,I,Jn;Object.defineProperty(m,"__esModule",{value:!0}),m.MessageHandler=void 0;var n=Q(2);const S={UNKNOWN:0,DATA:1,ERROR:2},N={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function e(u){switch(u instanceof Error||typeof u=="object"&&u!==null||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),u.name){case"AbortException":return new n.AbortException(u.message);case"MissingPDFException":return new n.MissingPDFException(u.message);case"PasswordException":return new n.PasswordException(u.message,u.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(u.message,u.status);case"UnknownErrorException":return new n.UnknownErrorException(u.message,u.details);default:return new n.UnknownErrorException(u.message,u.toString())}}class t{constructor(i,F,C){Me(this,r);Me(this,j);Me(this,I);this.sourceName=i,this.targetName=F,this.comObj=C,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=T=>{const b=T.data;if(b.targetName!==this.sourceName)return;if(b.stream){Ne(this,j,qs).call(this,b);return}if(b.callback){const B=b.callbackId,V=this.callbackCapabilities[B];if(!V)throw new Error(`Cannot resolve callback ${B}`);if(delete this.callbackCapabilities[B],b.callback===S.DATA)V.resolve(b.data);else if(b.callback===S.ERROR)V.reject(e(b.reason));else throw new Error("Unexpected callback case");return}const L=this.actionHandler[b.action];if(!L)throw new Error(`Unknown action from worker: ${b.action}`);if(b.callbackId){const B=this.sourceName,V=b.sourceName;new Promise(function(k){k(L(b.data))}).then(function(k){C.postMessage({sourceName:B,targetName:V,callback:S.DATA,callbackId:b.callbackId,data:k})},function(k){C.postMessage({sourceName:B,targetName:V,callback:S.ERROR,callbackId:b.callbackId,reason:e(k)})});return}if(b.streamId){Ne(this,r,Vs).call(this,b);return}L(b.data)},C.addEventListener("message",this._onComObjOnMessage)}on(i,F){const C=this.actionHandler;if(C[i])throw new Error(`There is already an actionName called "${i}"`);C[i]=F}send(i,F,C){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:i,data:F},C)}sendWithPromise(i,F,C){const T=this.callbackId++,b=new n.PromiseCapability;this.callbackCapabilities[T]=b;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:i,callbackId:T,data:F},C)}catch(L){b.reject(L)}return b.promise}sendWithStream(i,F,C,T){const b=this.streamId++,L=this.sourceName,B=this.targetName,V=this.comObj;return new ReadableStream({start:k=>{const _=new n.PromiseCapability;return this.streamControllers[b]={controller:k,startCall:_,pullCall:null,cancelCall:null,isClosed:!1},V.postMessage({sourceName:L,targetName:B,action:i,streamId:b,data:F,desiredSize:k.desiredSize},T),_.promise},pull:k=>{const _=new n.PromiseCapability;return this.streamControllers[b].pullCall=_,V.postMessage({sourceName:L,targetName:B,stream:N.PULL,streamId:b,desiredSize:k.desiredSize}),_.promise},cancel:k=>{(0,n.assert)(k instanceof Error,"cancel must have a valid reason");const _=new n.PromiseCapability;return this.streamControllers[b].cancelCall=_,this.streamControllers[b].isClosed=!0,V.postMessage({sourceName:L,targetName:B,stream:N.CANCEL,streamId:b,reason:e(k)}),_.promise}},C)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}r=new WeakSet,Vs=function(i){const F=i.streamId,C=this.sourceName,T=i.sourceName,b=this.comObj,L=this,B=this.actionHandler[i.action],V={enqueue(k,_=1,l){if(this.isCancelled)return;const x=this.desiredSize;this.desiredSize-=_,x>0&&this.desiredSize<=0&&(this.sinkCapability=new n.PromiseCapability,this.ready=this.sinkCapability.promise),b.postMessage({sourceName:C,targetName:T,stream:N.ENQUEUE,streamId:F,chunk:k},l)},close(){this.isCancelled||(this.isCancelled=!0,b.postMessage({sourceName:C,targetName:T,stream:N.CLOSE,streamId:F}),delete L.streamSinks[F])},error(k){(0,n.assert)(k instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,b.postMessage({sourceName:C,targetName:T,stream:N.ERROR,streamId:F,reason:e(k)}))},sinkCapability:new n.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:i.desiredSize,ready:null};V.sinkCapability.resolve(),V.ready=V.sinkCapability.promise,this.streamSinks[F]=V,new Promise(function(k){k(B(i.data,V))}).then(function(){b.postMessage({sourceName:C,targetName:T,stream:N.START_COMPLETE,streamId:F,success:!0})},function(k){b.postMessage({sourceName:C,targetName:T,stream:N.START_COMPLETE,streamId:F,reason:e(k)})})},j=new WeakSet,qs=function(i){const F=i.streamId,C=this.sourceName,T=i.sourceName,b=this.comObj,L=this.streamControllers[F],B=this.streamSinks[F];switch(i.stream){case N.START_COMPLETE:i.success?L.startCall.resolve():L.startCall.reject(e(i.reason));break;case N.PULL_COMPLETE:i.success?L.pullCall.resolve():L.pullCall.reject(e(i.reason));break;case N.PULL:if(!B){b.postMessage({sourceName:C,targetName:T,stream:N.PULL_COMPLETE,streamId:F,success:!0});break}B.desiredSize<=0&&i.desiredSize>0&&B.sinkCapability.resolve(),B.desiredSize=i.desiredSize,new Promise(function(V){var k;V((k=B.onPull)==null?void 0:k.call(B))}).then(function(){b.postMessage({sourceName:C,targetName:T,stream:N.PULL_COMPLETE,streamId:F,success:!0})},function(V){b.postMessage({sourceName:C,targetName:T,stream:N.PULL_COMPLETE,streamId:F,reason:e(V)})});break;case N.ENQUEUE:if((0,n.assert)(L,"enqueue should have stream controller"),L.isClosed)break;L.controller.enqueue(i.chunk);break;case N.CLOSE:if((0,n.assert)(L,"close should have stream controller"),L.isClosed)break;L.isClosed=!0,L.controller.close(),Ne(this,I,Jn).call(this,L,F);break;case N.ERROR:(0,n.assert)(L,"error should have stream controller"),L.controller.error(e(i.reason)),Ne(this,I,Jn).call(this,L,F);break;case N.CANCEL_COMPLETE:i.success?L.cancelCall.resolve():L.cancelCall.reject(e(i.reason)),Ne(this,I,Jn).call(this,L,F);break;case N.CANCEL:if(!B)break;new Promise(function(V){var k;V((k=B.onCancel)==null?void 0:k.call(B,e(i.reason)))}).then(function(){b.postMessage({sourceName:C,targetName:T,stream:N.CANCEL_COMPLETE,streamId:F,success:!0})},function(V){b.postMessage({sourceName:C,targetName:T,stream:N.CANCEL_COMPLETE,streamId:F,reason:e(V)})}),B.sinkCapability.reject(e(i.reason)),B.isCancelled=!0,delete this.streamSinks[F];break;default:throw new Error("Unexpected stream case")}},I=new WeakSet,Jn=async function(i,F){var C,T,b;await Promise.allSettled([(C=i.startCall)==null?void 0:C.promise,(T=i.pullCall)==null?void 0:T.promise,(b=i.cancelCall)==null?void 0:b.promise]),delete this.streamControllers[F]},m.MessageHandler=t},(xe,m,Q)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFWorkerStream=void 0;var n=Q(2);class S{constructor(r){this._msgHandler=r,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new N(this._msgHandler),this._fullRequestReader}getRangeReader(r,z){const j=new e(r,z,this._msgHandler);return this._rangeRequestReaders.push(j),j}cancelAllRequests(r){var z;(z=this._fullRequestReader)==null||z.cancel(r);for(const j of this._rangeRequestReaders.slice(0))j.cancel(r)}}m.PDFWorkerStream=S;class N{constructor(r){this._msgHandler=r,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const z=this._msgHandler.sendWithStream("GetReader");this._reader=z.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(j=>{this._isStreamingSupported=j.isStreamingSupported,this._isRangeSupported=j.isRangeSupported,this._contentLength=j.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:r,done:z}=await this._reader.read();return z?{value:void 0,done:!0}:{value:r.buffer,done:!1}}cancel(r){this._reader.cancel(r)}}class e{constructor(r,z,j){this._msgHandler=j,this.onProgress=null;const M=this._msgHandler.sendWithStream("GetRangeReader",{begin:r,end:z});this._reader=M.getReader()}get isStreamingSupported(){return!1}async read(){const{value:r,done:z}=await this._reader.read();return z?{value:void 0,done:!0}:{value:r.buffer,done:!1}}cancel(r){this._reader.cancel(r)}}}],ne={};function fe(xe){var m=ne[xe];if(m!==void 0)return m.exports;var Q=ne[xe]={exports:{}};return de[xe](Q,Q.exports,fe),Q.exports}var we={};return(()=>{var xe=we;Object.defineProperty(xe,"__esModule",{value:!0}),Object.defineProperty(xe,"WorkerMessageHandler",{enumerable:!0,get:function(){return m.WorkerMessageHandler}});var m=fe(1)})(),we})())})(pdf_worker);var pdf_workerExports=pdf_worker.exports;(typeof window<"u"?window:{}).pdfjsWorker=pdf_workerExports;const _withScopeId$3=f=>(pushScopeId("data-v-10fbc12c"),f=f(),popScopeId(),f),_hoisted_1$7={class:"narrow-box"},_hoisted_2$6=_withScopeId$3(()=>createBaseVNode("p",null,"Wczytaj faktury z Latvijas Finieris w formacie pdf.",-1)),_hoisted_3$6=_withScopeId$3(()=>createBaseVNode("p",null,"Możesz wybrać kilka plików jednocześnie.",-1)),_hoisted_4$3=_withScopeId$3(()=>createBaseVNode("div",{class:"button-bar"},[createBaseVNode("label",{for:"file-upload",class:"button cta"},"Dodaj pliki")],-1)),_sfc_main$7=defineComponent({__name:"AddByUpload",setup(f){const E=useLabelsStore(),de=/\b\d+x\d+x\d+\b/i,ne=/\b(Contract)\b/i,fe=/\b\d+x\d+\b/i,we=/\b(EXT|WD|INT|MR)\b/i,xe=/\b(Birch plywood|EXT|WD|INT|MR)\b/i;async function m(j){const M=j.target,I=M.files,d=await Q(I),u=n(d),i=S(u);E.addItem(...i),M.value=""}async function Q(j){const M=j.length;let I=[];for(let d=0;d<M;d++){const u=j[d];if(u.type!=="application/pdf"){console.log(`Invalid file type: ${u.type}`,u);continue}const i=await u.arrayBuffer(),F=await pdfExports.getDocument(i).promise,C=F.numPages;for(let T=1;T<=C;T++){const L=await(await F.getPage(T)).getTextContent(),B=L.items.length;for(let V=0;V<B;V++){const _=L.items[V].str;I.push(_)}}}return I}function n(j){let M=[];const I=j.length;for(let d=0;d<I;d++){let u=M[M.length-1],i=j[d],F=0;if(F+=de.test(i)?1:0,F+=ne.test(i)?1:0,F+=fe.test(i)?1:0,F+=xe.test(i)?1:0,xe.test(u)&&xe.test(i)){M[M.length-1]=`${u} ${i}`;continue}F>0&&M.push(i)}return M}function S(j){let M=[];const I=j.length;let d="",u="",i="",F="",C="",T="",b="";for(let L=0;L<I;L++){const B=j[L];if(ne.test(B)&&(u=r(B),b="contractNo"),we.test(B)&&(C=z(B),b="itemGlueing"),xe.test(B)&&(T=N(B),b="itemDescription"),de.test(B)&&(d=e(B),b="itemSize"),fe.test(B)){const V=t(B);i=V[0],F=V[1],b="itemPacking"}b==="itemPacking"&&(M.push({contract:u,longDesc:T,itemSize:d,itemGlue:C,packsCount:i,packSize:F}),b="")}return M}function N(j){const M=(j==null?void 0:j.split(", "))||[];let I=[];for(let d of M)d.match(/(edges sealed|Const|Spec|441233\d\d|\(1\)\(2\)|RAL|EXT|WD|INT|MR)/i)||(d=d.replace(/\b(Birch plywood RIGA|MEL|TEX|FORM|PLY|COMPOSITE)\b/gi,"").replace(/\b(CODE|WPC|SP1|1F45M|R7010|without|\d{5,})\b/gi,"").trim(),I.push(d));return I.join(" ")||"it's null"}function e(j){return((j==null?void 0:j.match(/\b\d+([,.]\d+)?x\d+x\d+\b/i))||["0x0x0"])[0]}function t(j){return(j.match(/\b\d+x\d+\b/i)||["1x0"])[0].split("x")}function r(j){return j.replace(/Contract No\.:/i,"").trim()}function z(j){return(j.match(/\b(EXT|WD|INT|MR)\b/i)||[""])[0]}return(j,M)=>(openBlock(),createElementBlock("section",null,[createBaseVNode("div",_hoisted_1$7,[_hoisted_2$6,_hoisted_3$6,_hoisted_4$3,createBaseVNode("input",{type:"file",name:"file-upload",id:"file-upload",class:"",multiple:"",onChange:m,hidden:""},null,32)])]))}}),AddByUpload_vue_vue_type_style_index_0_scoped_10fbc12c_lang="",_export_sfc=(f,E)=>{const de=f.__vccOpts||f;for(const[ne,fe]of E)de[ne]=fe;return de},AddByUpload=_export_sfc(_sfc_main$7,[["__scopeId","data-v-10fbc12c"]]),_hoisted_1$6={class:"narrow-box"},_hoisted_2$5=["onSubmit"],_hoisted_3$5=createStaticVNode('<input type="text" name="itemSize" class="item-size" placeholder="duży tekst" data-v-ff9be772><textarea name="longDesc" class="long-desc" placeholder="średni tekst" data-v-ff9be772></textarea><section class="inputs-in-row" data-v-ff9be772><select name="itemGlue" class="item-glue" data-v-ff9be772><option value="" data-v-ff9be772>Klej</option><option value="EXT" data-v-ff9be772>EXT</option><option value="WD" data-v-ff9be772>WD</option><option value="INT" data-v-ff9be772>INT</option><option value="MR" data-v-ff9be772>MR</option></select><input type="number" name="packsCount" class="packs-count" placeholder="paczki" min="1" value="1" data-v-ff9be772><span data-v-ff9be772>x</span><input type="number" name="packSize" class="pack-size" placeholder="sztuki" min="0" value="0" data-v-ff9be772><span data-v-ff9be772>szt.</span></section><input type="text" name="contract" class="contract-number" placeholder="mały tekst" data-v-ff9be772><div class="button-bar" data-v-ff9be772><button type="reset" data-v-ff9be772>Wyczyść formularz</button><button type="submit" class="cta" data-v-ff9be772>Dodaj etykietę</button></div>',5),_hoisted_8$1=[_hoisted_3$5],_sfc_main$6=defineComponent({__name:"AddByForm",setup(f){const E=useLabelsStore();function de(ne){ne.preventDefault();const fe=ne.target,we=new FormData(fe),xe=Object.fromEntries([...we.entries()]);E.addItem(xe)}return(ne,fe)=>(openBlock(),createElementBlock("section",null,[createBaseVNode("div",_hoisted_1$6,[createBaseVNode("form",{class:"add-item-form",onSubmit:withModifiers(de,["prevent"]),autocomplete:"on"},_hoisted_8$1,40,_hoisted_2$5)])]))}}),AddByForm_vue_vue_type_style_index_0_scoped_ff9be772_lang="",AddByForm=_export_sfc(_sfc_main$6,[["__scopeId","data-v-ff9be772"]]),_hoisted_1$5={class:"choice"},_hoisted_2$4={class:"choice-menu"},_hoisted_3$4=["onClick"],_sfc_main$5=defineComponent({__name:"InputChoice",setup(f){const E={AddByUpload,AddByForm},de=ref("AddByUpload"),ne=[{label:"Wybierz pliki z komputera",comp:"AddByUpload"},{label:"Dodaj przez formularz",comp:"AddByForm"}];return(fe,we)=>(openBlock(),createElementBlock("section",_hoisted_1$5,[createBaseVNode("menu",_hoisted_2$4,[(openBlock(),createElementBlock(Fragment,null,renderList(ne,(xe,m)=>createBaseVNode("li",{key:m,class:normalizeClass(["choose-item",{active:de.value===xe.comp}]),onClick:Q=>de.value=xe.comp},toDisplayString(xe.label),11,_hoisted_3$4)),64))]),(openBlock(),createBlock(resolveDynamicComponent(E[de.value]),{class:""}))]))}}),InputChoice_vue_vue_type_style_index_0_scoped_0b00d1fe_lang="",InputChoice=_export_sfc(_sfc_main$5,[["__scopeId","data-v-0b00d1fe"]]),_withScopeId$2=f=>(pushScopeId("data-v-cf6a8835"),f=f(),popScopeId(),f),_hoisted_1$4={key:0},_hoisted_2$3={class:"button-bar narrow-box"},_hoisted_3$3={class:"page-count"},_hoisted_4$2=_withScopeId$2(()=>createBaseVNode("span",{class:"page-count__info","data-tip":"Liczba stron powinna zgadzać się z ilością paczek na CMR."},"?",-1)),_hoisted_5$1=_withScopeId$2(()=>createBaseVNode("button",{class:"cta",onclick:"window.print()"},"Drukuj",-1)),_sfc_main$4=defineComponent({__name:"PageCount",setup(f){const E=useLabelsStore();function de(ne,fe,we,xe){let m="";return xe===1?m=ne:xe%10>1&&xe%10<5&&(xe%100<10||xe%100>20)?m=fe:xe>=5&&(m=we),m}return(ne,fe)=>unref(E).items.length>0?(openBlock(),createElementBlock("section",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$3,[createBaseVNode("span",_hoisted_3$3,toDisplayString(`${unref(E).count()} ${de("strona","strony","stron",unref(E).count())}`),1),_hoisted_4$2,_hoisted_5$1,createBaseVNode("button",{onClick:fe[0]||(fe[0]=we=>unref(E).removeAll())},"Usuń wszystkie")])])):createCommentVNode("",!0)}}),PageCount_vue_vue_type_style_index_0_scoped_cf6a8835_lang="",PageCount=_export_sfc(_sfc_main$4,[["__scopeId","data-v-cf6a8835"]]),_hoisted_1$3={class:"smart-input"},_hoisted_2$2={class:"size-holder"},_hoisted_3$2=["value"],_sfc_main$3=defineComponent({__name:"SmartInput",props:{labelIndex:Number,labelProp:String},setup(f){const E=f,de=useLabelsStore(),ne=E.labelIndex||0,fe=E.labelProp||"",we=computed(()=>{const m=de.items[ne];return ne!==void 0&&fe!==""?m[fe]:"ERROR"});function xe(m){const n=m.target.value;ne!==void 0&&fe!==""&&de.updateItem(ne,fe,n)}return(m,Q)=>(openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("span",_hoisted_2$2,toDisplayString(we.value),1),createBaseVNode("input",{class:"size-filler",type:"text",value:we.value,onBlur:xe,onKeyup:xe},null,40,_hoisted_3$2)]))}}),SmartInput_vue_vue_type_style_index_0_scoped_28fef086_lang="",SmartInput=_export_sfc(_sfc_main$3,[["__scopeId","data-v-28fef086"]]),_withScopeId$1=f=>(pushScopeId("data-v-37fbac73"),f=f(),popScopeId(),f),_hoisted_1$2={class:"nowrap"},_hoisted_2$1=_withScopeId$1(()=>createBaseVNode("span",null," x ",-1)),_hoisted_3$1=["onClick"],_hoisted_4$1=_withScopeId$1(()=>createBaseVNode("hr",{class:"divider narrow-box"},null,-1)),_sfc_main$2=defineComponent({__name:"Results",setup(f){const E=useLabelsStore();return(de,ne)=>(openBlock(),createElementBlock("section",null,[createBaseVNode("table",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(E).items,({},fe)=>(openBlock(),createElementBlock("tr",{key:fe},[createBaseVNode("td",null,toDisplayString(fe+1)+".",1),createBaseVNode("td",null,[createVNode(SmartInput,{"label-index":fe,"label-prop":"itemSize"},null,8,["label-index"])]),createBaseVNode("td",null,[createVNode(SmartInput,{"label-index":fe,"label-prop":"longDesc",class:"long-width"},null,8,["label-index"])]),createBaseVNode("td",null,[createVNode(SmartInput,{"label-index":fe,"label-prop":"itemGlue",class:"short-width"},null,8,["label-index"])]),createBaseVNode("td",_hoisted_1$2,[createVNode(SmartInput,{"label-index":fe,"label-prop":"packsCount",class:"short-width"},null,8,["label-index"]),_hoisted_2$1,createVNode(SmartInput,{"label-index":fe,"label-prop":"packSize",class:"short-width"},null,8,["label-index"])]),createBaseVNode("td",null,[createVNode(SmartInput,{"label-index":fe,"label-prop":"contract"},null,8,["label-index"])]),createBaseVNode("td",null,[createBaseVNode("button",{onClick:we=>unref(E).removeItem(fe)},"Usuń",8,_hoisted_3$1)])]))),128))]),_hoisted_4$1]))}}),Results_vue_vue_type_style_index_0_scoped_37fbac73_lang="",Results=_export_sfc(_sfc_main$2,[["__scopeId","data-v-37fbac73"]]),_withScopeId=f=>(pushScopeId("data-v-b5bf3232"),f=f(),popScopeId(),f),_hoisted_1$1={class:"page"},_hoisted_2={class:"label"},_hoisted_3={class:"label__item-size"},_hoisted_4={class:"label__long-desc"},_hoisted_5={class:"label__item-glue"},_hoisted_6={class:"label__contract"},_hoisted_7={key:0,class:"label__pack-size"},_hoisted_8=_withScopeId(()=>createBaseVNode("hr",{class:"label-divider"},null,-1)),_hoisted_9={class:"label"},_hoisted_10={class:"label__item-size"},_hoisted_11={class:"label__long-desc"},_hoisted_12={class:"label__item-glue"},_hoisted_13={class:"label__contract"},_hoisted_14={key:0,class:"label__pack-size"},_sfc_main$1=defineComponent({__name:"Print",setup(f){const E=useLabelsStore();return(de,ne)=>(openBlock(),createElementBlock("section",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(E).items,({contract:fe,longDesc:we,itemSize:xe,itemGlue:m,packsCount:Q,packSize:n},S)=>(openBlock(),createElementBlock(Fragment,{key:S},[(openBlock(!0),createElementBlock(Fragment,null,renderList(+Q,N=>(openBlock(),createElementBlock("section",_hoisted_1$1,[createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,toDisplayString(xe),1),createBaseVNode("div",_hoisted_4,toDisplayString(we),1),createBaseVNode("span",_hoisted_5,toDisplayString(m),1),createBaseVNode("span",_hoisted_6,toDisplayString(fe),1),Number(n)>0?(openBlock(),createElementBlock("span",_hoisted_7,toDisplayString(n),1)):createCommentVNode("",!0)]),_hoisted_8,createBaseVNode("div",_hoisted_9,[createBaseVNode("div",_hoisted_10,toDisplayString(xe),1),createBaseVNode("div",_hoisted_11,toDisplayString(we),1),createBaseVNode("span",_hoisted_12,toDisplayString(m),1),createBaseVNode("span",_hoisted_13,toDisplayString(fe),1),Number(n)>0?(openBlock(),createElementBlock("span",_hoisted_14,toDisplayString(n),1)):createCommentVNode("",!0)])]))),256))],64))),128))]))}}),Print_vue_vue_type_style_index_0_scoped_b5bf3232_lang="",Print=_export_sfc(_sfc_main$1,[["__scopeId","data-v-b5bf3232"]]),_hoisted_1=createBaseVNode("header",{class:"noprint"},[createBaseVNode("h1",null,"Etykieter")],-1),_sfc_main=defineComponent({__name:"App",setup(f){return useLabelsStore(),(E,de)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1,createVNode(InputChoice,{class:"noprint"}),createVNode(PageCount,{class:"noprint"}),createVNode(Results,{class:"noprint"}),createVNode(Print,{class:"printme"})],64))}}),App_vue_vue_type_style_index_0_lang="",app=createApp(_sfc_main);app.use(createPinia());app.mount("#app");
